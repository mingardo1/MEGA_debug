<!DOCTYPE html>
<html lang="en">
          <head>
            <meta charset="utf-8">
            <title>180 chunks</title>
                <style>
                    #top {
                        height: 48vh;
                        overflow-y: auto;
                    }
                    #bottom {
                        height: 48vh;
                        overflow-y: auto;
                    }
                </style>
          </head>
          <body>
            <pre>[[{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27; * The default implementation of the {@link &#x27;
                         &#x27;AdminAbstractController}. This delegates every call &#x27;
                         &#x27;to \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27; * The default implementation of the {@link &#x27;
                           &#x27;AdminAbstractController}. This delegates every &#x27;
                           &#x27;call to\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;    \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;                \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;                \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;            \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &quot;    // If the entity type isn&#x27;t specified, we need &quot;
                         &#x27;to determine if there are various polymorphic \n&#x27;
                         &#x27;    // types for this entity.\n&#x27;
                         &#x27;    protected String determineEntityType(String &#x27;
                         &#x27;entityType, final ClassMetadata cmd) \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &quot;    // If the entity type isn&#x27;t specified, we need &quot;
                           &#x27;to determine if there are various polymorphic\n&#x27;
                           &#x27;    // types for this entity.\n&#x27;
                           &#x27;    protected String determineEntityType(String &#x27;
                           &#x27;entityType, final ClassMetadata cmd)\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;            final HttpServletResponse response, \n&#x27;
                         &#x27;            final Model model,\n&#x27;
                         &#x27;            @PathVariable final Map&lt;String, String&gt; &#x27;
                         &#x27;pathVars,\n&#x27;
                         &#x27;            @PathVariable(value = &quot;id&quot;) final String &#x27;
                         &#x27;id,\n&#x27;
                         &#x27;            @ModelAttribute(value = &quot;entityForm&quot;) &#x27;
                         &#x27;final EntityForm entityForm,\n&#x27;
                         &#x27;            final BindingResult result) throws &#x27;
                         &#x27;Exception {\n&#x27;
                         &#x27;        final String sectionKey = &#x27;
                         &#x27;getSectionKey(pathVars);\n&#x27;
                         &#x27;        final String sectionClassName = &#x27;
                         &#x27;getClassNameForSection(sectionKey);\n&#x27;
                         &#x27;        final Class&lt;?&gt; entityClass = &#x27;
                         &#x27;dynamicEntityDao.getImplClass(sectionClassName);\n&#x27;
                         &#x27;        final long identifier = Long.parseLong(id);\n&#x27;
                         &#x27;        \n&#x27;
                         &#x27;        if (duplicator.validate(entityClass, &#x27;
                         &#x27;identifier)) {\n&#x27;
                         &#x27;            final Object duplicate;\n&#x27;
                         &#x27;            \n&#x27;
                         &#x27;            try {\n&#x27;
                         &#x27;                duplicate = &#x27;
                         &#x27;duplicator.copy(entityClass, identifier);\n&#x27;
                         &#x27;            } catch (Exception e) {\n&#x27;
                         &#x27;                LOG.error(&quot;Could not duplicate &#x27;
                         &#x27;entity&quot;, e);\n&#x27;
                         &#x27;                return &#x27;
                         &#x27;getErrorDuplicatingResponse(response, &#x27;
                         &#x27;&quot;Duplication_Failure&quot;);\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;            final Serializable dupId = &#x27;
                         &#x27;genericEntityService.getIdentifier(duplicate);\n&#x27;
                         &#x27;            \n&#x27;
                         &#x27;            // Note that AJAX Redirects need the &#x27;
                         &#x27;context path prepended to them\n&#x27;
                         &#x27;            return &quot;ajaxredirect:&quot; + &#x27;
                         &#x27;getContextPath(request) + sectionKey + &quot;/&quot; + dupId;\n&#x27;
                         &#x27;        } else {\n&#x27;
                         &#x27;            return &#x27;
                         &#x27;getErrorDuplicatingResponse(response, &#x27;
                         &#x27;&quot;Validation_Failure&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    protected String &#x27;
                         &#x27;getErrorDuplicatingResponse(HttpServletResponse &#x27;
                         &#x27;response, String code) {\n&#x27;
                         &#x27;        List&lt;Map&lt;String, Object&gt;&gt; errors = new &#x27;
                         &#x27;ArrayList&lt;&gt;();\n&#x27;
                         &#x27;        String message;\n&#x27;
                         &#x27;        BroadleafRequestContext context = &#x27;
                         &#x27;BroadleafRequestContext.getBroadleafRequestContext();\n&#x27;
                         &#x27;        if (context != null &amp;&amp; &#x27;
                         &#x27;context.getMessageSource() != null) {\n&#x27;
                         &#x27;            message = context.getMessageSource()\n&#x27;
                         &#x27;                    .getMessage(code, null, code, &#x27;
                         &#x27;context.getJavaLocale());\n&#x27;
                         &#x27;        } else {\n&#x27;
                         &#x27;            LOG.warn(\n&#x27;
                         &#x27;                    &quot;Could not find the &#x27;
                         &#x27;MessageSource on the current request, &quot; \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;            final HttpServletResponse response,\n&#x27;
                           &#x27;            final Model model,\n&#x27;
                           &#x27;            @PathVariable final Map&lt;String, &#x27;
                           &#x27;String&gt; pathVars,\n&#x27;
                           &#x27;            @PathVariable(value = &quot;id&quot;) final &#x27;
                           &#x27;String id,\n&#x27;
                           &#x27;            @ModelAttribute(value = &quot;entityForm&quot;) &#x27;
                           &#x27;final EntityForm entityForm,\n&#x27;
                           &#x27;            final BindingResult result) throws &#x27;
                           &#x27;Exception {\n&#x27;
                           &#x27;        final String sectionKey = &#x27;
                           &#x27;getSectionKey(pathVars);\n&#x27;
                           &#x27;        final String sectionClassName = &#x27;
                           &#x27;getClassNameForSection(sectionKey);\n&#x27;
                           &#x27;        final Class&lt;?&gt; entityClass = &#x27;
                           &#x27;dynamicEntityDao.getImplClass(sectionClassName);\n&#x27;
                           &#x27;        final long identifier = &#x27;
                           &#x27;Long.parseLong(id);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if (duplicator.validate(entityClass, &#x27;
                           &#x27;identifier)) {\n&#x27;
                           &#x27;            final Object duplicate;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            try {\n&#x27;
                           &#x27;                duplicate = &#x27;
                           &#x27;duplicator.copy(entityClass, identifier);\n&#x27;
                           &#x27;            } catch (Exception e) {\n&#x27;
                           &#x27;                LOG.error(&quot;Could not duplicate &#x27;
                           &#x27;entity&quot;, e);\n&#x27;
                           &#x27;                return &#x27;
                           &#x27;getErrorDuplicatingResponse(response, &#x27;
                           &#x27;&quot;Duplication_Failure&quot;);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            final Serializable dupId = &#x27;
                           &#x27;genericEntityService.getIdentifier(duplicate);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            // Note that AJAX Redirects need the &#x27;
                           &#x27;context path prepended to them\n&#x27;
                           &#x27;            return &quot;ajaxredirect:&quot; + &#x27;
                           &#x27;getContextPath(request) + sectionKey + &quot;/&quot; + &#x27;
                           &#x27;dupId;\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            return &#x27;
                           &#x27;getErrorDuplicatingResponse(response, &#x27;
                           &#x27;&quot;Validation_Failure&quot;);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    protected String &#x27;
                           &#x27;getErrorDuplicatingResponse(HttpServletResponse &#x27;
                           &#x27;response, String code) {\n&#x27;
                           &#x27;        List&lt;Map&lt;String, Object&gt;&gt; errors = new &#x27;
                           &#x27;ArrayList&lt;&gt;();\n&#x27;
                           &#x27;        String message;\n&#x27;
                           &#x27;        BroadleafRequestContext context = &#x27;
                           &#x27;BroadleafRequestContext.getBroadleafRequestContext();\n&#x27;
                           &#x27;        if (context != null &amp;&amp; &#x27;
                           &#x27;context.getMessageSource() != null) {\n&#x27;
                           &#x27;            message = context.getMessageSource()\n&#x27;
                           &#x27;                    .getMessage(code, null, code, &#x27;
                           &#x27;context.getJavaLocale());\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            LOG.warn(\n&#x27;
                           &#x27;                    &quot;Could not find the &#x27;
                           &#x27;MessageSource on the current request, &quot;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;                } \n                \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;                }\n\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;    protected String &#x27;
                         &#x27;showViewUpdateCollection(HttpServletRequest &#x27;
                         &#x27;request, \n&#x27;
                         &#x27;            Model model, \n&#x27;
                         &#x27;            Map&lt;String, String&gt; pathVars,\n&#x27;
                         &#x27;            String id, \n&#x27;
                         &#x27;            String collectionField, \n&#x27;
                         &#x27;            String collectionItemId, \n&#x27;
                         &#x27;            String alternateId, \n&#x27;
                         &#x27;            String modalHeaderType, \n&#x27;
                         &#x27;            EntityForm entityForm, \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;    protected String &#x27;
                           &#x27;showViewUpdateCollection(HttpServletRequest &#x27;
                           &#x27;request,\n&#x27;
                           &#x27;            Model model,\n&#x27;
                           &#x27;            Map&lt;String, String&gt; pathVars,\n&#x27;
                           &#x27;            String id,\n&#x27;
                           &#x27;            String collectionField,\n&#x27;
                           &#x27;            String collectionItemId,\n&#x27;
                           &#x27;            String alternateId,\n&#x27;
                           &#x27;            String modalHeaderType,\n&#x27;
                           &#x27;            EntityForm entityForm,\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;            \n&#x27;
                         &#x27;            entityForm = &#x27;
                         &#x27;reinitializeEntityForm(entityForm, &#x27;
                         &#x27;collectionMetadata, entity, \n&#x27;
                         &#x27;                    subRecordsMap, sectionCrumbs);\n&#x27;
                         &#x27;            \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;
                           &#x27;            entityForm = &#x27;
                           &#x27;reinitializeEntityForm(entityForm, &#x27;
                           &#x27;collectionMetadata, entity,\n&#x27;
                           &#x27;                    subRecordsMap, &#x27;
                           &#x27;sectionCrumbs);\n&#x27;
                           &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;    \n&#x27;
                         &#x27;    protected EntityForm &#x27;
                         &#x27;reinitializeEntityForm(final EntityForm &#x27;
                         &#x27;entityForm, \n&#x27;
                         &#x27;            final ClassMetadata collectionMetadata,\n&#x27;
                         &#x27;            final Entity entity,\n&#x27;
                         &#x27;            final Map&lt;String, DynamicResultSet&gt; &#x27;
                         &#x27;subRecordsMap,\n&#x27;
                         &#x27;            final List&lt;SectionCrumb&gt; sectionCrumbs) &#x27;
                         &#x27;throws ServiceException {\n&#x27;
                         &#x27;        if (entityForm == null) {\n&#x27;
                         &#x27;            return formService\n&#x27;
                         &#x27;                    &#x27;
                         &#x27;.createEntityForm(collectionMetadata, entity, &#x27;
                         &#x27;subRecordsMap, sectionCrumbs);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        \n&#x27;
                         &#x27;        entityForm.clearFieldsMap();\n&#x27;
                         &#x27;        &#x27;
                         &#x27;formService.populateEntityForm(collectionMetadata, &#x27;
                         &#x27;entity, subRecordsMap, entityForm,\n&#x27;
                         &#x27;                sectionCrumbs);\n&#x27;
                         &quot;        //remove all the actions since we&#x27;re not &quot;
                         &#x27;trying to redisplay them on the form\n&#x27;
                         &#x27;        entityForm.removeAllActions();\n&#x27;
                         &#x27;    \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;
                           &#x27;    protected EntityForm &#x27;
                           &#x27;reinitializeEntityForm(final EntityForm &#x27;
                           &#x27;entityForm,\n&#x27;
                           &#x27;            final ClassMetadata &#x27;
                           &#x27;collectionMetadata,\n&#x27;
                           &#x27;            final Entity entity,\n&#x27;
                           &#x27;            final Map&lt;String, DynamicResultSet&gt; &#x27;
                           &#x27;subRecordsMap,\n&#x27;
                           &#x27;            final List&lt;SectionCrumb&gt; &#x27;
                           &#x27;sectionCrumbs) throws ServiceException {\n&#x27;
                           &#x27;        if (entityForm == null) {\n&#x27;
                           &#x27;            return formService\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;.createEntityForm(collectionMetadata, entity, &#x27;
                           &#x27;subRecordsMap, sectionCrumbs);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        entityForm.clearFieldsMap();\n&#x27;
                           &#x27;        &#x27;
                           &#x27;formService.populateEntityForm(collectionMetadata, &#x27;
                           &#x27;entity, subRecordsMap, entityForm,\n&#x27;
                           &#x27;                sectionCrumbs);\n&#x27;
                           &quot;        //remove all the actions since we&#x27;re not &quot;
                           &#x27;trying to redisplay them on the form\n&#x27;
                           &#x27;        entityForm.removeAllActions();\n&#x27;
                           &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}},
  {&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;    @Resource(name = &#x27;
                         &#x27;&quot;blMultipleCatalogExtensionManager&quot;)\n&#x27;
                         &#x27;    protected MultipleCatalogExtensionManager &#x27;
                         &#x27;multipleCatalogExtensionManager;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;spork&#x27;}}],
 [{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27; * The default implementation of the {@link &#x27;
                         &#x27;AdminAbstractController}. This delegates every call &#x27;
                         &#x27;to \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27; * The default implementation of the {@link &#x27;
                           &#x27;AdminAbstractController}. This delegates every &#x27;
                           &#x27;call to\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;    \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &quot;    // If the entity type isn&#x27;t specified, we need &quot;
                         &#x27;to determine if there are various polymorphic \n&#x27;
                         &#x27;    // types for this entity.\n&#x27;
                         &#x27;    protected String determineEntityType(String &#x27;
                         &#x27;entityType, final ClassMetadata cmd) \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &quot;    // If the entity type isn&#x27;t specified, we need &quot;
                           &#x27;to determine if there are various polymorphic\n&#x27;
                           &#x27;    // types for this entity.\n&#x27;
                           &#x27;    protected String determineEntityType(String &#x27;
                           &#x27;entityType, final ClassMetadata cmd)\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;            final HttpServletResponse response, \n&#x27;
                         &#x27;            final Model model,\n&#x27;
                         &#x27;            @PathVariable final Map&lt;String, String&gt; &#x27;
                         &#x27;pathVars,\n&#x27;
                         &#x27;            @PathVariable(value = &quot;id&quot;) final String &#x27;
                         &#x27;id,\n&#x27;
                         &#x27;            @ModelAttribute(value = &quot;entityForm&quot;) &#x27;
                         &#x27;final EntityForm entityForm,\n&#x27;
                         &#x27;            final BindingResult result) throws &#x27;
                         &#x27;Exception {\n&#x27;
                         &#x27;        final String sectionKey = &#x27;
                         &#x27;getSectionKey(pathVars);\n&#x27;
                         &#x27;        final String sectionClassName = &#x27;
                         &#x27;getClassNameForSection(sectionKey);\n&#x27;
                         &#x27;        final Class&lt;?&gt; entityClass = &#x27;
                         &#x27;dynamicEntityDao.getImplClass(sectionClassName);\n&#x27;
                         &#x27;        final long identifier = Long.parseLong(id);\n&#x27;
                         &#x27;        \n&#x27;
                         &#x27;        if (duplicator.validate(entityClass, &#x27;
                         &#x27;identifier)) {\n&#x27;
                         &#x27;            final Object duplicate;\n&#x27;
                         &#x27;            \n&#x27;
                         &#x27;            try {\n&#x27;
                         &#x27;                duplicate = &#x27;
                         &#x27;duplicator.copy(entityClass, identifier);\n&#x27;
                         &#x27;            } catch (Exception e) {\n&#x27;
                         &#x27;                LOG.error(&quot;Could not duplicate &#x27;
                         &#x27;entity&quot;, e);\n&#x27;
                         &#x27;                return &#x27;
                         &#x27;getErrorDuplicatingResponse(response, &#x27;
                         &#x27;&quot;Duplication_Failure&quot;);\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;            final Serializable dupId = &#x27;
                         &#x27;genericEntityService.getIdentifier(duplicate);\n&#x27;
                         &#x27;            \n&#x27;
                         &#x27;            // Note that AJAX Redirects need the &#x27;
                         &#x27;context path prepended to them\n&#x27;
                         &#x27;            return &quot;ajaxredirect:&quot; + &#x27;
                         &#x27;getContextPath(request) + sectionKey + &quot;/&quot; + dupId;\n&#x27;
                         &#x27;        } else {\n&#x27;
                         &#x27;            return &#x27;
                         &#x27;getErrorDuplicatingResponse(response, &#x27;
                         &#x27;&quot;Validation_Failure&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    protected String &#x27;
                         &#x27;getErrorDuplicatingResponse(HttpServletResponse &#x27;
                         &#x27;response, String code) {\n&#x27;
                         &#x27;        List&lt;Map&lt;String, Object&gt;&gt; errors = new &#x27;
                         &#x27;ArrayList&lt;&gt;();\n&#x27;
                         &#x27;        String message;\n&#x27;
                         &#x27;        BroadleafRequestContext context = &#x27;
                         &#x27;BroadleafRequestContext.getBroadleafRequestContext();\n&#x27;
                         &#x27;        if (context != null &amp;&amp; &#x27;
                         &#x27;context.getMessageSource() != null) {\n&#x27;
                         &#x27;            message = context.getMessageSource()\n&#x27;
                         &#x27;                    .getMessage(code, null, code, &#x27;
                         &#x27;context.getJavaLocale());\n&#x27;
                         &#x27;        } else {\n&#x27;
                         &#x27;            LOG.warn(\n&#x27;
                         &#x27;                    &quot;Could not find the &#x27;
                         &#x27;MessageSource on the current request, &quot; \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;            final HttpServletResponse response,\n&#x27;
                           &#x27;            final Model model,\n&#x27;
                           &#x27;            @PathVariable final Map&lt;String, &#x27;
                           &#x27;String&gt; pathVars,\n&#x27;
                           &#x27;            @PathVariable(value = &quot;id&quot;) final &#x27;
                           &#x27;String id,\n&#x27;
                           &#x27;            @ModelAttribute(value = &quot;entityForm&quot;) &#x27;
                           &#x27;final EntityForm entityForm,\n&#x27;
                           &#x27;            final BindingResult result) throws &#x27;
                           &#x27;Exception {\n&#x27;
                           &#x27;        final String sectionKey = &#x27;
                           &#x27;getSectionKey(pathVars);\n&#x27;
                           &#x27;        final String sectionClassName = &#x27;
                           &#x27;getClassNameForSection(sectionKey);\n&#x27;
                           &#x27;        final Class&lt;?&gt; entityClass = &#x27;
                           &#x27;dynamicEntityDao.getImplClass(sectionClassName);\n&#x27;
                           &#x27;        final long identifier = &#x27;
                           &#x27;Long.parseLong(id);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if (duplicator.validate(entityClass, &#x27;
                           &#x27;identifier)) {\n&#x27;
                           &#x27;            final Object duplicate;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            try {\n&#x27;
                           &#x27;                duplicate = &#x27;
                           &#x27;duplicator.copy(entityClass, identifier);\n&#x27;
                           &#x27;            } catch (Exception e) {\n&#x27;
                           &#x27;                LOG.error(&quot;Could not duplicate &#x27;
                           &#x27;entity&quot;, e);\n&#x27;
                           &#x27;                return &#x27;
                           &#x27;getErrorDuplicatingResponse(response, &#x27;
                           &#x27;&quot;Duplication_Failure&quot;);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            final Serializable dupId = &#x27;
                           &#x27;genericEntityService.getIdentifier(duplicate);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            // Note that AJAX Redirects need the &#x27;
                           &#x27;context path prepended to them\n&#x27;
                           &#x27;            return &quot;ajaxredirect:&quot; + &#x27;
                           &#x27;getContextPath(request) + sectionKey + &quot;/&quot; + &#x27;
                           &#x27;dupId;\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            return &#x27;
                           &#x27;getErrorDuplicatingResponse(response, &#x27;
                           &#x27;&quot;Validation_Failure&quot;);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    protected String &#x27;
                           &#x27;getErrorDuplicatingResponse(HttpServletResponse &#x27;
                           &#x27;response, String code) {\n&#x27;
                           &#x27;        List&lt;Map&lt;String, Object&gt;&gt; errors = new &#x27;
                           &#x27;ArrayList&lt;&gt;();\n&#x27;
                           &#x27;        String message;\n&#x27;
                           &#x27;        BroadleafRequestContext context = &#x27;
                           &#x27;BroadleafRequestContext.getBroadleafRequestContext();\n&#x27;
                           &#x27;        if (context != null &amp;&amp; &#x27;
                           &#x27;context.getMessageSource() != null) {\n&#x27;
                           &#x27;            message = context.getMessageSource()\n&#x27;
                           &#x27;                    .getMessage(code, null, code, &#x27;
                           &#x27;context.getJavaLocale());\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            LOG.warn(\n&#x27;
                           &#x27;                    &quot;Could not find the &#x27;
                           &#x27;MessageSource on the current request, &quot;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;        \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;                \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;                \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;                } \n                \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;                }\n\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;    protected String &#x27;
                         &#x27;showViewUpdateCollection(HttpServletRequest &#x27;
                         &#x27;request, \n&#x27;
                         &#x27;            Model model, \n&#x27;
                         &#x27;            Map&lt;String, String&gt; pathVars,\n&#x27;
                         &#x27;            String id, \n&#x27;
                         &#x27;            String collectionField, \n&#x27;
                         &#x27;            String collectionItemId, \n&#x27;
                         &#x27;            String alternateId, \n&#x27;
                         &#x27;            String modalHeaderType, \n&#x27;
                         &#x27;            EntityForm entityForm, \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;    protected String &#x27;
                           &#x27;showViewUpdateCollection(HttpServletRequest &#x27;
                           &#x27;request,\n&#x27;
                           &#x27;            Model model,\n&#x27;
                           &#x27;            Map&lt;String, String&gt; pathVars,\n&#x27;
                           &#x27;            String id,\n&#x27;
                           &#x27;            String collectionField,\n&#x27;
                           &#x27;            String collectionItemId,\n&#x27;
                           &#x27;            String alternateId,\n&#x27;
                           &#x27;            String modalHeaderType,\n&#x27;
                           &#x27;            EntityForm entityForm,\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;            \n&#x27;
                         &#x27;            entityForm = &#x27;
                         &#x27;reinitializeEntityForm(entityForm, &#x27;
                         &#x27;collectionMetadata, entity, \n&#x27;
                         &#x27;                    subRecordsMap, sectionCrumbs);\n&#x27;
                         &#x27;            \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;
                           &#x27;            entityForm = &#x27;
                           &#x27;reinitializeEntityForm(entityForm, &#x27;
                           &#x27;collectionMetadata, entity,\n&#x27;
                           &#x27;                    subRecordsMap, &#x27;
                           &#x27;sectionCrumbs);\n&#x27;
                           &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;            \n&#x27;, &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;    \n&#x27;
                         &#x27;    protected EntityForm &#x27;
                         &#x27;reinitializeEntityForm(final EntityForm &#x27;
                         &#x27;entityForm, \n&#x27;
                         &#x27;            final ClassMetadata collectionMetadata,\n&#x27;
                         &#x27;            final Entity entity,\n&#x27;
                         &#x27;            final Map&lt;String, DynamicResultSet&gt; &#x27;
                         &#x27;subRecordsMap,\n&#x27;
                         &#x27;            final List&lt;SectionCrumb&gt; sectionCrumbs) &#x27;
                         &#x27;throws ServiceException {\n&#x27;
                         &#x27;        if (entityForm == null) {\n&#x27;
                         &#x27;            return formService\n&#x27;
                         &#x27;                    &#x27;
                         &#x27;.createEntityForm(collectionMetadata, entity, &#x27;
                         &#x27;subRecordsMap, sectionCrumbs);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        \n&#x27;
                         &#x27;        entityForm.clearFieldsMap();\n&#x27;
                         &#x27;        &#x27;
                         &#x27;formService.populateEntityForm(collectionMetadata, &#x27;
                         &#x27;entity, subRecordsMap, entityForm,\n&#x27;
                         &#x27;                sectionCrumbs);\n&#x27;
                         &quot;        //remove all the actions since we&#x27;re not &quot;
                         &#x27;trying to redisplay them on the form\n&#x27;
                         &#x27;        entityForm.removeAllActions();\n&#x27;
                         &#x27;    \n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;
                           &#x27;    protected EntityForm &#x27;
                           &#x27;reinitializeEntityForm(final EntityForm &#x27;
                           &#x27;entityForm,\n&#x27;
                           &#x27;            final ClassMetadata &#x27;
                           &#x27;collectionMetadata,\n&#x27;
                           &#x27;            final Entity entity,\n&#x27;
                           &#x27;            final Map&lt;String, DynamicResultSet&gt; &#x27;
                           &#x27;subRecordsMap,\n&#x27;
                           &#x27;            final List&lt;SectionCrumb&gt; &#x27;
                           &#x27;sectionCrumbs) throws ServiceException {\n&#x27;
                           &#x27;        if (entityForm == null) {\n&#x27;
                           &#x27;            return formService\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;.createEntityForm(collectionMetadata, entity, &#x27;
                           &#x27;subRecordsMap, sectionCrumbs);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        entityForm.clearFieldsMap();\n&#x27;
                           &#x27;        &#x27;
                           &#x27;formService.populateEntityForm(collectionMetadata, &#x27;
                           &#x27;entity, subRecordsMap, entityForm,\n&#x27;
                           &#x27;                sectionCrumbs);\n&#x27;
                           &quot;        //remove all the actions since we&#x27;re not &quot;
                           &#x27;trying to redisplay them on the form\n&#x27;
                           &#x27;        entityForm.removeAllActions();\n&#x27;
                           &#x27;\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;    @Resource(name = &#x27;
                         &#x27;&quot;blMultipleCatalogExtensionManager&quot;)\n&#x27;
                         &#x27;    protected MultipleCatalogExtensionManager &#x27;
                         &#x27;multipleCatalogExtensionManager;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;, &#x27;spork&#x27;}}]]</pre>
          </body>
        </html>
        