<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>52</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    52
                    <a href="51.html">prev</a>
                    <a href="53.html">next</a>
                    <a href="52_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_fb0aeb5073c95c097f46182c8aef9442ebbfc53b_Simplenote/src/main/java/com/automattic/simplenote/Simplenote.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;fb0aeb5073c95c097f46182c8aef9442ebbfc53b:Simplenote/src/main/java/com/automattic/simplenote/Simplenote.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;fb0aeb5073c95c097f46182c8aef9442ebbfc53b^1:Simplenote/src/main/java/com/automattic/simplenote/Simplenote.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;fb0aeb5073c95c097f46182c8aef9442ebbfc53b^2:Simplenote/src/main/java/com/automattic/simplenote/Simplenote.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;43ebbac10ad7e5115de12c660f776afe4ee6ebe5:Simplenote/src/main/java/com/automattic/simplenote/Simplenote.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [b], [b], [b]], subset: [[b], [b], [b], [b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">   3 import android.annotation.SuppressLint;                                                                  </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">   5 import android.app.Application;                                                                          </span>
<span class="-5120547123096501078" onmouseenter="enter('-5120547123096501078');" onmouseout="out('-5120547123096501078');" style="">   6 import android.content.ComponentCallbacks2;                                                              </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">   7 import android.content.res.Configuration;                                                                </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   8 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   9 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">  10 import android.os.Handler;                                                                               </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  11 import android.util.Log;                                                                                 </span>
<span  style="">  12                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  13 import androidx.annotation.NonNull;                                                                      </span>
<span class="7702331687346133722" onmouseenter="enter('7702331687346133722');" onmouseout="out('7702331687346133722');" style="">  14 import androidx.appcompat.app.AppCompatDelegate;                                                         </span>
<span class="-5166869418136344301" onmouseenter="enter('-5166869418136344301');" onmouseout="out('-5166869418136344301');" style="">  15 import androidx.work.BackoffPolicy;                                                                      </span>
<span class="-4431582294891577664" onmouseenter="enter('-4431582294891577664');" onmouseout="out('-4431582294891577664');" style="">  16 import androidx.work.Constraints;                                                                        </span>
<span class="3185086351037345986" onmouseenter="enter('3185086351037345986');" onmouseout="out('3185086351037345986');" style="">  17 import androidx.work.ExistingPeriodicWorkPolicy;                                                         </span>
<span class="-3698903318922252687" onmouseenter="enter('-3698903318922252687');" onmouseout="out('-3698903318922252687');" style="">  18 import androidx.work.NetworkType;                                                                        </span>
<span class="2994979786497810699" onmouseenter="enter('2994979786497810699');" onmouseout="out('2994979786497810699');" style="">  19 import androidx.work.PeriodicWorkRequest;                                                                </span>
<span class="5786013396577205846" onmouseenter="enter('5786013396577205846');" onmouseout="out('5786013396577205846');" style="">  20 import androidx.work.WorkManager;                                                                        </span>
<span  style="">  21                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="-2312717542362407496" onmouseenter="enter('-2312717542362407496');" onmouseout="out('-2312717542362407496');" style="">  23 import com.automattic.simplenote.analytics.AnalyticsTrackerNosara;                                       </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="7102019831075911821" onmouseenter="enter('7102019831075911821');" onmouseout="out('7102019831075911821');" style="">  25 import com.automattic.simplenote.models.NoteCountIndexer;                                                </span>
<span class="4426422982983644373" onmouseenter="enter('4426422982983644373');" onmouseout="out('4426422982983644373');" style="">  26 import com.automattic.simplenote.models.NoteTagger;                                                      </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  27 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  28 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  29 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  30 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  31 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="8577850632926167445" onmouseenter="enter('8577850632926167445');" onmouseout="out('8577850632926167445');" style="">  32 import com.automattic.simplenote.utils.DisplayUtils;                                                     </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-5753381984404345794" onmouseenter="enter('-5753381984404345794');" onmouseout="out('-5753381984404345794');" style="">  34 import com.automattic.simplenote.utils.SyncWorker;                                                       </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  35 import com.simperium.Simperium;                                                                          </span>
<span class="1573888967082901106" onmouseenter="enter('1573888967082901106');" onmouseout="out('1573888967082901106');" style="">  36 import com.simperium.android.WebSocketManager;                                                           </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  37 import com.simperium.client.Bucket;                                                                      </span>
<span class="-6754815116321497467" onmouseenter="enter('-6754815116321497467');" onmouseout="out('-6754815116321497467');" style="">  38 import com.simperium.client.BucketNameInvalid;                                                           </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  39 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-6128914918417430442" onmouseenter="enter('-6128914918417430442');" onmouseout="out('-6128914918417430442');" style="">  40 import com.simperium.client.ChannelProvider.HeartbeatListener;                                           </span>
<span  style="">  41                                                                                                          </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  42 import org.wordpress.passcodelock.AppLockManager;                                                        </span>
<span  style="">  43                                                                                                          </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  44 import java.util.concurrent.TimeUnit;                                                                    </span>
<span  style="">  45                                                                                                          </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  46 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span  style="">  47                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  48 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-7542921476229216620" onmouseenter="enter('-7542921476229216620');" onmouseout="out('-7542921476229216620');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  49 public class Simplenote extends Application {                                                            </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  50 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-4825362878423743783" onmouseenter="enter('-4825362878423743783');" onmouseout="out('-4825362878423743783');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51     private static final int TEN_SECONDS_MILLIS = 10000;                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52                                                                                                          </span>
<span class="-2932550457956729857" onmouseenter="enter('-2932550457956729857');" onmouseout="out('-2932550457956729857');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53     // log tag                                                                                           </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54     public static final String TAG = &quot;Simplenote&quot;;                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55                                                                                                          </span>
<span class="-4355088993614745787" onmouseenter="enter('-4355088993614745787');" onmouseout="out('-4355088993614745787');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56     // intent IDs                                                                                        </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57     public static final int INTENT_PREFERENCES = 1;                                                      </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58     public static final int INTENT_EDIT_NOTE = 2;                                                        </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59     public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                        </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60     public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  61 =======                                                                                                  </span>
<span class="5261034755457737176" onmouseenter="enter('5261034755457737176');" onmouseout="out('5261034755457737176');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62 public class Simplenote extends Application implements HeartbeatListener {                               </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  63 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="">  64     public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                        </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="">  65     public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                      </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="">  66     public static final String TAG = &quot;Simplenote&quot;;                                                       </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="">  67     public static final int INTENT_EDIT_NOTE = 2;                                                        </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="">  68     public static final int INTENT_PREFERENCES = 1;                                                      </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  69 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-7131135836515418231" onmouseenter="enter('-7131135836515418231');" onmouseout="out('-7131135836515418231');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  70     public static final int ONE_MINUTE_MILLIS = 60 * 1000;  // 60 seconds                                </span>
<span class="2194585893201893968" onmouseenter="enter('2194585893201893968');" onmouseout="out('2194585893201893968');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  71     public static final int TEN_SECONDS_MILLIS = 10 * 1000;  // 10 seconds                               </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  72 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73     public static final int INTENT_PREFERENCES = 1;                                                      </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74     public static final int INTENT_EDIT_NOTE = 2;                                                        </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75     public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                        </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76     public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                      </span>
<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77     private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                        </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78     private Simperium mSimperium;                                                                        </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81     private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82                                                                                                          </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83     public void onCreate() {                                                                             </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  84 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  85 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style="">  86                                                                                                          </span>
<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="">  87     private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                        </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  88 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="3318171237102217895" onmouseenter="enter('3318171237102217895');" onmouseout="out('3318171237102217895');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  89     private static final String TAG_SYNC = &quot;sync&quot;;                                                       </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  90 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91     public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                        </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92     public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                      </span>
<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93     private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                        </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94     private Simperium mSimperium;                                                                        </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97     private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98                                                                                                          </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100         super.onCreate();                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101                                                                                                          </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102         CrashUtils.initWithContext(this);                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 103 =======                                                                                                  </span>
<span class="-4825362878423743783" onmouseenter="enter('-4825362878423743783');" onmouseout="out('-4825362878423743783');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 104     private static final int TEN_SECONDS_MILLIS = 10000;                                                 </span>
<span class="4591981961767073369" onmouseenter="enter('4591981961767073369');" onmouseout="out('4591981961767073369');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 105     private static final long HEARTBEAT_TIMEOUT =  WebSocketManager.HEARTBEAT_INTERVAL * 2;              </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 106 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style=""> 107                                                                                                          </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style=""> 108     private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                               </span>
<span  style=""> 109                                                                                                          </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style=""> 110     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style=""> 111     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 112 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 113     private Simperium mSimperium;                                                                        </span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 114     private boolean mIsInBackground = true;                                                              </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 115 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116                                                                                                          </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118         super.onCreate();                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119                                                                                                          </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120         CrashUtils.initWithContext(this);                                                                </span>
<span class="-3077027295691334658" onmouseenter="enter('-3077027295691334658');" onmouseout="out('-3077027295691334658');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121         AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122                                                                                                          </span>
<span class="-6610099647322125620" onmouseenter="enter('-6610099647322125620');" onmouseout="out('-6610099647322125620');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 123         mSimperium = Simperium.newClient(                                                                </span>
<span class="-4695376588658458273" onmouseenter="enter('-4695376588658458273');" onmouseout="out('-4695376588658458273');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124                 BuildConfig.SIMPERIUM_APP_ID,                                                            </span>
<span class="4318504011662215607" onmouseenter="enter('4318504011662215607');" onmouseout="out('4318504011662215607');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125                 BuildConfig.SIMPERIUM_APP_KEY,                                                           </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126                 this                                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127         );                                                                                               </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 128 =======                                                                                                  </span>
<span class="1419071614229033804" onmouseenter="enter('1419071614229033804');" onmouseout="out('1419071614229033804');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 129     private Handler mHeartbeatHandler;                                                                   </span>
<span class="-7581284801413594720" onmouseenter="enter('-7581284801413594720');" onmouseout="out('-7581284801413594720');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 130     private Runnable mHeartbeatRunnable;                                                                 </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 131     private Simperium mSimperium;                                                                        </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 132 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style=""> 133                                                                                                          </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style=""> 134     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style=""> 135         super.onCreate();                                                                                </span>
<span  style=""> 136                                                                                                          </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style=""> 137         CrashUtils.initWithContext(this);                                                                </span>
<span class="-3077027295691334658" onmouseenter="enter('-3077027295691334658');" onmouseout="out('-3077027295691334658');" style=""> 138         AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);                              </span>
<span  style=""> 139                                                                                                          </span>
<span class="-6610099647322125620" onmouseenter="enter('-6610099647322125620');" onmouseout="out('-6610099647322125620');" style=""> 140         mSimperium = Simperium.newClient(                                                                </span>
<span class="-4695376588658458273" onmouseenter="enter('-4695376588658458273');" onmouseout="out('-4695376588658458273');" style=""> 141                 BuildConfig.SIMPERIUM_APP_ID,                                                            </span>
<span class="4318504011662215607" onmouseenter="enter('4318504011662215607');" onmouseout="out('4318504011662215607');" style=""> 142                 BuildConfig.SIMPERIUM_APP_KEY,                                                           </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 143                 this                                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 144         );                                                                                               </span>
<span  style=""> 145                                                                                                          </span>
<span class="7031285256639409704" onmouseenter="enter('7031285256639409704');" onmouseout="out('7031285256639409704');" style=""> 146         mSimperium.setAuthProvider(AUTH_PROVIDER);                                                       </span>
<span class="9065419810018319535" onmouseenter="enter('9065419810018319535');" onmouseout="out('9065419810018319535');" style=""> 147         mSimperium.addHeartbeatListener(this);                                                           </span>
<span  style=""> 148                                                                                                          </span>
<span class="-1855727841872273262" onmouseenter="enter('-1855727841872273262');" onmouseout="out('-1855727841872273262');" style=""> 149         mHeartbeatHandler = new Handler();                                                               </span>
<span class="-1915212603929880067" onmouseenter="enter('-1915212603929880067');" onmouseout="out('-1915212603929880067');" style=""> 150         mHeartbeatRunnable = new Runnable() {                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 151             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 152             public void run() {                                                                          </span>
<span class="4054271998020395502" onmouseenter="enter('4054271998020395502');" onmouseout="out('4054271998020395502');" style=""> 153                 AppLog.add(Type.NETWORK, &quot;Heartbeat stopped&quot;);                                           </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style=""> 154                 mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                   </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style=""> 155                 mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 157         };                                                                                               </span>
<span  style=""> 158                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 159         try {                                                                                            </span>
<span class="-3712083184111777754" onmouseenter="enter('-3712083184111777754');" onmouseout="out('-3712083184111777754');" style=""> 160             mNotesBucket = mSimperium.bucket(new Note.Schema());                                         </span>
<span class="8722979014886483827" onmouseenter="enter('8722979014886483827');" onmouseout="out('8722979014886483827');" style=""> 161             Tag.Schema tagSchema = new Tag.Schema();                                                     </span>
<span class="-9102287405513372469" onmouseenter="enter('-9102287405513372469');" onmouseout="out('-9102287405513372469');" style=""> 162             tagSchema.addIndex(new NoteCountIndexer(mNotesBucket));                                      </span>
<span class="-175388701111242190" onmouseenter="enter('-175388701111242190');" onmouseout="out('-175388701111242190');" style=""> 163             mTagsBucket = mSimperium.bucket(tagSchema);                                                  </span>
<span class="4439876589301981228" onmouseenter="enter('4439876589301981228');" onmouseout="out('4439876589301981228');" style=""> 164             mPreferencesBucket = mSimperium.bucket(new Preferences.Schema());                            </span>
<span class="6417103925919259383" onmouseenter="enter('6417103925919259383');" onmouseout="out('6417103925919259383');" style=""> 165             // Every time a note changes or is deleted we need to reindex the tag counts                 </span>
<span class="1028093174501664258" onmouseenter="enter('1028093174501664258');" onmouseout="out('1028093174501664258');" style=""> 166             mNotesBucket.addListener(new NoteTagger(mTagsBucket));                                       </span>
<span class="9150575117674564137" onmouseenter="enter('9150575117674564137');" onmouseout="out('9150575117674564137');" style=""> 167         } catch (BucketNameInvalid e) {                                                                  </span>
<span class="5045778340242790475" onmouseenter="enter('5045778340242790475');" onmouseout="out('5045778340242790475');" style=""> 168             throw new RuntimeException(&quot;Could not create bucket&quot;, e);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169         }                                                                                                </span>
<span  style=""> 170                                                                                                          </span>
<span class="-6104247182653922910" onmouseenter="enter('-6104247182653922910');" onmouseout="out('-6104247182653922910');" style=""> 171         AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);                                     </span>
<span  style=""> 172                                                                                                          </span>
<span class="1079457458543399093" onmouseenter="enter('1079457458543399093');" onmouseout="out('1079457458543399093');" style=""> 173         ApplicationLifecycleMonitor applicationLifecycleMonitor = new ApplicationLifecycleMonitor();     </span>
<span class="381596098670029908" onmouseenter="enter('381596098670029908');" onmouseout="out('381596098670029908');" style=""> 174         registerComponentCallbacks(applicationLifecycleMonitor);                                         </span>
<span class="-8076193737884381578" onmouseenter="enter('-8076193737884381578');" onmouseout="out('-8076193737884381578');" style=""> 175         registerActivityLifecycleCallbacks(applicationLifecycleMonitor);                                 </span>
<span  style=""> 176                                                                                                          </span>
<span class="1335392763825317999" onmouseenter="enter('1335392763825317999');" onmouseout="out('1335392763825317999');" style=""> 177         AnalyticsTracker.registerTracker(new AnalyticsTrackerNosara(this));                              </span>
<span class="-1844307234054360739" onmouseenter="enter('-1844307234054360739');" onmouseout="out('-1844307234054360739');" style=""> 178         AnalyticsTracker.refreshMetadata(mSimperium.getUser().getEmail());                               </span>
<span class="8399230582885161213" onmouseenter="enter('8399230582885161213');" onmouseout="out('8399230582885161213');" style=""> 179         CrashUtils.setCurrentUser(mSimperium.getUser());                                                 </span>
<span  style=""> 180                                                                                                          </span>
<span class="-1455224487599073617" onmouseenter="enter('-1455224487599073617');" onmouseout="out('-1455224487599073617');" style=""> 181         AppLog.add(Type.DEVICE, getDeviceInfo());                                                        </span>
<span class="-4084915558750483061" onmouseenter="enter('-4084915558750483061');" onmouseout="out('-4084915558750483061');" style=""> 182         AppLog.add(Type.ACCOUNT, getAccountInfo());                                                      </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 183         AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184     }                                                                                                    </span>
<span  style=""> 185                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 186     @Override                                                                                            </span>
<span class="7640484986889102054" onmouseenter="enter('7640484986889102054');" onmouseout="out('7640484986889102054');" style=""> 187     public void onBeat() {                                                                               </span>
<span class="7315421582655131800" onmouseenter="enter('7315421582655131800');" onmouseout="out('7315421582655131800');" style=""> 188         AppLog.add(Type.NETWORK, &quot;Heartbeat received&quot;);                                                  </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style=""> 189         mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                           </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style=""> 190         mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span  style=""> 192                                                                                                          </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style=""> 193     @SuppressWarnings(&quot;unused&quot;)                                                                          </span>
<span class="7268646999054713936" onmouseenter="enter('7268646999054713936');" onmouseout="out('7268646999054713936');" style=""> 194     private boolean isFirstLaunch() {                                                                    </span>
<span class="4401662994174013480" onmouseenter="enter('4401662994174013480');" onmouseout="out('4401662994174013480');" style=""> 195         // NotesActivity sets this pref to false after first launch                                      </span>
<span class="5757483603403500826" onmouseenter="enter('5757483603403500826');" onmouseout="out('5757483603403500826');" style=""> 196         return PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="-5261177328937716585" onmouseenter="enter('-5261177328937716585');" onmouseout="out('-5261177328937716585');" style=""> 199     public static boolean analyticsIsEnabled() {                                                         </span>
<span class="1755574756529165678" onmouseenter="enter('1755574756529165678');" onmouseout="out('1755574756529165678');" style=""> 200         if (mPreferencesBucket == null) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 201             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202         }                                                                                                </span>
<span  style=""> 203                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 204         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 205             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="1383721738222569542" onmouseenter="enter('1383721738222569542');" onmouseout="out('1383721738222569542');" style=""> 206             return prefs.getAnalyticsEnabled();                                                          </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 207         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 208             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210     }                                                                                                    </span>
<span  style=""> 211                                                                                                          </span>
<span class="4656537755100497713" onmouseenter="enter('4656537755100497713');" onmouseout="out('4656537755100497713');" style=""> 212     private String getAccountInfo() {                                                                    </span>
<span class="-4909194837402373696" onmouseenter="enter('-4909194837402373696');" onmouseout="out('-4909194837402373696');" style=""><abbr title=" 213         String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getEmail() : &quot;?&quot;);"> 213         String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUs🔵</abbr></span>
<span class="-1815219994356976513" onmouseenter="enter('-1815219994356976513');" onmouseout="out('-1815219994356976513');" style=""> 214         String notes = &quot;Notes: &quot; + (mNotesBucket != null ? mNotesBucket.count() : &quot;?&quot;);                  </span>
<span class="-4701463784795893558" onmouseenter="enter('-4701463784795893558');" onmouseout="out('-4701463784795893558');" style=""> 215         String tags = &quot;Tags: &quot; + (mTagsBucket != null ? mTagsBucket.count() : &quot;?&quot;);                      </span>
<span class="5597163353916173356" onmouseenter="enter('5597163353916173356');" onmouseout="out('5597163353916173356');" style=""> 216         return email + &quot;\n&quot; + notes + &quot;\n&quot; + tags + &quot;\n\n&quot;;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217     }                                                                                                    </span>
<span  style=""> 218                                                                                                          </span>
<span class="-4176269846075250192" onmouseenter="enter('-4176269846075250192');" onmouseout="out('-4176269846075250192');" style=""> 219     private String getDeviceInfo() {                                                                     </span>
<span class="7581408804502865572" onmouseenter="enter('7581408804502865572');" onmouseout="out('7581408804502865572');" style=""><abbr title=" 220         String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; : &quot;Android &quot;;"> 220         String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chro🔵</abbr></span>
<span class="-921339907737118722" onmouseenter="enter('-921339907737118722');" onmouseout="out('-921339907737118722');" style=""> 221         String device = &quot;Device: &quot; + Build.MANUFACTURER + &quot; &quot; + Build.MODEL + &quot; (&quot; + Build.DEVICE + &quot;)&quot;; </span>
<span class="-7970072835487477375" onmouseenter="enter('-7970072835487477375');" onmouseout="out('-7970072835487477375');" style=""><abbr title=" 222         String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT + &quot;)&quot;;"> 222         String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT 🔵</abbr></span>
<span class="3648033425382070956" onmouseenter="enter('3648033425382070956');" onmouseout="out('3648033425382070956');" style=""> 223         String app = &quot;App: Simplenote &quot; + PrefUtils.versionInfo();                                       </span>
<span class="6793127563363345208" onmouseenter="enter('6793127563363345208');" onmouseout="out('6793127563363345208');" style=""> 224         return device + &quot;\n&quot; + system + &quot;\n&quot; + app + &quot;\n\n&quot;;                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="-2452840228833033114" onmouseenter="enter('-2452840228833033114');" onmouseout="out('-2452840228833033114');" style=""> 227     public Simperium getSimperium() {                                                                    </span>
<span class="-1067936515361198064" onmouseenter="enter('-1067936515361198064');" onmouseout="out('-1067936515361198064');" style=""> 228         return mSimperium;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229     }                                                                                                    </span>
<span  style=""> 230                                                                                                          </span>
<span class="8475950615112765175" onmouseenter="enter('8475950615112765175');" onmouseout="out('8475950615112765175');" style=""> 231     public Bucket&lt;Note&gt; getNotesBucket() {                                                               </span>
<span class="3001734825963445545" onmouseenter="enter('3001734825963445545');" onmouseout="out('3001734825963445545');" style=""> 232         return mNotesBucket;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233     }                                                                                                    </span>
<span  style=""> 234                                                                                                          </span>
<span class="1680392141704969043" onmouseenter="enter('1680392141704969043');" onmouseout="out('1680392141704969043');" style=""> 235     public Bucket&lt;Tag&gt; getTagsBucket() {                                                                 </span>
<span class="6135487691608919718" onmouseenter="enter('6135487691608919718');" onmouseout="out('6135487691608919718');" style=""> 236         return mTagsBucket;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="-4506300185279466066" onmouseenter="enter('-4506300185279466066');" onmouseout="out('-4506300185279466066');" style=""> 239     public Bucket&lt;Preferences&gt; getPreferencesBucket() {                                                  </span>
<span class="6715102450829888836" onmouseenter="enter('6715102450829888836');" onmouseout="out('6715102450829888836');" style=""> 240         return mPreferencesBucket;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241     }                                                                                                    </span>
<span  style=""> 242                                                                                                          </span>
<span class="-5307885032361585350" onmouseenter="enter('-5307885032361585350');" onmouseout="out('-5307885032361585350');" style=""> 243     public boolean isInBackground() {                                                                    </span>
<span class="3812912940560000313" onmouseenter="enter('3812912940560000313');" onmouseout="out('3812912940560000313');" style=""> 244         return mIsInBackground;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245     }                                                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="72925131662297315" onmouseenter="enter('72925131662297315');" onmouseout="out('72925131662297315');" style=""><abbr title=" 247     private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, ComponentCallbacks2 {"> 247     private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, Componen🔵</abbr></span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style=""> 248         private boolean mIsInBackground = true;                                                          </span>
<span  style=""> 249                                                                                                          </span>
<span class="3103941996577506651" onmouseenter="enter('3103941996577506651');" onmouseout="out('3103941996577506651');" style=""> 250         // ComponentCallbacks                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251         @Override                                                                                        </span>
<span class="2274976836934101801" onmouseenter="enter('2274976836934101801');" onmouseout="out('2274976836934101801');" style=""> 252         public void onTrimMemory(int level) {                                                            </span>
<span class="-1837603280920501393" onmouseenter="enter('-1837603280920501393');" onmouseout="out('-1837603280920501393');" style=""> 253             if (level == ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {                                    </span>
<span class="-4583313459107718715" onmouseenter="enter('-4583313459107718715');" onmouseout="out('-4583313459107718715');" style=""> 254                 mIsInBackground = true;                                                                  </span>
<span  style=""> 255                                                                                                          </span>
<span class="-7450229904998226699" onmouseenter="enter('-7450229904998226699');" onmouseout="out('-7450229904998226699');" style=""> 256                 // Give the buckets some time to finish sync, then stop them                             </span>
<span class="7162501222170899627" onmouseenter="enter('7162501222170899627');" onmouseout="out('7162501222170899627');" style=""> 257                 new Handler().postDelayed(new Runnable() {                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 259                     public void run() {                                                                  </span>
<span class="1937243434374323959" onmouseenter="enter('1937243434374323959');" onmouseout="out('1937243434374323959');" style=""> 260                         if (!mIsInBackground) {                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 261                             return;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262                         }                                                                                </span>
<span  style=""> 263                                                                                                          </span>
<span class="6694920678363305995" onmouseenter="enter('6694920678363305995');" onmouseout="out('6694920678363305995');" style=""> 264                         if (mNotesBucket != null) {                                                      </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 265                             mNotesBucket.stop();                                                         </span>
<span class="-8256972624868266110" onmouseenter="enter('-8256972624868266110');" onmouseout="out('-8256972624868266110');" style=""> 266                             AppLog.add(Type.SYNC, &quot;Stopped note bucket (Simplenote)&quot;);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267                         }                                                                                </span>
<span  style=""> 268                                                                                                          </span>
<span class="-6758879846146730703" onmouseenter="enter('-6758879846146730703');" onmouseout="out('-6758879846146730703');" style=""> 269                         if (mTagsBucket != null) {                                                       </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 270                             mTagsBucket.stop();                                                          </span>
<span class="3632904236952271414" onmouseenter="enter('3632904236952271414');" onmouseout="out('3632904236952271414');" style=""> 271                             AppLog.add(Type.SYNC, &quot;Stopped tag bucket (Simplenote)&quot;);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272                         }                                                                                </span>
<span  style=""> 273                                                                                                          </span>
<span class="-6192025378026905457" onmouseenter="enter('-6192025378026905457');" onmouseout="out('-6192025378026905457');" style=""> 274                         if (mPreferencesBucket != null) {                                                </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 275                             mPreferencesBucket.stop();                                                   </span>
<span class="-5651227749650235797" onmouseenter="enter('-5651227749650235797');" onmouseout="out('-5651227749650235797');" style=""> 276                             AppLog.add(Type.SYNC, &quot;Stopped preference bucket (Simplenote)&quot;);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278                     }                                                                                    </span>
<span class="6786785065928556607" onmouseenter="enter('6786785065928556607');" onmouseout="out('6786785065928556607');" style=""> 279                 }, TEN_SECONDS_MILLIS);                                                                  </span>
<span  style=""> 280                                                                                                          </span>
<span class="-341478899160030823" onmouseenter="enter('-341478899160030823');" onmouseout="out('-341478899160030823');" style=""> 281                 // Send analytics if app is in the background                                            </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 282                 AnalyticsTracker.track(                                                                  </span>
<span class="3485374480742718668" onmouseenter="enter('3485374480742718668');" onmouseout="out('3485374480742718668');" style=""> 283                         AnalyticsTracker.Stat.APPLICATION_CLOSED,                                        </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 284                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="3140085526459106828" onmouseenter="enter('3140085526459106828');" onmouseout="out('3140085526459106828');" style=""> 285                         &quot;application_closed&quot;                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 286                 );                                                                                       </span>
<span class="-7792835064107422696" onmouseenter="enter('-7792835064107422696');" onmouseout="out('-7792835064107422696');" style=""> 287                 AnalyticsTracker.flush();                                                                </span>
<span class="-6664472740739433069" onmouseenter="enter('-6664472740739433069');" onmouseout="out('-6664472740739433069');" style=""> 288                 AppLog.add(Type.ACTION, &quot;App closed&quot;);                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 289             } else {                                                                                     </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 290                 mIsInBackground = false;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292         }                                                                                                </span>
<span  style=""> 293                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 294         @Override                                                                                        </span>
<span class="6856792358586712593" onmouseenter="enter('6856792358586712593');" onmouseout="out('6856792358586712593');" style=""> 295         public void onConfigurationChanged(@NonNull Configuration newConfig) {                           </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 296             AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span  style=""> 298                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 299         @Override                                                                                        </span>
<span class="-4981664158563918121" onmouseenter="enter('-4981664158563918121');" onmouseout="out('-4981664158563918121');" style=""> 300         public void onLowMemory() {                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301         }                                                                                                </span>
<span  style=""> 302                                                                                                          </span>
<span class="-4597135701451302256" onmouseenter="enter('-4597135701451302256');" onmouseout="out('-4597135701451302256');" style=""> 303         // ActivityLifecycleCallbacks                                                                    </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style=""> 304         @SuppressLint(&quot;LongLogTag&quot;)                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 305         @Override                                                                                        </span>
<span class="-3924077821180675166" onmouseenter="enter('-3924077821180675166');" onmouseout="out('-3924077821180675166');" style=""> 306         public void onActivityResumed(@NonNull Activity activity) {                                      </span>
<span class="-1824713474309501961" onmouseenter="enter('-1824713474309501961');" onmouseout="out('-1824713474309501961');" style=""> 307             if (mIsInBackground) {                                                                       </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 308                 AnalyticsTracker.track(                                                                  </span>
<span class="-9053818901097240592" onmouseenter="enter('-9053818901097240592');" onmouseout="out('-9053818901097240592');" style=""> 309                         AnalyticsTracker.Stat.APPLICATION_OPENED,                                        </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 310                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="5765105888033949578" onmouseenter="enter('5765105888033949578');" onmouseout="out('5765105888033949578');" style=""> 311                         &quot;application_opened&quot;                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 312                 );                                                                                       </span>
<span  style=""> 313                                                                                                          </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 314                 mIsInBackground = false;                                                                 </span>
<span class="-6333475820451850994" onmouseenter="enter('-6333475820451850994');" onmouseout="out('-6333475820451850994');" style=""> 315                 AppLog.add(Type.ACTION, &quot;App opened&quot;);                                                   </span>
<span class="7194601290059164528" onmouseenter="enter('7194601290059164528');" onmouseout="out('7194601290059164528');" style=""> 316                 WorkManager.getInstance(getApplicationContext()).cancelUniqueWork(TAG_SYNC);             </span>
<span class="-5838238914207245906" onmouseenter="enter('-5838238914207245906');" onmouseout="out('-5838238914207245906');" style=""> 317                 Log.d(&quot;Simplenote.onActivityResumed&quot;, &quot;Stopped worker&quot;);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318             }                                                                                            </span>
<span  style=""> 319                                                                                                          </span>
<span class="5242495516731300622" onmouseenter="enter('5242495516731300622');" onmouseout="out('5242495516731300622');" style=""> 320             String activitySimpleName = activity.getClass().getSimpleName();                             </span>
<span  style=""> 321                                                                                                          </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style=""> 322             mPreferencesBucket.start();                                                                  </span>
<span class="-3539741953604827644" onmouseenter="enter('-3539741953604827644');" onmouseout="out('-3539741953604827644');" style=""> 323             AppLog.add(Type.SYNC, &quot;Started preference bucket (&quot; + activitySimpleName + &quot;)&quot;);             </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 324             mNotesBucket.start();                                                                        </span>
<span class="-9002409501487253211" onmouseenter="enter('-9002409501487253211');" onmouseout="out('-9002409501487253211');" style=""> 325             AppLog.add(Type.SYNC, &quot;Started note bucket (&quot; + activitySimpleName + &quot;)&quot;);                   </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 326             mTagsBucket.start();                                                                         </span>
<span class="2042044416855016901" onmouseenter="enter('2042044416855016901');" onmouseout="out('2042044416855016901');" style=""> 327             AppLog.add(Type.SYNC, &quot;Started tag bucket (&quot; + activitySimpleName + &quot;)&quot;);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328         }                                                                                                </span>
<span  style=""> 329                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 330         @Override                                                                                        </span>
<span class="3802784276197342934" onmouseenter="enter('3802784276197342934');" onmouseout="out('3802784276197342934');" style=""> 331         public void onActivityCreated(@NonNull Activity activity, Bundle savedInstanceState) {           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332         }                                                                                                </span>
<span  style=""> 333                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 334         @Override                                                                                        </span>
<span class="1925798780581030833" onmouseenter="enter('1925798780581030833');" onmouseout="out('1925798780581030833');" style=""> 335         public void onActivityStarted(@NonNull Activity activity) {                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336         }                                                                                                </span>
<span  style=""> 337                                                                                                          </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style=""> 338         @SuppressLint(&quot;LongLogTag&quot;)                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 339         @Override                                                                                        </span>
<span class="6762635398346313192" onmouseenter="enter('6762635398346313192');" onmouseout="out('6762635398346313192');" style=""> 340         public void onActivityPaused(@NonNull Activity activity) {                                       </span>
<span class="5599227697513165792" onmouseenter="enter('5599227697513165792');" onmouseout="out('5599227697513165792');" style=""> 341             PeriodicWorkRequest syncWorkRequest = new PeriodicWorkRequest.Builder(                       </span>
<span class="1408067071873564180" onmouseenter="enter('1408067071873564180');" onmouseout="out('1408067071873564180');" style=""> 342                 SyncWorker.class,                                                                        </span>
<span class="2973406529671611856" onmouseenter="enter('2973406529671611856');" onmouseout="out('2973406529671611856');" style=""> 343                 PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS,                                        </span>
<span class="-80463983603518610" onmouseenter="enter('-80463983603518610');" onmouseout="out('-80463983603518610');" style=""> 344                 TimeUnit.MILLISECONDS                                                                    </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 345             )                                                                                            </span>
<span class="-6346518985674576590" onmouseenter="enter('-6346518985674576590');" onmouseout="out('-6346518985674576590');" style=""><abbr title=" 346                 .setConstraints(new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build())"> 346                 .setConstraints(new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).b🔵</abbr></span>
<span class="1554687427185788181" onmouseenter="enter('1554687427185788181');" onmouseout="out('1554687427185788181');" style=""> 347                 .setBackoffCriteria(BackoffPolicy.LINEAR, ONE_MINUTE_MILLIS, TimeUnit.MILLISECONDS)      </span>
<span class="5453310388385914537" onmouseenter="enter('5453310388385914537');" onmouseout="out('5453310388385914537');" style=""> 348                 .setInitialDelay(TEN_SECONDS_MILLIS, TimeUnit.MILLISECONDS)                              </span>
<span class="8816433673387605168" onmouseenter="enter('8816433673387605168');" onmouseout="out('8816433673387605168');" style=""> 349                 .addTag(TAG_SYNC)                                                                        </span>
<span class="-368814941510255410" onmouseenter="enter('-368814941510255410');" onmouseout="out('-368814941510255410');" style=""> 350                 .build();                                                                                </span>
<span class="-957289309636137365" onmouseenter="enter('-957289309636137365');" onmouseout="out('-957289309636137365');" style=""> 351             WorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(                  </span>
<span class="1890759471518076421" onmouseenter="enter('1890759471518076421');" onmouseout="out('1890759471518076421');" style=""> 352                 TAG_SYNC,                                                                                </span>
<span class="7031641102110402794" onmouseenter="enter('7031641102110402794');" onmouseout="out('7031641102110402794');" style=""> 353                 ExistingPeriodicWorkPolicy.REPLACE,                                                      </span>
<span class="7844672442552797006" onmouseenter="enter('7844672442552797006');" onmouseout="out('7844672442552797006');" style=""> 354                 syncWorkRequest                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 355             );                                                                                           </span>
<span class="263107293015848994" onmouseenter="enter('263107293015848994');" onmouseout="out('263107293015848994');" style=""> 356             Log.d(&quot;Simplenote.onActivityPaused&quot;, &quot;Started worker&quot;);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357         }                                                                                                </span>
<span  style=""> 358                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 359         @Override                                                                                        </span>
<span class="-7982391621651416385" onmouseenter="enter('-7982391621651416385');" onmouseout="out('-7982391621651416385');" style=""> 360         public void onActivityStopped(@NonNull Activity activity) {                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361         }                                                                                                </span>
<span  style=""> 362                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 363         @Override                                                                                        </span>
<span class="2275335402994256657" onmouseenter="enter('2275335402994256657');" onmouseout="out('2275335402994256657');" style=""> 364         public void onActivitySaveInstanceState(@NonNull Activity activity, @NonNull Bundle outState) {  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365         }                                                                                                </span>
<span  style=""> 366                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 367         @Override                                                                                        </span>
<span class="7397501089288945407" onmouseenter="enter('7397501089288945407');" onmouseout="out('7397501089288945407');" style=""> 368         public void onActivityDestroyed(@NonNull Activity activity) {                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">   3 import android.annotation.SuppressLint;                                                                  </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">   5 import android.app.Application;                                                                          </span>
<span class="-5120547123096501078" onmouseenter="enter('-5120547123096501078');" onmouseout="out('-5120547123096501078');" style="">   6 import android.content.ComponentCallbacks2;                                                              </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">   7 import android.content.res.Configuration;                                                                </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   8 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   9 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">  10 import android.os.Handler;                                                                               </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  11 import android.util.Log;                                                                                 </span>
<span  style="">  12                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  13 import androidx.annotation.NonNull;                                                                      </span>
<span class="7702331687346133722" onmouseenter="enter('7702331687346133722');" onmouseout="out('7702331687346133722');" style="">  14 import androidx.appcompat.app.AppCompatDelegate;                                                         </span>
<span class="-5166869418136344301" onmouseenter="enter('-5166869418136344301');" onmouseout="out('-5166869418136344301');" style="">  15 import androidx.work.BackoffPolicy;                                                                      </span>
<span class="-4431582294891577664" onmouseenter="enter('-4431582294891577664');" onmouseout="out('-4431582294891577664');" style="">  16 import androidx.work.Constraints;                                                                        </span>
<span class="3185086351037345986" onmouseenter="enter('3185086351037345986');" onmouseout="out('3185086351037345986');" style="">  17 import androidx.work.ExistingPeriodicWorkPolicy;                                                         </span>
<span class="-3698903318922252687" onmouseenter="enter('-3698903318922252687');" onmouseout="out('-3698903318922252687');" style="">  18 import androidx.work.NetworkType;                                                                        </span>
<span class="2994979786497810699" onmouseenter="enter('2994979786497810699');" onmouseout="out('2994979786497810699');" style="">  19 import androidx.work.PeriodicWorkRequest;                                                                </span>
<span class="5786013396577205846" onmouseenter="enter('5786013396577205846');" onmouseout="out('5786013396577205846');" style="">  20 import androidx.work.WorkManager;                                                                        </span>
<span  style="">  21                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="-2312717542362407496" onmouseenter="enter('-2312717542362407496');" onmouseout="out('-2312717542362407496');" style="">  23 import com.automattic.simplenote.analytics.AnalyticsTrackerNosara;                                       </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="7102019831075911821" onmouseenter="enter('7102019831075911821');" onmouseout="out('7102019831075911821');" style="">  25 import com.automattic.simplenote.models.NoteCountIndexer;                                                </span>
<span class="4426422982983644373" onmouseenter="enter('4426422982983644373');" onmouseout="out('4426422982983644373');" style="">  26 import com.automattic.simplenote.models.NoteTagger;                                                      </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  27 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  28 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  29 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  30 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  31 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="8577850632926167445" onmouseenter="enter('8577850632926167445');" onmouseout="out('8577850632926167445');" style="">  32 import com.automattic.simplenote.utils.DisplayUtils;                                                     </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-5753381984404345794" onmouseenter="enter('-5753381984404345794');" onmouseout="out('-5753381984404345794');" style="">  34 import com.automattic.simplenote.utils.SyncWorker;                                                       </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  35 import com.simperium.Simperium;                                                                          </span>
<span class="1573888967082901106" onmouseenter="enter('1573888967082901106');" onmouseout="out('1573888967082901106');" style="">  36 import com.simperium.android.WebSocketManager;                                                           </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  37 import com.simperium.client.Bucket;                                                                      </span>
<span class="-6754815116321497467" onmouseenter="enter('-6754815116321497467');" onmouseout="out('-6754815116321497467');" style="">  38 import com.simperium.client.BucketNameInvalid;                                                           </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  39 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-6128914918417430442" onmouseenter="enter('-6128914918417430442');" onmouseout="out('-6128914918417430442');" style="">  40 import com.simperium.client.ChannelProvider.HeartbeatListener;                                           </span>
<span  style="">  41                                                                                                          </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  42 import org.wordpress.passcodelock.AppLockManager;                                                        </span>
<span  style="">  43                                                                                                          </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  44 import java.util.concurrent.TimeUnit;                                                                    </span>
<span  style="">  45                                                                                                          </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  46 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span  style="">  47                                                                                                          </span>
<span class="5261034755457737176" onmouseenter="enter('5261034755457737176');" onmouseout="out('5261034755457737176');" style="">  48 public class Simplenote extends Application implements HeartbeatListener {                               </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="">  49     public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                        </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="">  50     public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                      </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="">  51     public static final String TAG = &quot;Simplenote&quot;;                                                       </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="">  52     public static final int INTENT_EDIT_NOTE = 2;                                                        </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="">  53     public static final int INTENT_PREFERENCES = 1;                                                      </span>
<span class="-5098669518252943334" onmouseenter="enter('-5098669518252943334');" onmouseout="out('-5098669518252943334');" style="">  54     public static final int ONE_MINUTE_MILLIS = 60 * 1000;  // 10 seconds                                </span>
<span  style="">  55                                                                                                          </span>
<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="">  56     private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                        </span>
<span class="-87455105301036613" onmouseenter="enter('-87455105301036613');" onmouseout="out('-87455105301036613');" style="">  57     private static final String TAG_SYNC = &quot;sync&quot;;  // 60 seconds                                        </span>
<span class="-5107948123563597431" onmouseenter="enter('-5107948123563597431');" onmouseout="out('-5107948123563597431');" style="">  58     public static final int TEN_SECONDS_MILLIS = 10 * 1000;                                              </span>
<span class="4591981961767073369" onmouseenter="enter('4591981961767073369');" onmouseout="out('4591981961767073369');" style="">  59     private static final long HEARTBEAT_TIMEOUT =  WebSocketManager.HEARTBEAT_INTERVAL * 2;              </span>
<span  style="">  60                                                                                                          </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="">  61     private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                               </span>
<span  style="">  62                                                                                                          </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  63     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  64     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="1419071614229033804" onmouseenter="enter('1419071614229033804');" onmouseout="out('1419071614229033804');" style="">  65     private Handler mHeartbeatHandler;                                                                   </span>
<span class="-7581284801413594720" onmouseenter="enter('-7581284801413594720');" onmouseout="out('-7581284801413594720');" style="">  66     private Runnable mHeartbeatRunnable;                                                                 </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="">  67     private Simperium mSimperium;                                                                        </span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style="">  68     private boolean mIsInBackground = true;                                                              </span>
<span  style="">  69                                                                                                          </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  70     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  71         super.onCreate();                                                                                </span>
<span  style="">  72                                                                                                          </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style="">  73         CrashUtils.initWithContext(this);                                                                </span>
<span class="-3077027295691334658" onmouseenter="enter('-3077027295691334658');" onmouseout="out('-3077027295691334658');" style="">  74         AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);                              </span>
<span  style="">  75                                                                                                          </span>
<span class="-6610099647322125620" onmouseenter="enter('-6610099647322125620');" onmouseout="out('-6610099647322125620');" style="">  76         mSimperium = Simperium.newClient(                                                                </span>
<span class="-4695376588658458273" onmouseenter="enter('-4695376588658458273');" onmouseout="out('-4695376588658458273');" style="">  77                 BuildConfig.SIMPERIUM_APP_ID,                                                            </span>
<span class="4318504011662215607" onmouseenter="enter('4318504011662215607');" onmouseout="out('4318504011662215607');" style="">  78                 BuildConfig.SIMPERIUM_APP_KEY,                                                           </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style="">  79                 this                                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">  80         );                                                                                               </span>
<span  style="">  81                                                                                                          </span>
<span class="7031285256639409704" onmouseenter="enter('7031285256639409704');" onmouseout="out('7031285256639409704');" style="">  82         mSimperium.setAuthProvider(AUTH_PROVIDER);                                                       </span>
<span class="9065419810018319535" onmouseenter="enter('9065419810018319535');" onmouseout="out('9065419810018319535');" style="">  83         mSimperium.addHeartbeatListener(this);                                                           </span>
<span  style="">  84                                                                                                          </span>
<span class="-1855727841872273262" onmouseenter="enter('-1855727841872273262');" onmouseout="out('-1855727841872273262');" style="">  85         mHeartbeatHandler = new Handler();                                                               </span>
<span class="-1915212603929880067" onmouseenter="enter('-1915212603929880067');" onmouseout="out('-1915212603929880067');" style="">  86         mHeartbeatRunnable = new Runnable() {                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  87             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="">  88             public void run() {                                                                          </span>
<span class="4054271998020395502" onmouseenter="enter('4054271998020395502');" onmouseout="out('4054271998020395502');" style="">  89                 AppLog.add(Type.NETWORK, &quot;Heartbeat stopped&quot;);                                           </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style="">  90                 mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                   </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style="">  91                 mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  93         };                                                                                               </span>
<span  style="">  94                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  95         try {                                                                                            </span>
<span class="-3712083184111777754" onmouseenter="enter('-3712083184111777754');" onmouseout="out('-3712083184111777754');" style="">  96             mNotesBucket = mSimperium.bucket(new Note.Schema());                                         </span>
<span class="8722979014886483827" onmouseenter="enter('8722979014886483827');" onmouseout="out('8722979014886483827');" style="">  97             Tag.Schema tagSchema = new Tag.Schema();                                                     </span>
<span class="-9102287405513372469" onmouseenter="enter('-9102287405513372469');" onmouseout="out('-9102287405513372469');" style="">  98             tagSchema.addIndex(new NoteCountIndexer(mNotesBucket));                                      </span>
<span class="-175388701111242190" onmouseenter="enter('-175388701111242190');" onmouseout="out('-175388701111242190');" style="">  99             mTagsBucket = mSimperium.bucket(tagSchema);                                                  </span>
<span class="4439876589301981228" onmouseenter="enter('4439876589301981228');" onmouseout="out('4439876589301981228');" style=""> 100             mPreferencesBucket = mSimperium.bucket(new Preferences.Schema());                            </span>
<span class="6417103925919259383" onmouseenter="enter('6417103925919259383');" onmouseout="out('6417103925919259383');" style=""> 101             // Every time a note changes or is deleted we need to reindex the tag counts                 </span>
<span class="1028093174501664258" onmouseenter="enter('1028093174501664258');" onmouseout="out('1028093174501664258');" style=""> 102             mNotesBucket.addListener(new NoteTagger(mTagsBucket));                                       </span>
<span class="9150575117674564137" onmouseenter="enter('9150575117674564137');" onmouseout="out('9150575117674564137');" style=""> 103         } catch (BucketNameInvalid e) {                                                                  </span>
<span class="5045778340242790475" onmouseenter="enter('5045778340242790475');" onmouseout="out('5045778340242790475');" style=""> 104             throw new RuntimeException(&quot;Could not create bucket&quot;, e);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105         }                                                                                                </span>
<span  style=""> 106                                                                                                          </span>
<span class="-6104247182653922910" onmouseenter="enter('-6104247182653922910');" onmouseout="out('-6104247182653922910');" style=""> 107         AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);                                     </span>
<span  style=""> 108                                                                                                          </span>
<span class="1079457458543399093" onmouseenter="enter('1079457458543399093');" onmouseout="out('1079457458543399093');" style=""> 109         ApplicationLifecycleMonitor applicationLifecycleMonitor = new ApplicationLifecycleMonitor();     </span>
<span class="381596098670029908" onmouseenter="enter('381596098670029908');" onmouseout="out('381596098670029908');" style=""> 110         registerComponentCallbacks(applicationLifecycleMonitor);                                         </span>
<span class="-8076193737884381578" onmouseenter="enter('-8076193737884381578');" onmouseout="out('-8076193737884381578');" style=""> 111         registerActivityLifecycleCallbacks(applicationLifecycleMonitor);                                 </span>
<span  style=""> 112                                                                                                          </span>
<span class="1335392763825317999" onmouseenter="enter('1335392763825317999');" onmouseout="out('1335392763825317999');" style=""> 113         AnalyticsTracker.registerTracker(new AnalyticsTrackerNosara(this));                              </span>
<span class="-1844307234054360739" onmouseenter="enter('-1844307234054360739');" onmouseout="out('-1844307234054360739');" style=""> 114         AnalyticsTracker.refreshMetadata(mSimperium.getUser().getEmail());                               </span>
<span class="8399230582885161213" onmouseenter="enter('8399230582885161213');" onmouseout="out('8399230582885161213');" style=""> 115         CrashUtils.setCurrentUser(mSimperium.getUser());                                                 </span>
<span  style=""> 116                                                                                                          </span>
<span class="-1455224487599073617" onmouseenter="enter('-1455224487599073617');" onmouseout="out('-1455224487599073617');" style=""> 117         AppLog.add(Type.DEVICE, getDeviceInfo());                                                        </span>
<span class="-4084915558750483061" onmouseenter="enter('-4084915558750483061');" onmouseout="out('-4084915558750483061');" style=""> 118         AppLog.add(Type.ACCOUNT, getAccountInfo());                                                      </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 119         AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120     }                                                                                                    </span>
<span  style=""> 121                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 122     @Override                                                                                            </span>
<span class="7640484986889102054" onmouseenter="enter('7640484986889102054');" onmouseout="out('7640484986889102054');" style=""> 123     public void onBeat() {                                                                               </span>
<span class="7315421582655131800" onmouseenter="enter('7315421582655131800');" onmouseout="out('7315421582655131800');" style=""> 124         AppLog.add(Type.NETWORK, &quot;Heartbeat received&quot;);                                                  </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style=""> 125         mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                           </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style=""> 126         mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127     }                                                                                                    </span>
<span  style=""> 128                                                                                                          </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style=""> 129     @SuppressWarnings(&quot;unused&quot;)                                                                          </span>
<span class="7268646999054713936" onmouseenter="enter('7268646999054713936');" onmouseout="out('7268646999054713936');" style=""> 130     private boolean isFirstLaunch() {                                                                    </span>
<span class="4401662994174013480" onmouseenter="enter('4401662994174013480');" onmouseout="out('4401662994174013480');" style=""> 131         // NotesActivity sets this pref to false after first launch                                      </span>
<span class="5757483603403500826" onmouseenter="enter('5757483603403500826');" onmouseout="out('5757483603403500826');" style=""> 132         return PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133     }                                                                                                    </span>
<span  style=""> 134                                                                                                          </span>
<span class="-5261177328937716585" onmouseenter="enter('-5261177328937716585');" onmouseout="out('-5261177328937716585');" style=""> 135     public static boolean analyticsIsEnabled() {                                                         </span>
<span class="1755574756529165678" onmouseenter="enter('1755574756529165678');" onmouseout="out('1755574756529165678');" style=""> 136         if (mPreferencesBucket == null) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 137             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138         }                                                                                                </span>
<span  style=""> 139                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 140         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 141             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="1383721738222569542" onmouseenter="enter('1383721738222569542');" onmouseout="out('1383721738222569542');" style=""> 142             return prefs.getAnalyticsEnabled();                                                          </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 143         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 144             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147                                                                                                          </span>
<span class="4656537755100497713" onmouseenter="enter('4656537755100497713');" onmouseout="out('4656537755100497713');" style=""> 148     private String getAccountInfo() {                                                                    </span>
<span class="-4909194837402373696" onmouseenter="enter('-4909194837402373696');" onmouseout="out('-4909194837402373696');" style=""><abbr title=" 149         String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getEmail() : &quot;?&quot;);"> 149         String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUs🔵</abbr></span>
<span class="-1815219994356976513" onmouseenter="enter('-1815219994356976513');" onmouseout="out('-1815219994356976513');" style=""> 150         String notes = &quot;Notes: &quot; + (mNotesBucket != null ? mNotesBucket.count() : &quot;?&quot;);                  </span>
<span class="-4701463784795893558" onmouseenter="enter('-4701463784795893558');" onmouseout="out('-4701463784795893558');" style=""> 151         String tags = &quot;Tags: &quot; + (mTagsBucket != null ? mTagsBucket.count() : &quot;?&quot;);                      </span>
<span class="5597163353916173356" onmouseenter="enter('5597163353916173356');" onmouseout="out('5597163353916173356');" style=""> 152         return email + &quot;\n&quot; + notes + &quot;\n&quot; + tags + &quot;\n\n&quot;;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153     }                                                                                                    </span>
<span  style=""> 154                                                                                                          </span>
<span class="-4176269846075250192" onmouseenter="enter('-4176269846075250192');" onmouseout="out('-4176269846075250192');" style=""> 155     private String getDeviceInfo() {                                                                     </span>
<span class="7581408804502865572" onmouseenter="enter('7581408804502865572');" onmouseout="out('7581408804502865572');" style=""><abbr title=" 156         String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; : &quot;Android &quot;;"> 156         String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chro🔵</abbr></span>
<span class="-921339907737118722" onmouseenter="enter('-921339907737118722');" onmouseout="out('-921339907737118722');" style=""> 157         String device = &quot;Device: &quot; + Build.MANUFACTURER + &quot; &quot; + Build.MODEL + &quot; (&quot; + Build.DEVICE + &quot;)&quot;; </span>
<span class="-7970072835487477375" onmouseenter="enter('-7970072835487477375');" onmouseout="out('-7970072835487477375');" style=""><abbr title=" 158         String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT + &quot;)&quot;;"> 158         String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT 🔵</abbr></span>
<span class="3648033425382070956" onmouseenter="enter('3648033425382070956');" onmouseout="out('3648033425382070956');" style=""> 159         String app = &quot;App: Simplenote &quot; + PrefUtils.versionInfo();                                       </span>
<span class="6793127563363345208" onmouseenter="enter('6793127563363345208');" onmouseout="out('6793127563363345208');" style=""> 160         return device + &quot;\n&quot; + system + &quot;\n&quot; + app + &quot;\n\n&quot;;                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161     }                                                                                                    </span>
<span  style=""> 162                                                                                                          </span>
<span class="-2452840228833033114" onmouseenter="enter('-2452840228833033114');" onmouseout="out('-2452840228833033114');" style=""> 163     public Simperium getSimperium() {                                                                    </span>
<span class="-1067936515361198064" onmouseenter="enter('-1067936515361198064');" onmouseout="out('-1067936515361198064');" style=""> 164         return mSimperium;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165     }                                                                                                    </span>
<span  style=""> 166                                                                                                          </span>
<span class="8475950615112765175" onmouseenter="enter('8475950615112765175');" onmouseout="out('8475950615112765175');" style=""> 167     public Bucket&lt;Note&gt; getNotesBucket() {                                                               </span>
<span class="3001734825963445545" onmouseenter="enter('3001734825963445545');" onmouseout="out('3001734825963445545');" style=""> 168         return mNotesBucket;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169     }                                                                                                    </span>
<span  style=""> 170                                                                                                          </span>
<span class="1680392141704969043" onmouseenter="enter('1680392141704969043');" onmouseout="out('1680392141704969043');" style=""> 171     public Bucket&lt;Tag&gt; getTagsBucket() {                                                                 </span>
<span class="6135487691608919718" onmouseenter="enter('6135487691608919718');" onmouseout="out('6135487691608919718');" style=""> 172         return mTagsBucket;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173     }                                                                                                    </span>
<span  style=""> 174                                                                                                          </span>
<span class="-4506300185279466066" onmouseenter="enter('-4506300185279466066');" onmouseout="out('-4506300185279466066');" style=""> 175     public Bucket&lt;Preferences&gt; getPreferencesBucket() {                                                  </span>
<span class="6715102450829888836" onmouseenter="enter('6715102450829888836');" onmouseout="out('6715102450829888836');" style=""> 176         return mPreferencesBucket;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177     }                                                                                                    </span>
<span  style=""> 178                                                                                                          </span>
<span class="-5307885032361585350" onmouseenter="enter('-5307885032361585350');" onmouseout="out('-5307885032361585350');" style=""> 179     public boolean isInBackground() {                                                                    </span>
<span class="3812912940560000313" onmouseenter="enter('3812912940560000313');" onmouseout="out('3812912940560000313');" style=""> 180         return mIsInBackground;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181     }                                                                                                    </span>
<span  style=""> 182                                                                                                          </span>
<span class="72925131662297315" onmouseenter="enter('72925131662297315');" onmouseout="out('72925131662297315');" style=""><abbr title=" 183     private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, ComponentCallbacks2 {"> 183     private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, Componen🔵</abbr></span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style=""> 184         private boolean mIsInBackground = true;                                                          </span>
<span  style=""> 185                                                                                                          </span>
<span class="3103941996577506651" onmouseenter="enter('3103941996577506651');" onmouseout="out('3103941996577506651');" style=""> 186         // ComponentCallbacks                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187         @Override                                                                                        </span>
<span class="2274976836934101801" onmouseenter="enter('2274976836934101801');" onmouseout="out('2274976836934101801');" style=""> 188         public void onTrimMemory(int level) {                                                            </span>
<span class="-1837603280920501393" onmouseenter="enter('-1837603280920501393');" onmouseout="out('-1837603280920501393');" style=""> 189             if (level == ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {                                    </span>
<span class="-4583313459107718715" onmouseenter="enter('-4583313459107718715');" onmouseout="out('-4583313459107718715');" style=""> 190                 mIsInBackground = true;                                                                  </span>
<span  style=""> 191                                                                                                          </span>
<span class="-7450229904998226699" onmouseenter="enter('-7450229904998226699');" onmouseout="out('-7450229904998226699');" style=""> 192                 // Give the buckets some time to finish sync, then stop them                             </span>
<span class="7162501222170899627" onmouseenter="enter('7162501222170899627');" onmouseout="out('7162501222170899627');" style=""> 193                 new Handler().postDelayed(new Runnable() {                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 195                     public void run() {                                                                  </span>
<span class="1937243434374323959" onmouseenter="enter('1937243434374323959');" onmouseout="out('1937243434374323959');" style=""> 196                         if (!mIsInBackground) {                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 197                             return;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198                         }                                                                                </span>
<span  style=""> 199                                                                                                          </span>
<span class="6694920678363305995" onmouseenter="enter('6694920678363305995');" onmouseout="out('6694920678363305995');" style=""> 200                         if (mNotesBucket != null) {                                                      </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 201                             mNotesBucket.stop();                                                         </span>
<span class="-8256972624868266110" onmouseenter="enter('-8256972624868266110');" onmouseout="out('-8256972624868266110');" style=""> 202                             AppLog.add(Type.SYNC, &quot;Stopped note bucket (Simplenote)&quot;);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203                         }                                                                                </span>
<span  style=""> 204                                                                                                          </span>
<span class="-6758879846146730703" onmouseenter="enter('-6758879846146730703');" onmouseout="out('-6758879846146730703');" style=""> 205                         if (mTagsBucket != null) {                                                       </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 206                             mTagsBucket.stop();                                                          </span>
<span class="3632904236952271414" onmouseenter="enter('3632904236952271414');" onmouseout="out('3632904236952271414');" style=""> 207                             AppLog.add(Type.SYNC, &quot;Stopped tag bucket (Simplenote)&quot;);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208                         }                                                                                </span>
<span  style=""> 209                                                                                                          </span>
<span class="-6192025378026905457" onmouseenter="enter('-6192025378026905457');" onmouseout="out('-6192025378026905457');" style=""> 210                         if (mPreferencesBucket != null) {                                                </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 211                             mPreferencesBucket.stop();                                                   </span>
<span class="-5651227749650235797" onmouseenter="enter('-5651227749650235797');" onmouseout="out('-5651227749650235797');" style=""> 212                             AppLog.add(Type.SYNC, &quot;Stopped preference bucket (Simplenote)&quot;);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214                     }                                                                                    </span>
<span class="6786785065928556607" onmouseenter="enter('6786785065928556607');" onmouseout="out('6786785065928556607');" style=""> 215                 }, TEN_SECONDS_MILLIS);                                                                  </span>
<span  style=""> 216                                                                                                          </span>
<span class="-341478899160030823" onmouseenter="enter('-341478899160030823');" onmouseout="out('-341478899160030823');" style=""> 217                 // Send analytics if app is in the background                                            </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 218                 AnalyticsTracker.track(                                                                  </span>
<span class="3485374480742718668" onmouseenter="enter('3485374480742718668');" onmouseout="out('3485374480742718668');" style=""> 219                         AnalyticsTracker.Stat.APPLICATION_CLOSED,                                        </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 220                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="3140085526459106828" onmouseenter="enter('3140085526459106828');" onmouseout="out('3140085526459106828');" style=""> 221                         &quot;application_closed&quot;                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 222                 );                                                                                       </span>
<span class="-7792835064107422696" onmouseenter="enter('-7792835064107422696');" onmouseout="out('-7792835064107422696');" style=""> 223                 AnalyticsTracker.flush();                                                                </span>
<span class="-6664472740739433069" onmouseenter="enter('-6664472740739433069');" onmouseout="out('-6664472740739433069');" style=""> 224                 AppLog.add(Type.ACTION, &quot;App closed&quot;);                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 225             } else {                                                                                     </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 226                 mIsInBackground = false;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228         }                                                                                                </span>
<span  style=""> 229                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230         @Override                                                                                        </span>
<span class="6856792358586712593" onmouseenter="enter('6856792358586712593');" onmouseout="out('6856792358586712593');" style=""> 231         public void onConfigurationChanged(@NonNull Configuration newConfig) {                           </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 232             AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233         }                                                                                                </span>
<span  style=""> 234                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 235         @Override                                                                                        </span>
<span class="-4981664158563918121" onmouseenter="enter('-4981664158563918121');" onmouseout="out('-4981664158563918121');" style=""> 236         public void onLowMemory() {                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237         }                                                                                                </span>
<span  style=""> 238                                                                                                          </span>
<span class="-4597135701451302256" onmouseenter="enter('-4597135701451302256');" onmouseout="out('-4597135701451302256');" style=""> 239         // ActivityLifecycleCallbacks                                                                    </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style=""> 240         @SuppressLint(&quot;LongLogTag&quot;)                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 241 @Override                                                                                                </span>
<span class="-3924077821180675166" onmouseenter="enter('-3924077821180675166');" onmouseout="out('-3924077821180675166');" style=""> 242         public void onActivityResumed(@NonNull Activity activity) {                                      </span>
<span class="-1824713474309501961" onmouseenter="enter('-1824713474309501961');" onmouseout="out('-1824713474309501961');" style=""> 243             if (mIsInBackground) {                                                                       </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 244                 AnalyticsTracker.track(                                                                  </span>
<span class="-9053818901097240592" onmouseenter="enter('-9053818901097240592');" onmouseout="out('-9053818901097240592');" style=""> 245                         AnalyticsTracker.Stat.APPLICATION_OPENED,                                        </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 246                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="5765105888033949578" onmouseenter="enter('5765105888033949578');" onmouseout="out('5765105888033949578');" style=""> 247                         &quot;application_opened&quot;                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 248                 );                                                                                       </span>
<span  style=""> 249                                                                                                          </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 250                 mIsInBackground = false;                                                                 </span>
<span class="-6333475820451850994" onmouseenter="enter('-6333475820451850994');" onmouseout="out('-6333475820451850994');" style=""> 251                 AppLog.add(Type.ACTION, &quot;App opened&quot;);                                                   </span>
<span class="7194601290059164528" onmouseenter="enter('7194601290059164528');" onmouseout="out('7194601290059164528');" style=""> 252                 WorkManager.getInstance(getApplicationContext()).cancelUniqueWork(TAG_SYNC);             </span>
<span class="-5838238914207245906" onmouseenter="enter('-5838238914207245906');" onmouseout="out('-5838238914207245906');" style=""> 253                 Log.d(&quot;Simplenote.onActivityResumed&quot;, &quot;Stopped worker&quot;);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254             }                                                                                            </span>
<span  style=""> 255                                                                                                          </span>
<span class="5242495516731300622" onmouseenter="enter('5242495516731300622');" onmouseout="out('5242495516731300622');" style=""> 256             String activitySimpleName = activity.getClass().getSimpleName();                             </span>
<span  style=""> 257                                                                                                          </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style=""> 258             mPreferencesBucket.start();                                                                  </span>
<span class="-3539741953604827644" onmouseenter="enter('-3539741953604827644');" onmouseout="out('-3539741953604827644');" style=""> 259             AppLog.add(Type.SYNC, &quot;Started preference bucket (&quot; + activitySimpleName + &quot;)&quot;);             </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 260             mNotesBucket.start();                                                                        </span>
<span class="-9002409501487253211" onmouseenter="enter('-9002409501487253211');" onmouseout="out('-9002409501487253211');" style=""> 261             AppLog.add(Type.SYNC, &quot;Started note bucket (&quot; + activitySimpleName + &quot;)&quot;);                   </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 262             mTagsBucket.start();                                                                         </span>
<span class="2042044416855016901" onmouseenter="enter('2042044416855016901');" onmouseout="out('2042044416855016901');" style=""> 263             AppLog.add(Type.SYNC, &quot;Started tag bucket (&quot; + activitySimpleName + &quot;)&quot;);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264         }                                                                                                </span>
<span  style=""> 265                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 266         @Override                                                                                        </span>
<span class="3802784276197342934" onmouseenter="enter('3802784276197342934');" onmouseout="out('3802784276197342934');" style=""> 267         public void onActivityCreated(@NonNull Activity activity, Bundle savedInstanceState) {           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268         }                                                                                                </span>
<span  style=""> 269                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 270         @Override                                                                                        </span>
<span class="1925798780581030833" onmouseenter="enter('1925798780581030833');" onmouseout="out('1925798780581030833');" style=""> 271         public void onActivityStarted(@NonNull Activity activity) {                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272         }                                                                                                </span>
<span  style=""> 273                                                                                                          </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style=""> 274         @SuppressLint(&quot;LongLogTag&quot;)                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 275 @Override                                                                                                </span>
<span class="6762635398346313192" onmouseenter="enter('6762635398346313192');" onmouseout="out('6762635398346313192');" style=""> 276         public void onActivityPaused(@NonNull Activity activity) {                                       </span>
<span class="5599227697513165792" onmouseenter="enter('5599227697513165792');" onmouseout="out('5599227697513165792');" style=""> 277             PeriodicWorkRequest syncWorkRequest = new PeriodicWorkRequest.Builder(                       </span>
<span class="1408067071873564180" onmouseenter="enter('1408067071873564180');" onmouseout="out('1408067071873564180');" style=""> 278                 SyncWorker.class,                                                                        </span>
<span class="2973406529671611856" onmouseenter="enter('2973406529671611856');" onmouseout="out('2973406529671611856');" style=""> 279                 PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS,                                        </span>
<span class="-80463983603518610" onmouseenter="enter('-80463983603518610');" onmouseout="out('-80463983603518610');" style=""> 280                 TimeUnit.MILLISECONDS                                                                    </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 281             )                                                                                            </span>
<span class="-6346518985674576590" onmouseenter="enter('-6346518985674576590');" onmouseout="out('-6346518985674576590');" style=""><abbr title=" 282                 .setConstraints(new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build())"> 282                 .setConstraints(new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).b🔵</abbr></span>
<span class="1554687427185788181" onmouseenter="enter('1554687427185788181');" onmouseout="out('1554687427185788181');" style=""> 283                 .setBackoffCriteria(BackoffPolicy.LINEAR, ONE_MINUTE_MILLIS, TimeUnit.MILLISECONDS)      </span>
<span class="5453310388385914537" onmouseenter="enter('5453310388385914537');" onmouseout="out('5453310388385914537');" style=""> 284                 .setInitialDelay(TEN_SECONDS_MILLIS, TimeUnit.MILLISECONDS)                              </span>
<span class="8816433673387605168" onmouseenter="enter('8816433673387605168');" onmouseout="out('8816433673387605168');" style=""> 285                 .addTag(TAG_SYNC)                                                                        </span>
<span class="-368814941510255410" onmouseenter="enter('-368814941510255410');" onmouseout="out('-368814941510255410');" style=""> 286                 .build();                                                                                </span>
<span class="-957289309636137365" onmouseenter="enter('-957289309636137365');" onmouseout="out('-957289309636137365');" style=""> 287             WorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(                  </span>
<span class="1890759471518076421" onmouseenter="enter('1890759471518076421');" onmouseout="out('1890759471518076421');" style=""> 288                 TAG_SYNC,                                                                                </span>
<span class="7031641102110402794" onmouseenter="enter('7031641102110402794');" onmouseout="out('7031641102110402794');" style=""> 289                 ExistingPeriodicWorkPolicy.REPLACE,                                                      </span>
<span class="7844672442552797006" onmouseenter="enter('7844672442552797006');" onmouseout="out('7844672442552797006');" style=""> 290                 syncWorkRequest                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 291             );                                                                                           </span>
<span class="263107293015848994" onmouseenter="enter('263107293015848994');" onmouseout="out('263107293015848994');" style=""> 292             Log.d(&quot;Simplenote.onActivityPaused&quot;, &quot;Started worker&quot;);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span  style=""> 294                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 295         @Override                                                                                        </span>
<span class="-7982391621651416385" onmouseenter="enter('-7982391621651416385');" onmouseout="out('-7982391621651416385');" style=""> 296         public void onActivityStopped(@NonNull Activity activity) {                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span  style=""> 298                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 299         @Override                                                                                        </span>
<span class="2275335402994256657" onmouseenter="enter('2275335402994256657');" onmouseout="out('2275335402994256657');" style=""> 300         public void onActivitySaveInstanceState(@NonNull Activity activity, @NonNull Bundle outState) {  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301         }                                                                                                </span>
<span  style=""> 302                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 303         @Override                                                                                        </span>
<span class="7397501089288945407" onmouseenter="enter('7397501089288945407');" onmouseout="out('7397501089288945407');" style=""> 304         public void onActivityDestroyed(@NonNull Activity activity) {                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307 }                                                                                                        </span>






























































</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">   3 import android.annotation.SuppressLint;                                                                  </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">   5 import android.app.Application;                                                                          </span>
<span class="-5120547123096501078" onmouseenter="enter('-5120547123096501078');" onmouseout="out('-5120547123096501078');" style="">   6 import android.content.ComponentCallbacks2;                                                              </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">   7 import android.content.res.Configuration;                                                                </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   8 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   9 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">  10 import android.os.Handler;                                                                               </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  11 import android.util.Log;                                                                                 </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  12 import androidx.annotation.NonNull;                                                                      </span>
<span class="7702331687346133722" onmouseenter="enter('7702331687346133722');" onmouseout="out('7702331687346133722');" style="">  13 import androidx.appcompat.app.AppCompatDelegate;                                                         </span>
<span class="-5166869418136344301" onmouseenter="enter('-5166869418136344301');" onmouseout="out('-5166869418136344301');" style="">  14 import androidx.work.BackoffPolicy;                                                                      </span>
<span class="-4431582294891577664" onmouseenter="enter('-4431582294891577664');" onmouseout="out('-4431582294891577664');" style="">  15 import androidx.work.Constraints;                                                                        </span>
<span class="3185086351037345986" onmouseenter="enter('3185086351037345986');" onmouseout="out('3185086351037345986');" style="">  16 import androidx.work.ExistingPeriodicWorkPolicy;                                                         </span>
<span class="-3698903318922252687" onmouseenter="enter('-3698903318922252687');" onmouseout="out('-3698903318922252687');" style="">  17 import androidx.work.NetworkType;                                                                        </span>
<span class="2994979786497810699" onmouseenter="enter('2994979786497810699');" onmouseout="out('2994979786497810699');" style="">  18 import androidx.work.PeriodicWorkRequest;                                                                </span>
<span class="5786013396577205846" onmouseenter="enter('5786013396577205846');" onmouseout="out('5786013396577205846');" style="">  19 import androidx.work.WorkManager;                                                                        </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  20 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="-2312717542362407496" onmouseenter="enter('-2312717542362407496');" onmouseout="out('-2312717542362407496');" style="">  21 import com.automattic.simplenote.analytics.AnalyticsTrackerNosara;                                       </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  22 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="7102019831075911821" onmouseenter="enter('7102019831075911821');" onmouseout="out('7102019831075911821');" style="">  23 import com.automattic.simplenote.models.NoteCountIndexer;                                                </span>
<span class="4426422982983644373" onmouseenter="enter('4426422982983644373');" onmouseout="out('4426422982983644373');" style="">  24 import com.automattic.simplenote.models.NoteTagger;                                                      </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  25 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  26 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  27 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  28 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  29 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="8577850632926167445" onmouseenter="enter('8577850632926167445');" onmouseout="out('8577850632926167445');" style="">  30 import com.automattic.simplenote.utils.DisplayUtils;                                                     </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  31 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-5753381984404345794" onmouseenter="enter('-5753381984404345794');" onmouseout="out('-5753381984404345794');" style="">  32 import com.automattic.simplenote.utils.SyncWorker;                                                       </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  33 import com.simperium.Simperium;                                                                          </span>
<span class="1573888967082901106" onmouseenter="enter('1573888967082901106');" onmouseout="out('1573888967082901106');" style="">  34 import com.simperium.android.WebSocketManager;                                                           </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  35 import com.simperium.client.Bucket;                                                                      </span>
<span class="-6754815116321497467" onmouseenter="enter('-6754815116321497467');" onmouseout="out('-6754815116321497467');" style="">  36 import com.simperium.client.BucketNameInvalid;                                                           </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  37 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-6128914918417430442" onmouseenter="enter('-6128914918417430442');" onmouseout="out('-6128914918417430442');" style="">  38 import com.simperium.client.ChannelProvider.HeartbeatListener;                                           </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  39 import java.util.concurrent.TimeUnit;                                                                    </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  40 import org.wordpress.passcodelock.AppLockManager;                                                        </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  41 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span  style="">  42                                                                                                          </span>
<span  style="">  43                                                                                                          </span>
<span class="5261034755457737176" onmouseenter="enter('5261034755457737176');" onmouseout="out('5261034755457737176');" style="">  44 public class Simplenote extends Application implements HeartbeatListener {                               </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="">  45     public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                        </span>
<span  style="">  46                                                                                                          </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="">  47     public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                      </span>
<span  style="">  48                                                                                                          </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="">  49     public static final String TAG = &quot;Simplenote&quot;;                                                       </span>
<span  style="">  50                                                                                                          </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="">  51     public static final int INTENT_EDIT_NOTE = 2;                                                        </span>
<span  style="">  52                                                                                                          </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="">  53     public static final int INTENT_PREFERENCES = 1;                                                      </span>
<span  style="">  54                                                                                                          </span>
<span class="-4201540866437643781" onmouseenter="enter('-4201540866437643781');" onmouseout="out('-4201540866437643781');" style="">  55     // 60 seconds                                                                                        </span>
<span class="-7131135836515418231" onmouseenter="enter('-7131135836515418231');" onmouseout="out('-7131135836515418231');" style="">  56     public static final int ONE_MINUTE_MILLIS = 60 * 1000;  // 60 seconds                                </span>
<span  style="">  57                                                                                                          </span>
<span class="4948440771636580240" onmouseenter="enter('4948440771636580240');" onmouseout="out('4948440771636580240');" style="">  58     // 10 seconds                                                                                        </span>
<span class="2194585893201893968" onmouseenter="enter('2194585893201893968');" onmouseout="out('2194585893201893968');" style="">  59     public static final int TEN_SECONDS_MILLIS = 10 * 1000;  // 10 seconds                               </span>
<span  style="">  60                                                                                                          </span>
<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="">  61     private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                        </span>
<span  style="">  62                                                                                                          </span>
<span class="3318171237102217895" onmouseenter="enter('3318171237102217895');" onmouseout="out('3318171237102217895');" style="">  63     private static final String TAG_SYNC = &quot;sync&quot;;                                                       </span>
<span  style="">  64                                                                                                          </span>
<span class="4591981961767073369" onmouseenter="enter('4591981961767073369');" onmouseout="out('4591981961767073369');" style="">  65     private static final long HEARTBEAT_TIMEOUT =  WebSocketManager.HEARTBEAT_INTERVAL * 2;              </span>
<span  style="">  66                                                                                                          </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="">  67     private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                               </span>
<span  style="">  68                                                                                                          </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  69     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span  style="">  70                                                                                                          </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  71     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span  style="">  72                                                                                                          </span>
<span class="1419071614229033804" onmouseenter="enter('1419071614229033804');" onmouseout="out('1419071614229033804');" style="">  73     private Handler mHeartbeatHandler;                                                                   </span>
<span  style="">  74                                                                                                          </span>
<span class="-7581284801413594720" onmouseenter="enter('-7581284801413594720');" onmouseout="out('-7581284801413594720');" style="">  75     private Runnable mHeartbeatRunnable;                                                                 </span>
<span  style="">  76                                                                                                          </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="">  77     private Simperium mSimperium;                                                                        </span>
<span  style="">  78                                                                                                          </span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style="">  79     private boolean mIsInBackground = true;                                                              </span>
<span  style="">  80                                                                                                          </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  81     public void onCreate() {                                                                             </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  82         super.onCreate();                                                                                </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style="">  83         CrashUtils.initWithContext(this);                                                                </span>
<span class="-3077027295691334658" onmouseenter="enter('-3077027295691334658');" onmouseout="out('-3077027295691334658');" style="">  84         AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);                              </span>
<span class="5255651973339491646" onmouseenter="enter('5255651973339491646');" onmouseout="out('5255651973339491646');" style=""><abbr title="  85         mSimperium = Simperium.newClient(BuildConfig.SIMPERIUM_APP_ID, BuildConfig.SIMPERIUM_APP_KEY, this);">  85         mSimperium = Simperium.newClient(BuildConfig.SIMPERIUM_APP_ID, BuildConfig.SIMPERIUM_APP_KEY, thi🔵</abbr></span>
<span class="7031285256639409704" onmouseenter="enter('7031285256639409704');" onmouseout="out('7031285256639409704');" style="">  86         mSimperium.setAuthProvider(AUTH_PROVIDER);                                                       </span>
<span class="9065419810018319535" onmouseenter="enter('9065419810018319535');" onmouseout="out('9065419810018319535');" style="">  87         mSimperium.addHeartbeatListener(this);                                                           </span>
<span class="-1855727841872273262" onmouseenter="enter('-1855727841872273262');" onmouseout="out('-1855727841872273262');" style="">  88         mHeartbeatHandler = new Handler();                                                               </span>
<span class="-1915212603929880067" onmouseenter="enter('-1915212603929880067');" onmouseout="out('-1915212603929880067');" style="">  89         mHeartbeatRunnable = new Runnable() {                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  90             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="">  91             public void run() {                                                                          </span>
<span class="4054271998020395502" onmouseenter="enter('4054271998020395502');" onmouseout="out('4054271998020395502');" style="">  92                 AppLog.add(Type.NETWORK, &quot;Heartbeat stopped&quot;);                                           </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style="">  93                 mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                   </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style="">  94                 mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  96         };                                                                                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  97         try {                                                                                            </span>
<span class="-3712083184111777754" onmouseenter="enter('-3712083184111777754');" onmouseout="out('-3712083184111777754');" style="">  98             mNotesBucket = mSimperium.bucket(new Note.Schema());                                         </span>
<span class="8722979014886483827" onmouseenter="enter('8722979014886483827');" onmouseout="out('8722979014886483827');" style="">  99             Tag.Schema tagSchema = new Tag.Schema();                                                     </span>
<span class="-9102287405513372469" onmouseenter="enter('-9102287405513372469');" onmouseout="out('-9102287405513372469');" style=""> 100             tagSchema.addIndex(new NoteCountIndexer(mNotesBucket));                                      </span>
<span class="-175388701111242190" onmouseenter="enter('-175388701111242190');" onmouseout="out('-175388701111242190');" style=""> 101             mTagsBucket = mSimperium.bucket(tagSchema);                                                  </span>
<span class="4439876589301981228" onmouseenter="enter('4439876589301981228');" onmouseout="out('4439876589301981228');" style=""> 102             mPreferencesBucket = mSimperium.bucket(new Preferences.Schema());                            </span>
<span class="6417103925919259383" onmouseenter="enter('6417103925919259383');" onmouseout="out('6417103925919259383');" style=""> 103             // Every time a note changes or is deleted we need to reindex the tag counts                 </span>
<span class="1028093174501664258" onmouseenter="enter('1028093174501664258');" onmouseout="out('1028093174501664258');" style=""> 104             mNotesBucket.addListener(new NoteTagger(mTagsBucket));                                       </span>
<span class="9150575117674564137" onmouseenter="enter('9150575117674564137');" onmouseout="out('9150575117674564137');" style=""> 105         } catch (BucketNameInvalid e) {                                                                  </span>
<span class="5045778340242790475" onmouseenter="enter('5045778340242790475');" onmouseout="out('5045778340242790475');" style=""> 106             throw new RuntimeException(&quot;Could not create bucket&quot;, e);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107         }                                                                                                </span>
<span class="-6104247182653922910" onmouseenter="enter('-6104247182653922910');" onmouseout="out('-6104247182653922910');" style=""> 108         AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);                                     </span>
<span class="1079457458543399093" onmouseenter="enter('1079457458543399093');" onmouseout="out('1079457458543399093');" style=""> 109         ApplicationLifecycleMonitor applicationLifecycleMonitor = new ApplicationLifecycleMonitor();     </span>
<span class="381596098670029908" onmouseenter="enter('381596098670029908');" onmouseout="out('381596098670029908');" style=""> 110         registerComponentCallbacks(applicationLifecycleMonitor);                                         </span>
<span class="-8076193737884381578" onmouseenter="enter('-8076193737884381578');" onmouseout="out('-8076193737884381578');" style=""> 111         registerActivityLifecycleCallbacks(applicationLifecycleMonitor);                                 </span>
<span class="1335392763825317999" onmouseenter="enter('1335392763825317999');" onmouseout="out('1335392763825317999');" style=""> 112         AnalyticsTracker.registerTracker(new AnalyticsTrackerNosara(this));                              </span>
<span class="-1844307234054360739" onmouseenter="enter('-1844307234054360739');" onmouseout="out('-1844307234054360739');" style=""> 113         AnalyticsTracker.refreshMetadata(mSimperium.getUser().getEmail());                               </span>
<span class="8399230582885161213" onmouseenter="enter('8399230582885161213');" onmouseout="out('8399230582885161213');" style=""> 114         CrashUtils.setCurrentUser(mSimperium.getUser());                                                 </span>
<span class="-1455224487599073617" onmouseenter="enter('-1455224487599073617');" onmouseout="out('-1455224487599073617');" style=""> 115         AppLog.add(Type.DEVICE, getDeviceInfo());                                                        </span>
<span class="-4084915558750483061" onmouseenter="enter('-4084915558750483061');" onmouseout="out('-4084915558750483061');" style=""> 116         AppLog.add(Type.ACCOUNT, getAccountInfo());                                                      </span>
<span class="2836855866522176624" onmouseenter="enter('2836855866522176624');" onmouseout="out('2836855866522176624');" style=""> 117         AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(this));                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118     }                                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 120     @Override                                                                                            </span>
<span class="7640484986889102054" onmouseenter="enter('7640484986889102054');" onmouseout="out('7640484986889102054');" style=""> 121     public void onBeat() {                                                                               </span>
<span class="7315421582655131800" onmouseenter="enter('7315421582655131800');" onmouseout="out('7315421582655131800');" style=""> 122         AppLog.add(Type.NETWORK, &quot;Heartbeat received&quot;);                                                  </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style=""> 123         mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                           </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style=""> 124         mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125     }                                                                                                    </span>
<span  style=""> 126                                                                                                          </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style=""> 127     @SuppressWarnings(&quot;unused&quot;)                                                                          </span>
<span class="7268646999054713936" onmouseenter="enter('7268646999054713936');" onmouseout="out('7268646999054713936');" style=""> 128     private boolean isFirstLaunch() {                                                                    </span>
<span class="4401662994174013480" onmouseenter="enter('4401662994174013480');" onmouseout="out('4401662994174013480');" style=""> 129         // NotesActivity sets this pref to false after first launch                                      </span>
<span class="5757483603403500826" onmouseenter="enter('5757483603403500826');" onmouseout="out('5757483603403500826');" style=""> 130         return PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="-5261177328937716585" onmouseenter="enter('-5261177328937716585');" onmouseout="out('-5261177328937716585');" style=""> 133     public static boolean analyticsIsEnabled() {                                                         </span>
<span class="1755574756529165678" onmouseenter="enter('1755574756529165678');" onmouseout="out('1755574756529165678');" style=""> 134         if (mPreferencesBucket == null) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 135             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136         }                                                                                                </span>
<span  style=""> 137                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 138         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 139             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="1383721738222569542" onmouseenter="enter('1383721738222569542');" onmouseout="out('1383721738222569542');" style=""> 140             return prefs.getAnalyticsEnabled();                                                          </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 141         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 142             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span  style=""> 145                                                                                                          </span>
<span class="4656537755100497713" onmouseenter="enter('4656537755100497713');" onmouseout="out('4656537755100497713');" style=""> 146     private String getAccountInfo() {                                                                    </span>
<span class="-4909194837402373696" onmouseenter="enter('-4909194837402373696');" onmouseout="out('-4909194837402373696');" style=""><abbr title=" 147         String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getEmail() : &quot;?&quot;);"> 147         String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUs🔵</abbr></span>
<span class="-1815219994356976513" onmouseenter="enter('-1815219994356976513');" onmouseout="out('-1815219994356976513');" style=""> 148         String notes = &quot;Notes: &quot; + (mNotesBucket != null ? mNotesBucket.count() : &quot;?&quot;);                  </span>
<span class="-4701463784795893558" onmouseenter="enter('-4701463784795893558');" onmouseout="out('-4701463784795893558');" style=""> 149         String tags = &quot;Tags: &quot; + (mTagsBucket != null ? mTagsBucket.count() : &quot;?&quot;);                      </span>
<span class="5597163353916173356" onmouseenter="enter('5597163353916173356');" onmouseout="out('5597163353916173356');" style=""> 150         return email + &quot;\n&quot; + notes + &quot;\n&quot; + tags + &quot;\n\n&quot;;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151     }                                                                                                    </span>
<span  style=""> 152                                                                                                          </span>
<span class="-4176269846075250192" onmouseenter="enter('-4176269846075250192');" onmouseout="out('-4176269846075250192');" style=""> 153     private String getDeviceInfo() {                                                                     </span>
<span class="7581408804502865572" onmouseenter="enter('7581408804502865572');" onmouseout="out('7581408804502865572');" style=""><abbr title=" 154         String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; : &quot;Android &quot;;"> 154         String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chro🔵</abbr></span>
<span class="-921339907737118722" onmouseenter="enter('-921339907737118722');" onmouseout="out('-921339907737118722');" style=""> 155         String device = &quot;Device: &quot; + Build.MANUFACTURER + &quot; &quot; + Build.MODEL + &quot; (&quot; + Build.DEVICE + &quot;)&quot;; </span>
<span class="-7970072835487477375" onmouseenter="enter('-7970072835487477375');" onmouseout="out('-7970072835487477375');" style=""><abbr title=" 156         String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT + &quot;)&quot;;"> 156         String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT 🔵</abbr></span>
<span class="3648033425382070956" onmouseenter="enter('3648033425382070956');" onmouseout="out('3648033425382070956');" style=""> 157         String app = &quot;App: Simplenote &quot; + PrefUtils.versionInfo();                                       </span>
<span class="6793127563363345208" onmouseenter="enter('6793127563363345208');" onmouseout="out('6793127563363345208');" style=""> 158         return device + &quot;\n&quot; + system + &quot;\n&quot; + app + &quot;\n\n&quot;;                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159     }                                                                                                    </span>
<span  style=""> 160                                                                                                          </span>
<span class="-2452840228833033114" onmouseenter="enter('-2452840228833033114');" onmouseout="out('-2452840228833033114');" style=""> 161     public Simperium getSimperium() {                                                                    </span>
<span class="-1067936515361198064" onmouseenter="enter('-1067936515361198064');" onmouseout="out('-1067936515361198064');" style=""> 162         return mSimperium;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="8475950615112765175" onmouseenter="enter('8475950615112765175');" onmouseout="out('8475950615112765175');" style=""> 165     public Bucket&lt;Note&gt; getNotesBucket() {                                                               </span>
<span class="3001734825963445545" onmouseenter="enter('3001734825963445545');" onmouseout="out('3001734825963445545');" style=""> 166         return mNotesBucket;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167     }                                                                                                    </span>
<span  style=""> 168                                                                                                          </span>
<span class="1680392141704969043" onmouseenter="enter('1680392141704969043');" onmouseout="out('1680392141704969043');" style=""> 169     public Bucket&lt;Tag&gt; getTagsBucket() {                                                                 </span>
<span class="6135487691608919718" onmouseenter="enter('6135487691608919718');" onmouseout="out('6135487691608919718');" style=""> 170         return mTagsBucket;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span  style=""> 172                                                                                                          </span>
<span class="-4506300185279466066" onmouseenter="enter('-4506300185279466066');" onmouseout="out('-4506300185279466066');" style=""> 173     public Bucket&lt;Preferences&gt; getPreferencesBucket() {                                                  </span>
<span class="6715102450829888836" onmouseenter="enter('6715102450829888836');" onmouseout="out('6715102450829888836');" style=""> 174         return mPreferencesBucket;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="-5307885032361585350" onmouseenter="enter('-5307885032361585350');" onmouseout="out('-5307885032361585350');" style=""> 177     public boolean isInBackground() {                                                                    </span>
<span class="3812912940560000313" onmouseenter="enter('3812912940560000313');" onmouseout="out('3812912940560000313');" style=""> 178         return mIsInBackground;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179     }                                                                                                    </span>
<span  style=""> 180                                                                                                          </span>
<span class="5958494264761392989" onmouseenter="enter('5958494264761392989');" onmouseout="out('5958494264761392989');" style=""><abbr title=" 181     private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks , ComponentCallbacks2 {"> 181     private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks , Compone🔵</abbr></span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style=""> 182         private boolean mIsInBackground = true;                                                          </span>
<span  style=""> 183                                                                                                          </span>
<span class="3103941996577506651" onmouseenter="enter('3103941996577506651');" onmouseout="out('3103941996577506651');" style=""> 184         // ComponentCallbacks                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185         @Override                                                                                        </span>
<span class="2274976836934101801" onmouseenter="enter('2274976836934101801');" onmouseout="out('2274976836934101801');" style=""> 186         public void onTrimMemory(int level) {                                                            </span>
<span class="-1837603280920501393" onmouseenter="enter('-1837603280920501393');" onmouseout="out('-1837603280920501393');" style=""> 187             if (level == ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {                                    </span>
<span class="-4583313459107718715" onmouseenter="enter('-4583313459107718715');" onmouseout="out('-4583313459107718715');" style=""> 188                 mIsInBackground = true;                                                                  </span>
<span  style=""> 189                                                                                                          </span>
<span class="-7450229904998226699" onmouseenter="enter('-7450229904998226699');" onmouseout="out('-7450229904998226699');" style=""> 190                 // Give the buckets some time to finish sync, then stop them                             </span>
<span class="7162501222170899627" onmouseenter="enter('7162501222170899627');" onmouseout="out('7162501222170899627');" style=""> 191                 new Handler().postDelayed(new Runnable() {                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 192                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 193                     public void run() {                                                                  </span>
<span class="1937243434374323959" onmouseenter="enter('1937243434374323959');" onmouseout="out('1937243434374323959');" style=""> 194                         if (!mIsInBackground) {                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 195                             return;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196                         }                                                                                </span>
<span  style=""> 197                                                                                                          </span>
<span class="6694920678363305995" onmouseenter="enter('6694920678363305995');" onmouseout="out('6694920678363305995');" style=""> 198                         if (mNotesBucket != null) {                                                      </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 199                             mNotesBucket.stop();                                                         </span>
<span class="-8256972624868266110" onmouseenter="enter('-8256972624868266110');" onmouseout="out('-8256972624868266110');" style=""> 200                             AppLog.add(Type.SYNC, &quot;Stopped note bucket (Simplenote)&quot;);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                         }                                                                                </span>
<span  style=""> 202                                                                                                          </span>
<span class="-6758879846146730703" onmouseenter="enter('-6758879846146730703');" onmouseout="out('-6758879846146730703');" style=""> 203                         if (mTagsBucket != null) {                                                       </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 204                             mTagsBucket.stop();                                                          </span>
<span class="3632904236952271414" onmouseenter="enter('3632904236952271414');" onmouseout="out('3632904236952271414');" style=""> 205                             AppLog.add(Type.SYNC, &quot;Stopped tag bucket (Simplenote)&quot;);                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206                         }                                                                                </span>
<span  style=""> 207                                                                                                          </span>
<span class="-6192025378026905457" onmouseenter="enter('-6192025378026905457');" onmouseout="out('-6192025378026905457');" style=""> 208                         if (mPreferencesBucket != null) {                                                </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 209                             mPreferencesBucket.stop();                                                   </span>
<span class="-5651227749650235797" onmouseenter="enter('-5651227749650235797');" onmouseout="out('-5651227749650235797');" style=""> 210                             AppLog.add(Type.SYNC, &quot;Stopped preference bucket (Simplenote)&quot;);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212                     }                                                                                    </span>
<span class="6786785065928556607" onmouseenter="enter('6786785065928556607');" onmouseout="out('6786785065928556607');" style=""> 213                 }, TEN_SECONDS_MILLIS);                                                                  </span>
<span  style=""> 214                                                                                                          </span>
<span class="-341478899160030823" onmouseenter="enter('-341478899160030823');" onmouseout="out('-341478899160030823');" style=""> 215                 // Send analytics if app is in the background                                            </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 216                 AnalyticsTracker.track(                                                                  </span>
<span class="3485374480742718668" onmouseenter="enter('3485374480742718668');" onmouseout="out('3485374480742718668');" style=""> 217                         AnalyticsTracker.Stat.APPLICATION_CLOSED,                                        </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 218                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="3140085526459106828" onmouseenter="enter('3140085526459106828');" onmouseout="out('3140085526459106828');" style=""> 219                         &quot;application_closed&quot;                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 220                 );                                                                                       </span>
<span class="-7792835064107422696" onmouseenter="enter('-7792835064107422696');" onmouseout="out('-7792835064107422696');" style=""> 221                 AnalyticsTracker.flush();                                                                </span>
<span class="-6664472740739433069" onmouseenter="enter('-6664472740739433069');" onmouseout="out('-6664472740739433069');" style=""> 222                 AppLog.add(Type.ACTION, &quot;App closed&quot;);                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 223             } else {                                                                                     </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 224                 mIsInBackground = false;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226         }                                                                                                </span>
<span  style=""> 227                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 228         @Override                                                                                        </span>
<span class="6856792358586712593" onmouseenter="enter('6856792358586712593');" onmouseout="out('6856792358586712593');" style=""> 229         public void onConfigurationChanged(@NonNull Configuration newConfig) {                           </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 230             AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231         }                                                                                                </span>
<span  style=""> 232                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 233         @Override                                                                                        </span>
<span class="-4981664158563918121" onmouseenter="enter('-4981664158563918121');" onmouseout="out('-4981664158563918121');" style=""> 234         public void onLowMemory() {                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235         }                                                                                                </span>
<span  style=""> 236                                                                                                          </span>
<span class="-4597135701451302256" onmouseenter="enter('-4597135701451302256');" onmouseout="out('-4597135701451302256');" style=""> 237         // ActivityLifecycleCallbacks                                                                    </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style=""> 238         @SuppressLint(&quot;LongLogTag&quot;)                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 239         @Override                                                                                        </span>
<span class="4019330588875772714" onmouseenter="enter('4019330588875772714');" onmouseout="out('4019330588875772714');" style=""> 240         public void onActivityResumed(@NonNull                                                           </span>
<span class="7197252147044558293" onmouseenter="enter('7197252147044558293');" onmouseout="out('7197252147044558293');" style=""> 241         Activity activity) {                                                                             </span>
<span class="-1824713474309501961" onmouseenter="enter('-1824713474309501961');" onmouseout="out('-1824713474309501961');" style=""> 242             if (mIsInBackground) {                                                                       </span>
<span class="7314053564586158338" onmouseenter="enter('7314053564586158338');" onmouseout="out('7314053564586158338');" style=""><abbr title=" 243                 AnalyticsTracker.track(AnalyticsTracker.Stat.APPLICATION_OPENED, AnalyticsTracker.CATEGORY_USER, &quot;application_opened&quot;);"> 243                 AnalyticsTracker.track(AnalyticsTracker.Stat.APPLICATION_OPENED, AnalyticsTracker.CATEGOR🔵</abbr></span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 244                 mIsInBackground = false;                                                                 </span>
<span class="-6333475820451850994" onmouseenter="enter('-6333475820451850994');" onmouseout="out('-6333475820451850994');" style=""> 245                 AppLog.add(Type.ACTION, &quot;App opened&quot;);                                                   </span>
<span class="7194601290059164528" onmouseenter="enter('7194601290059164528');" onmouseout="out('7194601290059164528');" style=""> 246                 WorkManager.getInstance(getApplicationContext()).cancelUniqueWork(TAG_SYNC);             </span>
<span class="-5838238914207245906" onmouseenter="enter('-5838238914207245906');" onmouseout="out('-5838238914207245906');" style=""> 247                 Log.d(&quot;Simplenote.onActivityResumed&quot;, &quot;Stopped worker&quot;);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248             }                                                                                            </span>
<span class="5242495516731300622" onmouseenter="enter('5242495516731300622');" onmouseout="out('5242495516731300622');" style=""> 249             String activitySimpleName = activity.getClass().getSimpleName();                             </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style=""> 250             mPreferencesBucket.start();                                                                  </span>
<span class="-6243503560984864300" onmouseenter="enter('-6243503560984864300');" onmouseout="out('-6243503560984864300');" style=""> 251             AppLog.add(Type.SYNC, (&quot;Started preference bucket (&quot; + activitySimpleName) + &quot;)&quot;);           </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 252             mNotesBucket.start();                                                                        </span>
<span class="3894246049559393972" onmouseenter="enter('3894246049559393972');" onmouseout="out('3894246049559393972');" style=""> 253             AppLog.add(Type.SYNC, (&quot;Started note bucket (&quot; + activitySimpleName) + &quot;)&quot;);                 </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 254             mTagsBucket.start();                                                                         </span>
<span class="109437135735631004" onmouseenter="enter('109437135735631004');" onmouseout="out('109437135735631004');" style=""> 255             AppLog.add(Type.SYNC, (&quot;Started tag bucket (&quot; + activitySimpleName) + &quot;)&quot;);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256         }                                                                                                </span>
<span  style=""> 257                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258         @Override                                                                                        </span>
<span class="3802784276197342934" onmouseenter="enter('3802784276197342934');" onmouseout="out('3802784276197342934');" style=""> 259         public void onActivityCreated(@NonNull Activity activity, Bundle savedInstanceState) {           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260         }                                                                                                </span>
<span  style=""> 261                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 262         @Override                                                                                        </span>
<span class="1925798780581030833" onmouseenter="enter('1925798780581030833');" onmouseout="out('1925798780581030833');" style=""> 263         public void onActivityStarted(@NonNull Activity activity) {                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264         }                                                                                                </span>
<span  style=""> 265                                                                                                          </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style=""> 266         @SuppressLint(&quot;LongLogTag&quot;)                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267         @Override                                                                                        </span>
<span class="-6442567596938524068" onmouseenter="enter('-6442567596938524068');" onmouseout="out('-6442567596938524068');" style=""> 268         public void onActivityPaused(@NonNull                                                            </span>
<span class="7197252147044558293" onmouseenter="enter('7197252147044558293');" onmouseout="out('7197252147044558293');" style=""> 269         Activity activity) {                                                                             </span>
<span class="-6005578493699712115" onmouseenter="enter('-6005578493699712115');" onmouseout="out('-6005578493699712115');" style=""><abbr title=" 270             PeriodicWorkRequest syncWorkRequest = new PeriodicWorkRequest.Builder(SyncWorker.class, PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS, TimeUnit.MILLISECONDS).setConstraints(new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()).setBackoffCriteria(BackoffPolicy.LINEAR, ONE_MINUTE_MILLIS, TimeUnit.MILLISECONDS).setInitialDelay(TEN_SECONDS_MILLIS, TimeUnit.MILLISECONDS).addTag(TAG_SYNC).build();"> 270             PeriodicWorkRequest syncWorkRequest = new PeriodicWorkRequest.Builder(SyncWorker.class, Perio🔵</abbr></span>
<span class="2965647875197666378" onmouseenter="enter('2965647875197666378');" onmouseout="out('2965647875197666378');" style=""><abbr title=" 271             WorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(TAG_SYNC, ExistingPeriodicWorkPolicy.REPLACE, syncWorkRequest);"> 271             WorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(TAG_SYNC, Existing🔵</abbr></span>
<span class="263107293015848994" onmouseenter="enter('263107293015848994');" onmouseout="out('263107293015848994');" style=""> 272             Log.d(&quot;Simplenote.onActivityPaused&quot;, &quot;Started worker&quot;);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273         }                                                                                                </span>
<span  style=""> 274                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 275         @Override                                                                                        </span>
<span class="-7982391621651416385" onmouseenter="enter('-7982391621651416385');" onmouseout="out('-7982391621651416385');" style=""> 276         public void onActivityStopped(@NonNull Activity activity) {                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277         }                                                                                                </span>
<span  style=""> 278                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 279         @Override                                                                                        </span>
<span class="2275335402994256657" onmouseenter="enter('2275335402994256657');" onmouseout="out('2275335402994256657');" style=""> 280         public void onActivitySaveInstanceState(@NonNull Activity activity, @NonNull Bundle outState) {  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281         }                                                                                                </span>
<span  style=""> 282                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 283         @Override                                                                                        </span>
<span class="7397501089288945407" onmouseenter="enter('7397501089288945407');" onmouseout="out('7397501089288945407');" style=""> 284         public void onActivityDestroyed(@NonNull Activity activity) {                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287 }                                                                                                        </span>


















































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   3 +import android.annotation.SuppressLint;                                                                           </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">   5  import android.app.Application;                                                                                   </span>
<span class="-5120547123096501078" onmouseenter="enter('-5120547123096501078');" onmouseout="out('-5120547123096501078');" style="">   6  import android.content.ComponentCallbacks2;                                                                       </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">   7  import android.content.res.Configuration;                                                                         </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   8  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   9  import android.os.Bundle;                                                                                         </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">  10  import android.os.Handler;                                                                                        </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 +import android.util.Log;                                                                                          </span>
<span  style="">  12                                                                                                                    </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  13  import androidx.annotation.NonNull;                                                                               </span>
<span class="7702331687346133722" onmouseenter="enter('7702331687346133722');" onmouseout="out('7702331687346133722');" style="">  14  import androidx.appcompat.app.AppCompatDelegate;                                                                  </span>
<span class="-5166869418136344301" onmouseenter="enter('-5166869418136344301');" onmouseout="out('-5166869418136344301');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  15 +import androidx.work.BackoffPolicy;                                                                               </span>
<span class="-4431582294891577664" onmouseenter="enter('-4431582294891577664');" onmouseout="out('-4431582294891577664');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  16 +import androidx.work.Constraints;                                                                                 </span>
<span class="3185086351037345986" onmouseenter="enter('3185086351037345986');" onmouseout="out('3185086351037345986');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  17 +import androidx.work.ExistingPeriodicWorkPolicy;                                                                  </span>
<span class="-3698903318922252687" onmouseenter="enter('-3698903318922252687');" onmouseout="out('-3698903318922252687');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +import androidx.work.NetworkType;                                                                                 </span>
<span class="2994979786497810699" onmouseenter="enter('2994979786497810699');" onmouseout="out('2994979786497810699');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  19 +import androidx.work.PeriodicWorkRequest;                                                                         </span>
<span class="5786013396577205846" onmouseenter="enter('5786013396577205846');" onmouseout="out('5786013396577205846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  20 +import androidx.work.WorkManager;                                                                                 </span>
<span  style="">  21                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="-2312717542362407496" onmouseenter="enter('-2312717542362407496');" onmouseout="out('-2312717542362407496');" style="">  23  import com.automattic.simplenote.analytics.AnalyticsTrackerNosara;                                                </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="7102019831075911821" onmouseenter="enter('7102019831075911821');" onmouseout="out('7102019831075911821');" style="">  25  import com.automattic.simplenote.models.NoteCountIndexer;                                                         </span>
<span class="4426422982983644373" onmouseenter="enter('4426422982983644373');" onmouseout="out('4426422982983644373');" style="">  26  import com.automattic.simplenote.models.NoteTagger;                                                               </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  27  import com.automattic.simplenote.models.Preferences;                                                              </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  28  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  29  import com.automattic.simplenote.utils.AppLog;                                                                    </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  30  import com.automattic.simplenote.utils.AppLog.Type;                                                               </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  31  import com.automattic.simplenote.utils.CrashUtils;                                                                </span>
<span class="8577850632926167445" onmouseenter="enter('8577850632926167445');" onmouseout="out('8577850632926167445');" style="">  32  import com.automattic.simplenote.utils.DisplayUtils;                                                              </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-5753381984404345794" onmouseenter="enter('-5753381984404345794');" onmouseout="out('-5753381984404345794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +import com.automattic.simplenote.utils.SyncWorker;                                                                </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  35  import com.simperium.Simperium;                                                                                   </span>

<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  36  import com.simperium.client.Bucket;                                                                               </span>
<span class="-6754815116321497467" onmouseenter="enter('-6754815116321497467');" onmouseout="out('-6754815116321497467');" style="">  37  import com.simperium.client.BucketNameInvalid;                                                                    </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  38  import com.simperium.client.BucketObjectMissingException;                                                         </span>

<span  style="">  39                                                                                                                    </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  40  import org.wordpress.passcodelock.AppLockManager;                                                                 </span>
<span  style="">  41                                                                                                                    </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  42 +import java.util.concurrent.TimeUnit;                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 +                                                                                                                  </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  44  import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                                </span>
<span  style="">  45                                                                                                                    </span>
<span class="-7542921476229216620" onmouseenter="enter('-7542921476229216620');" onmouseout="out('-7542921476229216620');" style="">  46  public class Simplenote extends Application {                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  47 -                                                                                                                  </span>
<span class="-4825362878423743783" onmouseenter="enter('-4825362878423743783');" onmouseout="out('-4825362878423743783');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  48 -    private static final int TEN_SECONDS_MILLIS = 10000;                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  49 -                                                                                                                  </span>
<span class="-2932550457956729857" onmouseenter="enter('-2932550457956729857');" onmouseout="out('-2932550457956729857');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  50 -    // log tag                                                                                                    </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  51 -    public static final String TAG = &quot;Simplenote&quot;;                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -                                                                                                                  </span>
<span class="-4355088993614745787" onmouseenter="enter('-4355088993614745787');" onmouseout="out('-4355088993614745787');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -    // intent IDs                                                                                                 </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -    public static final int INTENT_PREFERENCES = 1;                                                               </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -    public static final int INTENT_EDIT_NOTE = 2;                                                                 </span>

<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="">  56      public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                                 </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="">  57      public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                               </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  58 +    public static final String TAG = &quot;Simplenote&quot;;                                                                </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +    public static final int INTENT_EDIT_NOTE = 2;                                                                 </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +    public static final int INTENT_PREFERENCES = 1;                                                               </span>
<span class="-7131135836515418231" onmouseenter="enter('-7131135836515418231');" onmouseout="out('-7131135836515418231');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +    public static final int ONE_MINUTE_MILLIS = 60 * 1000;  // 60 seconds                                         </span>
<span class="2194585893201893968" onmouseenter="enter('2194585893201893968');" onmouseout="out('2194585893201893968');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +    public static final int TEN_SECONDS_MILLIS = 10 * 1000;  // 10 seconds                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  63 +                                                                                                                  </span>
<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="">  64      private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                                 </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -    private Simperium mSimperium;                                                                                 </span>
<span class="3318171237102217895" onmouseenter="enter('3318171237102217895');" onmouseout="out('3318171237102217895');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +    private static final String TAG_SYNC = &quot;sync&quot;;                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +                                                                                                                  </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  68 +    private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  69 +                                                                                                                  </span>

<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  70      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  71      private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -    private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                                        </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +    private Simperium mSimperium;                                                                                 </span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +    private boolean mIsInBackground = true;                                                                       </span>

<span  style="">  75                                                                                                                    </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  76      public void onCreate() {                                                                                      </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  77          super.onCreate();                                                                                         </span>
<span  style="">  78                                                                                                                    </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style="">  79          CrashUtils.initWithContext(this);                                                                         </span>
<span class="-3077027295691334658" onmouseenter="enter('-3077027295691334658');" onmouseout="out('-3077027295691334658');" style="">  80          AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);                                       </span>
<span  style="">  81                                                                                                                    </span>
<span class="-6610099647322125620" onmouseenter="enter('-6610099647322125620');" onmouseout="out('-6610099647322125620');" style="">  82          mSimperium = Simperium.newClient(                                                                         </span>
<span class="-4695376588658458273" onmouseenter="enter('-4695376588658458273');" onmouseout="out('-4695376588658458273');" style="">  83                  BuildConfig.SIMPERIUM_APP_ID,                                                                     </span>
<span class="4318504011662215607" onmouseenter="enter('4318504011662215607');" onmouseout="out('4318504011662215607');" style="">  84                  BuildConfig.SIMPERIUM_APP_KEY,                                                                    </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style="">  85                  this                                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">  86          );                                                                                                        </span>
<span  style="">  87                                                                                                                    </span>
<span class="7031285256639409704" onmouseenter="enter('7031285256639409704');" onmouseout="out('7031285256639409704');" style="">  88          mSimperium.setAuthProvider(AUTH_PROVIDER);                                                                </span>











<span  style="">  89                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  90          try {                                                                                                     </span>
<span class="-3712083184111777754" onmouseenter="enter('-3712083184111777754');" onmouseout="out('-3712083184111777754');" style="">  91              mNotesBucket = mSimperium.bucket(new Note.Schema());                                                  </span>
<span class="8722979014886483827" onmouseenter="enter('8722979014886483827');" onmouseout="out('8722979014886483827');" style="">  92              Tag.Schema tagSchema = new Tag.Schema();                                                              </span>
<span class="-9102287405513372469" onmouseenter="enter('-9102287405513372469');" onmouseout="out('-9102287405513372469');" style="">  93              tagSchema.addIndex(new NoteCountIndexer(mNotesBucket));                                               </span>
<span class="-175388701111242190" onmouseenter="enter('-175388701111242190');" onmouseout="out('-175388701111242190');" style="">  94              mTagsBucket = mSimperium.bucket(tagSchema);                                                           </span>
<span class="4439876589301981228" onmouseenter="enter('4439876589301981228');" onmouseout="out('4439876589301981228');" style="">  95              mPreferencesBucket = mSimperium.bucket(new Preferences.Schema());                                     </span>
<span class="6417103925919259383" onmouseenter="enter('6417103925919259383');" onmouseout="out('6417103925919259383');" style="">  96              // Every time a note changes or is deleted we need to reindex the tag counts                          </span>
<span class="1028093174501664258" onmouseenter="enter('1028093174501664258');" onmouseout="out('1028093174501664258');" style="">  97              mNotesBucket.addListener(new NoteTagger(mTagsBucket));                                                </span>
<span class="9150575117674564137" onmouseenter="enter('9150575117674564137');" onmouseout="out('9150575117674564137');" style="">  98          } catch (BucketNameInvalid e) {                                                                           </span>
<span class="5045778340242790475" onmouseenter="enter('5045778340242790475');" onmouseout="out('5045778340242790475');" style="">  99              throw new RuntimeException(&quot;Could not create bucket&quot;, e);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100          }                                                                                                         </span>
<span  style=""> 101                                                                                                                    </span>
<span class="-6104247182653922910" onmouseenter="enter('-6104247182653922910');" onmouseout="out('-6104247182653922910');" style=""> 102          AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);                                              </span>
<span  style=""> 103                                                                                                                    </span>
<span class="1079457458543399093" onmouseenter="enter('1079457458543399093');" onmouseout="out('1079457458543399093');" style=""> 104          ApplicationLifecycleMonitor applicationLifecycleMonitor = new ApplicationLifecycleMonitor();              </span>
<span class="381596098670029908" onmouseenter="enter('381596098670029908');" onmouseout="out('381596098670029908');" style=""> 105          registerComponentCallbacks(applicationLifecycleMonitor);                                                  </span>
<span class="-8076193737884381578" onmouseenter="enter('-8076193737884381578');" onmouseout="out('-8076193737884381578');" style=""> 106          registerActivityLifecycleCallbacks(applicationLifecycleMonitor);                                          </span>
<span  style=""> 107                                                                                                                    </span>
<span class="1335392763825317999" onmouseenter="enter('1335392763825317999');" onmouseout="out('1335392763825317999');" style=""> 108          AnalyticsTracker.registerTracker(new AnalyticsTrackerNosara(this));                                       </span>
<span class="-1844307234054360739" onmouseenter="enter('-1844307234054360739');" onmouseout="out('-1844307234054360739');" style=""> 109          AnalyticsTracker.refreshMetadata(mSimperium.getUser().getEmail());                                        </span>
<span class="8399230582885161213" onmouseenter="enter('8399230582885161213');" onmouseout="out('8399230582885161213');" style=""> 110          CrashUtils.setCurrentUser(mSimperium.getUser());                                                          </span>
<span  style=""> 111                                                                                                                    </span>
<span class="-1455224487599073617" onmouseenter="enter('-1455224487599073617');" onmouseout="out('-1455224487599073617');" style=""> 112          AppLog.add(Type.DEVICE, getDeviceInfo());                                                                 </span>
<span class="-4084915558750483061" onmouseenter="enter('-4084915558750483061');" onmouseout="out('-4084915558750483061');" style=""> 113          AppLog.add(Type.ACCOUNT, getAccountInfo());                                                               </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 114          AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));                      </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115      }                                                                                                             </span>
<span  style=""> 116                                                                                                                    </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style=""> 117      @SuppressWarnings(&quot;unused&quot;)                                                                                   </span>
<span class="7268646999054713936" onmouseenter="enter('7268646999054713936');" onmouseout="out('7268646999054713936');" style=""> 118      private boolean isFirstLaunch() {                                                                             </span>
<span class="4401662994174013480" onmouseenter="enter('4401662994174013480');" onmouseout="out('4401662994174013480');" style=""> 119          // NotesActivity sets this pref to false after first launch                                               </span>
<span class="5757483603403500826" onmouseenter="enter('5757483603403500826');" onmouseout="out('5757483603403500826');" style=""> 120          return PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121      }                                                                                                             </span>
<span  style=""> 122                                                                                                                    </span>
<span class="-5261177328937716585" onmouseenter="enter('-5261177328937716585');" onmouseout="out('-5261177328937716585');" style=""> 123      public static boolean analyticsIsEnabled() {                                                                  </span>
<span class="1755574756529165678" onmouseenter="enter('1755574756529165678');" onmouseout="out('1755574756529165678');" style=""> 124          if (mPreferencesBucket == null) {                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 125              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126          }                                                                                                         </span>
<span  style=""> 127                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 128          try {                                                                                                     </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 129              Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                                   </span>
<span class="1383721738222569542" onmouseenter="enter('1383721738222569542');" onmouseout="out('1383721738222569542');" style=""> 130              return prefs.getAnalyticsEnabled();                                                                   </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 131          } catch (BucketObjectMissingException e) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 132              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134      }                                                                                                             </span>
<span  style=""> 135                                                                                                                    </span>
<span class="4656537755100497713" onmouseenter="enter('4656537755100497713');" onmouseout="out('4656537755100497713');" style=""> 136      private String getAccountInfo() {                                                                             </span>
<span class="-4909194837402373696" onmouseenter="enter('-4909194837402373696');" onmouseout="out('-4909194837402373696');" style=""><abbr title=" 137          String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getEmail() : &quot;?&quot;);"> 137          String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getE🔵</abbr></span>
<span class="-1815219994356976513" onmouseenter="enter('-1815219994356976513');" onmouseout="out('-1815219994356976513');" style=""> 138          String notes = &quot;Notes: &quot; + (mNotesBucket != null ? mNotesBucket.count() : &quot;?&quot;);                           </span>
<span class="-4701463784795893558" onmouseenter="enter('-4701463784795893558');" onmouseout="out('-4701463784795893558');" style=""> 139          String tags = &quot;Tags: &quot; + (mTagsBucket != null ? mTagsBucket.count() : &quot;?&quot;);                               </span>
<span class="5597163353916173356" onmouseenter="enter('5597163353916173356');" onmouseout="out('5597163353916173356');" style=""> 140          return email + &quot;\n&quot; + notes + &quot;\n&quot; + tags + &quot;\n\n&quot;;                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141      }                                                                                                             </span>
<span  style=""> 142                                                                                                                    </span>
<span class="-4176269846075250192" onmouseenter="enter('-4176269846075250192');" onmouseout="out('-4176269846075250192');" style=""> 143      private String getDeviceInfo() {                                                                              </span>
<span class="7581408804502865572" onmouseenter="enter('7581408804502865572');" onmouseout="out('7581408804502865572');" style=""><abbr title=" 144          String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; : &quot;Android &quot;;"> 144          String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; :🔵</abbr></span>
<span class="-921339907737118722" onmouseenter="enter('-921339907737118722');" onmouseout="out('-921339907737118722');" style=""> 145          String device = &quot;Device: &quot; + Build.MANUFACTURER + &quot; &quot; + Build.MODEL + &quot; (&quot; + Build.DEVICE + &quot;)&quot;;          </span>
<span class="-7970072835487477375" onmouseenter="enter('-7970072835487477375');" onmouseout="out('-7970072835487477375');" style=""> 146          String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT + &quot;)&quot;;   </span>
<span class="3648033425382070956" onmouseenter="enter('3648033425382070956');" onmouseout="out('3648033425382070956');" style=""> 147          String app = &quot;App: Simplenote &quot; + PrefUtils.versionInfo();                                                </span>
<span class="6793127563363345208" onmouseenter="enter('6793127563363345208');" onmouseout="out('6793127563363345208');" style=""> 148          return device + &quot;\n&quot; + system + &quot;\n&quot; + app + &quot;\n\n&quot;;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149      }                                                                                                             </span>
<span  style=""> 150                                                                                                                    </span>
<span class="-2452840228833033114" onmouseenter="enter('-2452840228833033114');" onmouseout="out('-2452840228833033114');" style=""> 151      public Simperium getSimperium() {                                                                             </span>
<span class="-1067936515361198064" onmouseenter="enter('-1067936515361198064');" onmouseout="out('-1067936515361198064');" style=""> 152          return mSimperium;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153      }                                                                                                             </span>
<span  style=""> 154                                                                                                                    </span>
<span class="8475950615112765175" onmouseenter="enter('8475950615112765175');" onmouseout="out('8475950615112765175');" style=""> 155      public Bucket&lt;Note&gt; getNotesBucket() {                                                                        </span>
<span class="3001734825963445545" onmouseenter="enter('3001734825963445545');" onmouseout="out('3001734825963445545');" style=""> 156          return mNotesBucket;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157      }                                                                                                             </span>
<span  style=""> 158                                                                                                                    </span>
<span class="1680392141704969043" onmouseenter="enter('1680392141704969043');" onmouseout="out('1680392141704969043');" style=""> 159      public Bucket&lt;Tag&gt; getTagsBucket() {                                                                          </span>
<span class="6135487691608919718" onmouseenter="enter('6135487691608919718');" onmouseout="out('6135487691608919718');" style=""> 160          return mTagsBucket;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161      }                                                                                                             </span>
<span  style=""> 162                                                                                                                    </span>
<span class="-4506300185279466066" onmouseenter="enter('-4506300185279466066');" onmouseout="out('-4506300185279466066');" style=""> 163      public Bucket&lt;Preferences&gt; getPreferencesBucket() {                                                           </span>
<span class="6715102450829888836" onmouseenter="enter('6715102450829888836');" onmouseout="out('6715102450829888836');" style=""> 164          return mPreferencesBucket;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +                                                                                                                  </span>
<span class="-5307885032361585350" onmouseenter="enter('-5307885032361585350');" onmouseout="out('-5307885032361585350');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +    public boolean isInBackground() {                                                                             </span>
<span class="3812912940560000313" onmouseenter="enter('3812912940560000313');" onmouseout="out('3812912940560000313');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +        return mIsInBackground;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169      }                                                                                                             </span>
<span  style=""> 170                                                                                                                    </span>
<span class="72925131662297315" onmouseenter="enter('72925131662297315');" onmouseout="out('72925131662297315');" style=""><abbr title=" 171      private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, ComponentCallbacks2 {"> 171      private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, ComponentCallback🔵</abbr></span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style=""> 172          private boolean mIsInBackground = true;                                                                   </span>
<span  style=""> 173                                                                                                                    </span>
<span class="3103941996577506651" onmouseenter="enter('3103941996577506651');" onmouseout="out('3103941996577506651');" style=""> 174          // ComponentCallbacks                                                                                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 175          @Override                                                                                                 </span>
<span class="2274976836934101801" onmouseenter="enter('2274976836934101801');" onmouseout="out('2274976836934101801');" style=""> 176          public void onTrimMemory(int level) {                                                                     </span>
<span class="-1837603280920501393" onmouseenter="enter('-1837603280920501393');" onmouseout="out('-1837603280920501393');" style=""> 177              if (level == ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {                                             </span>
<span class="-4583313459107718715" onmouseenter="enter('-4583313459107718715');" onmouseout="out('-4583313459107718715');" style=""> 178                  mIsInBackground = true;                                                                           </span>
<span  style=""> 179                                                                                                                    </span>
<span class="-7450229904998226699" onmouseenter="enter('-7450229904998226699');" onmouseout="out('-7450229904998226699');" style=""> 180                  // Give the buckets some time to finish sync, then stop them                                      </span>
<span class="7162501222170899627" onmouseenter="enter('7162501222170899627');" onmouseout="out('7162501222170899627');" style=""> 181                  new Handler().postDelayed(new Runnable() {                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 183                      public void run() {                                                                           </span>
<span class="1937243434374323959" onmouseenter="enter('1937243434374323959');" onmouseout="out('1937243434374323959');" style=""> 184                          if (!mIsInBackground) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 185                              return;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186                          }                                                                                         </span>
<span  style=""> 187                                                                                                                    </span>
<span class="6694920678363305995" onmouseenter="enter('6694920678363305995');" onmouseout="out('6694920678363305995');" style=""> 188                          if (mNotesBucket != null) {                                                               </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 189                              mNotesBucket.stop();                                                                  </span>
<span class="-8256972624868266110" onmouseenter="enter('-8256972624868266110');" onmouseout="out('-8256972624868266110');" style=""> 190                              AppLog.add(Type.SYNC, &quot;Stopped note bucket (Simplenote)&quot;);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191                          }                                                                                         </span>
<span  style=""> 192                                                                                                                    </span>
<span class="-6758879846146730703" onmouseenter="enter('-6758879846146730703');" onmouseout="out('-6758879846146730703');" style=""> 193                          if (mTagsBucket != null) {                                                                </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 194                              mTagsBucket.stop();                                                                   </span>
<span class="3632904236952271414" onmouseenter="enter('3632904236952271414');" onmouseout="out('3632904236952271414');" style=""> 195                              AppLog.add(Type.SYNC, &quot;Stopped tag bucket (Simplenote)&quot;);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196                          }                                                                                         </span>
<span  style=""> 197                                                                                                                    </span>
<span class="-6192025378026905457" onmouseenter="enter('-6192025378026905457');" onmouseout="out('-6192025378026905457');" style=""> 198                          if (mPreferencesBucket != null) {                                                         </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 199                              mPreferencesBucket.stop();                                                            </span>
<span class="-5651227749650235797" onmouseenter="enter('-5651227749650235797');" onmouseout="out('-5651227749650235797');" style=""> 200                              AppLog.add(Type.SYNC, &quot;Stopped preference bucket (Simplenote)&quot;);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202                      }                                                                                             </span>
<span class="6786785065928556607" onmouseenter="enter('6786785065928556607');" onmouseout="out('6786785065928556607');" style=""> 203                  }, TEN_SECONDS_MILLIS);                                                                           </span>
<span  style=""> 204                                                                                                                    </span>
<span class="-341478899160030823" onmouseenter="enter('-341478899160030823');" onmouseout="out('-341478899160030823');" style=""> 205                  // Send analytics if app is in the background                                                     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 206                  AnalyticsTracker.track(                                                                           </span>
<span class="3485374480742718668" onmouseenter="enter('3485374480742718668');" onmouseout="out('3485374480742718668');" style=""> 207                          AnalyticsTracker.Stat.APPLICATION_CLOSED,                                                 </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 208                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="3140085526459106828" onmouseenter="enter('3140085526459106828');" onmouseout="out('3140085526459106828');" style=""> 209                          &quot;application_closed&quot;                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 210                  );                                                                                                </span>
<span class="-7792835064107422696" onmouseenter="enter('-7792835064107422696');" onmouseout="out('-7792835064107422696');" style=""> 211                  AnalyticsTracker.flush();                                                                         </span>
<span class="-6664472740739433069" onmouseenter="enter('-6664472740739433069');" onmouseout="out('-6664472740739433069');" style=""> 212                  AppLog.add(Type.ACTION, &quot;App closed&quot;);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 213              } else {                                                                                              </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 214                  mIsInBackground = false;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216          }                                                                                                         </span>
<span  style=""> 217                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 218          @Override                                                                                                 </span>
<span class="6856792358586712593" onmouseenter="enter('6856792358586712593');" onmouseout="out('6856792358586712593');" style=""> 219          public void onConfigurationChanged(@NonNull Configuration newConfig) {                                    </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 220              AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221          }                                                                                                         </span>
<span  style=""> 222                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223          @Override                                                                                                 </span>
<span class="-4981664158563918121" onmouseenter="enter('-4981664158563918121');" onmouseout="out('-4981664158563918121');" style=""> 224          public void onLowMemory() {                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225          }                                                                                                         </span>
<span  style=""> 226                                                                                                                    </span>
<span class="-4597135701451302256" onmouseenter="enter('-4597135701451302256');" onmouseout="out('-4597135701451302256');" style=""> 227          // ActivityLifecycleCallbacks                                                                             </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +        @SuppressLint(&quot;LongLogTag&quot;)                                                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 229          @Override                                                                                                 </span>
<span class="-3924077821180675166" onmouseenter="enter('-3924077821180675166');" onmouseout="out('-3924077821180675166');" style=""> 230          public void onActivityResumed(@NonNull Activity activity) {                                               </span>
<span class="-1824713474309501961" onmouseenter="enter('-1824713474309501961');" onmouseout="out('-1824713474309501961');" style=""> 231              if (mIsInBackground) {                                                                                </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 232                  AnalyticsTracker.track(                                                                           </span>
<span class="-9053818901097240592" onmouseenter="enter('-9053818901097240592');" onmouseout="out('-9053818901097240592');" style=""> 233                          AnalyticsTracker.Stat.APPLICATION_OPENED,                                                 </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 234                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="5765105888033949578" onmouseenter="enter('5765105888033949578');" onmouseout="out('5765105888033949578');" style=""> 235                          &quot;application_opened&quot;                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 236                  );                                                                                                </span>
<span  style=""> 237                                                                                                                    </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 238                  mIsInBackground = false;                                                                          </span>
<span class="-6333475820451850994" onmouseenter="enter('-6333475820451850994');" onmouseout="out('-6333475820451850994');" style=""> 239                  AppLog.add(Type.ACTION, &quot;App opened&quot;);                                                            </span>
<span class="7194601290059164528" onmouseenter="enter('7194601290059164528');" onmouseout="out('7194601290059164528');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +                WorkManager.getInstance(getApplicationContext()).cancelUniqueWork(TAG_SYNC);                      </span>
<span class="-5838238914207245906" onmouseenter="enter('-5838238914207245906');" onmouseout="out('-5838238914207245906');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +                Log.d(&quot;Simplenote.onActivityResumed&quot;, &quot;Stopped worker&quot;);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242              }                                                                                                     </span>
<span  style=""> 243                                                                                                                    </span>
<span class="5242495516731300622" onmouseenter="enter('5242495516731300622');" onmouseout="out('5242495516731300622');" style=""> 244              String activitySimpleName = activity.getClass().getSimpleName();                                      </span>
<span  style=""> 245                                                                                                                    </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style=""> 246              mPreferencesBucket.start();                                                                           </span>
<span class="-3539741953604827644" onmouseenter="enter('-3539741953604827644');" onmouseout="out('-3539741953604827644');" style=""> 247              AppLog.add(Type.SYNC, &quot;Started preference bucket (&quot; + activitySimpleName + &quot;)&quot;);                      </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 248              mNotesBucket.start();                                                                                 </span>
<span class="-9002409501487253211" onmouseenter="enter('-9002409501487253211');" onmouseout="out('-9002409501487253211');" style=""> 249              AppLog.add(Type.SYNC, &quot;Started note bucket (&quot; + activitySimpleName + &quot;)&quot;);                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 250              mTagsBucket.start();                                                                                  </span>
<span class="2042044416855016901" onmouseenter="enter('2042044416855016901');" onmouseout="out('2042044416855016901');" style=""> 251              AppLog.add(Type.SYNC, &quot;Started tag bucket (&quot; + activitySimpleName + &quot;)&quot;);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252          }                                                                                                         </span>
<span  style=""> 253                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 254          @Override                                                                                                 </span>
<span class="3802784276197342934" onmouseenter="enter('3802784276197342934');" onmouseout="out('3802784276197342934');" style=""> 255          public void onActivityCreated(@NonNull Activity activity, Bundle savedInstanceState) {                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256          }                                                                                                         </span>
<span  style=""> 257                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258          @Override                                                                                                 </span>
<span class="1925798780581030833" onmouseenter="enter('1925798780581030833');" onmouseout="out('1925798780581030833');" style=""> 259          public void onActivityStarted(@NonNull Activity activity) {                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260          }                                                                                                         </span>
<span  style=""> 261                                                                                                                    </span>
<span class="-9026181668329411137" onmouseenter="enter('-9026181668329411137');" onmouseout="out('-9026181668329411137');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 262 +        @SuppressLint(&quot;LongLogTag&quot;)                                                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 263          @Override                                                                                                 </span>
<span class="6762635398346313192" onmouseenter="enter('6762635398346313192');" onmouseout="out('6762635398346313192');" style=""> 264          public void onActivityPaused(@NonNull Activity activity) {                                                </span>
<span class="5599227697513165792" onmouseenter="enter('5599227697513165792');" onmouseout="out('5599227697513165792');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 265 +            PeriodicWorkRequest syncWorkRequest = new PeriodicWorkRequest.Builder(                                </span>
<span class="1408067071873564180" onmouseenter="enter('1408067071873564180');" onmouseout="out('1408067071873564180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 266 +                SyncWorker.class,                                                                                 </span>
<span class="2973406529671611856" onmouseenter="enter('2973406529671611856');" onmouseout="out('2973406529671611856');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 267 +                PeriodicWorkRequest.MIN_PERIODIC_INTERVAL_MILLIS,                                                 </span>
<span class="-80463983603518610" onmouseenter="enter('-80463983603518610');" onmouseout="out('-80463983603518610');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 268 +                TimeUnit.MILLISECONDS                                                                             </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 269 +            )                                                                                                     </span>
<span class="-6346518985674576590" onmouseenter="enter('-6346518985674576590');" onmouseout="out('-6346518985674576590');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 270 +                .setConstraints(new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build())  </span>
<span class="1554687427185788181" onmouseenter="enter('1554687427185788181');" onmouseout="out('1554687427185788181');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 271 +                .setBackoffCriteria(BackoffPolicy.LINEAR, ONE_MINUTE_MILLIS, TimeUnit.MILLISECONDS)               </span>
<span class="5453310388385914537" onmouseenter="enter('5453310388385914537');" onmouseout="out('5453310388385914537');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 272 +                .setInitialDelay(TEN_SECONDS_MILLIS, TimeUnit.MILLISECONDS)                                       </span>
<span class="8816433673387605168" onmouseenter="enter('8816433673387605168');" onmouseout="out('8816433673387605168');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 273 +                .addTag(TAG_SYNC)                                                                                 </span>
<span class="-368814941510255410" onmouseenter="enter('-368814941510255410');" onmouseout="out('-368814941510255410');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 274 +                .build();                                                                                         </span>
<span class="-957289309636137365" onmouseenter="enter('-957289309636137365');" onmouseout="out('-957289309636137365');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 275 +            WorkManager.getInstance(getApplicationContext()).enqueueUniquePeriodicWork(                           </span>
<span class="1890759471518076421" onmouseenter="enter('1890759471518076421');" onmouseout="out('1890759471518076421');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +                TAG_SYNC,                                                                                         </span>
<span class="7031641102110402794" onmouseenter="enter('7031641102110402794');" onmouseout="out('7031641102110402794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +                ExistingPeriodicWorkPolicy.REPLACE,                                                               </span>
<span class="7844672442552797006" onmouseenter="enter('7844672442552797006');" onmouseout="out('7844672442552797006');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +                syncWorkRequest                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +            );                                                                                                    </span>
<span class="263107293015848994" onmouseenter="enter('263107293015848994');" onmouseout="out('263107293015848994');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +            Log.d(&quot;Simplenote.onActivityPaused&quot;, &quot;Started worker&quot;);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281          }                                                                                                         </span>
<span  style=""> 282                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 283          @Override                                                                                                 </span>
<span class="-7982391621651416385" onmouseenter="enter('-7982391621651416385');" onmouseout="out('-7982391621651416385');" style=""> 284          public void onActivityStopped(@NonNull Activity activity) {                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285          }                                                                                                         </span>
<span  style=""> 286                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 287          @Override                                                                                                 </span>
<span class="2275335402994256657" onmouseenter="enter('2275335402994256657');" onmouseout="out('2275335402994256657');" style=""> 288          public void onActivitySaveInstanceState(@NonNull Activity activity, @NonNull Bundle outState) {           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289          }                                                                                                         </span>
<span  style=""> 290                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 291          @Override                                                                                                 </span>
<span class="7397501089288945407" onmouseenter="enter('7397501089288945407');" onmouseout="out('7397501089288945407');" style=""> 292          public void onActivityDestroyed(@NonNull Activity activity) {                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>

<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3  import android.app.Activity;                                                                                      </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">   4  import android.app.Application;                                                                                   </span>
<span class="-5120547123096501078" onmouseenter="enter('-5120547123096501078');" onmouseout="out('-5120547123096501078');" style="">   5  import android.content.ComponentCallbacks2;                                                                       </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">   6  import android.content.res.Configuration;                                                                         </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   7  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8  import android.os.Bundle;                                                                                         </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">   9  import android.os.Handler;                                                                                        </span>

<span  style="">  10                                                                                                                    </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  11  import androidx.annotation.NonNull;                                                                               </span>
<span class="7702331687346133722" onmouseenter="enter('7702331687346133722');" onmouseout="out('7702331687346133722');" style="">  12  import androidx.appcompat.app.AppCompatDelegate;                                                                  </span>






<span  style="">  13                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  14  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="-2312717542362407496" onmouseenter="enter('-2312717542362407496');" onmouseout="out('-2312717542362407496');" style="">  15  import com.automattic.simplenote.analytics.AnalyticsTrackerNosara;                                                </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  16  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="7102019831075911821" onmouseenter="enter('7102019831075911821');" onmouseout="out('7102019831075911821');" style="">  17  import com.automattic.simplenote.models.NoteCountIndexer;                                                         </span>
<span class="4426422982983644373" onmouseenter="enter('4426422982983644373');" onmouseout="out('4426422982983644373');" style="">  18  import com.automattic.simplenote.models.NoteTagger;                                                               </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  19  import com.automattic.simplenote.models.Preferences;                                                              </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  20  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  21  import com.automattic.simplenote.utils.AppLog;                                                                    </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  22  import com.automattic.simplenote.utils.AppLog.Type;                                                               </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  23  import com.automattic.simplenote.utils.CrashUtils;                                                                </span>
<span class="8577850632926167445" onmouseenter="enter('8577850632926167445');" onmouseout="out('8577850632926167445');" style="">  24  import com.automattic.simplenote.utils.DisplayUtils;                                                              </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  25  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>

<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  26  import com.simperium.Simperium;                                                                                   </span>
<span class="1573888967082901106" onmouseenter="enter('1573888967082901106');" onmouseout="out('1573888967082901106');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +import com.simperium.android.WebSocketManager;                                                                    </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  28  import com.simperium.client.Bucket;                                                                               </span>
<span class="-6754815116321497467" onmouseenter="enter('-6754815116321497467');" onmouseout="out('-6754815116321497467');" style="">  29  import com.simperium.client.BucketNameInvalid;                                                                    </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  30  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-6128914918417430442" onmouseenter="enter('-6128914918417430442');" onmouseout="out('-6128914918417430442');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  31 +import com.simperium.client.ChannelProvider.HeartbeatListener;                                                    </span>
<span  style="">  32                                                                                                                    </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  33  import org.wordpress.passcodelock.AppLockManager;                                                                 </span>
<span  style="">  34                                                                                                                    </span>


<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  35  import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                                </span>
<span  style="">  36                                                                                                                    </span>
<span class="-7542921476229216620" onmouseenter="enter('-7542921476229216620');" onmouseout="out('-7542921476229216620');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  37 -public class Simplenote extends Application {                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -                                                                                                                  </span>
<span class="-4825362878423743783" onmouseenter="enter('-4825362878423743783');" onmouseout="out('-4825362878423743783');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -    private static final int TEN_SECONDS_MILLIS = 10000;                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  40 -                                                                                                                  </span>
<span class="-2932550457956729857" onmouseenter="enter('-2932550457956729857');" onmouseout="out('-2932550457956729857');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -    // log tag                                                                                                    </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  42 -    public static final String TAG = &quot;Simplenote&quot;;                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  43 -                                                                                                                  </span>
<span class="-4355088993614745787" onmouseenter="enter('-4355088993614745787');" onmouseout="out('-4355088993614745787');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  44 -    // intent IDs                                                                                                 </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  45 -    public static final int INTENT_PREFERENCES = 1;                                                               </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -    public static final int INTENT_EDIT_NOTE = 2;                                                                 </span>
<span class="5261034755457737176" onmouseenter="enter('5261034755457737176');" onmouseout="out('5261034755457737176');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +public class Simplenote extends Application implements HeartbeatListener {                                        </span>
<span class="-9163404905215646951" onmouseenter="enter('-9163404905215646951');" onmouseout="out('-9163404905215646951');" style="">  48      public static final String DELETED_NOTE_ID = &quot;deletedNoteId&quot;;                                                 </span>
<span class="5833235806353570833" onmouseenter="enter('5833235806353570833');" onmouseout="out('5833235806353570833');" style="">  49      public static final String SELECTED_NOTE_ID = &quot;selectedNoteId&quot;;                                               </span>
<span class="-8693524844222569932" onmouseenter="enter('-8693524844222569932');" onmouseout="out('-8693524844222569932');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  50 +    public static final String TAG = &quot;Simplenote&quot;;                                                                </span>
<span class="3215095332324123101" onmouseenter="enter('3215095332324123101');" onmouseout="out('3215095332324123101');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  51 +    public static final int INTENT_EDIT_NOTE = 2;                                                                 </span>
<span class="5587967888967017737" onmouseenter="enter('5587967888967017737');" onmouseout="out('5587967888967017737');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  52 +    public static final int INTENT_PREFERENCES = 1;                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  53 +                                                                                                                  </span>


<span class="53348235283476519" onmouseenter="enter('53348235283476519');" onmouseout="out('53348235283476519');" style="">  54      private static final String AUTH_PROVIDER = &quot;simplenote.com&quot;;                                                 </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -    private Simperium mSimperium;                                                                                 </span>
<span class="-4825362878423743783" onmouseenter="enter('-4825362878423743783');" onmouseout="out('-4825362878423743783');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +    private static final int TEN_SECONDS_MILLIS = 10000;                                                          </span>
<span class="4591981961767073369" onmouseenter="enter('4591981961767073369');" onmouseout="out('4591981961767073369');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +    private static final long HEARTBEAT_TIMEOUT =  WebSocketManager.HEARTBEAT_INTERVAL * 2;                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  58 +                                                                                                                  </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +    private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +                                                                                                                  </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  61      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  62      private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="-5728139290357644856" onmouseenter="enter('-5728139290357644856');" onmouseout="out('-5728139290357644856');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -    private static Bucket&lt;Preferences&gt; mPreferencesBucket;                                                        </span>
<span class="1419071614229033804" onmouseenter="enter('1419071614229033804');" onmouseout="out('1419071614229033804');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  64 +    private Handler mHeartbeatHandler;                                                                            </span>
<span class="-7581284801413594720" onmouseenter="enter('-7581284801413594720');" onmouseout="out('-7581284801413594720');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  65 +    private Runnable mHeartbeatRunnable;                                                                          </span>
<span class="8198744544525618575" onmouseenter="enter('8198744544525618575');" onmouseout="out('8198744544525618575');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +    private Simperium mSimperium;                                                                                 </span>
<span  style="">  67                                                                                                                    </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style="">  68      public void onCreate() {                                                                                      </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style="">  69          super.onCreate();                                                                                         </span>
<span  style="">  70                                                                                                                    </span>
<span class="4646367228775257968" onmouseenter="enter('4646367228775257968');" onmouseout="out('4646367228775257968');" style="">  71          CrashUtils.initWithContext(this);                                                                         </span>
<span class="-3077027295691334658" onmouseenter="enter('-3077027295691334658');" onmouseout="out('-3077027295691334658');" style="">  72          AppLockManager.getInstance().enableDefaultAppLockIfAvailable(this);                                       </span>
<span  style="">  73                                                                                                                    </span>
<span class="-6610099647322125620" onmouseenter="enter('-6610099647322125620');" onmouseout="out('-6610099647322125620');" style="">  74          mSimperium = Simperium.newClient(                                                                         </span>
<span class="-4695376588658458273" onmouseenter="enter('-4695376588658458273');" onmouseout="out('-4695376588658458273');" style="">  75                  BuildConfig.SIMPERIUM_APP_ID,                                                                     </span>
<span class="4318504011662215607" onmouseenter="enter('4318504011662215607');" onmouseout="out('4318504011662215607');" style="">  76                  BuildConfig.SIMPERIUM_APP_KEY,                                                                    </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style="">  77                  this                                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">  78          );                                                                                                        </span>
<span  style="">  79                                                                                                                    </span>
<span class="7031285256639409704" onmouseenter="enter('7031285256639409704');" onmouseout="out('7031285256639409704');" style="">  80          mSimperium.setAuthProvider(AUTH_PROVIDER);                                                                </span>
<span class="9065419810018319535" onmouseenter="enter('9065419810018319535');" onmouseout="out('9065419810018319535');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  81 +        mSimperium.addHeartbeatListener(this);                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +                                                                                                                  </span>
<span class="-1855727841872273262" onmouseenter="enter('-1855727841872273262');" onmouseout="out('-1855727841872273262');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  83 +        mHeartbeatHandler = new Handler();                                                                        </span>
<span class="-1915212603929880067" onmouseenter="enter('-1915212603929880067');" onmouseout="out('-1915212603929880067');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +        mHeartbeatRunnable = new Runnable() {                                                                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +            @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +            public void run() {                                                                                   </span>
<span class="4054271998020395502" onmouseenter="enter('4054271998020395502');" onmouseout="out('4054271998020395502');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  87 +                AppLog.add(Type.NETWORK, &quot;Heartbeat stopped&quot;);                                                    </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +                mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                            </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +                mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +        };                                                                                                        </span>
<span  style="">  92                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  93          try {                                                                                                     </span>
<span class="-3712083184111777754" onmouseenter="enter('-3712083184111777754');" onmouseout="out('-3712083184111777754');" style="">  94              mNotesBucket = mSimperium.bucket(new Note.Schema());                                                  </span>
<span class="8722979014886483827" onmouseenter="enter('8722979014886483827');" onmouseout="out('8722979014886483827');" style="">  95              Tag.Schema tagSchema = new Tag.Schema();                                                              </span>
<span class="-9102287405513372469" onmouseenter="enter('-9102287405513372469');" onmouseout="out('-9102287405513372469');" style="">  96              tagSchema.addIndex(new NoteCountIndexer(mNotesBucket));                                               </span>
<span class="-175388701111242190" onmouseenter="enter('-175388701111242190');" onmouseout="out('-175388701111242190');" style="">  97              mTagsBucket = mSimperium.bucket(tagSchema);                                                           </span>
<span class="4439876589301981228" onmouseenter="enter('4439876589301981228');" onmouseout="out('4439876589301981228');" style="">  98              mPreferencesBucket = mSimperium.bucket(new Preferences.Schema());                                     </span>
<span class="6417103925919259383" onmouseenter="enter('6417103925919259383');" onmouseout="out('6417103925919259383');" style="">  99              // Every time a note changes or is deleted we need to reindex the tag counts                          </span>
<span class="1028093174501664258" onmouseenter="enter('1028093174501664258');" onmouseout="out('1028093174501664258');" style=""> 100              mNotesBucket.addListener(new NoteTagger(mTagsBucket));                                                </span>
<span class="9150575117674564137" onmouseenter="enter('9150575117674564137');" onmouseout="out('9150575117674564137');" style=""> 101          } catch (BucketNameInvalid e) {                                                                           </span>
<span class="5045778340242790475" onmouseenter="enter('5045778340242790475');" onmouseout="out('5045778340242790475');" style=""> 102              throw new RuntimeException(&quot;Could not create bucket&quot;, e);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103          }                                                                                                         </span>
<span  style=""> 104                                                                                                                    </span>
<span class="-6104247182653922910" onmouseenter="enter('-6104247182653922910');" onmouseout="out('-6104247182653922910');" style=""> 105          AppCompatDelegate.setCompatVectorFromResourcesEnabled(true);                                              </span>
<span  style=""> 106                                                                                                                    </span>
<span class="1079457458543399093" onmouseenter="enter('1079457458543399093');" onmouseout="out('1079457458543399093');" style=""> 107          ApplicationLifecycleMonitor applicationLifecycleMonitor = new ApplicationLifecycleMonitor();              </span>
<span class="381596098670029908" onmouseenter="enter('381596098670029908');" onmouseout="out('381596098670029908');" style=""> 108          registerComponentCallbacks(applicationLifecycleMonitor);                                                  </span>
<span class="-8076193737884381578" onmouseenter="enter('-8076193737884381578');" onmouseout="out('-8076193737884381578');" style=""> 109          registerActivityLifecycleCallbacks(applicationLifecycleMonitor);                                          </span>
<span  style=""> 110                                                                                                                    </span>
<span class="1335392763825317999" onmouseenter="enter('1335392763825317999');" onmouseout="out('1335392763825317999');" style=""> 111          AnalyticsTracker.registerTracker(new AnalyticsTrackerNosara(this));                                       </span>
<span class="-1844307234054360739" onmouseenter="enter('-1844307234054360739');" onmouseout="out('-1844307234054360739');" style=""> 112          AnalyticsTracker.refreshMetadata(mSimperium.getUser().getEmail());                                        </span>
<span class="8399230582885161213" onmouseenter="enter('8399230582885161213');" onmouseout="out('8399230582885161213');" style=""> 113          CrashUtils.setCurrentUser(mSimperium.getUser());                                                          </span>
<span  style=""> 114                                                                                                                    </span>
<span class="-1455224487599073617" onmouseenter="enter('-1455224487599073617');" onmouseout="out('-1455224487599073617');" style=""> 115          AppLog.add(Type.DEVICE, getDeviceInfo());                                                                 </span>
<span class="-4084915558750483061" onmouseenter="enter('-4084915558750483061');" onmouseout="out('-4084915558750483061');" style=""> 116          AppLog.add(Type.ACCOUNT, getAccountInfo());                                                               </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 117          AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +    @Override                                                                                                     </span>
<span class="7640484986889102054" onmouseenter="enter('7640484986889102054');" onmouseout="out('7640484986889102054');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +    public void onBeat() {                                                                                        </span>
<span class="7315421582655131800" onmouseenter="enter('7315421582655131800');" onmouseout="out('7315421582655131800');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +        AppLog.add(Type.NETWORK, &quot;Heartbeat received&quot;);                                                           </span>
<span class="6204465678829044464" onmouseenter="enter('6204465678829044464');" onmouseout="out('6204465678829044464');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +        mHeartbeatHandler.removeCallbacks(mHeartbeatRunnable);                                                    </span>
<span class="209086841339708400" onmouseenter="enter('209086841339708400');" onmouseout="out('209086841339708400');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +        mHeartbeatHandler.postDelayed(mHeartbeatRunnable, HEARTBEAT_TIMEOUT);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125      }                                                                                                             </span>
<span  style=""> 126                                                                                                                    </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style=""> 127      @SuppressWarnings(&quot;unused&quot;)                                                                                   </span>
<span class="7268646999054713936" onmouseenter="enter('7268646999054713936');" onmouseout="out('7268646999054713936');" style=""> 128      private boolean isFirstLaunch() {                                                                             </span>
<span class="4401662994174013480" onmouseenter="enter('4401662994174013480');" onmouseout="out('4401662994174013480');" style=""> 129          // NotesActivity sets this pref to false after first launch                                               </span>
<span class="5757483603403500826" onmouseenter="enter('5757483603403500826');" onmouseout="out('5757483603403500826');" style=""> 130          return PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131      }                                                                                                             </span>
<span  style=""> 132                                                                                                                    </span>
<span class="-5261177328937716585" onmouseenter="enter('-5261177328937716585');" onmouseout="out('-5261177328937716585');" style=""> 133      public static boolean analyticsIsEnabled() {                                                                  </span>
<span class="1755574756529165678" onmouseenter="enter('1755574756529165678');" onmouseout="out('1755574756529165678');" style=""> 134          if (mPreferencesBucket == null) {                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 135              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136          }                                                                                                         </span>
<span  style=""> 137                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 138          try {                                                                                                     </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 139              Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                                   </span>
<span class="1383721738222569542" onmouseenter="enter('1383721738222569542');" onmouseout="out('1383721738222569542');" style=""> 140              return prefs.getAnalyticsEnabled();                                                                   </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 141          } catch (BucketObjectMissingException e) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 142              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144      }                                                                                                             </span>
<span  style=""> 145                                                                                                                    </span>
<span class="4656537755100497713" onmouseenter="enter('4656537755100497713');" onmouseout="out('4656537755100497713');" style=""> 146      private String getAccountInfo() {                                                                             </span>
<span class="-4909194837402373696" onmouseenter="enter('-4909194837402373696');" onmouseout="out('-4909194837402373696');" style=""><abbr title=" 147          String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getEmail() : &quot;?&quot;);"> 147          String email = &quot;Email: &quot; + (mSimperium != null &amp;&amp; mSimperium.getUser() != null ? mSimperium.getUser().getE🔵</abbr></span>
<span class="-1815219994356976513" onmouseenter="enter('-1815219994356976513');" onmouseout="out('-1815219994356976513');" style=""> 148          String notes = &quot;Notes: &quot; + (mNotesBucket != null ? mNotesBucket.count() : &quot;?&quot;);                           </span>
<span class="-4701463784795893558" onmouseenter="enter('-4701463784795893558');" onmouseout="out('-4701463784795893558');" style=""> 149          String tags = &quot;Tags: &quot; + (mTagsBucket != null ? mTagsBucket.count() : &quot;?&quot;);                               </span>
<span class="5597163353916173356" onmouseenter="enter('5597163353916173356');" onmouseout="out('5597163353916173356');" style=""> 150          return email + &quot;\n&quot; + notes + &quot;\n&quot; + tags + &quot;\n\n&quot;;                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151      }                                                                                                             </span>
<span  style=""> 152                                                                                                                    </span>
<span class="-4176269846075250192" onmouseenter="enter('-4176269846075250192');" onmouseout="out('-4176269846075250192');" style=""> 153      private String getDeviceInfo() {                                                                              </span>
<span class="7581408804502865572" onmouseenter="enter('7581408804502865572');" onmouseout="out('7581408804502865572');" style=""><abbr title=" 154          String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; : &quot;Android &quot;;"> 154          String architecture = Build.DEVICE != null &amp;&amp; Build.DEVICE.matches(&quot;.+_cheets|cheets_.+&quot;) ? &quot;Chrome OS &quot; :🔵</abbr></span>
<span class="-921339907737118722" onmouseenter="enter('-921339907737118722');" onmouseout="out('-921339907737118722');" style=""> 155          String device = &quot;Device: &quot; + Build.MANUFACTURER + &quot; &quot; + Build.MODEL + &quot; (&quot; + Build.DEVICE + &quot;)&quot;;          </span>
<span class="-7970072835487477375" onmouseenter="enter('-7970072835487477375');" onmouseout="out('-7970072835487477375');" style=""> 156          String system = &quot;System: &quot; + architecture + Build.VERSION.RELEASE + &quot; (&quot; + Build.VERSION.SDK_INT + &quot;)&quot;;   </span>
<span class="3648033425382070956" onmouseenter="enter('3648033425382070956');" onmouseout="out('3648033425382070956');" style=""> 157          String app = &quot;App: Simplenote &quot; + PrefUtils.versionInfo();                                                </span>
<span class="6793127563363345208" onmouseenter="enter('6793127563363345208');" onmouseout="out('6793127563363345208');" style=""> 158          return device + &quot;\n&quot; + system + &quot;\n&quot; + app + &quot;\n\n&quot;;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159      }                                                                                                             </span>
<span  style=""> 160                                                                                                                    </span>
<span class="-2452840228833033114" onmouseenter="enter('-2452840228833033114');" onmouseout="out('-2452840228833033114');" style=""> 161      public Simperium getSimperium() {                                                                             </span>
<span class="-1067936515361198064" onmouseenter="enter('-1067936515361198064');" onmouseout="out('-1067936515361198064');" style=""> 162          return mSimperium;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163      }                                                                                                             </span>
<span  style=""> 164                                                                                                                    </span>
<span class="8475950615112765175" onmouseenter="enter('8475950615112765175');" onmouseout="out('8475950615112765175');" style=""> 165      public Bucket&lt;Note&gt; getNotesBucket() {                                                                        </span>
<span class="3001734825963445545" onmouseenter="enter('3001734825963445545');" onmouseout="out('3001734825963445545');" style=""> 166          return mNotesBucket;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167      }                                                                                                             </span>
<span  style=""> 168                                                                                                                    </span>
<span class="1680392141704969043" onmouseenter="enter('1680392141704969043');" onmouseout="out('1680392141704969043');" style=""> 169      public Bucket&lt;Tag&gt; getTagsBucket() {                                                                          </span>
<span class="6135487691608919718" onmouseenter="enter('6135487691608919718');" onmouseout="out('6135487691608919718');" style=""> 170          return mTagsBucket;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span  style=""> 172                                                                                                                    </span>
<span class="-4506300185279466066" onmouseenter="enter('-4506300185279466066');" onmouseout="out('-4506300185279466066');" style=""> 173      public Bucket&lt;Preferences&gt; getPreferencesBucket() {                                                           </span>
<span class="6715102450829888836" onmouseenter="enter('6715102450829888836');" onmouseout="out('6715102450829888836');" style=""> 174          return mPreferencesBucket;                                                                                </span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175      }                                                                                                             </span>
<span  style=""> 176                                                                                                                    </span>
<span class="72925131662297315" onmouseenter="enter('72925131662297315');" onmouseout="out('72925131662297315');" style=""><abbr title=" 177      private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, ComponentCallbacks2 {"> 177      private class ApplicationLifecycleMonitor implements Application.ActivityLifecycleCallbacks, ComponentCallback🔵</abbr></span>
<span class="-2339277597485504791" onmouseenter="enter('-2339277597485504791');" onmouseout="out('-2339277597485504791');" style=""> 178          private boolean mIsInBackground = true;                                                                   </span>
<span  style=""> 179                                                                                                                    </span>
<span class="3103941996577506651" onmouseenter="enter('3103941996577506651');" onmouseout="out('3103941996577506651');" style=""> 180          // ComponentCallbacks                                                                                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181          @Override                                                                                                 </span>
<span class="2274976836934101801" onmouseenter="enter('2274976836934101801');" onmouseout="out('2274976836934101801');" style=""> 182          public void onTrimMemory(int level) {                                                                     </span>
<span class="-1837603280920501393" onmouseenter="enter('-1837603280920501393');" onmouseout="out('-1837603280920501393');" style=""> 183              if (level == ComponentCallbacks2.TRIM_MEMORY_UI_HIDDEN) {                                             </span>
<span class="-4583313459107718715" onmouseenter="enter('-4583313459107718715');" onmouseout="out('-4583313459107718715');" style=""> 184                  mIsInBackground = true;                                                                           </span>
<span  style=""> 185                                                                                                                    </span>
<span class="-7450229904998226699" onmouseenter="enter('-7450229904998226699');" onmouseout="out('-7450229904998226699');" style=""> 186                  // Give the buckets some time to finish sync, then stop them                                      </span>
<span class="7162501222170899627" onmouseenter="enter('7162501222170899627');" onmouseout="out('7162501222170899627');" style=""> 187                  new Handler().postDelayed(new Runnable() {                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 188                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 189                      public void run() {                                                                           </span>
<span class="1937243434374323959" onmouseenter="enter('1937243434374323959');" onmouseout="out('1937243434374323959');" style=""> 190                          if (!mIsInBackground) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 191                              return;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192                          }                                                                                         </span>
<span  style=""> 193                                                                                                                    </span>
<span class="6694920678363305995" onmouseenter="enter('6694920678363305995');" onmouseout="out('6694920678363305995');" style=""> 194                          if (mNotesBucket != null) {                                                               </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 195                              mNotesBucket.stop();                                                                  </span>
<span class="-8256972624868266110" onmouseenter="enter('-8256972624868266110');" onmouseout="out('-8256972624868266110');" style=""> 196                              AppLog.add(Type.SYNC, &quot;Stopped note bucket (Simplenote)&quot;);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197                          }                                                                                         </span>
<span  style=""> 198                                                                                                                    </span>
<span class="-6758879846146730703" onmouseenter="enter('-6758879846146730703');" onmouseout="out('-6758879846146730703');" style=""> 199                          if (mTagsBucket != null) {                                                                </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 200                              mTagsBucket.stop();                                                                   </span>
<span class="3632904236952271414" onmouseenter="enter('3632904236952271414');" onmouseout="out('3632904236952271414');" style=""> 201                              AppLog.add(Type.SYNC, &quot;Stopped tag bucket (Simplenote)&quot;);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202                          }                                                                                         </span>
<span  style=""> 203                                                                                                                    </span>
<span class="-6192025378026905457" onmouseenter="enter('-6192025378026905457');" onmouseout="out('-6192025378026905457');" style=""> 204                          if (mPreferencesBucket != null) {                                                         </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 205                              mPreferencesBucket.stop();                                                            </span>
<span class="-5651227749650235797" onmouseenter="enter('-5651227749650235797');" onmouseout="out('-5651227749650235797');" style=""> 206                              AppLog.add(Type.SYNC, &quot;Stopped preference bucket (Simplenote)&quot;);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208                      }                                                                                             </span>
<span class="6786785065928556607" onmouseenter="enter('6786785065928556607');" onmouseout="out('6786785065928556607');" style=""> 209                  }, TEN_SECONDS_MILLIS);                                                                           </span>
<span  style=""> 210                                                                                                                    </span>
<span class="-341478899160030823" onmouseenter="enter('-341478899160030823');" onmouseout="out('-341478899160030823');" style=""> 211                  // Send analytics if app is in the background                                                     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 212                  AnalyticsTracker.track(                                                                           </span>
<span class="3485374480742718668" onmouseenter="enter('3485374480742718668');" onmouseout="out('3485374480742718668');" style=""> 213                          AnalyticsTracker.Stat.APPLICATION_CLOSED,                                                 </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 214                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="3140085526459106828" onmouseenter="enter('3140085526459106828');" onmouseout="out('3140085526459106828');" style=""> 215                          &quot;application_closed&quot;                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 216                  );                                                                                                </span>
<span class="-7792835064107422696" onmouseenter="enter('-7792835064107422696');" onmouseout="out('-7792835064107422696');" style=""> 217                  AnalyticsTracker.flush();                                                                         </span>
<span class="-6664472740739433069" onmouseenter="enter('-6664472740739433069');" onmouseout="out('-6664472740739433069');" style=""> 218                  AppLog.add(Type.ACTION, &quot;App closed&quot;);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 219              } else {                                                                                              </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 220                  mIsInBackground = false;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222          }                                                                                                         </span>
<span  style=""> 223                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 224          @Override                                                                                                 </span>
<span class="6856792358586712593" onmouseenter="enter('6856792358586712593');" onmouseout="out('6856792358586712593');" style=""> 225          public void onConfigurationChanged(@NonNull Configuration newConfig) {                                    </span>
<span class="-671791306218270016" onmouseenter="enter('-671791306218270016');" onmouseout="out('-671791306218270016');" style=""> 226              AppLog.add(Type.LAYOUT, DisplayUtils.getDisplaySizeAndOrientation(Simplenote.this));                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227          }                                                                                                         </span>
<span  style=""> 228                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 229          @Override                                                                                                 </span>
<span class="-4981664158563918121" onmouseenter="enter('-4981664158563918121');" onmouseout="out('-4981664158563918121');" style=""> 230          public void onLowMemory() {                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231          }                                                                                                         </span>
<span  style=""> 232                                                                                                                    </span>
<span class="-4597135701451302256" onmouseenter="enter('-4597135701451302256');" onmouseout="out('-4597135701451302256');" style=""> 233          // ActivityLifecycleCallbacks                                                                             </span>

<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 234          @Override                                                                                                 </span>
<span class="-3924077821180675166" onmouseenter="enter('-3924077821180675166');" onmouseout="out('-3924077821180675166');" style=""> 235          public void onActivityResumed(@NonNull Activity activity) {                                               </span>
<span class="-1824713474309501961" onmouseenter="enter('-1824713474309501961');" onmouseout="out('-1824713474309501961');" style=""> 236              if (mIsInBackground) {                                                                                </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 237                  AnalyticsTracker.track(                                                                           </span>
<span class="-9053818901097240592" onmouseenter="enter('-9053818901097240592');" onmouseout="out('-9053818901097240592');" style=""> 238                          AnalyticsTracker.Stat.APPLICATION_OPENED,                                                 </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 239                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="5765105888033949578" onmouseenter="enter('5765105888033949578');" onmouseout="out('5765105888033949578');" style=""> 240                          &quot;application_opened&quot;                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 241                  );                                                                                                </span>
<span  style=""> 242                                                                                                                    </span>
<span class="-6497924770077247329" onmouseenter="enter('-6497924770077247329');" onmouseout="out('-6497924770077247329');" style=""> 243                  mIsInBackground = false;                                                                          </span>
<span class="-6333475820451850994" onmouseenter="enter('-6333475820451850994');" onmouseout="out('-6333475820451850994');" style=""> 244                  AppLog.add(Type.ACTION, &quot;App opened&quot;);                                                            </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245              }                                                                                                     </span>
<span  style=""> 246                                                                                                                    </span>
<span class="5242495516731300622" onmouseenter="enter('5242495516731300622');" onmouseout="out('5242495516731300622');" style=""> 247              String activitySimpleName = activity.getClass().getSimpleName();                                      </span>
<span  style=""> 248                                                                                                                    </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style=""> 249              mPreferencesBucket.start();                                                                           </span>
<span class="-3539741953604827644" onmouseenter="enter('-3539741953604827644');" onmouseout="out('-3539741953604827644');" style=""> 250              AppLog.add(Type.SYNC, &quot;Started preference bucket (&quot; + activitySimpleName + &quot;)&quot;);                      </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 251              mNotesBucket.start();                                                                                 </span>
<span class="-9002409501487253211" onmouseenter="enter('-9002409501487253211');" onmouseout="out('-9002409501487253211');" style=""> 252              AppLog.add(Type.SYNC, &quot;Started note bucket (&quot; + activitySimpleName + &quot;)&quot;);                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 253              mTagsBucket.start();                                                                                  </span>
<span class="2042044416855016901" onmouseenter="enter('2042044416855016901');" onmouseout="out('2042044416855016901');" style=""> 254              AppLog.add(Type.SYNC, &quot;Started tag bucket (&quot; + activitySimpleName + &quot;)&quot;);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255          }                                                                                                         </span>
<span  style=""> 256                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257          @Override                                                                                                 </span>
<span class="3802784276197342934" onmouseenter="enter('3802784276197342934');" onmouseout="out('3802784276197342934');" style=""> 258          public void onActivityCreated(@NonNull Activity activity, Bundle savedInstanceState) {                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259          }                                                                                                         </span>
<span  style=""> 260                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 261          @Override                                                                                                 </span>
<span class="1925798780581030833" onmouseenter="enter('1925798780581030833');" onmouseout="out('1925798780581030833');" style=""> 262          public void onActivityStarted(@NonNull Activity activity) {                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263          }                                                                                                         </span>
<span  style=""> 264                                                                                                                    </span>

<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 265          @Override                                                                                                 </span>
<span class="6762635398346313192" onmouseenter="enter('6762635398346313192');" onmouseout="out('6762635398346313192');" style=""> 266          public void onActivityPaused(@NonNull Activity activity) {                                                </span>
















<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267          }                                                                                                         </span>
<span  style=""> 268                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269          @Override                                                                                                 </span>
<span class="-7982391621651416385" onmouseenter="enter('-7982391621651416385');" onmouseout="out('-7982391621651416385');" style=""> 270          public void onActivityStopped(@NonNull Activity activity) {                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271          }                                                                                                         </span>
<span  style=""> 272                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 273          @Override                                                                                                 </span>
<span class="2275335402994256657" onmouseenter="enter('2275335402994256657');" onmouseout="out('2275335402994256657');" style=""> 274          public void onActivitySaveInstanceState(@NonNull Activity activity, @NonNull Bundle outState) {           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275          }                                                                                                         </span>
<span  style=""> 276                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 277          @Override                                                                                                 </span>
<span class="7397501089288945407" onmouseenter="enter('7397501089288945407');" onmouseout="out('7397501089288945407');" style=""> 278          public void onActivityDestroyed(@NonNull Activity activity) {                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            