<!DOCTYPE html>
<html lang="en">
          <head>
            <meta charset="utf-8">
            <title>72 chunks</title>
                <style>
                    #top {
                        height: 48vh;
                        overflow-y: auto;
                    }
                    #bottom {
                        height: 48vh;
                        overflow-y: auto;
                    }
                </style>
          </head>
          <body>
            <pre>[[{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;/*\n&#x27;
                         &#x27; * Copyright (C) 2016 &#x27;
                         &#x27;AriaLyy(https://github.com/AriaLyy/Aria)\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Licensed under the Apache License, Version 2.0 &#x27;
                         &#x27;(the &quot;License&quot;);\n&#x27;
                         &#x27; * you may not use this file except in compliance &#x27;
                         &#x27;with the License.\n&#x27;
                         &#x27; * You may obtain a copy of the License at\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; *      http://www.apache.org/licenses/LICENSE-2.0\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Unless required by applicable law or agreed to in &#x27;
                         &#x27;writing, software\n&#x27;
                         &#x27; * distributed under the License is distributed on &#x27;
                         &#x27;an &quot;AS IS&quot; BASIS,\n&#x27;
                         &#x27; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, &#x27;
                         &#x27;either express or implied.\n&#x27;
                         &#x27; * See the License for the specific language &#x27;
                         &#x27;governing permissions and\n&#x27;
                         &#x27; * limitations under the License.\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;package com.arialyy.aria.core;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;import android.text.TextUtils;\n&#x27;
                         &#x27;import &#x27;
                         &#x27;com.arialyy.aria.core.queue.DownloadTaskQueue;\n&#x27;
                         &#x27;import com.arialyy.aria.util.CommonUtil;\n&#x27;
                         &#x27;import java.io.File;\n&#x27;
                         &#x27;import java.lang.reflect.Field;\n&#x27;
                         &#x27;import java.lang.reflect.Modifier;\n&#x27;
                         &#x27;import java.util.List;\n&#x27;
                         &#x27;import java.util.Properties;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;/**\n&#x27;
                         &#x27; * Created by lyy on 2016/12/8.\n&#x27;
                         &#x27; * 信息配置\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;class Configuration {\n&#x27;
                         &#x27;  static final String DOWNLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/DownloadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String UPLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/UploadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String XML_FILE = &#x27;
                         &#x27;&quot;/Aria/aria_config.xml&quot;;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 通用配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 旧任务数\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static int oldMaxTaskNum = 2;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 是否发送任务广播，true，发送\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isOpenBreadCast = false;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 任务队列最大任务数， 默认为2\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int maxTaskNum = 2;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载失败，重试次数，默认为10\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryNum = 10;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置重试间隔，单位为毫秒，默认2000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryInterval = 2000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置url连接超时时间，单位为毫秒，默认5000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int connectTimeOut = 5000;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * &#x27;
                         &#x27;是否需要转换速度单位，转换完成后为：1b/s、1k/s、1m/s、1g/s、1t/s，如果不需要将返回byte长度\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isConvertSpeed = false;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isOpenBreadCast() {\n&#x27;
                         &#x27;      return isOpenBreadCast;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setOpenBreadCast(boolean &#x27;
                         &#x27;openBreadCast) {\n&#x27;
                         &#x27;      isOpenBreadCast = openBreadCast;\n&#x27;
                         &#x27;      saveKey(&quot;isOpenBreadCast&quot;, openBreadCast + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getMaxTaskNum() {\n&#x27;
                         &#x27;      return maxTaskNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setMaxTaskNum(int maxTaskNum) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      oldMaxTaskNum = this.maxTaskNum;\n&#x27;
                         &#x27;      this.maxTaskNum = maxTaskNum;\n&#x27;
                         &#x27;      saveKey(&quot;maxTaskNum&quot;, maxTaskNum + &quot;&quot;);\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxTaskNum(maxTaskNum);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryNum() {\n&#x27;
                         &#x27;      return reTryNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryNum(int reTryNum) {\n&#x27;
                         &#x27;      this.reTryNum = reTryNum;\n&#x27;
                         &#x27;      saveKey(&quot;reTryNum&quot;, reTryNum + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryInterval() {\n&#x27;
                         &#x27;      return reTryInterval;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryInterval(int &#x27;
                         &#x27;reTryInterval) {\n&#x27;
                         &#x27;      this.reTryInterval = reTryInterval;\n&#x27;
                         &#x27;      saveKey(&quot;reTryInterval&quot;, reTryInterval + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isConvertSpeed() {\n&#x27;
                         &#x27;      return isConvertSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConvertSpeed(boolean &#x27;
                         &#x27;convertSpeed) {\n&#x27;
                         &#x27;      isConvertSpeed = convertSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;isConvertSpeed&quot;, isConvertSpeed + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getConnectTimeOut() {\n&#x27;
                         &#x27;      return connectTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConnectTimeOut(int &#x27;
                         &#x27;connectTimeOut) {\n&#x27;
                         &#x27;      this.connectTimeOut = connectTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;connectTimeOut&quot;, connectTimeOut + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存key\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveKey(String key, String value) {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        properties.setProperty(key, value);\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 加载配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void loadConfig() {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;        try {\n&#x27;
                         &#x27;          for (Field field : fields) {\n&#x27;
                         &#x27;            int m = field.getModifiers();\n&#x27;
                         &#x27;            if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;              continue;\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;            field.setAccessible(true);\n&#x27;
                         &#x27;            String value = &#x27;
                         &#x27;properties.getProperty(field.getName());\n&#x27;
                         &#x27;            Class&lt;?&gt; type = field.getType();\n&#x27;
                         &#x27;            if (type == String.class) {\n&#x27;
                         &#x27;              field.set(this, value);\n&#x27;
                         &#x27;            } else if (type == int.class || type == &#x27;
                         &#x27;Integer.class) {\n&#x27;
                         &#x27;              field.setInt(this, &#x27;
                         &#x27;Integer.parseInt(value));\n&#x27;
                         &#x27;            } else if (type == float.class || type &#x27;
                         &#x27;== Float.class) {\n&#x27;
                         &#x27;              field.setFloat(this, &#x27;
                         &#x27;Float.parseFloat(value));\n&#x27;
                         &#x27;            } else if (type == double.class || type &#x27;
                         &#x27;== Double.class) {\n&#x27;
                         &#x27;              if (TextUtils.isEmpty(value)){\n&#x27;
                         &#x27;                value = &quot;0.0&quot;;\n&#x27;
                         &#x27;              }\n&#x27;
                         &#x27;              field.setDouble(this, &#x27;
                         &#x27;Double.parseDouble(value));\n&#x27;
                         &#x27;            } else if (type == long.class || type == &#x27;
                         &#x27;Long.class) {\n&#x27;
                         &#x27;              field.setLong(this, &#x27;
                         &#x27;Long.parseLong(value));\n&#x27;
                         &#x27;            } else if (type == boolean.class || type &#x27;
                         &#x27;== Boolean.class) {\n&#x27;
                         &#x27;              field.setBoolean(this, &#x27;
                         &#x27;Boolean.parseBoolean(value));\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;        } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;          e.printStackTrace();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveAll() {\n&#x27;
                         &#x27;      List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      try {\n&#x27;
                         &#x27;        File file = new File(\n&#x27;
                         &#x27;            AriaManager.APP.getFilesDir().getPath() &#x27;
                         &#x27;+ (isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;                : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        for (Field field : fields) {\n&#x27;
                         &#x27;          int m = field.getModifiers();\n&#x27;
                         &#x27;          if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;            continue;\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;          field.setAccessible(true);\n&#x27;
                         &#x27;          properties.setProperty(field.getName(), &#x27;
                         &#x27;field.get(this) + &quot;&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;        e.printStackTrace();\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 下载配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class DownloadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置IO流读取时间，单位为毫秒，默认20000毫秒，该时间不能少于10000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int iOTimeOut = 20 * 1000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置写文件buff大小，该数值大小不能小于2048，数值变小，下载速度会变慢\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int buffSize = 8192;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置https ca 证书信息；path 为assets目录下的CA证书完整路径\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caPath;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * name 为CA证书名\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caName;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载线程数，下载线程数不能小于1\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int threadNum = 3;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置最大下载速度，单位：kb, 为0表示不限速\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    double msxSpeed = 0.0;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getIOTimeOut() {\n&#x27;
                         &#x27;      return iOTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public double getMsxSpeed() {\n&#x27;
                         &#x27;      return msxSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setMsxSpeed(double &#x27;
                         &#x27;msxSpeed) {\n&#x27;
                         &#x27;      this.msxSpeed = msxSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;msxSpeed&quot;, &#x27;
                         &#x27;String.valueOf(msxSpeed));\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxSpeed(msxSpeed);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setIOTimeOut(int &#x27;
                         &#x27;iOTimeOut) {\n&#x27;
                         &#x27;      this.iOTimeOut = iOTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;iOTimeOut&quot;, iOTimeOut + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getBuffSize() {\n&#x27;
                         &#x27;      return buffSize;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setBuffSize(int buffSize) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.buffSize = buffSize;\n&#x27;
                         &#x27;      saveKey(&quot;buffSize&quot;, buffSize + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaPath() {\n&#x27;
                         &#x27;      return caPath;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaPath(String caPath) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caPath = caPath;\n&#x27;
                         &#x27;      saveKey(&quot;caPath&quot;, caPath);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaName() {\n&#x27;
                         &#x27;      return caName;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaName(String caName) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caName = caName;\n&#x27;
                         &#x27;      saveKey(&quot;caName&quot;, caName);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getThreadNum() {\n&#x27;
                         &#x27;      return threadNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private DownloadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static DownloadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static DownloadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new DownloadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 上传配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class UploadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private UploadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static UploadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static UploadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new UploadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;}\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;/*\n&#x27;
                         &#x27; * Copyright (C) 2016 &#x27;
                         &#x27;AriaLyy(https://github.com/AriaLyy/Aria)\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Licensed under the Apache License, Version 2.0 &#x27;
                         &#x27;(the &quot;License&quot;);\n&#x27;
                         &#x27; * you may not use this file except in compliance &#x27;
                         &#x27;with the License.\n&#x27;
                         &#x27; * You may obtain a copy of the License at\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; *      http://www.apache.org/licenses/LICENSE-2.0\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Unless required by applicable law or agreed to in &#x27;
                         &#x27;writing, software\n&#x27;
                         &#x27; * distributed under the License is distributed on &#x27;
                         &#x27;an &quot;AS IS&quot; BASIS,\n&#x27;
                         &#x27; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, &#x27;
                         &#x27;either express or implied.\n&#x27;
                         &#x27; * See the License for the specific language &#x27;
                         &#x27;governing permissions and\n&#x27;
                         &#x27; * limitations under the License.\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;package com.arialyy.aria.core;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;import android.text.TextUtils;\n&#x27;
                         &#x27;import &#x27;
                         &#x27;com.arialyy.aria.core.queue.DownloadTaskQueue;\n&#x27;
                         &#x27;import com.arialyy.aria.util.CommonUtil;\n&#x27;
                         &#x27;import java.io.File;\n&#x27;
                         &#x27;import java.lang.reflect.Field;\n&#x27;
                         &#x27;import java.lang.reflect.Modifier;\n&#x27;
                         &#x27;import java.util.List;\n&#x27;
                         &#x27;import java.util.Properties;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;/**\n&#x27;
                         &#x27; * Created by lyy on 2016/12/8.\n&#x27;
                         &#x27; * 信息配置\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;class Configuration {\n&#x27;
                         &#x27;  static final String DOWNLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/DownloadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String UPLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/UploadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String XML_FILE = &#x27;
                         &#x27;&quot;/Aria/aria_config.xml&quot;;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 通用配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 旧任务数\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static int oldMaxTaskNum = 2;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 是否发送任务广播，true，发送\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isOpenBreadCast = false;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 任务队列最大任务数， 默认为2\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int maxTaskNum = 2;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载失败，重试次数，默认为10\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryNum = 10;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置重试间隔，单位为毫秒，默认2000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryInterval = 2000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置url连接超时时间，单位为毫秒，默认5000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int connectTimeOut = 5000;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * &#x27;
                         &#x27;是否需要转换速度单位，转换完成后为：1b/s、1k/s、1m/s、1g/s、1t/s，如果不需要将返回byte长度\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isConvertSpeed = false;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isOpenBreadCast() {\n&#x27;
                         &#x27;      return isOpenBreadCast;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setOpenBreadCast(boolean &#x27;
                         &#x27;openBreadCast) {\n&#x27;
                         &#x27;      isOpenBreadCast = openBreadCast;\n&#x27;
                         &#x27;      saveKey(&quot;isOpenBreadCast&quot;, openBreadCast + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getMaxTaskNum() {\n&#x27;
                         &#x27;      return maxTaskNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setMaxTaskNum(int maxTaskNum) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      oldMaxTaskNum = this.maxTaskNum;\n&#x27;
                         &#x27;      this.maxTaskNum = maxTaskNum;\n&#x27;
                         &#x27;      saveKey(&quot;maxTaskNum&quot;, maxTaskNum + &quot;&quot;);\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxTaskNum(maxTaskNum);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryNum() {\n&#x27;
                         &#x27;      return reTryNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryNum(int reTryNum) {\n&#x27;
                         &#x27;      this.reTryNum = reTryNum;\n&#x27;
                         &#x27;      saveKey(&quot;reTryNum&quot;, reTryNum + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryInterval() {\n&#x27;
                         &#x27;      return reTryInterval;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryInterval(int &#x27;
                         &#x27;reTryInterval) {\n&#x27;
                         &#x27;      this.reTryInterval = reTryInterval;\n&#x27;
                         &#x27;      saveKey(&quot;reTryInterval&quot;, reTryInterval + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isConvertSpeed() {\n&#x27;
                         &#x27;      return isConvertSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConvertSpeed(boolean &#x27;
                         &#x27;convertSpeed) {\n&#x27;
                         &#x27;      isConvertSpeed = convertSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;isConvertSpeed&quot;, isConvertSpeed + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getConnectTimeOut() {\n&#x27;
                         &#x27;      return connectTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConnectTimeOut(int &#x27;
                         &#x27;connectTimeOut) {\n&#x27;
                         &#x27;      this.connectTimeOut = connectTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;connectTimeOut&quot;, connectTimeOut + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存key\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveKey(String key, String value) {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        properties.setProperty(key, value);\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 加载配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void loadConfig() {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;        try {\n&#x27;
                         &#x27;          for (Field field : fields) {\n&#x27;
                         &#x27;            int m = field.getModifiers();\n&#x27;
                         &#x27;            if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;              continue;\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;            field.setAccessible(true);\n&#x27;
                         &#x27;            String value = &#x27;
                         &#x27;properties.getProperty(field.getName());\n&#x27;
                         &#x27;            Class&lt;?&gt; type = field.getType();\n&#x27;
                         &#x27;            if (type == String.class) {\n&#x27;
                         &#x27;              field.set(this, value);\n&#x27;
                         &#x27;            } else if (type == int.class || type == &#x27;
                         &#x27;Integer.class) {\n&#x27;
                         &#x27;              field.setInt(this, &#x27;
                         &#x27;Integer.parseInt(value));\n&#x27;
                         &#x27;            } else if (type == float.class || type &#x27;
                         &#x27;== Float.class) {\n&#x27;
                         &#x27;              field.setFloat(this, &#x27;
                         &#x27;Float.parseFloat(value));\n&#x27;
                         &#x27;            } else if (type == double.class || type &#x27;
                         &#x27;== Double.class) {\n&#x27;
                         &#x27;              if (TextUtils.isEmpty(value)){\n&#x27;
                         &#x27;                value = &quot;0.0&quot;;\n&#x27;
                         &#x27;              }\n&#x27;
                         &#x27;              field.setDouble(this, &#x27;
                         &#x27;Double.parseDouble(value));\n&#x27;
                         &#x27;            } else if (type == long.class || type == &#x27;
                         &#x27;Long.class) {\n&#x27;
                         &#x27;              field.setLong(this, &#x27;
                         &#x27;Long.parseLong(value));\n&#x27;
                         &#x27;            } else if (type == boolean.class || type &#x27;
                         &#x27;== Boolean.class) {\n&#x27;
                         &#x27;              field.setBoolean(this, &#x27;
                         &#x27;Boolean.parseBoolean(value));\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;        } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;          e.printStackTrace();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveAll() {\n&#x27;
                         &#x27;      List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      try {\n&#x27;
                         &#x27;        File file = new File(\n&#x27;
                         &#x27;            AriaManager.APP.getFilesDir().getPath() &#x27;
                         &#x27;+ (isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;                : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        for (Field field : fields) {\n&#x27;
                         &#x27;          int m = field.getModifiers();\n&#x27;
                         &#x27;          if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;            continue;\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;          field.setAccessible(true);\n&#x27;
                         &#x27;          properties.setProperty(field.getName(), &#x27;
                         &#x27;field.get(this) + &quot;&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;        e.printStackTrace();\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 下载配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class DownloadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置IO流读取时间，单位为毫秒，默认20000毫秒，该时间不能少于10000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int iOTimeOut = 20 * 1000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置写文件buff大小，该数值大小不能小于2048，数值变小，下载速度会变慢\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int buffSize = 8192;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置https ca 证书信息；path 为assets目录下的CA证书完整路径\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caPath;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * name 为CA证书名\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caName;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载线程数，下载线程数不能小于1\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int threadNum = 3;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置最大下载速度，单位：kb, 为0表示不限速\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    double msxSpeed = 0.0;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getIOTimeOut() {\n&#x27;
                         &#x27;      return iOTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public double getMsxSpeed() {\n&#x27;
                         &#x27;      return msxSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setMsxSpeed(double &#x27;
                         &#x27;msxSpeed) {\n&#x27;
                         &#x27;      this.msxSpeed = msxSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;msxSpeed&quot;, &#x27;
                         &#x27;String.valueOf(msxSpeed));\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxSpeed(msxSpeed);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setIOTimeOut(int &#x27;
                         &#x27;iOTimeOut) {\n&#x27;
                         &#x27;      this.iOTimeOut = iOTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;iOTimeOut&quot;, iOTimeOut + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getBuffSize() {\n&#x27;
                         &#x27;      return buffSize;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setBuffSize(int buffSize) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.buffSize = buffSize;\n&#x27;
                         &#x27;      saveKey(&quot;buffSize&quot;, buffSize + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaPath() {\n&#x27;
                         &#x27;      return caPath;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaPath(String caPath) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caPath = caPath;\n&#x27;
                         &#x27;      saveKey(&quot;caPath&quot;, caPath);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaName() {\n&#x27;
                         &#x27;      return caName;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaName(String caName) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caName = caName;\n&#x27;
                         &#x27;      saveKey(&quot;caName&quot;, caName);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getThreadNum() {\n&#x27;
                         &#x27;      return threadNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private DownloadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static DownloadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static DownloadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new DownloadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 上传配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class UploadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private UploadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static UploadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static UploadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new UploadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;}\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;/*\n&#x27;
                         &#x27; * Copyright (C) 2016 &#x27;
                         &#x27;AriaLyy(https://github.com/AriaLyy/Aria)\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Licensed under the Apache License, Version 2.0 &#x27;
                         &#x27;(the &quot;License&quot;);\n&#x27;
                         &#x27; * you may not use this file except in compliance &#x27;
                         &#x27;with the License.\n&#x27;
                         &#x27; * You may obtain a copy of the License at\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; *      http://www.apache.org/licenses/LICENSE-2.0\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Unless required by applicable law or agreed to in &#x27;
                         &#x27;writing, software\n&#x27;
                         &#x27; * distributed under the License is distributed on &#x27;
                         &#x27;an &quot;AS IS&quot; BASIS,\n&#x27;
                         &#x27; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, &#x27;
                         &#x27;either express or implied.\n&#x27;
                         &#x27; * See the License for the specific language &#x27;
                         &#x27;governing permissions and\n&#x27;
                         &#x27; * limitations under the License.\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;package com.arialyy.aria.core;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;import android.text.TextUtils;\n&#x27;
                         &#x27;import &#x27;
                         &#x27;com.arialyy.aria.core.queue.DownloadTaskQueue;\n&#x27;
                         &#x27;import com.arialyy.aria.util.CommonUtil;\n&#x27;
                         &#x27;import java.io.File;\n&#x27;
                         &#x27;import java.lang.reflect.Field;\n&#x27;
                         &#x27;import java.lang.reflect.Modifier;\n&#x27;
                         &#x27;import java.util.List;\n&#x27;
                         &#x27;import java.util.Properties;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;/**\n&#x27;
                         &#x27; * Created by lyy on 2016/12/8.\n&#x27;
                         &#x27; * 信息配置\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;class Configuration {\n&#x27;
                         &#x27;  static final String DOWNLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/DownloadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String UPLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/UploadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String XML_FILE = &#x27;
                         &#x27;&quot;/Aria/aria_config.xml&quot;;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 通用配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 旧任务数\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static int oldMaxTaskNum = 2;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 是否发送任务广播，true，发送\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isOpenBreadCast = false;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 任务队列最大任务数， 默认为2\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int maxTaskNum = 2;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载失败，重试次数，默认为10\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryNum = 10;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置重试间隔，单位为毫秒，默认2000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryInterval = 2000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置url连接超时时间，单位为毫秒，默认5000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int connectTimeOut = 5000;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * &#x27;
                         &#x27;是否需要转换速度单位，转换完成后为：1b/s、1k/s、1m/s、1g/s、1t/s，如果不需要将返回byte长度\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isConvertSpeed = false;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isOpenBreadCast() {\n&#x27;
                         &#x27;      return isOpenBreadCast;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setOpenBreadCast(boolean &#x27;
                         &#x27;openBreadCast) {\n&#x27;
                         &#x27;      isOpenBreadCast = openBreadCast;\n&#x27;
                         &#x27;      saveKey(&quot;isOpenBreadCast&quot;, openBreadCast + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getMaxTaskNum() {\n&#x27;
                         &#x27;      return maxTaskNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setMaxTaskNum(int maxTaskNum) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      oldMaxTaskNum = this.maxTaskNum;\n&#x27;
                         &#x27;      this.maxTaskNum = maxTaskNum;\n&#x27;
                         &#x27;      saveKey(&quot;maxTaskNum&quot;, maxTaskNum + &quot;&quot;);\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxTaskNum(maxTaskNum);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryNum() {\n&#x27;
                         &#x27;      return reTryNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryNum(int reTryNum) {\n&#x27;
                         &#x27;      this.reTryNum = reTryNum;\n&#x27;
                         &#x27;      saveKey(&quot;reTryNum&quot;, reTryNum + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryInterval() {\n&#x27;
                         &#x27;      return reTryInterval;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryInterval(int &#x27;
                         &#x27;reTryInterval) {\n&#x27;
                         &#x27;      this.reTryInterval = reTryInterval;\n&#x27;
                         &#x27;      saveKey(&quot;reTryInterval&quot;, reTryInterval + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isConvertSpeed() {\n&#x27;
                         &#x27;      return isConvertSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConvertSpeed(boolean &#x27;
                         &#x27;convertSpeed) {\n&#x27;
                         &#x27;      isConvertSpeed = convertSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;isConvertSpeed&quot;, isConvertSpeed + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getConnectTimeOut() {\n&#x27;
                         &#x27;      return connectTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConnectTimeOut(int &#x27;
                         &#x27;connectTimeOut) {\n&#x27;
                         &#x27;      this.connectTimeOut = connectTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;connectTimeOut&quot;, connectTimeOut + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存key\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveKey(String key, String value) {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        properties.setProperty(key, value);\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 加载配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void loadConfig() {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;        try {\n&#x27;
                         &#x27;          for (Field field : fields) {\n&#x27;
                         &#x27;            int m = field.getModifiers();\n&#x27;
                         &#x27;            if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;              continue;\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;            field.setAccessible(true);\n&#x27;
                         &#x27;            String value = &#x27;
                         &#x27;properties.getProperty(field.getName());\n&#x27;
                         &#x27;            Class&lt;?&gt; type = field.getType();\n&#x27;
                         &#x27;            if (type == String.class) {\n&#x27;
                         &#x27;              field.set(this, value);\n&#x27;
                         &#x27;            } else if (type == int.class || type == &#x27;
                         &#x27;Integer.class) {\n&#x27;
                         &#x27;              field.setInt(this, &#x27;
                         &#x27;Integer.parseInt(value));\n&#x27;
                         &#x27;            } else if (type == float.class || type &#x27;
                         &#x27;== Float.class) {\n&#x27;
                         &#x27;              field.setFloat(this, &#x27;
                         &#x27;Float.parseFloat(value));\n&#x27;
                         &#x27;            } else if (type == double.class || type &#x27;
                         &#x27;== Double.class) {\n&#x27;
                         &#x27;              if (TextUtils.isEmpty(value)){\n&#x27;
                         &#x27;                value = &quot;0.0&quot;;\n&#x27;
                         &#x27;              }\n&#x27;
                         &#x27;              field.setDouble(this, &#x27;
                         &#x27;Double.parseDouble(value));\n&#x27;
                         &#x27;            } else if (type == long.class || type == &#x27;
                         &#x27;Long.class) {\n&#x27;
                         &#x27;              field.setLong(this, &#x27;
                         &#x27;Long.parseLong(value));\n&#x27;
                         &#x27;            } else if (type == boolean.class || type &#x27;
                         &#x27;== Boolean.class) {\n&#x27;
                         &#x27;              field.setBoolean(this, &#x27;
                         &#x27;Boolean.parseBoolean(value));\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;        } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;          e.printStackTrace();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveAll() {\n&#x27;
                         &#x27;      List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      try {\n&#x27;
                         &#x27;        File file = new File(\n&#x27;
                         &#x27;            AriaManager.APP.getFilesDir().getPath() &#x27;
                         &#x27;+ (isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;                : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        for (Field field : fields) {\n&#x27;
                         &#x27;          int m = field.getModifiers();\n&#x27;
                         &#x27;          if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;            continue;\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;          field.setAccessible(true);\n&#x27;
                         &#x27;          properties.setProperty(field.getName(), &#x27;
                         &#x27;field.get(this) + &quot;&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;        e.printStackTrace();\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 下载配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class DownloadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置IO流读取时间，单位为毫秒，默认20000毫秒，该时间不能少于10000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int iOTimeOut = 20 * 1000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置写文件buff大小，该数值大小不能小于2048，数值变小，下载速度会变慢\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int buffSize = 8192;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置https ca 证书信息；path 为assets目录下的CA证书完整路径\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caPath;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * name 为CA证书名\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caName;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载线程数，下载线程数不能小于1\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int threadNum = 3;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置最大下载速度，单位：kb, 为0表示不限速\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    double msxSpeed = 0.0;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getIOTimeOut() {\n&#x27;
                         &#x27;      return iOTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public double getMsxSpeed() {\n&#x27;
                         &#x27;      return msxSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setMsxSpeed(double &#x27;
                         &#x27;msxSpeed) {\n&#x27;
                         &#x27;      this.msxSpeed = msxSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;msxSpeed&quot;, &#x27;
                         &#x27;String.valueOf(msxSpeed));\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxSpeed(msxSpeed);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setIOTimeOut(int &#x27;
                         &#x27;iOTimeOut) {\n&#x27;
                         &#x27;      this.iOTimeOut = iOTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;iOTimeOut&quot;, iOTimeOut + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getBuffSize() {\n&#x27;
                         &#x27;      return buffSize;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setBuffSize(int buffSize) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.buffSize = buffSize;\n&#x27;
                         &#x27;      saveKey(&quot;buffSize&quot;, buffSize + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaPath() {\n&#x27;
                         &#x27;      return caPath;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaPath(String caPath) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caPath = caPath;\n&#x27;
                         &#x27;      saveKey(&quot;caPath&quot;, caPath);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaName() {\n&#x27;
                         &#x27;      return caName;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaName(String caName) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caName = caName;\n&#x27;
                         &#x27;      saveKey(&quot;caName&quot;, caName);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getThreadNum() {\n&#x27;
                         &#x27;      return threadNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private DownloadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static DownloadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static DownloadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new DownloadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 上传配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class UploadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private UploadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static UploadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static UploadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new UploadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;}\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;spork&#x27;, &#x27;baseline&#x27;, &#x27;jfstmerge&#x27;}}],
 [{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;/*\n&#x27;
                         &#x27; * Copyright (C) 2016 &#x27;
                         &#x27;AriaLyy(https://github.com/AriaLyy/Aria)\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Licensed under the Apache License, Version 2.0 &#x27;
                         &#x27;(the &quot;License&quot;);\n&#x27;
                         &#x27; * you may not use this file except in compliance &#x27;
                         &#x27;with the License.\n&#x27;
                         &#x27; * You may obtain a copy of the License at\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; *      http://www.apache.org/licenses/LICENSE-2.0\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Unless required by applicable law or agreed to in &#x27;
                         &#x27;writing, software\n&#x27;
                         &#x27; * distributed under the License is distributed on &#x27;
                         &#x27;an &quot;AS IS&quot; BASIS,\n&#x27;
                         &#x27; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, &#x27;
                         &#x27;either express or implied.\n&#x27;
                         &#x27; * See the License for the specific language &#x27;
                         &#x27;governing permissions and\n&#x27;
                         &#x27; * limitations under the License.\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;package com.arialyy.aria.core;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;import android.text.TextUtils;\n&#x27;
                         &#x27;import &#x27;
                         &#x27;com.arialyy.aria.core.queue.DownloadTaskQueue;\n&#x27;
                         &#x27;import com.arialyy.aria.util.CommonUtil;\n&#x27;
                         &#x27;import java.io.File;\n&#x27;
                         &#x27;import java.lang.reflect.Field;\n&#x27;
                         &#x27;import java.lang.reflect.Modifier;\n&#x27;
                         &#x27;import java.util.List;\n&#x27;
                         &#x27;import java.util.Properties;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;/**\n&#x27;
                         &#x27; * Created by lyy on 2016/12/8.\n&#x27;
                         &#x27; * 信息配置\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;class Configuration {\n&#x27;
                         &#x27;  static final String DOWNLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/DownloadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String UPLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/UploadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String XML_FILE = &#x27;
                         &#x27;&quot;/Aria/aria_config.xml&quot;;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 通用配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 旧任务数\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static int oldMaxTaskNum = 2;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 是否发送任务广播，true，发送\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isOpenBreadCast = false;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 任务队列最大任务数， 默认为2\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int maxTaskNum = 2;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载失败，重试次数，默认为10\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryNum = 10;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置重试间隔，单位为毫秒，默认2000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryInterval = 2000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置url连接超时时间，单位为毫秒，默认5000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int connectTimeOut = 5000;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * &#x27;
                         &#x27;是否需要转换速度单位，转换完成后为：1b/s、1k/s、1m/s、1g/s、1t/s，如果不需要将返回byte长度\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isConvertSpeed = false;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isOpenBreadCast() {\n&#x27;
                         &#x27;      return isOpenBreadCast;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setOpenBreadCast(boolean &#x27;
                         &#x27;openBreadCast) {\n&#x27;
                         &#x27;      isOpenBreadCast = openBreadCast;\n&#x27;
                         &#x27;      saveKey(&quot;isOpenBreadCast&quot;, openBreadCast + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getMaxTaskNum() {\n&#x27;
                         &#x27;      return maxTaskNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setMaxTaskNum(int maxTaskNum) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      oldMaxTaskNum = this.maxTaskNum;\n&#x27;
                         &#x27;      this.maxTaskNum = maxTaskNum;\n&#x27;
                         &#x27;      saveKey(&quot;maxTaskNum&quot;, maxTaskNum + &quot;&quot;);\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxTaskNum(maxTaskNum);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryNum() {\n&#x27;
                         &#x27;      return reTryNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryNum(int reTryNum) {\n&#x27;
                         &#x27;      this.reTryNum = reTryNum;\n&#x27;
                         &#x27;      saveKey(&quot;reTryNum&quot;, reTryNum + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryInterval() {\n&#x27;
                         &#x27;      return reTryInterval;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryInterval(int &#x27;
                         &#x27;reTryInterval) {\n&#x27;
                         &#x27;      this.reTryInterval = reTryInterval;\n&#x27;
                         &#x27;      saveKey(&quot;reTryInterval&quot;, reTryInterval + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isConvertSpeed() {\n&#x27;
                         &#x27;      return isConvertSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConvertSpeed(boolean &#x27;
                         &#x27;convertSpeed) {\n&#x27;
                         &#x27;      isConvertSpeed = convertSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;isConvertSpeed&quot;, isConvertSpeed + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getConnectTimeOut() {\n&#x27;
                         &#x27;      return connectTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConnectTimeOut(int &#x27;
                         &#x27;connectTimeOut) {\n&#x27;
                         &#x27;      this.connectTimeOut = connectTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;connectTimeOut&quot;, connectTimeOut + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存key\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveKey(String key, String value) {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        properties.setProperty(key, value);\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 加载配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void loadConfig() {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;        try {\n&#x27;
                         &#x27;          for (Field field : fields) {\n&#x27;
                         &#x27;            int m = field.getModifiers();\n&#x27;
                         &#x27;            if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;              continue;\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;            field.setAccessible(true);\n&#x27;
                         &#x27;            String value = &#x27;
                         &#x27;properties.getProperty(field.getName());\n&#x27;
                         &#x27;            Class&lt;?&gt; type = field.getType();\n&#x27;
                         &#x27;            if (type == String.class) {\n&#x27;
                         &#x27;              field.set(this, value);\n&#x27;
                         &#x27;            } else if (type == int.class || type == &#x27;
                         &#x27;Integer.class) {\n&#x27;
                         &#x27;              field.setInt(this, &#x27;
                         &#x27;Integer.parseInt(value));\n&#x27;
                         &#x27;            } else if (type == float.class || type &#x27;
                         &#x27;== Float.class) {\n&#x27;
                         &#x27;              field.setFloat(this, &#x27;
                         &#x27;Float.parseFloat(value));\n&#x27;
                         &#x27;            } else if (type == double.class || type &#x27;
                         &#x27;== Double.class) {\n&#x27;
                         &#x27;              if (TextUtils.isEmpty(value)){\n&#x27;
                         &#x27;                value = &quot;0.0&quot;;\n&#x27;
                         &#x27;              }\n&#x27;
                         &#x27;              field.setDouble(this, &#x27;
                         &#x27;Double.parseDouble(value));\n&#x27;
                         &#x27;            } else if (type == long.class || type == &#x27;
                         &#x27;Long.class) {\n&#x27;
                         &#x27;              field.setLong(this, &#x27;
                         &#x27;Long.parseLong(value));\n&#x27;
                         &#x27;            } else if (type == boolean.class || type &#x27;
                         &#x27;== Boolean.class) {\n&#x27;
                         &#x27;              field.setBoolean(this, &#x27;
                         &#x27;Boolean.parseBoolean(value));\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;        } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;          e.printStackTrace();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveAll() {\n&#x27;
                         &#x27;      List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      try {\n&#x27;
                         &#x27;        File file = new File(\n&#x27;
                         &#x27;            AriaManager.APP.getFilesDir().getPath() &#x27;
                         &#x27;+ (isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;                : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        for (Field field : fields) {\n&#x27;
                         &#x27;          int m = field.getModifiers();\n&#x27;
                         &#x27;          if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;            continue;\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;          field.setAccessible(true);\n&#x27;
                         &#x27;          properties.setProperty(field.getName(), &#x27;
                         &#x27;field.get(this) + &quot;&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;        e.printStackTrace();\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 下载配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class DownloadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置IO流读取时间，单位为毫秒，默认20000毫秒，该时间不能少于10000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int iOTimeOut = 20 * 1000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置写文件buff大小，该数值大小不能小于2048，数值变小，下载速度会变慢\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int buffSize = 8192;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置https ca 证书信息；path 为assets目录下的CA证书完整路径\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caPath;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * name 为CA证书名\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caName;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载线程数，下载线程数不能小于1\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int threadNum = 3;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置最大下载速度，单位：kb, 为0表示不限速\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    double msxSpeed = 0.0;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getIOTimeOut() {\n&#x27;
                         &#x27;      return iOTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public double getMsxSpeed() {\n&#x27;
                         &#x27;      return msxSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setMsxSpeed(double &#x27;
                         &#x27;msxSpeed) {\n&#x27;
                         &#x27;      this.msxSpeed = msxSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;msxSpeed&quot;, &#x27;
                         &#x27;String.valueOf(msxSpeed));\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxSpeed(msxSpeed);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setIOTimeOut(int &#x27;
                         &#x27;iOTimeOut) {\n&#x27;
                         &#x27;      this.iOTimeOut = iOTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;iOTimeOut&quot;, iOTimeOut + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getBuffSize() {\n&#x27;
                         &#x27;      return buffSize;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setBuffSize(int buffSize) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.buffSize = buffSize;\n&#x27;
                         &#x27;      saveKey(&quot;buffSize&quot;, buffSize + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaPath() {\n&#x27;
                         &#x27;      return caPath;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaPath(String caPath) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caPath = caPath;\n&#x27;
                         &#x27;      saveKey(&quot;caPath&quot;, caPath);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaName() {\n&#x27;
                         &#x27;      return caName;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaName(String caName) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caName = caName;\n&#x27;
                         &#x27;      saveKey(&quot;caName&quot;, caName);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getThreadNum() {\n&#x27;
                         &#x27;      return threadNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private DownloadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static DownloadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static DownloadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new DownloadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 上传配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class UploadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private UploadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static UploadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static UploadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new UploadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;}\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;/*\n&#x27;
                         &#x27; * Copyright (C) 2016 &#x27;
                         &#x27;AriaLyy(https://github.com/AriaLyy/Aria)\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Licensed under the Apache License, Version 2.0 &#x27;
                         &#x27;(the &quot;License&quot;);\n&#x27;
                         &#x27; * you may not use this file except in compliance &#x27;
                         &#x27;with the License.\n&#x27;
                         &#x27; * You may obtain a copy of the License at\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; *      http://www.apache.org/licenses/LICENSE-2.0\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Unless required by applicable law or agreed to in &#x27;
                         &#x27;writing, software\n&#x27;
                         &#x27; * distributed under the License is distributed on &#x27;
                         &#x27;an &quot;AS IS&quot; BASIS,\n&#x27;
                         &#x27; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, &#x27;
                         &#x27;either express or implied.\n&#x27;
                         &#x27; * See the License for the specific language &#x27;
                         &#x27;governing permissions and\n&#x27;
                         &#x27; * limitations under the License.\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;package com.arialyy.aria.core;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;import android.text.TextUtils;\n&#x27;
                         &#x27;import &#x27;
                         &#x27;com.arialyy.aria.core.queue.DownloadTaskQueue;\n&#x27;
                         &#x27;import com.arialyy.aria.util.CommonUtil;\n&#x27;
                         &#x27;import java.io.File;\n&#x27;
                         &#x27;import java.lang.reflect.Field;\n&#x27;
                         &#x27;import java.lang.reflect.Modifier;\n&#x27;
                         &#x27;import java.util.List;\n&#x27;
                         &#x27;import java.util.Properties;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;/**\n&#x27;
                         &#x27; * Created by lyy on 2016/12/8.\n&#x27;
                         &#x27; * 信息配置\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;class Configuration {\n&#x27;
                         &#x27;  static final String DOWNLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/DownloadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String UPLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/UploadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String XML_FILE = &#x27;
                         &#x27;&quot;/Aria/aria_config.xml&quot;;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 通用配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 旧任务数\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static int oldMaxTaskNum = 2;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 是否发送任务广播，true，发送\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isOpenBreadCast = false;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 任务队列最大任务数， 默认为2\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int maxTaskNum = 2;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载失败，重试次数，默认为10\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryNum = 10;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置重试间隔，单位为毫秒，默认2000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryInterval = 2000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置url连接超时时间，单位为毫秒，默认5000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int connectTimeOut = 5000;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * &#x27;
                         &#x27;是否需要转换速度单位，转换完成后为：1b/s、1k/s、1m/s、1g/s、1t/s，如果不需要将返回byte长度\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isConvertSpeed = false;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isOpenBreadCast() {\n&#x27;
                         &#x27;      return isOpenBreadCast;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setOpenBreadCast(boolean &#x27;
                         &#x27;openBreadCast) {\n&#x27;
                         &#x27;      isOpenBreadCast = openBreadCast;\n&#x27;
                         &#x27;      saveKey(&quot;isOpenBreadCast&quot;, openBreadCast + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getMaxTaskNum() {\n&#x27;
                         &#x27;      return maxTaskNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setMaxTaskNum(int maxTaskNum) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      oldMaxTaskNum = this.maxTaskNum;\n&#x27;
                         &#x27;      this.maxTaskNum = maxTaskNum;\n&#x27;
                         &#x27;      saveKey(&quot;maxTaskNum&quot;, maxTaskNum + &quot;&quot;);\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxTaskNum(maxTaskNum);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryNum() {\n&#x27;
                         &#x27;      return reTryNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryNum(int reTryNum) {\n&#x27;
                         &#x27;      this.reTryNum = reTryNum;\n&#x27;
                         &#x27;      saveKey(&quot;reTryNum&quot;, reTryNum + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryInterval() {\n&#x27;
                         &#x27;      return reTryInterval;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryInterval(int &#x27;
                         &#x27;reTryInterval) {\n&#x27;
                         &#x27;      this.reTryInterval = reTryInterval;\n&#x27;
                         &#x27;      saveKey(&quot;reTryInterval&quot;, reTryInterval + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isConvertSpeed() {\n&#x27;
                         &#x27;      return isConvertSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConvertSpeed(boolean &#x27;
                         &#x27;convertSpeed) {\n&#x27;
                         &#x27;      isConvertSpeed = convertSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;isConvertSpeed&quot;, isConvertSpeed + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getConnectTimeOut() {\n&#x27;
                         &#x27;      return connectTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConnectTimeOut(int &#x27;
                         &#x27;connectTimeOut) {\n&#x27;
                         &#x27;      this.connectTimeOut = connectTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;connectTimeOut&quot;, connectTimeOut + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存key\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveKey(String key, String value) {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        properties.setProperty(key, value);\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 加载配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void loadConfig() {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;        try {\n&#x27;
                         &#x27;          for (Field field : fields) {\n&#x27;
                         &#x27;            int m = field.getModifiers();\n&#x27;
                         &#x27;            if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;              continue;\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;            field.setAccessible(true);\n&#x27;
                         &#x27;            String value = &#x27;
                         &#x27;properties.getProperty(field.getName());\n&#x27;
                         &#x27;            Class&lt;?&gt; type = field.getType();\n&#x27;
                         &#x27;            if (type == String.class) {\n&#x27;
                         &#x27;              field.set(this, value);\n&#x27;
                         &#x27;            } else if (type == int.class || type == &#x27;
                         &#x27;Integer.class) {\n&#x27;
                         &#x27;              field.setInt(this, &#x27;
                         &#x27;Integer.parseInt(value));\n&#x27;
                         &#x27;            } else if (type == float.class || type &#x27;
                         &#x27;== Float.class) {\n&#x27;
                         &#x27;              field.setFloat(this, &#x27;
                         &#x27;Float.parseFloat(value));\n&#x27;
                         &#x27;            } else if (type == double.class || type &#x27;
                         &#x27;== Double.class) {\n&#x27;
                         &#x27;              if (TextUtils.isEmpty(value)){\n&#x27;
                         &#x27;                value = &quot;0.0&quot;;\n&#x27;
                         &#x27;              }\n&#x27;
                         &#x27;              field.setDouble(this, &#x27;
                         &#x27;Double.parseDouble(value));\n&#x27;
                         &#x27;            } else if (type == long.class || type == &#x27;
                         &#x27;Long.class) {\n&#x27;
                         &#x27;              field.setLong(this, &#x27;
                         &#x27;Long.parseLong(value));\n&#x27;
                         &#x27;            } else if (type == boolean.class || type &#x27;
                         &#x27;== Boolean.class) {\n&#x27;
                         &#x27;              field.setBoolean(this, &#x27;
                         &#x27;Boolean.parseBoolean(value));\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;        } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;          e.printStackTrace();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveAll() {\n&#x27;
                         &#x27;      List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      try {\n&#x27;
                         &#x27;        File file = new File(\n&#x27;
                         &#x27;            AriaManager.APP.getFilesDir().getPath() &#x27;
                         &#x27;+ (isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;                : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        for (Field field : fields) {\n&#x27;
                         &#x27;          int m = field.getModifiers();\n&#x27;
                         &#x27;          if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;            continue;\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;          field.setAccessible(true);\n&#x27;
                         &#x27;          properties.setProperty(field.getName(), &#x27;
                         &#x27;field.get(this) + &quot;&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;        e.printStackTrace();\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 下载配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class DownloadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置IO流读取时间，单位为毫秒，默认20000毫秒，该时间不能少于10000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int iOTimeOut = 20 * 1000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置写文件buff大小，该数值大小不能小于2048，数值变小，下载速度会变慢\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int buffSize = 8192;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置https ca 证书信息；path 为assets目录下的CA证书完整路径\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caPath;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * name 为CA证书名\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caName;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载线程数，下载线程数不能小于1\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int threadNum = 3;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置最大下载速度，单位：kb, 为0表示不限速\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    double msxSpeed = 0.0;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getIOTimeOut() {\n&#x27;
                         &#x27;      return iOTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public double getMsxSpeed() {\n&#x27;
                         &#x27;      return msxSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setMsxSpeed(double &#x27;
                         &#x27;msxSpeed) {\n&#x27;
                         &#x27;      this.msxSpeed = msxSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;msxSpeed&quot;, &#x27;
                         &#x27;String.valueOf(msxSpeed));\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxSpeed(msxSpeed);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setIOTimeOut(int &#x27;
                         &#x27;iOTimeOut) {\n&#x27;
                         &#x27;      this.iOTimeOut = iOTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;iOTimeOut&quot;, iOTimeOut + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getBuffSize() {\n&#x27;
                         &#x27;      return buffSize;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setBuffSize(int buffSize) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.buffSize = buffSize;\n&#x27;
                         &#x27;      saveKey(&quot;buffSize&quot;, buffSize + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaPath() {\n&#x27;
                         &#x27;      return caPath;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaPath(String caPath) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caPath = caPath;\n&#x27;
                         &#x27;      saveKey(&quot;caPath&quot;, caPath);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaName() {\n&#x27;
                         &#x27;      return caName;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaName(String caName) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caName = caName;\n&#x27;
                         &#x27;      saveKey(&quot;caName&quot;, caName);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getThreadNum() {\n&#x27;
                         &#x27;      return threadNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private DownloadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static DownloadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static DownloadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new DownloadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 上传配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class UploadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private UploadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static UploadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static UploadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new UploadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;}\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;/*\n&#x27;
                         &#x27; * Copyright (C) 2016 &#x27;
                         &#x27;AriaLyy(https://github.com/AriaLyy/Aria)\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Licensed under the Apache License, Version 2.0 &#x27;
                         &#x27;(the &quot;License&quot;);\n&#x27;
                         &#x27; * you may not use this file except in compliance &#x27;
                         &#x27;with the License.\n&#x27;
                         &#x27; * You may obtain a copy of the License at\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; *      http://www.apache.org/licenses/LICENSE-2.0\n&#x27;
                         &#x27; *\n&#x27;
                         &#x27; * Unless required by applicable law or agreed to in &#x27;
                         &#x27;writing, software\n&#x27;
                         &#x27; * distributed under the License is distributed on &#x27;
                         &#x27;an &quot;AS IS&quot; BASIS,\n&#x27;
                         &#x27; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, &#x27;
                         &#x27;either express or implied.\n&#x27;
                         &#x27; * See the License for the specific language &#x27;
                         &#x27;governing permissions and\n&#x27;
                         &#x27; * limitations under the License.\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;package com.arialyy.aria.core;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;import android.text.TextUtils;\n&#x27;
                         &#x27;import &#x27;
                         &#x27;com.arialyy.aria.core.queue.DownloadTaskQueue;\n&#x27;
                         &#x27;import com.arialyy.aria.util.CommonUtil;\n&#x27;
                         &#x27;import java.io.File;\n&#x27;
                         &#x27;import java.lang.reflect.Field;\n&#x27;
                         &#x27;import java.lang.reflect.Modifier;\n&#x27;
                         &#x27;import java.util.List;\n&#x27;
                         &#x27;import java.util.Properties;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;/**\n&#x27;
                         &#x27; * Created by lyy on 2016/12/8.\n&#x27;
                         &#x27; * 信息配置\n&#x27;
                         &#x27; */\n&#x27;
                         &#x27;class Configuration {\n&#x27;
                         &#x27;  static final String DOWNLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/DownloadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String UPLOAD_CONFIG_FILE = &#x27;
                         &#x27;&quot;/Aria/UploadConfig.properties&quot;;\n&#x27;
                         &#x27;  static final String XML_FILE = &#x27;
                         &#x27;&quot;/Aria/aria_config.xml&quot;;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 通用配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 旧任务数\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static int oldMaxTaskNum = 2;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 是否发送任务广播，true，发送\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isOpenBreadCast = false;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 任务队列最大任务数， 默认为2\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int maxTaskNum = 2;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载失败，重试次数，默认为10\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryNum = 10;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置重试间隔，单位为毫秒，默认2000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int reTryInterval = 2000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置url连接超时时间，单位为毫秒，默认5000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int connectTimeOut = 5000;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * &#x27;
                         &#x27;是否需要转换速度单位，转换完成后为：1b/s、1k/s、1m/s、1g/s、1t/s，如果不需要将返回byte长度\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    boolean isConvertSpeed = false;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isOpenBreadCast() {\n&#x27;
                         &#x27;      return isOpenBreadCast;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setOpenBreadCast(boolean &#x27;
                         &#x27;openBreadCast) {\n&#x27;
                         &#x27;      isOpenBreadCast = openBreadCast;\n&#x27;
                         &#x27;      saveKey(&quot;isOpenBreadCast&quot;, openBreadCast + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getMaxTaskNum() {\n&#x27;
                         &#x27;      return maxTaskNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setMaxTaskNum(int maxTaskNum) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      oldMaxTaskNum = this.maxTaskNum;\n&#x27;
                         &#x27;      this.maxTaskNum = maxTaskNum;\n&#x27;
                         &#x27;      saveKey(&quot;maxTaskNum&quot;, maxTaskNum + &quot;&quot;);\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxTaskNum(maxTaskNum);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryNum() {\n&#x27;
                         &#x27;      return reTryNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryNum(int reTryNum) {\n&#x27;
                         &#x27;      this.reTryNum = reTryNum;\n&#x27;
                         &#x27;      saveKey(&quot;reTryNum&quot;, reTryNum + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getReTryInterval() {\n&#x27;
                         &#x27;      return reTryInterval;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setReTryInterval(int &#x27;
                         &#x27;reTryInterval) {\n&#x27;
                         &#x27;      this.reTryInterval = reTryInterval;\n&#x27;
                         &#x27;      saveKey(&quot;reTryInterval&quot;, reTryInterval + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public boolean isConvertSpeed() {\n&#x27;
                         &#x27;      return isConvertSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConvertSpeed(boolean &#x27;
                         &#x27;convertSpeed) {\n&#x27;
                         &#x27;      isConvertSpeed = convertSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;isConvertSpeed&quot;, isConvertSpeed + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getConnectTimeOut() {\n&#x27;
                         &#x27;      return connectTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public BaseConfig setConnectTimeOut(int &#x27;
                         &#x27;connectTimeOut) {\n&#x27;
                         &#x27;      this.connectTimeOut = connectTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;connectTimeOut&quot;, connectTimeOut + &#x27;
                         &#x27;&quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存key\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveKey(String key, String value) {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        properties.setProperty(key, value);\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 加载配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void loadConfig() {\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      File file = new File(\n&#x27;
                         &#x27;          AriaManager.APP.getFilesDir().getPath() + &#x27;
                         &#x27;(isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;              : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;      if (file.exists()) {\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;        try {\n&#x27;
                         &#x27;          for (Field field : fields) {\n&#x27;
                         &#x27;            int m = field.getModifiers();\n&#x27;
                         &#x27;            if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;              continue;\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;            field.setAccessible(true);\n&#x27;
                         &#x27;            String value = &#x27;
                         &#x27;properties.getProperty(field.getName());\n&#x27;
                         &#x27;            Class&lt;?&gt; type = field.getType();\n&#x27;
                         &#x27;            if (type == String.class) {\n&#x27;
                         &#x27;              field.set(this, value);\n&#x27;
                         &#x27;            } else if (type == int.class || type == &#x27;
                         &#x27;Integer.class) {\n&#x27;
                         &#x27;              field.setInt(this, &#x27;
                         &#x27;Integer.parseInt(value));\n&#x27;
                         &#x27;            } else if (type == float.class || type &#x27;
                         &#x27;== Float.class) {\n&#x27;
                         &#x27;              field.setFloat(this, &#x27;
                         &#x27;Float.parseFloat(value));\n&#x27;
                         &#x27;            } else if (type == double.class || type &#x27;
                         &#x27;== Double.class) {\n&#x27;
                         &#x27;              if (TextUtils.isEmpty(value)){\n&#x27;
                         &#x27;                value = &quot;0.0&quot;;\n&#x27;
                         &#x27;              }\n&#x27;
                         &#x27;              field.setDouble(this, &#x27;
                         &#x27;Double.parseDouble(value));\n&#x27;
                         &#x27;            } else if (type == long.class || type == &#x27;
                         &#x27;Long.class) {\n&#x27;
                         &#x27;              field.setLong(this, &#x27;
                         &#x27;Long.parseLong(value));\n&#x27;
                         &#x27;            } else if (type == boolean.class || type &#x27;
                         &#x27;== Boolean.class) {\n&#x27;
                         &#x27;              field.setBoolean(this, &#x27;
                         &#x27;Boolean.parseBoolean(value));\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;        } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;          e.printStackTrace();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 保存配置\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    void saveAll() {\n&#x27;
                         &#x27;      List&lt;Field&gt; fields = &#x27;
                         &#x27;CommonUtil.getAllFields(getClass());\n&#x27;
                         &#x27;      boolean isDownload = this instanceof &#x27;
                         &#x27;DownloadConfig;\n&#x27;
                         &#x27;      try {\n&#x27;
                         &#x27;        File file = new File(\n&#x27;
                         &#x27;            AriaManager.APP.getFilesDir().getPath() &#x27;
                         &#x27;+ (isDownload ? DOWNLOAD_CONFIG_FILE\n&#x27;
                         &#x27;                : UPLOAD_CONFIG_FILE));\n&#x27;
                         &#x27;        Properties properties = &#x27;
                         &#x27;CommonUtil.loadConfig(file);\n&#x27;
                         &#x27;        for (Field field : fields) {\n&#x27;
                         &#x27;          int m = field.getModifiers();\n&#x27;
                         &#x27;          if (Modifier.isFinal(m) || &#x27;
                         &#x27;Modifier.isStatic(m)) {\n&#x27;
                         &#x27;            continue;\n&#x27;
                         &#x27;          }\n&#x27;
                         &#x27;          field.setAccessible(true);\n&#x27;
                         &#x27;          properties.setProperty(field.getName(), &#x27;
                         &#x27;field.get(this) + &quot;&quot;);\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;        CommonUtil.saveConfig(file, properties);\n&#x27;
                         &#x27;      } catch (IllegalAccessException e) {\n&#x27;
                         &#x27;        e.printStackTrace();\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 下载配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class DownloadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置IO流读取时间，单位为毫秒，默认20000毫秒，该时间不能少于10000毫秒\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int iOTimeOut = 20 * 1000;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置写文件buff大小，该数值大小不能小于2048，数值变小，下载速度会变慢\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int buffSize = 8192;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置https ca 证书信息；path 为assets目录下的CA证书完整路径\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caPath;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * name 为CA证书名\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    String caName;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 下载线程数，下载线程数不能小于1\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    int threadNum = 3;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    /**\n&#x27;
                         &#x27;     * 设置最大下载速度，单位：kb, 为0表示不限速\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    double msxSpeed = 0.0;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getIOTimeOut() {\n&#x27;
                         &#x27;      return iOTimeOut;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public double getMsxSpeed() {\n&#x27;
                         &#x27;      return msxSpeed;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setMsxSpeed(double &#x27;
                         &#x27;msxSpeed) {\n&#x27;
                         &#x27;      this.msxSpeed = msxSpeed;\n&#x27;
                         &#x27;      saveKey(&quot;msxSpeed&quot;, &#x27;
                         &#x27;String.valueOf(msxSpeed));\n&#x27;
                         &#x27;      &#x27;
                         &#x27;DownloadTaskQueue.getInstance().setMaxSpeed(msxSpeed);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setIOTimeOut(int &#x27;
                         &#x27;iOTimeOut) {\n&#x27;
                         &#x27;      this.iOTimeOut = iOTimeOut;\n&#x27;
                         &#x27;      saveKey(&quot;iOTimeOut&quot;, iOTimeOut + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getBuffSize() {\n&#x27;
                         &#x27;      return buffSize;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setBuffSize(int buffSize) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.buffSize = buffSize;\n&#x27;
                         &#x27;      saveKey(&quot;buffSize&quot;, buffSize + &quot;&quot;);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaPath() {\n&#x27;
                         &#x27;      return caPath;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaPath(String caPath) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caPath = caPath;\n&#x27;
                         &#x27;      saveKey(&quot;caPath&quot;, caPath);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public String getCaName() {\n&#x27;
                         &#x27;      return caName;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public DownloadConfig setCaName(String caName) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;      this.caName = caName;\n&#x27;
                         &#x27;      saveKey(&quot;caName&quot;, caName);\n&#x27;
                         &#x27;      return this;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    public int getThreadNum() {\n&#x27;
                         &#x27;      return threadNum;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private DownloadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static DownloadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static DownloadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new DownloadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;  /**\n&#x27;
                         &#x27;   * 上传配置\n&#x27;
                         &#x27;   */\n&#x27;
                         &#x27;  public static class UploadConfig extends &#x27;
                         &#x27;BaseConfig {\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private UploadConfig() {\n&#x27;
                         &#x27;      loadConfig();\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    private static UploadConfig INSTANCE = null;\n&#x27;
                         &#x27;\n&#x27;
                         &#x27;    static UploadConfig getInstance() {\n&#x27;
                         &#x27;      if (INSTANCE == null) {\n&#x27;
                         &#x27;        synchronized (DownloadConfig.class) {\n&#x27;
                         &#x27;          INSTANCE = new UploadConfig();\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;      }\n&#x27;
                         &#x27;      return INSTANCE;\n&#x27;
                         &#x27;    }\n&#x27;
                         &#x27;  }\n&#x27;
                         &#x27;}\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;spork&#x27;, &#x27;baseline&#x27;, &#x27;jfstmerge&#x27;}}]]</pre>
          </body>
        </html>
        