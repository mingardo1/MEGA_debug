<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>524</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    524
                    <a href="523.html">prev</a>
                    <a href="525.html">next</a>
                    <a href="524_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Freeyourgadget/Gadgetbridge_d344bfa6da5ccbe00e23b624bb459ba13d80d641_app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil/FossilWatchAdapter.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;d344bfa6da5ccbe00e23b624bb459ba13d80d641:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil/FossilWatchAdapter.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;d344bfa6da5ccbe00e23b624bb459ba13d80d641^1:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil/FossilWatchAdapter.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;d344bfa6da5ccbe00e23b624bb459ba13d80d641^2:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil/FossilWatchAdapter.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;e0afa0833c734e0029935c9b46eee89a24ebb1c1:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil/FossilWatchAdapter.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="2923613792184110803" onmouseenter="enter('2923613792184110803');" onmouseout="out('2923613792184110803');" style="">   1 package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil;                     </span>
<span  style="">   2                                                                                                          </span>
<span class="2440823415412133066" onmouseenter="enter('2440823415412133066');" onmouseout="out('2440823415412133066');" style="">   3 import android.bluetooth.BluetoothGatt;                                                                  </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   4 import android.bluetooth.BluetoothGattCharacteristic;                                                    </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5 import android.content.Intent;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   6 import android.os.Build;                                                                                 </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">   7 import android.util.Log;                                                                                 </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">   8 import android.widget.Toast;                                                                             </span>
<span  style="">   9                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  10 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  11 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  12 import org.slf4j.LoggerFactory;                                                                          </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  13 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14 import java.text.DateFormat;                                                                             </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 import java.util.ArrayList;                                                                              </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  16 =======                                                                                                  </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  17 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  18 import org.json.JSONException;                                                                           </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  19 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style="">  20                                                                                                          </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  21 import java.text.DateFormat;                                                                             </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  22 import java.util.ArrayList;                                                                              </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  23 import java.util.Date;                                                                                   </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  24 import java.util.GregorianCalendar;                                                                      </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  25 import java.util.TimeZone;                                                                               </span>
<span  style="">  26                                                                                                          </span>
<span class="-1471644270559892265" onmouseenter="enter('-1471644270559892265');" onmouseout="out('-1471644270559892265');" style="">  27 import nodomain.freeyourgadget.gadgetbridge.GBException;                                                 </span>
<span class="-7483974346858162294" onmouseenter="enter('-7483974346858162294');" onmouseout="out('-7483974346858162294');" style="">  28 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.NotificationConfiguration;                   </span>
<span class="-7717522168233863917" onmouseenter="enter('-7717522168233863917');" onmouseout="out('-7717522168233863917');" style="">  29 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.PackageConfigHelper;                         </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  30 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  31 import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                 </span>
<span class="7672535166545256161" onmouseenter="enter('7672535166545256161');" onmouseout="out('7672535166545256161');" style="">  32 import nodomain.freeyourgadget.gadgetbridge.model.GenericItem;                                           </span>
<span class="3410519392510510669" onmouseenter="enter('3410519392510510669');" onmouseout="out('3410519392510510669');" style="">  33 import nodomain.freeyourgadget.gadgetbridge.service.btle.TransactionBuilder;                             </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                      </span>
<span class="3322723522373113781" onmouseenter="enter('3322723522373113781');" onmouseout="out('3322723522373113781');" style="">  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.WatchAdapter;                </span>
<span class="-2799508117160188769" onmouseenter="enter('-2799508117160188769');" onmouseout="out('-2799508117160188769');" style="">  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigFileBuilder;      </span>
<span class="3544192455451748258" onmouseenter="enter('3544192455451748258');" onmouseout="out('3544192455451748258');" style="">  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigPayload;          </span>
<span class="2090042171840798451" onmouseenter="enter('2090042171840798451');" onmouseout="out('2090042171840798451');" style="">  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.Request;                    </span>
<span class="-2455941194154498360" onmouseenter="enter('-2455941194154498360');" onmouseout="out('-2455941194154498360');" style="">  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.FossilRequest;       </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style=""><abbr title="  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="1031059801646776097" onmouseenter="enter('1031059801646776097');" onmouseout="out('1031059801646776097');" style=""><abbr title="  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetRequest;">  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetReques🔵</abbr></span>
<span class="-3957549361440696353" onmouseenter="enter('-3957549361440696353');" onmouseout="out('-3957549361440696353');" style=""><abbr title="  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetRequest;">  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetReques🔵</abbr></span>
<span class="-485489977593186472" onmouseenter="enter('-485489977593186472');" onmouseout="out('-485489977593186472');" style=""><abbr title="  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigurationGetRequest;">  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigur🔵</abbr></span>
<span class="8456474303681518874" onmouseenter="enter('8456474303681518874');" onmouseout="out('8456474303681518874');" style=""><abbr title="  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGetRequest;">  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="6063983850693379079" onmouseenter="enter('6063983850693379079');" onmouseout="out('6063983850693379079');" style=""><abbr title="  46 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest;">  46 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="-6160269686715032110" onmouseenter="enter('-6160269686715032110');" onmouseout="out('-6160269686715032110');" style="">  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FilePutRequest; </span>
<span class="-1028510867556361299" onmouseenter="enter('-1028510867556361299');" onmouseout="out('-1028510867556361299');" style=""><abbr title="  48 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilterPutRequest;">  48 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.Notifica🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  49 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  49 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-5865827548439034307" onmouseenter="enter('-5865827548439034307');" onmouseout="out('-5865827548439034307');" style="">  50 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.AnimationRequest;    </span>
<span class="-6260088196349644799" onmouseenter="enter('-6260088196349644799');" onmouseout="out('-6260088196349644799');" style="">  51 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.MoveHandsRequest;    </span>
<span class="6036958101215125198" onmouseenter="enter('6036958101215125198');" onmouseout="out('6036958101215125198');" style=""><abbr title="  52 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRequest;">  52 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRe🔵</abbr></span>
<span class="4138099863165019445" onmouseenter="enter('4138099863165019445');" onmouseout="out('4138099863165019445');" style=""><abbr title="  53 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlRequest;">  53 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlReq🔵</abbr></span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  54 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span  style="">  55                                                                                                          </span>
<span class="2499827060581337575" onmouseenter="enter('2499827060581337575');" onmouseout="out('2499827060581337575');" style=""><abbr title="  56 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRESS;">  56 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_B🔵</abbr></span>
<span class="5066855057518995879" onmouseenter="enter('5066855057518995879');" onmouseout="out('5066855057518995879');" style=""><abbr title="  57 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_MULTI_BUTTON_PRESS;">  57 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_M🔵</abbr></span>
<span  style="">  58                                                                                                          </span>
<span class="-7525731093157952067" onmouseenter="enter('-7525731093157952067');" onmouseout="out('-7525731093157952067');" style="">  59 public class FossilWatchAdapter extends WatchAdapter {                                                   </span>
<span class="1195654240209704003" onmouseenter="enter('1195654240209704003');" onmouseout="out('1195654240209704003');" style="">  60     private ArrayList&lt;Request&gt; requestQueue = new ArrayList&lt;&gt;();                                         </span>
<span  style="">  61                                                                                                          </span>
<span class="2142601754793799589" onmouseenter="enter('2142601754793799589');" onmouseout="out('2142601754793799589');" style="">  62     private FossilRequest fossilRequest;                                                                 </span>
<span  style="">  63                                                                                                          </span>
<span class="-3015417213827192255" onmouseenter="enter('-3015417213827192255');" onmouseout="out('-3015417213827192255');" style="">  64     private int MTU = 23;                                                                                </span>
<span  style="">  65                                                                                                          </span>
<span class="7214207819631100316" onmouseenter="enter('7214207819631100316');" onmouseout="out('7214207819631100316');" style="">  66     private String ITEM_MTU = &quot;MTU&quot;;                                                                     </span>
<span class="1753245896642996136" onmouseenter="enter('1753245896642996136');" onmouseout="out('1753245896642996136');" style="">  67     static public final String ITEM_BUTTONS = &quot;BUTTONS&quot;;                                                 </span>
<span  style="">  68                                                                                                          </span>
<span class="-8890462315568593084" onmouseenter="enter('-8890462315568593084');" onmouseout="out('-8890462315568593084');" style="">  69     private int lastButtonIndex = -1;                                                                    </span>
<span  style="">  70                                                                                                          </span>
<span class="6427921479659727638" onmouseenter="enter('6427921479659727638');" onmouseout="out('6427921479659727638');" style="">  71     Logger logger = LoggerFactory.getLogger(getClass());                                                 </span>
<span  style="">  72                                                                                                          </span>
<span class="-6132543960234271010" onmouseenter="enter('-6132543960234271010');" onmouseout="out('-6132543960234271010');" style="">  73     public FossilWatchAdapter(QHybridSupport deviceSupport) {                                            </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  74         super(deviceSupport);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75     }                                                                                                    </span>
<span  style="">  76                                                                                                          </span>
<span  style="">  77                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  78     @Override                                                                                            </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  79     public void initialize() {                                                                           </span>
<span class="-4784435253982341327" onmouseenter="enter('-4784435253982341327');" onmouseout="out('-4784435253982341327');" style="">  80         playPairingAnimation();                                                                          </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  81         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="-529551863285165269" onmouseenter="enter('-529551863285165269');" onmouseout="out('-529551863285165269');" style="">  82             queueWrite(new RequestMtuRequest(512), false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83         }                                                                                                </span>
<span class="-331366053797168206" onmouseenter="enter('-331366053797168206');" onmouseout="out('-331366053797168206');" style="">  84         queueWrite(new ConfigurationGetRequest(this), false);                                            </span>
<span  style="">  85                                                                                                          </span>
<span class="1508133748144491002" onmouseenter="enter('1508133748144491002');" onmouseout="out('1508133748144491002');" style="">  86         syncNotificationSettings();                                                                      </span>
<span  style="">  87                                                                                                          </span>
<span class="3977096852409471998" onmouseenter="enter('3977096852409471998');" onmouseout="out('3977096852409471998');" style="">  88         queueWrite(new ButtonConfigurationGetRequest(this) {                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89             @Override                                                                                    </span>
<span class="-1487684019435743701" onmouseenter="enter('-1487684019435743701');" onmouseout="out('-1487684019435743701');" style="">  90             public void onConfigurationsGet(ConfigPayload[] configs) {                                   </span>
<span class="-2601870964218793380" onmouseenter="enter('-2601870964218793380');" onmouseout="out('-2601870964218793380');" style="">  91                 super.onConfigurationsGet(configs);                                                      </span>
<span  style="">  92                                                                                                          </span>
<span class="1670117978377592251" onmouseenter="enter('1670117978377592251');" onmouseout="out('1670117978377592251');" style="">  93                 JSONArray buttons = new JSONArray();                                                     </span>
<span class="6682205060812300584" onmouseenter="enter('6682205060812300584');" onmouseout="out('6682205060812300584');" style="">  94                 for (ConfigPayload payload : configs) buttons.put(String.valueOf(payload));              </span>
<span class="-4316381087013812630" onmouseenter="enter('-4316381087013812630');" onmouseout="out('-4316381087013812630');" style="">  95                 String json = buttons.toString();                                                        </span>
<span class="-4616163105976568730" onmouseenter="enter('-4616163105976568730');" onmouseout="out('-4616163105976568730');" style="">  96                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_BUTTONS, json));       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  98         });                                                                                              </span>
<span  style="">  99                                                                                                          </span>
<span class="5411003737943219307" onmouseenter="enter('5411003737943219307');" onmouseout="out('5411003737943219307');" style=""> 100         queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED), false);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101     }                                                                                                    </span>
<span  style=""> 102                                                                                                          </span>
<span class="3546647492997211457" onmouseenter="enter('3546647492997211457');" onmouseout="out('3546647492997211457');" style=""> 103     public int getMTU() {                                                                                </span>
<span class="6365412335896587692" onmouseenter="enter('6365412335896587692');" onmouseout="out('6365412335896587692');" style=""> 104         if (this.MTU &lt; 0) throw new RuntimeException(&quot;MTU not configured&quot;);                              </span>
<span  style=""> 105                                                                                                          </span>
<span class="-7001790466828694007" onmouseenter="enter('-7001790466828694007');" onmouseout="out('-7001790466828694007');" style=""> 106         return this.MTU;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107     }                                                                                                    </span>
<span  style=""> 108                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 109     @Override                                                                                            </span>
<span class="6553842608624105970" onmouseenter="enter('6553842608624105970');" onmouseout="out('6553842608624105970');" style=""> 110     public void playPairingAnimation() {                                                                 </span>
<span class="1320466205813454973" onmouseenter="enter('1320466205813454973');" onmouseout="out('1320466205813454973');" style=""> 111         queueWrite(new AnimationRequest(), false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 114     @Override                                                                                            </span>
<span class="8521690812134896195" onmouseenter="enter('8521690812134896195');" onmouseout="out('8521690812134896195');" style=""> 115     public void playNotification(NotificationConfiguration config) {                                     </span>
<span class="-6783799527271845784" onmouseenter="enter('-6783799527271845784');" onmouseout="out('-6783799527271845784');" style=""> 116         if (config.getPackageName() == null) {                                                           </span>
<span class="-1149857065563503220" onmouseenter="enter('-1149857065563503220');" onmouseout="out('-1149857065563503220');" style=""> 117             log(&quot;package name in notification not set&quot;);                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 118             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119         }                                                                                                </span>
<span class="1897113475738739385" onmouseenter="enter('1897113475738739385');" onmouseout="out('1897113475738739385');" style=""> 120         queueWrite(new PlayNotificationRequest(config.getPackageName(), this), false);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121     }                                                                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 123     @Override                                                                                            </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 124     public void setTime() {                                                                              </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 125         long millis = System.currentTimeMillis();                                                        </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 126         TimeZone zone = new GregorianCalendar().getTimeZone();                                           </span>
<span  style=""> 127                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 128         queueWrite(                                                                                      </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 129                 new ConfigurationPutRequest(                                                             </span>
<span class="3969253431822543743" onmouseenter="enter('3969253431822543743');" onmouseout="out('3969253431822543743');" style=""> 130                         new ConfigurationPutRequest.TimeConfigItem(                                      </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 131                                 (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),         </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 132                                 (short) (millis % 1000),                                                 </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 133                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 133                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 134                         ),                                                                               </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 135                         this), false                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 136         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137     }                                                                                                    </span>
<span  style=""> 138                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139     @Override                                                                                            </span>
<span class="-8442583637732746352" onmouseenter="enter('-8442583637732746352');" onmouseout="out('-8442583637732746352');" style=""> 140     public void overwriteButtons() {                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 141         try {                                                                                            </span>
<span class="-1731301164298283181" onmouseenter="enter('-1731301164298283181');" onmouseout="out('-1731301164298283181');" style=""><abbr title=" 142             JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_BUTTONS).getDetails());"> 142             JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_🔵</abbr></span>
<span  style=""> 143                                                                                                          </span>
<span class="-3346202498142011652" onmouseenter="enter('-3346202498142011652');" onmouseout="out('-3346202498142011652');" style=""> 144             ConfigPayload[] payloads = new ConfigPayload[buttonConfigJson.length()];                     </span>
<span  style=""> 145                                                                                                          </span>
<span class="6308082735200953138" onmouseenter="enter('6308082735200953138');" onmouseout="out('6308082735200953138');" style=""> 146             for (int i = 0; i &lt; buttonConfigJson.length(); i++) {                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 147                 try {                                                                                    </span>
<span class="1160541087195237888" onmouseenter="enter('1160541087195237888');" onmouseout="out('1160541087195237888');" style=""> 148                     payloads[i] = ConfigPayload.valueOf(buttonConfigJson.getString(i));                  </span>
<span class="-1471183022667940231" onmouseenter="enter('-1471183022667940231');" onmouseout="out('-1471183022667940231');" style=""> 149                 } catch (IllegalArgumentException e) {                                                   </span>
<span class="-1884999885194453074" onmouseenter="enter('-1884999885194453074');" onmouseout="out('-1884999885194453074');" style=""> 150                     payloads[i] = ConfigPayload.FORWARD_TO_PHONE;                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152             }                                                                                            </span>
<span  style=""> 153                                                                                                          </span>
<span class="8120873169825688251" onmouseenter="enter('8120873169825688251');" onmouseout="out('8120873169825688251');" style=""> 154             ConfigFileBuilder builder = new ConfigFileBuilder(payloads);                                 </span>
<span  style=""> 155                                                                                                          </span>
<span class="2471739353996067823" onmouseenter="enter('2471739353996067823');" onmouseout="out('2471739353996067823');" style=""><abbr title=" 156             FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, builder.build(true), this) {"> 156             FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, builder.build(true), th🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157                 @Override                                                                                </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 158                 public void onFilePut(boolean success) {                                                 </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style=""> 159                     if (success)                                                                         </span>
<span class="-980779450460475221" onmouseenter="enter('-980779450460475221');" onmouseout="out('-980779450460475221');" style=""><abbr title=" 160                         GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 160                         GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO)🔵</abbr></span>
<span class="-4166541072297664776" onmouseenter="enter('-4166541072297664776');" onmouseout="out('-4166541072297664776');" style=""> 161                     else GB.toast(&quot;error overwriting button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 163             };                                                                                           </span>
<span class="4426460983854065500" onmouseenter="enter('4426460983854065500');" onmouseout="out('4426460983854065500');" style=""> 164             queueWrite(fileUploadRequets);                                                               </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 165         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 166             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170     @Override                                                                                            </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 171     public void setActivityHand(double progress) {                                                       </span>
<span class="-5003745590397881984" onmouseenter="enter('-5003745590397881984');" onmouseout="out('-5003745590397881984');" style=""> 172         queueWrite(new ConfigurationPutRequest(                                                          </span>
<span class="-1274087565432836677" onmouseenter="enter('-1274087565432836677');" onmouseout="out('-1274087565432836677');" style=""><abbr title=" 173                 new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress))),"> 173                 new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * 🔵</abbr></span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 174                 this                                                                                     </span>
<span class="7701925171622270948" onmouseenter="enter('7701925171622270948');" onmouseout="out('7701925171622270948');" style=""> 175         ), false);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span  style=""> 177                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178     @Override                                                                                            </span>
<span class="950037135509614227" onmouseenter="enter('950037135509614227');" onmouseout="out('950037135509614227');" style=""> 179     public void setHands(short hour, short minute) {                                                     </span>
<span class="-7308249657826701351" onmouseenter="enter('-7308249657826701351');" onmouseout="out('-7308249657826701351');" style=""> 180         queueWrite(new MoveHandsRequest(false, minute, hour, (short) -1), false);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181     }                                                                                                    </span>
<span  style=""> 182                                                                                                          </span>
<span  style=""> 183                                                                                                          </span>
<span class="-7686458614870644313" onmouseenter="enter('-7686458614870644313');" onmouseout="out('-7686458614870644313');" style=""><abbr title=" 184     public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest.VibrationType vibration) {"> 184     public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.Play🔵</abbr></span>
<span class="7269778319868126302" onmouseenter="enter('7269778319868126302');" onmouseout="out('7269778319868126302');" style=""><abbr title=" 185         // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest(vibration, -1, -1));"> 185         // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.Pl🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186     }                                                                                                    </span>
<span  style=""> 187                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 188     @Override                                                                                            </span>
<span class="-4607916161418936141" onmouseenter="enter('-4607916161418936141');" onmouseout="out('-4607916161418936141');" style=""> 189     public void vibrateFindMyDevicePattern() {                                                           </span>
<span  style=""> 190                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span  style=""> 192                                                                                                          </span>
<span  style=""> 193                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194     @Override                                                                                            </span>
<span class="-6532646074151310772" onmouseenter="enter('-6532646074151310772');" onmouseout="out('-6532646074151310772');" style=""> 195     public void requestHandsControl() {                                                                  </span>
<span class="845470347332695933" onmouseenter="enter('845470347332695933');" onmouseout="out('845470347332695933');" style=""> 196         queueWrite(new RequestHandControlRequest(), false);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="5268567045225055789" onmouseenter="enter('5268567045225055789');" onmouseout="out('5268567045225055789');" style=""> 200     public void releaseHandsControl() {                                                                  </span>
<span class="303207396055204695" onmouseenter="enter('303207396055204695');" onmouseout="out('303207396055204695');" style=""> 201         queueWrite(new ReleaseHandsControlRequest(), false);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 204     @Override                                                                                            </span>
<span class="7960938870834875611" onmouseenter="enter('7960938870834875611');" onmouseout="out('7960938870834875611');" style=""> 205     public void setStepGoal(int stepGoal) {                                                              </span>
<span class="8851644157057615652" onmouseenter="enter('8851644157057615652');" onmouseout="out('8851644157057615652');" style=""><abbr title=" 206         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this) {"> 206         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGo🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 208             public void onFilePut(boolean success) {                                                     </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style=""> 209                 if (success)                                                                             </span>
<span class="-6265074681006882794" onmouseenter="enter('-6265074681006882794');" onmouseout="out('-6265074681006882794');" style=""> 210                     GB.toast(&quot;successfully updated step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);             </span>
<span class="7595940445245185427" onmouseenter="enter('7595940445245185427');" onmouseout="out('7595940445245185427');" style=""> 211                 else GB.toast(&quot;error updating step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212             }                                                                                            </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 213         }, false);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="1506969207519742362" onmouseenter="enter('1506969207519742362');" onmouseout="out('1506969207519742362');" style=""> 217     public void setVibrationStrength(short strength) {                                                   </span>
<span class="-7509590071108039539" onmouseenter="enter('-7509590071108039539');" onmouseout="out('-7509590071108039539');" style=""><abbr title=" 218         ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem((byte) strength);"> 218         ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthC🔵</abbr></span>
<span  style=""> 219                                                                                                          </span>
<span  style=""> 220                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 221         queueWrite(                                                                                      </span>
<span class="3565164893974833288" onmouseenter="enter('3565164893974833288');" onmouseout="out('3565164893974833288');" style=""><abbr title=" 222                 new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this) {"> 222                 new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223                     @Override                                                                            </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 224                     public void onFilePut(boolean success) {                                             </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style=""> 225                         if (success)                                                                     </span>
<span class="-4715401381453784584" onmouseenter="enter('-4715401381453784584');" onmouseout="out('-4715401381453784584');" style=""><abbr title=" 226                             GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 226                             GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.IN🔵</abbr></span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 227                         else                                                                             </span>
<span class="-2857144445981765585" onmouseenter="enter('-2857144445981765585');" onmouseout="out('-2857144445981765585');" style=""> 228                             GB.toast(&quot;error updating vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229                     }                                                                                    </span>
<span class="6768923637037837046" onmouseenter="enter('6768923637037837046');" onmouseout="out('6768923637037837046');" style=""> 230                 }, false                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 231         );                                                                                               </span>
<span class="2880871101947458708" onmouseenter="enter('2880871101947458708');" onmouseout="out('2880871101947458708');" style=""> 232         // queueWrite(new FileVerifyRequest((short) 0x0800));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233     }                                                                                                    </span>
<span  style=""> 234                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 235     @Override                                                                                            </span>
<span class="-1651863958203525754" onmouseenter="enter('-1651863958203525754');" onmouseout="out('-1651863958203525754');" style=""> 236     public void syncNotificationSettings() {                                                             </span>
<span class="-5529433289440585150" onmouseenter="enter('-5529433289440585150');" onmouseout="out('-5529433289440585150');" style=""> 237         log(&quot;syncing notification settings...&quot;);                                                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 238         try {                                                                                            </span>
<span class="5735085668667966613" onmouseenter="enter('5735085668667966613');" onmouseout="out('5735085668667966613');" style=""> 239             PackageConfigHelper helper = new PackageConfigHelper(getContext());                          </span>
<span class="-6037969067402155252" onmouseenter="enter('-6037969067402155252');" onmouseout="out('-6037969067402155252');" style=""><abbr title=" 240             final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurations();"> 240             final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurati🔵</abbr></span>
<span class="318121021842844125" onmouseenter="enter('318121021842844125');" onmouseout="out('318121021842844125');" style=""> 241             if (configurations.size() == 1) configurations.add(configurations.get(0));                   </span>
<span class="8242503007416701520" onmouseenter="enter('8242503007416701520');" onmouseout="out('8242503007416701520');" style=""> 242             queueWrite(new NotificationFilterPutRequest(configurations, FossilWatchAdapter.this) {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243                 @Override                                                                                </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 244                 public void onFilePut(boolean success) {                                                 </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 245                     super.onFilePut(success);                                                            </span>
<span  style=""> 246                                                                                                          </span>
<span class="5774595805314112369" onmouseenter="enter('5774595805314112369');" onmouseout="out('5774595805314112369');" style=""> 247                     if (!success) {                                                                      </span>
<span class="4016367561700232905" onmouseenter="enter('4016367561700232905');" onmouseout="out('4016367561700232905');" style=""> 248                         GB.toast(&quot;error writing notification settings&quot;, Toast.LENGTH_SHORT, GB.ERROR);   </span>
<span  style=""> 249                                                                                                          </span>
<span class="4156748068991402090" onmouseenter="enter('4156748068991402090');" onmouseout="out('4156748068991402090');" style=""> 250                         getDeviceSupport().getDevice().setState(GBDevice.State.NOT_CONNECTED);           </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 251                         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252                     }                                                                                    </span>
<span  style=""> 253                                                                                                          </span>
<span class="-5829793222040865313" onmouseenter="enter('-5829793222040865313');" onmouseout="out('-5829793222040865313');" style=""> 254                     getDeviceSupport().getDevice().setState(GBDevice.State.INITIALIZED);                 </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 255                     getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256                 }                                                                                        </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 257             }, false);                                                                                   </span>
<span class="-4956016385818808676" onmouseenter="enter('-4956016385818808676');" onmouseout="out('-4956016385818808676');" style=""> 258         } catch (GBException e) {                                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 259             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261     }                                                                                                    </span>
<span  style=""> 262                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 263     @Override                                                                                            </span>
<span class="-1180224994468071186" onmouseenter="enter('-1180224994468071186');" onmouseout="out('-1180224994468071186');" style=""> 264     public void onTestNewFunction() {                                                                    </span>
<span class="-4659645277373204901" onmouseenter="enter('-4659645277373204901');" onmouseout="out('-4659645277373204901');" style=""> 265         queueWrite(new FilePutRequest(                                                                   </span>
<span class="7655426854237958477" onmouseenter="enter('7655426854237958477');" onmouseout="out('7655426854237958477');" style=""> 266                 (short) 0x0600,                                                                          </span>
<span class="-945414448365533169" onmouseenter="enter('-945414448365533169');" onmouseout="out('-945414448365533169');" style=""> 267                 new byte[]{                                                                              </span>
<span class="-2767736911652308244" onmouseenter="enter('-2767736911652308244');" onmouseout="out('-2767736911652308244');" style=""><abbr title=" 268                         (byte) 0x01, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x01, (byte) 0x24, (byte) 0x00, (byte) 0x85, (byte) 0x01, (byte) 0x30, (byte) 0x52, (byte) 0xFF, (byte) 0x26, (byte) 0x00, (byte) 0x03, (byte) 0x00, (byte) 0x09, (byte) 0x04, (byte) 0x01, (byte) 0x03, (byte) 0xA0, (byte) 0x00, (byte) 0x00, (byte) 0xA0, (byte) 0x00, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x05, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x02, (byte) 0x09, (byte) 0x04, (byte) 0x01, (byte) 0x03, (byte) 0x00, (byte) 0x24, (byte) 0x00, (byte) 0x00, (byte) 0x24, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x50, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0x1F, (byte) 0xBE, (byte) 0xB4, (byte) 0x1B"> 268                         (byte) 0x01, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x01, (byte) 0x24, (by🔵</abbr></span>
<span class="-4102417550988568311" onmouseenter="enter('-4102417550988568311');" onmouseout="out('-4102417550988568311');" style=""> 269                 },                                                                                       </span>
<span class="3475435761465163296" onmouseenter="enter('3475435761465163296');" onmouseout="out('3475435761465163296');" style=""> 270                 this)                                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 271         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272     }                                                                                                    </span>
<span  style=""> 273                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 274     @Override                                                                                            </span>
<span class="6345014031056245858" onmouseenter="enter('6345014031056245858');" onmouseout="out('6345014031056245858');" style=""> 275     public void setTimezoneOffsetMinutes(short offset) {                                                 </span>
<span class="1381779850157780775" onmouseenter="enter('1381779850157780775');" onmouseout="out('1381779850157780775');" style=""><abbr title=" 276         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offset), this){"> 276         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offse🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 277             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 278             public void onFilePut(boolean success) {                                                     </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 279                 super.onFilePut(success);                                                                </span>
<span  style=""> 280                                                                                                          </span>
<span class="-3135304625786003752" onmouseenter="enter('-3135304625786003752');" onmouseout="out('-3135304625786003752');" style=""> 281                 if(success) GB.toast(&quot;successfully updated timezone&quot;, Toast.LENGTH_SHORT, GB.INFO);      </span>
<span class="407242995437451917" onmouseenter="enter('407242995437451917');" onmouseout="out('407242995437451917');" style=""> 282                 else GB.toast(&quot;error updating timezone&quot;, Toast.LENGTH_SHORT, GB.ERROR);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 284         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285     }                                                                                                    </span>
<span  style=""> 286                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 287     @Override                                                                                            </span>
<span class="-3054925419297870439" onmouseenter="enter('-3054925419297870439');" onmouseout="out('-3054925419297870439');" style=""> 288     public boolean supportsFindDevice() {                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 289         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span  style=""> 291                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 292     @Override                                                                                            </span>
<span class="-8924444745054373900" onmouseenter="enter('-8924444745054373900');" onmouseout="out('-8924444745054373900');" style=""> 293     public boolean supportsExtendedVibration() {                                                         </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 294         String modelNumber = getDeviceSupport().getDevice().getModel();                                  </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 295         switch (modelNumber) {                                                                           </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 296             case &quot;HW.0.0&quot;:                                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 297                 return true;                                                                             </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 298             case &quot;HL.0.0&quot;:                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 299                 return false;                                                                            </span>
<span class="5071126073076406168" onmouseenter="enter('5071126073076406168');" onmouseout="out('5071126073076406168');" style=""> 300             case &quot;DN.1.0&quot;:                                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 301                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302         }                                                                                                </span>
<span class="-421459058626985428" onmouseenter="enter('-421459058626985428');" onmouseout="out('-421459058626985428');" style=""> 303         throw new UnsupportedOperationException(&quot;model &quot; + modelNumber + &quot; not supported&quot;);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304     }                                                                                                    </span>
<span  style=""> 305                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 306     @Override                                                                                            </span>
<span class="-1954248356050626516" onmouseenter="enter('-1954248356050626516');" onmouseout="out('-1954248356050626516');" style=""> 307     public boolean supportsActivityHand() {                                                              </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 308         String modelNumber = getDeviceSupport().getDevice().getModel();                                  </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 309         switch (modelNumber) {                                                                           </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 310             case &quot;HW.0.0&quot;:                                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 311                 return true;                                                                             </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 312             case &quot;HL.0.0&quot;:                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 313                 return false;                                                                            </span>
<span class="5071126073076406168" onmouseenter="enter('5071126073076406168');" onmouseout="out('5071126073076406168');" style=""> 314             case &quot;DN.1.0&quot;:                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 315                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316         }                                                                                                </span>
<span class="2217603857070485772" onmouseenter="enter('2217603857070485772');" onmouseout="out('2217603857070485772');" style=""> 317         throw new UnsupportedOperationException(&quot;Model &quot; + modelNumber + &quot; not supported&quot;);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318     }                                                                                                    </span>
<span  style=""> 319                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 320     @Override                                                                                            </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 321     public void onFetchActivityData() {                                                                  </span>
<span  style=""> 322                                                                                                          </span>
<span class="-4814314931431128201" onmouseenter="enter('-4814314931431128201');" onmouseout="out('-4814314931431128201');" style=""> 323         // queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this));     </span>
<span class="7149866427364516122" onmouseenter="enter('7149866427364516122');" onmouseout="out('7149866427364516122');" style=""> 324         setVibrationStrength((byte) 50);                                                                 </span>
<span class="-4426153981903290623" onmouseenter="enter('-4426153981903290623');" onmouseout="out('-4426153981903290623');" style=""> 325         // queueWrite(new FileCloseRequest((short) 0x0800));                                             </span>
<span class="-3476175542662741046" onmouseenter="enter('-3476175542662741046');" onmouseout="out('-3476175542662741046');" style=""> 326         // queueWrite(new ConfigurationGetRequest(this));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span  style=""> 328                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 329     @Override                                                                                            </span>
<span class="-6473317888357330260" onmouseenter="enter('-6473317888357330260');" onmouseout="out('-6473317888357330260');" style=""> 330     public void onSetAlarms(ArrayList&lt;? extends Alarm&gt; alarms) {                                         </span>
<span class="8915602864017605399" onmouseenter="enter('8915602864017605399');" onmouseout="out('8915602864017605399');" style=""> 331        //  throw new RuntimeException(&quot;noope&quot;);                                                          </span>
<span class="-3338453742873126944" onmouseenter="enter('-3338453742873126944');" onmouseout="out('-3338453742873126944');" style=""><abbr title=" 332         ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm&gt; activeAlarms = new ArrayList&lt;&gt;();"> 332         ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alar🔵</abbr></span>
<span class="-1058634864445966530" onmouseenter="enter('-1058634864445966530');" onmouseout="out('-1058634864445966530');" style=""> 333         for (Alarm alarm : alarms){                                                                      </span>
<span class="3364921582725904587" onmouseenter="enter('3364921582725904587');" onmouseout="out('3364921582725904587');" style=""> 334             if(!alarm.getEnabled()) continue;                                                            </span>
<span class="7350238905639356483" onmouseenter="enter('7350238905639356483');" onmouseout="out('7350238905639356483');" style=""> 335             if(alarm.getRepetition() == 0){                                                              </span>
<span class="1010329707661683373" onmouseenter="enter('1010329707661683373');" onmouseout="out('1010329707661683373');" style=""><abbr title=" 336                 activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm("> 336                 activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.request🔵</abbr></span>
<span class="6634667328052747221" onmouseenter="enter('6634667328052747221');" onmouseout="out('6634667328052747221');" style=""> 337                         (byte) alarm.getMinute(),                                                        </span>
<span class="-7170114618937446573" onmouseenter="enter('-7170114618937446573');" onmouseout="out('-7170114618937446573');" style=""> 338                         (byte) alarm.getHour(),                                                          </span>
<span class="-9102250952265191217" onmouseenter="enter('-9102250952265191217');" onmouseout="out('-9102250952265191217');" style=""> 339                         false                                                                            </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 340                 ));                                                                                      </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 341                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342             }                                                                                            </span>
<span class="3462401228838343640" onmouseenter="enter('3462401228838343640');" onmouseout="out('3462401228838343640');" style=""> 343             int repitition = alarm.getRepetition();                                                      </span>
<span class="-4614965870659119471" onmouseenter="enter('-4614965870659119471');" onmouseout="out('-4614965870659119471');" style=""> 344             repitition = (repitition &lt;&lt; 1) | ((repitition &gt;&gt; 6) &amp; 1);                                    </span>
<span class="1010329707661683373" onmouseenter="enter('1010329707661683373');" onmouseout="out('1010329707661683373');" style=""><abbr title=" 345             activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm("> 345             activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fo🔵</abbr></span>
<span class="6634667328052747221" onmouseenter="enter('6634667328052747221');" onmouseout="out('6634667328052747221');" style=""> 346                     (byte) alarm.getMinute(),                                                            </span>
<span class="-7170114618937446573" onmouseenter="enter('-7170114618937446573');" onmouseout="out('-7170114618937446573');" style=""> 347                     (byte) alarm.getHour(),                                                              </span>
<span class="-5719985438468869692" onmouseenter="enter('-5719985438468869692');" onmouseout="out('-5719985438468869692');" style=""> 348                     (byte) repitition                                                                    </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 349             ));                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350         }                                                                                                </span>
<span class="-6913331624693843795" onmouseenter="enter('-6913331624693843795');" onmouseout="out('-6913331624693843795');" style=""><abbr title=" 351         queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm[0]), this){"> 351         queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.ser🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 352             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 353             public void onFilePut(boolean success) {                                                     </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 354                 super.onFilePut(success);                                                                </span>
<span class="628646030968312686" onmouseenter="enter('628646030968312686');" onmouseout="out('628646030968312686');" style=""> 355                 if(success) GB.toast(&quot;successfully set alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);            </span>
<span class="9084024333071151531" onmouseenter="enter('9084024333071151531');" onmouseout="out('9084024333071151531');" style=""> 356                 else  GB.toast(&quot;error setting alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 358         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359     }                                                                                                    </span>
<span  style=""> 360                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 361     @Override                                                                                            </span>
<span class="-5661496586383940029" onmouseenter="enter('-5661496586383940029');" onmouseout="out('-5661496586383940029');" style=""><abbr title=" 362     public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {"> 362     public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic🔵</abbr></span>
<span class="-4900030241533218440" onmouseenter="enter('-4900030241533218440');" onmouseout="out('-4900030241533218440');" style=""> 363         switch (characteristic.getUuid().toString()) {                                                   </span>
<span class="2882486716182506598" onmouseenter="enter('2882486716182506598');" onmouseout="out('2882486716182506598');" style=""> 364             case &quot;3dda0006-957f-7d4a-34a6-74696673696d&quot;: {                                               </span>
<span class="7175817890662018548" onmouseenter="enter('7175817890662018548');" onmouseout="out('7175817890662018548');" style=""> 365                 handleBackgroundCharacteristic(characteristic);                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 366                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367             }                                                                                            </span>
<span class="649082617183531070" onmouseenter="enter('649082617183531070');" onmouseout="out('649082617183531070');" style=""> 368             case &quot;3dda0002-957f-7d4a-34a6-74696673696d&quot;:                                                 </span>
<span class="8319159933550328631" onmouseenter="enter('8319159933550328631');" onmouseout="out('8319159933550328631');" style=""> 369             case &quot;3dda0004-957f-7d4a-34a6-74696673696d&quot;:                                                 </span>
<span class="-5903481329570957784" onmouseenter="enter('-5903481329570957784');" onmouseout="out('-5903481329570957784');" style=""> 370             case &quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;: {                                               </span>
<span class="-5883938812681693852" onmouseenter="enter('-5883938812681693852');" onmouseout="out('-5883938812681693852');" style=""> 371                 if (fossilRequest != null) {                                                             </span>
<span class="-4993966815400274209" onmouseenter="enter('-4993966815400274209');" onmouseout="out('-4993966815400274209');" style=""> 372                     boolean requestFinished;                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 373                     try {                                                                                </span>
<span class="4249996716865711478" onmouseenter="enter('4249996716865711478');" onmouseout="out('4249996716865711478');" style=""><abbr title=" 374                         if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;)) {"> 374                         if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-746966736🔵</abbr></span>
<span class="8942699938702017612" onmouseenter="enter('8942699938702017612');" onmouseout="out('8942699938702017612');" style=""> 375                             byte requestType = (byte) (characteristic.getValue()[0] &amp; 0x0F);             </span>
<span  style=""> 376                                                                                                          </span>
<span class="-8712152160849034238" onmouseenter="enter('-8712152160849034238');" onmouseout="out('-8712152160849034238');" style=""> 377                             if (requestType != 0x0A &amp;&amp; requestType != fossilRequest.getType()) {         </span>
<span class="1733667093660496118" onmouseenter="enter('1733667093660496118');" onmouseout="out('1733667093660496118');" style=""><abbr title=" 378                                 // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match current request &quot; + fossilRequest.getType());"> 378                                 // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not m🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380                         }                                                                                </span>
<span  style=""> 381                                                                                                          </span>
<span class="5816078039831981940" onmouseenter="enter('5816078039831981940');" onmouseout="out('5816078039831981940');" style=""> 382                         fossilRequest.handleResponse(characteristic);                                    </span>
<span class="7152511660707143387" onmouseenter="enter('7152511660707143387');" onmouseout="out('7152511660707143387');" style=""> 383                         requestFinished = fossilRequest.isFinished();                                    </span>
<span class="1200625667814236005" onmouseenter="enter('1200625667814236005');" onmouseout="out('1200625667814236005');" style=""> 384                     } catch (RuntimeException e) {                                                       </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 385                         e.printStackTrace();                                                             </span>
<span class="8111404309544580801" onmouseenter="enter('8111404309544580801');" onmouseout="out('8111404309544580801');" style=""> 386                         getDeviceSupport().notifiyException(e);                                          </span>
<span class="-564715308402870570" onmouseenter="enter('-564715308402870570');" onmouseout="out('-564715308402870570');" style=""> 387                         GB.toast(fossilRequest.getName() + &quot; failed&quot;, Toast.LENGTH_SHORT, GB.ERROR);     </span>
<span class="3752335005278324312" onmouseenter="enter('3752335005278324312');" onmouseout="out('3752335005278324312');" style=""> 388                         requestFinished = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389                     }                                                                                    </span>
<span  style=""> 390                                                                                                          </span>
<span class="-7801153188892822314" onmouseenter="enter('-7801153188892822314');" onmouseout="out('-7801153188892822314');" style=""> 391                     if (requestFinished) {                                                               </span>
<span class="-5854378050299916026" onmouseenter="enter('-5854378050299916026');" onmouseout="out('-5854378050299916026');" style=""> 392                         log(fossilRequest.getName() + &quot; finished&quot;);                                      </span>
<span class="-5183914389820007328" onmouseenter="enter('-5183914389820007328');" onmouseout="out('-5183914389820007328');" style=""> 393                         fossilRequest = null;                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 394                     } else {                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 395                         return true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                 }                                                                                        </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 398                 queueNextRequest();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 401         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402     }                                                                                                    </span>
<span  style=""> 403                                                                                                          </span>
<span class="-2491152025454801834" onmouseenter="enter('-2491152025454801834');" onmouseout="out('-2491152025454801834');" style=""> 404     private void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {            </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 405         byte[] value = characteristic.getValue();                                                        </span>
<span class="-6451515600853577262" onmouseenter="enter('-6451515600853577262');" onmouseout="out('-6451515600853577262');" style=""> 406         switch (value[1]) {                                                                              </span>
<span class="4530359272320273514" onmouseenter="enter('4530359272320273514');" onmouseout="out('4530359272320273514');" style=""> 407             case 2: {                                                                                    </span>
<span class="-5775509307888090545" onmouseenter="enter('-5775509307888090545');" onmouseout="out('-5775509307888090545');" style=""> 408                 byte syncId = value[2];                                                                  </span>
<span class="-3857187101679284787" onmouseenter="enter('-3857187101679284787');" onmouseout="out('-3857187101679284787');" style=""><abbr title=" 409                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, DateFormat.getTimeInstance().format(new Date())));"> 409                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEA🔵</abbr></span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 410                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411             }                                                                                            </span>
<span class="-649725075995131999" onmouseenter="enter('-649725075995131999');" onmouseout="out('-649725075995131999');" style=""> 412             case 8: {                                                                                    </span>
<span class="8764450730856979153" onmouseenter="enter('8764450730856979153');" onmouseout="out('8764450730856979153');" style=""> 413                 if (value.length != 12) {                                                                </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 414                     throw new RuntimeException(&quot;wrong button message&quot;);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415                 }                                                                                        </span>
<span class="-9015138085074288507" onmouseenter="enter('-9015138085074288507');" onmouseout="out('-9015138085074288507');" style=""> 416                 int index = value[2] &amp; 0xFF;                                                             </span>
<span class="8477248390228805092" onmouseenter="enter('8477248390228805092');" onmouseout="out('8477248390228805092');" style=""> 417                 int button = value[9] &gt;&gt; 4 &amp; 0xFF;                                                       </span>
<span  style=""> 418                                                                                                          </span>
<span class="-1192023704312105569" onmouseenter="enter('-1192023704312105569');" onmouseout="out('-1192023704312105569');" style=""> 419                 if (index != this.lastButtonIndex) {                                                     </span>
<span class="-8860421732717926118" onmouseenter="enter('-8860421732717926118');" onmouseout="out('-8860421732717926118');" style=""> 420                     lastButtonIndex = index;                                                             </span>
<span class="616850018420783045" onmouseenter="enter('616850018420783045');" onmouseout="out('616850018420783045');" style=""> 421                     log(&quot;Button press on button &quot; + button);                                             </span>
<span  style=""> 422                                                                                                          </span>
<span class="-3627003721429111719" onmouseenter="enter('-3627003721429111719');" onmouseout="out('-3627003721429111719');" style=""> 423                     Intent i = new Intent(QHYBRID_EVENT_BUTTON_PRESS);                                   </span>
<span class="5900841887738464247" onmouseenter="enter('5900841887738464247');" onmouseout="out('5900841887738464247');" style=""> 424                     i.putExtra(&quot;BUTTON&quot;, button);                                                        </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 425                     getContext().sendBroadcast(i);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 427                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428             }                                                                                            </span>
<span  style=""> 429                                                                                                          </span>
<span class="-8844316619474261555" onmouseenter="enter('-8844316619474261555');" onmouseout="out('-8844316619474261555');" style=""> 430             case 5: {                                                                                    </span>
<span class="-6556110583117842759" onmouseenter="enter('-6556110583117842759');" onmouseout="out('-6556110583117842759');" style=""> 431                 if (value.length != 4) {                                                                 </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 432                     throw new RuntimeException(&quot;wrong button message&quot;);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433                 }                                                                                        </span>
<span class="5862908388096304141" onmouseenter="enter('5862908388096304141');" onmouseout="out('5862908388096304141');" style=""> 434                 int action = value[3];                                                                   </span>
<span  style=""> 435                                                                                                          </span>
<span class="-5250241124048538077" onmouseenter="enter('-5250241124048538077');" onmouseout="out('-5250241124048538077');" style=""> 436                 String actionString = &quot;SINGLE&quot;;                                                          </span>
<span class="67826696619814371" onmouseenter="enter('67826696619814371');" onmouseout="out('67826696619814371');" style=""> 437                 if(action == 3) actionString = &quot;DOUBLE&quot;;                                                 </span>
<span class="1325479382860759156" onmouseenter="enter('1325479382860759156');" onmouseout="out('1325479382860759156');" style=""> 438                 else if(action == 4) actionString = &quot;LONG&quot;;                                              </span>
<span  style=""> 439                                                                                                          </span>
<span class="-5362169280391406400" onmouseenter="enter('-5362169280391406400');" onmouseout="out('-5362169280391406400');" style=""> 440                 // lastButtonIndex = index;                                                              </span>
<span class="172457281232197615" onmouseenter="enter('172457281232197615');" onmouseout="out('172457281232197615');" style=""> 441                 log(actionString + &quot; button press&quot;);                                                     </span>
<span  style=""> 442                                                                                                          </span>
<span class="5153309691643237780" onmouseenter="enter('5153309691643237780');" onmouseout="out('5153309691643237780');" style=""> 443                 Intent i = new Intent(QHYBRID_EVENT_MULTI_BUTTON_PRESS);                                 </span>
<span class="-8244835457302439296" onmouseenter="enter('-8244835457302439296');" onmouseout="out('-8244835457302439296');" style=""> 444                 i.putExtra(&quot;ACTION&quot;, actionString);                                                      </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 445                 getContext().sendBroadcast(i);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 446                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 447             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449     }                                                                                                    </span>
<span  style=""> 450                                                                                                          </span>
<span  style=""> 451                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 452     @Override                                                                                            </span>
<span class="4059332836458884073" onmouseenter="enter('4059332836458884073');" onmouseout="out('4059332836458884073');" style=""> 453     public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {                                  </span>
<span class="-8277517528335740047" onmouseenter="enter('-8277517528335740047');" onmouseout="out('-8277517528335740047');" style=""> 454         super.onMtuChanged(gatt, mtu, status);                                                           </span>
<span class="5409658112384563066" onmouseenter="enter('5409658112384563066');" onmouseout="out('5409658112384563066');" style=""> 455         this.MTU = mtu;                                                                                  </span>
<span  style=""> 456                                                                                                          </span>
<span class="6930856753795234454" onmouseenter="enter('6930856753795234454');" onmouseout="out('6930856753795234454');" style=""> 457         getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_MTU, String.valueOf(mtu)));    </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 458         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                             </span>
<span  style=""> 459                                                                                                          </span>
<span class="-6512722495986332562" onmouseenter="enter('-6512722495986332562');" onmouseout="out('-6512722495986332562');" style=""> 460         ((RequestMtuRequest) fossilRequest).setFinished(true);                                           </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 461         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 462     }                                                                                                    </span>
<span  style=""> 463                                                                                                          </span>
<span class="1166233071174553578" onmouseenter="enter('1166233071174553578');" onmouseout="out('1166233071174553578');" style=""> 464     public void queueWrite(RequestMtuRequest request, boolean priorise) {                                </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style=""> 465         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="3110069276953366480" onmouseenter="enter('3110069276953366480');" onmouseout="out('3110069276953366480');" style=""> 466             new TransactionBuilder(&quot;requestMtu&quot;)                                                         </span>
<span class="-9055525033345558731" onmouseenter="enter('-9055525033345558731');" onmouseout="out('-9055525033345558731');" style=""> 467                     .requestMtu(512)                                                                     </span>
<span class="7475982186340408444" onmouseenter="enter('7475982186340408444');" onmouseout="out('7475982186340408444');" style=""> 468                     .queue(getDeviceSupport().getQueue());                                               </span>
<span  style=""> 469                                                                                                          </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 470             this.fossilRequest = request;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472     }                                                                                                    </span>
<span  style=""> 473                                                                                                          </span>
<span class="-3295655862750189353" onmouseenter="enter('-3295655862750189353');" onmouseout="out('-3295655862750189353');" style=""> 474     private void log(String message) {                                                                   </span>
<span class="9145561956568673670" onmouseenter="enter('9145561956568673670');" onmouseout="out('9145561956568673670');" style=""> 475         logger.debug(message);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476     }                                                                                                    </span>
<span  style=""> 477                                                                                                          </span>
<span class="-4576343442795999070" onmouseenter="enter('-4576343442795999070');" onmouseout="out('-4576343442795999070');" style=""> 478     public void queueWrite(SetDeviceStateRequest request, boolean priorise) {                            </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 479         if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                      </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 480             log(&quot;queing request: &quot; + request.getName());                                                 </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 481             if (priorise) {                                                                              </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 482                 requestQueue.add(0, request);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 483             } else {                                                                                     </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 484                 requestQueue.add(request);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 485             }                                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 486             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487         }                                                                                                </span>
<span class="-2968591505263822982" onmouseenter="enter('-2968591505263822982');" onmouseout="out('-2968591505263822982');" style=""> 488         log(&quot;setting device state: &quot; + request.getDeviceState());                                        </span>
<span class="1880441583077609953" onmouseenter="enter('1880441583077609953');" onmouseout="out('1880441583077609953');" style=""> 489         getDeviceSupport().getDevice().setState(request.getDeviceState());                               </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 490         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                             </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 491         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492     }                                                                                                    </span>
<span  style=""> 493                                                                                                          </span>
<span class="3575675551777290585" onmouseenter="enter('3575675551777290585');" onmouseout="out('3575675551777290585');" style=""> 494     public void queueWrite(FossilRequest request, boolean priorise) {                                    </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 495         if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                      </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 496             log(&quot;queing request: &quot; + request.getName());                                                 </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 497             if (priorise) {                                                                              </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 498                 requestQueue.add(0, request);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 499             } else {                                                                                     </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 500                 requestQueue.add(request);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 501             }                                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 502             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503         }                                                                                                </span>
<span class="2316394992381890961" onmouseenter="enter('2316394992381890961');" onmouseout="out('2316394992381890961');" style=""> 504         log(&quot;executing request: &quot; + request.getName());                                                  </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 505         this.fossilRequest = request;                                                                    </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 506         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 506         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteri🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507     }                                                                                                    </span>
<span  style=""> 508                                                                                                          </span>
<span class="-6311202063603005052" onmouseenter="enter('-6311202063603005052');" onmouseout="out('-6311202063603005052');" style=""> 509     public void queueWrite(Request request, boolean priorise) {                                          </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 510         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 510         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteri🔵</abbr></span>
<span  style=""> 511                                                                                                          </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 512         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513     }                                                                                                    </span>
<span  style=""> 514                                                                                                          </span>
<span class="-7292293664532347836" onmouseenter="enter('-7292293664532347836');" onmouseout="out('-7292293664532347836');" style=""> 515     void queueWrite(Request request) {                                                                   </span>
<span class="6767873303838952458" onmouseenter="enter('6767873303838952458');" onmouseout="out('6767873303838952458');" style=""> 516         if (request instanceof SetDeviceStateRequest)                                                    </span>
<span class="-624837134462991662" onmouseenter="enter('-624837134462991662');" onmouseout="out('-624837134462991662');" style=""> 517             queueWrite((SetDeviceStateRequest) request, false);                                          </span>
<span class="3794917961066152317" onmouseenter="enter('3794917961066152317');" onmouseout="out('3794917961066152317');" style=""> 518         else if (request instanceof RequestMtuRequest)                                                   </span>
<span class="-8094441310402055808" onmouseenter="enter('-8094441310402055808');" onmouseout="out('-8094441310402055808');" style=""> 519             queueWrite((RequestMtuRequest) request, false);                                              </span>
<span class="-383246438418114342" onmouseenter="enter('-383246438418114342');" onmouseout="out('-383246438418114342');" style=""> 520         else if (request instanceof FossilRequest) queueWrite((FossilRequest) request, false);           </span>
<span class="-7075409325550123790" onmouseenter="enter('-7075409325550123790');" onmouseout="out('-7075409325550123790');" style=""> 521         else queueWrite(request, false);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522     }                                                                                                    </span>
<span  style=""> 523                                                                                                          </span>
<span class="-5873341080833470590" onmouseenter="enter('-5873341080833470590');" onmouseout="out('-5873341080833470590');" style=""> 524     private void queueNextRequest() {                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 525         try {                                                                                            </span>
<span class="-8758486334100629151" onmouseenter="enter('-8758486334100629151');" onmouseout="out('-8758486334100629151');" style=""> 526             Request request = requestQueue.remove(0);                                                    </span>
<span class="-3953785809866853226" onmouseenter="enter('-3953785809866853226');" onmouseout="out('-3953785809866853226');" style=""> 527             queueWrite(request);                                                                         </span>
<span class="4743218385197812299" onmouseenter="enter('4743218385197812299');" onmouseout="out('4743218385197812299');" style=""> 528         } catch (IndexOutOfBoundsException e) {                                                          </span>
<span class="-1516621385279090264" onmouseenter="enter('-1516621385279090264');" onmouseout="out('-1516621385279090264');" style=""> 529             log(&quot;requestsQueue empty&quot;);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 532 }                                                                                                        </span></pre></td>
                            <td><pre><span class="2923613792184110803" onmouseenter="enter('2923613792184110803');" onmouseout="out('2923613792184110803');" style="">   1 package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil;                     </span>
<span  style="">   2                                                                                                          </span>
<span class="2440823415412133066" onmouseenter="enter('2440823415412133066');" onmouseout="out('2440823415412133066');" style="">   3 import android.bluetooth.BluetoothGatt;                                                                  </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   4 import android.bluetooth.BluetoothGattCharacteristic;                                                    </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5 import android.content.Intent;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   6 import android.os.Build;                                                                                 </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">   7 import android.util.Log;                                                                                 </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">   8 import android.widget.Toast;                                                                             </span>
<span  style="">   9                                                                                                          </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  10 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  11 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="">  12                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  13 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  14 import org.json.JSONException;                                                                           </span>
<span  style="">  15                                                                                                          </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  16 import java.text.DateFormat;                                                                             </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  17 import java.util.ArrayList;                                                                              </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  18 import java.util.Date;                                                                                   </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  19 import java.util.GregorianCalendar;                                                                      </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  20 import java.util.TimeZone;                                                                               </span>
<span  style="">  21                                                                                                          </span>
<span class="-1471644270559892265" onmouseenter="enter('-1471644270559892265');" onmouseout="out('-1471644270559892265');" style="">  22 import nodomain.freeyourgadget.gadgetbridge.GBException;                                                 </span>
<span class="-7483974346858162294" onmouseenter="enter('-7483974346858162294');" onmouseout="out('-7483974346858162294');" style="">  23 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.NotificationConfiguration;                   </span>
<span class="-7717522168233863917" onmouseenter="enter('-7717522168233863917');" onmouseout="out('-7717522168233863917');" style="">  24 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.PackageConfigHelper;                         </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  25 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  26 import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                 </span>
<span class="7672535166545256161" onmouseenter="enter('7672535166545256161');" onmouseout="out('7672535166545256161');" style="">  27 import nodomain.freeyourgadget.gadgetbridge.model.GenericItem;                                           </span>
<span class="3410519392510510669" onmouseenter="enter('3410519392510510669');" onmouseout="out('3410519392510510669');" style="">  28 import nodomain.freeyourgadget.gadgetbridge.service.btle.TransactionBuilder;                             </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  29 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                      </span>
<span class="3322723522373113781" onmouseenter="enter('3322723522373113781');" onmouseout="out('3322723522373113781');" style="">  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.WatchAdapter;                </span>
<span class="-2799508117160188769" onmouseenter="enter('-2799508117160188769');" onmouseout="out('-2799508117160188769');" style="">  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigFileBuilder;      </span>
<span class="3544192455451748258" onmouseenter="enter('3544192455451748258');" onmouseout="out('3544192455451748258');" style="">  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigPayload;          </span>
<span class="2090042171840798451" onmouseenter="enter('2090042171840798451');" onmouseout="out('2090042171840798451');" style="">  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.Request;                    </span>
<span class="-2455941194154498360" onmouseenter="enter('-2455941194154498360');" onmouseout="out('-2455941194154498360');" style="">  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.FossilRequest;       </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style=""><abbr title="  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="1031059801646776097" onmouseenter="enter('1031059801646776097');" onmouseout="out('1031059801646776097');" style=""><abbr title="  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetRequest;">  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetReques🔵</abbr></span>
<span class="-3957549361440696353" onmouseenter="enter('-3957549361440696353');" onmouseout="out('-3957549361440696353');" style=""><abbr title="  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetRequest;">  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetReques🔵</abbr></span>
<span class="-485489977593186472" onmouseenter="enter('-485489977593186472');" onmouseout="out('-485489977593186472');" style=""><abbr title="  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigurationGetRequest;">  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigur🔵</abbr></span>
<span class="8456474303681518874" onmouseenter="enter('8456474303681518874');" onmouseout="out('8456474303681518874');" style=""><abbr title="  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGetRequest;">  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="6063983850693379079" onmouseenter="enter('6063983850693379079');" onmouseout="out('6063983850693379079');" style=""><abbr title="  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest;">  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="-6160269686715032110" onmouseenter="enter('-6160269686715032110');" onmouseout="out('-6160269686715032110');" style="">  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FilePutRequest; </span>
<span class="-1028510867556361299" onmouseenter="enter('-1028510867556361299');" onmouseout="out('-1028510867556361299');" style=""><abbr title="  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilterPutRequest;">  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.Notifica🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-5865827548439034307" onmouseenter="enter('-5865827548439034307');" onmouseout="out('-5865827548439034307');" style="">  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.AnimationRequest;    </span>
<span class="-6260088196349644799" onmouseenter="enter('-6260088196349644799');" onmouseout="out('-6260088196349644799');" style="">  46 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.MoveHandsRequest;    </span>
<span class="6036958101215125198" onmouseenter="enter('6036958101215125198');" onmouseout="out('6036958101215125198');" style=""><abbr title="  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRequest;">  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRe🔵</abbr></span>
<span class="4138099863165019445" onmouseenter="enter('4138099863165019445');" onmouseout="out('4138099863165019445');" style=""><abbr title="  48 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlRequest;">  48 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlReq🔵</abbr></span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  49 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span  style="">  50                                                                                                          </span>
<span class="2499827060581337575" onmouseenter="enter('2499827060581337575');" onmouseout="out('2499827060581337575');" style=""><abbr title="  51 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRESS;">  51 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_B🔵</abbr></span>
<span class="5066855057518995879" onmouseenter="enter('5066855057518995879');" onmouseout="out('5066855057518995879');" style=""><abbr title="  52 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_MULTI_BUTTON_PRESS;">  52 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_M🔵</abbr></span>
<span  style="">  53                                                                                                          </span>
<span class="-7525731093157952067" onmouseenter="enter('-7525731093157952067');" onmouseout="out('-7525731093157952067');" style="">  54 public class FossilWatchAdapter extends WatchAdapter {                                                   </span>
<span class="1195654240209704003" onmouseenter="enter('1195654240209704003');" onmouseout="out('1195654240209704003');" style="">  55     private ArrayList&lt;Request&gt; requestQueue = new ArrayList&lt;&gt;();                                         </span>
<span  style="">  56                                                                                                          </span>
<span class="2142601754793799589" onmouseenter="enter('2142601754793799589');" onmouseout="out('2142601754793799589');" style="">  57     private FossilRequest fossilRequest;                                                                 </span>
<span  style="">  58                                                                                                          </span>
<span class="-3015417213827192255" onmouseenter="enter('-3015417213827192255');" onmouseout="out('-3015417213827192255');" style="">  59     private int MTU = 23;                                                                                </span>
<span  style="">  60                                                                                                          </span>
<span class="7214207819631100316" onmouseenter="enter('7214207819631100316');" onmouseout="out('7214207819631100316');" style="">  61     private String ITEM_MTU = &quot;MTU&quot;;                                                                     </span>
<span class="1753245896642996136" onmouseenter="enter('1753245896642996136');" onmouseout="out('1753245896642996136');" style="">  62     static public final String ITEM_BUTTONS = &quot;BUTTONS&quot;;                                                 </span>
<span  style="">  63                                                                                                          </span>
<span class="-8890462315568593084" onmouseenter="enter('-8890462315568593084');" onmouseout="out('-8890462315568593084');" style="">  64     private int lastButtonIndex = -1;                                                                    </span>
<span  style="">  65                                                                                                          </span>
<span class="6427921479659727638" onmouseenter="enter('6427921479659727638');" onmouseout="out('6427921479659727638');" style="">  66     Logger logger = LoggerFactory.getLogger(getClass());                                                 </span>
<span  style="">  67                                                                                                          </span>
<span class="-6132543960234271010" onmouseenter="enter('-6132543960234271010');" onmouseout="out('-6132543960234271010');" style="">  68     public FossilWatchAdapter(QHybridSupport deviceSupport) {                                            </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  69         super(deviceSupport);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70     }                                                                                                    </span>
<span  style="">  71                                                                                                          </span>
<span  style="">  72                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  73     @Override                                                                                            </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  74     public void initialize() {                                                                           </span>
<span class="-4784435253982341327" onmouseenter="enter('-4784435253982341327');" onmouseout="out('-4784435253982341327');" style="">  75         playPairingAnimation();                                                                          </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  76         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="-529551863285165269" onmouseenter="enter('-529551863285165269');" onmouseout="out('-529551863285165269');" style="">  77             queueWrite(new RequestMtuRequest(512), false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78         }                                                                                                </span>
<span class="-331366053797168206" onmouseenter="enter('-331366053797168206');" onmouseout="out('-331366053797168206');" style="">  79         queueWrite(new ConfigurationGetRequest(this), false);                                            </span>
<span  style="">  80                                                                                                          </span>
<span class="1508133748144491002" onmouseenter="enter('1508133748144491002');" onmouseout="out('1508133748144491002');" style="">  81         syncNotificationSettings();                                                                      </span>
<span  style="">  82                                                                                                          </span>
<span class="3977096852409471998" onmouseenter="enter('3977096852409471998');" onmouseout="out('3977096852409471998');" style="">  83         queueWrite(new ButtonConfigurationGetRequest(this) {                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84             @Override                                                                                    </span>
<span class="-1487684019435743701" onmouseenter="enter('-1487684019435743701');" onmouseout="out('-1487684019435743701');" style="">  85             public void onConfigurationsGet(ConfigPayload[] configs) {                                   </span>
<span class="-2601870964218793380" onmouseenter="enter('-2601870964218793380');" onmouseout="out('-2601870964218793380');" style="">  86                 super.onConfigurationsGet(configs);                                                      </span>
<span  style="">  87                                                                                                          </span>
<span class="1670117978377592251" onmouseenter="enter('1670117978377592251');" onmouseout="out('1670117978377592251');" style="">  88                 JSONArray buttons = new JSONArray();                                                     </span>
<span class="6682205060812300584" onmouseenter="enter('6682205060812300584');" onmouseout="out('6682205060812300584');" style="">  89                 for (ConfigPayload payload : configs) buttons.put(String.valueOf(payload));              </span>
<span class="-4316381087013812630" onmouseenter="enter('-4316381087013812630');" onmouseout="out('-4316381087013812630');" style="">  90                 String json = buttons.toString();                                                        </span>
<span class="-4616163105976568730" onmouseenter="enter('-4616163105976568730');" onmouseout="out('-4616163105976568730');" style="">  91                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_BUTTONS, json));       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  93         });                                                                                              </span>
<span  style="">  94                                                                                                          </span>
<span class="5411003737943219307" onmouseenter="enter('5411003737943219307');" onmouseout="out('5411003737943219307');" style="">  95         queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED), false);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96     }                                                                                                    </span>
<span  style="">  97                                                                                                          </span>
<span class="3546647492997211457" onmouseenter="enter('3546647492997211457');" onmouseout="out('3546647492997211457');" style="">  98     public int getMTU() {                                                                                </span>
<span class="6365412335896587692" onmouseenter="enter('6365412335896587692');" onmouseout="out('6365412335896587692');" style="">  99         if (this.MTU &lt; 0) throw new RuntimeException(&quot;MTU not configured&quot;);                              </span>
<span  style=""> 100                                                                                                          </span>
<span class="-7001790466828694007" onmouseenter="enter('-7001790466828694007');" onmouseout="out('-7001790466828694007');" style=""> 101         return this.MTU;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102     }                                                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 104     @Override                                                                                            </span>
<span class="6553842608624105970" onmouseenter="enter('6553842608624105970');" onmouseout="out('6553842608624105970');" style=""> 105     public void playPairingAnimation() {                                                                 </span>
<span class="1320466205813454973" onmouseenter="enter('1320466205813454973');" onmouseout="out('1320466205813454973');" style=""> 106         queueWrite(new AnimationRequest(), false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107     }                                                                                                    </span>
<span  style=""> 108                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 109     @Override                                                                                            </span>
<span class="8521690812134896195" onmouseenter="enter('8521690812134896195');" onmouseout="out('8521690812134896195');" style=""> 110     public void playNotification(NotificationConfiguration config) {                                     </span>
<span class="-6783799527271845784" onmouseenter="enter('-6783799527271845784');" onmouseout="out('-6783799527271845784');" style=""> 111         if (config.getPackageName() == null) {                                                           </span>
<span class="-1149857065563503220" onmouseenter="enter('-1149857065563503220');" onmouseout="out('-1149857065563503220');" style=""> 112             log(&quot;package name in notification not set&quot;);                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 113             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114         }                                                                                                </span>
<span class="1897113475738739385" onmouseenter="enter('1897113475738739385');" onmouseout="out('1897113475738739385');" style=""> 115         queueWrite(new PlayNotificationRequest(config.getPackageName(), this), false);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116     }                                                                                                    </span>
<span  style=""> 117                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 118     @Override                                                                                            </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 119     public void setTime() {                                                                              </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 120         long millis = System.currentTimeMillis();                                                        </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 121         TimeZone zone = new GregorianCalendar().getTimeZone();                                           </span>
<span  style=""> 122                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 123         queueWrite(                                                                                      </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 124                 new ConfigurationPutRequest(                                                             </span>
<span class="3969253431822543743" onmouseenter="enter('3969253431822543743');" onmouseout="out('3969253431822543743');" style=""> 125                         new ConfigurationPutRequest.TimeConfigItem(                                      </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 126                                 (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),         </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 127                                 (short) (millis % 1000),                                                 </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 128                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 128                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 129                         ),                                                                               </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 130                         this), false                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 131         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134     @Override                                                                                            </span>
<span class="-8442583637732746352" onmouseenter="enter('-8442583637732746352');" onmouseout="out('-8442583637732746352');" style=""> 135     public void overwriteButtons() {                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 136         try {                                                                                            </span>
<span class="-1731301164298283181" onmouseenter="enter('-1731301164298283181');" onmouseout="out('-1731301164298283181');" style=""><abbr title=" 137             JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_BUTTONS).getDetails());"> 137             JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_🔵</abbr></span>
<span  style=""> 138                                                                                                          </span>
<span class="-3346202498142011652" onmouseenter="enter('-3346202498142011652');" onmouseout="out('-3346202498142011652');" style=""> 139             ConfigPayload[] payloads = new ConfigPayload[buttonConfigJson.length()];                     </span>
<span  style=""> 140                                                                                                          </span>
<span class="6308082735200953138" onmouseenter="enter('6308082735200953138');" onmouseout="out('6308082735200953138');" style=""> 141             for (int i = 0; i &lt; buttonConfigJson.length(); i++) {                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 142                 try {                                                                                    </span>
<span class="1160541087195237888" onmouseenter="enter('1160541087195237888');" onmouseout="out('1160541087195237888');" style=""> 143                     payloads[i] = ConfigPayload.valueOf(buttonConfigJson.getString(i));                  </span>
<span class="-1471183022667940231" onmouseenter="enter('-1471183022667940231');" onmouseout="out('-1471183022667940231');" style=""> 144                 } catch (IllegalArgumentException e) {                                                   </span>
<span class="-1884999885194453074" onmouseenter="enter('-1884999885194453074');" onmouseout="out('-1884999885194453074');" style=""> 145                     payloads[i] = ConfigPayload.FORWARD_TO_PHONE;                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147             }                                                                                            </span>
<span  style=""> 148                                                                                                          </span>
<span class="8120873169825688251" onmouseenter="enter('8120873169825688251');" onmouseout="out('8120873169825688251');" style=""> 149             ConfigFileBuilder builder = new ConfigFileBuilder(payloads);                                 </span>
<span  style=""> 150                                                                                                          </span>
<span class="2471739353996067823" onmouseenter="enter('2471739353996067823');" onmouseout="out('2471739353996067823');" style=""><abbr title=" 151             FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, builder.build(true), this) {"> 151             FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, builder.build(true), th🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 152             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 153             public void onFilePut(boolean success) {                                                     </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style=""> 154                     if (success)                                                                         </span>
<span class="-980779450460475221" onmouseenter="enter('-980779450460475221');" onmouseout="out('-980779450460475221');" style=""><abbr title=" 155                         GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 155                         GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO)🔵</abbr></span>
<span class="-4166541072297664776" onmouseenter="enter('-4166541072297664776');" onmouseout="out('-4166541072297664776');" style=""> 156                 else GB.toast(&quot;error overwriting button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 158         };                                                                                               </span>
<span class="4426460983854065500" onmouseenter="enter('4426460983854065500');" onmouseout="out('4426460983854065500');" style=""> 159         queueWrite(fileUploadRequets);                                                                   </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 160         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 161             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 166     public void setActivityHand(double progress) {                                                       </span>
<span class="-5003745590397881984" onmouseenter="enter('-5003745590397881984');" onmouseout="out('-5003745590397881984');" style=""> 167         queueWrite(new ConfigurationPutRequest(                                                          </span>
<span class="-1274087565432836677" onmouseenter="enter('-1274087565432836677');" onmouseout="out('-1274087565432836677');" style=""><abbr title=" 168                 new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress))),"> 168                 new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * 🔵</abbr></span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 169                 this                                                                                     </span>
<span class="7701925171622270948" onmouseenter="enter('7701925171622270948');" onmouseout="out('7701925171622270948');" style=""> 170         ), false);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span  style=""> 172                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 173     @Override                                                                                            </span>
<span class="950037135509614227" onmouseenter="enter('950037135509614227');" onmouseout="out('950037135509614227');" style=""> 174     public void setHands(short hour, short minute) {                                                     </span>
<span class="-7308249657826701351" onmouseenter="enter('-7308249657826701351');" onmouseout="out('-7308249657826701351');" style=""> 175         queueWrite(new MoveHandsRequest(false, minute, hour, (short) -1), false);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span  style=""> 177                                                                                                          </span>
<span  style=""> 178                                                                                                          </span>
<span class="-7686458614870644313" onmouseenter="enter('-7686458614870644313');" onmouseout="out('-7686458614870644313');" style=""><abbr title=" 179     public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest.VibrationType vibration) {"> 179     public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.Play🔵</abbr></span>
<span class="7269778319868126302" onmouseenter="enter('7269778319868126302');" onmouseout="out('7269778319868126302');" style=""><abbr title=" 180         // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest(vibration, -1, -1));"> 180         // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.Pl🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181     }                                                                                                    </span>
<span  style=""> 182                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183     @Override                                                                                            </span>
<span class="-4607916161418936141" onmouseenter="enter('-4607916161418936141');" onmouseout="out('-4607916161418936141');" style=""> 184     public void vibrateFindMyDevicePattern() {                                                           </span>
<span  style=""> 185                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186     }                                                                                                    </span>
<span  style=""> 187                                                                                                          </span>
<span  style=""> 188                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189     @Override                                                                                            </span>
<span class="-6532646074151310772" onmouseenter="enter('-6532646074151310772');" onmouseout="out('-6532646074151310772');" style=""> 190     public void requestHandsControl() {                                                                  </span>
<span class="845470347332695933" onmouseenter="enter('845470347332695933');" onmouseout="out('845470347332695933');" style=""> 191         queueWrite(new RequestHandControlRequest(), false);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192     }                                                                                                    </span>
<span  style=""> 193                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194     @Override                                                                                            </span>
<span class="5268567045225055789" onmouseenter="enter('5268567045225055789');" onmouseout="out('5268567045225055789');" style=""> 195     public void releaseHandsControl() {                                                                  </span>
<span class="303207396055204695" onmouseenter="enter('303207396055204695');" onmouseout="out('303207396055204695');" style=""> 196         queueWrite(new ReleaseHandsControlRequest(), false);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="7960938870834875611" onmouseenter="enter('7960938870834875611');" onmouseout="out('7960938870834875611');" style=""> 200     public void setStepGoal(int stepGoal) {                                                              </span>
<span class="6871573190650859359" onmouseenter="enter('6871573190650859359');" onmouseout="out('6871573190650859359');" style=""><abbr title=" 201         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this){"> 201         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGo🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 202             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 203             public void onFilePut(boolean success) {                                                     </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style=""> 204                 if (success)                                                                             </span>
<span class="-6265074681006882794" onmouseenter="enter('-6265074681006882794');" onmouseout="out('-6265074681006882794');" style=""> 205                     GB.toast(&quot;successfully updated step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);             </span>
<span class="7595940445245185427" onmouseenter="enter('7595940445245185427');" onmouseout="out('7595940445245185427');" style=""> 206                 else GB.toast(&quot;error updating step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207             }                                                                                            </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 208         }, false);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209     }                                                                                                    </span>
<span  style=""> 210                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 211     @Override                                                                                            </span>
<span class="1506969207519742362" onmouseenter="enter('1506969207519742362');" onmouseout="out('1506969207519742362');" style=""> 212     public void setVibrationStrength(short strength) {                                                   </span>
<span class="-7509590071108039539" onmouseenter="enter('-7509590071108039539');" onmouseout="out('-7509590071108039539');" style=""><abbr title=" 213         ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem((byte) strength);"> 213         ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthC🔵</abbr></span>
<span  style=""> 214                                                                                                          </span>
<span  style=""> 215                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 216         queueWrite(                                                                                      </span>
<span class="1955278548626520341" onmouseenter="enter('1955278548626520341');" onmouseout="out('1955278548626520341');" style=""><abbr title=" 217                 new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this){"> 217                 new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 218                     @Override                                                                            </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 219                     public void onFilePut(boolean success) {                                             </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style=""> 220                         if (success)                                                                     </span>
<span class="-4715401381453784584" onmouseenter="enter('-4715401381453784584');" onmouseout="out('-4715401381453784584');" style=""><abbr title=" 221                             GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 221                             GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.IN🔵</abbr></span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 222                         else                                                                             </span>
<span class="-2857144445981765585" onmouseenter="enter('-2857144445981765585');" onmouseout="out('-2857144445981765585');" style=""> 223                             GB.toast(&quot;error updating vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224                     }                                                                                    </span>
<span class="6768923637037837046" onmouseenter="enter('6768923637037837046');" onmouseout="out('6768923637037837046');" style=""> 225                 }, false                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 226         );                                                                                               </span>
<span class="2880871101947458708" onmouseenter="enter('2880871101947458708');" onmouseout="out('2880871101947458708');" style=""> 227         // queueWrite(new FileVerifyRequest((short) 0x0800));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228     }                                                                                                    </span>
<span  style=""> 229                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230     @Override                                                                                            </span>
<span class="-1651863958203525754" onmouseenter="enter('-1651863958203525754');" onmouseout="out('-1651863958203525754');" style=""> 231     public void syncNotificationSettings() {                                                             </span>
<span class="-5529433289440585150" onmouseenter="enter('-5529433289440585150');" onmouseout="out('-5529433289440585150');" style=""> 232         log(&quot;syncing notification settings...&quot;);                                                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 233         try {                                                                                            </span>
<span class="5735085668667966613" onmouseenter="enter('5735085668667966613');" onmouseout="out('5735085668667966613');" style=""> 234             PackageConfigHelper helper = new PackageConfigHelper(getContext());                          </span>
<span class="-6037969067402155252" onmouseenter="enter('-6037969067402155252');" onmouseout="out('-6037969067402155252');" style=""><abbr title=" 235             final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurations();"> 235             final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurati🔵</abbr></span>
<span class="318121021842844125" onmouseenter="enter('318121021842844125');" onmouseout="out('318121021842844125');" style=""> 236             if (configurations.size() == 1) configurations.add(configurations.get(0));                   </span>
<span class="8242503007416701520" onmouseenter="enter('8242503007416701520');" onmouseout="out('8242503007416701520');" style=""> 237             queueWrite(new NotificationFilterPutRequest(configurations, FossilWatchAdapter.this) {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 238                 @Override                                                                                </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 239                 public void onFilePut(boolean success) {                                                 </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 240                     super.onFilePut(success);                                                            </span>
<span  style=""> 241                                                                                                          </span>
<span class="5774595805314112369" onmouseenter="enter('5774595805314112369');" onmouseout="out('5774595805314112369');" style=""> 242                     if (!success) {                                                                      </span>
<span class="4016367561700232905" onmouseenter="enter('4016367561700232905');" onmouseout="out('4016367561700232905');" style=""> 243                         GB.toast(&quot;error writing notification settings&quot;, Toast.LENGTH_SHORT, GB.ERROR);   </span>
<span  style=""> 244                                                                                                          </span>
<span class="4156748068991402090" onmouseenter="enter('4156748068991402090');" onmouseout="out('4156748068991402090');" style=""> 245                         getDeviceSupport().getDevice().setState(GBDevice.State.NOT_CONNECTED);           </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 246                         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247                     }                                                                                    </span>
<span  style=""> 248                                                                                                          </span>
<span class="-5829793222040865313" onmouseenter="enter('-5829793222040865313');" onmouseout="out('-5829793222040865313');" style=""> 249                     getDeviceSupport().getDevice().setState(GBDevice.State.INITIALIZED);                 </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 250                     getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251                 }                                                                                        </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 252             }, false);                                                                                   </span>
<span class="-4956016385818808676" onmouseenter="enter('-4956016385818808676');" onmouseout="out('-4956016385818808676');" style=""> 253         } catch (GBException e) {                                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 254             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256     }                                                                                                    </span>
<span  style=""> 257                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258     @Override                                                                                            </span>
<span class="-1180224994468071186" onmouseenter="enter('-1180224994468071186');" onmouseout="out('-1180224994468071186');" style=""> 259     public void onTestNewFunction() {                                                                    </span>
<span class="-4659645277373204901" onmouseenter="enter('-4659645277373204901');" onmouseout="out('-4659645277373204901');" style=""> 260         queueWrite(new FilePutRequest(                                                                   </span>
<span class="7655426854237958477" onmouseenter="enter('7655426854237958477');" onmouseout="out('7655426854237958477');" style=""> 261                 (short) 0x0600,                                                                          </span>
<span class="-945414448365533169" onmouseenter="enter('-945414448365533169');" onmouseout="out('-945414448365533169');" style=""> 262                 new byte[]{                                                                              </span>
<span class="-2767736911652308244" onmouseenter="enter('-2767736911652308244');" onmouseout="out('-2767736911652308244');" style=""><abbr title=" 263                         (byte) 0x01, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x01, (byte) 0x24, (byte) 0x00, (byte) 0x85, (byte) 0x01, (byte) 0x30, (byte) 0x52, (byte) 0xFF, (byte) 0x26, (byte) 0x00, (byte) 0x03, (byte) 0x00, (byte) 0x09, (byte) 0x04, (byte) 0x01, (byte) 0x03, (byte) 0xA0, (byte) 0x00, (byte) 0x00, (byte) 0xA0, (byte) 0x00, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x05, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x02, (byte) 0x09, (byte) 0x04, (byte) 0x01, (byte) 0x03, (byte) 0x00, (byte) 0x24, (byte) 0x00, (byte) 0x00, (byte) 0x24, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x50, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0x1F, (byte) 0xBE, (byte) 0xB4, (byte) 0x1B"> 263                         (byte) 0x01, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x01, (byte) 0x24, (by🔵</abbr></span>
<span class="-4102417550988568311" onmouseenter="enter('-4102417550988568311');" onmouseout="out('-4102417550988568311');" style=""> 264                 },                                                                                       </span>
<span class="3475435761465163296" onmouseenter="enter('3475435761465163296');" onmouseout="out('3475435761465163296');" style=""> 265                 this)                                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 266         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269     @Override                                                                                            </span>
<span class="6345014031056245858" onmouseenter="enter('6345014031056245858');" onmouseout="out('6345014031056245858');" style=""> 270     public void setTimezoneOffsetMinutes(short offset) {                                                 </span>
<span class="1381779850157780775" onmouseenter="enter('1381779850157780775');" onmouseout="out('1381779850157780775');" style=""><abbr title=" 271         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offset), this){"> 271         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offse🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 272             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 273             public void onFilePut(boolean success) {                                                     </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 274                 super.onFilePut(success);                                                                </span>
<span  style=""> 275                                                                                                          </span>
<span class="-3135304625786003752" onmouseenter="enter('-3135304625786003752');" onmouseout="out('-3135304625786003752');" style=""> 276                 if(success) GB.toast(&quot;successfully updated timezone&quot;, Toast.LENGTH_SHORT, GB.INFO);      </span>
<span class="407242995437451917" onmouseenter="enter('407242995437451917');" onmouseout="out('407242995437451917');" style=""> 277                 else GB.toast(&quot;error updating timezone&quot;, Toast.LENGTH_SHORT, GB.ERROR);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 279         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280     }                                                                                                    </span>
<span  style=""> 281                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282     @Override                                                                                            </span>
<span class="-3054925419297870439" onmouseenter="enter('-3054925419297870439');" onmouseout="out('-3054925419297870439');" style=""> 283     public boolean supportsFindDevice() {                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 284         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285     }                                                                                                    </span>
<span  style=""> 286                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 287     @Override                                                                                            </span>
<span class="-8924444745054373900" onmouseenter="enter('-8924444745054373900');" onmouseout="out('-8924444745054373900');" style=""> 288     public boolean supportsExtendedVibration() {                                                         </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 289         String modelNumber = getDeviceSupport().getDevice().getModel();                                  </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 290         switch (modelNumber) {                                                                           </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 291             case &quot;HW.0.0&quot;:                                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 292                 return true;                                                                             </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 293             case &quot;HL.0.0&quot;:                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 294                 return false;                                                                            </span>
<span class="5071126073076406168" onmouseenter="enter('5071126073076406168');" onmouseout="out('5071126073076406168');" style=""> 295             case &quot;DN.1.0&quot;:                                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 296                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span class="-421459058626985428" onmouseenter="enter('-421459058626985428');" onmouseout="out('-421459058626985428');" style=""> 298         throw new UnsupportedOperationException(&quot;model &quot; + modelNumber + &quot; not supported&quot;);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299     }                                                                                                    </span>
<span  style=""> 300                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 301     @Override                                                                                            </span>
<span class="-1954248356050626516" onmouseenter="enter('-1954248356050626516');" onmouseout="out('-1954248356050626516');" style=""> 302     public boolean supportsActivityHand() {                                                              </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 303         String modelNumber = getDeviceSupport().getDevice().getModel();                                  </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 304         switch (modelNumber) {                                                                           </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 305             case &quot;HW.0.0&quot;:                                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 306                 return true;                                                                             </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 307             case &quot;HL.0.0&quot;:                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 308                 return false;                                                                            </span>
<span class="5071126073076406168" onmouseenter="enter('5071126073076406168');" onmouseout="out('5071126073076406168');" style=""> 309             case &quot;DN.1.0&quot;:                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 310                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311         }                                                                                                </span>
<span class="2217603857070485772" onmouseenter="enter('2217603857070485772');" onmouseout="out('2217603857070485772');" style=""> 312         throw new UnsupportedOperationException(&quot;Model &quot; + modelNumber + &quot; not supported&quot;);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313     }                                                                                                    </span>
<span  style=""> 314                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 315     @Override                                                                                            </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 316     public void onFetchActivityData() {                                                                  </span>
<span  style=""> 317                                                                                                          </span>
<span class="-4814314931431128201" onmouseenter="enter('-4814314931431128201');" onmouseout="out('-4814314931431128201');" style=""> 318         // queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this));     </span>
<span class="7149866427364516122" onmouseenter="enter('7149866427364516122');" onmouseout="out('7149866427364516122');" style=""> 319         setVibrationStrength((byte) 50);                                                                 </span>
<span class="-4426153981903290623" onmouseenter="enter('-4426153981903290623');" onmouseout="out('-4426153981903290623');" style=""> 320         // queueWrite(new FileCloseRequest((short) 0x0800));                                             </span>
<span class="-3476175542662741046" onmouseenter="enter('-3476175542662741046');" onmouseout="out('-3476175542662741046');" style=""> 321         // queueWrite(new ConfigurationGetRequest(this));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322     }                                                                                                    </span>
<span  style=""> 323                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 324     @Override                                                                                            </span>
<span class="-6473317888357330260" onmouseenter="enter('-6473317888357330260');" onmouseout="out('-6473317888357330260');" style=""> 325     public void onSetAlarms(ArrayList&lt;? extends Alarm&gt; alarms) {                                         </span>
<span class="8915602864017605399" onmouseenter="enter('8915602864017605399');" onmouseout="out('8915602864017605399');" style=""> 326        //  throw new RuntimeException(&quot;noope&quot;);                                                          </span>
<span class="-3338453742873126944" onmouseenter="enter('-3338453742873126944');" onmouseout="out('-3338453742873126944');" style=""><abbr title=" 327         ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm&gt; activeAlarms = new ArrayList&lt;&gt;();"> 327         ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alar🔵</abbr></span>
<span class="-1058634864445966530" onmouseenter="enter('-1058634864445966530');" onmouseout="out('-1058634864445966530');" style=""> 328         for (Alarm alarm : alarms){                                                                      </span>
<span class="3364921582725904587" onmouseenter="enter('3364921582725904587');" onmouseout="out('3364921582725904587');" style=""> 329             if(!alarm.getEnabled()) continue;                                                            </span>
<span class="7350238905639356483" onmouseenter="enter('7350238905639356483');" onmouseout="out('7350238905639356483');" style=""> 330             if(alarm.getRepetition() == 0){                                                              </span>
<span class="1010329707661683373" onmouseenter="enter('1010329707661683373');" onmouseout="out('1010329707661683373');" style=""><abbr title=" 331                 activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm("> 331                 activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.request🔵</abbr></span>
<span class="6634667328052747221" onmouseenter="enter('6634667328052747221');" onmouseout="out('6634667328052747221');" style=""> 332                         (byte) alarm.getMinute(),                                                        </span>
<span class="-7170114618937446573" onmouseenter="enter('-7170114618937446573');" onmouseout="out('-7170114618937446573');" style=""> 333                         (byte) alarm.getHour(),                                                          </span>
<span class="-9102250952265191217" onmouseenter="enter('-9102250952265191217');" onmouseout="out('-9102250952265191217');" style=""> 334                         false                                                                            </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 335                 ));                                                                                      </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 336                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337             }                                                                                            </span>
<span class="3462401228838343640" onmouseenter="enter('3462401228838343640');" onmouseout="out('3462401228838343640');" style=""> 338             int repitition = alarm.getRepetition();                                                      </span>
<span class="-4614965870659119471" onmouseenter="enter('-4614965870659119471');" onmouseout="out('-4614965870659119471');" style=""> 339             repitition = (repitition &lt;&lt; 1) | ((repitition &gt;&gt; 6) &amp; 1);                                    </span>
<span class="1010329707661683373" onmouseenter="enter('1010329707661683373');" onmouseout="out('1010329707661683373');" style=""><abbr title=" 340             activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm("> 340             activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fo🔵</abbr></span>
<span class="6634667328052747221" onmouseenter="enter('6634667328052747221');" onmouseout="out('6634667328052747221');" style=""> 341                     (byte) alarm.getMinute(),                                                            </span>
<span class="-7170114618937446573" onmouseenter="enter('-7170114618937446573');" onmouseout="out('-7170114618937446573');" style=""> 342                     (byte) alarm.getHour(),                                                              </span>
<span class="-5719985438468869692" onmouseenter="enter('-5719985438468869692');" onmouseout="out('-5719985438468869692');" style=""> 343                     (byte) repitition                                                                    </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 344             ));                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345         }                                                                                                </span>
<span class="-6913331624693843795" onmouseenter="enter('-6913331624693843795');" onmouseout="out('-6913331624693843795');" style=""><abbr title=" 346         queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm[0]), this){"> 346         queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.ser🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 347             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 348             public void onFilePut(boolean success) {                                                     </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 349                 super.onFilePut(success);                                                                </span>
<span class="628646030968312686" onmouseenter="enter('628646030968312686');" onmouseout="out('628646030968312686');" style=""> 350                 if(success) GB.toast(&quot;successfully set alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);            </span>
<span class="9084024333071151531" onmouseenter="enter('9084024333071151531');" onmouseout="out('9084024333071151531');" style=""> 351                 else  GB.toast(&quot;error setting alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 353         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354     }                                                                                                    </span>
<span  style=""> 355                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 356     @Override                                                                                            </span>
<span class="-5661496586383940029" onmouseenter="enter('-5661496586383940029');" onmouseout="out('-5661496586383940029');" style=""><abbr title=" 357     public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {"> 357     public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic🔵</abbr></span>
<span class="-4900030241533218440" onmouseenter="enter('-4900030241533218440');" onmouseout="out('-4900030241533218440');" style=""> 358         switch (characteristic.getUuid().toString()) {                                                   </span>
<span class="2882486716182506598" onmouseenter="enter('2882486716182506598');" onmouseout="out('2882486716182506598');" style=""> 359             case &quot;3dda0006-957f-7d4a-34a6-74696673696d&quot;: {                                               </span>
<span class="7175817890662018548" onmouseenter="enter('7175817890662018548');" onmouseout="out('7175817890662018548');" style=""> 360                 handleBackgroundCharacteristic(characteristic);                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 361                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362             }                                                                                            </span>
<span class="649082617183531070" onmouseenter="enter('649082617183531070');" onmouseout="out('649082617183531070');" style=""> 363             case &quot;3dda0002-957f-7d4a-34a6-74696673696d&quot;:                                                 </span>
<span class="8319159933550328631" onmouseenter="enter('8319159933550328631');" onmouseout="out('8319159933550328631');" style=""> 364             case &quot;3dda0004-957f-7d4a-34a6-74696673696d&quot;:                                                 </span>
<span class="-5903481329570957784" onmouseenter="enter('-5903481329570957784');" onmouseout="out('-5903481329570957784');" style=""> 365             case &quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;: {                                               </span>
<span class="-5883938812681693852" onmouseenter="enter('-5883938812681693852');" onmouseout="out('-5883938812681693852');" style=""> 366                 if (fossilRequest != null) {                                                             </span>
<span class="-4993966815400274209" onmouseenter="enter('-4993966815400274209');" onmouseout="out('-4993966815400274209');" style=""> 367                     boolean requestFinished;                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 368                     try {                                                                                </span>
<span class="4249996716865711478" onmouseenter="enter('4249996716865711478');" onmouseout="out('4249996716865711478');" style=""><abbr title=" 369                         if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;)) {"> 369                         if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-746966736🔵</abbr></span>
<span class="8942699938702017612" onmouseenter="enter('8942699938702017612');" onmouseout="out('8942699938702017612');" style=""> 370                             byte requestType = (byte) (characteristic.getValue()[0] &amp; 0x0F);             </span>
<span  style=""> 371                                                                                                          </span>
<span class="-8712152160849034238" onmouseenter="enter('-8712152160849034238');" onmouseout="out('-8712152160849034238');" style=""> 372                             if (requestType != 0x0A &amp;&amp; requestType != fossilRequest.getType()) {         </span>
<span class="1733667093660496118" onmouseenter="enter('1733667093660496118');" onmouseout="out('1733667093660496118');" style=""><abbr title=" 373                                 // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match current request &quot; + fossilRequest.getType());"> 373                                 // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not m🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375                         }                                                                                </span>
<span  style=""> 376                                                                                                          </span>
<span class="5816078039831981940" onmouseenter="enter('5816078039831981940');" onmouseout="out('5816078039831981940');" style=""> 377                         fossilRequest.handleResponse(characteristic);                                    </span>
<span class="7152511660707143387" onmouseenter="enter('7152511660707143387');" onmouseout="out('7152511660707143387');" style=""> 378                         requestFinished = fossilRequest.isFinished();                                    </span>
<span class="1200625667814236005" onmouseenter="enter('1200625667814236005');" onmouseout="out('1200625667814236005');" style=""> 379                     } catch (RuntimeException e) {                                                       </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 380                         e.printStackTrace();                                                             </span>
<span class="8111404309544580801" onmouseenter="enter('8111404309544580801');" onmouseout="out('8111404309544580801');" style=""> 381                         getDeviceSupport().notifiyException(e);                                          </span>
<span class="-564715308402870570" onmouseenter="enter('-564715308402870570');" onmouseout="out('-564715308402870570');" style=""> 382                         GB.toast(fossilRequest.getName() + &quot; failed&quot;, Toast.LENGTH_SHORT, GB.ERROR);     </span>
<span class="3752335005278324312" onmouseenter="enter('3752335005278324312');" onmouseout="out('3752335005278324312');" style=""> 383                         requestFinished = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384                     }                                                                                    </span>
<span  style=""> 385                                                                                                          </span>
<span class="-7801153188892822314" onmouseenter="enter('-7801153188892822314');" onmouseout="out('-7801153188892822314');" style=""> 386                     if (requestFinished) {                                                               </span>
<span class="-5854378050299916026" onmouseenter="enter('-5854378050299916026');" onmouseout="out('-5854378050299916026');" style=""> 387                         log(fossilRequest.getName() + &quot; finished&quot;);                                      </span>
<span class="-5183914389820007328" onmouseenter="enter('-5183914389820007328');" onmouseout="out('-5183914389820007328');" style=""> 388                         fossilRequest = null;                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 389                     } else {                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 390                         return true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392                 }                                                                                        </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 393                 queueNextRequest();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 396         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397     }                                                                                                    </span>
<span  style=""> 398                                                                                                          </span>
<span class="-2491152025454801834" onmouseenter="enter('-2491152025454801834');" onmouseout="out('-2491152025454801834');" style=""> 399     private void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {            </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 400         byte[] value = characteristic.getValue();                                                        </span>
<span class="-6451515600853577262" onmouseenter="enter('-6451515600853577262');" onmouseout="out('-6451515600853577262');" style=""> 401         switch (value[1]) {                                                                              </span>
<span class="4530359272320273514" onmouseenter="enter('4530359272320273514');" onmouseout="out('4530359272320273514');" style=""> 402             case 2: {                                                                                    </span>
<span class="-5775509307888090545" onmouseenter="enter('-5775509307888090545');" onmouseout="out('-5775509307888090545');" style=""> 403                 byte syncId = value[2];                                                                  </span>
<span class="-3857187101679284787" onmouseenter="enter('-3857187101679284787');" onmouseout="out('-3857187101679284787');" style=""><abbr title=" 404                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, DateFormat.getTimeInstance().format(new Date())));"> 404                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEA🔵</abbr></span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 405                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406             }                                                                                            </span>
<span class="-649725075995131999" onmouseenter="enter('-649725075995131999');" onmouseout="out('-649725075995131999');" style=""> 407             case 8: {                                                                                    </span>
<span class="8764450730856979153" onmouseenter="enter('8764450730856979153');" onmouseout="out('8764450730856979153');" style=""> 408                 if (value.length != 12) {                                                                </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 409                     throw new RuntimeException(&quot;wrong button message&quot;);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410                 }                                                                                        </span>
<span class="-9015138085074288507" onmouseenter="enter('-9015138085074288507');" onmouseout="out('-9015138085074288507');" style=""> 411                 int index = value[2] &amp; 0xFF;                                                             </span>
<span class="8477248390228805092" onmouseenter="enter('8477248390228805092');" onmouseout="out('8477248390228805092');" style=""> 412                 int button = value[9] &gt;&gt; 4 &amp; 0xFF;                                                       </span>
<span  style=""> 413                                                                                                          </span>
<span class="-1192023704312105569" onmouseenter="enter('-1192023704312105569');" onmouseout="out('-1192023704312105569');" style=""> 414                 if (index != this.lastButtonIndex) {                                                     </span>
<span class="-8860421732717926118" onmouseenter="enter('-8860421732717926118');" onmouseout="out('-8860421732717926118');" style=""> 415                     lastButtonIndex = index;                                                             </span>
<span class="616850018420783045" onmouseenter="enter('616850018420783045');" onmouseout="out('616850018420783045');" style=""> 416                     log(&quot;Button press on button &quot; + button);                                             </span>
<span  style=""> 417                                                                                                          </span>
<span class="-3627003721429111719" onmouseenter="enter('-3627003721429111719');" onmouseout="out('-3627003721429111719');" style=""> 418                     Intent i = new Intent(QHYBRID_EVENT_BUTTON_PRESS);                                   </span>
<span class="5900841887738464247" onmouseenter="enter('5900841887738464247');" onmouseout="out('5900841887738464247');" style=""> 419                     i.putExtra(&quot;BUTTON&quot;, button);                                                        </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 420                     getContext().sendBroadcast(i);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 422                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423             }                                                                                            </span>
<span  style=""> 424                                                                                                          </span>
<span class="-8844316619474261555" onmouseenter="enter('-8844316619474261555');" onmouseout="out('-8844316619474261555');" style=""> 425             case 5: {                                                                                    </span>
<span class="-6556110583117842759" onmouseenter="enter('-6556110583117842759');" onmouseout="out('-6556110583117842759');" style=""> 426                 if (value.length != 4) {                                                                 </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 427                     throw new RuntimeException(&quot;wrong button message&quot;);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428                 }                                                                                        </span>
<span class="5862908388096304141" onmouseenter="enter('5862908388096304141');" onmouseout="out('5862908388096304141');" style=""> 429                 int action = value[3];                                                                   </span>
<span  style=""> 430                                                                                                          </span>
<span class="-5250241124048538077" onmouseenter="enter('-5250241124048538077');" onmouseout="out('-5250241124048538077');" style=""> 431                 String actionString = &quot;SINGLE&quot;;                                                          </span>
<span class="67826696619814371" onmouseenter="enter('67826696619814371');" onmouseout="out('67826696619814371');" style=""> 432                 if(action == 3) actionString = &quot;DOUBLE&quot;;                                                 </span>
<span class="1325479382860759156" onmouseenter="enter('1325479382860759156');" onmouseout="out('1325479382860759156');" style=""> 433                 else if(action == 4) actionString = &quot;LONG&quot;;                                              </span>
<span  style=""> 434                                                                                                          </span>
<span class="-5362169280391406400" onmouseenter="enter('-5362169280391406400');" onmouseout="out('-5362169280391406400');" style=""> 435                 // lastButtonIndex = index;                                                              </span>
<span class="172457281232197615" onmouseenter="enter('172457281232197615');" onmouseout="out('172457281232197615');" style=""> 436                 log(actionString + &quot; button press&quot;);                                                     </span>
<span  style=""> 437                                                                                                          </span>
<span class="5153309691643237780" onmouseenter="enter('5153309691643237780');" onmouseout="out('5153309691643237780');" style=""> 438                 Intent i = new Intent(QHYBRID_EVENT_MULTI_BUTTON_PRESS);                                 </span>
<span class="-8244835457302439296" onmouseenter="enter('-8244835457302439296');" onmouseout="out('-8244835457302439296');" style=""> 439                 i.putExtra(&quot;ACTION&quot;, actionString);                                                      </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 440                 getContext().sendBroadcast(i);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 441                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 442             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444     }                                                                                                    </span>
<span  style=""> 445                                                                                                          </span>
<span  style=""> 446                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 447     @Override                                                                                            </span>
<span class="4059332836458884073" onmouseenter="enter('4059332836458884073');" onmouseout="out('4059332836458884073');" style=""> 448     public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {                                  </span>
<span class="-8277517528335740047" onmouseenter="enter('-8277517528335740047');" onmouseout="out('-8277517528335740047');" style=""> 449         super.onMtuChanged(gatt, mtu, status);                                                           </span>
<span class="5409658112384563066" onmouseenter="enter('5409658112384563066');" onmouseout="out('5409658112384563066');" style=""> 450         this.MTU = mtu;                                                                                  </span>
<span  style=""> 451                                                                                                          </span>
<span class="6930856753795234454" onmouseenter="enter('6930856753795234454');" onmouseout="out('6930856753795234454');" style=""> 452         getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_MTU, String.valueOf(mtu)));    </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 453         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                             </span>
<span  style=""> 454                                                                                                          </span>
<span class="-6512722495986332562" onmouseenter="enter('-6512722495986332562');" onmouseout="out('-6512722495986332562');" style=""> 455         ((RequestMtuRequest) fossilRequest).setFinished(true);                                           </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 456         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 457     }                                                                                                    </span>
<span  style=""> 458                                                                                                          </span>
<span class="1166233071174553578" onmouseenter="enter('1166233071174553578');" onmouseout="out('1166233071174553578');" style=""> 459     public void queueWrite(RequestMtuRequest request, boolean priorise) {                                </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style=""> 460         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="3110069276953366480" onmouseenter="enter('3110069276953366480');" onmouseout="out('3110069276953366480');" style=""> 461             new TransactionBuilder(&quot;requestMtu&quot;)                                                         </span>
<span class="-9055525033345558731" onmouseenter="enter('-9055525033345558731');" onmouseout="out('-9055525033345558731');" style=""> 462                     .requestMtu(512)                                                                     </span>
<span class="7475982186340408444" onmouseenter="enter('7475982186340408444');" onmouseout="out('7475982186340408444');" style=""> 463                     .queue(getDeviceSupport().getQueue());                                               </span>
<span  style=""> 464                                                                                                          </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 465             this.fossilRequest = request;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467     }                                                                                                    </span>
<span  style=""> 468                                                                                                          </span>
<span class="-3295655862750189353" onmouseenter="enter('-3295655862750189353');" onmouseout="out('-3295655862750189353');" style=""> 469     private void log(String message) {                                                                   </span>
<span class="9145561956568673670" onmouseenter="enter('9145561956568673670');" onmouseout="out('9145561956568673670');" style=""> 470         logger.debug(message);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471     }                                                                                                    </span>
<span  style=""> 472                                                                                                          </span>
<span class="-4576343442795999070" onmouseenter="enter('-4576343442795999070');" onmouseout="out('-4576343442795999070');" style=""> 473     public void queueWrite(SetDeviceStateRequest request, boolean priorise) {                            </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 474         if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                      </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 475             log(&quot;queing request: &quot; + request.getName());                                                 </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 476             if (priorise) {                                                                              </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 477                 requestQueue.add(0, request);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 478             } else {                                                                                     </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 479                 requestQueue.add(request);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480             }                                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 481             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482         }                                                                                                </span>
<span class="-2968591505263822982" onmouseenter="enter('-2968591505263822982');" onmouseout="out('-2968591505263822982');" style=""> 483         log(&quot;setting device state: &quot; + request.getDeviceState());                                        </span>
<span class="1880441583077609953" onmouseenter="enter('1880441583077609953');" onmouseout="out('1880441583077609953');" style=""> 484         getDeviceSupport().getDevice().setState(request.getDeviceState());                               </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 485         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                             </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 486         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487     }                                                                                                    </span>
<span  style=""> 488                                                                                                          </span>
<span class="3575675551777290585" onmouseenter="enter('3575675551777290585');" onmouseout="out('3575675551777290585');" style=""> 489     public void queueWrite(FossilRequest request, boolean priorise) {                                    </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 490         if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                      </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 491             log(&quot;queing request: &quot; + request.getName());                                                 </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 492             if (priorise) {                                                                              </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 493                 requestQueue.add(0, request);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 494             } else {                                                                                     </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 495                 requestQueue.add(request);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496             }                                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 497             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 498         }                                                                                                </span>
<span class="2316394992381890961" onmouseenter="enter('2316394992381890961');" onmouseout="out('2316394992381890961');" style=""> 499         log(&quot;executing request: &quot; + request.getName());                                                  </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 500         this.fossilRequest = request;                                                                    </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 501         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 501         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteri🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 502     }                                                                                                    </span>
<span  style=""> 503                                                                                                          </span>
<span class="-6311202063603005052" onmouseenter="enter('-6311202063603005052');" onmouseout="out('-6311202063603005052');" style=""> 504     public void queueWrite(Request request, boolean priorise) {                                          </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 505         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 505         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteri🔵</abbr></span>
<span  style=""> 506                                                                                                          </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 507         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508     }                                                                                                    </span>
<span  style=""> 509                                                                                                          </span>
<span class="-7292293664532347836" onmouseenter="enter('-7292293664532347836');" onmouseout="out('-7292293664532347836');" style=""> 510     void queueWrite(Request request) {                                                                   </span>
<span class="6767873303838952458" onmouseenter="enter('6767873303838952458');" onmouseout="out('6767873303838952458');" style=""> 511         if (request instanceof SetDeviceStateRequest)                                                    </span>
<span class="-624837134462991662" onmouseenter="enter('-624837134462991662');" onmouseout="out('-624837134462991662');" style=""> 512             queueWrite((SetDeviceStateRequest) request, false);                                          </span>
<span class="3794917961066152317" onmouseenter="enter('3794917961066152317');" onmouseout="out('3794917961066152317');" style=""> 513         else if (request instanceof RequestMtuRequest)                                                   </span>
<span class="-8094441310402055808" onmouseenter="enter('-8094441310402055808');" onmouseout="out('-8094441310402055808');" style=""> 514             queueWrite((RequestMtuRequest) request, false);                                              </span>
<span class="-383246438418114342" onmouseenter="enter('-383246438418114342');" onmouseout="out('-383246438418114342');" style=""> 515         else if (request instanceof FossilRequest) queueWrite((FossilRequest) request, false);           </span>
<span class="-7075409325550123790" onmouseenter="enter('-7075409325550123790');" onmouseout="out('-7075409325550123790');" style=""> 516         else queueWrite(request, false);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517     }                                                                                                    </span>
<span  style=""> 518                                                                                                          </span>
<span class="-5873341080833470590" onmouseenter="enter('-5873341080833470590');" onmouseout="out('-5873341080833470590');" style=""> 519     private void queueNextRequest() {                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 520         try {                                                                                            </span>
<span class="-8758486334100629151" onmouseenter="enter('-8758486334100629151');" onmouseout="out('-8758486334100629151');" style=""> 521             Request request = requestQueue.remove(0);                                                    </span>
<span class="-3953785809866853226" onmouseenter="enter('-3953785809866853226');" onmouseout="out('-3953785809866853226');" style=""> 522             queueWrite(request);                                                                         </span>
<span class="4743218385197812299" onmouseenter="enter('4743218385197812299');" onmouseout="out('4743218385197812299');" style=""> 523         } catch (IndexOutOfBoundsException e) {                                                          </span>
<span class="-1516621385279090264" onmouseenter="enter('-1516621385279090264');" onmouseout="out('-1516621385279090264');" style=""> 524             log(&quot;requestsQueue empty&quot;);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 525         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 526     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 527 }                                                                                                        </span>



</pre></td>
                            <td><pre><span class="2923613792184110803" onmouseenter="enter('2923613792184110803');" onmouseout="out('2923613792184110803');" style="">   1 package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil;                     </span>
<span  style="">   2                                                                                                          </span>
<span class="2440823415412133066" onmouseenter="enter('2440823415412133066');" onmouseout="out('2440823415412133066');" style="">   3 import android.bluetooth.BluetoothGatt;                                                                  </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   4 import android.bluetooth.BluetoothGattCharacteristic;                                                    </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5 import android.content.Intent;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   6 import android.os.Build;                                                                                 </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">   7 import android.util.Log;                                                                                 </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">   8 import android.widget.Toast;                                                                             </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">   9 import java.text.DateFormat;                                                                             </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  10 import java.util.ArrayList;                                                                              </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  11 import java.util.Date;                                                                                   </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  12 import java.util.GregorianCalendar;                                                                      </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  13 import java.util.TimeZone;                                                                               </span>
<span class="-1471644270559892265" onmouseenter="enter('-1471644270559892265');" onmouseout="out('-1471644270559892265');" style="">  14 import nodomain.freeyourgadget.gadgetbridge.GBException;                                                 </span>
<span class="-7483974346858162294" onmouseenter="enter('-7483974346858162294');" onmouseout="out('-7483974346858162294');" style="">  15 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.NotificationConfiguration;                   </span>
<span class="-7717522168233863917" onmouseenter="enter('-7717522168233863917');" onmouseout="out('-7717522168233863917');" style="">  16 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.PackageConfigHelper;                         </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  17 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  18 import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                 </span>
<span class="7672535166545256161" onmouseenter="enter('7672535166545256161');" onmouseout="out('7672535166545256161');" style="">  19 import nodomain.freeyourgadget.gadgetbridge.model.GenericItem;                                           </span>
<span class="3410519392510510669" onmouseenter="enter('3410519392510510669');" onmouseout="out('3410519392510510669');" style="">  20 import nodomain.freeyourgadget.gadgetbridge.service.btle.TransactionBuilder;                             </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  21 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                      </span>
<span class="3322723522373113781" onmouseenter="enter('3322723522373113781');" onmouseout="out('3322723522373113781');" style="">  22 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.WatchAdapter;                </span>
<span class="-2799508117160188769" onmouseenter="enter('-2799508117160188769');" onmouseout="out('-2799508117160188769');" style="">  23 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigFileBuilder;      </span>
<span class="3544192455451748258" onmouseenter="enter('3544192455451748258');" onmouseout="out('3544192455451748258');" style="">  24 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigPayload;          </span>
<span class="2090042171840798451" onmouseenter="enter('2090042171840798451');" onmouseout="out('2090042171840798451');" style="">  25 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.Request;                    </span>
<span class="-2455941194154498360" onmouseenter="enter('-2455941194154498360');" onmouseout="out('-2455941194154498360');" style="">  26 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.FossilRequest;       </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  27 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style=""><abbr title="  28 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  28 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="1031059801646776097" onmouseenter="enter('1031059801646776097');" onmouseout="out('1031059801646776097');" style=""><abbr title="  29 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetRequest;">  29 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetReques🔵</abbr></span>
<span class="-3957549361440696353" onmouseenter="enter('-3957549361440696353');" onmouseout="out('-3957549361440696353');" style=""><abbr title="  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetRequest;">  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetReques🔵</abbr></span>
<span class="-485489977593186472" onmouseenter="enter('-485489977593186472');" onmouseout="out('-485489977593186472');" style=""><abbr title="  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigurationGetRequest;">  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigur🔵</abbr></span>
<span class="8456474303681518874" onmouseenter="enter('8456474303681518874');" onmouseout="out('8456474303681518874');" style=""><abbr title="  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGetRequest;">  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="6063983850693379079" onmouseenter="enter('6063983850693379079');" onmouseout="out('6063983850693379079');" style=""><abbr title="  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest;">  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="-6160269686715032110" onmouseenter="enter('-6160269686715032110');" onmouseout="out('-6160269686715032110');" style="">  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FilePutRequest; </span>
<span class="-1028510867556361299" onmouseenter="enter('-1028510867556361299');" onmouseout="out('-1028510867556361299');" style=""><abbr title="  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilterPutRequest;">  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.Notifica🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-5865827548439034307" onmouseenter="enter('-5865827548439034307');" onmouseout="out('-5865827548439034307');" style="">  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.AnimationRequest;    </span>
<span class="-6260088196349644799" onmouseenter="enter('-6260088196349644799');" onmouseout="out('-6260088196349644799');" style="">  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.MoveHandsRequest;    </span>
<span class="6036958101215125198" onmouseenter="enter('6036958101215125198');" onmouseout="out('6036958101215125198');" style=""><abbr title="  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRequest;">  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRe🔵</abbr></span>
<span class="4138099863165019445" onmouseenter="enter('4138099863165019445');" onmouseout="out('4138099863165019445');" style=""><abbr title="  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlRequest;">  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlReq🔵</abbr></span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  41 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  42 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  43 import org.json.JSONException;                                                                           </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  44 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  45 import org.slf4j.LoggerFactory;                                                                          </span>
<span class="2499827060581337575" onmouseenter="enter('2499827060581337575');" onmouseout="out('2499827060581337575');" style=""><abbr title="  46 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRESS;">  46 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_B🔵</abbr></span>
<span class="5066855057518995879" onmouseenter="enter('5066855057518995879');" onmouseout="out('5066855057518995879');" style=""><abbr title="  47 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_MULTI_BUTTON_PRESS;">  47 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_M🔵</abbr></span>
<span  style="">  48                                                                                                          </span>
<span  style="">  49                                                                                                          </span>
<span class="-7525731093157952067" onmouseenter="enter('-7525731093157952067');" onmouseout="out('-7525731093157952067');" style="">  50 public class FossilWatchAdapter extends WatchAdapter {                                                   </span>
<span class="1195654240209704003" onmouseenter="enter('1195654240209704003');" onmouseout="out('1195654240209704003');" style="">  51     private ArrayList&lt;Request&gt; requestQueue = new ArrayList&lt;&gt;();                                         </span>
<span  style="">  52                                                                                                          </span>
<span class="2142601754793799589" onmouseenter="enter('2142601754793799589');" onmouseout="out('2142601754793799589');" style="">  53     private FossilRequest fossilRequest;                                                                 </span>
<span  style="">  54                                                                                                          </span>
<span class="-3015417213827192255" onmouseenter="enter('-3015417213827192255');" onmouseout="out('-3015417213827192255');" style="">  55     private int MTU = 23;                                                                                </span>
<span  style="">  56                                                                                                          </span>
<span class="7214207819631100316" onmouseenter="enter('7214207819631100316');" onmouseout="out('7214207819631100316');" style="">  57     private String ITEM_MTU = &quot;MTU&quot;;                                                                     </span>
<span  style="">  58                                                                                                          </span>
<span class="1753245896642996136" onmouseenter="enter('1753245896642996136');" onmouseout="out('1753245896642996136');" style="">  59     static public final String ITEM_BUTTONS = &quot;BUTTONS&quot;;                                                 </span>
<span  style="">  60                                                                                                          </span>
<span class="-8890462315568593084" onmouseenter="enter('-8890462315568593084');" onmouseout="out('-8890462315568593084');" style="">  61     private int lastButtonIndex = -1;                                                                    </span>
<span  style="">  62                                                                                                          </span>
<span class="6427921479659727638" onmouseenter="enter('6427921479659727638');" onmouseout="out('6427921479659727638');" style="">  63     Logger logger = LoggerFactory.getLogger(getClass());                                                 </span>
<span  style="">  64                                                                                                          </span>
<span class="-6132543960234271010" onmouseenter="enter('-6132543960234271010');" onmouseout="out('-6132543960234271010');" style="">  65     public FossilWatchAdapter(QHybridSupport deviceSupport) {                                            </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  66         super(deviceSupport);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67     }                                                                                                    </span>
<span  style="">  68                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  69     @Override                                                                                            </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  70     public void initialize() {                                                                           </span>
<span class="-4784435253982341327" onmouseenter="enter('-4784435253982341327');" onmouseout="out('-4784435253982341327');" style="">  71         playPairingAnimation();                                                                          </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  72         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="-529551863285165269" onmouseenter="enter('-529551863285165269');" onmouseout="out('-529551863285165269');" style="">  73             queueWrite(new RequestMtuRequest(512), false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74         }                                                                                                </span>
<span class="-331366053797168206" onmouseenter="enter('-331366053797168206');" onmouseout="out('-331366053797168206');" style="">  75         queueWrite(new ConfigurationGetRequest(this), false);                                            </span>
<span class="1508133748144491002" onmouseenter="enter('1508133748144491002');" onmouseout="out('1508133748144491002');" style="">  76         syncNotificationSettings();                                                                      </span>
<span class="3977096852409471998" onmouseenter="enter('3977096852409471998');" onmouseout="out('3977096852409471998');" style="">  77         queueWrite(new ButtonConfigurationGetRequest(this) {                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  78             @Override                                                                                    </span>
<span class="-1487684019435743701" onmouseenter="enter('-1487684019435743701');" onmouseout="out('-1487684019435743701');" style="">  79             public void onConfigurationsGet(ConfigPayload[] configs) {                                   </span>
<span class="-2601870964218793380" onmouseenter="enter('-2601870964218793380');" onmouseout="out('-2601870964218793380');" style="">  80                 super.onConfigurationsGet(configs);                                                      </span>
<span class="1670117978377592251" onmouseenter="enter('1670117978377592251');" onmouseout="out('1670117978377592251');" style="">  81                 JSONArray buttons = new JSONArray();                                                     </span>
<span class="4110487152716625421" onmouseenter="enter('4110487152716625421');" onmouseout="out('4110487152716625421');" style="">  82                 for (ConfigPayload payload : configs) {                                                  </span>
<span class="-3520175325757419245" onmouseenter="enter('-3520175325757419245');" onmouseout="out('-3520175325757419245');" style="">  83                     buttons.put(String.valueOf(payload));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84                 }                                                                                        </span>
<span class="-4316381087013812630" onmouseenter="enter('-4316381087013812630');" onmouseout="out('-4316381087013812630');" style="">  85                 String json = buttons.toString();                                                        </span>
<span class="-4616163105976568730" onmouseenter="enter('-4616163105976568730');" onmouseout="out('-4616163105976568730');" style="">  86                 getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_BUTTONS, json));       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  88         });                                                                                              </span>
<span class="5411003737943219307" onmouseenter="enter('5411003737943219307');" onmouseout="out('5411003737943219307');" style="">  89         queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED), false);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90     }                                                                                                    </span>
<span  style="">  91                                                                                                          </span>
<span class="3546647492997211457" onmouseenter="enter('3546647492997211457');" onmouseout="out('3546647492997211457');" style="">  92     public int getMTU() {                                                                                </span>
<span class="6365412335896587692" onmouseenter="enter('6365412335896587692');" onmouseout="out('6365412335896587692');" style="">  93         if (this.MTU &lt; 0) throw new RuntimeException(&quot;MTU not configured&quot;);                              </span>
<span  style="">  94                                                                                                          </span>
<span class="-7001790466828694007" onmouseenter="enter('-7001790466828694007');" onmouseout="out('-7001790466828694007');" style="">  95         return this.MTU;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96     }                                                                                                    </span>
<span  style="">  97                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  98     @Override                                                                                            </span>
<span class="6553842608624105970" onmouseenter="enter('6553842608624105970');" onmouseout="out('6553842608624105970');" style="">  99     public void playPairingAnimation() {                                                                 </span>
<span class="1320466205813454973" onmouseenter="enter('1320466205813454973');" onmouseout="out('1320466205813454973');" style=""> 100         queueWrite(new AnimationRequest(), false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101     }                                                                                                    </span>
<span  style=""> 102                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 103     @Override                                                                                            </span>
<span class="8521690812134896195" onmouseenter="enter('8521690812134896195');" onmouseout="out('8521690812134896195');" style=""> 104     public void playNotification(NotificationConfiguration config) {                                     </span>
<span class="-6783799527271845784" onmouseenter="enter('-6783799527271845784');" onmouseout="out('-6783799527271845784');" style=""> 105         if (config.getPackageName() == null) {                                                           </span>
<span class="-1149857065563503220" onmouseenter="enter('-1149857065563503220');" onmouseout="out('-1149857065563503220');" style=""> 106             log(&quot;package name in notification not set&quot;);                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 107             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108         }                                                                                                </span>
<span class="1897113475738739385" onmouseenter="enter('1897113475738739385');" onmouseout="out('1897113475738739385');" style=""> 109         queueWrite(new PlayNotificationRequest(config.getPackageName(), this), false);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110     }                                                                                                    </span>
<span  style=""> 111                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 112     @Override                                                                                            </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 113     public void setTime() {                                                                              </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 114         long millis = System.currentTimeMillis();                                                        </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 115         TimeZone zone = new GregorianCalendar().getTimeZone();                                           </span>
<span  style=""> 116                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 117         queueWrite(                                                                                      </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 118                 new ConfigurationPutRequest(                                                             </span>
<span class="3969253431822543743" onmouseenter="enter('3969253431822543743');" onmouseout="out('3969253431822543743');" style=""> 119                         new ConfigurationPutRequest.TimeConfigItem(                                      </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 120                                 (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),         </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 121                                 (short) (millis % 1000),                                                 </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 122                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 122                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 123                         ),                                                                               </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 124                         this), false                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 125         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126     }                                                                                                    </span>
<span  style=""> 127                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 128     @Override                                                                                            </span>
<span class="-8442583637732746352" onmouseenter="enter('-8442583637732746352');" onmouseout="out('-8442583637732746352');" style=""> 129     public void overwriteButtons() {                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 130         try {                                                                                            </span>
<span class="-1731301164298283181" onmouseenter="enter('-1731301164298283181');" onmouseout="out('-1731301164298283181');" style=""><abbr title=" 131             JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_BUTTONS).getDetails());"> 131             JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_🔵</abbr></span>
<span class="-3346202498142011652" onmouseenter="enter('-3346202498142011652');" onmouseout="out('-3346202498142011652');" style=""> 132             ConfigPayload[] payloads = new ConfigPayload[buttonConfigJson.length()];                     </span>
<span class="6308082735200953138" onmouseenter="enter('6308082735200953138');" onmouseout="out('6308082735200953138');" style=""> 133             for (int i = 0; i &lt; buttonConfigJson.length(); i++) {                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 134                 try {                                                                                    </span>
<span class="1160541087195237888" onmouseenter="enter('1160541087195237888');" onmouseout="out('1160541087195237888');" style=""> 135                     payloads[i] = ConfigPayload.valueOf(buttonConfigJson.getString(i));                  </span>
<span class="7040782648503474034" onmouseenter="enter('7040782648503474034');" onmouseout="out('7040782648503474034');" style=""> 136                 } catch (java.lang.IllegalArgumentException e) {                                         </span>
<span class="-1884999885194453074" onmouseenter="enter('-1884999885194453074');" onmouseout="out('-1884999885194453074');" style=""> 137                     payloads[i] = ConfigPayload.FORWARD_TO_PHONE;                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139             }                                                                                            </span>
<span class="8120873169825688251" onmouseenter="enter('8120873169825688251');" onmouseout="out('8120873169825688251');" style=""> 140             ConfigFileBuilder builder = new ConfigFileBuilder(payloads);                                 </span>
<span class="5816724810173834613" onmouseenter="enter('5816724810173834613');" onmouseout="out('5816724810173834613');" style=""><abbr title=" 141             FilePutRequest fileUploadRequets = new FilePutRequest(((short) (0x600)), builder.build(true), this) {"> 141             FilePutRequest fileUploadRequets = new FilePutRequest(((short) (0x600)), builder.build(true),🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 142                 @Override                                                                                </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 143                 public void onFilePut(boolean success) {                                                 </span>
<span class="-4612609939795462542" onmouseenter="enter('-4612609939795462542');" onmouseout="out('-4612609939795462542');" style=""> 144                     if (success) {                                                                       </span>
<span class="-980779450460475221" onmouseenter="enter('-980779450460475221');" onmouseout="out('-980779450460475221');" style=""><abbr title=" 145                         GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 145                         GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO)🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 146                     } else {                                                                             </span>
<span class="-7769223236197803316" onmouseenter="enter('-7769223236197803316');" onmouseout="out('-7769223236197803316');" style=""> 147                         GB.toast(&quot;error overwriting button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 150             };                                                                                           </span>
<span class="4426460983854065500" onmouseenter="enter('4426460983854065500');" onmouseout="out('4426460983854065500');" style=""> 151             queueWrite(fileUploadRequets);                                                               </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 152         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 153             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155     }                                                                                                    </span>
<span  style=""> 156                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157     @Override                                                                                            </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 158     public void setActivityHand(double progress) {                                                       </span>
<span class="-5003745590397881984" onmouseenter="enter('-5003745590397881984');" onmouseout="out('-5003745590397881984');" style=""> 159         queueWrite(new ConfigurationPutRequest(                                                          </span>
<span class="-1274087565432836677" onmouseenter="enter('-1274087565432836677');" onmouseout="out('-1274087565432836677');" style=""><abbr title=" 160                 new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress))),"> 160                 new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * 🔵</abbr></span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 161                 this                                                                                     </span>
<span class="7701925171622270948" onmouseenter="enter('7701925171622270948');" onmouseout="out('7701925171622270948');" style=""> 162         ), false);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="950037135509614227" onmouseenter="enter('950037135509614227');" onmouseout="out('950037135509614227');" style=""> 166     public void setHands(short hour, short minute) {                                                     </span>
<span class="-7308249657826701351" onmouseenter="enter('-7308249657826701351');" onmouseout="out('-7308249657826701351');" style=""> 167         queueWrite(new MoveHandsRequest(false, minute, hour, (short) -1), false);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="-7686458614870644313" onmouseenter="enter('-7686458614870644313');" onmouseout="out('-7686458614870644313');" style=""><abbr title=" 170     public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest.VibrationType vibration) {"> 170     public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.Play🔵</abbr></span>
<span class="7269778319868126302" onmouseenter="enter('7269778319868126302');" onmouseout="out('7269778319868126302');" style=""><abbr title=" 171         // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest(vibration, -1, -1));"> 171         // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.Pl🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172     }                                                                                                    </span>
<span  style=""> 173                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 174     @Override                                                                                            </span>
<span class="-4607916161418936141" onmouseenter="enter('-4607916161418936141');" onmouseout="out('-4607916161418936141');" style=""> 175     public void vibrateFindMyDevicePattern() {                                                           </span>
<span  style=""> 176                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177     }                                                                                                    </span>
<span  style=""> 178                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 179     @Override                                                                                            </span>
<span class="-6532646074151310772" onmouseenter="enter('-6532646074151310772');" onmouseout="out('-6532646074151310772');" style=""> 180     public void requestHandsControl() {                                                                  </span>
<span class="845470347332695933" onmouseenter="enter('845470347332695933');" onmouseout="out('845470347332695933');" style=""> 181         queueWrite(new RequestHandControlRequest(), false);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182     }                                                                                                    </span>
<span  style=""> 183                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 184     @Override                                                                                            </span>
<span class="5268567045225055789" onmouseenter="enter('5268567045225055789');" onmouseout="out('5268567045225055789');" style=""> 185     public void releaseHandsControl() {                                                                  </span>
<span class="303207396055204695" onmouseenter="enter('303207396055204695');" onmouseout="out('303207396055204695');" style=""> 186         queueWrite(new ReleaseHandsControlRequest(), false);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189     @Override                                                                                            </span>
<span class="7960938870834875611" onmouseenter="enter('7960938870834875611');" onmouseout="out('7960938870834875611');" style=""> 190     public void setStepGoal(int stepGoal) {                                                              </span>
<span class="6871573190650859359" onmouseenter="enter('6871573190650859359');" onmouseout="out('6871573190650859359');" style=""><abbr title=" 191         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this){"> 191         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGo🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 192             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 193             public void onFilePut(boolean success) {                                                     </span>
<span class="8515796703065844791" onmouseenter="enter('8515796703065844791');" onmouseout="out('8515796703065844791');" style=""> 194                 if(success) GB.toast(&quot;successfully updated step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);     </span>
<span class="7595940445245185427" onmouseenter="enter('7595940445245185427');" onmouseout="out('7595940445245185427');" style=""> 195                 else GB.toast(&quot;error updating step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196             }                                                                                            </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 197         }, false);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200     @Override                                                                                            </span>
<span class="1506969207519742362" onmouseenter="enter('1506969207519742362');" onmouseout="out('1506969207519742362');" style=""> 201     public void setVibrationStrength(short strength) {                                                   </span>
<span class="-7509590071108039539" onmouseenter="enter('-7509590071108039539');" onmouseout="out('-7509590071108039539');" style=""><abbr title=" 202         ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem((byte) strength);"> 202         ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthC🔵</abbr></span>
<span  style=""> 203                                                                                                          </span>
<span  style=""> 204                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 205         queueWrite(                                                                                      </span>
<span class="1955278548626520341" onmouseenter="enter('1955278548626520341');" onmouseout="out('1955278548626520341');" style=""><abbr title=" 206                 new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this){"> 206                 new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207                     @Override                                                                            </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 208                     public void onFilePut(boolean success) {                                             </span>
<span class="477960796911306833" onmouseenter="enter('477960796911306833');" onmouseout="out('477960796911306833');" style=""><abbr title=" 209                         if(success) GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 209                         if(success) GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHOR🔵</abbr></span>
<span class="3233078293080536978" onmouseenter="enter('3233078293080536978');" onmouseout="out('3233078293080536978');" style=""> 210                         else GB.toast(&quot;error updating vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO); </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211                     }                                                                                    </span>
<span class="6768923637037837046" onmouseenter="enter('6768923637037837046');" onmouseout="out('6768923637037837046');" style=""> 212                 }, false                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 213         );                                                                                               </span>
<span class="2880871101947458708" onmouseenter="enter('2880871101947458708');" onmouseout="out('2880871101947458708');" style=""> 214         // queueWrite(new FileVerifyRequest((short) 0x0800));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span  style=""> 216                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217     @Override                                                                                            </span>
<span class="-1651863958203525754" onmouseenter="enter('-1651863958203525754');" onmouseout="out('-1651863958203525754');" style=""> 218     public void syncNotificationSettings() {                                                             </span>
<span class="-5529433289440585150" onmouseenter="enter('-5529433289440585150');" onmouseout="out('-5529433289440585150');" style=""> 219         log(&quot;syncing notification settings...&quot;);                                                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 220         try {                                                                                            </span>
<span class="5735085668667966613" onmouseenter="enter('5735085668667966613');" onmouseout="out('5735085668667966613');" style=""> 221             PackageConfigHelper helper = new PackageConfigHelper(getContext());                          </span>
<span class="-6037969067402155252" onmouseenter="enter('-6037969067402155252');" onmouseout="out('-6037969067402155252');" style=""><abbr title=" 222             final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurations();"> 222             final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurati🔵</abbr></span>
<span class="-8341266309193357488" onmouseenter="enter('-8341266309193357488');" onmouseout="out('-8341266309193357488');" style=""> 223             if (configurations.size() == 1) {                                                            </span>
<span class="-7554803624612335402" onmouseenter="enter('-7554803624612335402');" onmouseout="out('-7554803624612335402');" style=""> 224                 configurations.add(configurations.get(0));                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225             }                                                                                            </span>
<span class="-6880881624017570035" onmouseenter="enter('-6880881624017570035');" onmouseout="out('-6880881624017570035');" style=""> 226             queueWrite(new NotificationFilterPutRequest(configurations, this) {                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 227                 @Override                                                                                </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 228                 public void onFilePut(boolean success) {                                                 </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 229                     super.onFilePut(success);                                                            </span>
<span class="5774595805314112369" onmouseenter="enter('5774595805314112369');" onmouseout="out('5774595805314112369');" style=""> 230                     if (!success) {                                                                      </span>
<span class="4016367561700232905" onmouseenter="enter('4016367561700232905');" onmouseout="out('4016367561700232905');" style=""> 231                         GB.toast(&quot;error writing notification settings&quot;, Toast.LENGTH_SHORT, GB.ERROR);   </span>
<span class="4156748068991402090" onmouseenter="enter('4156748068991402090');" onmouseout="out('4156748068991402090');" style=""> 232                         getDeviceSupport().getDevice().setState(GBDevice.State.NOT_CONNECTED);           </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 233                         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234                     }                                                                                    </span>
<span class="-5829793222040865313" onmouseenter="enter('-5829793222040865313');" onmouseout="out('-5829793222040865313');" style=""> 235                     getDeviceSupport().getDevice().setState(GBDevice.State.INITIALIZED);                 </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 236                     getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237                 }                                                                                        </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 238             }, false);                                                                                   </span>
<span class="-4956016385818808676" onmouseenter="enter('-4956016385818808676');" onmouseout="out('-4956016385818808676');" style=""> 239         } catch (GBException e) {                                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 240             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242     }                                                                                                    </span>
<span  style=""> 243                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 244     @Override                                                                                            </span>
<span class="-1180224994468071186" onmouseenter="enter('-1180224994468071186');" onmouseout="out('-1180224994468071186');" style=""> 245     public void onTestNewFunction() {                                                                    </span>
<span class="4178894920992621761" onmouseenter="enter('4178894920992621761');" onmouseout="out('4178894920992621761');" style=""><abbr title=" 246         queueWrite(new FilePutRequest(((short) (0x600)), new byte[]{ ((byte) (0x1)), ((byte) (0x0)), ((byte) (0x8)), ((byte) (0x1)), ((byte) (0x1)), ((byte) (0x24)), ((byte) (0x0)), ((byte) (0x85)), ((byte) (0x1)), ((byte) (0x30)), ((byte) (0x52)), ((byte) (0xff)), ((byte) (0x26)), ((byte) (0x0)), ((byte) (0x3)), ((byte) (0x0)), ((byte) (0x9)), ((byte) (0x4)), ((byte) (0x1)), ((byte) (0x3)), ((byte) (0xa0)), ((byte) (0x0)), ((byte) (0x0)), ((byte) (0xa0)), ((byte) (0x0)), ((byte) (0x0)), ((byte) (0x8)), ((byte) (0x1)), ((byte) (0x5)), ((byte) (0x0)), ((byte) (0x93)), ((byte) (0x0)), ((byte) (0x2)), ((byte) (0x9)), ((byte) (0x4)), ((byte) (0x1)), ((byte) (0x3)), ((byte) (0x0)), ((byte) (0x24)), ((byte) (0x0)), ((byte) (0x0)), ((byte) (0x24)), ((byte) (0x0)), ((byte) (0x8)), ((byte) (0x1)), ((byte) (0x50)), ((byte) (0x0)), ((byte) (0x1)), ((byte) (0x0)), ((byte) (0x1f)), ((byte) (0xbe)), ((byte) (0xb4)), ((byte) (0x1b)) }, this));"> 246         queueWrite(new FilePutRequest(((short) (0x600)), new byte[]{ ((byte) (0x1)), ((byte) (0x0)), ((by🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247     }                                                                                                    </span>
<span  style=""> 248                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 249     @Override                                                                                            </span>
<span class="6345014031056245858" onmouseenter="enter('6345014031056245858');" onmouseout="out('6345014031056245858');" style=""> 250     public void setTimezoneOffsetMinutes(short offset) {                                                 </span>
<span class="-6668419566734660760" onmouseenter="enter('-6668419566734660760');" onmouseout="out('-6668419566734660760');" style=""><abbr title=" 251         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offset), this) {"> 251         queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offse🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 253             public void onFilePut(boolean success) {                                                     </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 254                 super.onFilePut(success);                                                                </span>
<span class="-4612609939795462542" onmouseenter="enter('-4612609939795462542');" onmouseout="out('-4612609939795462542');" style=""> 255                 if (success) {                                                                           </span>
<span class="778462374315818772" onmouseenter="enter('778462374315818772');" onmouseout="out('778462374315818772');" style=""> 256                     GB.toast(&quot;successfully updated timezone&quot;, Toast.LENGTH_SHORT, GB.INFO);              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 257                 } else {                                                                                 </span>
<span class="-1085650882774865435" onmouseenter="enter('-1085650882774865435');" onmouseout="out('-1085650882774865435');" style=""> 258                     GB.toast(&quot;error updating timezone&quot;, Toast.LENGTH_SHORT, GB.ERROR);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 261         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262     }                                                                                                    </span>
<span  style=""> 263                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264     @Override                                                                                            </span>
<span class="-3054925419297870439" onmouseenter="enter('-3054925419297870439');" onmouseout="out('-3054925419297870439');" style=""> 265     public boolean supportsFindDevice() {                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 266         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269     @Override                                                                                            </span>
<span class="-8924444745054373900" onmouseenter="enter('-8924444745054373900');" onmouseout="out('-8924444745054373900');" style=""> 270     public boolean supportsExtendedVibration() {                                                         </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 271         String modelNumber = getDeviceSupport().getDevice().getModel();                                  </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 272         switch (modelNumber) {                                                                           </span>
<span class="4243966700581779920" onmouseenter="enter('4243966700581779920');" onmouseout="out('4243966700581779920');" style=""> 273             case &quot;HW.0.0&quot; :                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 274                 return true;                                                                             </span>
<span class="-3228515466532949703" onmouseenter="enter('-3228515466532949703');" onmouseout="out('-3228515466532949703');" style=""> 275             case &quot;HL.0.0&quot; :                                                                              </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 276                 return false;                                                                            </span>
<span class="-5617965010274472801" onmouseenter="enter('-5617965010274472801');" onmouseout="out('-5617965010274472801');" style=""> 277             case &quot;DN.1.0&quot; :                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 278                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279         }                                                                                                </span>
<span class="1428966692334398826" onmouseenter="enter('1428966692334398826');" onmouseout="out('1428966692334398826');" style=""> 280         throw new UnsupportedOperationException((&quot;model &quot; + modelNumber) + &quot; not supported&quot;);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281     }                                                                                                    </span>
<span  style=""> 282                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 283     @Override                                                                                            </span>
<span class="-1954248356050626516" onmouseenter="enter('-1954248356050626516');" onmouseout="out('-1954248356050626516');" style=""> 284     public boolean supportsActivityHand() {                                                              </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 285         String modelNumber = getDeviceSupport().getDevice().getModel();                                  </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 286         switch (modelNumber) {                                                                           </span>
<span class="4243966700581779920" onmouseenter="enter('4243966700581779920');" onmouseout="out('4243966700581779920');" style=""> 287             case &quot;HW.0.0&quot; :                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 288                 return true;                                                                             </span>
<span class="-3228515466532949703" onmouseenter="enter('-3228515466532949703');" onmouseout="out('-3228515466532949703');" style=""> 289             case &quot;HL.0.0&quot; :                                                                              </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 290                 return false;                                                                            </span>
<span class="-5617965010274472801" onmouseenter="enter('-5617965010274472801');" onmouseout="out('-5617965010274472801');" style=""> 291             case &quot;DN.1.0&quot; :                                                                              </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 292                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span class="-7280320537167378360" onmouseenter="enter('-7280320537167378360');" onmouseout="out('-7280320537167378360');" style=""> 294         throw new UnsupportedOperationException((&quot;Model &quot; + modelNumber) + &quot; not supported&quot;);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295     }                                                                                                    </span>
<span  style=""> 296                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 297     @Override                                                                                            </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 298     public void onFetchActivityData() {                                                                  </span>
<span  style=""> 299                                                                                                          </span>
<span class="-4814314931431128201" onmouseenter="enter('-4814314931431128201');" onmouseout="out('-4814314931431128201');" style=""> 300         // queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this));     </span>
<span class="7149866427364516122" onmouseenter="enter('7149866427364516122');" onmouseout="out('7149866427364516122');" style=""> 301         setVibrationStrength((byte) 50);                                                                 </span>
<span class="-4426153981903290623" onmouseenter="enter('-4426153981903290623');" onmouseout="out('-4426153981903290623');" style=""> 302         // queueWrite(new FileCloseRequest((short) 0x0800));                                             </span>
<span class="-3476175542662741046" onmouseenter="enter('-3476175542662741046');" onmouseout="out('-3476175542662741046');" style=""> 303         // queueWrite(new ConfigurationGetRequest(this));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304     }                                                                                                    </span>
<span  style=""> 305                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 306     @Override                                                                                            </span>
<span class="-6473317888357330260" onmouseenter="enter('-6473317888357330260');" onmouseout="out('-6473317888357330260');" style=""> 307     public void onSetAlarms(ArrayList&lt;? extends Alarm&gt; alarms) {                                         </span>
<span class="7002627598429979022" onmouseenter="enter('7002627598429979022');" onmouseout="out('7002627598429979022');" style=""> 308         // throw new RuntimeException(&quot;noope&quot;);                                                          </span>
<span class="-3338453742873126944" onmouseenter="enter('-3338453742873126944');" onmouseout="out('-3338453742873126944');" style=""><abbr title=" 309         ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm&gt; activeAlarms = new ArrayList&lt;&gt;();"> 309         ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alar🔵</abbr></span>
<span class="-7996805109404385335" onmouseenter="enter('-7996805109404385335');" onmouseout="out('-7996805109404385335');" style=""> 310         for (Alarm alarm : alarms) {                                                                     </span>
<span class="8036817204177096784" onmouseenter="enter('8036817204177096784');" onmouseout="out('8036817204177096784');" style=""> 311             if (!alarm.getEnabled()) {                                                                   </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 312                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313             }                                                                                            </span>
<span class="-6509808084396288977" onmouseenter="enter('-6509808084396288977');" onmouseout="out('-6509808084396288977');" style=""> 314             if (alarm.getRepetition() == 0) {                                                            </span>
<span class="-5277800552284041812" onmouseenter="enter('-5277800552284041812');" onmouseout="out('-5277800552284041812');" style=""><abbr title=" 315                 activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm(((byte) (alarm.getMinute())), ((byte) (alarm.getHour())), false));"> 315                 activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.request🔵</abbr></span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 316                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317             }                                                                                            </span>
<span class="3462401228838343640" onmouseenter="enter('3462401228838343640');" onmouseout="out('3462401228838343640');" style=""> 318             int repitition = alarm.getRepetition();                                                      </span>
<span class="-4614965870659119471" onmouseenter="enter('-4614965870659119471');" onmouseout="out('-4614965870659119471');" style=""> 319             repitition = (repitition &lt;&lt; 1) | ((repitition &gt;&gt; 6) &amp; 1);                                    </span>
<span class="-3219577975632772977" onmouseenter="enter('-3219577975632772977');" onmouseout="out('-3219577975632772977');" style=""><abbr title=" 320             activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm(((byte) (alarm.getMinute())), ((byte) (alarm.getHour())), ((byte) (repitition))));"> 320             activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fo🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321         }                                                                                                </span>
<span class="-7804300533841802475" onmouseenter="enter('-7804300533841802475');" onmouseout="out('-7804300533841802475');" style=""><abbr title=" 322         queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm[0]), this) {"> 322         queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.ser🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 323             @Override                                                                                    </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 324             public void onFilePut(boolean success) {                                                     </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 325                 super.onFilePut(success);                                                                </span>
<span class="-4612609939795462542" onmouseenter="enter('-4612609939795462542');" onmouseout="out('-4612609939795462542');" style=""> 326                 if (success) {                                                                           </span>
<span class="1918500691278320" onmouseenter="enter('1918500691278320');" onmouseout="out('1918500691278320');" style=""> 327                     GB.toast(&quot;successfully set alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 328                 } else {                                                                                 </span>
<span class="-8612854828113858264" onmouseenter="enter('-8612854828113858264');" onmouseout="out('-8612854828113858264');" style=""> 329                     GB.toast(&quot;error setting alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 332         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333     }                                                                                                    </span>
<span  style=""> 334                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 335     @Override                                                                                            </span>
<span class="-5661496586383940029" onmouseenter="enter('-5661496586383940029');" onmouseout="out('-5661496586383940029');" style=""><abbr title=" 336     public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {"> 336     public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic🔵</abbr></span>
<span class="-4900030241533218440" onmouseenter="enter('-4900030241533218440');" onmouseout="out('-4900030241533218440');" style=""> 337         switch (characteristic.getUuid().toString()) {                                                   </span>
<span class="2882486716182506598" onmouseenter="enter('2882486716182506598');" onmouseout="out('2882486716182506598');" style=""> 338             case &quot;3dda0006-957f-7d4a-34a6-74696673696d&quot;: {                                               </span>
<span class="7175817890662018548" onmouseenter="enter('7175817890662018548');" onmouseout="out('7175817890662018548');" style=""> 339                 handleBackgroundCharacteristic(characteristic);                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 340                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341             }                                                                                            </span>
<span class="649082617183531070" onmouseenter="enter('649082617183531070');" onmouseout="out('649082617183531070');" style=""> 342             case &quot;3dda0002-957f-7d4a-34a6-74696673696d&quot;:                                                 </span>
<span class="8319159933550328631" onmouseenter="enter('8319159933550328631');" onmouseout="out('8319159933550328631');" style=""> 343             case &quot;3dda0004-957f-7d4a-34a6-74696673696d&quot;:                                                 </span>
<span class="-5903481329570957784" onmouseenter="enter('-5903481329570957784');" onmouseout="out('-5903481329570957784');" style=""> 344             case &quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;: {                                               </span>
<span class="-5883938812681693852" onmouseenter="enter('-5883938812681693852');" onmouseout="out('-5883938812681693852');" style=""> 345                 if (fossilRequest != null) {                                                             </span>
<span class="-4993966815400274209" onmouseenter="enter('-4993966815400274209');" onmouseout="out('-4993966815400274209');" style=""> 346                     boolean requestFinished;                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 347                     try {                                                                                </span>
<span class="4249996716865711478" onmouseenter="enter('4249996716865711478');" onmouseout="out('4249996716865711478');" style=""><abbr title=" 348                         if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;)) {"> 348                         if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-746966736🔵</abbr></span>
<span class="8942699938702017612" onmouseenter="enter('8942699938702017612');" onmouseout="out('8942699938702017612');" style=""> 349                             byte requestType = (byte) (characteristic.getValue()[0] &amp; 0x0F);             </span>
<span  style=""> 350                                                                                                          </span>
<span class="-8712152160849034238" onmouseenter="enter('-8712152160849034238');" onmouseout="out('-8712152160849034238');" style=""> 351                             if (requestType != 0x0A &amp;&amp; requestType != fossilRequest.getType()) {         </span>
<span class="1733667093660496118" onmouseenter="enter('1733667093660496118');" onmouseout="out('1733667093660496118');" style=""><abbr title=" 352                                 // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match current request &quot; + fossilRequest.getType());"> 352                                 // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not m🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354                         }                                                                                </span>
<span  style=""> 355                                                                                                          </span>
<span class="5816078039831981940" onmouseenter="enter('5816078039831981940');" onmouseout="out('5816078039831981940');" style=""> 356                         fossilRequest.handleResponse(characteristic);                                    </span>
<span class="7152511660707143387" onmouseenter="enter('7152511660707143387');" onmouseout="out('7152511660707143387');" style=""> 357                         requestFinished = fossilRequest.isFinished();                                    </span>
<span class="1200625667814236005" onmouseenter="enter('1200625667814236005');" onmouseout="out('1200625667814236005');" style=""> 358                     } catch (RuntimeException e) {                                                       </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 359                         e.printStackTrace();                                                             </span>
<span class="8111404309544580801" onmouseenter="enter('8111404309544580801');" onmouseout="out('8111404309544580801');" style=""> 360                         getDeviceSupport().notifiyException(e);                                          </span>
<span class="-564715308402870570" onmouseenter="enter('-564715308402870570');" onmouseout="out('-564715308402870570');" style=""> 361                         GB.toast(fossilRequest.getName() + &quot; failed&quot;, Toast.LENGTH_SHORT, GB.ERROR);     </span>
<span class="3752335005278324312" onmouseenter="enter('3752335005278324312');" onmouseout="out('3752335005278324312');" style=""> 362                         requestFinished = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363                     }                                                                                    </span>
<span  style=""> 364                                                                                                          </span>
<span class="-7801153188892822314" onmouseenter="enter('-7801153188892822314');" onmouseout="out('-7801153188892822314');" style=""> 365                     if (requestFinished) {                                                               </span>
<span class="-5854378050299916026" onmouseenter="enter('-5854378050299916026');" onmouseout="out('-5854378050299916026');" style=""> 366                         log(fossilRequest.getName() + &quot; finished&quot;);                                      </span>
<span class="-5183914389820007328" onmouseenter="enter('-5183914389820007328');" onmouseout="out('-5183914389820007328');" style=""> 367                         fossilRequest = null;                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 368                     } else {                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 369                         return true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371                 }                                                                                        </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 372                 queueNextRequest();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 375         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376     }                                                                                                    </span>
<span  style=""> 377                                                                                                          </span>
<span class="-2491152025454801834" onmouseenter="enter('-2491152025454801834');" onmouseout="out('-2491152025454801834');" style=""> 378     private void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {            </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 379         byte[] value = characteristic.getValue();                                                        </span>
<span class="-6451515600853577262" onmouseenter="enter('-6451515600853577262');" onmouseout="out('-6451515600853577262');" style=""> 380         switch (value[1]) {                                                                              </span>
<span class="3919028143026302499" onmouseenter="enter('3919028143026302499');" onmouseout="out('3919028143026302499');" style=""> 381             case 2 :                                                                                     </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 382                 {                                                                                        </span>
<span class="-5775509307888090545" onmouseenter="enter('-5775509307888090545');" onmouseout="out('-5775509307888090545');" style=""> 383                     byte syncId = value[2];                                                              </span>
<span class="-3857187101679284787" onmouseenter="enter('-3857187101679284787');" onmouseout="out('-3857187101679284787');" style=""><abbr title=" 384                     getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, DateFormat.getTimeInstance().format(new Date())));"> 384                     getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST🔵</abbr></span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 385                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386                 }                                                                                        </span>
<span class="-3018355383902627497" onmouseenter="enter('-3018355383902627497');" onmouseout="out('-3018355383902627497');" style=""> 387             case 8 :                                                                                     </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 388                 {                                                                                        </span>
<span class="8764450730856979153" onmouseenter="enter('8764450730856979153');" onmouseout="out('8764450730856979153');" style=""> 389                     if (value.length != 12) {                                                            </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 390                         throw new RuntimeException(&quot;wrong button message&quot;);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391                     }                                                                                    </span>
<span class="-6114319991273029635" onmouseenter="enter('-6114319991273029635');" onmouseout="out('-6114319991273029635');" style=""> 392                     int index = value[2] &amp; 0xff;                                                         </span>
<span class="-974676698646538219" onmouseenter="enter('-974676698646538219');" onmouseout="out('-974676698646538219');" style=""> 393                     int button = (value[9] &gt;&gt; 4) &amp; 0xff;                                                 </span>
<span class="-1192023704312105569" onmouseenter="enter('-1192023704312105569');" onmouseout="out('-1192023704312105569');" style=""> 394                     if (index != this.lastButtonIndex) {                                                 </span>
<span class="-8860421732717926118" onmouseenter="enter('-8860421732717926118');" onmouseout="out('-8860421732717926118');" style=""> 395                         lastButtonIndex = index;                                                         </span>
<span class="616850018420783045" onmouseenter="enter('616850018420783045');" onmouseout="out('616850018420783045');" style=""> 396                         log(&quot;Button press on button &quot; + button);                                         </span>
<span class="-3627003721429111719" onmouseenter="enter('-3627003721429111719');" onmouseout="out('-3627003721429111719');" style=""> 397                         Intent i = new Intent(QHYBRID_EVENT_BUTTON_PRESS);                               </span>
<span class="5900841887738464247" onmouseenter="enter('5900841887738464247');" onmouseout="out('5900841887738464247');" style=""> 398                         i.putExtra(&quot;BUTTON&quot;, button);                                                    </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 399                         getContext().sendBroadcast(i);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400                     }                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 401                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402                 }                                                                                        </span>
<span class="-6820913707321859597" onmouseenter="enter('-6820913707321859597');" onmouseout="out('-6820913707321859597');" style=""> 403             case 5 :                                                                                     </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 404                 {                                                                                        </span>
<span class="-6556110583117842759" onmouseenter="enter('-6556110583117842759');" onmouseout="out('-6556110583117842759');" style=""> 405                     if (value.length != 4) {                                                             </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 406                         throw new RuntimeException(&quot;wrong button message&quot;);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407                     }                                                                                    </span>
<span class="5862908388096304141" onmouseenter="enter('5862908388096304141');" onmouseout="out('5862908388096304141');" style=""> 408                     int action = value[3];                                                               </span>
<span class="-5250241124048538077" onmouseenter="enter('-5250241124048538077');" onmouseout="out('-5250241124048538077');" style=""> 409                     String actionString = &quot;SINGLE&quot;;                                                      </span>
<span class="-8433390674213081843" onmouseenter="enter('-8433390674213081843');" onmouseout="out('-8433390674213081843');" style=""> 410                     if (action == 3) {                                                                   </span>
<span class="4972274241683897128" onmouseenter="enter('4972274241683897128');" onmouseout="out('4972274241683897128');" style=""> 411                         actionString = &quot;DOUBLE&quot;;                                                         </span>
<span class="3470319116340840024" onmouseenter="enter('3470319116340840024');" onmouseout="out('3470319116340840024');" style=""> 412                     } else if (action == 4) {                                                            </span>
<span class="-3360005038874083100" onmouseenter="enter('-3360005038874083100');" onmouseout="out('-3360005038874083100');" style=""> 413                         actionString = &quot;LONG&quot;;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414                     }                                                                                    </span>
<span class="-5362169280391406400" onmouseenter="enter('-5362169280391406400');" onmouseout="out('-5362169280391406400');" style=""> 415                     // lastButtonIndex = index;                                                          </span>
<span class="172457281232197615" onmouseenter="enter('172457281232197615');" onmouseout="out('172457281232197615');" style=""> 416                     log(actionString + &quot; button press&quot;);                                                 </span>
<span class="5153309691643237780" onmouseenter="enter('5153309691643237780');" onmouseout="out('5153309691643237780');" style=""> 417                     Intent i = new Intent(QHYBRID_EVENT_MULTI_BUTTON_PRESS);                             </span>
<span class="-8244835457302439296" onmouseenter="enter('-8244835457302439296');" onmouseout="out('-8244835457302439296');" style=""> 418                     i.putExtra(&quot;ACTION&quot;, actionString);                                                  </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 419                     getContext().sendBroadcast(i);                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 420                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423     }                                                                                                    </span>
<span  style=""> 424                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 425     @Override                                                                                            </span>
<span class="4059332836458884073" onmouseenter="enter('4059332836458884073');" onmouseout="out('4059332836458884073');" style=""> 426     public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {                                  </span>
<span class="-8277517528335740047" onmouseenter="enter('-8277517528335740047');" onmouseout="out('-8277517528335740047');" style=""> 427         super.onMtuChanged(gatt, mtu, status);                                                           </span>
<span class="5409658112384563066" onmouseenter="enter('5409658112384563066');" onmouseout="out('5409658112384563066');" style=""> 428         this.MTU = mtu;                                                                                  </span>
<span  style=""> 429                                                                                                          </span>
<span class="6930856753795234454" onmouseenter="enter('6930856753795234454');" onmouseout="out('6930856753795234454');" style=""> 430         getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_MTU, String.valueOf(mtu)));    </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 431         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                             </span>
<span  style=""> 432                                                                                                          </span>
<span class="-6512722495986332562" onmouseenter="enter('-6512722495986332562');" onmouseout="out('-6512722495986332562');" style=""> 433         ((RequestMtuRequest) fossilRequest).setFinished(true);                                           </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 434         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 435     }                                                                                                    </span>
<span  style=""> 436                                                                                                          </span>
<span class="1166233071174553578" onmouseenter="enter('1166233071174553578');" onmouseout="out('1166233071174553578');" style=""> 437     public void queueWrite(RequestMtuRequest request, boolean priorise) {                                </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style=""> 438         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="3110069276953366480" onmouseenter="enter('3110069276953366480');" onmouseout="out('3110069276953366480');" style=""> 439             new TransactionBuilder(&quot;requestMtu&quot;)                                                         </span>
<span class="-9055525033345558731" onmouseenter="enter('-9055525033345558731');" onmouseout="out('-9055525033345558731');" style=""> 440                     .requestMtu(512)                                                                     </span>
<span class="7475982186340408444" onmouseenter="enter('7475982186340408444');" onmouseout="out('7475982186340408444');" style=""> 441                     .queue(getDeviceSupport().getQueue());                                               </span>
<span  style=""> 442                                                                                                          </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 443             this.fossilRequest = request;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445     }                                                                                                    </span>
<span  style=""> 446                                                                                                          </span>
<span class="-3295655862750189353" onmouseenter="enter('-3295655862750189353');" onmouseout="out('-3295655862750189353');" style=""> 447     private void log(String message) {                                                                   </span>
<span class="9145561956568673670" onmouseenter="enter('9145561956568673670');" onmouseout="out('9145561956568673670');" style=""> 448         logger.debug(message);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449     }                                                                                                    </span>
<span  style=""> 450                                                                                                          </span>
<span class="-4576343442795999070" onmouseenter="enter('-4576343442795999070');" onmouseout="out('-4576343442795999070');" style=""> 451     public void queueWrite(SetDeviceStateRequest request, boolean priorise) {                            </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 452         if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                      </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 453             log(&quot;queing request: &quot; + request.getName());                                                 </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 454             if (priorise) {                                                                              </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 455                 requestQueue.add(0, request);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 456             } else {                                                                                     </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 457                 requestQueue.add(request);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458             }                                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 459             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 460         }                                                                                                </span>
<span class="-2968591505263822982" onmouseenter="enter('-2968591505263822982');" onmouseout="out('-2968591505263822982');" style=""> 461         log(&quot;setting device state: &quot; + request.getDeviceState());                                        </span>
<span class="1880441583077609953" onmouseenter="enter('1880441583077609953');" onmouseout="out('1880441583077609953');" style=""> 462         getDeviceSupport().getDevice().setState(request.getDeviceState());                               </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 463         getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                             </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 464         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465     }                                                                                                    </span>
<span  style=""> 466                                                                                                          </span>
<span class="3575675551777290585" onmouseenter="enter('3575675551777290585');" onmouseout="out('3575675551777290585');" style=""> 467     public void queueWrite(FossilRequest request, boolean priorise) {                                    </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 468         if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                      </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 469             log(&quot;queing request: &quot; + request.getName());                                                 </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 470             if (priorise) {                                                                              </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 471                 requestQueue.add(0, request);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 472             } else {                                                                                     </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 473                 requestQueue.add(request);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 474             }                                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 475             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476         }                                                                                                </span>
<span class="2316394992381890961" onmouseenter="enter('2316394992381890961');" onmouseout="out('2316394992381890961');" style=""> 477         log(&quot;executing request: &quot; + request.getName());                                                  </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 478         this.fossilRequest = request;                                                                    </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 479         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 479         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteri🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480     }                                                                                                    </span>
<span  style=""> 481                                                                                                          </span>
<span class="-6311202063603005052" onmouseenter="enter('-6311202063603005052');" onmouseout="out('-6311202063603005052');" style=""> 482     public void queueWrite(Request request, boolean priorise) {                                          </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 483         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 483         new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteri🔵</abbr></span>
<span  style=""> 484                                                                                                          </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 485         queueNextRequest();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486     }                                                                                                    </span>
<span  style=""> 487                                                                                                          </span>
<span class="-7292293664532347836" onmouseenter="enter('-7292293664532347836');" onmouseout="out('-7292293664532347836');" style=""> 488     void queueWrite(Request request) {                                                                   </span>
<span class="6767873303838952458" onmouseenter="enter('6767873303838952458');" onmouseout="out('6767873303838952458');" style=""> 489         if (request instanceof SetDeviceStateRequest)                                                    </span>
<span class="-624837134462991662" onmouseenter="enter('-624837134462991662');" onmouseout="out('-624837134462991662');" style=""> 490             queueWrite((SetDeviceStateRequest) request, false);                                          </span>
<span class="3794917961066152317" onmouseenter="enter('3794917961066152317');" onmouseout="out('3794917961066152317');" style=""> 491         else if (request instanceof RequestMtuRequest)                                                   </span>
<span class="-8094441310402055808" onmouseenter="enter('-8094441310402055808');" onmouseout="out('-8094441310402055808');" style=""> 492             queueWrite((RequestMtuRequest) request, false);                                              </span>
<span class="-383246438418114342" onmouseenter="enter('-383246438418114342');" onmouseout="out('-383246438418114342');" style=""> 493         else if (request instanceof FossilRequest) queueWrite((FossilRequest) request, false);           </span>
<span class="-7075409325550123790" onmouseenter="enter('-7075409325550123790');" onmouseout="out('-7075409325550123790');" style=""> 494         else queueWrite(request, false);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495     }                                                                                                    </span>
<span  style=""> 496                                                                                                          </span>
<span class="-5873341080833470590" onmouseenter="enter('-5873341080833470590');" onmouseout="out('-5873341080833470590');" style=""> 497     private void queueNextRequest() {                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 498         try {                                                                                            </span>
<span class="-8758486334100629151" onmouseenter="enter('-8758486334100629151');" onmouseout="out('-8758486334100629151');" style=""> 499             Request request = requestQueue.remove(0);                                                    </span>
<span class="-3953785809866853226" onmouseenter="enter('-3953785809866853226');" onmouseout="out('-3953785809866853226');" style=""> 500             queueWrite(request);                                                                         </span>
<span class="4743218385197812299" onmouseenter="enter('4743218385197812299');" onmouseout="out('4743218385197812299');" style=""> 501         } catch (IndexOutOfBoundsException e) {                                                          </span>
<span class="-1516621385279090264" onmouseenter="enter('-1516621385279090264');" onmouseout="out('-1516621385279090264');" style=""> 502             log(&quot;requestsQueue empty&quot;);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505 }                                                                                                        </span>

























</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="2923613792184110803" onmouseenter="enter('2923613792184110803');" onmouseout="out('2923613792184110803');" style="">   1  package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil;                              </span>
<span  style="">   2                                                                                                                    </span>
<span class="2440823415412133066" onmouseenter="enter('2440823415412133066');" onmouseout="out('2440823415412133066');" style="">   3  import android.bluetooth.BluetoothGatt;                                                                           </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   4  import android.bluetooth.BluetoothGattCharacteristic;                                                             </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5  import android.content.Intent;                                                                                    </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   6  import android.os.Build;                                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">   7  import android.util.Log;                                                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">   8  import android.widget.Toast;                                                                                      </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   9 +                                                                                                                  </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 +import org.slf4j.Logger;                                                                                          </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 +import org.slf4j.LoggerFactory;                                                                                   </span>
<span  style="">  12                                                                                                                    </span>



<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  13  import java.text.DateFormat;                                                                                      </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  14  import java.util.ArrayList;                                                                                       </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  15  import java.util.Date;                                                                                            </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  16  import java.util.GregorianCalendar;                                                                               </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  17  import java.util.TimeZone;                                                                                        </span>
<span  style="">  18                                                                                                                    </span>
<span class="-1471644270559892265" onmouseenter="enter('-1471644270559892265');" onmouseout="out('-1471644270559892265');" style="">  19  import nodomain.freeyourgadget.gadgetbridge.GBException;                                                          </span>
<span class="-7483974346858162294" onmouseenter="enter('-7483974346858162294');" onmouseout="out('-7483974346858162294');" style="">  20  import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.NotificationConfiguration;                            </span>
<span class="-7717522168233863917" onmouseenter="enter('-7717522168233863917');" onmouseout="out('-7717522168233863917');" style="">  21  import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.PackageConfigHelper;                                  </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  22  import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                                        </span>

<span class="7672535166545256161" onmouseenter="enter('7672535166545256161');" onmouseout="out('7672535166545256161');" style="">  23  import nodomain.freeyourgadget.gadgetbridge.model.GenericItem;                                                    </span>
<span class="3410519392510510669" onmouseenter="enter('3410519392510510669');" onmouseout="out('3410519392510510669');" style="">  24  import nodomain.freeyourgadget.gadgetbridge.service.btle.TransactionBuilder;                                      </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  25  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                               </span>
<span class="3322723522373113781" onmouseenter="enter('3322723522373113781');" onmouseout="out('3322723522373113781');" style="">  26  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.WatchAdapter;                         </span>


<span class="2090042171840798451" onmouseenter="enter('2090042171840798451');" onmouseout="out('2090042171840798451');" style="">  27  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.Request;                             </span>
<span class="-2455941194154498360" onmouseenter="enter('-2455941194154498360');" onmouseout="out('-2455941194154498360');" style="">  28  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.FossilRequest;                </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  29  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;            </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style="">  30  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;        </span>



<span class="8456474303681518874" onmouseenter="enter('8456474303681518874');" onmouseout="out('8456474303681518874');" style=""><abbr title="  31  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGetRequest;">  31  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGet🔵</abbr></span>
<span class="6063983850693379079" onmouseenter="enter('6063983850693379079');" onmouseout="out('6063983850693379079');" style=""><abbr title="  32  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest;">  32  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPut🔵</abbr></span>
<span class="-6160269686715032110" onmouseenter="enter('-6160269686715032110');" onmouseout="out('-6160269686715032110');" style="">  33  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FilePutRequest;          </span>
<span class="-1028510867556361299" onmouseenter="enter('-1028510867556361299');" onmouseout="out('-1028510867556361299');" style=""><abbr title="  34  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilterPutRequest;">  34  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilte🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  35  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  35  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationR🔵</abbr></span>
<span class="-5865827548439034307" onmouseenter="enter('-5865827548439034307');" onmouseout="out('-5865827548439034307');" style="">  36  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.AnimationRequest;             </span>
<span class="-6260088196349644799" onmouseenter="enter('-6260088196349644799');" onmouseout="out('-6260088196349644799');" style="">  37  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.MoveHandsRequest;             </span>
<span class="6036958101215125198" onmouseenter="enter('6036958101215125198');" onmouseout="out('6036958101215125198');" style="">  38  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRequest;   </span>
<span class="4138099863165019445" onmouseenter="enter('4138099863165019445');" onmouseout="out('4138099863165019445');" style="">  39  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlRequest;    </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  40  import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                              </span>
<span  style="">  41                                                                                                                    </span>
<span class="2499827060581337575" onmouseenter="enter('2499827060581337575');" onmouseout="out('2499827060581337575');" style=""><abbr title="  42  import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRESS;">  42  import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRE🔵</abbr></span>

<span  style="">  43                                                                                                                    </span>
<span class="-7525731093157952067" onmouseenter="enter('-7525731093157952067');" onmouseout="out('-7525731093157952067');" style="">  44  public class FossilWatchAdapter extends WatchAdapter {                                                            </span>
<span class="1195654240209704003" onmouseenter="enter('1195654240209704003');" onmouseout="out('1195654240209704003');" style="">  45      private ArrayList&lt;Request&gt; requestQueue = new ArrayList&lt;&gt;();                                                  </span>
<span  style="">  46                                                                                                                    </span>
<span class="2142601754793799589" onmouseenter="enter('2142601754793799589');" onmouseout="out('2142601754793799589');" style="">  47      private FossilRequest fossilRequest;                                                                          </span>
<span  style="">  48                                                                                                                    </span>
<span class="-3015417213827192255" onmouseenter="enter('-3015417213827192255');" onmouseout="out('-3015417213827192255');" style="">  49      private int MTU = 23;                                                                                         </span>
<span  style="">  50                                                                                                                    </span>
<span class="7214207819631100316" onmouseenter="enter('7214207819631100316');" onmouseout="out('7214207819631100316');" style="">  51      private String ITEM_MTU = &quot;MTU&quot;;                                                                              </span>

<span  style="">  52                                                                                                                    </span>
<span class="-8890462315568593084" onmouseenter="enter('-8890462315568593084');" onmouseout="out('-8890462315568593084');" style="">  53      private int lastButtonIndex = -1;                                                                             </span>
<span  style="">  54                                                                                                                    </span>
<span class="6427921479659727638" onmouseenter="enter('6427921479659727638');" onmouseout="out('6427921479659727638');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  55 +    Logger logger = LoggerFactory.getLogger(getClass());                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +                                                                                                                  </span>
<span class="-6132543960234271010" onmouseenter="enter('-6132543960234271010');" onmouseout="out('-6132543960234271010');" style="">  57      public FossilWatchAdapter(QHybridSupport deviceSupport) {                                                     </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  58          super(deviceSupport);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  59      }                                                                                                             </span>
<span  style="">  60                                                                                                                    </span>
<span  style="">  61                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  62      @Override                                                                                                     </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  63      public void initialize() {                                                                                    </span>
<span class="-4784435253982341327" onmouseenter="enter('-4784435253982341327');" onmouseout="out('-4784435253982341327');" style="">  64          playPairingAnimation();                                                                                   </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  65          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                              </span>
<span class="-529551863285165269" onmouseenter="enter('-529551863285165269');" onmouseout="out('-529551863285165269');" style="">  66              queueWrite(new RequestMtuRequest(512), false);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67          }                                                                                                         </span>
<span class="-331366053797168206" onmouseenter="enter('-331366053797168206');" onmouseout="out('-331366053797168206');" style="">  68          queueWrite(new ConfigurationGetRequest(this), false);                                                     </span>
<span  style="">  69                                                                                                                    </span>
<span class="1508133748144491002" onmouseenter="enter('1508133748144491002');" onmouseout="out('1508133748144491002');" style="">  70          syncNotificationSettings();                                                                               </span>












<span  style="">  71                                                                                                                    </span>
<span class="5411003737943219307" onmouseenter="enter('5411003737943219307');" onmouseout="out('5411003737943219307');" style="">  72          queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED), false);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  73      }                                                                                                             </span>
<span  style="">  74                                                                                                                    </span>
<span class="3546647492997211457" onmouseenter="enter('3546647492997211457');" onmouseout="out('3546647492997211457');" style="">  75      public int getMTU() {                                                                                         </span>
<span class="6365412335896587692" onmouseenter="enter('6365412335896587692');" onmouseout="out('6365412335896587692');" style="">  76          if (this.MTU &lt; 0) throw new RuntimeException(&quot;MTU not configured&quot;);                                       </span>
<span  style="">  77                                                                                                                    </span>
<span class="-7001790466828694007" onmouseenter="enter('-7001790466828694007');" onmouseout="out('-7001790466828694007');" style="">  78          return this.MTU;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79      }                                                                                                             </span>
<span  style="">  80                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81      @Override                                                                                                     </span>
<span class="6553842608624105970" onmouseenter="enter('6553842608624105970');" onmouseout="out('6553842608624105970');" style="">  82      public void playPairingAnimation() {                                                                          </span>
<span class="1320466205813454973" onmouseenter="enter('1320466205813454973');" onmouseout="out('1320466205813454973');" style="">  83          queueWrite(new AnimationRequest(), false);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84      }                                                                                                             </span>
<span  style="">  85                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  86      @Override                                                                                                     </span>
<span class="8521690812134896195" onmouseenter="enter('8521690812134896195');" onmouseout="out('8521690812134896195');" style="">  87      public void playNotification(NotificationConfiguration config) {                                              </span>
<span class="-6783799527271845784" onmouseenter="enter('-6783799527271845784');" onmouseout="out('-6783799527271845784');" style="">  88          if (config.getPackageName() == null) {                                                                    </span>
<span class="-1149857065563503220" onmouseenter="enter('-1149857065563503220');" onmouseout="out('-1149857065563503220');" style="">  89              log(&quot;package name in notification not set&quot;);                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  90              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91          }                                                                                                         </span>
<span class="1897113475738739385" onmouseenter="enter('1897113475738739385');" onmouseout="out('1897113475738739385');" style="">  92          queueWrite(new PlayNotificationRequest(config.getPackageName(), this), false);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93      }                                                                                                             </span>
<span  style="">  94                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  95      @Override                                                                                                     </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style="">  96      public void setTime() {                                                                                       </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style="">  97          long millis = System.currentTimeMillis();                                                                 </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style="">  98          TimeZone zone = new GregorianCalendar().getTimeZone();                                                    </span>
<span  style="">  99                                                                                                                    </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 100          queueWrite(                                                                                               </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 101                  new ConfigurationPutRequest(                                                                      </span>
<span class="3969253431822543743" onmouseenter="enter('3969253431822543743');" onmouseout="out('3969253431822543743');" style=""> 102                          new ConfigurationPutRequest.TimeConfigItem(                                               </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 103                                  (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),                  </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 104                                  (short) (millis % 1000),                                                          </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 105                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 105                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 106                          ),                                                                                        </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 107                          this), false                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 108          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109      }                                                                                                             </span>
<span  style=""> 110                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111      @Override                                                                                                     </span>
<span class="-8442583637732746352" onmouseenter="enter('-8442583637732746352');" onmouseout="out('-8442583637732746352');" style=""> 112      public void overwriteButtons() {                                                                              </span>
<span class="6211969083240194271" onmouseenter="enter('6211969083240194271');" onmouseout="out('6211969083240194271');" style=""> 113          FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, new byte[]{                         </span>
<span class="-6637666168868146265" onmouseenter="enter('-6637666168868146265');" onmouseout="out('-6637666168868146265');" style=""> 114                  (byte) 0x01, (byte) 0x00, (byte) 0x00,                                                            </span>
<span class="-595502421189662030" onmouseenter="enter('-595502421189662030');" onmouseout="out('-595502421189662030');" style=""> 115                  (byte) 0x03,                                                                                      </span>
<span class="8017821355450020029" onmouseenter="enter('8017821355450020029');" onmouseout="out('8017821355450020029');" style=""> 116                  (byte) 0x10, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x00, (byte) 0x00,        </span>
<span class="6762105990189550807" onmouseenter="enter('6762105990189550807');" onmouseout="out('6762105990189550807');" style=""> 117                  (byte) 0x20, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x00, (byte) 0x00,        </span>
<span class="-2750838077776842998" onmouseenter="enter('-2750838077776842998');" onmouseout="out('-2750838077776842998');" style=""> 118                  (byte) 0x30, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x00, (byte) 0x00,        </span>
<span class="643018661665771499" onmouseenter="enter('643018661665771499');" onmouseout="out('643018661665771499');" style=""> 119                  (byte) 0x01,                                                                                      </span>
<span class="-1083184151897903005" onmouseenter="enter('-1083184151897903005');" onmouseout="out('-1083184151897903005');" style=""><abbr title=" 120                  (byte) 0x01, (byte) 0x00, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x2E, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0x06, (byte) 0x00, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x03, (byte) 0x00, (byte) 0x02, (byte) 0x01, (byte) 0x0F, (byte) 0x00, (byte) 0x8B, (byte) 0x00, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x01, (byte) 0x08, (byte) 0x01, (byte) 0x14, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0xFE, (byte) 0x08, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x02, (byte) 0x01, (byte) 0x00, (byte) 0xBF, (byte) 0xD5, (byte) 0x54, (byte) 0xD1,"> 120                  (byte) 0x01, (byte) 0x00, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x2E, (byte) 0x00, (byte) 🔵</abbr></span>
<span class="-3953921874774397702" onmouseenter="enter('-3953921874774397702');" onmouseout="out('-3953921874774397702');" style=""> 121                  (byte) 0x00,                                                                                      </span>
<span class="-9129629396127709871" onmouseenter="enter('-9129629396127709871');" onmouseout="out('-9129629396127709871');" style=""> 122                  (byte) 0x4F, (byte) 0x79, (byte) 0x97, (byte) 0x78,                                               </span>
<span class="2959816254296891061" onmouseenter="enter('2959816254296891061');" onmouseout="out('2959816254296891061');" style=""> 123          }, this){                                                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 124              @Override                                                                                             </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 125              public void onFilePut(boolean success) {                                                              </span>
<span class="8931377633913318080" onmouseenter="enter('8931377633913318080');" onmouseout="out('8931377633913318080');" style=""> 126                  if(success) GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);    </span>
<span class="-4166541072297664776" onmouseenter="enter('-4166541072297664776');" onmouseout="out('-4166541072297664776');" style=""> 127                  else GB.toast(&quot;error overwriting button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 129          };                                                                                                        </span>
<span class="4426460983854065500" onmouseenter="enter('4426460983854065500');" onmouseout="out('4426460983854065500');" style=""> 130          queueWrite(fileUploadRequets);                                                                            </span>



























<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131      }                                                                                                             </span>
<span  style=""> 132                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133      @Override                                                                                                     </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 134      public void setActivityHand(double progress) {                                                                </span>
<span class="-5003745590397881984" onmouseenter="enter('-5003745590397881984');" onmouseout="out('-5003745590397881984');" style=""> 135          queueWrite(new ConfigurationPutRequest(                                                                   </span>
<span class="-1274087565432836677" onmouseenter="enter('-1274087565432836677');" onmouseout="out('-1274087565432836677');" style=""><abbr title=" 136                  new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress))),"> 136                  new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress)🔵</abbr></span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 137                  this                                                                                              </span>
<span class="7701925171622270948" onmouseenter="enter('7701925171622270948');" onmouseout="out('7701925171622270948');" style=""> 138          ), false);                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139      }                                                                                                             </span>
<span  style=""> 140                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 141      @Override                                                                                                     </span>
<span class="950037135509614227" onmouseenter="enter('950037135509614227');" onmouseout="out('950037135509614227');" style=""> 142      public void setHands(short hour, short minute) {                                                              </span>
<span class="-7308249657826701351" onmouseenter="enter('-7308249657826701351');" onmouseout="out('-7308249657826701351');" style=""> 143          queueWrite(new MoveHandsRequest(false, minute, hour, (short) -1), false);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144      }                                                                                                             </span>
<span  style=""> 145                                                                                                                    </span>
<span  style=""> 146                                                                                                                    </span>
<span class="-7686458614870644313" onmouseenter="enter('-7686458614870644313');" onmouseout="out('-7686458614870644313');" style=""><abbr title=" 147      public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest.VibrationType vibration) {"> 147      public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificat🔵</abbr></span>
<span class="7269778319868126302" onmouseenter="enter('7269778319868126302');" onmouseout="out('7269778319868126302');" style=""><abbr title=" 148          // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest(vibration, -1, -1));"> 148          // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotific🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149      }                                                                                                             </span>
<span  style=""> 150                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 151      @Override                                                                                                     </span>
<span class="-4607916161418936141" onmouseenter="enter('-4607916161418936141');" onmouseout="out('-4607916161418936141');" style=""> 152      public void vibrateFindMyDevicePattern() {                                                                    </span>
<span  style=""> 153                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154      }                                                                                                             </span>
<span  style=""> 155                                                                                                                    </span>
<span  style=""> 156                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157      @Override                                                                                                     </span>
<span class="-6532646074151310772" onmouseenter="enter('-6532646074151310772');" onmouseout="out('-6532646074151310772');" style=""> 158      public void requestHandsControl() {                                                                           </span>
<span class="845470347332695933" onmouseenter="enter('845470347332695933');" onmouseout="out('845470347332695933');" style=""> 159          queueWrite(new RequestHandControlRequest(), false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160      }                                                                                                             </span>
<span  style=""> 161                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 162      @Override                                                                                                     </span>
<span class="5268567045225055789" onmouseenter="enter('5268567045225055789');" onmouseout="out('5268567045225055789');" style=""> 163      public void releaseHandsControl() {                                                                           </span>
<span class="303207396055204695" onmouseenter="enter('303207396055204695');" onmouseout="out('303207396055204695');" style=""> 164          queueWrite(new ReleaseHandsControlRequest(), false);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165      }                                                                                                             </span>
<span  style=""> 166                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 167      @Override                                                                                                     </span>
<span class="7960938870834875611" onmouseenter="enter('7960938870834875611');" onmouseout="out('7960938870834875611');" style=""> 168      public void setStepGoal(int stepGoal) {                                                                       </span>
<span class="6871573190650859359" onmouseenter="enter('6871573190650859359');" onmouseout="out('6871573190650859359');" style=""><abbr title=" 169          queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this){"> 169          queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this🔵</abbr></span>

<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170              @Override                                                                                             </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 171              public void onFilePut(boolean success) {                                                              </span>
<span class="8515796703065844791" onmouseenter="enter('8515796703065844791');" onmouseout="out('8515796703065844791');" style=""> 172                  if(success) GB.toast(&quot;successfully updated step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);              </span>


<span class="7595940445245185427" onmouseenter="enter('7595940445245185427');" onmouseout="out('7595940445245185427');" style=""> 173                  else GB.toast(&quot;error updating step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174              }                                                                                                     </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 175          }, false);                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span  style=""> 177                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178      @Override                                                                                                     </span>
<span class="1506969207519742362" onmouseenter="enter('1506969207519742362');" onmouseout="out('1506969207519742362');" style=""> 179      public void setVibrationStrength(short strength) {                                                            </span>
<span class="-7509590071108039539" onmouseenter="enter('-7509590071108039539');" onmouseout="out('-7509590071108039539');" style=""><abbr title=" 180          ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem((byte) strength);"> 180          ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem🔵</abbr></span>
<span  style=""> 181                                                                                                                    </span>
<span  style=""> 182                                                                                                                    </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 183          queueWrite(                                                                                               </span>
<span class="1955278548626520341" onmouseenter="enter('1955278548626520341');" onmouseout="out('1955278548626520341');" style=""> 184                  new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this){       </span>

<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185                      @Override                                                                                     </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 186                      public void onFilePut(boolean success) {                                                      </span>
<span class="477960796911306833" onmouseenter="enter('477960796911306833');" onmouseout="out('477960796911306833');" style=""><abbr title=" 187                          if(success) GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 187                          if(success) GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INF🔵</abbr></span>
<span class="3233078293080536978" onmouseenter="enter('3233078293080536978');" onmouseout="out('3233078293080536978');" style=""> 188                          else GB.toast(&quot;error updating vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);          </span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189                      }                                                                                             </span>
<span class="6768923637037837046" onmouseenter="enter('6768923637037837046');" onmouseout="out('6768923637037837046');" style=""> 190                  }, false                                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 191          );                                                                                                        </span>
<span class="2880871101947458708" onmouseenter="enter('2880871101947458708');" onmouseout="out('2880871101947458708');" style=""> 192          // queueWrite(new FileVerifyRequest((short) 0x0800));                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193      }                                                                                                             </span>
<span  style=""> 194                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 195      @Override                                                                                                     </span>
<span class="-1651863958203525754" onmouseenter="enter('-1651863958203525754');" onmouseout="out('-1651863958203525754');" style=""> 196      public void syncNotificationSettings() {                                                                      </span>
<span class="-5529433289440585150" onmouseenter="enter('-5529433289440585150');" onmouseout="out('-5529433289440585150');" style=""> 197          log(&quot;syncing notification settings...&quot;);                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 198          try {                                                                                                     </span>
<span class="5735085668667966613" onmouseenter="enter('5735085668667966613');" onmouseout="out('5735085668667966613');" style=""> 199              PackageConfigHelper helper = new PackageConfigHelper(getContext());                                   </span>
<span class="-6037969067402155252" onmouseenter="enter('-6037969067402155252');" onmouseout="out('-6037969067402155252');" style=""> 200              final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurations();   </span>
<span class="318121021842844125" onmouseenter="enter('318121021842844125');" onmouseout="out('318121021842844125');" style=""> 201              if (configurations.size() == 1) configurations.add(configurations.get(0));                            </span>
<span class="8242503007416701520" onmouseenter="enter('8242503007416701520');" onmouseout="out('8242503007416701520');" style=""> 202              queueWrite(new NotificationFilterPutRequest(configurations, FossilWatchAdapter.this) {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 203                  @Override                                                                                         </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 204                  public void onFilePut(boolean success) {                                                          </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 205                      super.onFilePut(success);                                                                     </span>
<span  style=""> 206                                                                                                                    </span>
<span class="5774595805314112369" onmouseenter="enter('5774595805314112369');" onmouseout="out('5774595805314112369');" style=""> 207                      if (!success) {                                                                               </span>
<span class="4016367561700232905" onmouseenter="enter('4016367561700232905');" onmouseout="out('4016367561700232905');" style=""> 208                          GB.toast(&quot;error writing notification settings&quot;, Toast.LENGTH_SHORT, GB.ERROR);            </span>
<span  style=""> 209                                                                                                                    </span>
<span class="4156748068991402090" onmouseenter="enter('4156748068991402090');" onmouseout="out('4156748068991402090');" style=""> 210                          getDeviceSupport().getDevice().setState(GBDevice.State.NOT_CONNECTED);                    </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 211                          getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212                      }                                                                                             </span>
<span  style=""> 213                                                                                                                    </span>
<span class="-5829793222040865313" onmouseenter="enter('-5829793222040865313');" onmouseout="out('-5829793222040865313');" style=""> 214                      getDeviceSupport().getDevice().setState(GBDevice.State.INITIALIZED);                          </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 215                      getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216                  }                                                                                                 </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 217              }, false);                                                                                            </span>
<span class="-4956016385818808676" onmouseenter="enter('-4956016385818808676');" onmouseout="out('-4956016385818808676');" style=""> 218          } catch (GBException e) {                                                                                 </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 219              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221      }                                                                                                             </span>
<span  style=""> 222                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223      @Override                                                                                                     </span>
<span class="-1180224994468071186" onmouseenter="enter('-1180224994468071186');" onmouseout="out('-1180224994468071186');" style=""> 224      public void onTestNewFunction() {                                                                             </span>
<span class="-1301794454532733156" onmouseenter="enter('-1301794454532733156');" onmouseout="out('-1301794454532733156');" style=""> 225          queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this), false);          </span>




















<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226      }                                                                                                             </span>
<span  style=""> 227                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 228      @Override                                                                                                     </span>
<span class="-3054925419297870439" onmouseenter="enter('-3054925419297870439');" onmouseout="out('-3054925419297870439');" style=""> 229      public boolean supportsFindDevice() {                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 230          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231      }                                                                                                             </span>
<span  style=""> 232                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 233      @Override                                                                                                     </span>
<span class="-8924444745054373900" onmouseenter="enter('-8924444745054373900');" onmouseout="out('-8924444745054373900');" style=""> 234      public boolean supportsExtendedVibration() {                                                                  </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 235          String modelNumber = getDeviceSupport().getDevice().getModel();                                           </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 236          switch (modelNumber) {                                                                                    </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 237              case &quot;HW.0.0&quot;:                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 238                  return true;                                                                                      </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 239              case &quot;HL.0.0&quot;:                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 240                  return false;                                                                                     </span>
<span class="5071126073076406168" onmouseenter="enter('5071126073076406168');" onmouseout="out('5071126073076406168');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +            case &quot;DN.1.0&quot;:                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +                return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243          }                                                                                                         </span>
<span class="-421459058626985428" onmouseenter="enter('-421459058626985428');" onmouseout="out('-421459058626985428');" style=""> 244          throw new UnsupportedOperationException(&quot;model &quot; + modelNumber + &quot; not supported&quot;);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245      }                                                                                                             </span>
<span  style=""> 246                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247      @Override                                                                                                     </span>
<span class="-1954248356050626516" onmouseenter="enter('-1954248356050626516');" onmouseout="out('-1954248356050626516');" style=""> 248      public boolean supportsActivityHand() {                                                                       </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 249          String modelNumber = getDeviceSupport().getDevice().getModel();                                           </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 250          switch (modelNumber) {                                                                                    </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 251              case &quot;HW.0.0&quot;:                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 252                  return true;                                                                                      </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 253              case &quot;HL.0.0&quot;:                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 254                  return false;                                                                                     </span>
<span class="5071126073076406168" onmouseenter="enter('5071126073076406168');" onmouseout="out('5071126073076406168');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 255 +            case &quot;DN.1.0&quot;:                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 256 +                return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257          }                                                                                                         </span>
<span class="2217603857070485772" onmouseenter="enter('2217603857070485772');" onmouseout="out('2217603857070485772');" style=""> 258          throw new UnsupportedOperationException(&quot;Model &quot; + modelNumber + &quot; not supported&quot;);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 259 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 260 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 261 -    @Override                                                                                                     </span>
<span class="716317508880357708" onmouseenter="enter('716317508880357708');" onmouseout="out('716317508880357708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 262 -    public String getModelName() {                                                                                </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 263 -        String modelNumber = getDeviceSupport().getDevice().getModel();                                           </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 264 -        switch (modelNumber) {                                                                                    </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 265 -            case &quot;HW.0.0&quot;:                                                                                        </span>
<span class="-8794245855462214322" onmouseenter="enter('-8794245855462214322');" onmouseout="out('-8794245855462214322');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 266 -                return &quot;Q Commuter&quot;;                                                                              </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 267 -            case &quot;HL.0.0&quot;:                                                                                        </span>
<span class="-5251755248507333547" onmouseenter="enter('-5251755248507333547');" onmouseout="out('-5251755248507333547');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -                return &quot;Q Activist&quot;;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 269 -        }                                                                                                         </span>
<span class="7481221144904173106" onmouseenter="enter('7481221144904173106');" onmouseout="out('7481221144904173106');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 270 -        return &quot;unknwon Q&quot;;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271      }                                                                                                             </span>
<span  style=""> 272                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 273      @Override                                                                                                     </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 274      public void onFetchActivityData() {                                                                           </span>
<span  style=""> 275                                                                                                                    </span>
<span class="-4814314931431128201" onmouseenter="enter('-4814314931431128201');" onmouseout="out('-4814314931431128201');" style=""> 276          // queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this));              </span>
<span class="7149866427364516122" onmouseenter="enter('7149866427364516122');" onmouseout="out('7149866427364516122');" style=""> 277          setVibrationStrength((byte) 50);                                                                          </span>
<span class="-4426153981903290623" onmouseenter="enter('-4426153981903290623');" onmouseout="out('-4426153981903290623');" style=""> 278          // queueWrite(new FileCloseRequest((short) 0x0800));                                                      </span>
<span class="-3476175542662741046" onmouseenter="enter('-3476175542662741046');" onmouseout="out('-3476175542662741046');" style=""> 279          // queueWrite(new ConfigurationGetRequest(this));                                                         </span>
































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280      }                                                                                                             </span>
<span  style=""> 281                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282      @Override                                                                                                     </span>
<span class="-5661496586383940029" onmouseenter="enter('-5661496586383940029');" onmouseout="out('-5661496586383940029');" style=""> 283      public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {      </span>
<span class="-4900030241533218440" onmouseenter="enter('-4900030241533218440');" onmouseout="out('-4900030241533218440');" style=""> 284          switch (characteristic.getUuid().toString()) {                                                            </span>
<span class="2882486716182506598" onmouseenter="enter('2882486716182506598');" onmouseout="out('2882486716182506598');" style=""> 285              case &quot;3dda0006-957f-7d4a-34a6-74696673696d&quot;: {                                                        </span>
<span class="7175817890662018548" onmouseenter="enter('7175817890662018548');" onmouseout="out('7175817890662018548');" style=""> 286                  handleBackgroundCharacteristic(characteristic);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 287                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288              }                                                                                                     </span>
<span class="649082617183531070" onmouseenter="enter('649082617183531070');" onmouseout="out('649082617183531070');" style=""> 289              case &quot;3dda0002-957f-7d4a-34a6-74696673696d&quot;:                                                          </span>
<span class="8319159933550328631" onmouseenter="enter('8319159933550328631');" onmouseout="out('8319159933550328631');" style=""> 290              case &quot;3dda0004-957f-7d4a-34a6-74696673696d&quot;:                                                          </span>
<span class="-5903481329570957784" onmouseenter="enter('-5903481329570957784');" onmouseout="out('-5903481329570957784');" style=""> 291              case &quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;: {                                                        </span>
<span class="-5883938812681693852" onmouseenter="enter('-5883938812681693852');" onmouseout="out('-5883938812681693852');" style=""> 292                  if (fossilRequest != null) {                                                                      </span>
<span class="-4993966815400274209" onmouseenter="enter('-4993966815400274209');" onmouseout="out('-4993966815400274209');" style=""> 293                      boolean requestFinished;                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 294                      try {                                                                                         </span>
<span class="4249996716865711478" onmouseenter="enter('4249996716865711478');" onmouseout="out('4249996716865711478');" style=""> 295                          if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;)) { </span>
<span class="8942699938702017612" onmouseenter="enter('8942699938702017612');" onmouseout="out('8942699938702017612');" style=""> 296                              byte requestType = (byte) (characteristic.getValue()[0] &amp; 0x0F);                      </span>
<span  style=""> 297                                                                                                                    </span>
<span class="-8712152160849034238" onmouseenter="enter('-8712152160849034238');" onmouseout="out('-8712152160849034238');" style=""> 298                              if (requestType != 0x0A &amp;&amp; requestType != fossilRequest.getType()) {                  </span>
<span class="1733667093660496118" onmouseenter="enter('1733667093660496118');" onmouseout="out('1733667093660496118');" style=""><abbr title=" 299                                  // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match current request &quot; + fossilRequest.getType());"> 299                                  // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match curr🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301                          }                                                                                         </span>
<span  style=""> 302                                                                                                                    </span>
<span class="5816078039831981940" onmouseenter="enter('5816078039831981940');" onmouseout="out('5816078039831981940');" style=""> 303                          fossilRequest.handleResponse(characteristic);                                             </span>
<span class="7152511660707143387" onmouseenter="enter('7152511660707143387');" onmouseout="out('7152511660707143387');" style=""> 304                          requestFinished = fossilRequest.isFinished();                                             </span>
<span class="1200625667814236005" onmouseenter="enter('1200625667814236005');" onmouseout="out('1200625667814236005');" style=""> 305                      } catch (RuntimeException e) {                                                                </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 306                          e.printStackTrace();                                                                      </span>
<span class="8111404309544580801" onmouseenter="enter('8111404309544580801');" onmouseout="out('8111404309544580801');" style=""> 307                          getDeviceSupport().notifiyException(e);                                                   </span>
<span class="-564715308402870570" onmouseenter="enter('-564715308402870570');" onmouseout="out('-564715308402870570');" style=""> 308                          GB.toast(fossilRequest.getName() + &quot; failed&quot;, Toast.LENGTH_SHORT, GB.ERROR);              </span>
<span class="3752335005278324312" onmouseenter="enter('3752335005278324312');" onmouseout="out('3752335005278324312');" style=""> 309                          requestFinished = true;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310                      }                                                                                             </span>
<span  style=""> 311                                                                                                                    </span>
<span class="-7801153188892822314" onmouseenter="enter('-7801153188892822314');" onmouseout="out('-7801153188892822314');" style=""> 312                      if (requestFinished) {                                                                        </span>
<span class="-5854378050299916026" onmouseenter="enter('-5854378050299916026');" onmouseout="out('-5854378050299916026');" style=""> 313                          log(fossilRequest.getName() + &quot; finished&quot;);                                               </span>
<span class="-5183914389820007328" onmouseenter="enter('-5183914389820007328');" onmouseout="out('-5183914389820007328');" style=""> 314                          fossilRequest = null;                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 315                      } else {                                                                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 316                          return true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318                  }                                                                                                 </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 319                  queueNextRequest();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321          }                                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 322          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323      }                                                                                                             </span>
<span  style=""> 324                                                                                                                    </span>
<span class="-2491152025454801834" onmouseenter="enter('-2491152025454801834');" onmouseout="out('-2491152025454801834');" style=""> 325      private void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {                     </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 326          byte[] value = characteristic.getValue();                                                                 </span>
<span class="-6451515600853577262" onmouseenter="enter('-6451515600853577262');" onmouseout="out('-6451515600853577262');" style=""> 327          switch (value[1]) {                                                                                       </span>
<span class="4530359272320273514" onmouseenter="enter('4530359272320273514');" onmouseout="out('4530359272320273514');" style=""> 328              case 2: {                                                                                             </span>
<span class="-5775509307888090545" onmouseenter="enter('-5775509307888090545');" onmouseout="out('-5775509307888090545');" style=""> 329                  byte syncId = value[2];                                                                           </span>
<span class="-3857187101679284787" onmouseenter="enter('-3857187101679284787');" onmouseout="out('-3857187101679284787');" style=""><abbr title=" 330                  getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, DateFormat.getTimeInstance().format(new Date())));"> 330                  getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, D🔵</abbr></span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 331                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332              }                                                                                                     </span>
<span class="-649725075995131999" onmouseenter="enter('-649725075995131999');" onmouseout="out('-649725075995131999');" style=""> 333              case 8: {                                                                                             </span>
<span class="8764450730856979153" onmouseenter="enter('8764450730856979153');" onmouseout="out('8764450730856979153');" style=""> 334                  if (value.length != 12) {                                                                         </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 335                      throw new RuntimeException(&quot;wrong button message&quot;);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336                  }                                                                                                 </span>
<span class="-9015138085074288507" onmouseenter="enter('-9015138085074288507');" onmouseout="out('-9015138085074288507');" style=""> 337                  int index = value[2] &amp; 0xFF;                                                                      </span>
<span class="8477248390228805092" onmouseenter="enter('8477248390228805092');" onmouseout="out('8477248390228805092');" style=""> 338                  int button = value[9] &gt;&gt; 4 &amp; 0xFF;                                                                </span>
<span  style=""> 339                                                                                                                    </span>
<span class="-1192023704312105569" onmouseenter="enter('-1192023704312105569');" onmouseout="out('-1192023704312105569');" style=""> 340                  if (index != this.lastButtonIndex) {                                                              </span>
<span class="-8860421732717926118" onmouseenter="enter('-8860421732717926118');" onmouseout="out('-8860421732717926118');" style=""> 341                      lastButtonIndex = index;                                                                      </span>
<span class="616850018420783045" onmouseenter="enter('616850018420783045');" onmouseout="out('616850018420783045');" style=""> 342                      log(&quot;Button press on button &quot; + button);                                                      </span>
<span  style=""> 343                                                                                                                    </span>
<span class="-3627003721429111719" onmouseenter="enter('-3627003721429111719');" onmouseout="out('-3627003721429111719');" style=""> 344                      Intent i = new Intent(QHYBRID_EVENT_BUTTON_PRESS);                                            </span>
<span class="5900841887738464247" onmouseenter="enter('5900841887738464247');" onmouseout="out('5900841887738464247');" style=""> 345                      i.putExtra(&quot;BUTTON&quot;, button);                                                                 </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 346                      getContext().sendBroadcast(i);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 348                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349              }                                                                                                     </span>



















<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351      }                                                                                                             </span>
<span  style=""> 352                                                                                                                    </span>
<span  style=""> 353                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 354      @Override                                                                                                     </span>
<span class="4059332836458884073" onmouseenter="enter('4059332836458884073');" onmouseout="out('4059332836458884073');" style=""> 355      public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {                                           </span>
<span class="-8277517528335740047" onmouseenter="enter('-8277517528335740047');" onmouseout="out('-8277517528335740047');" style=""> 356          super.onMtuChanged(gatt, mtu, status);                                                                    </span>
<span class="5409658112384563066" onmouseenter="enter('5409658112384563066');" onmouseout="out('5409658112384563066');" style=""> 357          this.MTU = mtu;                                                                                           </span>
<span  style=""> 358                                                                                                                    </span>
<span class="6930856753795234454" onmouseenter="enter('6930856753795234454');" onmouseout="out('6930856753795234454');" style=""> 359          getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_MTU, String.valueOf(mtu)));             </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 360          getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                                      </span>
<span  style=""> 361                                                                                                                    </span>
<span class="-6512722495986332562" onmouseenter="enter('-6512722495986332562');" onmouseout="out('-6512722495986332562');" style=""> 362          ((RequestMtuRequest) fossilRequest).setFinished(true);                                                    </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 363          queueNextRequest();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364      }                                                                                                             </span>
<span  style=""> 365                                                                                                                    </span>
<span class="1166233071174553578" onmouseenter="enter('1166233071174553578');" onmouseout="out('1166233071174553578');" style=""> 366      public void queueWrite(RequestMtuRequest request, boolean priorise) {                                         </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style=""> 367          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                              </span>
<span class="3110069276953366480" onmouseenter="enter('3110069276953366480');" onmouseout="out('3110069276953366480');" style=""> 368              new TransactionBuilder(&quot;requestMtu&quot;)                                                                  </span>
<span class="-9055525033345558731" onmouseenter="enter('-9055525033345558731');" onmouseout="out('-9055525033345558731');" style=""> 369                      .requestMtu(512)                                                                              </span>
<span class="7475982186340408444" onmouseenter="enter('7475982186340408444');" onmouseout="out('7475982186340408444');" style=""> 370                      .queue(getDeviceSupport().getQueue());                                                        </span>
<span  style=""> 371                                                                                                                    </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 372              this.fossilRequest = request;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374      }                                                                                                             </span>
<span  style=""> 375                                                                                                                    </span>
<span class="-3295655862750189353" onmouseenter="enter('-3295655862750189353');" onmouseout="out('-3295655862750189353');" style=""> 376      private void log(String message) {                                                                            </span>
<span class="1548773658087899897" onmouseenter="enter('1548773658087899897');" onmouseout="out('1548773658087899897');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 377 -        Log.d(&quot;FossilWatchAdapter&quot;, message);                                                                     </span>
<span class="9145561956568673670" onmouseenter="enter('9145561956568673670');" onmouseout="out('9145561956568673670');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 378 +        logger.debug(message);                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379      }                                                                                                             </span>
<span  style=""> 380                                                                                                                    </span>
<span class="-4576343442795999070" onmouseenter="enter('-4576343442795999070');" onmouseout="out('-4576343442795999070');" style=""> 381      public void queueWrite(SetDeviceStateRequest request, boolean priorise) {                                     </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 382          if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                               </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 383              log(&quot;queing request: &quot; + request.getName());                                                          </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 384              if (priorise) {                                                                                       </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 385                  requestQueue.add(0, request);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 386              } else {                                                                                              </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 387                  requestQueue.add(request);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388              }                                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 389              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390          }                                                                                                         </span>
<span class="-2968591505263822982" onmouseenter="enter('-2968591505263822982');" onmouseout="out('-2968591505263822982');" style=""> 391          log(&quot;setting device state: &quot; + request.getDeviceState());                                                 </span>
<span class="1880441583077609953" onmouseenter="enter('1880441583077609953');" onmouseout="out('1880441583077609953');" style=""> 392          getDeviceSupport().getDevice().setState(request.getDeviceState());                                        </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 393          getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                                      </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 394          queueNextRequest();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395      }                                                                                                             </span>
<span  style=""> 396                                                                                                                    </span>
<span class="3575675551777290585" onmouseenter="enter('3575675551777290585');" onmouseout="out('3575675551777290585');" style=""> 397      public void queueWrite(FossilRequest request, boolean priorise) {                                             </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 398          if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                               </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 399              log(&quot;queing request: &quot; + request.getName());                                                          </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 400              if (priorise) {                                                                                       </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 401                  requestQueue.add(0, request);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 402              } else {                                                                                              </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 403                  requestQueue.add(request);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404              }                                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 405              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406          }                                                                                                         </span>
<span class="2316394992381890961" onmouseenter="enter('2316394992381890961');" onmouseout="out('2316394992381890961');" style=""> 407          log(&quot;executing request: &quot; + request.getName());                                                           </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 408          this.fossilRequest = request;                                                                             </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 409          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 409          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(requ🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410      }                                                                                                             </span>
<span  style=""> 411                                                                                                                    </span>
<span class="-6311202063603005052" onmouseenter="enter('-6311202063603005052');" onmouseout="out('-6311202063603005052');" style=""> 412      public void queueWrite(Request request, boolean priorise) {                                                   </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 413          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 413          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(requ🔵</abbr></span>
<span  style=""> 414                                                                                                                    </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 415          queueNextRequest();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416      }                                                                                                             </span>
<span  style=""> 417                                                                                                                    </span>
<span class="-7292293664532347836" onmouseenter="enter('-7292293664532347836');" onmouseout="out('-7292293664532347836');" style=""> 418      void queueWrite(Request request) {                                                                            </span>
<span class="6767873303838952458" onmouseenter="enter('6767873303838952458');" onmouseout="out('6767873303838952458');" style=""> 419          if (request instanceof SetDeviceStateRequest)                                                             </span>
<span class="-624837134462991662" onmouseenter="enter('-624837134462991662');" onmouseout="out('-624837134462991662');" style=""> 420              queueWrite((SetDeviceStateRequest) request, false);                                                   </span>
<span class="3794917961066152317" onmouseenter="enter('3794917961066152317');" onmouseout="out('3794917961066152317');" style=""> 421          else if (request instanceof RequestMtuRequest)                                                            </span>
<span class="-8094441310402055808" onmouseenter="enter('-8094441310402055808');" onmouseout="out('-8094441310402055808');" style=""> 422              queueWrite((RequestMtuRequest) request, false);                                                       </span>
<span class="-383246438418114342" onmouseenter="enter('-383246438418114342');" onmouseout="out('-383246438418114342');" style=""> 423          else if (request instanceof FossilRequest) queueWrite((FossilRequest) request, false);                    </span>
<span class="-7075409325550123790" onmouseenter="enter('-7075409325550123790');" onmouseout="out('-7075409325550123790');" style=""> 424          else queueWrite(request, false);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425      }                                                                                                             </span>
<span  style=""> 426                                                                                                                    </span>
<span class="-5873341080833470590" onmouseenter="enter('-5873341080833470590');" onmouseout="out('-5873341080833470590');" style=""> 427      private void queueNextRequest() {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 428          try {                                                                                                     </span>
<span class="-8758486334100629151" onmouseenter="enter('-8758486334100629151');" onmouseout="out('-8758486334100629151');" style=""> 429              Request request = requestQueue.remove(0);                                                             </span>
<span class="-3953785809866853226" onmouseenter="enter('-3953785809866853226');" onmouseout="out('-3953785809866853226');" style=""> 430              queueWrite(request);                                                                                  </span>
<span class="4743218385197812299" onmouseenter="enter('4743218385197812299');" onmouseout="out('4743218385197812299');" style=""> 431          } catch (IndexOutOfBoundsException e) {                                                                   </span>
<span class="-1516621385279090264" onmouseenter="enter('-1516621385279090264');" onmouseout="out('-1516621385279090264');" style=""> 432              log(&quot;requestsQueue empty&quot;);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 435  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="2923613792184110803" onmouseenter="enter('2923613792184110803');" onmouseout="out('2923613792184110803');" style="">   1  package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil;                              </span>
<span  style="">   2                                                                                                                    </span>
<span class="2440823415412133066" onmouseenter="enter('2440823415412133066');" onmouseout="out('2440823415412133066');" style="">   3  import android.bluetooth.BluetoothGatt;                                                                           </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   4  import android.bluetooth.BluetoothGattCharacteristic;                                                             </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   5  import android.content.Intent;                                                                                    </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   6  import android.os.Build;                                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">   7  import android.util.Log;                                                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">   8  import android.widget.Toast;                                                                                      </span>



<span  style="">   9                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 +import org.json.JSONArray;                                                                                        </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 +import org.json.JSONException;                                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 +                                                                                                                  </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  13  import java.text.DateFormat;                                                                                      </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  14  import java.util.ArrayList;                                                                                       </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  15  import java.util.Date;                                                                                            </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  16  import java.util.GregorianCalendar;                                                                               </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  17  import java.util.TimeZone;                                                                                        </span>
<span  style="">  18                                                                                                                    </span>
<span class="-1471644270559892265" onmouseenter="enter('-1471644270559892265');" onmouseout="out('-1471644270559892265');" style="">  19  import nodomain.freeyourgadget.gadgetbridge.GBException;                                                          </span>
<span class="-7483974346858162294" onmouseenter="enter('-7483974346858162294');" onmouseout="out('-7483974346858162294');" style="">  20  import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.NotificationConfiguration;                            </span>
<span class="-7717522168233863917" onmouseenter="enter('-7717522168233863917');" onmouseout="out('-7717522168233863917');" style="">  21  import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.PackageConfigHelper;                                  </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  22  import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                                        </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                          </span>
<span class="7672535166545256161" onmouseenter="enter('7672535166545256161');" onmouseout="out('7672535166545256161');" style="">  24  import nodomain.freeyourgadget.gadgetbridge.model.GenericItem;                                                    </span>
<span class="3410519392510510669" onmouseenter="enter('3410519392510510669');" onmouseout="out('3410519392510510669');" style="">  25  import nodomain.freeyourgadget.gadgetbridge.service.btle.TransactionBuilder;                                      </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  26  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                               </span>
<span class="3322723522373113781" onmouseenter="enter('3322723522373113781');" onmouseout="out('3322723522373113781');" style="">  27  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.WatchAdapter;                         </span>
<span class="-2799508117160188769" onmouseenter="enter('-2799508117160188769');" onmouseout="out('-2799508117160188769');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigFileBuilder;               </span>
<span class="3544192455451748258" onmouseenter="enter('3544192455451748258');" onmouseout="out('3544192455451748258');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.buttonconfig.ConfigPayload;                   </span>
<span class="2090042171840798451" onmouseenter="enter('2090042171840798451');" onmouseout="out('2090042171840798451');" style="">  30  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.Request;                             </span>
<span class="-2455941194154498360" onmouseenter="enter('-2455941194154498360');" onmouseout="out('-2455941194154498360');" style="">  31  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.FossilRequest;                </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  32  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;            </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style="">  33  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;        </span>
<span class="1031059801646776097" onmouseenter="enter('1031059801646776097');" onmouseout="out('1031059801646776097');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsGetRequest;       </span>
<span class="-3957549361440696353" onmouseenter="enter('-3957549361440696353');" onmouseout="out('-3957549361440696353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.AlarmsSetRequest;       </span>
<span class="-485489977593186472" onmouseenter="enter('-485489977593186472');" onmouseout="out('-485489977593186472');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  36 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigurationGetRequest;">  36 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.button.ButtonConfigurationGetR🔵</abbr></span>
<span class="8456474303681518874" onmouseenter="enter('8456474303681518874');" onmouseout="out('8456474303681518874');" style=""><abbr title="  37  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGetRequest;">  37  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationGet🔵</abbr></span>
<span class="6063983850693379079" onmouseenter="enter('6063983850693379079');" onmouseout="out('6063983850693379079');" style=""><abbr title="  38  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest;">  38  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPut🔵</abbr></span>
<span class="-6160269686715032110" onmouseenter="enter('-6160269686715032110');" onmouseout="out('-6160269686715032110');" style="">  39  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FilePutRequest;          </span>
<span class="-1028510867556361299" onmouseenter="enter('-1028510867556361299');" onmouseout="out('-1028510867556361299');" style=""><abbr title="  40  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilterPutRequest;">  40  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.NotificationFilte🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  41  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  41  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationR🔵</abbr></span>
<span class="-5865827548439034307" onmouseenter="enter('-5865827548439034307');" onmouseout="out('-5865827548439034307');" style="">  42  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.AnimationRequest;             </span>
<span class="-6260088196349644799" onmouseenter="enter('-6260088196349644799');" onmouseout="out('-6260088196349644799');" style="">  43  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.MoveHandsRequest;             </span>
<span class="6036958101215125198" onmouseenter="enter('6036958101215125198');" onmouseout="out('6036958101215125198');" style="">  44  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.ReleaseHandsControlRequest;   </span>
<span class="4138099863165019445" onmouseenter="enter('4138099863165019445');" onmouseout="out('4138099863165019445');" style="">  45  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.RequestHandControlRequest;    </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  46  import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                              </span>
<span  style="">  47                                                                                                                    </span>
<span class="2499827060581337575" onmouseenter="enter('2499827060581337575');" onmouseout="out('2499827060581337575');" style=""><abbr title="  48  import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRESS;">  48  import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_BUTTON_PRE🔵</abbr></span>
<span class="5066855057518995879" onmouseenter="enter('5066855057518995879');" onmouseout="out('5066855057518995879');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  49 +import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_MULTI_BUTTON_PRESS;">  49 +import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport.QHYBRID_EVENT_MULTI_BUTT🔵</abbr></span>
<span  style="">  50                                                                                                                    </span>
<span class="-7525731093157952067" onmouseenter="enter('-7525731093157952067');" onmouseout="out('-7525731093157952067');" style="">  51  public class FossilWatchAdapter extends WatchAdapter {                                                            </span>
<span class="1195654240209704003" onmouseenter="enter('1195654240209704003');" onmouseout="out('1195654240209704003');" style="">  52      private ArrayList&lt;Request&gt; requestQueue = new ArrayList&lt;&gt;();                                                  </span>
<span  style="">  53                                                                                                                    </span>
<span class="2142601754793799589" onmouseenter="enter('2142601754793799589');" onmouseout="out('2142601754793799589');" style="">  54      private FossilRequest fossilRequest;                                                                          </span>
<span  style="">  55                                                                                                                    </span>
<span class="-3015417213827192255" onmouseenter="enter('-3015417213827192255');" onmouseout="out('-3015417213827192255');" style="">  56      private int MTU = 23;                                                                                         </span>
<span  style="">  57                                                                                                                    </span>
<span class="7214207819631100316" onmouseenter="enter('7214207819631100316');" onmouseout="out('7214207819631100316');" style="">  58      private String ITEM_MTU = &quot;MTU&quot;;                                                                              </span>
<span class="1753245896642996136" onmouseenter="enter('1753245896642996136');" onmouseout="out('1753245896642996136');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +    static public final String ITEM_BUTTONS = &quot;BUTTONS&quot;;                                                          </span>
<span  style="">  60                                                                                                                    </span>
<span class="-8890462315568593084" onmouseenter="enter('-8890462315568593084');" onmouseout="out('-8890462315568593084');" style="">  61      private int lastButtonIndex = -1;                                                                             </span>
<span  style="">  62                                                                                                                    </span>


<span class="-6132543960234271010" onmouseenter="enter('-6132543960234271010');" onmouseout="out('-6132543960234271010');" style="">  63      public FossilWatchAdapter(QHybridSupport deviceSupport) {                                                     </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  64          super(deviceSupport);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65      }                                                                                                             </span>
<span  style="">  66                                                                                                                    </span>
<span  style="">  67                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  68      @Override                                                                                                     </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  69      public void initialize() {                                                                                    </span>
<span class="-4784435253982341327" onmouseenter="enter('-4784435253982341327');" onmouseout="out('-4784435253982341327');" style="">  70          playPairingAnimation();                                                                                   </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  71          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                              </span>
<span class="-529551863285165269" onmouseenter="enter('-529551863285165269');" onmouseout="out('-529551863285165269');" style="">  72              queueWrite(new RequestMtuRequest(512), false);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  73          }                                                                                                         </span>
<span class="-331366053797168206" onmouseenter="enter('-331366053797168206');" onmouseout="out('-331366053797168206');" style="">  74          queueWrite(new ConfigurationGetRequest(this), false);                                                     </span>
<span  style="">  75                                                                                                                    </span>
<span class="1508133748144491002" onmouseenter="enter('1508133748144491002');" onmouseout="out('1508133748144491002');" style="">  76          syncNotificationSettings();                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +                                                                                                                  </span>
<span class="3977096852409471998" onmouseenter="enter('3977096852409471998');" onmouseout="out('3977096852409471998');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +        queueWrite(new ButtonConfigurationGetRequest(this) {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  79 +            @Override                                                                                             </span>
<span class="-1487684019435743701" onmouseenter="enter('-1487684019435743701');" onmouseout="out('-1487684019435743701');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +            public void onConfigurationsGet(ConfigPayload[] configs) {                                            </span>
<span class="-2601870964218793380" onmouseenter="enter('-2601870964218793380');" onmouseout="out('-2601870964218793380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  81 +                super.onConfigurationsGet(configs);                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +                                                                                                                  </span>
<span class="1670117978377592251" onmouseenter="enter('1670117978377592251');" onmouseout="out('1670117978377592251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  83 +                JSONArray buttons = new JSONArray();                                                              </span>
<span class="6682205060812300584" onmouseenter="enter('6682205060812300584');" onmouseout="out('6682205060812300584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +                for (ConfigPayload payload : configs) buttons.put(String.valueOf(payload));                       </span>
<span class="-4316381087013812630" onmouseenter="enter('-4316381087013812630');" onmouseout="out('-4316381087013812630');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +                String json = buttons.toString();                                                                 </span>
<span class="-4616163105976568730" onmouseenter="enter('-4616163105976568730');" onmouseout="out('-4616163105976568730');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +                getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_BUTTONS, json));                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  87 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +        });                                                                                                       </span>
<span  style="">  89                                                                                                                    </span>
<span class="5411003737943219307" onmouseenter="enter('5411003737943219307');" onmouseout="out('5411003737943219307');" style="">  90          queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED), false);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91      }                                                                                                             </span>
<span  style="">  92                                                                                                                    </span>
<span class="3546647492997211457" onmouseenter="enter('3546647492997211457');" onmouseout="out('3546647492997211457');" style="">  93      public int getMTU() {                                                                                         </span>
<span class="6365412335896587692" onmouseenter="enter('6365412335896587692');" onmouseout="out('6365412335896587692');" style="">  94          if (this.MTU &lt; 0) throw new RuntimeException(&quot;MTU not configured&quot;);                                       </span>
<span  style="">  95                                                                                                                    </span>
<span class="-7001790466828694007" onmouseenter="enter('-7001790466828694007');" onmouseout="out('-7001790466828694007');" style="">  96          return this.MTU;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97      }                                                                                                             </span>
<span  style="">  98                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  99      @Override                                                                                                     </span>
<span class="6553842608624105970" onmouseenter="enter('6553842608624105970');" onmouseout="out('6553842608624105970');" style=""> 100      public void playPairingAnimation() {                                                                          </span>
<span class="1320466205813454973" onmouseenter="enter('1320466205813454973');" onmouseout="out('1320466205813454973');" style=""> 101          queueWrite(new AnimationRequest(), false);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102      }                                                                                                             </span>
<span  style=""> 103                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 104      @Override                                                                                                     </span>
<span class="8521690812134896195" onmouseenter="enter('8521690812134896195');" onmouseout="out('8521690812134896195');" style=""> 105      public void playNotification(NotificationConfiguration config) {                                              </span>
<span class="-6783799527271845784" onmouseenter="enter('-6783799527271845784');" onmouseout="out('-6783799527271845784');" style=""> 106          if (config.getPackageName() == null) {                                                                    </span>
<span class="-1149857065563503220" onmouseenter="enter('-1149857065563503220');" onmouseout="out('-1149857065563503220');" style=""> 107              log(&quot;package name in notification not set&quot;);                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 108              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109          }                                                                                                         </span>
<span class="1897113475738739385" onmouseenter="enter('1897113475738739385');" onmouseout="out('1897113475738739385');" style=""> 110          queueWrite(new PlayNotificationRequest(config.getPackageName(), this), false);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111      }                                                                                                             </span>
<span  style=""> 112                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 113      @Override                                                                                                     </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 114      public void setTime() {                                                                                       </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 115          long millis = System.currentTimeMillis();                                                                 </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 116          TimeZone zone = new GregorianCalendar().getTimeZone();                                                    </span>
<span  style=""> 117                                                                                                                    </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 118          queueWrite(                                                                                               </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 119                  new ConfigurationPutRequest(                                                                      </span>
<span class="3969253431822543743" onmouseenter="enter('3969253431822543743');" onmouseout="out('3969253431822543743');" style=""> 120                          new ConfigurationPutRequest.TimeConfigItem(                                               </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 121                                  (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),                  </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 122                                  (short) (millis % 1000),                                                          </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 123                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 123                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 124                          ),                                                                                        </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 125                          this), false                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 126          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127      }                                                                                                             </span>
<span  style=""> 128                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 129      @Override                                                                                                     </span>
<span class="-8442583637732746352" onmouseenter="enter('-8442583637732746352');" onmouseout="out('-8442583637732746352');" style=""> 130      public void overwriteButtons() {                                                                              </span>
<span class="6211969083240194271" onmouseenter="enter('6211969083240194271');" onmouseout="out('6211969083240194271');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 131 -        FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, new byte[]{                         </span>
<span class="-6637666168868146265" onmouseenter="enter('-6637666168868146265');" onmouseout="out('-6637666168868146265');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 132 -                (byte) 0x01, (byte) 0x00, (byte) 0x00,                                                            </span>
<span class="-595502421189662030" onmouseenter="enter('-595502421189662030');" onmouseout="out('-595502421189662030');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 133 -                (byte) 0x03,                                                                                      </span>
<span class="8017821355450020029" onmouseenter="enter('8017821355450020029');" onmouseout="out('8017821355450020029');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -                (byte) 0x10, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x00, (byte) 0x00,        </span>
<span class="6762105990189550807" onmouseenter="enter('6762105990189550807');" onmouseout="out('6762105990189550807');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -                (byte) 0x20, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x00, (byte) 0x00,        </span>
<span class="-2750838077776842998" onmouseenter="enter('-2750838077776842998');" onmouseout="out('-2750838077776842998');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -                (byte) 0x30, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x00, (byte) 0x00,        </span>
<span class="643018661665771499" onmouseenter="enter('643018661665771499');" onmouseout="out('643018661665771499');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -                (byte) 0x01,                                                                                      </span>
<span class="-1083184151897903005" onmouseenter="enter('-1083184151897903005');" onmouseout="out('-1083184151897903005');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 138 -                (byte) 0x01, (byte) 0x00, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x2E, (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0x06, (byte) 0x00, (byte) 0x01, (byte) 0x01, (byte) 0x01, (byte) 0x03, (byte) 0x00, (byte) 0x02, (byte) 0x01, (byte) 0x0F, (byte) 0x00, (byte) 0x8B, (byte) 0x00, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x01, (byte) 0x08, (byte) 0x01, (byte) 0x14, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0xFE, (byte) 0x08, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x02, (byte) 0x01, (byte) 0x00, (byte) 0xBF, (byte) 0xD5, (byte) 0x54, (byte) 0xD1,"> 138 -                (byte) 0x01, (byte) 0x00, (byte) 0x01, (byte) 0x01, (byte) 0x0C, (byte) 0x2E, (byte) 0x00, (byte) 🔵</abbr></span>
<span class="-3953921874774397702" onmouseenter="enter('-3953921874774397702');" onmouseout="out('-3953921874774397702');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -                (byte) 0x00,                                                                                      </span>
<span class="-9129629396127709871" onmouseenter="enter('-9129629396127709871');" onmouseout="out('-9129629396127709871');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -                (byte) 0x4F, (byte) 0x79, (byte) 0x97, (byte) 0x78,                                               </span>
<span class="2959816254296891061" onmouseenter="enter('2959816254296891061');" onmouseout="out('2959816254296891061');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -        }, this){                                                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -            @Override                                                                                             </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -            public void onFilePut(boolean success) {                                                              </span>
<span class="8931377633913318080" onmouseenter="enter('8931377633913318080');" onmouseout="out('8931377633913318080');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -                if(success) GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);    </span>
<span class="-4166541072297664776" onmouseenter="enter('-4166541072297664776');" onmouseout="out('-4166541072297664776');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -                else GB.toast(&quot;error overwriting button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -        };                                                                                                        </span>
<span class="4426460983854065500" onmouseenter="enter('4426460983854065500');" onmouseout="out('4426460983854065500');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -        queueWrite(fileUploadRequets);                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 149 +        try {                                                                                                     </span>
<span class="-1731301164298283181" onmouseenter="enter('-1731301164298283181');" onmouseout="out('-1731301164298283181');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 150 +            JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_BUTTONS).getDetails());"> 150 +            JSONArray buttonConfigJson = new JSONArray(getDeviceSupport().getDevice().getDeviceInfo(ITEM_BUTTONS).🔵</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +                                                                                                                  </span>
<span class="-3346202498142011652" onmouseenter="enter('-3346202498142011652');" onmouseout="out('-3346202498142011652');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +            ConfigPayload[] payloads = new ConfigPayload[buttonConfigJson.length()];                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +                                                                                                                  </span>
<span class="6308082735200953138" onmouseenter="enter('6308082735200953138');" onmouseout="out('6308082735200953138');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +            for (int i = 0; i &lt; buttonConfigJson.length(); i++) {                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +                try {                                                                                             </span>
<span class="1160541087195237888" onmouseenter="enter('1160541087195237888');" onmouseout="out('1160541087195237888');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +                    payloads[i] = ConfigPayload.valueOf(buttonConfigJson.getString(i));                           </span>
<span class="-1471183022667940231" onmouseenter="enter('-1471183022667940231');" onmouseout="out('-1471183022667940231');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +                } catch (IllegalArgumentException e) {                                                            </span>
<span class="-1884999885194453074" onmouseenter="enter('-1884999885194453074');" onmouseout="out('-1884999885194453074');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +                    payloads[i] = ConfigPayload.FORWARD_TO_PHONE;                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +                                                                                                                  </span>
<span class="8120873169825688251" onmouseenter="enter('8120873169825688251');" onmouseout="out('8120873169825688251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 162 +            ConfigFileBuilder builder = new ConfigFileBuilder(payloads);                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +                                                                                                                  </span>
<span class="2471739353996067823" onmouseenter="enter('2471739353996067823');" onmouseout="out('2471739353996067823');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +            FilePutRequest fileUploadRequets = new FilePutRequest((short) 0x0600, builder.build(true), this) {    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +                @Override                                                                                         </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +                public void onFilePut(boolean success) {                                                          </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +                    if (success)                                                                                  </span>
<span class="-980779450460475221" onmouseenter="enter('-980779450460475221');" onmouseout="out('-980779450460475221');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +                        GB.toast(&quot;successfully overwritten button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);        </span>
<span class="-4166541072297664776" onmouseenter="enter('-4166541072297664776');" onmouseout="out('-4166541072297664776');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +                    else GB.toast(&quot;error overwriting button settings&quot;, Toast.LENGTH_SHORT, GB.INFO);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +                }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +            };                                                                                                    </span>
<span class="4426460983854065500" onmouseenter="enter('4426460983854065500');" onmouseout="out('4426460983854065500');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +            queueWrite(fileUploadRequets);                                                                        </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +        } catch (JSONException e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +            e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span  style=""> 177                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178      @Override                                                                                                     </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 179      public void setActivityHand(double progress) {                                                                </span>
<span class="-5003745590397881984" onmouseenter="enter('-5003745590397881984');" onmouseout="out('-5003745590397881984');" style=""> 180          queueWrite(new ConfigurationPutRequest(                                                                   </span>
<span class="-1274087565432836677" onmouseenter="enter('-1274087565432836677');" onmouseout="out('-1274087565432836677');" style=""><abbr title=" 181                  new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress))),"> 181                  new ConfigurationPutRequest.CurrentStepCountConfigItem(Math.min(999999, (int) (1000000 * progress)🔵</abbr></span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 182                  this                                                                                              </span>
<span class="7701925171622270948" onmouseenter="enter('7701925171622270948');" onmouseout="out('7701925171622270948');" style=""> 183          ), false);                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184      }                                                                                                             </span>
<span  style=""> 185                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 186      @Override                                                                                                     </span>
<span class="950037135509614227" onmouseenter="enter('950037135509614227');" onmouseout="out('950037135509614227');" style=""> 187      public void setHands(short hour, short minute) {                                                              </span>
<span class="-7308249657826701351" onmouseenter="enter('-7308249657826701351');" onmouseout="out('-7308249657826701351');" style=""> 188          queueWrite(new MoveHandsRequest(false, minute, hour, (short) -1), false);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189      }                                                                                                             </span>
<span  style=""> 190                                                                                                                    </span>
<span  style=""> 191                                                                                                                    </span>
<span class="-7686458614870644313" onmouseenter="enter('-7686458614870644313');" onmouseout="out('-7686458614870644313');" style=""><abbr title=" 192      public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest.VibrationType vibration) {"> 192      public void vibrate(nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificat🔵</abbr></span>
<span class="7269778319868126302" onmouseenter="enter('7269778319868126302');" onmouseout="out('7269778319868126302');" style=""><abbr title=" 193          // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotificationRequest(vibration, -1, -1));"> 193          // queueWrite(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.misfit.PlayNotific🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196      @Override                                                                                                     </span>
<span class="-4607916161418936141" onmouseenter="enter('-4607916161418936141');" onmouseout="out('-4607916161418936141');" style=""> 197      public void vibrateFindMyDevicePattern() {                                                                    </span>
<span  style=""> 198                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span  style=""> 201                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 202      @Override                                                                                                     </span>
<span class="-6532646074151310772" onmouseenter="enter('-6532646074151310772');" onmouseout="out('-6532646074151310772');" style=""> 203      public void requestHandsControl() {                                                                           </span>
<span class="845470347332695933" onmouseenter="enter('845470347332695933');" onmouseout="out('845470347332695933');" style=""> 204          queueWrite(new RequestHandControlRequest(), false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205      }                                                                                                             </span>
<span  style=""> 206                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207      @Override                                                                                                     </span>
<span class="5268567045225055789" onmouseenter="enter('5268567045225055789');" onmouseout="out('5268567045225055789');" style=""> 208      public void releaseHandsControl() {                                                                           </span>
<span class="303207396055204695" onmouseenter="enter('303207396055204695');" onmouseout="out('303207396055204695');" style=""> 209          queueWrite(new ReleaseHandsControlRequest(), false);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210      }                                                                                                             </span>
<span  style=""> 211                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 212      @Override                                                                                                     </span>
<span class="7960938870834875611" onmouseenter="enter('7960938870834875611');" onmouseout="out('7960938870834875611');" style=""> 213      public void setStepGoal(int stepGoal) {                                                                       </span>
<span class="6871573190650859359" onmouseenter="enter('6871573190650859359');" onmouseout="out('6871573190650859359');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 214 -        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this){"> 214 -        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this🔵</abbr></span>
<span class="8851644157057615652" onmouseenter="enter('8851644157057615652');" onmouseout="out('8851644157057615652');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 215 +        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this) {"> 215 +        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.DailyStepGoalConfigItem(stepGoal), this🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216              @Override                                                                                             </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 217              public void onFilePut(boolean success) {                                                              </span>
<span class="8515796703065844791" onmouseenter="enter('8515796703065844791');" onmouseout="out('8515796703065844791');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 218 -                if(success) GB.toast(&quot;successfully updated step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);              </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 219 +                if (success)                                                                                      </span>
<span class="-6265074681006882794" onmouseenter="enter('-6265074681006882794');" onmouseout="out('-6265074681006882794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 220 +                    GB.toast(&quot;successfully updated step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);                      </span>
<span class="7595940445245185427" onmouseenter="enter('7595940445245185427');" onmouseout="out('7595940445245185427');" style=""> 221                  else GB.toast(&quot;error updating step goal&quot;, Toast.LENGTH_SHORT, GB.INFO);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222              }                                                                                                     </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 223          }, false);                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224      }                                                                                                             </span>
<span  style=""> 225                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226      @Override                                                                                                     </span>
<span class="1506969207519742362" onmouseenter="enter('1506969207519742362');" onmouseout="out('1506969207519742362');" style=""> 227      public void setVibrationStrength(short strength) {                                                            </span>
<span class="-7509590071108039539" onmouseenter="enter('-7509590071108039539');" onmouseout="out('-7509590071108039539');" style=""><abbr title=" 228          ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem((byte) strength);"> 228          ConfigurationPutRequest.ConfigItem vibrationItem = new ConfigurationPutRequest.VibrationStrengthConfigItem🔵</abbr></span>
<span  style=""> 229                                                                                                                    </span>
<span  style=""> 230                                                                                                                    </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 231          queueWrite(                                                                                               </span>
<span class="1955278548626520341" onmouseenter="enter('1955278548626520341');" onmouseout="out('1955278548626520341');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 232 -                new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this){       </span>
<span class="3565164893974833288" onmouseenter="enter('3565164893974833288');" onmouseout="out('3565164893974833288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +                new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[]{vibrationItem}, this) {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 234                      @Override                                                                                     </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 235                      public void onFilePut(boolean success) {                                                      </span>
<span class="477960796911306833" onmouseenter="enter('477960796911306833');" onmouseout="out('477960796911306833');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 236 -                        if(success) GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);"> 236 -                        if(success) GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INF🔵</abbr></span>
<span class="3233078293080536978" onmouseenter="enter('3233078293080536978');" onmouseout="out('3233078293080536978');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 237 -                        else GB.toast(&quot;error updating vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);          </span>
<span class="4485851088054476403" onmouseenter="enter('4485851088054476403');" onmouseout="out('4485851088054476403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +                        if (success)                                                                              </span>
<span class="-4715401381453784584" onmouseenter="enter('-4715401381453784584');" onmouseout="out('-4715401381453784584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +                            GB.toast(&quot;successfully updated vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);     </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +                        else                                                                                      </span>
<span class="-2857144445981765585" onmouseenter="enter('-2857144445981765585');" onmouseout="out('-2857144445981765585');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +                            GB.toast(&quot;error updating vibration strength&quot;, Toast.LENGTH_SHORT, GB.INFO);           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242                      }                                                                                             </span>
<span class="6768923637037837046" onmouseenter="enter('6768923637037837046');" onmouseout="out('6768923637037837046');" style=""> 243                  }, false                                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 244          );                                                                                                        </span>
<span class="2880871101947458708" onmouseenter="enter('2880871101947458708');" onmouseout="out('2880871101947458708');" style=""> 245          // queueWrite(new FileVerifyRequest((short) 0x0800));                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246      }                                                                                                             </span>
<span  style=""> 247                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 248      @Override                                                                                                     </span>
<span class="-1651863958203525754" onmouseenter="enter('-1651863958203525754');" onmouseout="out('-1651863958203525754');" style=""> 249      public void syncNotificationSettings() {                                                                      </span>
<span class="-5529433289440585150" onmouseenter="enter('-5529433289440585150');" onmouseout="out('-5529433289440585150');" style=""> 250          log(&quot;syncing notification settings...&quot;);                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 251          try {                                                                                                     </span>
<span class="5735085668667966613" onmouseenter="enter('5735085668667966613');" onmouseout="out('5735085668667966613');" style=""> 252              PackageConfigHelper helper = new PackageConfigHelper(getContext());                                   </span>
<span class="-6037969067402155252" onmouseenter="enter('-6037969067402155252');" onmouseout="out('-6037969067402155252');" style=""> 253              final ArrayList&lt;NotificationConfiguration&gt; configurations = helper.getNotificationConfigurations();   </span>
<span class="318121021842844125" onmouseenter="enter('318121021842844125');" onmouseout="out('318121021842844125');" style=""> 254              if (configurations.size() == 1) configurations.add(configurations.get(0));                            </span>
<span class="8242503007416701520" onmouseenter="enter('8242503007416701520');" onmouseout="out('8242503007416701520');" style=""> 255              queueWrite(new NotificationFilterPutRequest(configurations, FossilWatchAdapter.this) {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256                  @Override                                                                                         </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style=""> 257                  public void onFilePut(boolean success) {                                                          </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style=""> 258                      super.onFilePut(success);                                                                     </span>
<span  style=""> 259                                                                                                                    </span>
<span class="5774595805314112369" onmouseenter="enter('5774595805314112369');" onmouseout="out('5774595805314112369');" style=""> 260                      if (!success) {                                                                               </span>
<span class="4016367561700232905" onmouseenter="enter('4016367561700232905');" onmouseout="out('4016367561700232905');" style=""> 261                          GB.toast(&quot;error writing notification settings&quot;, Toast.LENGTH_SHORT, GB.ERROR);            </span>
<span  style=""> 262                                                                                                                    </span>
<span class="4156748068991402090" onmouseenter="enter('4156748068991402090');" onmouseout="out('4156748068991402090');" style=""> 263                          getDeviceSupport().getDevice().setState(GBDevice.State.NOT_CONNECTED);                    </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 264                          getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265                      }                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="-5829793222040865313" onmouseenter="enter('-5829793222040865313');" onmouseout="out('-5829793222040865313');" style=""> 267                      getDeviceSupport().getDevice().setState(GBDevice.State.INITIALIZED);                          </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 268                      getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269                  }                                                                                                 </span>
<span class="-597196361779906506" onmouseenter="enter('-597196361779906506');" onmouseout="out('-597196361779906506');" style=""> 270              }, false);                                                                                            </span>
<span class="-4956016385818808676" onmouseenter="enter('-4956016385818808676');" onmouseout="out('-4956016385818808676');" style=""> 271          } catch (GBException e) {                                                                                 </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 272              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274      }                                                                                                             </span>
<span  style=""> 275                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 276      @Override                                                                                                     </span>
<span class="-1180224994468071186" onmouseenter="enter('-1180224994468071186');" onmouseout="out('-1180224994468071186');" style=""> 277      public void onTestNewFunction() {                                                                             </span>
<span class="-1301794454532733156" onmouseenter="enter('-1301794454532733156');" onmouseout="out('-1301794454532733156');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 278 -        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this), false);          </span>
<span class="-4659645277373204901" onmouseenter="enter('-4659645277373204901');" onmouseout="out('-4659645277373204901');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +        queueWrite(new FilePutRequest(                                                                            </span>
<span class="7655426854237958477" onmouseenter="enter('7655426854237958477');" onmouseout="out('7655426854237958477');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +                (short) 0x0600,                                                                                   </span>
<span class="-945414448365533169" onmouseenter="enter('-945414448365533169');" onmouseout="out('-945414448365533169');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +                new byte[]{                                                                                       </span>
<span class="-2767736911652308244" onmouseenter="enter('-2767736911652308244');" onmouseout="out('-2767736911652308244');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 282 +                        (byte) 0x01, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x01, (byte) 0x24, (byte) 0x00, (byte) 0x85, (byte) 0x01, (byte) 0x30, (byte) 0x52, (byte) 0xFF, (byte) 0x26, (byte) 0x00, (byte) 0x03, (byte) 0x00, (byte) 0x09, (byte) 0x04, (byte) 0x01, (byte) 0x03, (byte) 0xA0, (byte) 0x00, (byte) 0x00, (byte) 0xA0, (byte) 0x00, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x05, (byte) 0x00, (byte) 0x93, (byte) 0x00, (byte) 0x02, (byte) 0x09, (byte) 0x04, (byte) 0x01, (byte) 0x03, (byte) 0x00, (byte) 0x24, (byte) 0x00, (byte) 0x00, (byte) 0x24, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x50, (byte) 0x00, (byte) 0x01, (byte) 0x00, (byte) 0x1F, (byte) 0xBE, (byte) 0xB4, (byte) 0x1B"> 282 +                        (byte) 0x01, (byte) 0x00, (byte) 0x08, (byte) 0x01, (byte) 0x01, (byte) 0x24, (byte) 0x00,🔵</abbr></span>
<span class="-4102417550988568311" onmouseenter="enter('-4102417550988568311');" onmouseout="out('-4102417550988568311');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +                },                                                                                                </span>
<span class="3475435761465163296" onmouseenter="enter('3475435761465163296');" onmouseout="out('3475435761465163296');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +                this)                                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +    @Override                                                                                                     </span>
<span class="6345014031056245858" onmouseenter="enter('6345014031056245858');" onmouseout="out('6345014031056245858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 289 +    public void setTimezoneOffsetMinutes(short offset) {                                                          </span>
<span class="1381779850157780775" onmouseenter="enter('1381779850157780775');" onmouseout="out('1381779850157780775');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 290 +        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offset), this){"> 290 +        queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.TimezoneOffsetConfigItem(offset), this)🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +            @Override                                                                                             </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +            public void onFilePut(boolean success) {                                                              </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 293 +                super.onFilePut(success);                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 294 +                                                                                                                  </span>
<span class="-3135304625786003752" onmouseenter="enter('-3135304625786003752');" onmouseout="out('-3135304625786003752');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 295 +                if(success) GB.toast(&quot;successfully updated timezone&quot;, Toast.LENGTH_SHORT, GB.INFO);               </span>
<span class="407242995437451917" onmouseenter="enter('407242995437451917');" onmouseout="out('407242995437451917');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 296 +                else GB.toast(&quot;error updating timezone&quot;, Toast.LENGTH_SHORT, GB.ERROR);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 297 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +        });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299      }                                                                                                             </span>
<span  style=""> 300                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 301      @Override                                                                                                     </span>
<span class="-3054925419297870439" onmouseenter="enter('-3054925419297870439');" onmouseout="out('-3054925419297870439');" style=""> 302      public boolean supportsFindDevice() {                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 303          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304      }                                                                                                             </span>
<span  style=""> 305                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 306      @Override                                                                                                     </span>
<span class="-8924444745054373900" onmouseenter="enter('-8924444745054373900');" onmouseout="out('-8924444745054373900');" style=""> 307      public boolean supportsExtendedVibration() {                                                                  </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 308          String modelNumber = getDeviceSupport().getDevice().getModel();                                           </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 309          switch (modelNumber) {                                                                                    </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 310              case &quot;HW.0.0&quot;:                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 311                  return true;                                                                                      </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 312              case &quot;HL.0.0&quot;:                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 313                  return false;                                                                                     </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314          }                                                                                                         </span>
<span class="-421459058626985428" onmouseenter="enter('-421459058626985428');" onmouseout="out('-421459058626985428');" style=""> 315          throw new UnsupportedOperationException(&quot;model &quot; + modelNumber + &quot; not supported&quot;);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316      }                                                                                                             </span>
<span  style=""> 317                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 318      @Override                                                                                                     </span>
<span class="-1954248356050626516" onmouseenter="enter('-1954248356050626516');" onmouseout="out('-1954248356050626516');" style=""> 319      public boolean supportsActivityHand() {                                                                       </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 320          String modelNumber = getDeviceSupport().getDevice().getModel();                                           </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 321          switch (modelNumber) {                                                                                    </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 322              case &quot;HW.0.0&quot;:                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 323                  return true;                                                                                      </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 324              case &quot;HL.0.0&quot;:                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 325                  return false;                                                                                     </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326          }                                                                                                         </span>
<span class="2217603857070485772" onmouseenter="enter('2217603857070485772');" onmouseout="out('2217603857070485772');" style=""> 327          throw new UnsupportedOperationException(&quot;Model &quot; + modelNumber + &quot; not supported&quot;);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328      }                                                                                                             </span>
<span  style=""> 329                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 330      @Override                                                                                                     </span>
<span class="716317508880357708" onmouseenter="enter('716317508880357708');" onmouseout="out('716317508880357708');" style=""> 331      public String getModelName() {                                                                                </span>
<span class="5095090507109781333" onmouseenter="enter('5095090507109781333');" onmouseout="out('5095090507109781333');" style=""> 332          String modelNumber = getDeviceSupport().getDevice().getModel();                                           </span>
<span class="-4857789935508106726" onmouseenter="enter('-4857789935508106726');" onmouseout="out('-4857789935508106726');" style=""> 333          switch (modelNumber) {                                                                                    </span>
<span class="5848112625328853271" onmouseenter="enter('5848112625328853271');" onmouseout="out('5848112625328853271');" style=""> 334              case &quot;HW.0.0&quot;:                                                                                        </span>
<span class="-8794245855462214322" onmouseenter="enter('-8794245855462214322');" onmouseout="out('-8794245855462214322');" style=""> 335                  return &quot;Q Commuter&quot;;                                                                              </span>
<span class="8498408282011691611" onmouseenter="enter('8498408282011691611');" onmouseout="out('8498408282011691611');" style=""> 336              case &quot;HL.0.0&quot;:                                                                                        </span>
<span class="-5251755248507333547" onmouseenter="enter('-5251755248507333547');" onmouseout="out('-5251755248507333547');" style=""> 337                  return &quot;Q Activist&quot;;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338          }                                                                                                         </span>
<span class="7481221144904173106" onmouseenter="enter('7481221144904173106');" onmouseout="out('7481221144904173106');" style=""> 339          return &quot;unknwon Q&quot;;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 342      @Override                                                                                                     </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 343      public void onFetchActivityData() {                                                                           </span>
<span  style=""> 344                                                                                                                    </span>
<span class="-4814314931431128201" onmouseenter="enter('-4814314931431128201');" onmouseout="out('-4814314931431128201');" style=""> 345          // queueWrite(new ConfigurationPutRequest(new ConfigurationPutRequest.ConfigItem[0], this));              </span>
<span class="7149866427364516122" onmouseenter="enter('7149866427364516122');" onmouseout="out('7149866427364516122');" style=""> 346          setVibrationStrength((byte) 50);                                                                          </span>
<span class="-4426153981903290623" onmouseenter="enter('-4426153981903290623');" onmouseout="out('-4426153981903290623');" style=""> 347          // queueWrite(new FileCloseRequest((short) 0x0800));                                                      </span>
<span class="-3476175542662741046" onmouseenter="enter('-3476175542662741046');" onmouseout="out('-3476175542662741046');" style=""> 348          // queueWrite(new ConfigurationGetRequest(this));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 349 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 350 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 351 +    @Override                                                                                                     </span>
<span class="-6473317888357330260" onmouseenter="enter('-6473317888357330260');" onmouseout="out('-6473317888357330260');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 352 +    public void onSetAlarms(ArrayList&lt;? extends Alarm&gt; alarms) {                                                  </span>
<span class="8915602864017605399" onmouseenter="enter('8915602864017605399');" onmouseout="out('8915602864017605399');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 353 +       //  throw new RuntimeException(&quot;noope&quot;);                                                                   </span>
<span class="-3338453742873126944" onmouseenter="enter('-3338453742873126944');" onmouseout="out('-3338453742873126944');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 354 +        ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm&gt; activeAlarms = new ArrayList&lt;&gt;();"> 354 +        ArrayList&lt;nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm&gt; active🔵</abbr></span>
<span class="-1058634864445966530" onmouseenter="enter('-1058634864445966530');" onmouseout="out('-1058634864445966530');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 355 +        for (Alarm alarm : alarms){                                                                               </span>
<span class="3364921582725904587" onmouseenter="enter('3364921582725904587');" onmouseout="out('3364921582725904587');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 356 +            if(!alarm.getEnabled()) continue;                                                                     </span>
<span class="7350238905639356483" onmouseenter="enter('7350238905639356483');" onmouseout="out('7350238905639356483');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 357 +            if(alarm.getRepetition() == 0){                                                                       </span>
<span class="1010329707661683373" onmouseenter="enter('1010329707661683373');" onmouseout="out('1010329707661683373');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 358 +                activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm("> 358 +                activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.🔵</abbr></span>
<span class="6634667328052747221" onmouseenter="enter('6634667328052747221');" onmouseout="out('6634667328052747221');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 359 +                        (byte) alarm.getMinute(),                                                                 </span>
<span class="-7170114618937446573" onmouseenter="enter('-7170114618937446573');" onmouseout="out('-7170114618937446573');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 360 +                        (byte) alarm.getHour(),                                                                   </span>
<span class="-9102250952265191217" onmouseenter="enter('-9102250952265191217');" onmouseout="out('-9102250952265191217');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 361 +                        false                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 362 +                ));                                                                                               </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 363 +                continue;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 364 +            }                                                                                                     </span>
<span class="3462401228838343640" onmouseenter="enter('3462401228838343640');" onmouseout="out('3462401228838343640');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 365 +            int repitition = alarm.getRepetition();                                                               </span>
<span class="-4614965870659119471" onmouseenter="enter('-4614965870659119471');" onmouseout="out('-4614965870659119471');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 366 +            repitition = (repitition &lt;&lt; 1) | ((repitition &gt;&gt; 6) &amp; 1);                                             </span>
<span class="1010329707661683373" onmouseenter="enter('1010329707661683373');" onmouseout="out('1010329707661683373');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 367 +            activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm("> 367 +            activeAlarms.add(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alar🔵</abbr></span>
<span class="6634667328052747221" onmouseenter="enter('6634667328052747221');" onmouseout="out('6634667328052747221');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 368 +                    (byte) alarm.getMinute(),                                                                     </span>
<span class="-7170114618937446573" onmouseenter="enter('-7170114618937446573');" onmouseout="out('-7170114618937446573');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 369 +                    (byte) alarm.getHour(),                                                                       </span>
<span class="-5719985438468869692" onmouseenter="enter('-5719985438468869692');" onmouseout="out('-5719985438468869692');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 370 +                    (byte) repitition                                                                             </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 371 +            ));                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 372 +        }                                                                                                         </span>
<span class="-6913331624693843795" onmouseenter="enter('-6913331624693843795');" onmouseout="out('-6913331624693843795');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 373 +        queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.alarm.Alarm[0]), this){"> 373 +        queueWrite(new AlarmsSetRequest(activeAlarms.toArray(new nodomain.freeyourgadget.gadgetbridge.service.devi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 374 +            @Override                                                                                             </span>
<span class="793438108194816140" onmouseenter="enter('793438108194816140');" onmouseout="out('793438108194816140');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 375 +            public void onFilePut(boolean success) {                                                              </span>
<span class="6083471014783571817" onmouseenter="enter('6083471014783571817');" onmouseout="out('6083471014783571817');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 376 +                super.onFilePut(success);                                                                         </span>
<span class="628646030968312686" onmouseenter="enter('628646030968312686');" onmouseout="out('628646030968312686');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 377 +                if(success) GB.toast(&quot;successfully set alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);                     </span>
<span class="9084024333071151531" onmouseenter="enter('9084024333071151531');" onmouseout="out('9084024333071151531');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 378 +                else  GB.toast(&quot;error setting alarms&quot;, Toast.LENGTH_SHORT, GB.INFO);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 379 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 380 +        });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381      }                                                                                                             </span>
<span  style=""> 382                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 383      @Override                                                                                                     </span>
<span class="-5661496586383940029" onmouseenter="enter('-5661496586383940029');" onmouseout="out('-5661496586383940029');" style=""> 384      public boolean onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {      </span>
<span class="-4900030241533218440" onmouseenter="enter('-4900030241533218440');" onmouseout="out('-4900030241533218440');" style=""> 385          switch (characteristic.getUuid().toString()) {                                                            </span>
<span class="2882486716182506598" onmouseenter="enter('2882486716182506598');" onmouseout="out('2882486716182506598');" style=""> 386              case &quot;3dda0006-957f-7d4a-34a6-74696673696d&quot;: {                                                        </span>
<span class="7175817890662018548" onmouseenter="enter('7175817890662018548');" onmouseout="out('7175817890662018548');" style=""> 387                  handleBackgroundCharacteristic(characteristic);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 388                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389              }                                                                                                     </span>
<span class="649082617183531070" onmouseenter="enter('649082617183531070');" onmouseout="out('649082617183531070');" style=""> 390              case &quot;3dda0002-957f-7d4a-34a6-74696673696d&quot;:                                                          </span>
<span class="8319159933550328631" onmouseenter="enter('8319159933550328631');" onmouseout="out('8319159933550328631');" style=""> 391              case &quot;3dda0004-957f-7d4a-34a6-74696673696d&quot;:                                                          </span>
<span class="-5903481329570957784" onmouseenter="enter('-5903481329570957784');" onmouseout="out('-5903481329570957784');" style=""> 392              case &quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;: {                                                        </span>
<span class="-5883938812681693852" onmouseenter="enter('-5883938812681693852');" onmouseout="out('-5883938812681693852');" style=""> 393                  if (fossilRequest != null) {                                                                      </span>
<span class="-4993966815400274209" onmouseenter="enter('-4993966815400274209');" onmouseout="out('-4993966815400274209');" style=""> 394                      boolean requestFinished;                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 395                      try {                                                                                         </span>
<span class="4249996716865711478" onmouseenter="enter('4249996716865711478');" onmouseout="out('4249996716865711478');" style=""> 396                          if (characteristic.getUuid().toString().equals(&quot;3dda0003-957f-7d4a-34a6-74696673696d&quot;)) { </span>
<span class="8942699938702017612" onmouseenter="enter('8942699938702017612');" onmouseout="out('8942699938702017612');" style=""> 397                              byte requestType = (byte) (characteristic.getValue()[0] &amp; 0x0F);                      </span>
<span  style=""> 398                                                                                                                    </span>
<span class="-8712152160849034238" onmouseenter="enter('-8712152160849034238');" onmouseout="out('-8712152160849034238');" style=""> 399                              if (requestType != 0x0A &amp;&amp; requestType != fossilRequest.getType()) {                  </span>
<span class="1733667093660496118" onmouseenter="enter('1733667093660496118');" onmouseout="out('1733667093660496118');" style=""><abbr title=" 400                                  // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match current request &quot; + fossilRequest.getType());"> 400                                  // throw new RuntimeException(&quot;Answer type &quot; + requestType + &quot; does not match curr🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402                          }                                                                                         </span>
<span  style=""> 403                                                                                                                    </span>
<span class="5816078039831981940" onmouseenter="enter('5816078039831981940');" onmouseout="out('5816078039831981940');" style=""> 404                          fossilRequest.handleResponse(characteristic);                                             </span>
<span class="7152511660707143387" onmouseenter="enter('7152511660707143387');" onmouseout="out('7152511660707143387');" style=""> 405                          requestFinished = fossilRequest.isFinished();                                             </span>
<span class="1200625667814236005" onmouseenter="enter('1200625667814236005');" onmouseout="out('1200625667814236005');" style=""> 406                      } catch (RuntimeException e) {                                                                </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 407                          e.printStackTrace();                                                                      </span>
<span class="8111404309544580801" onmouseenter="enter('8111404309544580801');" onmouseout="out('8111404309544580801');" style=""> 408                          getDeviceSupport().notifiyException(e);                                                   </span>
<span class="-564715308402870570" onmouseenter="enter('-564715308402870570');" onmouseout="out('-564715308402870570');" style=""> 409                          GB.toast(fossilRequest.getName() + &quot; failed&quot;, Toast.LENGTH_SHORT, GB.ERROR);              </span>
<span class="3752335005278324312" onmouseenter="enter('3752335005278324312');" onmouseout="out('3752335005278324312');" style=""> 410                          requestFinished = true;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411                      }                                                                                             </span>
<span  style=""> 412                                                                                                                    </span>
<span class="-7801153188892822314" onmouseenter="enter('-7801153188892822314');" onmouseout="out('-7801153188892822314');" style=""> 413                      if (requestFinished) {                                                                        </span>
<span class="-5854378050299916026" onmouseenter="enter('-5854378050299916026');" onmouseout="out('-5854378050299916026');" style=""> 414                          log(fossilRequest.getName() + &quot; finished&quot;);                                               </span>
<span class="-5183914389820007328" onmouseenter="enter('-5183914389820007328');" onmouseout="out('-5183914389820007328');" style=""> 415                          fossilRequest = null;                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 416                      } else {                                                                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 417                          return true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 418                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419                  }                                                                                                 </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 420                  queueNextRequest();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422          }                                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 423          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424      }                                                                                                             </span>
<span  style=""> 425                                                                                                                    </span>
<span class="-2491152025454801834" onmouseenter="enter('-2491152025454801834');" onmouseout="out('-2491152025454801834');" style=""> 426      private void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {                     </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 427          byte[] value = characteristic.getValue();                                                                 </span>
<span class="-6451515600853577262" onmouseenter="enter('-6451515600853577262');" onmouseout="out('-6451515600853577262');" style=""> 428          switch (value[1]) {                                                                                       </span>
<span class="4530359272320273514" onmouseenter="enter('4530359272320273514');" onmouseout="out('4530359272320273514');" style=""> 429              case 2: {                                                                                             </span>
<span class="-5775509307888090545" onmouseenter="enter('-5775509307888090545');" onmouseout="out('-5775509307888090545');" style=""> 430                  byte syncId = value[2];                                                                           </span>
<span class="-3857187101679284787" onmouseenter="enter('-3857187101679284787');" onmouseout="out('-3857187101679284787');" style=""><abbr title=" 431                  getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, DateFormat.getTimeInstance().format(new Date())));"> 431                  getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(QHybridSupport.ITEM_LAST_HEARTBEAT, D🔵</abbr></span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 432                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433              }                                                                                                     </span>
<span class="-649725075995131999" onmouseenter="enter('-649725075995131999');" onmouseout="out('-649725075995131999');" style=""> 434              case 8: {                                                                                             </span>
<span class="8764450730856979153" onmouseenter="enter('8764450730856979153');" onmouseout="out('8764450730856979153');" style=""> 435                  if (value.length != 12) {                                                                         </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style=""> 436                      throw new RuntimeException(&quot;wrong button message&quot;);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437                  }                                                                                                 </span>
<span class="-9015138085074288507" onmouseenter="enter('-9015138085074288507');" onmouseout="out('-9015138085074288507');" style=""> 438                  int index = value[2] &amp; 0xFF;                                                                      </span>
<span class="8477248390228805092" onmouseenter="enter('8477248390228805092');" onmouseout="out('8477248390228805092');" style=""> 439                  int button = value[9] &gt;&gt; 4 &amp; 0xFF;                                                                </span>
<span  style=""> 440                                                                                                                    </span>
<span class="-1192023704312105569" onmouseenter="enter('-1192023704312105569');" onmouseout="out('-1192023704312105569');" style=""> 441                  if (index != this.lastButtonIndex) {                                                              </span>
<span class="-8860421732717926118" onmouseenter="enter('-8860421732717926118');" onmouseout="out('-8860421732717926118');" style=""> 442                      lastButtonIndex = index;                                                                      </span>
<span class="616850018420783045" onmouseenter="enter('616850018420783045');" onmouseout="out('616850018420783045');" style=""> 443                      log(&quot;Button press on button &quot; + button);                                                      </span>
<span  style=""> 444                                                                                                                    </span>
<span class="-3627003721429111719" onmouseenter="enter('-3627003721429111719');" onmouseout="out('-3627003721429111719');" style=""> 445                      Intent i = new Intent(QHYBRID_EVENT_BUTTON_PRESS);                                            </span>
<span class="5900841887738464247" onmouseenter="enter('5900841887738464247');" onmouseout="out('5900841887738464247');" style=""> 446                      i.putExtra(&quot;BUTTON&quot;, button);                                                                 </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style=""> 447                      getContext().sendBroadcast(i);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 449                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450              }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 451 +                                                                                                                  </span>
<span class="-8844316619474261555" onmouseenter="enter('-8844316619474261555');" onmouseout="out('-8844316619474261555');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 452 +            case 5: {                                                                                             </span>
<span class="-6556110583117842759" onmouseenter="enter('-6556110583117842759');" onmouseout="out('-6556110583117842759');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 453 +                if (value.length != 4) {                                                                          </span>
<span class="2732862363492767485" onmouseenter="enter('2732862363492767485');" onmouseout="out('2732862363492767485');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 454 +                    throw new RuntimeException(&quot;wrong button message&quot;);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 455 +                }                                                                                                 </span>
<span class="5862908388096304141" onmouseenter="enter('5862908388096304141');" onmouseout="out('5862908388096304141');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 456 +                int action = value[3];                                                                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 457 +                                                                                                                  </span>
<span class="-5250241124048538077" onmouseenter="enter('-5250241124048538077');" onmouseout="out('-5250241124048538077');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 458 +                String actionString = &quot;SINGLE&quot;;                                                                   </span>
<span class="67826696619814371" onmouseenter="enter('67826696619814371');" onmouseout="out('67826696619814371');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 459 +                if(action == 3) actionString = &quot;DOUBLE&quot;;                                                          </span>
<span class="1325479382860759156" onmouseenter="enter('1325479382860759156');" onmouseout="out('1325479382860759156');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 460 +                else if(action == 4) actionString = &quot;LONG&quot;;                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 461 +                                                                                                                  </span>
<span class="-5362169280391406400" onmouseenter="enter('-5362169280391406400');" onmouseout="out('-5362169280391406400');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 462 +                // lastButtonIndex = index;                                                                       </span>
<span class="172457281232197615" onmouseenter="enter('172457281232197615');" onmouseout="out('172457281232197615');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 463 +                log(actionString + &quot; button press&quot;);                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 464 +                                                                                                                  </span>
<span class="5153309691643237780" onmouseenter="enter('5153309691643237780');" onmouseout="out('5153309691643237780');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 465 +                Intent i = new Intent(QHYBRID_EVENT_MULTI_BUTTON_PRESS);                                          </span>
<span class="-8244835457302439296" onmouseenter="enter('-8244835457302439296');" onmouseout="out('-8244835457302439296');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 466 +                i.putExtra(&quot;ACTION&quot;, actionString);                                                               </span>
<span class="-3731305088330115377" onmouseenter="enter('-3731305088330115377');" onmouseout="out('-3731305088330115377');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 467 +                getContext().sendBroadcast(i);                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 468 +                break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 469 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 470          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471      }                                                                                                             </span>
<span  style=""> 472                                                                                                                    </span>
<span  style=""> 473                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 474      @Override                                                                                                     </span>
<span class="4059332836458884073" onmouseenter="enter('4059332836458884073');" onmouseout="out('4059332836458884073');" style=""> 475      public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {                                           </span>
<span class="-8277517528335740047" onmouseenter="enter('-8277517528335740047');" onmouseout="out('-8277517528335740047');" style=""> 476          super.onMtuChanged(gatt, mtu, status);                                                                    </span>
<span class="5409658112384563066" onmouseenter="enter('5409658112384563066');" onmouseout="out('5409658112384563066');" style=""> 477          this.MTU = mtu;                                                                                           </span>
<span  style=""> 478                                                                                                                    </span>
<span class="6930856753795234454" onmouseenter="enter('6930856753795234454');" onmouseout="out('6930856753795234454');" style=""> 479          getDeviceSupport().getDevice().addDeviceInfo(new GenericItem(ITEM_MTU, String.valueOf(mtu)));             </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 480          getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                                      </span>
<span  style=""> 481                                                                                                                    </span>
<span class="-6512722495986332562" onmouseenter="enter('-6512722495986332562');" onmouseout="out('-6512722495986332562');" style=""> 482          ((RequestMtuRequest) fossilRequest).setFinished(true);                                                    </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 483          queueNextRequest();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484      }                                                                                                             </span>
<span  style=""> 485                                                                                                                    </span>
<span class="1166233071174553578" onmouseenter="enter('1166233071174553578');" onmouseout="out('1166233071174553578');" style=""> 486      public void queueWrite(RequestMtuRequest request, boolean priorise) {                                         </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style=""> 487          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                              </span>
<span class="3110069276953366480" onmouseenter="enter('3110069276953366480');" onmouseout="out('3110069276953366480');" style=""> 488              new TransactionBuilder(&quot;requestMtu&quot;)                                                                  </span>
<span class="-9055525033345558731" onmouseenter="enter('-9055525033345558731');" onmouseout="out('-9055525033345558731');" style=""> 489                      .requestMtu(512)                                                                              </span>
<span class="7475982186340408444" onmouseenter="enter('7475982186340408444');" onmouseout="out('7475982186340408444');" style=""> 490                      .queue(getDeviceSupport().getQueue());                                                        </span>
<span  style=""> 491                                                                                                                    </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 492              this.fossilRequest = request;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494      }                                                                                                             </span>
<span  style=""> 495                                                                                                                    </span>
<span class="-3295655862750189353" onmouseenter="enter('-3295655862750189353');" onmouseout="out('-3295655862750189353');" style=""> 496      private void log(String message) {                                                                            </span>
<span class="1548773658087899897" onmouseenter="enter('1548773658087899897');" onmouseout="out('1548773658087899897');" style=""> 497          Log.d(&quot;FossilWatchAdapter&quot;, message);                                                                     </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 498      }                                                                                                             </span>
<span  style=""> 499                                                                                                                    </span>
<span class="-4576343442795999070" onmouseenter="enter('-4576343442795999070');" onmouseout="out('-4576343442795999070');" style=""> 500      public void queueWrite(SetDeviceStateRequest request, boolean priorise) {                                     </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 501          if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                               </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 502              log(&quot;queing request: &quot; + request.getName());                                                          </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 503              if (priorise) {                                                                                       </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 504                  requestQueue.add(0, request);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 505              } else {                                                                                              </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 506                  requestQueue.add(request);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507              }                                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 508              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509          }                                                                                                         </span>
<span class="-2968591505263822982" onmouseenter="enter('-2968591505263822982');" onmouseout="out('-2968591505263822982');" style=""> 510          log(&quot;setting device state: &quot; + request.getDeviceState());                                                 </span>
<span class="1880441583077609953" onmouseenter="enter('1880441583077609953');" onmouseout="out('1880441583077609953');" style=""> 511          getDeviceSupport().getDevice().setState(request.getDeviceState());                                        </span>
<span class="3990613326856945297" onmouseenter="enter('3990613326856945297');" onmouseout="out('3990613326856945297');" style=""> 512          getDeviceSupport().getDevice().sendDeviceUpdateIntent(getContext());                                      </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 513          queueNextRequest();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514      }                                                                                                             </span>
<span  style=""> 515                                                                                                                    </span>
<span class="3575675551777290585" onmouseenter="enter('3575675551777290585');" onmouseout="out('3575675551777290585');" style=""> 516      public void queueWrite(FossilRequest request, boolean priorise) {                                             </span>
<span class="2418009747048112619" onmouseenter="enter('2418009747048112619');" onmouseout="out('2418009747048112619');" style=""> 517          if (fossilRequest != null &amp;&amp; !fossilRequest.isFinished()) {                                               </span>
<span class="-7849526482864353821" onmouseenter="enter('-7849526482864353821');" onmouseout="out('-7849526482864353821');" style=""> 518              log(&quot;queing request: &quot; + request.getName());                                                          </span>
<span class="-4447954063603071164" onmouseenter="enter('-4447954063603071164');" onmouseout="out('-4447954063603071164');" style=""> 519              if (priorise) {                                                                                       </span>
<span class="-2052516838086772425" onmouseenter="enter('-2052516838086772425');" onmouseout="out('-2052516838086772425');" style=""> 520                  requestQueue.add(0, request);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 521              } else {                                                                                              </span>
<span class="-7633595313953104636" onmouseenter="enter('-7633595313953104636');" onmouseout="out('-7633595313953104636');" style=""> 522                  requestQueue.add(request);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523              }                                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 524              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 525          }                                                                                                         </span>
<span class="2316394992381890961" onmouseenter="enter('2316394992381890961');" onmouseout="out('2316394992381890961');" style=""> 526          log(&quot;executing request: &quot; + request.getName());                                                           </span>
<span class="5656993409861125998" onmouseenter="enter('5656993409861125998');" onmouseout="out('5656993409861125998');" style=""> 527          this.fossilRequest = request;                                                                             </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 528          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 528          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(requ🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 529      }                                                                                                             </span>
<span  style=""> 530                                                                                                                    </span>
<span class="-6311202063603005052" onmouseenter="enter('-6311202063603005052');" onmouseout="out('-6311202063603005052');" style=""> 531      public void queueWrite(Request request, boolean priorise) {                                                   </span>
<span class="-6538162336550124922" onmouseenter="enter('-6538162336550124922');" onmouseout="out('-6538162336550124922');" style=""><abbr title=" 532          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(request.getRequestUUID()), request.getRequestData()).queue(getDeviceSupport().getQueue());"> 532          new TransactionBuilder(request.getClass().getSimpleName()).write(getDeviceSupport().getCharacteristic(requ🔵</abbr></span>
<span  style=""> 533                                                                                                                    </span>
<span class="-7378708052707544435" onmouseenter="enter('-7378708052707544435');" onmouseout="out('-7378708052707544435');" style=""> 534          queueNextRequest();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 535      }                                                                                                             </span>
<span  style=""> 536                                                                                                                    </span>
<span class="-7292293664532347836" onmouseenter="enter('-7292293664532347836');" onmouseout="out('-7292293664532347836');" style=""> 537      void queueWrite(Request request) {                                                                            </span>
<span class="6767873303838952458" onmouseenter="enter('6767873303838952458');" onmouseout="out('6767873303838952458');" style=""> 538          if (request instanceof SetDeviceStateRequest)                                                             </span>
<span class="-624837134462991662" onmouseenter="enter('-624837134462991662');" onmouseout="out('-624837134462991662');" style=""> 539              queueWrite((SetDeviceStateRequest) request, false);                                                   </span>
<span class="3794917961066152317" onmouseenter="enter('3794917961066152317');" onmouseout="out('3794917961066152317');" style=""> 540          else if (request instanceof RequestMtuRequest)                                                            </span>
<span class="-8094441310402055808" onmouseenter="enter('-8094441310402055808');" onmouseout="out('-8094441310402055808');" style=""> 541              queueWrite((RequestMtuRequest) request, false);                                                       </span>
<span class="-383246438418114342" onmouseenter="enter('-383246438418114342');" onmouseout="out('-383246438418114342');" style=""> 542          else if (request instanceof FossilRequest) queueWrite((FossilRequest) request, false);                    </span>
<span class="-7075409325550123790" onmouseenter="enter('-7075409325550123790');" onmouseout="out('-7075409325550123790');" style=""> 543          else queueWrite(request, false);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 544      }                                                                                                             </span>
<span  style=""> 545                                                                                                                    </span>
<span class="-5873341080833470590" onmouseenter="enter('-5873341080833470590');" onmouseout="out('-5873341080833470590');" style=""> 546      private void queueNextRequest() {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 547          try {                                                                                                     </span>
<span class="-8758486334100629151" onmouseenter="enter('-8758486334100629151');" onmouseout="out('-8758486334100629151');" style=""> 548              Request request = requestQueue.remove(0);                                                             </span>
<span class="-3953785809866853226" onmouseenter="enter('-3953785809866853226');" onmouseout="out('-3953785809866853226');" style=""> 549              queueWrite(request);                                                                                  </span>
<span class="4743218385197812299" onmouseenter="enter('4743218385197812299');" onmouseout="out('4743218385197812299');" style=""> 550          } catch (IndexOutOfBoundsException e) {                                                                   </span>
<span class="-1516621385279090264" onmouseenter="enter('-1516621385279090264');" onmouseout="out('-1516621385279090264');" style=""> 551              log(&quot;requestsQueue empty&quot;);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 552          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 553      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 554  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            