<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>397</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    397
                    <a href="396.html">prev</a>
                    <a href="398.html">next</a>
                    <a href="397_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    CyanogenMod/android_packages_apps_Trebuchet_7c2f8b47cfb44bdb4cbdd05f081d5017a820e833_src/com/android/launcher3/LauncherClings.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;7c2f8b47cfb44bdb4cbdd05f081d5017a820e833:src/com/android/launcher3/LauncherClings.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;7c2f8b47cfb44bdb4cbdd05f081d5017a820e833^1:src/com/android/launcher3/LauncherClings.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;7c2f8b47cfb44bdb4cbdd05f081d5017a820e833^2:src/com/android/launcher3/LauncherClings.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;6cea6748431f5ba346cbee61f569812590fa8a46:src/com/android/launcher3/LauncherClings.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2  * Copyright (C) 2008 The Android Open Source Project                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17 package com.android.launcher3;                                                                           </span>
<span  style="">  18                                                                                                          </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19 import android.accounts.Account;                                                                         </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20 import android.accounts.AccountManager;                                                                  </span>
<span class="-7926246775284589237" onmouseenter="enter('-7926246775284589237');" onmouseout="out('-7926246775284589237');" style="">  21 import android.animation.ObjectAnimator;                                                                 </span>
<span class="677439567803282428" onmouseenter="enter('677439567803282428');" onmouseout="out('677439567803282428');" style="">  22 import android.animation.PropertyValuesHolder;                                                           </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  23 import android.app.ActivityManager;                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  25 import android.content.SharedPreferences;                                                                </span>
<span class="-1737226814075322931" onmouseenter="enter('-1737226814075322931');" onmouseout="out('-1737226814075322931');" style="">  26 import android.graphics.drawable.Drawable;                                                               </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27 import android.os.Bundle;                                                                                </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  28 import android.os.UserManager;                                                                           </span>
<span class="-3605034024778696983" onmouseenter="enter('-3605034024778696983');" onmouseout="out('-3605034024778696983');" style="">  29 import android.provider.Settings;                                                                        </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  30 import android.view.ContextThemeWrapper;                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  31 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  32 import android.view.View;                                                                                </span>
<span class="-4070104819519100201" onmouseenter="enter('-4070104819519100201');" onmouseout="out('-4070104819519100201');" style="">  33 import android.view.View.OnClickListener;                                                                </span>
<span class="6855836986980521148" onmouseenter="enter('6855836986980521148');" onmouseout="out('6855836986980521148');" style="">  34 import android.view.View.OnLongClickListener;                                                            </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  35 import android.view.ViewGroup;                                                                           </span>
<span class="1168424004905198318" onmouseenter="enter('1168424004905198318');" onmouseout="out('1168424004905198318');" style="">  36 import android.view.ViewTreeObserver.OnGlobalLayoutListener;                                             </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  37 import android.view.accessibility.AccessibilityManager;                                                  </span>
<span  style="">  38                                                                                                          </span>
<span class="7170894457894678947" onmouseenter="enter('7170894457894678947');" onmouseout="out('7170894457894678947');" style="">  39 class LauncherClings implements OnClickListener {                                                        </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  40     private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;         </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  41     private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;         </span>
<span  style="">  42                                                                                                          </span>
<span class="-6025451529944773405" onmouseenter="enter('-6025451529944773405');" onmouseout="out('-6025451529944773405');" style="">  43     private static final String TAG_CROP_TOP_AND_SIDES = &quot;crop_bg_top_and_sides&quot;;                        </span>
<span  style="">  44                                                                                                          </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  45     private static final boolean DISABLE_CLINGS = false;                                                 </span>
<span  style="">  46                                                                                                          </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  47     private static final int SHOW_CLING_DURATION = 250;                                                  </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  48     private static final int DISMISS_CLING_DURATION = 200;                                               </span>
<span  style="">  49                                                                                                          </span>
<span class="675165673422453172" onmouseenter="enter('675165673422453172');" onmouseout="out('675165673422453172');" style="">  50     // New Secure Setting in L                                                                           </span>
<span class="-4536668265016180623" onmouseenter="enter('-4536668265016180623');" onmouseout="out('-4536668265016180623');" style="">  51     private static final String SKIP_FIRST_USE_HINTS = &quot;skip_first_use_hints&quot;;                           </span>
<span  style="">  52                                                                                                          </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  53     private Launcher mLauncher;                                                                          </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  54     private LayoutInflater mInflater;                                                                    </span>
<span  style="">  55                                                                                                          </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  56     /** Ctor */                                                                                          </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  57     public LauncherClings(Launcher launcher) {                                                           </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  58         mLauncher = launcher;                                                                            </span>
<span class="8434130040161946032" onmouseenter="enter('8434130040161946032');" onmouseout="out('8434130040161946032');" style="">  59         mInflater = LayoutInflater.from(new                                                              </span>
<span class="-2382553105506488937" onmouseenter="enter('-2382553105506488937');" onmouseout="out('-2382553105506488937');" style="">  60                 ContextThemeWrapper(mLauncher, android.R.style.Theme_DeviceDefault));                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61     }                                                                                                    </span>
<span  style="">  62                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style="">  64     public void onClick(View v) {                                                                        </span>
<span class="8928106641220502685" onmouseenter="enter('8928106641220502685');" onmouseout="out('8928106641220502685');" style="">  65         int id = v.getId();                                                                              </span>
<span class="-7253099142273236661" onmouseenter="enter('-7253099142273236661');" onmouseout="out('-7253099142273236661');" style="">  66         if (id == R.id.cling_dismiss_migration_use_default) {                                            </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="">  67             // Disable the migration cling                                                               </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="">  68             dismissMigrationCling();                                                                     </span>
<span class="5571070052573978173" onmouseenter="enter('5571070052573978173');" onmouseout="out('5571070052573978173');" style="">  69         } else if (id == R.id.cling_dismiss_migration_copy_apps) {                                       </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style="">  70             // Copy the shortcuts from the old database                                                  </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style="">  71             LauncherModel model = mLauncher.getModel();                                                  </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style="">  72             model.resetLoadedState(false, true);                                                         </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style="">  73             model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                     </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style="">  74                     LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                            </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style="">  75                             | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                              </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style="">  76             // Set the flag to skip the folder cling                                                     </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style="">  77             String spKey = LauncherAppState.getSharedPreferencesKey();                                   </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style="">  78             SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);          </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style="">  79             SharedPreferences.Editor editor = sp.edit();                                                 </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style="">  80             editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                         </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="">  81             editor.apply();                                                                              </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="">  82             // Disable the migration cling                                                               </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="">  83             dismissMigrationCling();                                                                     </span>
<span class="6587133460134122700" onmouseenter="enter('6587133460134122700');" onmouseout="out('6587133460134122700');" style="">  84         } else if (id == R.id.cling_dismiss_longpress_info) {                                            </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style="">  85             dismissLongPressCling();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  89     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style="">  90      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  91      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style="">  92      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style="">  93      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  94      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style="">  95     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style="">  96         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style="">  97                                                                                                          </span>
<span class="8332004737619576260" onmouseenter="enter('8332004737619576260');" onmouseout="out('8332004737619576260');" style="">  98         ViewGroup root = (ViewGroup) mLauncher.findViewById(R.id.launcher);                              </span>
<span class="-780863702890415787" onmouseenter="enter('-780863702890415787');" onmouseout="out('-780863702890415787');" style="">  99         View inflated = mInflater.inflate(R.layout.migration_cling, root);                               </span>
<span class="-5150945121489680823" onmouseenter="enter('-5150945121489680823');" onmouseout="out('-5150945121489680823');" style=""> 100         inflated.findViewById(R.id.cling_dismiss_migration_copy_apps).setOnClickListener(this);          </span>
<span class="-5126288189582240913" onmouseenter="enter('-5126288189582240913');" onmouseout="out('-5126288189582240913');" style=""> 101         inflated.findViewById(R.id.cling_dismiss_migration_use_default).setOnClickListener(this);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102     }                                                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 104     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 105         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 106         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 107             public void run() {                                                                          </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 108                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 109                     public void run() {                                                                  </span>
<span class="8331218300249756796" onmouseenter="enter('8331218300249756796');" onmouseout="out('8331218300249756796');" style=""> 110                         // Show the longpress cling next                                                 </span>
<span class="7513896943080068672" onmouseenter="enter('7513896943080068672');" onmouseout="out('7513896943080068672');" style=""> 111                         showLongPressCling(false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 113                 };                                                                                       </span>
<span class="-713191489006973806" onmouseenter="enter('-713191489006973806');" onmouseout="out('-713191489006973806');" style=""> 114                 dismissCling(mLauncher.findViewById(R.id.migration_cling), cb,                           </span>
<span class="-4337207476608112402" onmouseenter="enter('-4337207476608112402');" onmouseout="out('-4337207476608112402');" style=""> 115                         MIGRATION_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 117         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 118         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="-2876880479152626355" onmouseenter="enter('-2876880479152626355');" onmouseout="out('-2876880479152626355');" style=""> 121     public void showLongPressCling(boolean showWelcome) {                                                </span>
<span class="8332004737619576260" onmouseenter="enter('8332004737619576260');" onmouseout="out('8332004737619576260');" style=""> 122         ViewGroup root = (ViewGroup) mLauncher.findViewById(R.id.launcher);                              </span>
<span class="-4325027966362008252" onmouseenter="enter('-4325027966362008252');" onmouseout="out('-4325027966362008252');" style=""> 123         View cling = mInflater.inflate(R.layout.longpress_cling, root, false);                           </span>
<span  style=""> 124                                                                                                          </span>
<span class="-34914180954622471" onmouseenter="enter('-34914180954622471');" onmouseout="out('-34914180954622471');" style=""> 125         cling.setOnLongClickListener(new OnLongClickListener() {                                         </span>
<span  style=""> 126                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127             @Override                                                                                    </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style=""> 128             public boolean onLongClick(View v) {                                                         </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 129                 mLauncher.getWorkspace().enterOverviewMode();                                            </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style=""> 130                 dismissLongPressCling();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 131                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 133         });                                                                                              </span>
<span  style=""> 134                                                                                                          </span>
<span class="7091431077127302489" onmouseenter="enter('7091431077127302489');" onmouseout="out('7091431077127302489');" style=""> 135         final ViewGroup content = (ViewGroup) cling.findViewById(R.id.cling_content);                    </span>
<span class="189149176765943809" onmouseenter="enter('189149176765943809');" onmouseout="out('189149176765943809');" style=""> 136         mInflater.inflate(showWelcome ? R.layout.longpress_cling_welcome_content                         </span>
<span class="1188601080314609036" onmouseenter="enter('1188601080314609036');" onmouseout="out('1188601080314609036');" style=""> 137                 : R.layout.longpress_cling_content, content);                                            </span>
<span class="8163244499368320080" onmouseenter="enter('8163244499368320080');" onmouseout="out('8163244499368320080');" style=""> 138         content.findViewById(R.id.cling_dismiss_longpress_info).setOnClickListener(this);                </span>
<span  style=""> 139                                                                                                          </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style=""> 140         if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                           </span>
<span class="-4722933809798539181" onmouseenter="enter('-4722933809798539181');" onmouseout="out('-4722933809798539181');" style=""><abbr title=" 141             Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bg),"> 141             Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bgðŸ”µ</abbr></span>
<span class="5446136209696350989" onmouseenter="enter('5446136209696350989');" onmouseout="out('5446136209696350989');" style=""> 142                     true, true, true, false);                                                            </span>
<span class="-5656392327044427190" onmouseenter="enter('-5656392327044427190');" onmouseout="out('-5656392327044427190');" style=""> 143             content.setBackground(bg);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144         }                                                                                                </span>
<span  style=""> 145                                                                                                          </span>
<span class="7730797241347606068" onmouseenter="enter('7730797241347606068');" onmouseout="out('7730797241347606068');" style=""> 146         root.addView(cling);                                                                             </span>
<span  style=""> 147                                                                                                          </span>
<span class="2609177459804297249" onmouseenter="enter('2609177459804297249');" onmouseout="out('2609177459804297249');" style=""> 148         if (showWelcome) {                                                                               </span>
<span class="-5249631995813637149" onmouseenter="enter('-5249631995813637149');" onmouseout="out('-5249631995813637149');" style=""> 149             // This is the first cling being shown. No need to animate.                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 150             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span  style=""> 152                                                                                                          </span>
<span class="-8488660366677334069" onmouseenter="enter('-8488660366677334069');" onmouseout="out('-8488660366677334069');" style=""> 153         // Animate                                                                                       </span>
<span class="6508564696659798367" onmouseenter="enter('6508564696659798367');" onmouseout="out('6508564696659798367');" style=""> 154         content.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {           </span>
<span  style=""> 155                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 156             @Override                                                                                    </span>
<span class="7412300164717447449" onmouseenter="enter('7412300164717447449');" onmouseout="out('7412300164717447449');" style=""> 157             public void onGlobalLayout() {                                                               </span>
<span class="-4434397021865233265" onmouseenter="enter('-4434397021865233265');" onmouseout="out('-4434397021865233265');" style=""> 158                 content.getViewTreeObserver().removeOnGlobalLayoutListener(this);                        </span>
<span  style=""> 159                                                                                                          </span>
<span class="-6956967049793537983" onmouseenter="enter('-6956967049793537983');" onmouseout="out('-6956967049793537983');" style=""> 160                 ObjectAnimator anim;                                                                     </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style=""> 161                 if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                   </span>
<span class="-915464272373452778" onmouseenter="enter('-915464272373452778');" onmouseout="out('-915464272373452778');" style=""> 162                     content.setTranslationY(-content.getMeasuredHeight());                               </span>
<span class="-8686207486818248648" onmouseenter="enter('-8686207486818248648');" onmouseout="out('-8686207486818248648');" style=""> 163                     anim = LauncherAnimUtils.ofFloat(content, &quot;translationY&quot;, 0);                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 164                 } else {                                                                                 </span>
<span class="-3832798065960283038" onmouseenter="enter('-3832798065960283038');" onmouseout="out('-3832798065960283038');" style=""> 165                     content.setScaleX(0);                                                                </span>
<span class="-8543985033506948983" onmouseenter="enter('-8543985033506948983');" onmouseout="out('-8543985033506948983');" style=""> 166                     content.setScaleY(0);                                                                </span>
<span class="-2002352035112055143" onmouseenter="enter('-2002352035112055143');" onmouseout="out('-2002352035112055143');" style=""> 167                     PropertyValuesHolder scaleX = PropertyValuesHolder.ofFloat(&quot;scaleX&quot;, 1);             </span>
<span class="4382287056665859069" onmouseenter="enter('4382287056665859069');" onmouseout="out('4382287056665859069');" style=""> 168                     PropertyValuesHolder scaleY = PropertyValuesHolder.ofFloat(&quot;scaleY&quot;, 1);             </span>
<span class="-5433223780103588980" onmouseenter="enter('-5433223780103588980');" onmouseout="out('-5433223780103588980');" style=""> 169                     anim = LauncherAnimUtils.ofPropertyValuesHolder(content, scaleX, scaleY);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170                 }                                                                                        </span>
<span  style=""> 171                                                                                                          </span>
<span class="7441104733932397767" onmouseenter="enter('7441104733932397767');" onmouseout="out('7441104733932397767');" style=""> 172                 anim.setDuration(SHOW_CLING_DURATION);                                                   </span>
<span class="4670156375768021760" onmouseenter="enter('4670156375768021760');" onmouseout="out('4670156375768021760');" style=""> 173                 anim.setInterpolator(new LogDecelerateInterpolator(100, 0));                             </span>
<span class="-3724079685650960281" onmouseenter="enter('-3724079685650960281');" onmouseout="out('-3724079685650960281');" style=""> 174                 anim.start();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 176         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177     }                                                                                                    </span>
<span  style=""> 178                                                                                                          </span>
<span class="-3400960687235506605" onmouseenter="enter('-3400960687235506605');" onmouseout="out('-3400960687235506605');" style=""> 179     private void dismissLongPressCling() {                                                               </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 180         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 181             public void run() {                                                                          </span>
<span class="6217351420918916257" onmouseenter="enter('6217351420918916257');" onmouseout="out('6217351420918916257');" style=""> 182                 dismissCling(mLauncher.findViewById(R.id.longpress_cling), null,                         </span>
<span class="1493296269719568522" onmouseenter="enter('1493296269719568522');" onmouseout="out('1493296269719568522');" style=""> 183                         WORKSPACE_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 185         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 186         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 189     /** Hides the specified Cling */                                                                     </span>
<span class="-7263740925594919005" onmouseenter="enter('-7263740925594919005');" onmouseout="out('-7263740925594919005');" style=""> 190     private void dismissCling(final View cling, final Runnable postAnimationCb,                          </span>
<span class="804633120104424179" onmouseenter="enter('804633120104424179');" onmouseout="out('804633120104424179');" style=""> 191                               final String flag, int duration) {                                         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 192         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 193         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 194         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 195             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 196                 public void run() {                                                                      </span>
<span class="-6394014602572667676" onmouseenter="enter('-6394014602572667676');" onmouseout="out('-6394014602572667676');" style=""> 197                     cling.setVisibility(View.GONE);                                                      </span>
<span class="-8889150937336683496" onmouseenter="enter('-8889150937336683496');" onmouseout="out('-8889150937336683496');" style=""> 198                     mLauncher.getSharedPrefs().edit()                                                    </span>
<span class="1227820199304519965" onmouseenter="enter('1227820199304519965');" onmouseout="out('1227820199304519965');" style=""> 199                         .putBoolean(flag, true)                                                          </span>
<span class="-7784856567627047031" onmouseenter="enter('-7784856567627047031');" onmouseout="out('-7784856567627047031');" style=""> 200                         .apply();                                                                        </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 201                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 202                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 205             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 206             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 207                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 208             } else {                                                                                     </span>
<span class="7687823763758288813" onmouseenter="enter('7687823763758288813');" onmouseout="out('7687823763758288813');" style=""> 209                 cling.animate().alpha(0).setDuration(duration).withEndAction(cleanUpClingCb);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style=""> 214     /** Returns whether the clings are enabled or should be shown */                                     </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style=""> 215     private boolean areClingsEnabled() {                                                                 </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style=""> 216         if (DISABLE_CLINGS) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 217             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218         }                                                                                                </span>
<span  style=""> 219                                                                                                          </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style=""> 220         // disable clings when running in a test harness                                                 </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style=""> 221         if(ActivityManager.isRunningInTestHarness()) return false;                                       </span>
<span  style=""> 222                                                                                                          </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style=""> 223         // Disable clings for accessibility when explore by touch is enabled                             </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style=""> 224         final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(      </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style=""> 225                 Launcher.ACCESSIBILITY_SERVICE);                                                         </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style=""> 226         if (a11yManager.isTouchExplorationEnabled()) {                                                   </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 227             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228         }                                                                                                </span>
<span  style=""> 229                                                                                                          </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style=""> 230         // Restricted secondary users (child mode) will potentially have very few apps                   </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style=""> 231         // seeded when they start up for the first time. Clings won&#x27;t work well with that                </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style=""> 232         boolean supportsLimitedUsers =                                                                   </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style=""> 233                 android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;       </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 234         Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 235         if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                              </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 236             UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);             </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 237             Bundle restrictions = um.getUserRestrictions();                                              </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 238             if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 239                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241         }                                                                                                </span>
<span class="3587845044512650791" onmouseenter="enter('3587845044512650791');" onmouseout="out('3587845044512650791');" style=""> 242         if (Settings.Secure.getInt(mLauncher.getContentResolver(), SKIP_FIRST_USE_HINTS, 0)              </span>
<span class="-3171026725845760826" onmouseenter="enter('-3171026725845760826');" onmouseout="out('-3171026725845760826');" style=""> 243                 == 1) {                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 244             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 246         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247     }                                                                                                    </span>
<span  style=""> 248                                                                                                          </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 249     public boolean shouldShowFirstRunOrMigrationClings() {                                               </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 250         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 251         return areClingsEnabled() &amp;&amp;                                                                     </span>
<span class="2087580716782195645" onmouseenter="enter('2087580716782195645');" onmouseout="out('2087580716782195645');" style=""> 252             !sharedPrefs.getBoolean(WORKSPACE_CLING_DISMISSED_KEY, false) &amp;&amp;                             </span>
<span class="-8544301680236423151" onmouseenter="enter('-8544301680236423151');" onmouseout="out('-8544301680236423151');" style=""> 253             !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 256 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 257     public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                             </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 258         SharedPreferences prefs = ctx.getSharedPreferences(                                              </span>
<span class="-3012020800644432647" onmouseenter="enter('-3012020800644432647');" onmouseout="out('-3012020800644432647');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 259                 LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);                       </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 260         SharedPreferences.Editor editor = prefs.edit();                                                  </span>
<span class="7152522010852240692" onmouseenter="enter('7152522010852240692');" onmouseout="out('7152522010852240692');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 261         editor.putBoolean(WORKSPACE_CLING_DISMISSED_KEY, true);                                          </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 262         editor.commit();                                                                                 </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 263 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 264     public void removeFirstRunAndMigrationClings() {                                                     </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 265         removeCling(R.id.first_run_cling);                                                               </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 266         removeCling(R.id.migration_cling);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 267     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 268                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 269     /**                                                                                                  </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 270      * Shows the first run cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 271      *                                                                                                   </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 272      * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher           </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 273      * package was preinstalled or there is no db to migrate from.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 274      */                                                                                                  </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 275     public void showFirstRunCling() {                                                                    </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 276         if (!skipCustomClingIfNoAccounts()) {                                                            </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 277             SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                  </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 278             // If we&#x27;re not using the default workspace layout, replace workspace cling                  </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279             // with a custom workspace cling (usually specified in an overlay)                           </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280             // For now, only do this on tablets                                                          </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281             if (!DISABLE_CUSTOM_CLINGS) {                                                                </span>
<span class="156660452169084569" onmouseenter="enter('156660452169084569');" onmouseout="out('156660452169084569');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282                 if (sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0 &amp;&amp;        </span>
<span class="2813951541077607514" onmouseenter="enter('2813951541077607514');" onmouseout="out('2813951541077607514');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283                         mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {            </span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284                     // Use a custom cling                                                                </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285                     View cling = mLauncher.findViewById(R.id.workspace_cling);                           </span>
<span class="4480519638670873320" onmouseenter="enter('4480519638670873320');" onmouseout="out('4480519638670873320');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286                     ViewGroup clingParent = (ViewGroup) cling.getParent();                               </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287                     int clingIndex = clingParent.indexOfChild(cling);                                    </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 288                     clingParent.removeViewAt(clingIndex);                                                </span>
<span class="6138631462351189999" onmouseenter="enter('6138631462351189999');" onmouseout="out('6138631462351189999');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289                     View customCling = mInflater.inflate(R.layout.custom_workspace_cling,                </span>
<span class="2282821999478624641" onmouseenter="enter('2282821999478624641');" onmouseout="out('2282821999478624641');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290                             clingParent, false);                                                         </span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291                     clingParent.addView(customCling, clingIndex);                                        </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 292                     customCling.setId(R.id.workspace_cling);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 293                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 294             }                                                                                            </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 295             Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 296             if (cling != null) {                                                                         </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 297                 String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                            </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 298                 String ccHintStr = mLauncher.getFirstRunCustomContentHint();                             </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 299                 if (!sbHintStr.isEmpty()) {                                                              </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 300                     TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);               </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 301                     sbHint.setText(sbHintStr);                                                           </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 302                     sbHint.setVisibility(View.VISIBLE);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 303                 }                                                                                        </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 304                 setCustomContentHintVisibility(cling, ccHintStr, true, false);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 305             }                                                                                            </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 306             initCling(R.id.first_run_cling, 0, false, true);                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 307         } else {                                                                                         </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 308             removeFirstRunAndMigrationClings();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 309         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 310     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 311                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 312     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 313      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 314      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 315      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 316      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 317      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 318     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 319         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 320                                                                                                          </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 321         Cling c = initCling(R.id.migration_cling, 0, false, true);                                       </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 322         c.bringScrimToFront();                                                                           </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 323         c.bringToFront();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 324     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 325                                                                                                          </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 326     public void showMigrationWorkspaceCling() {                                                          </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 327         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 328         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 329                 MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                       </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 330             Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                         </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 331             c.updateMigrationWorkspaceBubblePosition();                                                  </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 332             c.bringScrimToFront();                                                                       </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 333             c.bringToFront();                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 334         } else {                                                                                         </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 335             removeCling(R.id.migration_workspace_cling);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 336         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 337     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 338                                                                                                          </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 339     public void showWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 340         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 341         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 342                 WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                 </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 343             Cling c = initCling(R.id.workspace_cling, 0, false, true);                                   </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 344             c.updateWorkspaceBubblePosition();                                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 345                                                                                                          </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 346             // Set the focused hotseat app if there is one                                               </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 347             c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                   </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 348                     mLauncher.getFirstRunFocusedHotseatAppRank(),                                        </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 349                     mLauncher.getFirstRunFocusedHotseatAppComponentName(),                               </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 350                     mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                 </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 351                     mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 352         } else {                                                                                         </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 353             removeCling(R.id.workspace_cling);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 354         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 355     }                                                                                                    </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 356     public Cling showFoldersCling() {                                                                    </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 357         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 358         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 359         if (areClingsEnabled() &amp;&amp;                                                                        </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 360                 !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                            </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 361                 !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                            </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 362             Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                 </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 363                     true, true);                                                                         </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 364             Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 365             if (openFolder != null) {                                                                    </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 366                 Rect openFolderRect = new Rect();                                                        </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 367                 openFolder.getHitRect(openFolderRect);                                                   </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 368                 cling.setOpenFolderRect(openFolderRect);                                                 </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 369                 openFolder.bringToFront();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 370             }                                                                                            </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 371             return cling;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 372         } else {                                                                                         </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 373             removeCling(R.id.folder_cling);                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 374             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 375         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 376     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 377                                                                                                          </span>
<span class="7560529663732492491" onmouseenter="enter('7560529663732492491');" onmouseout="out('7560529663732492491');" style=""> 378 &lt;&lt;&lt;&lt;&lt;&lt;&lt; OURS                                                                                             </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 379 =======                                                                                                  </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 380     public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                             </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 381         SharedPreferences prefs = ctx.getSharedPreferences(                                              </span>
<span class="-3012020800644432647" onmouseenter="enter('-3012020800644432647');" onmouseout="out('-3012020800644432647');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 382                 LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);                       </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 383         SharedPreferences.Editor editor = prefs.edit();                                                  </span>
<span class="-965897542102475641" onmouseenter="enter('-965897542102475641');" onmouseout="out('-965897542102475641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 384         editor.putBoolean(LauncherClings.FIRST_RUN_CLING_DISMISSED_KEY, true);                           </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 385         editor.commit();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 386     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 387                                                                                                          </span>
<span class="5701624809389491027" onmouseenter="enter('5701624809389491027');" onmouseout="out('5701624809389491027');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 388     public void markFolderClingDismissed() {                                                             </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 389         SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                             </span>
<span class="-591470712171021157" onmouseenter="enter('-591470712171021157');" onmouseout="out('-591470712171021157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 390         editor.putBoolean(LauncherClings.FOLDER_CLING_DISMISSED_KEY, true);                              </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 391         editor.apply();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 392     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 393                                                                                                          </span>
<span class="-1379186895432660313" onmouseenter="enter('-1379186895432660313');" onmouseout="out('-1379186895432660313');" style=""> 394 &gt;&gt;&gt;&gt;&gt;&gt;&gt; THEIRS                                                                                           </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 395     /** Removes the cling outright from the DragLayer */                                                 </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 396     private void removeCling(int id) {                                                                   </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 397         final View cling = mLauncher.findViewById(id);                                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 398         if (cling != null) {                                                                             </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 399             final ViewGroup parent = (ViewGroup) cling.getParent();                                      </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 400             parent.post(new Runnable() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 401                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 402                 public void run() {                                                                      </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 403                     parent.removeView(cling);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 405             });                                                                                          </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 406             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408     }                                                                                                    </span>
<span  style=""> 409                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 410     /** Hides the specified Cling */                                                                     </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 411     private void dismissCling(final Cling cling, final Runnable postAnimationCb,                         </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 412                               final String flag, int duration, boolean restoreNavBarVisibilty) {         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 413         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 414         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 415         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 416             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 417                 public void run() {                                                                      </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 418                     cling.cleanup();                                                                     </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 419                     SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                 </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 420                     editor.putBoolean(flag, true);                                                       </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 421                     editor.apply();                                                                      </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 422                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 423                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 426             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 427             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 428                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 429             } else {                                                                                     </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 430                 cling.hide(duration, cleanUpClingCb);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431             }                                                                                            </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 432             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span  style=""> 433                                                                                                          </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 434             if (restoreNavBarVisibilty) {                                                                </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 435                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                              </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 436                         ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439     }                                                                                                    </span>
<span  style=""> 440                                                                                                          </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 441     public void dismissFirstRunCling(View v) {                                                           </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 442         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 443         Runnable cb = new Runnable() {                                                                   </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 444             public void run() {                                                                          </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 445                 // Show the workspace cling next                                                         </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 446                 showWorkspaceCling();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 447             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 448         };                                                                                               </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 449         dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                           </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 450                 DISMISS_CLING_DURATION, false);                                                          </span>
<span  style=""> 451                                                                                                          </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 452         // Fade out the search bar for the workspace cling coming up                                     </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 453         mLauncher.getSearchBar().hideSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454     }                                                                                                    </span>
<span  style=""> 455                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 456     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 457         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 458         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 459             public void run() {                                                                          </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 460                 Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                      </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 461                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 462                     public void run() {                                                                  </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 463                         // Show the migration workspace cling next                                       </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 464                         showMigrationWorkspaceCling();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 466                 };                                                                                       </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 467                 dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                   </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 468                         DISMISS_CLING_DURATION, true);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 470         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 471         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472     }                                                                                                    </span>
<span  style=""> 473                                                                                                          </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 474     private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                             </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 475         Runnable cb = null;                                                                              </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 476         if (v == null) {                                                                                 </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 477             cb = new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 478                 public void run() {                                                                      </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 479                     mLauncher.getWorkspace().enterOverviewMode();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 481             };                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482         }                                                                                                </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 483         dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                      </span>
<span  style=""> 484                                                                                                          </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 485         // Fade in the search bar                                                                        </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 486         mLauncher.getSearchBar().showSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487     }                                                                                                    </span>
<span  style=""> 488                                                                                                          </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 489     public void dismissMigrationClingCopyApps(View v) {                                                  </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 490         // Copy the shortcuts from the old database                                                      </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 491         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 492         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 493         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 494                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 495                         | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                  </span>
<span  style=""> 496                                                                                                          </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 497         // Set the flag to skip the folder cling                                                         </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 498         String spKey = LauncherAppState.getSharedPreferencesKey();                                       </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 499         SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);              </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 500         SharedPreferences.Editor editor = sp.edit();                                                     </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 501         editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                             </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 502         editor.apply();                                                                                  </span>
<span  style=""> 503                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 504         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 505         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506     }                                                                                                    </span>
<span  style=""> 507                                                                                                          </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 508     public void dismissMigrationClingUseDefault(View v) {                                                </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 509         // Clear the workspace                                                                           </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 510         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 511         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 512         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 513                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                              </span>
<span  style=""> 514                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 515         // Disable the migration cling                                                                   </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 516 =======                                                                                                  </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style=""> 517     public void removeFirstRunAndMigrationClings() {                                                     </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style=""> 518         removeCling(R.id.first_run_cling);                                                               </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style=""> 519         removeCling(R.id.migration_cling);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520     }                                                                                                    </span>
<span  style=""> 521                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 522     /**                                                                                                  </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style=""> 523      * Shows the first run cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 524      *                                                                                                   </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style=""> 525      * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher           </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style=""> 526      * package was preinstalled or there is no db to migrate from.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 527      */                                                                                                  </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style=""> 528     public void showFirstRunCling() {                                                                    </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style=""> 529         if (!skipCustomClingIfNoAccounts()) {                                                            </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 530             SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                  </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style=""> 531             // If we&#x27;re not using the default workspace layout, replace workspace cling                  </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style=""> 532             // with a custom workspace cling (usually specified in an overlay)                           </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style=""> 533             // For now, only do this on tablets                                                          </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style=""> 534             if (!DISABLE_CUSTOM_CLINGS) {                                                                </span>
<span class="156660452169084569" onmouseenter="enter('156660452169084569');" onmouseout="out('156660452169084569');" style=""> 535                 if (sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0 &amp;&amp;        </span>
<span class="2813951541077607514" onmouseenter="enter('2813951541077607514');" onmouseout="out('2813951541077607514');" style=""> 536                         mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {            </span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style=""> 537                     // Use a custom cling                                                                </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style=""> 538                     View cling = mLauncher.findViewById(R.id.workspace_cling);                           </span>
<span class="4480519638670873320" onmouseenter="enter('4480519638670873320');" onmouseout="out('4480519638670873320');" style=""> 539                     ViewGroup clingParent = (ViewGroup) cling.getParent();                               </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style=""> 540                     int clingIndex = clingParent.indexOfChild(cling);                                    </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style=""> 541                     clingParent.removeViewAt(clingIndex);                                                </span>
<span class="6138631462351189999" onmouseenter="enter('6138631462351189999');" onmouseout="out('6138631462351189999');" style=""> 542                     View customCling = mInflater.inflate(R.layout.custom_workspace_cling,                </span>
<span class="2282821999478624641" onmouseenter="enter('2282821999478624641');" onmouseout="out('2282821999478624641');" style=""> 543                             clingParent, false);                                                         </span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style=""> 544                     clingParent.addView(customCling, clingIndex);                                        </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style=""> 545                     customCling.setId(R.id.workspace_cling);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 546                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 547             }                                                                                            </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 548             Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 549             if (cling != null) {                                                                         </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style=""> 550                 String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                            </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 551                 String ccHintStr = mLauncher.getFirstRunCustomContentHint();                             </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style=""> 552                 if (!sbHintStr.isEmpty()) {                                                              </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 553                     TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);               </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style=""> 554                     sbHint.setText(sbHintStr);                                                           </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 555                     sbHint.setVisibility(View.VISIBLE);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 556                 }                                                                                        </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style=""> 557                 setCustomContentHintVisibility(cling, ccHintStr, true, false);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 558             }                                                                                            </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style=""> 559             initCling(R.id.first_run_cling, 0, false, true);                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 560         } else {                                                                                         </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style=""> 561             removeFirstRunAndMigrationClings();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 562         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563     }                                                                                                    </span>
<span  style=""> 564                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 565     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style=""> 566      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 567      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style=""> 568      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style=""> 569      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 570      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style=""> 571     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style=""> 572         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style=""> 573                                                                                                          </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style=""> 574         Cling c = initCling(R.id.migration_cling, 0, false, true);                                       </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 575         c.bringScrimToFront();                                                                           </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 576         c.bringToFront();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577     }                                                                                                    </span>
<span  style=""> 578                                                                                                          </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style=""> 579     public void showMigrationWorkspaceCling() {                                                          </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 580         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 581         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style=""> 582                 MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                       </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style=""> 583             Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                         </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style=""> 584             c.updateMigrationWorkspaceBubblePosition();                                                  </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 585             c.bringScrimToFront();                                                                       </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 586             c.bringToFront();                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 587         } else {                                                                                         </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style=""> 588             removeCling(R.id.migration_workspace_cling);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 590     }                                                                                                    </span>
<span  style=""> 591                                                                                                          </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style=""> 592     public void showWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 593         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 594         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style=""> 595                 WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                 </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style=""> 596             Cling c = initCling(R.id.workspace_cling, 0, false, true);                                   </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style=""> 597             c.updateWorkspaceBubblePosition();                                                           </span>
<span  style=""> 598                                                                                                          </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style=""> 599             // Set the focused hotseat app if there is one                                               </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style=""> 600             c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                   </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style=""> 601                     mLauncher.getFirstRunFocusedHotseatAppRank(),                                        </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style=""> 602                     mLauncher.getFirstRunFocusedHotseatAppComponentName(),                               </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style=""> 603                     mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                 </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style=""> 604                     mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 605         } else {                                                                                         </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style=""> 606             removeCling(R.id.workspace_cling);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 607         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608     }                                                                                                    </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style=""> 609     public Cling showFoldersCling() {                                                                    </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 610         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 611         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style=""> 612         if (areClingsEnabled() &amp;&amp;                                                                        </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style=""> 613                 !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                            </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style=""> 614                 !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                            </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style=""> 615             Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                 </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style=""> 616                     true, true);                                                                         </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style=""> 617             Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style=""> 618             if (openFolder != null) {                                                                    </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style=""> 619                 Rect openFolderRect = new Rect();                                                        </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style=""> 620                 openFolder.getHitRect(openFolderRect);                                                   </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style=""> 621                 cling.setOpenFolderRect(openFolderRect);                                                 </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style=""> 622                 openFolder.bringToFront();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 623             }                                                                                            </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style=""> 624             return cling;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 625         } else {                                                                                         </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style=""> 626             removeCling(R.id.folder_cling);                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 627             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 628         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 629     }                                                                                                    </span>
<span  style=""> 630                                                                                                          </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 631     /** Removes the cling outright from the DragLayer */                                                 </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 632     private void removeCling(int id) {                                                                   </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 633         final View cling = mLauncher.findViewById(id);                                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 634         if (cling != null) {                                                                             </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 635             final ViewGroup parent = (ViewGroup) cling.getParent();                                      </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 636             parent.post(new Runnable() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 637                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 638                 public void run() {                                                                      </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 639                     parent.removeView(cling);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 641             });                                                                                          </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 642             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 643         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 644     }                                                                                                    </span>
<span  style=""> 645                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 646     /** Hides the specified Cling */                                                                     </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 647     private void dismissCling(final Cling cling, final Runnable postAnimationCb,                         </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 648                               final String flag, int duration, boolean restoreNavBarVisibilty) {         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 649         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 650         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 651         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 652             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 653                 public void run() {                                                                      </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 654                     cling.cleanup();                                                                     </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 655                     SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                 </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 656                     editor.putBoolean(flag, true);                                                       </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 657                     editor.apply();                                                                      </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 658                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 659                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 660                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 661                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 662             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 663             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 664                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 665             } else {                                                                                     </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 666                 cling.hide(duration, cleanUpClingCb);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667             }                                                                                            </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 668             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span  style=""> 669                                                                                                          </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 670             if (restoreNavBarVisibilty) {                                                                </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 671                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                              </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 672                         ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 673             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675     }                                                                                                    </span>
<span  style=""> 676                                                                                                          </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 677     public void dismissFirstRunCling(View v) {                                                           </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 678         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 679         Runnable cb = new Runnable() {                                                                   </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 680             public void run() {                                                                          </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 681                 // Show the workspace cling next                                                         </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 682                 showWorkspaceCling();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 683             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 684         };                                                                                               </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 685         dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                           </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 686                 DISMISS_CLING_DURATION, false);                                                          </span>
<span  style=""> 687                                                                                                          </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 688         // Fade out the search bar for the workspace cling coming up                                     </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 689         mLauncher.getSearchBar().hideSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 690     }                                                                                                    </span>
<span  style=""> 691                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 692     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 693         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 694         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 695             public void run() {                                                                          </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 696                 Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                      </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 697                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 698                     public void run() {                                                                  </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 699                         // Show the migration workspace cling next                                       </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 700                         showMigrationWorkspaceCling();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 702                 };                                                                                       </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 703                 dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                   </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 704                         DISMISS_CLING_DURATION, true);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 705             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 706         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 707         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708     }                                                                                                    </span>
<span  style=""> 709                                                                                                          </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 710     private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                             </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 711         Runnable cb = null;                                                                              </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 712         if (v == null) {                                                                                 </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 713             cb = new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 714                 public void run() {                                                                      </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 715                     mLauncher.getWorkspace().enterOverviewMode();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 716                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 717             };                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718         }                                                                                                </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 719         dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                      </span>
<span  style=""> 720                                                                                                          </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 721         // Fade in the search bar                                                                        </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 722         mLauncher.getSearchBar().showSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723     }                                                                                                    </span>
<span  style=""> 724                                                                                                          </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 725     public void dismissMigrationClingCopyApps(View v) {                                                  </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 726         // Copy the shortcuts from the old database                                                      </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 727         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 728         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 729         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 730                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 731                         | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                  </span>
<span  style=""> 732                                                                                                          </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 733         // Set the flag to skip the folder cling                                                         </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 734         String spKey = LauncherAppState.getSharedPreferencesKey();                                       </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 735         SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);              </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 736         SharedPreferences.Editor editor = sp.edit();                                                     </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 737         editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                             </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 738         editor.apply();                                                                                  </span>
<span  style=""> 739                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 740         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 741         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742     }                                                                                                    </span>
<span  style=""> 743                                                                                                          </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 744     public void dismissMigrationClingUseDefault(View v) {                                                </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 745         // Clear the workspace                                                                           </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 746         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 747         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 748         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 749                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                              </span>
<span  style=""> 750                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 751         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 752         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 753     }                                                                                                    </span>
<span  style=""> 754                                                                                                          </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style=""> 755     public void dismissMigrationWorkspaceCling(View v) {                                                 </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style=""> 756         Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                    </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style=""> 757         dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 758     }                                                                                                    </span>
<span  style=""> 759                                                                                                          </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style=""> 760     public void dismissWorkspaceCling(View v) {                                                          </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 761         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style=""> 762         dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763     }                                                                                                    </span>
<span  style=""> 764                                                                                                          </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style=""> 765     public void dismissFolderCling(View v) {                                                             </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 766         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style=""> 767         dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 768                 DISMISS_CLING_DURATION, true);                                                           </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 769 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 770     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 771 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2  * Copyright (C) 2008 The Android Open Source Project                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17 package com.android.launcher3;                                                                           </span>
<span  style="">  18                                                                                                          </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19 import android.accounts.Account;                                                                         </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20 import android.accounts.AccountManager;                                                                  </span>
<span class="-7926246775284589237" onmouseenter="enter('-7926246775284589237');" onmouseout="out('-7926246775284589237');" style="">  21 import android.animation.ObjectAnimator;                                                                 </span>
<span class="677439567803282428" onmouseenter="enter('677439567803282428');" onmouseout="out('677439567803282428');" style="">  22 import android.animation.PropertyValuesHolder;                                                           </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  23 import android.app.ActivityManager;                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  25 import android.content.SharedPreferences;                                                                </span>
<span class="-1737226814075322931" onmouseenter="enter('-1737226814075322931');" onmouseout="out('-1737226814075322931');" style="">  26 import android.graphics.drawable.Drawable;                                                               </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27 import android.os.Bundle;                                                                                </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  28 import android.os.UserManager;                                                                           </span>
<span class="-3605034024778696983" onmouseenter="enter('-3605034024778696983');" onmouseout="out('-3605034024778696983');" style="">  29 import android.provider.Settings;                                                                        </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  30 import android.view.ContextThemeWrapper;                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  31 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  32 import android.view.View;                                                                                </span>
<span class="-4070104819519100201" onmouseenter="enter('-4070104819519100201');" onmouseout="out('-4070104819519100201');" style="">  33 import android.view.View.OnClickListener;                                                                </span>
<span class="6855836986980521148" onmouseenter="enter('6855836986980521148');" onmouseout="out('6855836986980521148');" style="">  34 import android.view.View.OnLongClickListener;                                                            </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  35 import android.view.ViewGroup;                                                                           </span>
<span class="1168424004905198318" onmouseenter="enter('1168424004905198318');" onmouseout="out('1168424004905198318');" style="">  36 import android.view.ViewTreeObserver.OnGlobalLayoutListener;                                             </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  37 import android.view.accessibility.AccessibilityManager;                                                  </span>
<span  style="">  38                                                                                                          </span>
<span class="7170894457894678947" onmouseenter="enter('7170894457894678947');" onmouseout="out('7170894457894678947');" style="">  39 class LauncherClings implements OnClickListener {                                                        </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  40     private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;         </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  41     private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;         </span>
<span  style="">  42                                                                                                          </span>
<span class="-6025451529944773405" onmouseenter="enter('-6025451529944773405');" onmouseout="out('-6025451529944773405');" style="">  43     private static final String TAG_CROP_TOP_AND_SIDES = &quot;crop_bg_top_and_sides&quot;;                        </span>
<span  style="">  44                                                                                                          </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  45     private static final boolean DISABLE_CLINGS = false;                                                 </span>
<span  style="">  46                                                                                                          </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  47     private static final int SHOW_CLING_DURATION = 250;                                                  </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  48     private static final int DISMISS_CLING_DURATION = 200;                                               </span>
<span  style="">  49                                                                                                          </span>
<span class="675165673422453172" onmouseenter="enter('675165673422453172');" onmouseout="out('675165673422453172');" style="">  50     // New Secure Setting in L                                                                           </span>
<span class="-4536668265016180623" onmouseenter="enter('-4536668265016180623');" onmouseout="out('-4536668265016180623');" style="">  51     private static final String SKIP_FIRST_USE_HINTS = &quot;skip_first_use_hints&quot;;                           </span>
<span  style="">  52                                                                                                          </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  53     private Launcher mLauncher;                                                                          </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  54     private LayoutInflater mInflater;                                                                    </span>
<span  style="">  55                                                                                                          </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  56     /** Ctor */                                                                                          </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  57     public LauncherClings(Launcher launcher) {                                                           </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  58         mLauncher = launcher;                                                                            </span>
<span class="8434130040161946032" onmouseenter="enter('8434130040161946032');" onmouseout="out('8434130040161946032');" style="">  59         mInflater = LayoutInflater.from(new                                                              </span>
<span class="-2382553105506488937" onmouseenter="enter('-2382553105506488937');" onmouseout="out('-2382553105506488937');" style="">  60                 ContextThemeWrapper(mLauncher, android.R.style.Theme_DeviceDefault));                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61     }                                                                                                    </span>
<span  style="">  62                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style="">  64     public void onClick(View v) {                                                                        </span>
<span class="8928106641220502685" onmouseenter="enter('8928106641220502685');" onmouseout="out('8928106641220502685');" style="">  65         int id = v.getId();                                                                              </span>
<span class="-7253099142273236661" onmouseenter="enter('-7253099142273236661');" onmouseout="out('-7253099142273236661');" style="">  66         if (id == R.id.cling_dismiss_migration_use_default) {                                            </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="">  67             // Disable the migration cling                                                               </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="">  68             dismissMigrationCling();                                                                     </span>
<span class="5571070052573978173" onmouseenter="enter('5571070052573978173');" onmouseout="out('5571070052573978173');" style="">  69         } else if (id == R.id.cling_dismiss_migration_copy_apps) {                                       </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style="">  70             // Copy the shortcuts from the old database                                                  </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style="">  71             LauncherModel model = mLauncher.getModel();                                                  </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style="">  72             model.resetLoadedState(false, true);                                                         </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style="">  73             model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                     </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style="">  74                     LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                            </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style="">  75                             | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                              </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style="">  76             // Set the flag to skip the folder cling                                                     </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style="">  77             String spKey = LauncherAppState.getSharedPreferencesKey();                                   </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style="">  78             SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);          </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style="">  79             SharedPreferences.Editor editor = sp.edit();                                                 </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style="">  80             editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                         </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="">  81             editor.apply();                                                                              </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="">  82             // Disable the migration cling                                                               </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="">  83             dismissMigrationCling();                                                                     </span>
<span class="6587133460134122700" onmouseenter="enter('6587133460134122700');" onmouseout="out('6587133460134122700');" style="">  84         } else if (id == R.id.cling_dismiss_longpress_info) {                                            </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style="">  85             dismissLongPressCling();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  89     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style="">  90      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  91      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style="">  92      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style="">  93      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  94      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style="">  95     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style="">  96         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style="">  97                                                                                                          </span>
<span class="8332004737619576260" onmouseenter="enter('8332004737619576260');" onmouseout="out('8332004737619576260');" style="">  98         ViewGroup root = (ViewGroup) mLauncher.findViewById(R.id.launcher);                              </span>
<span class="-780863702890415787" onmouseenter="enter('-780863702890415787');" onmouseout="out('-780863702890415787');" style="">  99         View inflated = mInflater.inflate(R.layout.migration_cling, root);                               </span>
<span class="-5150945121489680823" onmouseenter="enter('-5150945121489680823');" onmouseout="out('-5150945121489680823');" style=""> 100         inflated.findViewById(R.id.cling_dismiss_migration_copy_apps).setOnClickListener(this);          </span>
<span class="-5126288189582240913" onmouseenter="enter('-5126288189582240913');" onmouseout="out('-5126288189582240913');" style=""> 101         inflated.findViewById(R.id.cling_dismiss_migration_use_default).setOnClickListener(this);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102     }                                                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 104     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 105         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 106         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 107             public void run() {                                                                          </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 108                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 109                     public void run() {                                                                  </span>
<span class="8331218300249756796" onmouseenter="enter('8331218300249756796');" onmouseout="out('8331218300249756796');" style=""> 110                         // Show the longpress cling next                                                 </span>
<span class="7513896943080068672" onmouseenter="enter('7513896943080068672');" onmouseout="out('7513896943080068672');" style=""> 111                         showLongPressCling(false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 113                 };                                                                                       </span>
<span class="-713191489006973806" onmouseenter="enter('-713191489006973806');" onmouseout="out('-713191489006973806');" style=""> 114                 dismissCling(mLauncher.findViewById(R.id.migration_cling), cb,                           </span>
<span class="-4337207476608112402" onmouseenter="enter('-4337207476608112402');" onmouseout="out('-4337207476608112402');" style=""> 115                         MIGRATION_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 117         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 118         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="-2876880479152626355" onmouseenter="enter('-2876880479152626355');" onmouseout="out('-2876880479152626355');" style=""> 121     public void showLongPressCling(boolean showWelcome) {                                                </span>
<span class="8332004737619576260" onmouseenter="enter('8332004737619576260');" onmouseout="out('8332004737619576260');" style=""> 122         ViewGroup root = (ViewGroup) mLauncher.findViewById(R.id.launcher);                              </span>
<span class="-4325027966362008252" onmouseenter="enter('-4325027966362008252');" onmouseout="out('-4325027966362008252');" style=""> 123         View cling = mInflater.inflate(R.layout.longpress_cling, root, false);                           </span>
<span  style=""> 124                                                                                                          </span>
<span class="-34914180954622471" onmouseenter="enter('-34914180954622471');" onmouseout="out('-34914180954622471');" style=""> 125         cling.setOnLongClickListener(new OnLongClickListener() {                                         </span>
<span  style=""> 126                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127             @Override                                                                                    </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style=""> 128             public boolean onLongClick(View v) {                                                         </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 129                 mLauncher.getWorkspace().enterOverviewMode();                                            </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style=""> 130                 dismissLongPressCling();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 131                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 133         });                                                                                              </span>
<span  style=""> 134                                                                                                          </span>
<span class="7091431077127302489" onmouseenter="enter('7091431077127302489');" onmouseout="out('7091431077127302489');" style=""> 135         final ViewGroup content = (ViewGroup) cling.findViewById(R.id.cling_content);                    </span>
<span class="189149176765943809" onmouseenter="enter('189149176765943809');" onmouseout="out('189149176765943809');" style=""> 136         mInflater.inflate(showWelcome ? R.layout.longpress_cling_welcome_content                         </span>
<span class="1188601080314609036" onmouseenter="enter('1188601080314609036');" onmouseout="out('1188601080314609036');" style=""> 137                 : R.layout.longpress_cling_content, content);                                            </span>
<span class="8163244499368320080" onmouseenter="enter('8163244499368320080');" onmouseout="out('8163244499368320080');" style=""> 138         content.findViewById(R.id.cling_dismiss_longpress_info).setOnClickListener(this);                </span>
<span  style=""> 139                                                                                                          </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style=""> 140         if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                           </span>
<span class="-4722933809798539181" onmouseenter="enter('-4722933809798539181');" onmouseout="out('-4722933809798539181');" style=""><abbr title=" 141             Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bg),"> 141             Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bgðŸ”µ</abbr></span>
<span class="5446136209696350989" onmouseenter="enter('5446136209696350989');" onmouseout="out('5446136209696350989');" style=""> 142                     true, true, true, false);                                                            </span>
<span class="-5656392327044427190" onmouseenter="enter('-5656392327044427190');" onmouseout="out('-5656392327044427190');" style=""> 143             content.setBackground(bg);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144         }                                                                                                </span>
<span  style=""> 145                                                                                                          </span>
<span class="7730797241347606068" onmouseenter="enter('7730797241347606068');" onmouseout="out('7730797241347606068');" style=""> 146         root.addView(cling);                                                                             </span>
<span  style=""> 147                                                                                                          </span>
<span class="2609177459804297249" onmouseenter="enter('2609177459804297249');" onmouseout="out('2609177459804297249');" style=""> 148         if (showWelcome) {                                                                               </span>
<span class="-5249631995813637149" onmouseenter="enter('-5249631995813637149');" onmouseout="out('-5249631995813637149');" style=""> 149             // This is the first cling being shown. No need to animate.                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 150             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span  style=""> 152                                                                                                          </span>
<span class="-8488660366677334069" onmouseenter="enter('-8488660366677334069');" onmouseout="out('-8488660366677334069');" style=""> 153         // Animate                                                                                       </span>
<span class="6508564696659798367" onmouseenter="enter('6508564696659798367');" onmouseout="out('6508564696659798367');" style=""> 154         content.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {           </span>
<span  style=""> 155                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 156             @Override                                                                                    </span>
<span class="7412300164717447449" onmouseenter="enter('7412300164717447449');" onmouseout="out('7412300164717447449');" style=""> 157             public void onGlobalLayout() {                                                               </span>
<span class="-4434397021865233265" onmouseenter="enter('-4434397021865233265');" onmouseout="out('-4434397021865233265');" style=""> 158                 content.getViewTreeObserver().removeOnGlobalLayoutListener(this);                        </span>
<span  style=""> 159                                                                                                          </span>
<span class="-6956967049793537983" onmouseenter="enter('-6956967049793537983');" onmouseout="out('-6956967049793537983');" style=""> 160                 ObjectAnimator anim;                                                                     </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style=""> 161                 if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                   </span>
<span class="-915464272373452778" onmouseenter="enter('-915464272373452778');" onmouseout="out('-915464272373452778');" style=""> 162                     content.setTranslationY(-content.getMeasuredHeight());                               </span>
<span class="-8686207486818248648" onmouseenter="enter('-8686207486818248648');" onmouseout="out('-8686207486818248648');" style=""> 163                     anim = LauncherAnimUtils.ofFloat(content, &quot;translationY&quot;, 0);                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 164                 } else {                                                                                 </span>
<span class="-3832798065960283038" onmouseenter="enter('-3832798065960283038');" onmouseout="out('-3832798065960283038');" style=""> 165                     content.setScaleX(0);                                                                </span>
<span class="-8543985033506948983" onmouseenter="enter('-8543985033506948983');" onmouseout="out('-8543985033506948983');" style=""> 166                     content.setScaleY(0);                                                                </span>
<span class="-2002352035112055143" onmouseenter="enter('-2002352035112055143');" onmouseout="out('-2002352035112055143');" style=""> 167                     PropertyValuesHolder scaleX = PropertyValuesHolder.ofFloat(&quot;scaleX&quot;, 1);             </span>
<span class="4382287056665859069" onmouseenter="enter('4382287056665859069');" onmouseout="out('4382287056665859069');" style=""> 168                     PropertyValuesHolder scaleY = PropertyValuesHolder.ofFloat(&quot;scaleY&quot;, 1);             </span>
<span class="-5433223780103588980" onmouseenter="enter('-5433223780103588980');" onmouseout="out('-5433223780103588980');" style=""> 169                     anim = LauncherAnimUtils.ofPropertyValuesHolder(content, scaleX, scaleY);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170                 }                                                                                        </span>
<span  style=""> 171                                                                                                          </span>
<span class="7441104733932397767" onmouseenter="enter('7441104733932397767');" onmouseout="out('7441104733932397767');" style=""> 172                 anim.setDuration(SHOW_CLING_DURATION);                                                   </span>
<span class="4670156375768021760" onmouseenter="enter('4670156375768021760');" onmouseout="out('4670156375768021760');" style=""> 173                 anim.setInterpolator(new LogDecelerateInterpolator(100, 0));                             </span>
<span class="-3724079685650960281" onmouseenter="enter('-3724079685650960281');" onmouseout="out('-3724079685650960281');" style=""> 174                 anim.start();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 176         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177     }                                                                                                    </span>
<span  style=""> 178                                                                                                          </span>
<span class="-3400960687235506605" onmouseenter="enter('-3400960687235506605');" onmouseout="out('-3400960687235506605');" style=""> 179     private void dismissLongPressCling() {                                                               </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 180         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 181             public void run() {                                                                          </span>
<span class="6217351420918916257" onmouseenter="enter('6217351420918916257');" onmouseout="out('6217351420918916257');" style=""> 182                 dismissCling(mLauncher.findViewById(R.id.longpress_cling), null,                         </span>
<span class="1493296269719568522" onmouseenter="enter('1493296269719568522');" onmouseout="out('1493296269719568522');" style=""> 183                         WORKSPACE_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 185         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 186         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 189     /** Hides the specified Cling */                                                                     </span>
<span class="-7263740925594919005" onmouseenter="enter('-7263740925594919005');" onmouseout="out('-7263740925594919005');" style=""> 190     private void dismissCling(final View cling, final Runnable postAnimationCb,                          </span>
<span class="804633120104424179" onmouseenter="enter('804633120104424179');" onmouseout="out('804633120104424179');" style=""> 191                               final String flag, int duration) {                                         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 192         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 193         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 194         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 195             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 196                 public void run() {                                                                      </span>
<span class="-6394014602572667676" onmouseenter="enter('-6394014602572667676');" onmouseout="out('-6394014602572667676');" style=""> 197                     cling.setVisibility(View.GONE);                                                      </span>
<span class="-8889150937336683496" onmouseenter="enter('-8889150937336683496');" onmouseout="out('-8889150937336683496');" style=""> 198                     mLauncher.getSharedPrefs().edit()                                                    </span>
<span class="1227820199304519965" onmouseenter="enter('1227820199304519965');" onmouseout="out('1227820199304519965');" style=""> 199                         .putBoolean(flag, true)                                                          </span>
<span class="-7784856567627047031" onmouseenter="enter('-7784856567627047031');" onmouseout="out('-7784856567627047031');" style=""> 200                         .apply();                                                                        </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 201                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 202                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 205             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 206             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 207                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 208             } else {                                                                                     </span>
<span class="7687823763758288813" onmouseenter="enter('7687823763758288813');" onmouseout="out('7687823763758288813');" style=""> 209                 cling.animate().alpha(0).setDuration(duration).withEndAction(cleanUpClingCb);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style=""> 214     /** Returns whether the clings are enabled or should be shown */                                     </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style=""> 215     private boolean areClingsEnabled() {                                                                 </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style=""> 216         if (DISABLE_CLINGS) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 217             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218         }                                                                                                </span>
<span  style=""> 219                                                                                                          </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style=""> 220         // disable clings when running in a test harness                                                 </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style=""> 221         if(ActivityManager.isRunningInTestHarness()) return false;                                       </span>
<span  style=""> 222                                                                                                          </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style=""> 223         // Disable clings for accessibility when explore by touch is enabled                             </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style=""> 224         final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(      </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style=""> 225                 Launcher.ACCESSIBILITY_SERVICE);                                                         </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style=""> 226         if (a11yManager.isTouchExplorationEnabled()) {                                                   </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 227             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228         }                                                                                                </span>
<span  style=""> 229                                                                                                          </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style=""> 230         // Restricted secondary users (child mode) will potentially have very few apps                   </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style=""> 231         // seeded when they start up for the first time. Clings won&#x27;t work well with that                </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style=""> 232         boolean supportsLimitedUsers =                                                                   </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style=""> 233                 android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;       </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 234         Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 235         if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                              </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 236             UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);             </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 237             Bundle restrictions = um.getUserRestrictions();                                              </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 238             if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 239                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241         }                                                                                                </span>
<span class="3587845044512650791" onmouseenter="enter('3587845044512650791');" onmouseout="out('3587845044512650791');" style=""> 242         if (Settings.Secure.getInt(mLauncher.getContentResolver(), SKIP_FIRST_USE_HINTS, 0)              </span>
<span class="-3171026725845760826" onmouseenter="enter('-3171026725845760826');" onmouseout="out('-3171026725845760826');" style=""> 243                 == 1) {                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 244             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 246         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247     }                                                                                                    </span>
<span  style=""> 248                                                                                                          </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 249     public boolean shouldShowFirstRunOrMigrationClings() {                                               </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 250         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 251         return areClingsEnabled() &amp;&amp;                                                                     </span>
<span class="2087580716782195645" onmouseenter="enter('2087580716782195645');" onmouseout="out('2087580716782195645');" style=""> 252             !sharedPrefs.getBoolean(WORKSPACE_CLING_DISMISSED_KEY, false) &amp;&amp;                             </span>
<span class="-8544301680236423151" onmouseenter="enter('-8544301680236423151');" onmouseout="out('-8544301680236423151');" style=""> 253             !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style=""> 256     public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                             </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style=""> 257         SharedPreferences prefs = ctx.getSharedPreferences(                                              </span>
<span class="-3012020800644432647" onmouseenter="enter('-3012020800644432647');" onmouseout="out('-3012020800644432647');" style=""> 258                 LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);                       </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style=""> 259         SharedPreferences.Editor editor = prefs.edit();                                                  </span>
<span class="7152522010852240692" onmouseenter="enter('7152522010852240692');" onmouseout="out('7152522010852240692');" style=""> 260         editor.putBoolean(WORKSPACE_CLING_DISMISSED_KEY, true);                                          </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 261         editor.commit();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263 }                                                                                                        </span>


























































































































































































































































































































































































































































































































</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2  * Copyright (C) 2008 The Android Open Source Project                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  16 package com.android.launcher3;                                                                           </span>
<span  style="">  17                                                                                                          </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  18 import android.accounts.Account;                                                                         </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  19 import android.accounts.AccountManager;                                                                  </span>
<span class="-7926246775284589237" onmouseenter="enter('-7926246775284589237');" onmouseout="out('-7926246775284589237');" style="">  20 import android.animation.ObjectAnimator;                                                                 </span>
<span class="677439567803282428" onmouseenter="enter('677439567803282428');" onmouseout="out('677439567803282428');" style="">  21 import android.animation.PropertyValuesHolder;                                                           </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  22 import android.app.ActivityManager;                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  23 import android.content.Context;                                                                          </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  24 import android.content.SharedPreferences;                                                                </span>
<span class="-1737226814075322931" onmouseenter="enter('-1737226814075322931');" onmouseout="out('-1737226814075322931');" style="">  25 import android.graphics.drawable.Drawable;                                                               </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  26 import android.os.Bundle;                                                                                </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  27 import android.os.UserManager;                                                                           </span>
<span class="-3605034024778696983" onmouseenter="enter('-3605034024778696983');" onmouseout="out('-3605034024778696983');" style="">  28 import android.provider.Settings;                                                                        </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  29 import android.view.ContextThemeWrapper;                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  30 import android.view.LayoutInflater;                                                                      </span>
<span class="-4070104819519100201" onmouseenter="enter('-4070104819519100201');" onmouseout="out('-4070104819519100201');" style="">  31 import android.view.View.OnClickListener;                                                                </span>
<span class="6855836986980521148" onmouseenter="enter('6855836986980521148');" onmouseout="out('6855836986980521148');" style="">  32 import android.view.View.OnLongClickListener;                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  33 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  34 import android.view.ViewGroup;                                                                           </span>
<span class="1168424004905198318" onmouseenter="enter('1168424004905198318');" onmouseout="out('1168424004905198318');" style="">  35 import android.view.ViewTreeObserver.OnGlobalLayoutListener;                                             </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  36 import android.view.accessibility.AccessibilityManager;                                                  </span>
<span  style="">  37                                                                                                          </span>
<span  style="">  38                                                                                                          </span>
<span class="7170894457894678947" onmouseenter="enter('7170894457894678947');" onmouseout="out('7170894457894678947');" style="">  39 class LauncherClings implements OnClickListener {                                                        </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  40     private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;         </span>
<span  style="">  41                                                                                                          </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  42     private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;         </span>
<span  style="">  43                                                                                                          </span>
<span class="-6025451529944773405" onmouseenter="enter('-6025451529944773405');" onmouseout="out('-6025451529944773405');" style="">  44     private static final String TAG_CROP_TOP_AND_SIDES = &quot;crop_bg_top_and_sides&quot;;                        </span>
<span  style="">  45                                                                                                          </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  46     private static final boolean DISABLE_CLINGS = false;                                                 </span>
<span  style="">  47                                                                                                          </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  48     private static final int SHOW_CLING_DURATION = 250;                                                  </span>
<span  style="">  49                                                                                                          </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  50     private static final int DISMISS_CLING_DURATION = 200;                                               </span>
<span  style="">  51                                                                                                          </span>
<span class="675165673422453172" onmouseenter="enter('675165673422453172');" onmouseout="out('675165673422453172');" style="">  52     // New Secure Setting in L                                                                           </span>
<span class="-4536668265016180623" onmouseenter="enter('-4536668265016180623');" onmouseout="out('-4536668265016180623');" style="">  53     private static final String SKIP_FIRST_USE_HINTS = &quot;skip_first_use_hints&quot;;                           </span>
<span  style="">  54                                                                                                          </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  55     private Launcher mLauncher;                                                                          </span>
<span  style="">  56                                                                                                          </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  57     private LayoutInflater mInflater;                                                                    </span>
<span  style="">  58                                                                                                          </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  59     /** Ctor */                                                                                          </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  60     public LauncherClings(Launcher launcher) {                                                           </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  61         mLauncher = launcher;                                                                            </span>
<span class="5914805493069651732" onmouseenter="enter('5914805493069651732');" onmouseout="out('5914805493069651732');" style=""><abbr title="  62         mInflater = LayoutInflater.from(new ContextThemeWrapper(mLauncher, android.R.style.Theme_DeviceDefault));">  62         mInflater = LayoutInflater.from(new ContextThemeWrapper(mLauncher, android.R.style.Theme_DeviceDeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63     }                                                                                                    </span>
<span  style="">  64                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  65     @Override                                                                                            </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style="">  66     public void onClick(View v) {                                                                        </span>
<span class="8928106641220502685" onmouseenter="enter('8928106641220502685');" onmouseout="out('8928106641220502685');" style="">  67         int id = v.getId();                                                                              </span>
<span class="-7253099142273236661" onmouseenter="enter('-7253099142273236661');" onmouseout="out('-7253099142273236661');" style="">  68         if (id == R.id.cling_dismiss_migration_use_default) {                                            </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="">  69             // Disable the migration cling                                                               </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="">  70             dismissMigrationCling();                                                                     </span>
<span class="5571070052573978173" onmouseenter="enter('5571070052573978173');" onmouseout="out('5571070052573978173');" style="">  71         } else if (id == R.id.cling_dismiss_migration_copy_apps) {                                       </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style="">  72             // Copy the shortcuts from the old database                                                  </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style="">  73             LauncherModel model = mLauncher.getModel();                                                  </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style="">  74             model.resetLoadedState(false, true);                                                         </span>
<span class="8443137874386041877" onmouseenter="enter('8443137874386041877');" onmouseout="out('8443137874386041877');" style=""><abbr title="  75             model.startLoader(false, PagedView.INVALID_RESTORE_PAGE, LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);">  75             model.startLoader(false, PagedView.INVALID_RESTORE_PAGE, LauncherModel.LOADER_FLAG_CLEAR_WORKðŸ”µ</abbr></span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style="">  76             // Set the flag to skip the folder cling                                                     </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style="">  77             String spKey = LauncherAppState.getSharedPreferencesKey();                                   </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style="">  78             SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);          </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style="">  79             SharedPreferences.Editor editor = sp.edit();                                                 </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style="">  80             editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                         </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="">  81             editor.apply();                                                                              </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="">  82             // Disable the migration cling                                                               </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="">  83             dismissMigrationCling();                                                                     </span>
<span class="6587133460134122700" onmouseenter="enter('6587133460134122700');" onmouseout="out('6587133460134122700');" style="">  84         } else if (id == R.id.cling_dismiss_longpress_info) {                                            </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style="">  85             dismissLongPressCling();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  89     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style="">  90      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  91      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style="">  92      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style="">  93      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  94      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style="">  95     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style="">  96         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span class="7323477905236826708" onmouseenter="enter('7323477905236826708');" onmouseout="out('7323477905236826708');" style="">  97         ViewGroup root = ((ViewGroup) (mLauncher.findViewById(R.id.launcher)));                          </span>
<span class="-780863702890415787" onmouseenter="enter('-780863702890415787');" onmouseout="out('-780863702890415787');" style="">  98         View inflated = mInflater.inflate(R.layout.migration_cling, root);                               </span>
<span class="-5150945121489680823" onmouseenter="enter('-5150945121489680823');" onmouseout="out('-5150945121489680823');" style="">  99         inflated.findViewById(R.id.cling_dismiss_migration_copy_apps).setOnClickListener(this);          </span>
<span class="-5126288189582240913" onmouseenter="enter('-5126288189582240913');" onmouseout="out('-5126288189582240913');" style=""> 100         inflated.findViewById(R.id.cling_dismiss_migration_use_default).setOnClickListener(this);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101     }                                                                                                    </span>
<span  style=""> 102                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 103     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 104         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 105         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 106             public void run() {                                                                          </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 107                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 108                     public void run() {                                                                  </span>
<span class="8331218300249756796" onmouseenter="enter('8331218300249756796');" onmouseout="out('8331218300249756796');" style=""> 109                         // Show the longpress cling next                                                 </span>
<span class="7513896943080068672" onmouseenter="enter('7513896943080068672');" onmouseout="out('7513896943080068672');" style=""> 110                         showLongPressCling(false);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 112                 };                                                                                       </span>
<span class="3140175965403369902" onmouseenter="enter('3140175965403369902');" onmouseout="out('3140175965403369902');" style=""><abbr title=" 113                 dismissCling(mLauncher.findViewById(R.id.migration_cling), cb, MIGRATION_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);"> 113                 dismissCling(mLauncher.findViewById(R.id.migration_cling), cb, MIGRATION_CLING_DISMISSED_ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 115         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 116         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="-2876880479152626355" onmouseenter="enter('-2876880479152626355');" onmouseout="out('-2876880479152626355');" style=""> 119     public void showLongPressCling(boolean showWelcome) {                                                </span>
<span class="7323477905236826708" onmouseenter="enter('7323477905236826708');" onmouseout="out('7323477905236826708');" style=""> 120         ViewGroup root = ((ViewGroup) (mLauncher.findViewById(R.id.launcher)));                          </span>
<span class="-4325027966362008252" onmouseenter="enter('-4325027966362008252');" onmouseout="out('-4325027966362008252');" style=""> 121         View cling = mInflater.inflate(R.layout.longpress_cling, root, false);                           </span>
<span class="-34914180954622471" onmouseenter="enter('-34914180954622471');" onmouseout="out('-34914180954622471');" style=""> 122         cling.setOnLongClickListener(new OnLongClickListener() {                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 123             @Override                                                                                    </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style=""> 124             public boolean onLongClick(View v) {                                                         </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 125                 mLauncher.getWorkspace().enterOverviewMode();                                            </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style=""> 126                 dismissLongPressCling();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 127                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 129         });                                                                                              </span>
<span class="8263000830255919954" onmouseenter="enter('8263000830255919954');" onmouseout="out('8263000830255919954');" style=""> 130         final ViewGroup content = ((ViewGroup) (cling.findViewById(R.id.cling_content)));                </span>
<span class="8094804490917207876" onmouseenter="enter('8094804490917207876');" onmouseout="out('8094804490917207876');" style=""><abbr title=" 131         mInflater.inflate(showWelcome ? R.layout.longpress_cling_welcome_content : R.layout.longpress_cling_content, content);"> 131         mInflater.inflate(showWelcome ? R.layout.longpress_cling_welcome_content : R.layout.longpress_cliðŸ”µ</abbr></span>
<span class="8163244499368320080" onmouseenter="enter('8163244499368320080');" onmouseout="out('8163244499368320080');" style=""> 132         content.findViewById(R.id.cling_dismiss_longpress_info).setOnClickListener(this);                </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style=""> 133         if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                           </span>
<span class="-7689757489443889300" onmouseenter="enter('-7689757489443889300');" onmouseout="out('-7689757489443889300');" style=""><abbr title=" 134             Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bg), true, true, true, false);"> 134             Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bgðŸ”µ</abbr></span>
<span class="-5656392327044427190" onmouseenter="enter('-5656392327044427190');" onmouseout="out('-5656392327044427190');" style=""> 135             content.setBackground(bg);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136         }                                                                                                </span>
<span class="7730797241347606068" onmouseenter="enter('7730797241347606068');" onmouseout="out('7730797241347606068');" style=""> 137         root.addView(cling);                                                                             </span>
<span class="2609177459804297249" onmouseenter="enter('2609177459804297249');" onmouseout="out('2609177459804297249');" style=""> 138         if (showWelcome) {                                                                               </span>
<span class="-5249631995813637149" onmouseenter="enter('-5249631995813637149');" onmouseout="out('-5249631995813637149');" style=""> 139             // This is the first cling being shown. No need to animate.                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 140             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141         }                                                                                                </span>
<span class="-8488660366677334069" onmouseenter="enter('-8488660366677334069');" onmouseout="out('-8488660366677334069');" style=""> 142         // Animate                                                                                       </span>
<span class="6508564696659798367" onmouseenter="enter('6508564696659798367');" onmouseout="out('6508564696659798367');" style=""> 143         content.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144             @Override                                                                                    </span>
<span class="7412300164717447449" onmouseenter="enter('7412300164717447449');" onmouseout="out('7412300164717447449');" style=""> 145             public void onGlobalLayout() {                                                               </span>
<span class="-4434397021865233265" onmouseenter="enter('-4434397021865233265');" onmouseout="out('-4434397021865233265');" style=""> 146                 content.getViewTreeObserver().removeOnGlobalLayoutListener(this);                        </span>
<span class="-6956967049793537983" onmouseenter="enter('-6956967049793537983');" onmouseout="out('-6956967049793537983');" style=""> 147                 ObjectAnimator anim;                                                                     </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style=""> 148                 if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                   </span>
<span class="-915464272373452778" onmouseenter="enter('-915464272373452778');" onmouseout="out('-915464272373452778');" style=""> 149                     content.setTranslationY(-content.getMeasuredHeight());                               </span>
<span class="-8686207486818248648" onmouseenter="enter('-8686207486818248648');" onmouseout="out('-8686207486818248648');" style=""> 150                     anim = LauncherAnimUtils.ofFloat(content, &quot;translationY&quot;, 0);                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 151                 } else {                                                                                 </span>
<span class="-3832798065960283038" onmouseenter="enter('-3832798065960283038');" onmouseout="out('-3832798065960283038');" style=""> 152                     content.setScaleX(0);                                                                </span>
<span class="-8543985033506948983" onmouseenter="enter('-8543985033506948983');" onmouseout="out('-8543985033506948983');" style=""> 153                     content.setScaleY(0);                                                                </span>
<span class="-2002352035112055143" onmouseenter="enter('-2002352035112055143');" onmouseout="out('-2002352035112055143');" style=""> 154                     PropertyValuesHolder scaleX = PropertyValuesHolder.ofFloat(&quot;scaleX&quot;, 1);             </span>
<span class="4382287056665859069" onmouseenter="enter('4382287056665859069');" onmouseout="out('4382287056665859069');" style=""> 155                     PropertyValuesHolder scaleY = PropertyValuesHolder.ofFloat(&quot;scaleY&quot;, 1);             </span>
<span class="-5433223780103588980" onmouseenter="enter('-5433223780103588980');" onmouseout="out('-5433223780103588980');" style=""> 156                     anim = LauncherAnimUtils.ofPropertyValuesHolder(content, scaleX, scaleY);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157                 }                                                                                        </span>
<span class="7441104733932397767" onmouseenter="enter('7441104733932397767');" onmouseout="out('7441104733932397767');" style=""> 158                 anim.setDuration(SHOW_CLING_DURATION);                                                   </span>
<span class="4670156375768021760" onmouseenter="enter('4670156375768021760');" onmouseout="out('4670156375768021760');" style=""> 159                 anim.setInterpolator(new LogDecelerateInterpolator(100, 0));                             </span>
<span class="-3724079685650960281" onmouseenter="enter('-3724079685650960281');" onmouseout="out('-3724079685650960281');" style=""> 160                 anim.start();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 162         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="-3400960687235506605" onmouseenter="enter('-3400960687235506605');" onmouseout="out('-3400960687235506605');" style=""> 165     private void dismissLongPressCling() {                                                               </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 166         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 167             public void run() {                                                                          </span>
<span class="-5174407859269212127" onmouseenter="enter('-5174407859269212127');" onmouseout="out('-5174407859269212127');" style=""><abbr title=" 168                 dismissCling(mLauncher.findViewById(R.id.longpress_cling), null, WORKSPACE_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);"> 168                 dismissCling(mLauncher.findViewById(R.id.longpress_cling), null, WORKSPACE_CLING_DISMISSEðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 170         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 171         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172     }                                                                                                    </span>
<span  style=""> 173                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 174     /** Hides the specified Cling */                                                                     </span>
<span class="-759981990001647557" onmouseenter="enter('-759981990001647557');" onmouseout="out('-759981990001647557');" style=""><abbr title=" 175     private void dismissCling(final View cling, final Runnable postAnimationCb, final String flag, int duration) {"> 175     private void dismissCling(final View cling, final Runnable postAnimationCb, final String flag, int duðŸ”µ</abbr></span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 176         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 177         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="2381870709867348659" onmouseenter="enter('2381870709867348659');" onmouseout="out('2381870709867348659');" style=""> 178         if ((cling != null) &amp;&amp; (cling.getVisibility() != View.GONE)) {                                   </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 179             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 180                 public void run() {                                                                      </span>
<span class="-6394014602572667676" onmouseenter="enter('-6394014602572667676');" onmouseout="out('-6394014602572667676');" style=""> 181                     cling.setVisibility(View.GONE);                                                      </span>
<span class="8488895269379068512" onmouseenter="enter('8488895269379068512');" onmouseout="out('8488895269379068512');" style=""> 182                     mLauncher.getSharedPrefs().edit().putBoolean(flag, true).apply();                    </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 183                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 184                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 187             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 188             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 189                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 190             } else {                                                                                     </span>
<span class="7687823763758288813" onmouseenter="enter('7687823763758288813');" onmouseout="out('7687823763758288813');" style=""> 191                 cling.animate().alpha(0).setDuration(duration).withEndAction(cleanUpClingCb);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194     }                                                                                                    </span>
<span  style=""> 195                                                                                                          </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style=""> 196     /** Returns whether the clings are enabled or should be shown */                                     </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style=""> 197     private boolean areClingsEnabled() {                                                                 </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style=""> 198         if (DISABLE_CLINGS) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 199             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200         }                                                                                                </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style=""> 201         // disable clings when running in a test harness                                                 </span>
<span class="5093645597947939108" onmouseenter="enter('5093645597947939108');" onmouseout="out('5093645597947939108');" style=""> 202         if (ActivityManager.isRunningInTestHarness()) {                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 203             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204         }                                                                                                </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style=""> 205         // Disable clings for accessibility when explore by touch is enabled                             </span>
<span class="1968224178196006595" onmouseenter="enter('1968224178196006595');" onmouseout="out('1968224178196006595');" style=""><abbr title=" 206         final AccessibilityManager a11yManager = ((AccessibilityManager) (mLauncher.getSystemService(Launcher.ACCESSIBILITY_SERVICE)));"> 206         final AccessibilityManager a11yManager = ((AccessibilityManager) (mLauncher.getSystemService(LaunðŸ”µ</abbr></span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style=""> 207         if (a11yManager.isTouchExplorationEnabled()) {                                                   </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 208             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209         }                                                                                                </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style=""> 210         // Restricted secondary users (child mode) will potentially have very few apps                   </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style=""> 211         // seeded when they start up for the first time. Clings won&#x27;t work well with that                </span>
<span class="-670429782811222943" onmouseenter="enter('-670429782811222943');" onmouseout="out('-670429782811222943');" style=""><abbr title=" 212         boolean supportsLimitedUsers = android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;"> 212         boolean supportsLimitedUsers = android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODESðŸ”µ</abbr></span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 213         Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                </span>
<span class="8683390364256390704" onmouseenter="enter('8683390364256390704');" onmouseout="out('8683390364256390704');" style=""> 214         if (supportsLimitedUsers &amp;&amp; (accounts.length == 0)) {                                            </span>
<span class="6530412958834604154" onmouseenter="enter('6530412958834604154');" onmouseout="out('6530412958834604154');" style=""> 215             UserManager um = ((UserManager) (mLauncher.getSystemService(Context.USER_SERVICE)));         </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 216             Bundle restrictions = um.getUserRestrictions();                                              </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 217             if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 218                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span class="1324405646453326776" onmouseenter="enter('1324405646453326776');" onmouseout="out('1324405646453326776');" style=""> 221         if (Settings.Secure.getInt(mLauncher.getContentResolver(), SKIP_FIRST_USE_HINTS, 0) == 1) {      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 222             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 224         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 227     public boolean shouldShowFirstRunOrMigrationClings() {                                               </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 228         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="1659778409382989708" onmouseenter="enter('1659778409382989708');" onmouseout="out('1659778409382989708');" style=""><abbr title=" 229         return (areClingsEnabled() &amp;&amp; (!sharedPrefs.getBoolean(WORKSPACE_CLING_DISMISSED_KEY, false))) &amp;&amp; (!sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false));"> 229         return (areClingsEnabled() &amp;&amp; (!sharedPrefs.getBoolean(WORKSPACE_CLING_DISMISSED_KEY, false))) &amp;&amp;ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230     }                                                                                                    </span>
<span  style=""> 231                                                                                                          </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style=""> 232     public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                             </span>
<span class="-2339226172639428314" onmouseenter="enter('-2339226172639428314');" onmouseout="out('-2339226172639428314');" style=""><abbr title=" 233         SharedPreferences prefs = ctx.getSharedPreferences(LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);"> 233         SharedPreferences prefs = ctx.getSharedPreferences(LauncherAppState.getSharedPreferencesKey(), CoðŸ”µ</abbr></span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style=""> 234         SharedPreferences.Editor editor = prefs.edit();                                                  </span>
<span class="7152522010852240692" onmouseenter="enter('7152522010852240692');" onmouseout="out('7152522010852240692');" style=""> 235         editor.putBoolean(WORKSPACE_CLING_DISMISSED_KEY, true);                                          </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 236         editor.commit();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238 }                                                                                                        </span>



















































































































































































































































































































































































































































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2   * Copyright (C) 2008 The Android Open Source Project                                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17  package com.android.launcher3;                                                                                    </span>
<span  style="">  18                                                                                                                    </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19  import android.accounts.Account;                                                                                  </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20  import android.accounts.AccountManager;                                                                           </span>
<span class="-7391579724786615359" onmouseenter="enter('-7391579724786615359');" onmouseout="out('-7391579724786615359');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  21 -import android.animation.Animator;                                                                                </span>
<span class="-2791103566631450650" onmouseenter="enter('-2791103566631450650');" onmouseout="out('-2791103566631450650');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -import android.animation.AnimatorListenerAdapter;                                                                 </span>
<span class="-7926246775284589237" onmouseenter="enter('-7926246775284589237');" onmouseout="out('-7926246775284589237');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import android.animation.ObjectAnimator;                                                                          </span>
<span class="677439567803282428" onmouseenter="enter('677439567803282428');" onmouseout="out('677439567803282428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  24 +import android.animation.PropertyValuesHolder;                                                                    </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  25  import android.app.ActivityManager;                                                                               </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  26  import android.content.Context;                                                                                   </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  27  import android.content.SharedPreferences;                                                                         </span>
<span class="2207333516549486115" onmouseenter="enter('2207333516549486115');" onmouseout="out('2207333516549486115');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -import android.graphics.Rect;                                                                                     </span>
<span class="-1737226814075322931" onmouseenter="enter('-1737226814075322931');" onmouseout="out('-1737226814075322931');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +import android.graphics.drawable.Drawable;                                                                        </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  30  import android.os.Bundle;                                                                                         </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  31  import android.os.UserManager;                                                                                    </span>
<span class="-3605034024778696983" onmouseenter="enter('-3605034024778696983');" onmouseout="out('-3605034024778696983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 +import android.provider.Settings;                                                                                 </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 +import android.view.ContextThemeWrapper;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  34  import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  35  import android.view.View;                                                                                         </span>
<span class="-4070104819519100201" onmouseenter="enter('-4070104819519100201');" onmouseout="out('-4070104819519100201');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import android.view.View.OnClickListener;                                                                         </span>
<span class="6855836986980521148" onmouseenter="enter('6855836986980521148');" onmouseout="out('6855836986980521148');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 +import android.view.View.OnLongClickListener;                                                                     </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  38  import android.view.ViewGroup;                                                                                    </span>
<span class="1168424004905198318" onmouseenter="enter('1168424004905198318');" onmouseout="out('1168424004905198318');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  39 +import android.view.ViewTreeObserver.OnGlobalLayoutListener;                                                      </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  40  import android.view.accessibility.AccessibilityManager;                                                           </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -import android.widget.TextView;                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  42 -                                                                                                                  </span>
<span class="-4230089802071878665" onmouseenter="enter('-4230089802071878665');" onmouseout="out('-4230089802071878665');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  43 -class LauncherClings {                                                                                            </span>
<span class="-4243898042014795711" onmouseenter="enter('-4243898042014795711');" onmouseout="out('-4243898042014795711');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  44 -    private static final String FIRST_RUN_CLING_DISMISSED_KEY = &quot;cling_gel.first_run.dismissed&quot;;                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  45 +                                                                                                                  </span>
<span class="7170894457894678947" onmouseenter="enter('7170894457894678947');" onmouseout="out('7170894457894678947');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +class LauncherClings implements OnClickListener {                                                                 </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  47      private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;                  </span>
<span class="3697341770517881526" onmouseenter="enter('3697341770517881526');" onmouseout="out('3697341770517881526');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  48 -    private static final String MIGRATION_WORKSPACE_CLING_DISMISSED_KEY =                                         </span>
<span class="-4035874501819325394" onmouseenter="enter('-4035874501819325394');" onmouseout="out('-4035874501819325394');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  49 -            &quot;cling_gel.migration_workspace.dismissed&quot;;                                                            </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  50      private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;                  </span>
<span class="897553759992275294" onmouseenter="enter('897553759992275294');" onmouseout="out('897553759992275294');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  51 -    private static final String FOLDER_CLING_DISMISSED_KEY = &quot;cling_gel.folder.dismissed&quot;;                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  52 +                                                                                                                  </span>
<span class="-6025451529944773405" onmouseenter="enter('-6025451529944773405');" onmouseout="out('-6025451529944773405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  53 +    private static final String TAG_CROP_TOP_AND_SIDES = &quot;crop_bg_top_and_sides&quot;;                                 </span>
<span  style="">  54                                                                                                                    </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  55      private static final boolean DISABLE_CLINGS = false;                                                          </span>
<span class="-2075795743391657709" onmouseenter="enter('-2075795743391657709');" onmouseout="out('-2075795743391657709');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  56 -    private static final boolean DISABLE_CUSTOM_CLINGS = true;                                                    </span>
<span  style="">  57                                                                                                                    </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  58      private static final int SHOW_CLING_DURATION = 250;                                                           </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  59      private static final int DISMISS_CLING_DURATION = 200;                                                        </span>
<span  style="">  60                                                                                                                    </span>
<span class="675165673422453172" onmouseenter="enter('675165673422453172');" onmouseout="out('675165673422453172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +    // New Secure Setting in L                                                                                    </span>
<span class="-4536668265016180623" onmouseenter="enter('-4536668265016180623');" onmouseout="out('-4536668265016180623');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +    private static final String SKIP_FIRST_USE_HINTS = &quot;skip_first_use_hints&quot;;                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  63 +                                                                                                                  </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  64      private Launcher mLauncher;                                                                                   </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  65      private LayoutInflater mInflater;                                                                             </span>
<span class="-7961741172755511412" onmouseenter="enter('-7961741172755511412');" onmouseout="out('-7961741172755511412');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -    private HideFromAccessibilityHelper mHideFromAccessibilityHelper                                              </span>
<span class="8922603082812548116" onmouseenter="enter('8922603082812548116');" onmouseout="out('8922603082812548116');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -            = new HideFromAccessibilityHelper();                                                                  </span>
<span  style="">  68                                                                                                                    </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  69      /** Ctor */                                                                                                   </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  70      public LauncherClings(Launcher launcher) {                                                                    </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  71          mLauncher = launcher;                                                                                     </span>
<span class="-2917522078181641337" onmouseenter="enter('-2917522078181641337');" onmouseout="out('-2917522078181641337');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -        mInflater = mLauncher.getLayoutInflater();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -                                                                                                                  </span>
<span class="3933030995569352701" onmouseenter="enter('3933030995569352701');" onmouseout="out('3933030995569352701');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -    /** Initializes a cling */                                                                                    </span>
<span class="-7257921045488326324" onmouseenter="enter('-7257921045488326324');" onmouseout="out('-7257921045488326324');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -    private Cling initCling(int clingId, int scrimId, boolean animate,                                            </span>
<span class="1632870456878960528" onmouseenter="enter('1632870456878960528');" onmouseout="out('1632870456878960528');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -                            boolean dimNavBarVisibilty) {                                                         </span>
<span class="-4424411489884778174" onmouseenter="enter('-4424411489884778174');" onmouseout="out('-4424411489884778174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -        Cling cling = (Cling) mLauncher.findViewById(clingId);                                                    </span>
<span class="-824783911317540095" onmouseenter="enter('-824783911317540095');" onmouseout="out('-824783911317540095');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -        View scrim = null;                                                                                        </span>
<span class="-4649658546674341452" onmouseenter="enter('-4649658546674341452');" onmouseout="out('-4649658546674341452');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -        if (scrimId &gt; 0) {                                                                                        </span>
<span class="7031714685832921388" onmouseenter="enter('7031714685832921388');" onmouseout="out('7031714685832921388');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -            scrim = mLauncher.findViewById(scrimId);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -        }                                                                                                         </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -        if (cling != null) {                                                                                      </span>
<span class="4173569672443983418" onmouseenter="enter('4173569672443983418');" onmouseout="out('4173569672443983418');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -            cling.init(mLauncher, scrim);                                                                         </span>
<span class="-8880519769545914309" onmouseenter="enter('-8880519769545914309');" onmouseout="out('-8880519769545914309');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -            cling.show(animate, SHOW_CLING_DURATION);                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -                                                                                                                  </span>
<span class="-8584959720041347142" onmouseenter="enter('-8584959720041347142');" onmouseout="out('-8584959720041347142');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -            if (dimNavBarVisibilty) {                                                                             </span>
<span class="5653747513126521531" onmouseenter="enter('5653747513126521531');" onmouseout="out('5653747513126521531');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  88 -                cling.setSystemUiVisibility(cling.getSystemUiVisibility() |                                       </span>
<span class="-6947705641421720113" onmouseenter="enter('-6947705641421720113');" onmouseout="out('-6947705641421720113');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -                        View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  90 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -        }                                                                                                         </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -        return cling;                                                                                             </span>
<span class="8434130040161946032" onmouseenter="enter('8434130040161946032');" onmouseout="out('8434130040161946032');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +        mInflater = LayoutInflater.from(new                                                                       </span>
<span class="-2382553105506488937" onmouseenter="enter('-2382553105506488937');" onmouseout="out('-2382553105506488937');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +                ContextThemeWrapper(mLauncher, android.R.style.Theme_DeviceDefault));                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +    @Override                                                                                                     </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +    public void onClick(View v) {                                                                                 </span>
<span class="8928106641220502685" onmouseenter="enter('8928106641220502685');" onmouseout="out('8928106641220502685');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +        int id = v.getId();                                                                                       </span>
<span class="-7253099142273236661" onmouseenter="enter('-7253099142273236661');" onmouseout="out('-7253099142273236661');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +        if (id == R.id.cling_dismiss_migration_use_default) {                                                     </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +            // Disable the migration cling                                                                        </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +            dismissMigrationCling();                                                                              </span>
<span class="5571070052573978173" onmouseenter="enter('5571070052573978173');" onmouseout="out('5571070052573978173');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +        } else if (id == R.id.cling_dismiss_migration_copy_apps) {                                                </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +            // Copy the shortcuts from the old database                                                           </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +            LauncherModel model = mLauncher.getModel();                                                           </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +            model.resetLoadedState(false, true);                                                                  </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +            model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                              </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +                    LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                     </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +                            | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                       </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +            // Set the flag to skip the folder cling                                                              </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +            String spKey = LauncherAppState.getSharedPreferencesKey();                                            </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +            SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);                   </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +            SharedPreferences.Editor editor = sp.edit();                                                          </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +            editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                                  </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +            editor.apply();                                                                                       </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +            // Disable the migration cling                                                                        </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +            dismissMigrationCling();                                                                              </span>
<span class="6587133460134122700" onmouseenter="enter('6587133460134122700');" onmouseout="out('6587133460134122700');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +        } else if (id == R.id.cling_dismiss_longpress_info) {                                                     </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +            dismissLongPressCling();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +    /**                                                                                                           </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +     * Shows the migration cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +     *                                                                                                            </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +     * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher                     </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +     * package was not preinstalled and there exists a db to migrate from.                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +     */                                                                                                           </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +    public void showMigrationCling() {                                                                            </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +        mLauncher.hideWorkspaceSearchAndHotseat();                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +                                                                                                                  </span>
<span class="8332004737619576260" onmouseenter="enter('8332004737619576260');" onmouseout="out('8332004737619576260');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +        ViewGroup root = (ViewGroup) mLauncher.findViewById(R.id.launcher);                                       </span>
<span class="-780863702890415787" onmouseenter="enter('-780863702890415787');" onmouseout="out('-780863702890415787');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +        View inflated = mInflater.inflate(R.layout.migration_cling, root);                                        </span>
<span class="-5150945121489680823" onmouseenter="enter('-5150945121489680823');" onmouseout="out('-5150945121489680823');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +        inflated.findViewById(R.id.cling_dismiss_migration_copy_apps).setOnClickListener(this);                   </span>
<span class="-5126288189582240913" onmouseenter="enter('-5126288189582240913');" onmouseout="out('-5126288189582240913');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +        inflated.findViewById(R.id.cling_dismiss_migration_use_default).setOnClickListener(this);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +                                                                                                                  </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +    private void dismissMigrationCling() {                                                                        </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +        mLauncher.showWorkspaceSearchAndHotseat();                                                                </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +        Runnable dismissCb = new Runnable() {                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +            public void run() {                                                                                   </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +                Runnable cb = new Runnable() {                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +                    public void run() {                                                                           </span>
<span class="8331218300249756796" onmouseenter="enter('8331218300249756796');" onmouseout="out('8331218300249756796');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 144 +                        // Show the longpress cling next                                                          </span>
<span class="7513896943080068672" onmouseenter="enter('7513896943080068672');" onmouseout="out('7513896943080068672');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 145 +                        showLongPressCling(false);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 146 +                    }                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 147 +                };                                                                                                </span>
<span class="-713191489006973806" onmouseenter="enter('-713191489006973806');" onmouseout="out('-713191489006973806');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 148 +                dismissCling(mLauncher.findViewById(R.id.migration_cling), cb,                                    </span>
<span class="-4337207476608112402" onmouseenter="enter('-4337207476608112402');" onmouseout="out('-4337207476608112402');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 149 +                        MIGRATION_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +        };                                                                                                        </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +        mLauncher.getWorkspace().post(dismissCb);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +                                                                                                                  </span>
<span class="-2876880479152626355" onmouseenter="enter('-2876880479152626355');" onmouseout="out('-2876880479152626355');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +    public void showLongPressCling(boolean showWelcome) {                                                         </span>
<span class="8332004737619576260" onmouseenter="enter('8332004737619576260');" onmouseout="out('8332004737619576260');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +        ViewGroup root = (ViewGroup) mLauncher.findViewById(R.id.launcher);                                       </span>
<span class="-4325027966362008252" onmouseenter="enter('-4325027966362008252');" onmouseout="out('-4325027966362008252');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +        View cling = mInflater.inflate(R.layout.longpress_cling, root, false);                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +                                                                                                                  </span>
<span class="-34914180954622471" onmouseenter="enter('-34914180954622471');" onmouseout="out('-34914180954622471');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +        cling.setOnLongClickListener(new OnLongClickListener() {                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +            @Override                                                                                             </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 162 +            public boolean onLongClick(View v) {                                                                  </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +                mLauncher.getWorkspace().enterOverviewMode();                                                     </span>
<span class="3307367090889241153" onmouseenter="enter('3307367090889241153');" onmouseout="out('3307367090889241153');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +                dismissLongPressCling();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +                return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +        });                                                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +                                                                                                                  </span>
<span class="7091431077127302489" onmouseenter="enter('7091431077127302489');" onmouseout="out('7091431077127302489');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +        final ViewGroup content = (ViewGroup) cling.findViewById(R.id.cling_content);                             </span>
<span class="189149176765943809" onmouseenter="enter('189149176765943809');" onmouseout="out('189149176765943809');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +        mInflater.inflate(showWelcome ? R.layout.longpress_cling_welcome_content                                  </span>
<span class="1188601080314609036" onmouseenter="enter('1188601080314609036');" onmouseout="out('1188601080314609036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +                : R.layout.longpress_cling_content, content);                                                     </span>
<span class="8163244499368320080" onmouseenter="enter('8163244499368320080');" onmouseout="out('8163244499368320080');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +        content.findViewById(R.id.cling_dismiss_longpress_info).setOnClickListener(this);                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +                                                                                                                  </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +        if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                                    </span>
<span class="-4722933809798539181" onmouseenter="enter('-4722933809798539181');" onmouseout="out('-4722933809798539181');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +            Drawable bg = new BorderCropDrawable(mLauncher.getResources().getDrawable(R.drawable.cling_bg),       </span>
<span class="5446136209696350989" onmouseenter="enter('5446136209696350989');" onmouseout="out('5446136209696350989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +                    true, true, true, false);                                                                     </span>
<span class="-5656392327044427190" onmouseenter="enter('-5656392327044427190');" onmouseout="out('-5656392327044427190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +            content.setBackground(bg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +                                                                                                                  </span>
<span class="7730797241347606068" onmouseenter="enter('7730797241347606068');" onmouseout="out('7730797241347606068');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +        root.addView(cling);                                                                                      </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +                                                                                                                  </span>
<span class="2609177459804297249" onmouseenter="enter('2609177459804297249');" onmouseout="out('2609177459804297249');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +        if (showWelcome) {                                                                                        </span>
<span class="-5249631995813637149" onmouseenter="enter('-5249631995813637149');" onmouseout="out('-5249631995813637149');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +            // This is the first cling being shown. No need to animate.                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +                                                                                                                  </span>
<span class="-8488660366677334069" onmouseenter="enter('-8488660366677334069');" onmouseout="out('-8488660366677334069');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +        // Animate                                                                                                </span>
<span class="6508564696659798367" onmouseenter="enter('6508564696659798367');" onmouseout="out('6508564696659798367');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +        content.getViewTreeObserver().addOnGlobalLayoutListener(new OnGlobalLayoutListener() {                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +            @Override                                                                                             </span>
<span class="7412300164717447449" onmouseenter="enter('7412300164717447449');" onmouseout="out('7412300164717447449');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +            public void onGlobalLayout() {                                                                        </span>
<span class="-4434397021865233265" onmouseenter="enter('-4434397021865233265');" onmouseout="out('-4434397021865233265');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +                content.getViewTreeObserver().removeOnGlobalLayoutListener(this);                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 193 +                                                                                                                  </span>
<span class="-6956967049793537983" onmouseenter="enter('-6956967049793537983');" onmouseout="out('-6956967049793537983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +                ObjectAnimator anim;                                                                              </span>
<span class="7204317506965641189" onmouseenter="enter('7204317506965641189');" onmouseout="out('7204317506965641189');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +                if (TAG_CROP_TOP_AND_SIDES.equals(content.getTag())) {                                            </span>
<span class="-915464272373452778" onmouseenter="enter('-915464272373452778');" onmouseout="out('-915464272373452778');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +                    content.setTranslationY(-content.getMeasuredHeight());                                        </span>
<span class="-8686207486818248648" onmouseenter="enter('-8686207486818248648');" onmouseout="out('-8686207486818248648');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +                    anim = LauncherAnimUtils.ofFloat(content, &quot;translationY&quot;, 0);                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +                } else {                                                                                          </span>
<span class="-3832798065960283038" onmouseenter="enter('-3832798065960283038');" onmouseout="out('-3832798065960283038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +                    content.setScaleX(0);                                                                         </span>
<span class="-8543985033506948983" onmouseenter="enter('-8543985033506948983');" onmouseout="out('-8543985033506948983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +                    content.setScaleY(0);                                                                         </span>
<span class="-2002352035112055143" onmouseenter="enter('-2002352035112055143');" onmouseout="out('-2002352035112055143');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +                    PropertyValuesHolder scaleX = PropertyValuesHolder.ofFloat(&quot;scaleX&quot;, 1);                      </span>
<span class="4382287056665859069" onmouseenter="enter('4382287056665859069');" onmouseout="out('4382287056665859069');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 202 +                    PropertyValuesHolder scaleY = PropertyValuesHolder.ofFloat(&quot;scaleY&quot;, 1);                      </span>
<span class="-5433223780103588980" onmouseenter="enter('-5433223780103588980');" onmouseout="out('-5433223780103588980');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +                    anim = LauncherAnimUtils.ofPropertyValuesHolder(content, scaleX, scaleY);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 204 +                }                                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +                                                                                                                  </span>
<span class="7441104733932397767" onmouseenter="enter('7441104733932397767');" onmouseout="out('7441104733932397767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +                anim.setDuration(SHOW_CLING_DURATION);                                                            </span>
<span class="4670156375768021760" onmouseenter="enter('4670156375768021760');" onmouseout="out('4670156375768021760');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 207 +                anim.setInterpolator(new LogDecelerateInterpolator(100, 0));                                      </span>
<span class="-3724079685650960281" onmouseenter="enter('-3724079685650960281');" onmouseout="out('-3724079685650960281');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +                anim.start();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +        });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 211 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 212 +                                                                                                                  </span>
<span class="-3400960687235506605" onmouseenter="enter('-3400960687235506605');" onmouseout="out('-3400960687235506605');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 213 +    private void dismissLongPressCling() {                                                                        </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 214 +        Runnable dismissCb = new Runnable() {                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 215 +            public void run() {                                                                                   </span>
<span class="6217351420918916257" onmouseenter="enter('6217351420918916257');" onmouseout="out('6217351420918916257');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 216 +                dismissCling(mLauncher.findViewById(R.id.longpress_cling), null,                                  </span>
<span class="1493296269719568522" onmouseenter="enter('1493296269719568522');" onmouseout="out('1493296269719568522');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 217 +                        WORKSPACE_CLING_DISMISSED_KEY, DISMISS_CLING_DURATION);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 218 +            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 219 +        };                                                                                                        </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 220 +        mLauncher.getWorkspace().post(dismissCb);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 221 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +                                                                                                                  </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +    /** Hides the specified Cling */                                                                              </span>
<span class="-7263740925594919005" onmouseenter="enter('-7263740925594919005');" onmouseout="out('-7263740925594919005');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 224 +    private void dismissCling(final View cling, final Runnable postAnimationCb,                                   </span>
<span class="804633120104424179" onmouseenter="enter('804633120104424179');" onmouseout="out('804633120104424179');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +                              final String flag, int duration) {                                                  </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +        // To catch cases where siblings of top-level views are made invisible, just check whether                </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +        // the cling is directly set to GONE before dismissing it.                                                </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +        if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                                </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +            final Runnable cleanUpClingCb = new Runnable() {                                                      </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +                public void run() {                                                                               </span>
<span class="-6394014602572667676" onmouseenter="enter('-6394014602572667676');" onmouseout="out('-6394014602572667676');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +                    cling.setVisibility(View.GONE);                                                               </span>
<span class="-8889150937336683496" onmouseenter="enter('-8889150937336683496');" onmouseout="out('-8889150937336683496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +                    mLauncher.getSharedPrefs().edit()                                                             </span>
<span class="1227820199304519965" onmouseenter="enter('1227820199304519965');" onmouseout="out('1227820199304519965');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +                        .putBoolean(flag, true)                                                                   </span>
<span class="-7784856567627047031" onmouseenter="enter('-7784856567627047031');" onmouseout="out('-7784856567627047031');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +                        .apply();                                                                                 </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +                    if (postAnimationCb != null) {                                                                </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 236 +                        postAnimationCb.run();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 237 +                    }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +                }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +            };                                                                                                    </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +            if (duration &lt;= 0) {                                                                                  </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +                cleanUpClingCb.run();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +            } else {                                                                                              </span>
<span class="7687823763758288813" onmouseenter="enter('7687823763758288813');" onmouseout="out('7687823763758288813');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +                cling.animate().alpha(0).setDuration(duration).withEndAction(cleanUpClingCb);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246      }                                                                                                             </span>
<span  style=""> 247                                                                                                                    </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style=""> 248      /** Returns whether the clings are enabled or should be shown */                                              </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style=""> 249      private boolean areClingsEnabled() {                                                                          </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style=""> 250          if (DISABLE_CLINGS) {                                                                                     </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 251              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252          }                                                                                                         </span>
<span  style=""> 253                                                                                                                    </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style=""> 254          // disable clings when running in a test harness                                                          </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style=""> 255          if(ActivityManager.isRunningInTestHarness()) return false;                                                </span>
<span  style=""> 256                                                                                                                    </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style=""> 257          // Disable clings for accessibility when explore by touch is enabled                                      </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style=""> 258          final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(               </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style=""> 259                  Launcher.ACCESSIBILITY_SERVICE);                                                                  </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style=""> 260          if (a11yManager.isTouchExplorationEnabled()) {                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 261              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262          }                                                                                                         </span>
<span  style=""> 263                                                                                                                    </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style=""> 264          // Restricted secondary users (child mode) will potentially have very few apps                            </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style=""> 265          // seeded when they start up for the first time. Clings won&#x27;t work well with that                         </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style=""> 266          boolean supportsLimitedUsers =                                                                            </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style=""> 267                  android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;                </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 268          Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                         </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 269          if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                                       </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 270              UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);                      </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 271              Bundle restrictions = um.getUserRestrictions();                                                       </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 272              if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 273                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275          }                                                                                                         </span>
<span class="3587845044512650791" onmouseenter="enter('3587845044512650791');" onmouseout="out('3587845044512650791');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +        if (Settings.Secure.getInt(mLauncher.getContentResolver(), SKIP_FIRST_USE_HINTS, 0)                       </span>
<span class="-3171026725845760826" onmouseenter="enter('-3171026725845760826');" onmouseout="out('-3171026725845760826');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +                == 1) {                                                                                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +            return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +        }                                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 280          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 281 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 282 -                                                                                                                  </span>
<span class="-6656871287104981339" onmouseenter="enter('-6656871287104981339');" onmouseout="out('-6656871287104981339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 283 -    /** Returns whether the folder cling is visible. */                                                           </span>
<span class="2652077572462010410" onmouseenter="enter('2652077572462010410');" onmouseout="out('2652077572462010410');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 284 -    public boolean isFolderClingVisible() {                                                                       </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 285 -        Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 286 -        if (cling != null) {                                                                                      </span>
<span class="5354156543745985413" onmouseenter="enter('5354156543745985413');" onmouseout="out('5354156543745985413');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 287 -            return cling.getVisibility() == View.VISIBLE;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 288 -        }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 289 -        return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 290 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 291 -                                                                                                                  </span>
<span class="3261734471704407142" onmouseenter="enter('3261734471704407142');" onmouseout="out('3261734471704407142');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 292 -    private boolean skipCustomClingIfNoAccounts() {                                                               </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 293 -        Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                                       </span>
<span class="8131879796396513109" onmouseenter="enter('8131879796396513109');" onmouseout="out('8131879796396513109');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 294 -        boolean customCling = cling.getDrawIdentifier().equals(&quot;workspace_custom&quot;);                               </span>
<span class="-5088119995433972536" onmouseenter="enter('-5088119995433972536');" onmouseout="out('-5088119995433972536');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 295 -        if (customCling) {                                                                                        </span>
<span class="4107110348360829953" onmouseenter="enter('4107110348360829953');" onmouseout="out('4107110348360829953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 296 -            AccountManager am = AccountManager.get(mLauncher);                                                    </span>
<span class="3719083100298396941" onmouseenter="enter('3719083100298396941');" onmouseout="out('3719083100298396941');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 297 -            if (am == null) return false;                                                                         </span>
<span class="8585034104970628706" onmouseenter="enter('8585034104970628706');" onmouseout="out('8585034104970628706');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 298 -            Account[] accounts = am.getAccountsByType(&quot;com.google&quot;);                                              </span>
<span class="888681830593290824" onmouseenter="enter('888681830593290824');" onmouseout="out('888681830593290824');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 299 -            return accounts.length == 0;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 300 -        }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 301 -        return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 302 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 303 -                                                                                                                  </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 304 -    /** Updates the first run cling custom content hint */                                                        </span>
<span class="469116777513878906" onmouseenter="enter('469116777513878906');" onmouseout="out('469116777513878906');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 305 -    private void setCustomContentHintVisibility(Cling cling, String ccHintStr, boolean visible,                   </span>
<span class="2028612541949110954" onmouseenter="enter('2028612541949110954');" onmouseout="out('2028612541949110954');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 306 -                                                boolean animate) {                                                </span>
<span class="-1461653222731043539" onmouseenter="enter('-1461653222731043539');" onmouseout="out('-1461653222731043539');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 307 -        final TextView ccHint = (TextView) cling.findViewById(R.id.custom_content_hint);                          </span>
<span class="-4247356510670510727" onmouseenter="enter('-4247356510670510727');" onmouseout="out('-4247356510670510727');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 308 -        if (ccHint != null) {                                                                                     </span>
<span class="1991709376262395818" onmouseenter="enter('1991709376262395818');" onmouseout="out('1991709376262395818');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 309 -            if (visible &amp;&amp; !ccHintStr.isEmpty()) {                                                                </span>
<span class="-7182387380533329815" onmouseenter="enter('-7182387380533329815');" onmouseout="out('-7182387380533329815');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 310 -                ccHint.setText(ccHintStr);                                                                        </span>
<span class="-5435635288811662091" onmouseenter="enter('-5435635288811662091');" onmouseout="out('-5435635288811662091');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 311 -                ccHint.setVisibility(View.VISIBLE);                                                               </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 312 -                if (animate) {                                                                                    </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 313 -                    ccHint.setAlpha(0f);                                                                          </span>
<span class="-6388238533787919161" onmouseenter="enter('-6388238533787919161');" onmouseout="out('-6388238533787919161');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 314 -                    ccHint.animate().alpha(1f)                                                                    </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 315 -                            .setDuration(SHOW_CLING_DURATION)                                                     </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 316 -                            .start();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 317 -                } else {                                                                                          </span>
<span class="-2018909752855152566" onmouseenter="enter('-2018909752855152566');" onmouseout="out('-2018909752855152566');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 318 -                    ccHint.setAlpha(1f);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 319 -                }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 320 -            } else {                                                                                              </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 321 -                if (animate) {                                                                                    </span>
<span class="2711014148179246558" onmouseenter="enter('2711014148179246558');" onmouseout="out('2711014148179246558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 322 -                    ccHint.animate().alpha(0f)                                                                    </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 323 -                            .setDuration(SHOW_CLING_DURATION)                                                     </span>
<span class="-5634838909649347730" onmouseenter="enter('-5634838909649347730');" onmouseout="out('-5634838909649347730');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 324 -                            .setListener(new AnimatorListenerAdapter() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 325 -                                @Override                                                                         </span>
<span class="5980630386510553635" onmouseenter="enter('5980630386510553635');" onmouseout="out('5980630386510553635');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 326 -                                public void onAnimationEnd(Animator animation) {                                  </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 327 -                                    ccHint.setVisibility(View.GONE);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 328 -                                }                                                                                 </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 329 -                            })                                                                                    </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 330 -                            .start();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 331 -                } else {                                                                                          </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 332 -                    ccHint.setAlpha(0f);                                                                          </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 333 -                    ccHint.setVisibility(View.GONE);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 334 -                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 335 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 336 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 337 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 338 -                                                                                                                  </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 339 -    /** Updates the first run cling custom content hint */                                                        </span>
<span class="2303502057269395595" onmouseenter="enter('2303502057269395595');" onmouseout="out('2303502057269395595');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 340 -    public void updateCustomContentHintVisibility() {                                                             </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 341 -        Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 342 -        String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 343 -                                                                                                                  </span>
<span class="-130945908610593926" onmouseenter="enter('-130945908610593926');" onmouseout="out('-130945908610593926');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 344 -        if (mLauncher.getWorkspace().hasCustomContent()) {                                                        </span>
<span class="8693055059126051888" onmouseenter="enter('8693055059126051888');" onmouseout="out('8693055059126051888');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 345 -            // Show the custom content hint if ccHintStr is not empty                                             </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 346 -            if (cling != null) {                                                                                  </span>
<span class="4884472514151625871" onmouseenter="enter('4884472514151625871');" onmouseout="out('4884472514151625871');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 347 -                setCustomContentHintVisibility(cling, ccHintStr, true, true);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 348 -            }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 349 -        } else {                                                                                                  </span>
<span class="-4603592551765299438" onmouseenter="enter('-4603592551765299438');" onmouseout="out('-4603592551765299438');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 350 -            // Hide the custom content hint                                                                       </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 351 -            if (cling != null) {                                                                                  </span>
<span class="1365008071757398698" onmouseenter="enter('1365008071757398698');" onmouseout="out('1365008071757398698');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 352 -                setCustomContentHintVisibility(cling, ccHintStr, false, true);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 353 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 354 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 355 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 356 -                                                                                                                  </span>
<span class="5908206752421631290" onmouseenter="enter('5908206752421631290');" onmouseout="out('5908206752421631290');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 357 -    /** Updates the first run cling search bar hint. */                                                           </span>
<span class="-1296492729170934578" onmouseenter="enter('-1296492729170934578');" onmouseout="out('-1296492729170934578');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 358 -    public void updateSearchBarHint(String hint) {                                                                </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 359 -        Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-3508310323738241799" onmouseenter="enter('-3508310323738241799');" onmouseout="out('-3508310323738241799');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 360 -        if (cling != null &amp;&amp; cling.getVisibility() == View.VISIBLE &amp;&amp; !hint.isEmpty()) {                          </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 361 -            TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                                </span>
<span class="-6440531948499496275" onmouseenter="enter('-6440531948499496275');" onmouseout="out('-6440531948499496275');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 362 -            sbHint.setText(hint);                                                                                 </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 363 -            sbHint.setVisibility(View.VISIBLE);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 364 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365      }                                                                                                             </span>
<span  style=""> 366                                                                                                                    </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 367      public boolean shouldShowFirstRunOrMigrationClings() {                                                        </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 368          SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                               </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 369          return areClingsEnabled() &amp;&amp;                                                                              </span>
<span class="-4842522563655018789" onmouseenter="enter('-4842522563655018789');" onmouseout="out('-4842522563655018789');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 370 -            !sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false) &amp;&amp;                                      </span>
<span class="-5922793814747869764" onmouseenter="enter('-5922793814747869764');" onmouseout="out('-5922793814747869764');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 371 -            !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false) &amp;&amp;                                      </span>
<span class="-744149375899733227" onmouseenter="enter('-744149375899733227');" onmouseout="out('-744149375899733227');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 372 -            LauncherAppState.getLauncherProvider().wasNewDbCreated();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 373 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 374 -                                                                                                                  </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 375 -    public void removeFirstRunAndMigrationClings() {                                                              </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 376 -        removeCling(R.id.first_run_cling);                                                                        </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 377 -        removeCling(R.id.migration_cling);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 378 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 379 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 380 -    /**                                                                                                           </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 381 -     * Shows the first run cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 382 -     *                                                                                                            </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 383 -     * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher                    </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 384 -     * package was preinstalled or there is no db to migrate from.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 385 -     */                                                                                                           </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 386 -    public void showFirstRunCling() {                                                                             </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 387 -        if (!skipCustomClingIfNoAccounts()) {                                                                     </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 388 -            SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                           </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 389 -            // If we&#x27;re not using the default workspace layout, replace workspace cling                           </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 390 -            // with a custom workspace cling (usually specified in an overlay)                                    </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 391 -            // For now, only do this on tablets                                                                   </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 392 -            if (!DISABLE_CUSTOM_CLINGS) {                                                                         </span>
<span class="156660452169084569" onmouseenter="enter('156660452169084569');" onmouseout="out('156660452169084569');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 393 -                if (sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0 &amp;&amp;                 </span>
<span class="2813951541077607514" onmouseenter="enter('2813951541077607514');" onmouseout="out('2813951541077607514');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 394 -                        mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {                     </span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 395 -                    // Use a custom cling                                                                         </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 396 -                    View cling = mLauncher.findViewById(R.id.workspace_cling);                                    </span>
<span class="4480519638670873320" onmouseenter="enter('4480519638670873320');" onmouseout="out('4480519638670873320');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 397 -                    ViewGroup clingParent = (ViewGroup) cling.getParent();                                        </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 398 -                    int clingIndex = clingParent.indexOfChild(cling);                                             </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 399 -                    clingParent.removeViewAt(clingIndex);                                                         </span>
<span class="6138631462351189999" onmouseenter="enter('6138631462351189999');" onmouseout="out('6138631462351189999');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 400 -                    View customCling = mInflater.inflate(R.layout.custom_workspace_cling,                         </span>
<span class="2282821999478624641" onmouseenter="enter('2282821999478624641');" onmouseout="out('2282821999478624641');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 401 -                            clingParent, false);                                                                  </span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 402 -                    clingParent.addView(customCling, clingIndex);                                                 </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 403 -                    customCling.setId(R.id.workspace_cling);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 404 -                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 405 -            }                                                                                                     </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 406 -            Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 407 -            if (cling != null) {                                                                                  </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 408 -                String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                                     </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 409 -                String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                      </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 410 -                if (!sbHintStr.isEmpty()) {                                                                       </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 411 -                    TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                        </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 412 -                    sbHint.setText(sbHintStr);                                                                    </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 413 -                    sbHint.setVisibility(View.VISIBLE);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 414 -                }                                                                                                 </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 415 -                setCustomContentHintVisibility(cling, ccHintStr, true, false);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 416 -            }                                                                                                     </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 417 -            initCling(R.id.first_run_cling, 0, false, true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 418 -        } else {                                                                                                  </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 419 -            removeFirstRunAndMigrationClings();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 420 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 421 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 422 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 423 -    /**                                                                                                           </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 424 -     * Shows the migration cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 425 -     *                                                                                                            </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 426 -     * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher                     </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 427 -     * package was not preinstalled and there exists a db to migrate from.                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 428 -     */                                                                                                           </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 429 -    public void showMigrationCling() {                                                                            </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 430 -        mLauncher.hideWorkspaceSearchAndHotseat();                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 431 -                                                                                                                  </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 432 -        Cling c = initCling(R.id.migration_cling, 0, false, true);                                                </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 433 -        c.bringScrimToFront();                                                                                    </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 434 -        c.bringToFront();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 435 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 436 -                                                                                                                  </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 437 -    public void showMigrationWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 438 -        // Enable the clings only if they have not been dismissed before                                          </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 439 -        if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                         </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 440 -                MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 441 -            Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                                  </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 442 -            c.updateMigrationWorkspaceBubblePosition();                                                           </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 443 -            c.bringScrimToFront();                                                                                </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 444 -            c.bringToFront();                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 445 -        } else {                                                                                                  </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 446 -            removeCling(R.id.migration_workspace_cling);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 447 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 448 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 449 -                                                                                                                  </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 450 -    public void showWorkspaceCling() {                                                                            </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 451 -        // Enable the clings only if they have not been dismissed before                                          </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 452 -        if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                         </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 453 -                WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                          </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 454 -            Cling c = initCling(R.id.workspace_cling, 0, false, true);                                            </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 455 -            c.updateWorkspaceBubblePosition();                                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 456 -                                                                                                                  </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 457 -            // Set the focused hotseat app if there is one                                                        </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 458 -            c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                            </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 459 -                    mLauncher.getFirstRunFocusedHotseatAppRank(),                                                 </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 460 -                    mLauncher.getFirstRunFocusedHotseatAppComponentName(),                                        </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 461 -                    mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                          </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 462 -                    mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 463 -        } else {                                                                                                  </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 464 -            removeCling(R.id.workspace_cling);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 465 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 466 -    }                                                                                                             </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 467 -    public Cling showFoldersCling() {                                                                             </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 468 -        SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                               </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 469 -        // Enable the clings only if they have not been dismissed before                                          </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 470 -        if (areClingsEnabled() &amp;&amp;                                                                                 </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 471 -                !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                                     </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 472 -                !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                                     </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 473 -            Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                          </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 474 -                    true, true);                                                                                  </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 475 -            Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                         </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 476 -            if (openFolder != null) {                                                                             </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 477 -                Rect openFolderRect = new Rect();                                                                 </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 478 -                openFolder.getHitRect(openFolderRect);                                                            </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 479 -                cling.setOpenFolderRect(openFolderRect);                                                          </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 480 -                openFolder.bringToFront();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 481 -            }                                                                                                     </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 482 -            return cling;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 483 -        } else {                                                                                                  </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 484 -            removeCling(R.id.folder_cling);                                                                       </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 485 -            return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 486 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 487 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 488 -                                                                                                                  </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 489 -    /** Removes the cling outright from the DragLayer */                                                          </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 490 -    private void removeCling(int id) {                                                                            </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 491 -        final View cling = mLauncher.findViewById(id);                                                            </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 492 -        if (cling != null) {                                                                                      </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 493 -            final ViewGroup parent = (ViewGroup) cling.getParent();                                               </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 494 -            parent.post(new Runnable() {                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 495 -                @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 496 -                public void run() {                                                                               </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 497 -                    parent.removeView(cling);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 498 -                }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 499 -            });                                                                                                   </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 500 -            mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 501 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 502 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 503 -                                                                                                                  </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 504 -    /** Hides the specified Cling */                                                                              </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 505 -    private void dismissCling(final Cling cling, final Runnable postAnimationCb,                                  </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 506 -                              final String flag, int duration, boolean restoreNavBarVisibilty) {                  </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 507 -        // To catch cases where siblings of top-level views are made invisible, just check whether                </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 508 -        // the cling is directly set to GONE before dismissing it.                                                </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 509 -        if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                                </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 510 -            final Runnable cleanUpClingCb = new Runnable() {                                                      </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 511 -                public void run() {                                                                               </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 512 -                    cling.cleanup();                                                                              </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 513 -                    SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                          </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 514 -                    editor.putBoolean(flag, true);                                                                </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 515 -                    editor.apply();                                                                               </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 516 -                    if (postAnimationCb != null) {                                                                </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 517 -                        postAnimationCb.run();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 518 -                    }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 519 -                }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 520 -            };                                                                                                    </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 521 -            if (duration &lt;= 0) {                                                                                  </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 522 -                cleanUpClingCb.run();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 523 -            } else {                                                                                              </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 524 -                cling.hide(duration, cleanUpClingCb);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 525 -            }                                                                                                     </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 526 -            mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 527 -                                                                                                                  </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 528 -            if (restoreNavBarVisibilty) {                                                                         </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 529 -                cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                                       </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 530 -                        ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 531 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 532 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 533 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 534 -                                                                                                                  </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 535 -    public void dismissFirstRunCling(View v) {                                                                    </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 536 -        Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 537 -        Runnable cb = new Runnable() {                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 538 -            public void run() {                                                                                   </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 539 -                // Show the workspace cling next                                                                  </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 540 -                showWorkspaceCling();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 541 -            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 542 -        };                                                                                                        </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 543 -        dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                                    </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 544 -                DISMISS_CLING_DURATION, false);                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 545 -                                                                                                                  </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 546 -        // Fade out the search bar for the workspace cling coming up                                              </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 547 -        mLauncher.getSearchBar().hideSearchBar(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 548 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 549 -                                                                                                                  </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 550 -    private void dismissMigrationCling() {                                                                        </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 551 -        mLauncher.showWorkspaceSearchAndHotseat();                                                                </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 552 -        Runnable dismissCb = new Runnable() {                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 553 -            public void run() {                                                                                   </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 554 -                Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                               </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 555 -                Runnable cb = new Runnable() {                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 556 -                    public void run() {                                                                           </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 557 -                        // Show the migration workspace cling next                                                </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 558 -                        showMigrationWorkspaceCling();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 559 -                    }                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 560 -                };                                                                                                </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 561 -                dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 562 -                        DISMISS_CLING_DURATION, true);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 563 -            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 564 -        };                                                                                                        </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 565 -        mLauncher.getWorkspace().post(dismissCb);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 566 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 567 -                                                                                                                  </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 568 -    private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                                      </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 569 -        Runnable cb = null;                                                                                       </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 570 -        if (v == null) {                                                                                          </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 571 -            cb = new Runnable() {                                                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 572 -                public void run() {                                                                               </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 573 -                    mLauncher.getWorkspace().enterOverviewMode();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 574 -                }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 575 -            };                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 576 -        }                                                                                                         </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 577 -        dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 578 -                                                                                                                  </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 579 -        // Fade in the search bar                                                                                 </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 580 -        mLauncher.getSearchBar().showSearchBar(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 581 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 582 -                                                                                                                  </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 583 -    public void dismissMigrationClingCopyApps(View v) {                                                           </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 584 -        // Copy the shortcuts from the old database                                                               </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 585 -        LauncherModel model = mLauncher.getModel();                                                               </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 586 -        model.resetLoadedState(false, true);                                                                      </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 587 -        model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                                  </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 588 -                LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                         </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 589 -                        | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 590 -                                                                                                                  </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 591 -        // Set the flag to skip the folder cling                                                                  </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 592 -        String spKey = LauncherAppState.getSharedPreferencesKey();                                                </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 593 -        SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);                       </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 594 -        SharedPreferences.Editor editor = sp.edit();                                                              </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 595 -        editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                                      </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 596 -        editor.apply();                                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 597 -                                                                                                                  </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 598 -        // Disable the migration cling                                                                            </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 599 -        dismissMigrationCling();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 600 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 601 -                                                                                                                  </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 602 -    public void dismissMigrationClingUseDefault(View v) {                                                         </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 603 -        // Clear the workspace                                                                                    </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 604 -        LauncherModel model = mLauncher.getModel();                                                               </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 605 -        model.resetLoadedState(false, true);                                                                      </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 606 -        model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                                  </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 607 -                LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 608 -                                                                                                                  </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 609 -        // Disable the migration cling                                                                            </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 610 -        dismissMigrationCling();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 611 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 612 -                                                                                                                  </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 613 -    public void dismissMigrationWorkspaceCling(View v) {                                                          </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 614 -        Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                             </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 615 -        dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 616 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 617 -                                                                                                                  </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 618 -    public void dismissWorkspaceCling(View v) {                                                                   </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 619 -        Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                                       </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 620 -        dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 621 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 622 -                                                                                                                  </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 623 -    public void dismissFolderCling(View v) {                                                                      </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 624 -        Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                          </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 625 -        dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                                     </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 626 -                DISMISS_CLING_DURATION, true);                                                                    </span>
<span class="2087580716782195645" onmouseenter="enter('2087580716782195645');" onmouseout="out('2087580716782195645');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 627 +            !sharedPrefs.getBoolean(WORKSPACE_CLING_DISMISSED_KEY, false) &amp;&amp;                                      </span>
<span class="-8544301680236423151" onmouseenter="enter('-8544301680236423151');" onmouseout="out('-8544301680236423151');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 628 +            !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 629 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 630 +                                                                                                                  </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 631 +    public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                                      </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 632 +        SharedPreferences prefs = ctx.getSharedPreferences(                                                       </span>
<span class="-3012020800644432647" onmouseenter="enter('-3012020800644432647');" onmouseout="out('-3012020800644432647');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 633 +                LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);                                </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 634 +        SharedPreferences.Editor editor = prefs.edit();                                                           </span>
<span class="7152522010852240692" onmouseenter="enter('7152522010852240692');" onmouseout="out('7152522010852240692');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 635 +        editor.putBoolean(WORKSPACE_CLING_DISMISSED_KEY, true);                                                   </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 636 +        editor.commit();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 637      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638  }                                                                                                                 </span></pre></td>
                            <td><pre></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            