<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>263</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    263
                    <a href="262.html">prev</a>
                    <a href="264.html">next</a>
                    <a href="263_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_c4f68102688a41a40ca1a6acc67b091c49f8d5e4_common/src/test/java/org/broadleafcommerce/common/rule/MvelHelperTest.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;c4f68102688a41a40ca1a6acc67b091c49f8d5e4:common/src/test/java/org/broadleafcommerce/common/rule/MvelHelperTest.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;c4f68102688a41a40ca1a6acc67b091c49f8d5e4^1:common/src/test/java/org/broadleafcommerce/common/rule/MvelHelperTest.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;c4f68102688a41a40ca1a6acc67b091c49f8d5e4^2:common/src/test/java/org/broadleafcommerce/common/rule/MvelHelperTest.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;d25c77b589e6b1d10bdce4e5d4941f0f5b1585d1:common/src/test/java/org/broadleafcommerce/common/rule/MvelHelperTest.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bsj]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">   2 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   3 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   4  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   5  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   6  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   7  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   8  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   9  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  10  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  11  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  12  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  13  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  16  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  16  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  17  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  17  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19  */                                                                                                      </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20 package org.broadleafcommerce.common.rule;                                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21                                                                                                          </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22 import org.apache.commons.exec.CommandLine;                                                              </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 import org.apache.commons.exec.DefaultExecutor;                                                          </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24 import org.apache.commons.exec.Executor;                                                                 </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  25 import org.apache.commons.exec.PumpStreamHandler;                                                        </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28 import org.broadleafcommerce.common.RequestDTO;                                                          </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29 import org.broadleafcommerce.common.RequestDTOImpl;                                                      </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 import org.broadleafcommerce.common.locale.domain.Locale;                                                </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                            </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  32 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33                                                                                                          </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 import java.io.ByteArrayOutputStream;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38                                                                                                          </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 import junit.framework.TestCase;                                                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40                                                                                                          </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41 public class MvelHelperTest extends TestCase {                                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42                                                                                                          </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43     private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45     /**                                                                                                  </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46      * Test that a blank rule is true.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47      */                                                                                                  </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48     public void testBlankRule() {                                                                        </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49         boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                              </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53     /**                                                                                                  </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54      * Test that a null rule is true.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55      */                                                                                                  </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56     public void testNullRule() {                                                                         </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57         boolean result = MvelHelper.evaluateRule(null, null);                                            </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  61     /**                                                                                                  </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  62      * Test rule with parse errors                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63      */                                                                                                  </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64     public void testRuleWithParseErrors() {                                                              </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65         MvelHelper.setTestMode(true);                                                                    </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66         boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                              </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67         MvelHelper.setTestMode(false);                                                                   </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73      */                                                                                                  </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74     public void testRuleThatEvaluatesToTrue() {                                                          </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77         testLocale.setLocaleCode(&quot;US&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88      */                                                                                                  </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89     public void testRuleThatEvaluatesToFalse() {                                                         </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92         testLocale.setLocaleCode(&quot;GB&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101     /**                                                                                                  </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102      * Tests MVEL syntax for accessing request property map values.                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 103      */                                                                                                  </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 104     @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                       </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105     public void testRequestMapProperty() {                                                               </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106         BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());               </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107         RequestDTO dto = new RequestDTOImpl();                                                           </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108         dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110         Map parameters = new HashMap();                                                                  </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111         parameters.put(&quot;request&quot;, dto);                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112                                                                                                          </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113         // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true              </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 114         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);"> 114         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameteðŸ”µ</abbr></span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118     /**                                                                                                  </span>
<span class="-3491194938170397099" onmouseenter="enter('-3491194938170397099');" onmouseout="out('-3491194938170397099');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119      * Confirms MVEL failure for special overloaded method case.                                         </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120      * &lt;/p&gt;                                                                                              </span>
<span class="820669004034197106" onmouseenter="enter('820669004034197106');" onmouseout="out('820669004034197106');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 121      * During compilation, if an mvel expression contains a method calls with params, mvel will attempt to identify a perfect"> 121      * During compilation, if an mvel expression contains a method calls with params, mvel will attempt tðŸ”µ</abbr></span>
<span class="3537322910142812280" onmouseenter="enter('3537322910142812280');" onmouseout="out('3537322910142812280');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 122      * method signature match based on the types of the params. However, if the method is overloaded and one or more of"> 122      * method signature match based on the types of the params. However, if the method is overloaded and ðŸ”µ</abbr></span>
<span class="-1388379413260565932" onmouseenter="enter('-1388379413260565932');" onmouseout="out('-1388379413260565932');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 123      * the params are null, mvel will not be able to 100% identify the right method version if the overloaded methods"> 123      * the params are null, mvel will not be able to 100% identify the right method version if the overloðŸ”µ</abbr></span>
<span class="-4443872070232650144" onmouseenter="enter('-4443872070232650144');" onmouseout="out('-4443872070232650144');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124      * have the same quantity of params and have type overlap. Take this example:                        </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125      * &lt;/p&gt;                                                                                              </span>
<span class="1793169505745007673" onmouseenter="enter('1793169505745007673');" onmouseout="out('1793169505745007673');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126      * {@code SelectizeCollectionUtils#intersection(String param, Iterable param2);}                     </span>
<span class="1671408672188544014" onmouseenter="enter('1671408672188544014');" onmouseout="out('1671408672188544014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127      * {@code SelectizeCollectionUtils#intersection(Iterable param, Iterable param2);}                   </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 128      * &lt;/p&gt;                                                                                              </span>
<span class="4195074246261403764" onmouseenter="enter('4195074246261403764');" onmouseout="out('4195074246261403764');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 129      * If a rule is executed calling the intersection method and a null is passed in for the first parameter, mvel will"> 129      * If a rule is executed calling the intersection method and a null is passed in for the first parameðŸ”µ</abbr></span>
<span class="-1542731075170832009" onmouseenter="enter('-1542731075170832009');" onmouseout="out('-1542731075170832009');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 130      * not know which method to pick, so it will end up picking one of them. This has proven to be undetermined at runtime,"> 130      * not know which method to pick, so it will end up picking one of them. This has proven to be undeteðŸ”µ</abbr></span>
<span class="-7256370640960232850" onmouseenter="enter('-7256370640960232850');" onmouseout="out('-7256370640960232850');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 131      * which has made the problem even harder to identify. Furthermore, once the choice is made during compilation,"> 131      * which has made the problem even harder to identify. Furthermore, once the choice is made during coðŸ”µ</abbr></span>
<span class="5542310779774290803" onmouseenter="enter('5542310779774290803');" onmouseout="out('5542310779774290803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 132      * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the expression to"> 132      * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the eðŸ”µ</abbr></span>
<span class="3482145919170569836" onmouseenter="enter('3482145919170569836');" onmouseout="out('3482145919170569836');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 133      * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first param Iterable"> 133      * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first paðŸ”µ</abbr></span>
<span class="7920340947056527033" onmouseenter="enter('7920340947056527033');" onmouseout="out('7920340947056527033');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 134      * instance into a String (i.e. flatten the list representation into a comma delimited String) in order to continue"> 134      * instance into a String (i.e. flatten the list representation into a comma delimited String) in ordðŸ”µ</abbr></span>
<span class="-3871953327257774900" onmouseenter="enter('-3871953327257774900');" onmouseout="out('-3871953327257774900');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 135      * calling the method identified during compilation. This causes the expression to permanently be in an incorrect"> 135      * calling the method identified during compilation. This causes the expression to permanently be in ðŸ”µ</abbr></span>
<span class="-2128635782543467376" onmouseenter="enter('-2128635782543467376');" onmouseout="out('-2128635782543467376');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 136      * state from which it will never recover.                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 137      */                                                                                                  </span>
<span class="-2636347657322659543" onmouseenter="enter('-2636347657322659543');" onmouseout="out('-2636347657322659543');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 138     public void testMvelMethodOverloadFailureCase() throws IOException {                                 </span>
<span class="-1902532453269392050" onmouseenter="enter('-1902532453269392050');" onmouseout="out('-1902532453269392050');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 139         //Test multiple iterations to make sure we hit the undetermined ordering case we need to confirm </span>
<span class="1861644502634376889" onmouseenter="enter('1861644502634376889');" onmouseout="out('1861644502634376889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 140         String output = &quot;&quot;;                                                                              </span>
<span class="5105727744173500731" onmouseenter="enter('5105727744173500731');" onmouseout="out('5105727744173500731');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 141         for (int j=0; j&lt;100; j++) {                                                                      </span>
<span class="-7106040940421265166" onmouseenter="enter('-7106040940421265166');" onmouseout="out('-7106040940421265166');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 142             output = executeExternalJavaProcess(MvelOverloadFailureReproduction.class);                  </span>
<span class="5291966578812583717" onmouseenter="enter('5291966578812583717');" onmouseout="out('5291966578812583717');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 143             boolean result = Boolean.valueOf(output.trim());                                             </span>
<span class="-275963108691733288" onmouseenter="enter('-275963108691733288');" onmouseout="out('-275963108691733288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 144             if (result) {                                                                                </span>
<span class="6482053570338043991" onmouseenter="enter('6482053570338043991');" onmouseout="out('6482053570338043991');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 145                 //We found the case. Exit the loop, since we don&#x27;t need to try anymore.                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 146                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 147             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 148         }                                                                                                </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 149         assertEquals(&quot;true&quot;, output);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 150     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 151                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 152     /**                                                                                                  </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 153      * Confirms repeated success for method overload workaround in SelectizeCollectionUtils              </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 154      * &lt;/p&gt;                                                                                              </span>
<span class="-7625802817388727547" onmouseenter="enter('-7625802817388727547');" onmouseout="out('-7625802817388727547');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 155      * See {@link #testMvelMethodOverloadFailureCase()} for a more complete description of the problem case."> 155      * See {@link #testMvelMethodOverloadFailureCase()} for a more complete description of the problem caðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 156      */                                                                                                  </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 157     public void testMvelMethodOverloadWorkaroundCase() throws IOException {                              </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 158         //Test multiple iterations to make sure we no longer fail at all                                 </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 159         for (int j=0; j&lt;20; j++) {                                                                       </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 160             String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);        </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 161             assertEquals(&quot;true&quot;, output);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 162         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 163     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 164                                                                                                          </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 165     protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                 </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 166         String classpath = MvelTestUtils.getClassPath();                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 167                                                                                                          </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 168         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 168         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the teðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 169         CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                   </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 170         cmdLine.addArgument(&quot;-cp&quot;);                                                                      </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 171         cmdLine.addArgument(classpath, true);                                                            </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 172         cmdLine.addArgument(mainClass.getName());                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 173                                                                                                          </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 174         ByteArrayOutputStream baos = new ByteArrayOutputStream();                                        </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 175         Executor executor = new DefaultExecutor();                                                       </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 176         executor.setStreamHandler(new PumpStreamHandler(baos));                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 177         try {                                                                                            </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 178             executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                    </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 179         } catch (IOException e) {                                                                        </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 180             throw new IOException(new String(baos.toByteArray()));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 181         }                                                                                                </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182         return new String(baos.toByteArray());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 183     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 184 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 185 =======                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 186 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 187  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 188  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 189  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 190  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 191  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 192  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 193  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 194  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 198  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 199  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)"> 199  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 200  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license."> 200  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 201  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 202  */                                                                                                      </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 203 package org.broadleafcommerce.common.rule;                                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 204                                                                                                          </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 205 import org.apache.commons.exec.CommandLine;                                                              </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 206 import org.apache.commons.exec.DefaultExecutor;                                                          </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 207 import org.apache.commons.exec.Executor;                                                                 </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 208 import org.apache.commons.exec.PumpStreamHandler;                                                        </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 209 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211 import org.broadleafcommerce.common.RequestDTO;                                                          </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 212 import org.broadleafcommerce.common.RequestDTOImpl;                                                      </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213 import org.broadleafcommerce.common.locale.domain.Locale;                                                </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 214 import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                            </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 215 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216                                                                                                          </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217 import java.io.ByteArrayOutputStream;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 218 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 219 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 221                                                                                                          </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222 import junit.framework.TestCase;                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 223                                                                                                          </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224 public class MvelHelperTest extends TestCase {                                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225                                                                                                          </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226     private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228     /**                                                                                                  </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229      * Test that a blank rule is true.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230      */                                                                                                  </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 231     public void testBlankRule() {                                                                        </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 232         boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                              </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 233         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 234     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 235                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 236     /**                                                                                                  </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 237      * Test that a null rule is true.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 238      */                                                                                                  </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 239     public void testNullRule() {                                                                         </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 240         boolean result = MvelHelper.evaluateRule(null, null);                                            </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 241         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 242     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 243                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 244     /**                                                                                                  </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 245      * Test rule with parse errors                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 246      */                                                                                                  </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 247     public void testRuleWithParseErrors() {                                                              </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 248         MvelHelper.setTestMode(true);                                                                    </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 249         boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                              </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 250         MvelHelper.setTestMode(false);                                                                   </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 251         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 252     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 253                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 254     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 255      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 256      */                                                                                                  </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 257     public void testRuleThatEvaluatesToTrue() {                                                          </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 258         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 259         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 260         testLocale.setLocaleCode(&quot;US&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 261                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 262         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 263         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 266         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 267     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 268                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 269     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 270      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 271      */                                                                                                  </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 272     public void testRuleThatEvaluatesToFalse() {                                                         </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 273         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 274         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 275         testLocale.setLocaleCode(&quot;GB&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 276                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 277         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 278         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 279                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 280         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 281         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 282     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 283                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 284     /**                                                                                                  </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 285      * Tests MVEL syntax for accessing request property map values.                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 286      */                                                                                                  </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 287     @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                       </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 288     public void testRequestMapProperty() {                                                               </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 289         BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());               </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 290         RequestDTO dto = new RequestDTOImpl();                                                           </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 291         dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 292                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 293         Map parameters = new HashMap();                                                                  </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 294         parameters.put(&quot;request&quot;, dto);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 295                                                                                                          </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 296         // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true              </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 297         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);"> 297         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameteðŸ”µ</abbr></span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 298         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 299     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 300                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 301     /**                                                                                                  </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 302      * Confirms repeated success for method overload workaround in SelectizeCollectionUtils              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 303      */                                                                                                  </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 304     public void testMvelMethodOverloadWorkaroundCase() throws IOException {                              </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 305         //Test multiple iterations to make sure we no longer fail at all                                 </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 306         for (int j=0; j&lt;20; j++) {                                                                       </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 307             String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);        </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 308             assertEquals(&quot;true&quot;, output);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 309         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 310     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 311                                                                                                          </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 312     protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                 </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 313         String classpath = MvelTestUtils.getClassPath();                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 314                                                                                                          </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 315         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 315         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the teðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 316         CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                   </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 317         cmdLine.addArgument(&quot;-cp&quot;);                                                                      </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 318         cmdLine.addArgument(classpath, true);                                                            </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 319         cmdLine.addArgument(mainClass.getName());                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 320                                                                                                          </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321         ByteArrayOutputStream baos = new ByteArrayOutputStream();                                        </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322         Executor executor = new DefaultExecutor();                                                       </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323         executor.setStreamHandler(new PumpStreamHandler(baos));                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324         try {                                                                                            </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325             executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                    </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 326         } catch (IOException e) {                                                                        </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 327             throw new IOException(new String(baos.toByteArray()));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328         }                                                                                                </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329         return new String(baos.toByteArray());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331 }                                                                                                        </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 332 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span></pre></td>
                            <td><pre><span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">   2 ||||||| BASE                                                                                             </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   3 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   4  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   5  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   6  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   7  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   8  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   9  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  10  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  11  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  12  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  13  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  16  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  16  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  17  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  17  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19  */                                                                                                      </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20 package org.broadleafcommerce.common.rule;                                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21                                                                                                          </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22 import org.apache.commons.exec.CommandLine;                                                              </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 import org.apache.commons.exec.DefaultExecutor;                                                          </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24 import org.apache.commons.exec.Executor;                                                                 </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  25 import org.apache.commons.exec.PumpStreamHandler;                                                        </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28 import org.broadleafcommerce.common.RequestDTO;                                                          </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29 import org.broadleafcommerce.common.RequestDTOImpl;                                                      </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 import org.broadleafcommerce.common.locale.domain.Locale;                                                </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                            </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  32 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33                                                                                                          </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 import java.io.ByteArrayOutputStream;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38                                                                                                          </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 import junit.framework.TestCase;                                                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40                                                                                                          </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41 public class MvelHelperTest extends TestCase {                                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42                                                                                                          </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43     private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45     /**                                                                                                  </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46      * Test that a blank rule is true.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47      */                                                                                                  </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48     public void testBlankRule() {                                                                        </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49         boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                              </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53     /**                                                                                                  </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54      * Test that a null rule is true.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55      */                                                                                                  </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56     public void testNullRule() {                                                                         </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57         boolean result = MvelHelper.evaluateRule(null, null);                                            </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  61     /**                                                                                                  </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  62      * Test rule with parse errors                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63      */                                                                                                  </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64     public void testRuleWithParseErrors() {                                                              </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65         MvelHelper.setTestMode(true);                                                                    </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66         boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                              </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67         MvelHelper.setTestMode(false);                                                                   </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73      */                                                                                                  </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74     public void testRuleThatEvaluatesToTrue() {                                                          </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77         testLocale.setLocaleCode(&quot;US&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88      */                                                                                                  </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89     public void testRuleThatEvaluatesToFalse() {                                                         </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92         testLocale.setLocaleCode(&quot;GB&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101     /**                                                                                                  </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102      * Tests MVEL syntax for accessing request property map values.                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 103      */                                                                                                  </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 104     @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                       </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105     public void testRequestMapProperty() {                                                               </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106         BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());               </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107         RequestDTO dto = new RequestDTOImpl();                                                           </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108         dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110         Map parameters = new HashMap();                                                                  </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111         parameters.put(&quot;request&quot;, dto);                                                                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112                                                                                                          </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113         // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true              </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 114         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);"> 114         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameteðŸ”µ</abbr></span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118     /**                                                                                                  </span>
<span class="-3491194938170397099" onmouseenter="enter('-3491194938170397099');" onmouseout="out('-3491194938170397099');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119      * Confirms MVEL failure for special overloaded method case.                                         </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120      * &lt;/p&gt;                                                                                              </span>
<span class="820669004034197106" onmouseenter="enter('820669004034197106');" onmouseout="out('820669004034197106');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 121      * During compilation, if an mvel expression contains a method calls with params, mvel will attempt to identify a perfect"> 121      * During compilation, if an mvel expression contains a method calls with params, mvel will attempt tðŸ”µ</abbr></span>
<span class="3537322910142812280" onmouseenter="enter('3537322910142812280');" onmouseout="out('3537322910142812280');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 122      * method signature match based on the types of the params. However, if the method is overloaded and one or more of"> 122      * method signature match based on the types of the params. However, if the method is overloaded and ðŸ”µ</abbr></span>
<span class="-1388379413260565932" onmouseenter="enter('-1388379413260565932');" onmouseout="out('-1388379413260565932');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 123      * the params are null, mvel will not be able to 100% identify the right method version if the overloaded methods"> 123      * the params are null, mvel will not be able to 100% identify the right method version if the overloðŸ”µ</abbr></span>
<span class="-4443872070232650144" onmouseenter="enter('-4443872070232650144');" onmouseout="out('-4443872070232650144');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124      * have the same quantity of params and have type overlap. Take this example:                        </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125      * &lt;/p&gt;                                                                                              </span>
<span class="1793169505745007673" onmouseenter="enter('1793169505745007673');" onmouseout="out('1793169505745007673');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126      * {@code SelectizeCollectionUtils#intersection(String param, Iterable param2);}                     </span>
<span class="1671408672188544014" onmouseenter="enter('1671408672188544014');" onmouseout="out('1671408672188544014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127      * {@code SelectizeCollectionUtils#intersection(Iterable param, Iterable param2);}                   </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 128      * &lt;/p&gt;                                                                                              </span>
<span class="4195074246261403764" onmouseenter="enter('4195074246261403764');" onmouseout="out('4195074246261403764');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 129      * If a rule is executed calling the intersection method and a null is passed in for the first parameter, mvel will"> 129      * If a rule is executed calling the intersection method and a null is passed in for the first parameðŸ”µ</abbr></span>
<span class="-1542731075170832009" onmouseenter="enter('-1542731075170832009');" onmouseout="out('-1542731075170832009');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 130      * not know which method to pick, so it will end up picking one of them. This has proven to be undetermined at runtime,"> 130      * not know which method to pick, so it will end up picking one of them. This has proven to be undeteðŸ”µ</abbr></span>
<span class="-7256370640960232850" onmouseenter="enter('-7256370640960232850');" onmouseout="out('-7256370640960232850');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 131      * which has made the problem even harder to identify. Furthermore, once the choice is made during compilation,"> 131      * which has made the problem even harder to identify. Furthermore, once the choice is made during coðŸ”µ</abbr></span>
<span class="5542310779774290803" onmouseenter="enter('5542310779774290803');" onmouseout="out('5542310779774290803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 132      * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the expression to"> 132      * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the eðŸ”µ</abbr></span>
<span class="3482145919170569836" onmouseenter="enter('3482145919170569836');" onmouseout="out('3482145919170569836');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 133      * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first param Iterable"> 133      * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first paðŸ”µ</abbr></span>
<span class="7920340947056527033" onmouseenter="enter('7920340947056527033');" onmouseout="out('7920340947056527033');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 134      * instance into a String (i.e. flatten the list representation into a comma delimited String) in order to continue"> 134      * instance into a String (i.e. flatten the list representation into a comma delimited String) in ordðŸ”µ</abbr></span>
<span class="-3871953327257774900" onmouseenter="enter('-3871953327257774900');" onmouseout="out('-3871953327257774900');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 135      * calling the method identified during compilation. This causes the expression to permanently be in an incorrect"> 135      * calling the method identified during compilation. This causes the expression to permanently be in ðŸ”µ</abbr></span>
<span class="-2128635782543467376" onmouseenter="enter('-2128635782543467376');" onmouseout="out('-2128635782543467376');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 136      * state from which it will never recover.                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 137      */                                                                                                  </span>
<span class="-2636347657322659543" onmouseenter="enter('-2636347657322659543');" onmouseout="out('-2636347657322659543');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 138     public void testMvelMethodOverloadFailureCase() throws IOException {                                 </span>
<span class="-1902532453269392050" onmouseenter="enter('-1902532453269392050');" onmouseout="out('-1902532453269392050');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 139         //Test multiple iterations to make sure we hit the undetermined ordering case we need to confirm </span>
<span class="1861644502634376889" onmouseenter="enter('1861644502634376889');" onmouseout="out('1861644502634376889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 140         String output = &quot;&quot;;                                                                              </span>
<span class="5105727744173500731" onmouseenter="enter('5105727744173500731');" onmouseout="out('5105727744173500731');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 141         for (int j=0; j&lt;100; j++) {                                                                      </span>
<span class="-7106040940421265166" onmouseenter="enter('-7106040940421265166');" onmouseout="out('-7106040940421265166');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 142             output = executeExternalJavaProcess(MvelOverloadFailureReproduction.class);                  </span>
<span class="5291966578812583717" onmouseenter="enter('5291966578812583717');" onmouseout="out('5291966578812583717');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 143             boolean result = Boolean.valueOf(output.trim());                                             </span>
<span class="-275963108691733288" onmouseenter="enter('-275963108691733288');" onmouseout="out('-275963108691733288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 144             if (result) {                                                                                </span>
<span class="6482053570338043991" onmouseenter="enter('6482053570338043991');" onmouseout="out('6482053570338043991');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 145                 //We found the case. Exit the loop, since we don&#x27;t need to try anymore.                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 146                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 147             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 148         }                                                                                                </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 149         assertEquals(&quot;true&quot;, output);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 150     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 151                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 152     /**                                                                                                  </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 153      * Confirms repeated success for method overload workaround in SelectizeCollectionUtils              </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 154      * &lt;/p&gt;                                                                                              </span>
<span class="-7625802817388727547" onmouseenter="enter('-7625802817388727547');" onmouseout="out('-7625802817388727547');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 155      * See {@link #testMvelMethodOverloadFailureCase()} for a more complete description of the problem case."> 155      * See {@link #testMvelMethodOverloadFailureCase()} for a more complete description of the problem caðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 156      */                                                                                                  </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 157     public void testMvelMethodOverloadWorkaroundCase() throws IOException {                              </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 158         //Test multiple iterations to make sure we no longer fail at all                                 </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 159         for (int j=0; j&lt;20; j++) {                                                                       </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 160             String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);        </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 161             assertEquals(&quot;true&quot;, output);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 162         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 163     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 164                                                                                                          </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 165     protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                 </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 166         String classpath = MvelTestUtils.getClassPath();                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 167                                                                                                          </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 168         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 168         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the teðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 169         CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                   </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 170         cmdLine.addArgument(&quot;-cp&quot;);                                                                      </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 171         cmdLine.addArgument(classpath, true);                                                            </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 172         cmdLine.addArgument(mainClass.getName());                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 173                                                                                                          </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 174         ByteArrayOutputStream baos = new ByteArrayOutputStream();                                        </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 175         Executor executor = new DefaultExecutor();                                                       </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 176         executor.setStreamHandler(new PumpStreamHandler(baos));                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 177         try {                                                                                            </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 178             executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                    </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 179         } catch (IOException e) {                                                                        </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 180             throw new IOException(new String(baos.toByteArray()));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 181         }                                                                                                </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182         return new String(baos.toByteArray());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 183     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 184 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 185 =======                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 186 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 187  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 188  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 189  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 190  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 191  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 192  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 193  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 194  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 198  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 199  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)"> 199  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 200  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license."> 200  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 201  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 202  */                                                                                                      </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 203 package org.broadleafcommerce.common.rule;                                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 204                                                                                                          </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 205 import org.apache.commons.exec.CommandLine;                                                              </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 206 import org.apache.commons.exec.DefaultExecutor;                                                          </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 207 import org.apache.commons.exec.Executor;                                                                 </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 208 import org.apache.commons.exec.PumpStreamHandler;                                                        </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 209 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211 import org.broadleafcommerce.common.RequestDTO;                                                          </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 212 import org.broadleafcommerce.common.RequestDTOImpl;                                                      </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213 import org.broadleafcommerce.common.locale.domain.Locale;                                                </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 214 import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                            </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 215 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216                                                                                                          </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217 import java.io.ByteArrayOutputStream;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 218 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 219 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 221                                                                                                          </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222 import junit.framework.TestCase;                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 223                                                                                                          </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224 public class MvelHelperTest extends TestCase {                                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225                                                                                                          </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226     private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228     /**                                                                                                  </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229      * Test that a blank rule is true.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230      */                                                                                                  </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 231     public void testBlankRule() {                                                                        </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 232         boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                              </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 233         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 234     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 235                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 236     /**                                                                                                  </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 237      * Test that a null rule is true.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 238      */                                                                                                  </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 239     public void testNullRule() {                                                                         </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 240         boolean result = MvelHelper.evaluateRule(null, null);                                            </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 241         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 242     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 243                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 244     /**                                                                                                  </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 245      * Test rule with parse errors                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 246      */                                                                                                  </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 247     public void testRuleWithParseErrors() {                                                              </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 248         MvelHelper.setTestMode(true);                                                                    </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 249         boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                              </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 250         MvelHelper.setTestMode(false);                                                                   </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 251         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 252     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 253                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 254     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 255      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 256      */                                                                                                  </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 257     public void testRuleThatEvaluatesToTrue() {                                                          </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 258         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 259         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 260         testLocale.setLocaleCode(&quot;US&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 261                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 262         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 263         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 266         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 267     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 268                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 269     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 270      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 271      */                                                                                                  </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 272     public void testRuleThatEvaluatesToFalse() {                                                         </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 273         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 274         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 275         testLocale.setLocaleCode(&quot;GB&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 276                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 277         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 278         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 279                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 280         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 281         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 282     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 283                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 284     /**                                                                                                  </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 285      * Tests MVEL syntax for accessing request property map values.                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 286      */                                                                                                  </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 287     @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                       </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 288     public void testRequestMapProperty() {                                                               </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 289         BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());               </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 290         RequestDTO dto = new RequestDTOImpl();                                                           </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 291         dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 292                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 293         Map parameters = new HashMap();                                                                  </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 294         parameters.put(&quot;request&quot;, dto);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 295                                                                                                          </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 296         // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true              </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 297         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);"> 297         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameteðŸ”µ</abbr></span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 298         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 299     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 300                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 301     /**                                                                                                  </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 302      * Confirms repeated success for method overload workaround in SelectizeCollectionUtils              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 303      */                                                                                                  </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 304     public void testMvelMethodOverloadWorkaroundCase() throws IOException {                              </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 305         //Test multiple iterations to make sure we no longer fail at all                                 </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 306         for (int j=0; j&lt;20; j++) {                                                                       </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 307             String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);        </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 308             assertEquals(&quot;true&quot;, output);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 309         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 310     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 311                                                                                                          </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 312     protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                 </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 313         String classpath = MvelTestUtils.getClassPath();                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 314                                                                                                          </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 315         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 315         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the teðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 316         CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                   </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 317         cmdLine.addArgument(&quot;-cp&quot;);                                                                      </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 318         cmdLine.addArgument(classpath, true);                                                            </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 319         cmdLine.addArgument(mainClass.getName());                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 320                                                                                                          </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321         ByteArrayOutputStream baos = new ByteArrayOutputStream();                                        </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322         Executor executor = new DefaultExecutor();                                                       </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323         executor.setStreamHandler(new PumpStreamHandler(baos));                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324         try {                                                                                            </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325             executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                    </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 326         } catch (IOException e) {                                                                        </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 327             throw new IOException(new String(baos.toByteArray()));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328         }                                                                                                </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329         return new String(baos.toByteArray());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331 }                                                                                                        </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 332 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span></pre></td>
                            <td><pre><span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">   2 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="   3 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">   3 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">   4 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   5                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   6 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   7  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   8  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   9  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  10  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  11  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  12  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  13  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  14  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  15  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  16  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  17  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  18  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title="  19  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  19  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title="  20  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  20  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  21  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  22  */                                                                                                      </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  23 package org.broadleafcommerce.common.rule;                                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  24                                                                                                          </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  25 import org.apache.commons.exec.CommandLine;                                                              </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  26 import org.apache.commons.exec.DefaultExecutor;                                                          </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  27 import org.apache.commons.exec.Executor;                                                                 </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  28 import org.apache.commons.exec.PumpStreamHandler;                                                        </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  29 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  30 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  31 import org.broadleafcommerce.common.RequestDTO;                                                          </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  32 import org.broadleafcommerce.common.RequestDTOImpl;                                                      </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  33 import org.broadleafcommerce.common.locale.domain.Locale;                                                </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  34 import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                            </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  35 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  36                                                                                                          </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  37 import java.io.ByteArrayOutputStream;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  38 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  39 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  40 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  41                                                                                                          </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  42 import junit.framework.TestCase;                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  43                                                                                                          </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  44 public class MvelHelperTest extends TestCase {                                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  45                                                                                                          </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  46     private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  47                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  48     /**                                                                                                  </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  49      * Test that a blank rule is true.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  50      */                                                                                                  </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  51     public void testBlankRule() {                                                                        </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  52         boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                              </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  53         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  54     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  55                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  56     /**                                                                                                  </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  57      * Test that a null rule is true.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  58      */                                                                                                  </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  59     public void testNullRule() {                                                                         </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  60         boolean result = MvelHelper.evaluateRule(null, null);                                            </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  61         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  63                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  64     /**                                                                                                  </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  65      * Test rule with parse errors                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  66      */                                                                                                  </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  67     public void testRuleWithParseErrors() {                                                              </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  68         MvelHelper.setTestMode(true);                                                                    </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  69         boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                              </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70         MvelHelper.setTestMode(false);                                                                   </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  72     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  73                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  74     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76      */                                                                                                  </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77     public void testRuleThatEvaluatesToTrue() {                                                          </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80         testLocale.setLocaleCode(&quot;US&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  83         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  84                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  85         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  86         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  87     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  88                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  89     /**                                                                                                  </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  90      * Test rule that evaluates to true                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  91      */                                                                                                  </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92     public void testRuleThatEvaluatesToFalse() {                                                         </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93         // Locale used as an illustrative domain class only.  Any object could have been used.           </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94         Locale testLocale = new LocaleImpl();                                                            </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95         testLocale.setLocaleCode(&quot;GB&quot;);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  96                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  97         Map parameters = new HashMap();                                                                  </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  98         parameters.put(&quot;locale&quot;, testLocale);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  99                                                                                                          </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 100         boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);               </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 101         assertFalse(result);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 102     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 103                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 104     /**                                                                                                  </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 105      * Tests MVEL syntax for accessing request property map values.                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 106      */                                                                                                  </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 107     @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                       </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 108     public void testRequestMapProperty() {                                                               </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 109         BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());               </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 110         RequestDTO dto = new RequestDTOImpl();                                                           </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 111         dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 112                                                                                                          </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 113         Map parameters = new HashMap();                                                                  </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 114         parameters.put(&quot;request&quot;, dto);                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 115                                                                                                          </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 116         // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true              </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 117         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);"> 117         boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameteðŸ”µ</abbr></span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 118         assertTrue(result);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 119     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 120                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 121     /**                                                                                                  </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 122      * Confirms repeated success for method overload workaround in SelectizeCollectionUtils              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 123      */                                                                                                  </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 124     public void testMvelMethodOverloadWorkaroundCase() throws IOException {                              </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 125         //Test multiple iterations to make sure we no longer fail at all                                 </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 126         for (int j=0; j&lt;20; j++) {                                                                       </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 127             String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);        </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 128             assertEquals(&quot;true&quot;, output);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 129         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 130     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 131                                                                                                          </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 132     protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                 </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 133         String classpath = MvelTestUtils.getClassPath();                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 134                                                                                                          </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 135         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 135         //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the teðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 136         CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                   </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 137         cmdLine.addArgument(&quot;-cp&quot;);                                                                      </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 138         cmdLine.addArgument(classpath, true);                                                            </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 139         cmdLine.addArgument(mainClass.getName());                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 140                                                                                                          </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141         ByteArrayOutputStream baos = new ByteArrayOutputStream();                                        </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142         Executor executor = new DefaultExecutor();                                                       </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 143         executor.setStreamHandler(new PumpStreamHandler(baos));                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 144         try {                                                                                            </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 145             executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                    </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 146         } catch (IOException e) {                                                                        </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 147             throw new IOException(new String(baos.toByteArray()));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 148         }                                                                                                </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 149         return new String(baos.toByteArray());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 150     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 151 }                                                                                                        </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 152 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>


















































































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   1 -/*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   2 - * #%L                                                                                                            </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   3 - * BroadleafCommerce Common Libraries                                                                             </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   4 - * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   5 - * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   6 - * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   7 - * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   8 - * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   9 - * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  10 - * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  11 - * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  12 - * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  13 - *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  14 - * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14 - * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  15 - * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  16 - * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  17 - */                                                                                                               </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  18 -package org.broadleafcommerce.common.rule;                                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  19 -                                                                                                                  </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  20 -import org.apache.commons.exec.CommandLine;                                                                       </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  21 -import org.apache.commons.exec.DefaultExecutor;                                                                   </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -import org.apache.commons.exec.Executor;                                                                          </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  23 -import org.apache.commons.exec.PumpStreamHandler;                                                                 </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -import org.apache.commons.logging.Log;                                                                            </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -import org.apache.commons.logging.LogFactory;                                                                     </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  26 -import org.broadleafcommerce.common.RequestDTO;                                                                   </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  27 -import org.broadleafcommerce.common.RequestDTOImpl;                                                               </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -import org.broadleafcommerce.common.locale.domain.Locale;                                                         </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  29 -import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                                     </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  30 -import org.broadleafcommerce.common.web.BroadleafRequestContext;                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  31 -                                                                                                                  </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  32 -import java.io.ByteArrayOutputStream;                                                                             </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  33 -import java.io.IOException;                                                                                       </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  34 -import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -import java.util.Map;                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  36 -                                                                                                                  </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  37 -import junit.framework.TestCase;                                                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -                                                                                                                  </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -public class MvelHelperTest extends TestCase {                                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  40 -                                                                                                                  </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -    private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  42 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  43 -    /**                                                                                                           </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  44 -     * Test that a blank rule is true.                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  45 -     */                                                                                                           </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -    public void testBlankRule() {                                                                                 </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  47 -        boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                                       </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  48 -        assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  49 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  50 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  51 -    /**                                                                                                           </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -     * Test that a null rule is true.                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -     */                                                                                                           </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -    public void testNullRule() {                                                                                  </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -        boolean result = MvelHelper.evaluateRule(null, null);                                                     </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  56 -        assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  57 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  58 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  59 -    /**                                                                                                           </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  60 -     * Test rule with parse errors                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  61 -     */                                                                                                           </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  62 -    public void testRuleWithParseErrors() {                                                                       </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -        MvelHelper.setTestMode(true);                                                                             </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -        boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                                       </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -        MvelHelper.setTestMode(false);                                                                            </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -        assertFalse(result);                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  69 -    /**                                                                                                           </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -     * Test rule that evaluates to true                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  71 -     */                                                                                                           </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -    public void testRuleThatEvaluatesToTrue() {                                                                   </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -        // Locale used as an illustrative domain class only.  Any object could have been used.                    </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -        Locale testLocale = new LocaleImpl();                                                                     </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -        testLocale.setLocaleCode(&quot;US&quot;);                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -                                                                                                                  </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -        Map parameters = new HashMap();                                                                           </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -        parameters.put(&quot;locale&quot;, testLocale);                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -                                                                                                                  </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -        boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);                        </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -        assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -    /**                                                                                                           </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -     * Test rule that evaluates to true                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -     */                                                                                                           </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -    public void testRuleThatEvaluatesToFalse() {                                                                  </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  88 -        // Locale used as an illustrative domain class only.  Any object could have been used.                    </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -        Locale testLocale = new LocaleImpl();                                                                     </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  90 -        testLocale.setLocaleCode(&quot;GB&quot;);                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -                                                                                                                  </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -        Map parameters = new HashMap();                                                                           </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  93 -        parameters.put(&quot;locale&quot;, testLocale);                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  94 -                                                                                                                  </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -        boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);                        </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  96 -        assertFalse(result);                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  97 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  98 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  99 -    /**                                                                                                           </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 100 -     * Tests MVEL syntax for accessing request property map values.                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 101 -     */                                                                                                           </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 102 -    @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                                </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -    public void testRequestMapProperty() {                                                                        </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -        BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());                        </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 105 -        RequestDTO dto = new RequestDTOImpl();                                                                    </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 106 -        dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 107 -                                                                                                                  </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 108 -        Map parameters = new HashMap();                                                                           </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -        parameters.put(&quot;request&quot;, dto);                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 110 -                                                                                                                  </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 111 -        // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true                       </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 112 -        boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);     </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 113 -        assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 114 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 115 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 116 -    /**                                                                                                           </span>
<span class="-3491194938170397099" onmouseenter="enter('-3491194938170397099');" onmouseout="out('-3491194938170397099');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 117 -     * Confirms MVEL failure for special overloaded method case.                                                  </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 118 -     * &lt;/p&gt;                                                                                                       </span>
<span class="820669004034197106" onmouseenter="enter('820669004034197106');" onmouseout="out('820669004034197106');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 119 -     * During compilation, if an mvel expression contains a method calls with params, mvel will attempt to identify a perfect"> 119 -     * During compilation, if an mvel expression contains a method calls with params, mvel will attempt to identifðŸ”µ</abbr></span>
<span class="3537322910142812280" onmouseenter="enter('3537322910142812280');" onmouseout="out('3537322910142812280');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 120 -     * method signature match based on the types of the params. However, if the method is overloaded and one or more of"> 120 -     * method signature match based on the types of the params. However, if the method is overloaded and one or moðŸ”µ</abbr></span>
<span class="-1388379413260565932" onmouseenter="enter('-1388379413260565932');" onmouseout="out('-1388379413260565932');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 121 -     * the params are null, mvel will not be able to 100% identify the right method version if the overloaded methods"> 121 -     * the params are null, mvel will not be able to 100% identify the right method version if the overloaded methðŸ”µ</abbr></span>
<span class="-4443872070232650144" onmouseenter="enter('-4443872070232650144');" onmouseout="out('-4443872070232650144');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 122 -     * have the same quantity of params and have type overlap. Take this example:                                 </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -     * &lt;/p&gt;                                                                                                       </span>
<span class="1793169505745007673" onmouseenter="enter('1793169505745007673');" onmouseout="out('1793169505745007673');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -     * {@code SelectizeCollectionUtils#intersection(String param, Iterable param2);}                              </span>
<span class="1671408672188544014" onmouseenter="enter('1671408672188544014');" onmouseout="out('1671408672188544014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 125 -     * {@code SelectizeCollectionUtils#intersection(Iterable param, Iterable param2);}                            </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -     * &lt;/p&gt;                                                                                                       </span>
<span class="4195074246261403764" onmouseenter="enter('4195074246261403764');" onmouseout="out('4195074246261403764');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 127 -     * If a rule is executed calling the intersection method and a null is passed in for the first parameter, mvel will"> 127 -     * If a rule is executed calling the intersection method and a null is passed in for the first parameter, mvelðŸ”µ</abbr></span>
<span class="-1542731075170832009" onmouseenter="enter('-1542731075170832009');" onmouseout="out('-1542731075170832009');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 128 -     * not know which method to pick, so it will end up picking one of them. This has proven to be undetermined at runtime,"> 128 -     * not know which method to pick, so it will end up picking one of them. This has proven to be undetermined atðŸ”µ</abbr></span>
<span class="-7256370640960232850" onmouseenter="enter('-7256370640960232850');" onmouseout="out('-7256370640960232850');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 129 -     * which has made the problem even harder to identify. Furthermore, once the choice is made during compilation,"> 129 -     * which has made the problem even harder to identify. Furthermore, once the choice is made during compilationðŸ”µ</abbr></span>
<span class="5542310779774290803" onmouseenter="enter('5542310779774290803');" onmouseout="out('5542310779774290803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 130 -     * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the expression to"> 130 -     * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the expressionðŸ”µ</abbr></span>
<span class="3482145919170569836" onmouseenter="enter('3482145919170569836');" onmouseout="out('3482145919170569836');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 131 -     * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first param Iterable"> 131 -     * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first param IteraðŸ”µ</abbr></span>
<span class="7920340947056527033" onmouseenter="enter('7920340947056527033');" onmouseout="out('7920340947056527033');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 132 -     * instance into a String (i.e. flatten the list representation into a comma delimited String) in order to continue"> 132 -     * instance into a String (i.e. flatten the list representation into a comma delimited String) in order to conðŸ”µ</abbr></span>
<span class="-3871953327257774900" onmouseenter="enter('-3871953327257774900');" onmouseout="out('-3871953327257774900');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 133 -     * calling the method identified during compilation. This causes the expression to permanently be in an incorrect"> 133 -     * calling the method identified during compilation. This causes the expression to permanently be in an incorrðŸ”µ</abbr></span>
<span class="-2128635782543467376" onmouseenter="enter('-2128635782543467376');" onmouseout="out('-2128635782543467376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -     * state from which it will never recover.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -     */                                                                                                           </span>
<span class="-2636347657322659543" onmouseenter="enter('-2636347657322659543');" onmouseout="out('-2636347657322659543');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -    public void testMvelMethodOverloadFailureCase() throws IOException {                                          </span>
<span class="-1902532453269392050" onmouseenter="enter('-1902532453269392050');" onmouseout="out('-1902532453269392050');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -        //Test multiple iterations to make sure we hit the undetermined ordering case we need to confirm          </span>
<span class="1861644502634376889" onmouseenter="enter('1861644502634376889');" onmouseout="out('1861644502634376889');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 138 -        String output = &quot;&quot;;                                                                                       </span>
<span class="5105727744173500731" onmouseenter="enter('5105727744173500731');" onmouseout="out('5105727744173500731');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -        for (int j=0; j&lt;100; j++) {                                                                               </span>
<span class="-7106040940421265166" onmouseenter="enter('-7106040940421265166');" onmouseout="out('-7106040940421265166');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -            output = executeExternalJavaProcess(MvelOverloadFailureReproduction.class);                           </span>
<span class="5291966578812583717" onmouseenter="enter('5291966578812583717');" onmouseout="out('5291966578812583717');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -            boolean result = Boolean.valueOf(output.trim());                                                      </span>
<span class="-275963108691733288" onmouseenter="enter('-275963108691733288');" onmouseout="out('-275963108691733288');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -            if (result) {                                                                                         </span>
<span class="6482053570338043991" onmouseenter="enter('6482053570338043991');" onmouseout="out('6482053570338043991');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -                //We found the case. Exit the loop, since we don&#x27;t need to try anymore.                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -                break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -        }                                                                                                         </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -        assertEquals(&quot;true&quot;, output);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 150 -    /**                                                                                                           </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -     * Confirms repeated success for method overload workaround in SelectizeCollectionUtils                       </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -     * &lt;/p&gt;                                                                                                       </span>
<span class="-7625802817388727547" onmouseenter="enter('-7625802817388727547');" onmouseout="out('-7625802817388727547');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -     * See {@link #testMvelMethodOverloadFailureCase()} for a more complete description of the problem case.      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -     */                                                                                                           </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -    public void testMvelMethodOverloadWorkaroundCase() throws IOException {                                       </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 156 -        //Test multiple iterations to make sure we no longer fail at all                                          </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -        for (int j=0; j&lt;20; j++) {                                                                                </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -            String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);                 </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -            assertEquals(&quot;true&quot;, output);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 161 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 162 -                                                                                                                  </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 163 -    protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                          </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 164 -        String classpath = MvelTestUtils.getClassPath();                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 165 -                                                                                                                  </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 166 -        //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 166 -        //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a nðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 167 -        CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                            </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 168 -        cmdLine.addArgument(&quot;-cp&quot;);                                                                               </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 169 -        cmdLine.addArgument(classpath, true);                                                                     </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 170 -        cmdLine.addArgument(mainClass.getName());                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 171 -                                                                                                                  </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 172 -        ByteArrayOutputStream baos = new ByteArrayOutputStream();                                                 </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 173 -        Executor executor = new DefaultExecutor();                                                                </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 174 -        executor.setStreamHandler(new PumpStreamHandler(baos));                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 175 -        try {                                                                                                     </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 176 -            executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                             </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -        } catch (IOException e) {                                                                                 </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 178 -            throw new IOException(new String(baos.toByteArray()));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 179 -        }                                                                                                         </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 180 -        return new String(baos.toByteArray());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 181 -    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 182 -}                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="">   3   * BroadleafCommerce Common Libraries                                                                             </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="7925684564686818390" onmouseenter="enter('7925684564686818390');" onmouseout="out('7925684564686818390');" style="">  18  package org.broadleafcommerce.common.rule;                                                                        </span>
<span  style="">  19                                                                                                                    </span>
<span class="5518809133553951832" onmouseenter="enter('5518809133553951832');" onmouseout="out('5518809133553951832');" style="">  20  import org.apache.commons.exec.CommandLine;                                                                       </span>
<span class="-5354315158234919803" onmouseenter="enter('-5354315158234919803');" onmouseout="out('-5354315158234919803');" style="">  21  import org.apache.commons.exec.DefaultExecutor;                                                                   </span>
<span class="-5901796043530625980" onmouseenter="enter('-5901796043530625980');" onmouseout="out('-5901796043530625980');" style="">  22  import org.apache.commons.exec.Executor;                                                                          </span>
<span class="1238194615290317829" onmouseenter="enter('1238194615290317829');" onmouseout="out('1238194615290317829');" style="">  23  import org.apache.commons.exec.PumpStreamHandler;                                                                 </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24  import org.apache.commons.logging.Log;                                                                            </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25  import org.apache.commons.logging.LogFactory;                                                                     </span>
<span class="7788261131777609187" onmouseenter="enter('7788261131777609187');" onmouseout="out('7788261131777609187');" style="">  26  import org.broadleafcommerce.common.RequestDTO;                                                                   </span>
<span class="-3639053440498734773" onmouseenter="enter('-3639053440498734773');" onmouseout="out('-3639053440498734773');" style="">  27  import org.broadleafcommerce.common.RequestDTOImpl;                                                               </span>
<span class="-932411199975142277" onmouseenter="enter('-932411199975142277');" onmouseout="out('-932411199975142277');" style="">  28  import org.broadleafcommerce.common.locale.domain.Locale;                                                         </span>
<span class="-4699531719896516827" onmouseenter="enter('-4699531719896516827');" onmouseout="out('-4699531719896516827');" style="">  29  import org.broadleafcommerce.common.locale.domain.LocaleImpl;                                                     </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="">  30  import org.broadleafcommerce.common.web.BroadleafRequestContext;                                                  </span>
<span  style="">  31                                                                                                                    </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="">  32  import java.io.ByteArrayOutputStream;                                                                             </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  33  import java.io.IOException;                                                                                       </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  34  import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  35  import java.util.Map;                                                                                             </span>
<span  style="">  36                                                                                                                    </span>
<span class="5589978463048615898" onmouseenter="enter('5589978463048615898');" onmouseout="out('5589978463048615898');" style="">  37  import junit.framework.TestCase;                                                                                  </span>
<span  style="">  38                                                                                                                    </span>
<span class="2176229424313312031" onmouseenter="enter('2176229424313312031');" onmouseout="out('2176229424313312031');" style="">  39  public class MvelHelperTest extends TestCase {                                                                    </span>
<span  style="">  40                                                                                                                    </span>
<span class="-6047369215218283588" onmouseenter="enter('-6047369215218283588');" onmouseout="out('-6047369215218283588');" style="">  41      private static final Log LOG = LogFactory.getLog(MvelHelperTest.class);                                       </span>
<span  style="">  42                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  43      /**                                                                                                           </span>
<span class="-4478141230506694503" onmouseenter="enter('-4478141230506694503');" onmouseout="out('-4478141230506694503');" style="">  44       * Test that a blank rule is true.                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  45       */                                                                                                           </span>
<span class="8265465132847380789" onmouseenter="enter('8265465132847380789');" onmouseout="out('8265465132847380789');" style="">  46      public void testBlankRule() {                                                                                 </span>
<span class="-2423677523779724060" onmouseenter="enter('-2423677523779724060');" onmouseout="out('-2423677523779724060');" style="">  47          boolean result = MvelHelper.evaluateRule(&quot;&quot;, null);                                                       </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="">  48          assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  49      }                                                                                                             </span>
<span  style="">  50                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  51      /**                                                                                                           </span>
<span class="67082441183850795" onmouseenter="enter('67082441183850795');" onmouseout="out('67082441183850795');" style="">  52       * Test that a null rule is true.                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  53       */                                                                                                           </span>
<span class="8074023799152523690" onmouseenter="enter('8074023799152523690');" onmouseout="out('8074023799152523690');" style="">  54      public void testNullRule() {                                                                                  </span>
<span class="3009075616399849764" onmouseenter="enter('3009075616399849764');" onmouseout="out('3009075616399849764');" style="">  55          boolean result = MvelHelper.evaluateRule(null, null);                                                     </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="">  56          assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  57      }                                                                                                             </span>
<span  style="">  58                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  59      /**                                                                                                           </span>
<span class="-6953873303371818111" onmouseenter="enter('-6953873303371818111');" onmouseout="out('-6953873303371818111');" style="">  60       * Test rule with parse errors                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  61       */                                                                                                           </span>
<span class="-7308210354122481290" onmouseenter="enter('-7308210354122481290');" onmouseout="out('-7308210354122481290');" style="">  62      public void testRuleWithParseErrors() {                                                                       </span>
<span class="4647726339109695042" onmouseenter="enter('4647726339109695042');" onmouseout="out('4647726339109695042');" style="">  63          MvelHelper.setTestMode(true);                                                                             </span>
<span class="2627243402009974341" onmouseenter="enter('2627243402009974341');" onmouseout="out('2627243402009974341');" style="">  64          boolean result = MvelHelper.evaluateRule(&quot;BadFunction(xyz)&quot;, null);                                       </span>
<span class="785941880039455333" onmouseenter="enter('785941880039455333');" onmouseout="out('785941880039455333');" style="">  65          MvelHelper.setTestMode(false);                                                                            </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="">  66          assertFalse(result);                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67      }                                                                                                             </span>
<span  style="">  68                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  69      /**                                                                                                           </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="">  70       * Test rule that evaluates to true                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  71       */                                                                                                           </span>
<span class="4586360349389687481" onmouseenter="enter('4586360349389687481');" onmouseout="out('4586360349389687481');" style="">  72      public void testRuleThatEvaluatesToTrue() {                                                                   </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="">  73          // Locale used as an illustrative domain class only.  Any object could have been used.                    </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="">  74          Locale testLocale = new LocaleImpl();                                                                     </span>
<span class="-7278028962906320571" onmouseenter="enter('-7278028962906320571');" onmouseout="out('-7278028962906320571');" style="">  75          testLocale.setLocaleCode(&quot;US&quot;);                                                                           </span>
<span  style="">  76                                                                                                                    </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="">  77          Map parameters = new HashMap();                                                                           </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="">  78          parameters.put(&quot;locale&quot;, testLocale);                                                                     </span>
<span  style="">  79                                                                                                                    </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="">  80          boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);                        </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style="">  81          assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  82      }                                                                                                             </span>
<span  style="">  83                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  84      /**                                                                                                           </span>
<span class="-8047388893559011585" onmouseenter="enter('-8047388893559011585');" onmouseout="out('-8047388893559011585');" style="">  85       * Test rule that evaluates to true                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  86       */                                                                                                           </span>
<span class="7823613364251406415" onmouseenter="enter('7823613364251406415');" onmouseout="out('7823613364251406415');" style="">  87      public void testRuleThatEvaluatesToFalse() {                                                                  </span>
<span class="-7173540836430555602" onmouseenter="enter('-7173540836430555602');" onmouseout="out('-7173540836430555602');" style="">  88          // Locale used as an illustrative domain class only.  Any object could have been used.                    </span>
<span class="-8972095683488153450" onmouseenter="enter('-8972095683488153450');" onmouseout="out('-8972095683488153450');" style="">  89          Locale testLocale = new LocaleImpl();                                                                     </span>
<span class="-5141665898890616926" onmouseenter="enter('-5141665898890616926');" onmouseout="out('-5141665898890616926');" style="">  90          testLocale.setLocaleCode(&quot;GB&quot;);                                                                           </span>
<span  style="">  91                                                                                                                    </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style="">  92          Map parameters = new HashMap();                                                                           </span>
<span class="-7374327563217642470" onmouseenter="enter('-7374327563217642470');" onmouseout="out('-7374327563217642470');" style="">  93          parameters.put(&quot;locale&quot;, testLocale);                                                                     </span>
<span  style="">  94                                                                                                                    </span>
<span class="6919414565585897136" onmouseenter="enter('6919414565585897136');" onmouseout="out('6919414565585897136');" style="">  95          boolean result = MvelHelper.evaluateRule(&quot;locale.localeCode == &#x27;US&#x27;&quot;, parameters);                        </span>
<span class="8200192151522048491" onmouseenter="enter('8200192151522048491');" onmouseout="out('8200192151522048491');" style="">  96          assertFalse(result);                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97      }                                                                                                             </span>
<span  style="">  98                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  99      /**                                                                                                           </span>
<span class="973488590242989388" onmouseenter="enter('973488590242989388');" onmouseout="out('973488590242989388');" style=""> 100       * Tests MVEL syntax for accessing request property map values.                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 101       */                                                                                                           </span>
<span class="-7316049144467270651" onmouseenter="enter('-7316049144467270651');" onmouseout="out('-7316049144467270651');" style=""> 102      @SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })                                                                </span>
<span class="2702840466091630968" onmouseenter="enter('2702840466091630968');" onmouseout="out('2702840466091630968');" style=""> 103      public void testRequestMapProperty() {                                                                        </span>
<span class="4626016305648934142" onmouseenter="enter('4626016305648934142');" onmouseout="out('4626016305648934142');" style=""> 104          BroadleafRequestContext.setBroadleafRequestContext(new BroadleafRequestContext());                        </span>
<span class="-1662429037663795084" onmouseenter="enter('-1662429037663795084');" onmouseout="out('-1662429037663795084');" style=""> 105          RequestDTO dto = new RequestDTOImpl();                                                                    </span>
<span class="-2176810272336298569" onmouseenter="enter('-2176810272336298569');" onmouseout="out('-2176810272336298569');" style=""> 106          dto.getProperties().put(&quot;blcSearchTerm&quot;, &quot;hot&quot;);                                                          </span>
<span  style=""> 107                                                                                                                    </span>
<span class="5022458048094735522" onmouseenter="enter('5022458048094735522');" onmouseout="out('5022458048094735522');" style=""> 108          Map parameters = new HashMap();                                                                           </span>
<span class="5549735919531861784" onmouseenter="enter('5549735919531861784');" onmouseout="out('5549735919531861784');" style=""> 109          parameters.put(&quot;request&quot;, dto);                                                                           </span>
<span  style=""> 110                                                                                                                    </span>
<span class="-6575678339333784940" onmouseenter="enter('-6575678339333784940');" onmouseout="out('-6575678339333784940');" style=""> 111          // If the &quot;key&quot; property doesn&#x27;t contain an underscore, the expression returns true                       </span>
<span class="-4511927489742822901" onmouseenter="enter('-4511927489742822901');" onmouseout="out('-4511927489742822901');" style=""> 112          boolean result = MvelHelper.evaluateRule(&quot;request.properties[&#x27;blcSearchTerm&#x27;] == &#x27;hot&#x27;&quot;, parameters);     </span>
<span class="6008326507124774411" onmouseenter="enter('6008326507124774411');" onmouseout="out('6008326507124774411');" style=""> 113          assertTrue(result);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114      }                                                                                                             </span>
<span  style=""> 115                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 116      /**                                                                                                           </span>
<span class="-3491194938170397099" onmouseenter="enter('-3491194938170397099');" onmouseout="out('-3491194938170397099');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 117 -     * Confirms MVEL failure for special overloaded method case.                                                  </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 118 -     * &lt;/p&gt;                                                                                                       </span>
<span class="820669004034197106" onmouseenter="enter('820669004034197106');" onmouseout="out('820669004034197106');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 119 -     * During compilation, if an mvel expression contains a method calls with params, mvel will attempt to identify a perfect"> 119 -     * During compilation, if an mvel expression contains a method calls with params, mvel will attempt to identifðŸ”µ</abbr></span>
<span class="3537322910142812280" onmouseenter="enter('3537322910142812280');" onmouseout="out('3537322910142812280');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 120 -     * method signature match based on the types of the params. However, if the method is overloaded and one or more of"> 120 -     * method signature match based on the types of the params. However, if the method is overloaded and one or moðŸ”µ</abbr></span>
<span class="-1388379413260565932" onmouseenter="enter('-1388379413260565932');" onmouseout="out('-1388379413260565932');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 121 -     * the params are null, mvel will not be able to 100% identify the right method version if the overloaded methods"> 121 -     * the params are null, mvel will not be able to 100% identify the right method version if the overloaded methðŸ”µ</abbr></span>
<span class="-4443872070232650144" onmouseenter="enter('-4443872070232650144');" onmouseout="out('-4443872070232650144');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 122 -     * have the same quantity of params and have type overlap. Take this example:                                 </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -     * &lt;/p&gt;                                                                                                       </span>
<span class="1793169505745007673" onmouseenter="enter('1793169505745007673');" onmouseout="out('1793169505745007673');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -     * {@code SelectizeCollectionUtils#intersection(String param, Iterable param2);}                              </span>
<span class="1671408672188544014" onmouseenter="enter('1671408672188544014');" onmouseout="out('1671408672188544014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 125 -     * {@code SelectizeCollectionUtils#intersection(Iterable param, Iterable param2);}                            </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -     * &lt;/p&gt;                                                                                                       </span>
<span class="4195074246261403764" onmouseenter="enter('4195074246261403764');" onmouseout="out('4195074246261403764');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 127 -     * If a rule is executed calling the intersection method and a null is passed in for the first parameter, mvel will"> 127 -     * If a rule is executed calling the intersection method and a null is passed in for the first parameter, mvelðŸ”µ</abbr></span>
<span class="-1542731075170832009" onmouseenter="enter('-1542731075170832009');" onmouseout="out('-1542731075170832009');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 128 -     * not know which method to pick, so it will end up picking one of them. This has proven to be undetermined at runtime,"> 128 -     * not know which method to pick, so it will end up picking one of them. This has proven to be undetermined atðŸ”µ</abbr></span>
<span class="-7256370640960232850" onmouseenter="enter('-7256370640960232850');" onmouseout="out('-7256370640960232850');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 129 -     * which has made the problem even harder to identify. Furthermore, once the choice is made during compilation,"> 129 -     * which has made the problem even harder to identify. Furthermore, once the choice is made during compilationðŸ”µ</abbr></span>
<span class="5542310779774290803" onmouseenter="enter('5542310779774290803');" onmouseout="out('5542310779774290803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 130 -     * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the expression to"> 130 -     * that compiled expression will utilize the &quot;incorrect&quot; choice going forward, which will cause the expressionðŸ”µ</abbr></span>
<span class="3482145919170569836" onmouseenter="enter('3482145919170569836');" onmouseout="out('3482145919170569836');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 131 -     * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first param Iterable"> 131 -     * fail, even when neither param is null. In fact, in the case above, mvel will &quot;coerce&quot; the first param IteraðŸ”µ</abbr></span>
<span class="7920340947056527033" onmouseenter="enter('7920340947056527033');" onmouseout="out('7920340947056527033');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 132 -     * instance into a String (i.e. flatten the list representation into a comma delimited String) in order to continue"> 132 -     * instance into a String (i.e. flatten the list representation into a comma delimited String) in order to conðŸ”µ</abbr></span>
<span class="-3871953327257774900" onmouseenter="enter('-3871953327257774900');" onmouseout="out('-3871953327257774900');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 133 -     * calling the method identified during compilation. This causes the expression to permanently be in an incorrect"> 133 -     * calling the method identified during compilation. This causes the expression to permanently be in an incorrðŸ”µ</abbr></span>
<span class="-2128635782543467376" onmouseenter="enter('-2128635782543467376');" onmouseout="out('-2128635782543467376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -     * state from which it will never recover.                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -     */                                                                                                           </span>
<span class="-2636347657322659543" onmouseenter="enter('-2636347657322659543');" onmouseout="out('-2636347657322659543');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -    public void testMvelMethodOverloadFailureCase() throws IOException {                                          </span>
<span class="-1902532453269392050" onmouseenter="enter('-1902532453269392050');" onmouseout="out('-1902532453269392050');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -        //Test multiple iterations to make sure we hit the undetermined ordering case we need to confirm          </span>
<span class="1861644502634376889" onmouseenter="enter('1861644502634376889');" onmouseout="out('1861644502634376889');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 138 -        String output = &quot;&quot;;                                                                                       </span>
<span class="5105727744173500731" onmouseenter="enter('5105727744173500731');" onmouseout="out('5105727744173500731');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -        for (int j=0; j&lt;100; j++) {                                                                               </span>
<span class="-7106040940421265166" onmouseenter="enter('-7106040940421265166');" onmouseout="out('-7106040940421265166');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -            output = executeExternalJavaProcess(MvelOverloadFailureReproduction.class);                           </span>
<span class="5291966578812583717" onmouseenter="enter('5291966578812583717');" onmouseout="out('5291966578812583717');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -            boolean result = Boolean.valueOf(output.trim());                                                      </span>
<span class="-275963108691733288" onmouseenter="enter('-275963108691733288');" onmouseout="out('-275963108691733288');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -            if (result) {                                                                                         </span>
<span class="6482053570338043991" onmouseenter="enter('6482053570338043991');" onmouseout="out('6482053570338043991');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -                //We found the case. Exit the loop, since we don&#x27;t need to try anymore.                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -                break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -        }                                                                                                         </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -        assertEquals(&quot;true&quot;, output);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 150 -    /**                                                                                                           </span>
<span class="3163634992554698095" onmouseenter="enter('3163634992554698095');" onmouseout="out('3163634992554698095');" style=""> 151       * Confirms repeated success for method overload workaround in SelectizeCollectionUtils                       </span>
<span class="-5136230954678527136" onmouseenter="enter('-5136230954678527136');" onmouseout="out('-5136230954678527136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -     * &lt;/p&gt;                                                                                                       </span>
<span class="-7625802817388727547" onmouseenter="enter('-7625802817388727547');" onmouseout="out('-7625802817388727547');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -     * See {@link #testMvelMethodOverloadFailureCase()} for a more complete description of the problem case.      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 154       */                                                                                                           </span>
<span class="3935476594672042811" onmouseenter="enter('3935476594672042811');" onmouseout="out('3935476594672042811');" style=""> 155      public void testMvelMethodOverloadWorkaroundCase() throws IOException {                                       </span>
<span class="-6685810960871868355" onmouseenter="enter('-6685810960871868355');" onmouseout="out('-6685810960871868355');" style=""> 156          //Test multiple iterations to make sure we no longer fail at all                                          </span>
<span class="8685348205191747515" onmouseenter="enter('8685348205191747515');" onmouseout="out('8685348205191747515');" style=""> 157          for (int j=0; j&lt;20; j++) {                                                                                </span>
<span class="-6716572267506196840" onmouseenter="enter('-6716572267506196840');" onmouseout="out('-6716572267506196840');" style=""> 158              String output = executeExternalJavaProcess(MvelOverloadWorkaroundReproduction.class);                 </span>
<span class="-7923973237972800436" onmouseenter="enter('-7923973237972800436');" onmouseout="out('-7923973237972800436');" style=""> 159              assertEquals(&quot;true&quot;, output);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161      }                                                                                                             </span>
<span  style=""> 162                                                                                                                    </span>
<span class="313278540715904521" onmouseenter="enter('313278540715904521');" onmouseout="out('313278540715904521');" style=""> 163      protected String executeExternalJavaProcess(Class&lt;?&gt; mainClass) throws IOException {                          </span>
<span class="4262614805973472167" onmouseenter="enter('4262614805973472167');" onmouseout="out('4262614805973472167');" style=""> 164          String classpath = MvelTestUtils.getClassPath();                                                          </span>
<span  style=""> 165                                                                                                                    </span>
<span class="-70783897851522367" onmouseenter="enter('-70783897851522367');" onmouseout="out('-70783897851522367');" style=""><abbr title=" 166          //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a new JVM"> 166          //See javadoc on MvelOverloadFailureReproduction for description of why we need to execute the test in a nðŸ”µ</abbr></span>
<span class="-5458642365305735934" onmouseenter="enter('-5458642365305735934');" onmouseout="out('-5458642365305735934');" style=""> 167          CommandLine cmdLine = new CommandLine(&quot;java&quot;);                                                            </span>
<span class="185034803117625342" onmouseenter="enter('185034803117625342');" onmouseout="out('185034803117625342');" style=""> 168          cmdLine.addArgument(&quot;-cp&quot;);                                                                               </span>
<span class="-7828193238452892797" onmouseenter="enter('-7828193238452892797');" onmouseout="out('-7828193238452892797');" style=""> 169          cmdLine.addArgument(classpath, true);                                                                     </span>
<span class="-2127473124473633884" onmouseenter="enter('-2127473124473633884');" onmouseout="out('-2127473124473633884');" style=""> 170          cmdLine.addArgument(mainClass.getName());                                                                 </span>
<span  style=""> 171                                                                                                                    </span>
<span class="-7733606960254483020" onmouseenter="enter('-7733606960254483020');" onmouseout="out('-7733606960254483020');" style=""> 172          ByteArrayOutputStream baos = new ByteArrayOutputStream();                                                 </span>
<span class="-1204308971944260894" onmouseenter="enter('-1204308971944260894');" onmouseout="out('-1204308971944260894');" style=""> 173          Executor executor = new DefaultExecutor();                                                                </span>
<span class="-6599036499352543530" onmouseenter="enter('-6599036499352543530');" onmouseout="out('-6599036499352543530');" style=""> 174          executor.setStreamHandler(new PumpStreamHandler(baos));                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 175          try {                                                                                                     </span>
<span class="1895822866255203440" onmouseenter="enter('1895822866255203440');" onmouseout="out('1895822866255203440');" style=""> 176              executor.execute(cmdLine, new HashMap&lt;String, String&gt;());                                             </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 177          } catch (IOException e) {                                                                                 </span>
<span class="4538066953933936587" onmouseenter="enter('4538066953933936587');" onmouseout="out('4538066953933936587');" style=""> 178              throw new IOException(new String(baos.toByteArray()));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179          }                                                                                                         </span>
<span class="-4813241608860391654" onmouseenter="enter('-4813241608860391654');" onmouseout="out('-4813241608860391654');" style=""> 180          return new String(baos.toByteArray());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            