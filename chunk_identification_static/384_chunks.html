<!DOCTYPE html>
<html lang="en">
          <head>
            <meta charset="utf-8">
            <title>384 chunks</title>
                <style>
                    #top {
                        height: 48vh;
                        overflow-y: auto;
                    }
                    #bottom {
                        height: 48vh;
                        overflow-y: auto;
                    }
                </style>
          </head>
          <body>
            <pre>[[{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;    /**\n&#x27;
                         &#x27;     * add constant join fields, using in such as &#x27;
                         &#x27;hbase、redis etc kv database\n&#x27;
                         &#x27;     * @param keyMap\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static void addConstant(Map&lt;String, &#x27;
                         &#x27;Object&gt; keyMap, AbstractSideTableInfo sideTableInfo) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;        List&lt;PredicateInfo&gt; predicateInfos = &#x27;
                         &#x27;sideTableInfo.getPredicateInfoes();\n&#x27;
                         &#x27;        final String name = &#x27;
                         &#x27;sideTableInfo.getName();\n&#x27;
                         &#x27;        for (PredicateInfo info : predicateInfos) {\n&#x27;
                         &#x27;            if (info.getOwnerTable().equals(name)\n&#x27;
                         &#x27;                &amp;&amp; &#x27;
                         &#x27;info.getOperatorName().equals(&quot;=&quot;)) {\n&#x27;
                         &#x27;                String condition = &#x27;
                         &#x27;info.getCondition();\n&#x27;
                         &#x27;                Matcher matcher = &#x27;
                         &#x27;stringPattern.matcher(condition);\n&#x27;
                         &#x27;                if (matcher.matches()) {\n&#x27;
                         &#x27;                    condition = &#x27;
                         &#x27;condition.substring(1, condition.length() - 1);\n&#x27;
                         &#x27;                }\n&#x27;
                         &#x27;                keyMap.put(info.getFieldName(), &#x27;
                         &#x27;condition);\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;    }\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;    public static String &#x27;
                           &#x27;buildTableNameWithScope(String leftTableName, &#x27;
                           &#x27;String leftTableAlias, String rightTableName, &#x27;
                           &#x27;String scope, Set&lt;String&gt; existTableNames){\n&#x27;
                           &#x27;        //兼容左边表是as 的情况\n&#x27;
                           &#x27;        String leftStr = &#x27;
                           &#x27;Strings.isNullOrEmpty(leftTableName) ? &#x27;
                           &#x27;leftTableAlias : leftTableName;\n&#x27;
                           &#x27;        String newName = leftStr + &quot;_&quot; + &#x27;
                           &#x27;rightTableName;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(CollectionUtils.isEmpty(existTableNames)) {\n&#x27;
                           &#x27;            return &#x27;
                           &#x27;TableUtils.buildTableNameWithScope(newName, &#x27;
                           &#x27;scope);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if (!existTableNames.contains(newName)) {\n&#x27;
                           &#x27;            return &#x27;
                           &#x27;TableUtils.buildTableNameWithScope(newName, &#x27;
                           &#x27;scope);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        return &#x27;
                           &#x27;TableUtils.buildTableNameWithScope(newName, scope) &#x27;
                           &#x27;+ &quot;_&quot; + System.currentTimeMillis();\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}}],
 [{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;    /**\n&#x27;
                         &#x27;     * add constant join fields, using in such as &#x27;
                         &#x27;hbase、redis etc kv database\n&#x27;
                         &#x27;     * @param keyMap\n&#x27;
                         &#x27;     */\n&#x27;
                         &#x27;    public static void addConstant(Map&lt;String, &#x27;
                         &#x27;Object&gt; keyMap, AbstractSideTableInfo sideTableInfo) &#x27;
                         &#x27;{\n&#x27;
                         &#x27;        List&lt;PredicateInfo&gt; predicateInfos = &#x27;
                         &#x27;sideTableInfo.getPredicateInfoes();\n&#x27;
                         &#x27;        final String name = &#x27;
                         &#x27;sideTableInfo.getName();\n&#x27;
                         &#x27;        for (PredicateInfo info : predicateInfos) {\n&#x27;
                         &#x27;            if (info.getOwnerTable().equals(name)\n&#x27;
                         &#x27;                &amp;&amp; &#x27;
                         &#x27;info.getOperatorName().equals(&quot;=&quot;)) {\n&#x27;
                         &#x27;                String condition = &#x27;
                         &#x27;info.getCondition();\n&#x27;
                         &#x27;                Matcher matcher = &#x27;
                         &#x27;stringPattern.matcher(condition);\n&#x27;
                         &#x27;                if (matcher.matches()) {\n&#x27;
                         &#x27;                    condition = &#x27;
                         &#x27;condition.substring(1, condition.length() - 1);\n&#x27;
                         &#x27;                }\n&#x27;
                         &#x27;                keyMap.put(info.getFieldName(), &#x27;
                         &#x27;condition);\n&#x27;
                         &#x27;            }\n&#x27;
                         &#x27;        }\n&#x27;
                         &#x27;    }\n&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;    public static String &#x27;
                           &#x27;buildTableNameWithScope(String leftTableName, &#x27;
                           &#x27;String leftTableAlias, String rightTableName, &#x27;
                           &#x27;String scope, Set&lt;String&gt; existTableNames){\n&#x27;
                           &#x27;        //兼容左边表是as 的情况\n&#x27;
                           &#x27;        String leftStr = &#x27;
                           &#x27;Strings.isNullOrEmpty(leftTableName) ? &#x27;
                           &#x27;leftTableAlias : leftTableName;\n&#x27;
                           &#x27;        String newName = leftStr + &quot;_&quot; + &#x27;
                           &#x27;rightTableName;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(CollectionUtils.isEmpty(existTableNames)) {\n&#x27;
                           &#x27;            return &#x27;
                           &#x27;TableUtils.buildTableNameWithScope(newName, &#x27;
                           &#x27;scope);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if (!existTableNames.contains(newName)) {\n&#x27;
                           &#x27;            return &#x27;
                           &#x27;TableUtils.buildTableNameWithScope(newName, &#x27;
                           &#x27;scope);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        return &#x27;
                           &#x27;TableUtils.buildTableNameWithScope(newName, scope) &#x27;
                           &#x27;+ &quot;_&quot; + System.currentTimeMillis();\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;}}]]</pre>
          </body>
        </html>
        