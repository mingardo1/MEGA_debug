<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>39</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    39
                    <a href="38.html">prev</a>
                    <a href="40.html">next</a>
                    <a href="39_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Beh01der/EasyFlow_d856575b40fc405d5df584045ac8a22cb9c16407_src/main/java/au/com/ds/ef/Event.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Beh01der\EasyFlow show &quot;d856575b40fc405d5df584045ac8a22cb9c16407:src/main/java/au/com/ds/ef/Event.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Beh01der\EasyFlow show &quot;d856575b40fc405d5df584045ac8a22cb9c16407^1:src/main/java/au/com/ds/ef/Event.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Beh01der\EasyFlow show &quot;d856575b40fc405d5df584045ac8a22cb9c16407^2:src/main/java/au/com/ds/ef/Event.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Beh01der\EasyFlow show &quot;599f1f21e244c501cf483ac1a037017befe46fd8:src/main/java/au/com/ds/ef/Event.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bsj]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">   2 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   3 package au.com.ds.ef;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   4                                                                                                          </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   5 import au.com.ds.ef.call.EventHandler;                                                                   </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   6 import au.com.ds.ef.err.DefinitionError;                                                                 </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   7 import au.com.ds.ef.err.ExecutionError;                                                                  </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   8 import au.com.ds.ef.err.LogicViolationError;                                                             </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   9 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  10 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  11                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  12 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  13 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14                                                                                                          </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 public class Event&lt;C extends StatefulContext&gt; {                                                          </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 	private static long idCounter = 1;                                                                      </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 	private static Logger log = LoggerFactory.getLogger(Event.class);                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18 	                                                                                                        </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19 	private String id;                                                                                      </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20     private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                     </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21 	private EasyFlow&lt;C&gt; runner;                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22                                                                                                          </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 	private EventHandler&lt;C&gt; onTriggeredHandler;                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24                                                                                                          </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  25 	public Event() {                                                                                        </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 		this.id = &quot;Event_&quot; + (idCounter++);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28                                                                                                          </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29 	public Event(String id) {                                                                               </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 		this.id = id;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  32 	                                                                                                        </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33 	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                      </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36 	                                                                                                        </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                  </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38 		stateTo.setFinal(true);                                                                                </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41                                                                                                          </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42 	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                            </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43         onTriggeredHandler = onTriggered;                                                                </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44 		return this;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46 	                                                                                                        </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47 	public void trigger(final C context) {                                                                  </span>
<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48         if (runner.isTrace())                                                                            </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49 		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50                                                                                                          </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51 		if (context.isTerminated()) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52 			return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54                                                                                                          </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55 		runner.execute(new Runnable() {                                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56 			@Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57 			public void run() {                                                                                   </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58                 State&lt;C&gt; stateFrom = context.getState();                                                 </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59                 State&lt;C&gt; stateTo = transitions.get(stateFrom);                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  61 				try {                                                                                                </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  62                     if (stateTo == null) {                                                               </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63                         throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +        </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64                             &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context);     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65                     } else {                                                                             </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66                         callOnTriggered(context, stateFrom, stateTo);                                    </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67                         runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);            </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68                         runner.setCurrentState(stateTo, context);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69                     }                                                                                    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70 				} catch (Exception e) {                                                                              </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71 					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                     </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72 							&quot;Execution Error in [Event.trigger]&quot;, context));					                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74 			}                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75 		});                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77                                                                                                          </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78     protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                           </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79         State&lt;C&gt; existingTransitionState = transitions.get(from);                                        </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80         if (existingTransitionState != null) {                                                           </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81             if (existingTransitionState == to) {                                                         </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  82                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);">  82                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83             } else {                                                                                     </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  84                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +">  84                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85                     existingTransitionState);                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89                                                                                                          </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90         transitions.put(from, to);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92                                                                                                          </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93 	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                      </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94 		this.runner = runner;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96                                                                                                          </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97     private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {               </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98         if (onTriggeredHandler != null) {                                                                </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99             onTriggeredHandler.call(Event.this, from, to, context);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 103 	@Override                                                                                               </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 104 	public String toString() {                                                                              </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105 		return id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108 	@Override                                                                                               </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109 	public int hashCode() {                                                                                 </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110 		final int prime = 31;                                                                                  </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111 		int result = 1;                                                                                        </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112 		result = prime * result + ((id == null) ? 0 : id.hashCode());                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113 		return result;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116 	@SuppressWarnings(&quot;unchecked&quot;)                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117 	@Override                                                                                               </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118 	public boolean equals(Object obj) {                                                                     </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119 		if (this == obj)                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120 			return true;                                                                                          </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121 		if (obj == null)                                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122 			return false;                                                                                         </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 123 		if (getClass() != obj.getClass())                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124 			return false;                                                                                         </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125 		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                       </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126 		if (id == null) {                                                                                      </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127 			if (other.id != null)                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 128 				return false;                                                                                        </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 129 		} else if (!id.equals(other.id))                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 130 			return false;                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 131 		return true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 132 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 133 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 134 =======                                                                                                  </span>
<span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 135 package au.com.ds.ef;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 136                                                                                                          </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 137 import au.com.ds.ef.call.EventHandler;                                                                   </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 138 import au.com.ds.ef.err.DefinitionError;                                                                 </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 139 import au.com.ds.ef.err.ExecutionError;                                                                  </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 140 import au.com.ds.ef.err.LogicViolationError;                                                             </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 143                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 144 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 145 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 146                                                                                                          </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 147 public class Event&lt;C extends StatefulContext&gt; {                                                          </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 148 	private static long idCounter = 1;                                                                      </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 149 	private static Logger log = LoggerFactory.getLogger(Event.class);                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 150 	                                                                                                        </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 151 	private String id;                                                                                      </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 152     private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                     </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 153 	private EasyFlow&lt;C&gt; runner;                                                                             </span>
<span class="-1529834666701377782" onmouseenter="enter('-1529834666701377782');" onmouseout="out('-1529834666701377782');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 154     private boolean ignoreOutOfState = false;                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 155                                                                                                          </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 156 	private EventHandler&lt;C&gt; onTriggeredHandler;                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 157                                                                                                          </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 158 	public Event() {                                                                                        </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 159 		this.id = &quot;Event_&quot; + (idCounter++);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 160 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 161                                                                                                          </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 162 	public Event(String id) {                                                                               </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 163 		this.id = id;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 164 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 165 	                                                                                                        </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 166 	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                      </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 167 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 168 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 169 	                                                                                                        </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 170 	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                  </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 171 		stateTo.setFinal(true);                                                                                </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 172 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 173 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 174                                                                                                          </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 175 	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                            </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 176         onTriggeredHandler = onTriggered;                                                                </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 177 		return this;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 178 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 179                                                                                                          </span>
<span class="8881874565915337680" onmouseenter="enter('8881874565915337680');" onmouseout="out('8881874565915337680');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 180     public Event&lt;C&gt; ignoreOutOfState() {                                                                 </span>
<span class="-5078459344949664245" onmouseenter="enter('-5078459344949664245');" onmouseout="out('-5078459344949664245');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 181         ignoreOutOfState = true;                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 182         return this;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 183     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 184                                                                                                          </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 185     public void trigger(final C context) {                                                               </span>
<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 186         if (runner.isTrace())                                                                            </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 187 		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 188                                                                                                          </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 189 		if (context.isTerminated()) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 190 			return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 191 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 192                                                                                                          </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 193 		runner.execute(new Runnable() {                                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 194 			@Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195 			public void run() {                                                                                   </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196                 State&lt;C&gt; stateFrom = context.getState();                                                 </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197                 State&lt;C&gt; stateTo = transitions.get(stateFrom);                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 198                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 199 				try {                                                                                                </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 200                     if (stateTo == null) {                                                               </span>
<span class="-1253490616787539442" onmouseenter="enter('-1253490616787539442');" onmouseout="out('-1253490616787539442');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 201                         if (!ignoreOutOfState)                                                           </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 202                             throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +    </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 203                                 &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context); </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 204                     } else {                                                                             </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 205                         callOnTriggered(context, stateFrom, stateTo);                                    </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 206                         runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);            </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 207                         runner.setCurrentState(stateTo, context);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 208                     }                                                                                    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 209 				} catch (Exception e) {                                                                              </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210 					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                     </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211 							&quot;Execution Error in [Event.trigger]&quot;, context));					                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 212 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213 			}                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 214 		});                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 215 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216                                                                                                          </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217     protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                           </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 218         State&lt;C&gt; existingTransitionState = transitions.get(from);                                        </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 219         if (existingTransitionState != null) {                                                           </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220             if (existingTransitionState == to) {                                                         </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 221                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);"> 221                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222             } else {                                                                                     </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 223                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +"> 223                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224                     existingTransitionState);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228                                                                                                          </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229         transitions.put(from, to);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 231                                                                                                          </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 232 	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                      </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 233 		this.runner = runner;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 234 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 235                                                                                                          </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 236     private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {               </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 237         if (onTriggeredHandler != null) {                                                                </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 238             onTriggeredHandler.call(Event.this, from, to, context);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 239         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 240     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 241                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 242 	@Override                                                                                               </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 243 	public String toString() {                                                                              </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 244 		return id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 245 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 247 	@Override                                                                                               </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 248 	public int hashCode() {                                                                                 </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 249 		final int prime = 31;                                                                                  </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 250 		int result = 1;                                                                                        </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 251 		result = prime * result + ((id == null) ? 0 : id.hashCode());                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 252 		return result;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 253 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 254                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 255 	@SuppressWarnings(&quot;unchecked&quot;)                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 256 	@Override                                                                                               </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 257 	public boolean equals(Object obj) {                                                                     </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 258 		if (this == obj)                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 259 			return true;                                                                                          </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 260 		if (obj == null)                                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 261 			return false;                                                                                         </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 262 		if (getClass() != obj.getClass())                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 263 			return false;                                                                                         </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264 		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                       </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265 		if (id == null) {                                                                                      </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 266 			if (other.id != null)                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 267 				return false;                                                                                        </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 268 		} else if (!id.equals(other.id))                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 269 			return false;                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 270 		return true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 271 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 272 }                                                                                                        </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 273 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span></pre></td>
                            <td><pre><span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">   2 ||||||| BASE                                                                                             </span>
<span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   3 package au.com.ds.ef;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   4                                                                                                          </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   5 import au.com.ds.ef.call.EventHandler;                                                                   </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   6 import au.com.ds.ef.err.DefinitionError;                                                                 </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   7 import au.com.ds.ef.err.ExecutionError;                                                                  </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   8 import au.com.ds.ef.err.LogicViolationError;                                                             </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   9 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  10 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  11                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  12 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  13 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14                                                                                                          </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 public class Event&lt;C extends StatefulContext&gt; {                                                          </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 	private static long idCounter = 1;                                                                      </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 	private static Logger log = LoggerFactory.getLogger(Event.class);                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18                                                                                                          </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19 	private String id;                                                                                      </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20     private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                     </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21 	private EasyFlow&lt;C&gt; runner;                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22                                                                                                          </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 	private EventHandler&lt;C&gt; onTriggeredHandler;                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24                                                                                                          </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  25 	public Event() {                                                                                        </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 		this.id = &quot;Event_&quot; + (idCounter++);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28                                                                                                          </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29 	public Event(String id) {                                                                               </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 		this.id = id;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  32                                                                                                          </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33 	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                      </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36                                                                                                          </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                  </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38 		stateTo.setFinal(true);                                                                                </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41                                                                                                          </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42 	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                            </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43         onTriggeredHandler = onTriggered;                                                                </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44 		return this;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46                                                                                                          </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47 	public void trigger(final C context) {                                                                  </span>
<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48         if (runner.isTrace())                                                                            </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49 		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50                                                                                                          </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51 		if (context.isTerminated()) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52 			return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54                                                                                                          </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55 		runner.execute(new Runnable() {                                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56 			@Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57 			public void run() {                                                                                   </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58                 State&lt;C&gt; stateFrom = context.getState();                                                 </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59                 State&lt;C&gt; stateTo = transitions.get(stateFrom);                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  61 				try {                                                                                                </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  62                     if (stateTo == null) {                                                               </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63                         throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +        </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64                             &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context);     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65                     } else {                                                                             </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66                         callOnTriggered(context, stateFrom, stateTo);                                    </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67                         runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);            </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68                         runner.setCurrentState(stateTo, context);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69                     }                                                                                    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70 				} catch (Exception e) {                                                                              </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71 					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                     </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72 							&quot;Execution Error in [Event.trigger]&quot;, context));                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74 			}                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75 		});                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77                                                                                                          </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78     protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                           </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79         State&lt;C&gt; existingTransitionState = transitions.get(from);                                        </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80         if (existingTransitionState != null) {                                                           </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81             if (existingTransitionState == to) {                                                         </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  82                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);">  82                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83             } else {                                                                                     </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  84                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +">  84                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85                     existingTransitionState);                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89                                                                                                          </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90         transitions.put(from, to);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92                                                                                                          </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93 	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                      </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94 		this.runner = runner;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96                                                                                                          </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97     private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {               </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98         if (onTriggeredHandler != null) {                                                                </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99             onTriggeredHandler.call(Event.this, from, to, context);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 103 	@Override                                                                                               </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 104 	public String toString() {                                                                              </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105 		return id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108 	@Override                                                                                               </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109 	public int hashCode() {                                                                                 </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110 		final int prime = 31;                                                                                  </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111 		int result = 1;                                                                                        </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112 		result = prime * result + ((id == null) ? 0 : id.hashCode());                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113 		return result;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116 	@SuppressWarnings(&quot;unchecked&quot;)                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117 	@Override                                                                                               </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118 	public boolean equals(Object obj) {                                                                     </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119 		if (this == obj)                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120 			return true;                                                                                          </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121 		if (obj == null)                                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122 			return false;                                                                                         </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 123 		if (getClass() != obj.getClass())                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124 			return false;                                                                                         </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125 		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                       </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126 		if (id == null) {                                                                                      </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127 			if (other.id != null)                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 128 				return false;                                                                                        </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 129 		} else if (!id.equals(other.id))                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 130 			return false;                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 131 		return true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 132 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 133 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 134 =======                                                                                                  </span>
<span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 135 package au.com.ds.ef;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 136                                                                                                          </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 137 import au.com.ds.ef.call.EventHandler;                                                                   </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 138 import au.com.ds.ef.err.DefinitionError;                                                                 </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 139 import au.com.ds.ef.err.ExecutionError;                                                                  </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 140 import au.com.ds.ef.err.LogicViolationError;                                                             </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 143                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 144 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 145 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 146                                                                                                          </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 147 public class Event&lt;C extends StatefulContext&gt; {                                                          </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 148 	private static long idCounter = 1;                                                                      </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 149 	private static Logger log = LoggerFactory.getLogger(Event.class);                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 150                                                                                                          </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 151 	private String id;                                                                                      </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 152     private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                     </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 153 	private EasyFlow&lt;C&gt; runner;                                                                             </span>
<span class="-1529834666701377782" onmouseenter="enter('-1529834666701377782');" onmouseout="out('-1529834666701377782');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 154     private boolean ignoreOutOfState = false;                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 155                                                                                                          </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 156 	private EventHandler&lt;C&gt; onTriggeredHandler;                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 157                                                                                                          </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 158 	public Event() {                                                                                        </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 159 		this.id = &quot;Event_&quot; + (idCounter++);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 160 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 161                                                                                                          </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 162 	public Event(String id) {                                                                               </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 163 		this.id = id;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 164 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 165                                                                                                          </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 166 	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                      </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 167 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 168 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 169                                                                                                          </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 170 	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                  </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 171 		stateTo.setFinal(true);                                                                                </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 172 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 173 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 174                                                                                                          </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 175 	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                            </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 176         onTriggeredHandler = onTriggered;                                                                </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 177 		return this;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 178 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 179                                                                                                          </span>
<span class="8881874565915337680" onmouseenter="enter('8881874565915337680');" onmouseout="out('8881874565915337680');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 180     public Event&lt;C&gt; ignoreOutOfState() {                                                                 </span>
<span class="-5078459344949664245" onmouseenter="enter('-5078459344949664245');" onmouseout="out('-5078459344949664245');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 181         ignoreOutOfState = true;                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 182         return this;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 183     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 184                                                                                                          </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 185     public void trigger(final C context) {                                                               </span>
<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 186         if (runner.isTrace())                                                                            </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 187 		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 188                                                                                                          </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 189 		if (context.isTerminated()) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 190 			return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 191 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 192                                                                                                          </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 193 		runner.execute(new Runnable() {                                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 194 			@Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195 			public void run() {                                                                                   </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196                 State&lt;C&gt; stateFrom = context.getState();                                                 </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197                 State&lt;C&gt; stateTo = transitions.get(stateFrom);                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 198                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 199 				try {                                                                                                </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 200                     if (stateTo == null) {                                                               </span>
<span class="-1253490616787539442" onmouseenter="enter('-1253490616787539442');" onmouseout="out('-1253490616787539442');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 201                         if (!ignoreOutOfState)                                                           </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 202                             throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +    </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 203                                 &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context); </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 204                     } else {                                                                             </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 205                         callOnTriggered(context, stateFrom, stateTo);                                    </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 206                         runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);            </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 207                         runner.setCurrentState(stateTo, context);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 208                     }                                                                                    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 209 				} catch (Exception e) {                                                                              </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210 					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                     </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211 							&quot;Execution Error in [Event.trigger]&quot;, context));                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 212 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213 			}                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 214 		});                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 215 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216                                                                                                          </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217     protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                           </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 218         State&lt;C&gt; existingTransitionState = transitions.get(from);                                        </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 219         if (existingTransitionState != null) {                                                           </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220             if (existingTransitionState == to) {                                                         </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 221                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);"> 221                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222             } else {                                                                                     </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 223                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +"> 223                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224                     existingTransitionState);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228                                                                                                          </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229         transitions.put(from, to);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 231                                                                                                          </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 232 	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                      </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 233 		this.runner = runner;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 234 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 235                                                                                                          </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 236     private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {               </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 237         if (onTriggeredHandler != null) {                                                                </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 238             onTriggeredHandler.call(Event.this, from, to, context);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 239         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 240     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 241                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 242 	@Override                                                                                               </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 243 	public String toString() {                                                                              </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 244 		return id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 245 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 247 	@Override                                                                                               </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 248 	public int hashCode() {                                                                                 </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 249 		final int prime = 31;                                                                                  </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 250 		int result = 1;                                                                                        </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 251 		result = prime * result + ((id == null) ? 0 : id.hashCode());                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 252 		return result;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 253 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 254                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 255 	@SuppressWarnings(&quot;unchecked&quot;)                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 256 	@Override                                                                                               </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 257 	public boolean equals(Object obj) {                                                                     </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 258 		if (this == obj)                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 259 			return true;                                                                                          </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 260 		if (obj == null)                                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 261 			return false;                                                                                         </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 262 		if (getClass() != obj.getClass())                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 263 			return false;                                                                                         </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264 		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                       </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265 		if (id == null) {                                                                                      </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 266 			if (other.id != null)                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 267 				return false;                                                                                        </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 268 		} else if (!id.equals(other.id))                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 269 			return false;                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 270 		return true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 271 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 272 }                                                                                                        </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 273 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span></pre></td>
                            <td><pre><span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">   2 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="   3 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">   3 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">   4 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   5                                                                                                          </span>
<span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   6 package au.com.ds.ef;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   7                                                                                                          </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   8 import au.com.ds.ef.call.EventHandler;                                                                   </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   9 import au.com.ds.ef.err.DefinitionError;                                                                 </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  10 import au.com.ds.ef.err.ExecutionError;                                                                  </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  11 import au.com.ds.ef.err.LogicViolationError;                                                             </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  12 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  13 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  14                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  15 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  16 import java.util.Map;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  17                                                                                                          </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  18 public class Event&lt;C extends StatefulContext&gt; {                                                          </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  19 	private static long idCounter = 1;                                                                      </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  20 	private static Logger log = LoggerFactory.getLogger(Event.class);                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  21                                                                                                          </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  22 	private String id;                                                                                      </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  23     private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                     </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  24 	private EasyFlow&lt;C&gt; runner;                                                                             </span>
<span class="-1529834666701377782" onmouseenter="enter('-1529834666701377782');" onmouseout="out('-1529834666701377782');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  25     private boolean ignoreOutOfState = false;                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  26                                                                                                          </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  27 	private EventHandler&lt;C&gt; onTriggeredHandler;                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  28                                                                                                          </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  29 	public Event() {                                                                                        </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  30 		this.id = &quot;Event_&quot; + (idCounter++);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  31 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  32                                                                                                          </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  33 	public Event(String id) {                                                                               </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  34 		this.id = id;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  35 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  36                                                                                                          </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  37 	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                      </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  38 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  39 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  40                                                                                                          </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  41 	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                  </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  42 		stateTo.setFinal(true);                                                                                </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  43 		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  44 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  45                                                                                                          </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  46 	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                            </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  47         onTriggeredHandler = onTriggered;                                                                </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  48 		return this;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  49 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  50                                                                                                          </span>
<span class="8881874565915337680" onmouseenter="enter('8881874565915337680');" onmouseout="out('8881874565915337680');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  51     public Event&lt;C&gt; ignoreOutOfState() {                                                                 </span>
<span class="-5078459344949664245" onmouseenter="enter('-5078459344949664245');" onmouseout="out('-5078459344949664245');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  52         ignoreOutOfState = true;                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  53         return this;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  54     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  55                                                                                                          </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  56     public void trigger(final C context) {                                                               </span>
<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  57         if (runner.isTrace())                                                                            </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  58 		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  59                                                                                                          </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  60 		if (context.isTerminated()) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  61 			return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  63                                                                                                          </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  64 		runner.execute(new Runnable() {                                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  65 			@Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  66 			public void run() {                                                                                   </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  67                 State&lt;C&gt; stateFrom = context.getState();                                                 </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  68                 State&lt;C&gt; stateTo = transitions.get(stateFrom);                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  69                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70 				try {                                                                                                </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71                     if (stateTo == null) {                                                               </span>
<span class="-1253490616787539442" onmouseenter="enter('-1253490616787539442');" onmouseout="out('-1253490616787539442');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  72                         if (!ignoreOutOfState)                                                           </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  73                             throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +    </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  74                                 &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context); </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75                     } else {                                                                             </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76                         callOnTriggered(context, stateFrom, stateTo);                                    </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77                         runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);            </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78                         runner.setCurrentState(stateTo, context);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79                     }                                                                                    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80 				} catch (Exception e) {                                                                              </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81 					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                     </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82 							&quot;Execution Error in [Event.trigger]&quot;, context));                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  83 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  84 			}                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  85 		});                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  86 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  87                                                                                                          </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  88     protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                           </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  89         State&lt;C&gt; existingTransitionState = transitions.get(from);                                        </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  90         if (existingTransitionState != null) {                                                           </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  91             if (existingTransitionState == to) {                                                         </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title="  92                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);">  92                 throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93             } else {                                                                                     </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title="  94                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +">  94                 throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + toðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95                     existingTransitionState);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  96                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  97             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  98         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  99                                                                                                          </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 100         transitions.put(from, to);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 101     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 102                                                                                                          </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 103 	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                      </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 104 		this.runner = runner;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 105 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 106                                                                                                          </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 107     private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {               </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 108         if (onTriggeredHandler != null) {                                                                </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 109             onTriggeredHandler.call(Event.this, from, to, context);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 110         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 111     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 112                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 113 	@Override                                                                                               </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 114 	public String toString() {                                                                              </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 115 		return id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 116 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 117                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 118 	@Override                                                                                               </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 119 	public int hashCode() {                                                                                 </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 120 		final int prime = 31;                                                                                  </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 121 		int result = 1;                                                                                        </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 122 		result = prime * result + ((id == null) ? 0 : id.hashCode());                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 123 		return result;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 124 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 125                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 126 	@SuppressWarnings(&quot;unchecked&quot;)                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 127 	@Override                                                                                               </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 128 	public boolean equals(Object obj) {                                                                     </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 129 		if (this == obj)                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 130 			return true;                                                                                          </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 131 		if (obj == null)                                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 132 			return false;                                                                                         </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 133 		if (getClass() != obj.getClass())                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 134 			return false;                                                                                         </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 135 		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                       </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 136 		if (id == null) {                                                                                      </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 137 			if (other.id != null)                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 138 				return false;                                                                                        </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 139 		} else if (!id.equals(other.id))                                                                       </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 140 			return false;                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141 		return true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 143 }                                                                                                        </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 144 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   1 -package au.com.ds.ef;                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   2 -                                                                                                                  </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   3 -import au.com.ds.ef.call.EventHandler;                                                                            </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   4 -import au.com.ds.ef.err.DefinitionError;                                                                          </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   5 -import au.com.ds.ef.err.ExecutionError;                                                                           </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   6 -import au.com.ds.ef.err.LogicViolationError;                                                                      </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   7 -import org.slf4j.Logger;                                                                                          </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   8 -import org.slf4j.LoggerFactory;                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   9 -                                                                                                                  </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  10 -import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  11 -import java.util.Map;                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  12 -                                                                                                                  </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  13 -public class Event&lt;C extends StatefulContext&gt; {                                                                   </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  14 -	private static long idCounter = 1;                                                                               </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  15 -	private static Logger log = LoggerFactory.getLogger(Event.class);                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  16 -                                                                                                                  </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  17 -	private String id;                                                                                               </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  18 -    private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                              </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  19 -	private EasyFlow&lt;C&gt; runner;                                                                                      </span>

<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  20 -                                                                                                                  </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  21 -	private EventHandler&lt;C&gt; onTriggeredHandler;                                                                      </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -                                                                                                                  </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  23 -	public Event() {                                                                                                 </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -		this.id = &quot;Event_&quot; + (idCounter++);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  26 -                                                                                                                  </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  27 -	public Event(String id) {                                                                                        </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -		this.id = id;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  29 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  30 -                                                                                                                  </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  31 -	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                               </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  32 -		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  33 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  34 -                                                                                                                  </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                           </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  36 -		stateTo.setFinal(true);                                                                                         </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  37 -		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -                                                                                                                  </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  40 -	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                                     </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -        onTriggeredHandler = onTriggered;                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  42 -		return this;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  43 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  44 -                                                                                                                  </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  45 -	public void trigger(final C context) {                                                                           </span>






<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -        if (runner.isTrace())                                                                                     </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  47 -		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  48 -                                                                                                                  </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  49 -		if (context.isTerminated()) {                                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  50 -			return;                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  51 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -                                                                                                                  </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -		runner.execute(new Runnable() {                                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -			@Override                                                                                                      </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -			public void run() {                                                                                            </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  56 -                State&lt;C&gt; stateFrom = context.getState();                                                          </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  57 -                State&lt;C&gt; stateTo = transitions.get(stateFrom);                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  58 -                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  59 -				try {                                                                                                         </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  60 -                    if (stateTo == null) {                                                                        </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  61 -                        throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +                 </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  62 -                            &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context);              </span>



<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -                    } else {                                                                                      </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -                        callOnTriggered(context, stateFrom, stateTo);                                             </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -                        runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);                     </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -                        runner.setCurrentState(stateTo, context);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -                    }                                                                                             </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -				} catch (Exception e) {                                                                                       </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  69 -					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                              </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -							&quot;Execution Error in [Event.trigger]&quot;, context));                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  71 -				}                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -			}                                                                                                              </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -		});                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -                                                                                                                  </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -    protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                                    </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -        State&lt;C&gt; existingTransitionState = transitions.get(from);                                                 </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -        if (existingTransitionState != null) {                                                                    </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -            if (existingTransitionState == to) {                                                                  </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -                throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -            } else {                                                                                              </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  82 -                throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +">  82 -                throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and ðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -                    existingTransitionState);                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -                                                                                                                  </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  88 -        transitions.put(from, to);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  90 -                                                                                                                  </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                               </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -		this.runner = runner;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  93 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  94 -                                                                                                                  </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -    private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {                        </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  96 -        if (onTriggeredHandler != null) {                                                                         </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  97 -            onTriggeredHandler.call(Event.this, from, to, context);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  98 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  99 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 100 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 101 -	@Override                                                                                                        </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 102 -	public String toString() {                                                                                       </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -		return id;                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 105 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 106 -	@Override                                                                                                        </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 107 -	public int hashCode() {                                                                                          </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 108 -		final int prime = 31;                                                                                           </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -		int result = 1;                                                                                                 </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 110 -		result = prime * result + ((id == null) ? 0 : id.hashCode());                                                   </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 111 -		return result;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 112 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 113 -                                                                                                                  </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 114 -	@SuppressWarnings(&quot;unchecked&quot;)                                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 115 -	@Override                                                                                                        </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 116 -	public boolean equals(Object obj) {                                                                              </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 117 -		if (this == obj)                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 118 -			return true;                                                                                                   </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 119 -		if (obj == null)                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 120 -			return false;                                                                                                  </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 121 -		if (getClass() != obj.getClass())                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 122 -			return false;                                                                                                  </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                                </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -		if (id == null) {                                                                                               </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 125 -			if (other.id != null)                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -				return false;                                                                                                 </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 127 -		} else if (!id.equals(other.id))                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 128 -			return false;                                                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 129 -		return true;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 130 -	}                                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 131 -}                                                                                                                 </span></pre></td>
                            <td><pre><span class="559951981505982210" onmouseenter="enter('559951981505982210');" onmouseout="out('559951981505982210');" style="">   1  package au.com.ds.ef;                                                                                             </span>
<span  style="">   2                                                                                                                    </span>
<span class="1691532865684071934" onmouseenter="enter('1691532865684071934');" onmouseout="out('1691532865684071934');" style="">   3  import au.com.ds.ef.call.EventHandler;                                                                            </span>
<span class="-8285757205577878976" onmouseenter="enter('-8285757205577878976');" onmouseout="out('-8285757205577878976');" style="">   4  import au.com.ds.ef.err.DefinitionError;                                                                          </span>
<span class="-4167516550295066285" onmouseenter="enter('-4167516550295066285');" onmouseout="out('-4167516550295066285');" style="">   5  import au.com.ds.ef.err.ExecutionError;                                                                           </span>
<span class="5369880460846921631" onmouseenter="enter('5369880460846921631');" onmouseout="out('5369880460846921631');" style="">   6  import au.com.ds.ef.err.LogicViolationError;                                                                      </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">   7  import org.slf4j.Logger;                                                                                          </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">   8  import org.slf4j.LoggerFactory;                                                                                   </span>
<span  style="">   9                                                                                                                    </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  10  import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  11  import java.util.Map;                                                                                             </span>
<span  style="">  12                                                                                                                    </span>
<span class="-2541516527843485944" onmouseenter="enter('-2541516527843485944');" onmouseout="out('-2541516527843485944');" style="">  13  public class Event&lt;C extends StatefulContext&gt; {                                                                   </span>
<span class="-2912642098283099711" onmouseenter="enter('-2912642098283099711');" onmouseout="out('-2912642098283099711');" style="">  14  	private static long idCounter = 1;                                                                               </span>
<span class="6470673786505998351" onmouseenter="enter('6470673786505998351');" onmouseout="out('6470673786505998351');" style="">  15  	private static Logger log = LoggerFactory.getLogger(Event.class);                                                </span>
<span  style="">  16                                                                                                                    </span>
<span class="-5651952726455414238" onmouseenter="enter('-5651952726455414238');" onmouseout="out('-5651952726455414238');" style="">  17  	private String id;                                                                                               </span>
<span class="6017491689340451968" onmouseenter="enter('6017491689340451968');" onmouseout="out('6017491689340451968');" style="">  18      private Map&lt;State&lt;C&gt;, State&lt;C&gt;&gt; transitions = new HashMap&lt;State&lt;C&gt;, State&lt;C&gt;&gt;();                              </span>
<span class="3309639437097056574" onmouseenter="enter('3309639437097056574');" onmouseout="out('3309639437097056574');" style="">  19  	private EasyFlow&lt;C&gt; runner;                                                                                      </span>
<span class="-1529834666701377782" onmouseenter="enter('-1529834666701377782');" onmouseout="out('-1529834666701377782');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  20 +    private boolean ignoreOutOfState = false;                                                                     </span>
<span  style="">  21                                                                                                                    </span>
<span class="587614681722661204" onmouseenter="enter('587614681722661204');" onmouseout="out('587614681722661204');" style="">  22  	private EventHandler&lt;C&gt; onTriggeredHandler;                                                                      </span>
<span  style="">  23                                                                                                                    </span>
<span class="8745726326505293811" onmouseenter="enter('8745726326505293811');" onmouseout="out('8745726326505293811');" style="">  24  	public Event() {                                                                                                 </span>
<span class="-5404872428881316276" onmouseenter="enter('-5404872428881316276');" onmouseout="out('-5404872428881316276');" style="">  25  		this.id = &quot;Event_&quot; + (idCounter++);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  26  	}                                                                                                                </span>
<span  style="">  27                                                                                                                    </span>
<span class="-3012088488861831024" onmouseenter="enter('-3012088488861831024');" onmouseout="out('-3012088488861831024');" style="">  28  	public Event(String id) {                                                                                        </span>
<span class="4210872948772082112" onmouseenter="enter('4210872948772082112');" onmouseout="out('4210872948772082112');" style="">  29  		this.id = id;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  30  	}                                                                                                                </span>
<span  style="">  31                                                                                                                    </span>
<span class="8516225769443898907" onmouseenter="enter('8516225769443898907');" onmouseout="out('8516225769443898907');" style="">  32  	public TransitionBuilder&lt;C&gt; to(State&lt;C&gt; stateTo) {                                                               </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="">  33  		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  34  	}                                                                                                                </span>
<span  style="">  35                                                                                                                    </span>
<span class="1143160944822459316" onmouseenter="enter('1143160944822459316');" onmouseout="out('1143160944822459316');" style="">  36  	public TransitionBuilder&lt;C&gt; finish(State&lt;C&gt; stateTo) {                                                           </span>
<span class="2426781787176047240" onmouseenter="enter('2426781787176047240');" onmouseout="out('2426781787176047240');" style="">  37  		stateTo.setFinal(true);                                                                                         </span>
<span class="-6001041256510810074" onmouseenter="enter('-6001041256510810074');" onmouseout="out('-6001041256510810074');" style="">  38  		return new TransitionBuilder&lt;C&gt;(this, stateTo);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  39  	}                                                                                                                </span>
<span  style="">  40                                                                                                                    </span>
<span class="2172478735464586333" onmouseenter="enter('2172478735464586333');" onmouseout="out('2172478735464586333');" style="">  41  	public Event&lt;C&gt; whenTriggered(EventHandler&lt;C&gt; onTriggered) {                                                     </span>
<span class="2030901530409141525" onmouseenter="enter('2030901530409141525');" onmouseout="out('2030901530409141525');" style="">  42          onTriggeredHandler = onTriggered;                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="">  43  		return this;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  44  	}                                                                                                                </span>
<span  style="">  45                                                                                                                    </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -	public void trigger(final C context) {                                                                           </span>
<span class="8881874565915337680" onmouseenter="enter('8881874565915337680');" onmouseout="out('8881874565915337680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +    public Event&lt;C&gt; ignoreOutOfState() {                                                                          </span>
<span class="-5078459344949664245" onmouseenter="enter('-5078459344949664245');" onmouseout="out('-5078459344949664245');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  48 +        ignoreOutOfState = true;                                                                                  </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +        return this;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  50 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  51 +                                                                                                                  </span>
<span class="-1631354613762079109" onmouseenter="enter('-1631354613762079109');" onmouseout="out('-1631354613762079109');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  52 +    public void trigger(final C context) {                                                                        </span>
<span class="4838631308246424453" onmouseenter="enter('4838631308246424453');" onmouseout="out('4838631308246424453');" style="">  53          if (runner.isTrace())                                                                                     </span>
<span class="4156651100575844870" onmouseenter="enter('4156651100575844870');" onmouseout="out('4156651100575844870');" style="">  54  		    log.debug(&quot;trigger {} for {}&quot;, this, context);                                                              </span>
<span  style="">  55                                                                                                                    </span>
<span class="1522449782601893219" onmouseenter="enter('1522449782601893219');" onmouseout="out('1522449782601893219');" style="">  56  		if (context.isTerminated()) {                                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  57  			return;                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58  		}                                                                                                               </span>
<span  style="">  59                                                                                                                    </span>
<span class="-1598432735222048405" onmouseenter="enter('-1598432735222048405');" onmouseout="out('-1598432735222048405');" style="">  60  		runner.execute(new Runnable() {                                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  61  			@Override                                                                                                      </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="">  62  			public void run() {                                                                                            </span>
<span class="2165122508632516354" onmouseenter="enter('2165122508632516354');" onmouseout="out('2165122508632516354');" style="">  63                  State&lt;C&gt; stateFrom = context.getState();                                                          </span>
<span class="53020437871045597" onmouseenter="enter('53020437871045597');" onmouseout="out('53020437871045597');" style="">  64                  State&lt;C&gt; stateTo = transitions.get(stateFrom);                                                    </span>
<span  style="">  65                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  66  				try {                                                                                                         </span>
<span class="7901849068004876319" onmouseenter="enter('7901849068004876319');" onmouseout="out('7901849068004876319');" style="">  67                      if (stateTo == null) {                                                                        </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -                        throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +                 </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  69 -                            &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context);              </span>
<span class="-1253490616787539442" onmouseenter="enter('-1253490616787539442');" onmouseout="out('-1253490616787539442');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  70 +                        if (!ignoreOutOfState)                                                                    </span>
<span class="2202084596943520093" onmouseenter="enter('2202084596943520093');" onmouseout="out('2202084596943520093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +                            throw new LogicViolationError(&quot;Invalid Event: &quot; + Event.this.toString() +             </span>
<span class="-8394048369513315857" onmouseenter="enter('-8394048369513315857');" onmouseout="out('-8394048369513315857');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +                                &quot; triggered while in State: &quot; + context.getState() + &quot; for &quot; + context);          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  73                      } else {                                                                                      </span>
<span class="3360374055909243516" onmouseenter="enter('3360374055909243516');" onmouseout="out('3360374055909243516');" style="">  74                          callOnTriggered(context, stateFrom, stateTo);                                             </span>
<span class="6201331922539144164" onmouseenter="enter('6201331922539144164');" onmouseout="out('6201331922539144164');" style="">  75                          runner.callOnEventTriggered(Event.this, stateFrom, stateTo, context);                     </span>
<span class="-6337481111793160143" onmouseenter="enter('-6337481111793160143');" onmouseout="out('-6337481111793160143');" style="">  76                          runner.setCurrentState(stateTo, context);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77                      }                                                                                             </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="">  78  				} catch (Exception e) {                                                                                       </span>
<span class="7322476209479859229" onmouseenter="enter('7322476209479859229');" onmouseout="out('7322476209479859229');" style="">  79  					runner.callOnError(new ExecutionError(stateFrom, Event.this, e,                                              </span>
<span class="5490073487195165868" onmouseenter="enter('5490073487195165868');" onmouseout="out('5490073487195165868');" style="">  80  							&quot;Execution Error in [Event.trigger]&quot;, context));                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81  				}                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  82  			}                                                                                                              </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  83  		});                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84  	}                                                                                                                </span>
<span  style="">  85                                                                                                                    </span>
<span class="4442563077727079883" onmouseenter="enter('4442563077727079883');" onmouseout="out('4442563077727079883');" style="">  86      protected void addTransition(State&lt;C&gt; from, State&lt;C&gt; to) {                                                    </span>
<span class="4687036336640784030" onmouseenter="enter('4687036336640784030');" onmouseout="out('4687036336640784030');" style="">  87          State&lt;C&gt; existingTransitionState = transitions.get(from);                                                 </span>
<span class="2435989493291857460" onmouseenter="enter('2435989493291857460');" onmouseout="out('2435989493291857460');" style="">  88          if (existingTransitionState != null) {                                                                    </span>
<span class="-8917258057752061794" onmouseenter="enter('-8917258057752061794');" onmouseout="out('-8917258057752061794');" style="">  89              if (existingTransitionState == to) {                                                                  </span>
<span class="-3243404777712615308" onmouseenter="enter('-3243404777712615308');" onmouseout="out('-3243404777712615308');" style="">  90                  throw new DefinitionError(&quot;Duplicate transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to);       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  91              } else {                                                                                              </span>
<span class="4366903974517909936" onmouseenter="enter('4366903974517909936');" onmouseout="out('4366903974517909936');" style=""><abbr title="  92                  throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and &quot; +">  92                  throw new DefinitionError(&quot;Ambiguous transition[&quot; + this + &quot;] from &quot; + from + &quot; to &quot; + to + &quot; and ðŸ”µ</abbr></span>
<span class="4520582466044628384" onmouseenter="enter('4520582466044628384');" onmouseout="out('4520582466044628384');" style="">  93                      existingTransitionState);                                                                     </span>
<span  style="">  94                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96          }                                                                                                         </span>
<span  style="">  97                                                                                                                    </span>
<span class="-898089747281302099" onmouseenter="enter('-898089747281302099');" onmouseout="out('-898089747281302099');" style="">  98          transitions.put(from, to);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99      }                                                                                                             </span>
<span  style=""> 100                                                                                                                    </span>
<span class="-5227206262072250159" onmouseenter="enter('-5227206262072250159');" onmouseout="out('-5227206262072250159');" style=""> 101  	protected void setFlowRunner(EasyFlow&lt;C&gt; runner) {                                                               </span>
<span class="-2398092084603449048" onmouseenter="enter('-2398092084603449048');" onmouseout="out('-2398092084603449048');" style=""> 102  		this.runner = runner;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103  	}                                                                                                                </span>
<span  style=""> 104                                                                                                                    </span>
<span class="7922647180178801786" onmouseenter="enter('7922647180178801786');" onmouseout="out('7922647180178801786');" style=""> 105      private void callOnTriggered(C context, State&lt;C&gt; from, State&lt;C&gt; to) throws Exception {                        </span>
<span class="-6687303227161056757" onmouseenter="enter('-6687303227161056757');" onmouseout="out('-6687303227161056757');" style=""> 106          if (onTriggeredHandler != null) {                                                                         </span>
<span class="-5377312045666936862" onmouseenter="enter('-5377312045666936862');" onmouseout="out('-5377312045666936862');" style=""> 107              onTriggeredHandler.call(Event.this, from, to, context);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109      }                                                                                                             </span>
<span  style=""> 110                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111  	@Override                                                                                                        </span>
<span class="6050671966953268025" onmouseenter="enter('6050671966953268025');" onmouseout="out('6050671966953268025');" style=""> 112  	public String toString() {                                                                                       </span>
<span class="-3074727595953522219" onmouseenter="enter('-3074727595953522219');" onmouseout="out('-3074727595953522219');" style=""> 113  		return id;                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114  	}                                                                                                                </span>
<span  style=""> 115                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 116  	@Override                                                                                                        </span>
<span class="5226885376728374571" onmouseenter="enter('5226885376728374571');" onmouseout="out('5226885376728374571');" style=""> 117  	public int hashCode() {                                                                                          </span>
<span class="-7987279279267999766" onmouseenter="enter('-7987279279267999766');" onmouseout="out('-7987279279267999766');" style=""> 118  		final int prime = 31;                                                                                           </span>
<span class="1714284279325269356" onmouseenter="enter('1714284279325269356');" onmouseout="out('1714284279325269356');" style=""> 119  		int result = 1;                                                                                                 </span>
<span class="-4591635549617072984" onmouseenter="enter('-4591635549617072984');" onmouseout="out('-4591635549617072984');" style=""> 120  		result = prime * result + ((id == null) ? 0 : id.hashCode());                                                   </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 121  		return result;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122  	}                                                                                                                </span>
<span  style=""> 123                                                                                                                    </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style=""> 124  	@SuppressWarnings(&quot;unchecked&quot;)                                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125  	@Override                                                                                                        </span>
<span class="1817265601187663527" onmouseenter="enter('1817265601187663527');" onmouseout="out('1817265601187663527');" style=""> 126  	public boolean equals(Object obj) {                                                                              </span>
<span class="-207028681279161575" onmouseenter="enter('-207028681279161575');" onmouseout="out('-207028681279161575');" style=""> 127  		if (this == obj)                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 128  			return true;                                                                                                   </span>
<span class="7988188165338127957" onmouseenter="enter('7988188165338127957');" onmouseout="out('7988188165338127957');" style=""> 129  		if (obj == null)                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 130  			return false;                                                                                                  </span>
<span class="3260018167635080136" onmouseenter="enter('3260018167635080136');" onmouseout="out('3260018167635080136');" style=""> 131  		if (getClass() != obj.getClass())                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 132  			return false;                                                                                                  </span>
<span class="-5926795451826007803" onmouseenter="enter('-5926795451826007803');" onmouseout="out('-5926795451826007803');" style=""> 133  		Event&lt;C&gt; other = (Event&lt;C&gt;) obj;                                                                                </span>
<span class="1511955789658805798" onmouseenter="enter('1511955789658805798');" onmouseout="out('1511955789658805798');" style=""> 134  		if (id == null) {                                                                                               </span>
<span class="-8749397642442114272" onmouseenter="enter('-8749397642442114272');" onmouseout="out('-8749397642442114272');" style=""> 135  			if (other.id != null)                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 136  				return false;                                                                                                 </span>
<span class="862752928205786787" onmouseenter="enter('862752928205786787');" onmouseout="out('862752928205786787');" style=""> 137  		} else if (!id.equals(other.id))                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 138  			return false;                                                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 139  		return true;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140  	}                                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            