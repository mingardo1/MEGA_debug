<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>78</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    78
                    <a href="77.html">prev</a>
                    <a href="79.html">next</a>
                    <a href="78_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    AriaLyy/Aria_2c75967bfc740973ac4528fbffe7752ada171bdf_app/src/main/java/com/arialyy/simple/upload/UploadActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;2c75967bfc740973ac4528fbffe7752ada171bdf:app/src/main/java/com/arialyy/simple/upload/UploadActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;2c75967bfc740973ac4528fbffe7752ada171bdf^1:app/src/main/java/com/arialyy/simple/upload/UploadActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;2c75967bfc740973ac4528fbffe7752ada171bdf^2:app/src/main/java/com/arialyy/simple/upload/UploadActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;a3cc5e6e4992f0c2b998a53e3e62e2c50960d0fe:app/src/main/java/com/arialyy/simple/upload/UploadActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj], [s], [s]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="1165980081983589836" onmouseenter="enter('1165980081983589836');" onmouseout="out('1165980081983589836');" style="">   1 package com.arialyy.simple.upload;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   3 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">   4 import android.os.Handler;                                                                               </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="">   5 import android.os.Message;                                                                               </span>
<span class="7109950626302402" onmouseenter="enter('7109950626302402');" onmouseout="out('7109950626302402');" style="">   6 import butterknife.Bind;                                                                                 </span>
<span class="6135007357449719543" onmouseenter="enter('6135007357449719543');" onmouseout="out('6135007357449719543');" style="">   7 import butterknife.OnClick;                                                                              </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">   8 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="-6240543289805954743" onmouseenter="enter('-6240543289805954743');" onmouseout="out('-6240543289805954743');" style="">   9 import com.arialyy.aria.core.upload.IUploadListener;                                                     </span>
<span class="-5831681804875068292" onmouseenter="enter('-5831681804875068292');" onmouseout="out('-5831681804875068292');" style="">  10 import com.arialyy.aria.core.upload.UploadEntity;                                                        </span>
<span class="4859020599409075232" onmouseenter="enter('4859020599409075232');" onmouseout="out('4859020599409075232');" style="">  11 import com.arialyy.aria.core.upload.UploadTask;                                                          </span>
<span class="5529108429384186748" onmouseenter="enter('5529108429384186748');" onmouseout="out('5529108429384186748');" style="">  12 import com.arialyy.aria.core.upload.UploadTaskEntity;                                                    </span>
<span class="6548648133926358645" onmouseenter="enter('6548648133926358645');" onmouseout="out('6548648133926358645');" style="">  13 import com.arialyy.aria.core.upload.UploadUtil;                                                          </span>
<span class="1450063737680847767" onmouseenter="enter('1450063737680847767');" onmouseout="out('1450063737680847767');" style="">  14 import com.arialyy.aria.util.MultipartUtility;                                                           </span>
<span class="-6299722885445437835" onmouseenter="enter('-6299722885445437835');" onmouseout="out('-6299722885445437835');" style="">  15 import com.arialyy.frame.util.FileUtil;                                                                  </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  16 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  17 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  18 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  19 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="4580760349479650354" onmouseenter="enter('4580760349479650354');" onmouseout="out('4580760349479650354');" style="">  20 import com.arialyy.simple.databinding.ActivityUploadMeanBinding;                                         </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  21 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  22 import java.io.File;                                                                                     </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  23 import java.io.IOException;                                                                              </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  24 import java.lang.ref.WeakReference;                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  25 import java.util.List;                                                                                   </span>
<span  style="">  26                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  27 /**                                                                                                      </span>
<span class="-6400750417840662839" onmouseenter="enter('-6400750417840662839');" onmouseout="out('-6400750417840662839');" style="">  28  * Created by Aria.Lao on 2017/2/9.                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  29  */                                                                                                      </span>
<span  style="">  30                                                                                                          </span>
<span class="1759354463611801644" onmouseenter="enter('1759354463611801644');" onmouseout="out('1759354463611801644');" style="">  31 public class UploadActivity extends BaseActivity&lt;ActivityUploadMeanBinding&gt; {                            </span>
<span class="-6986899695971754512" onmouseenter="enter('-6986899695971754512');" onmouseout="out('-6986899695971754512');" style="">  32   @Bind(R.id.pb) HorizontalProgressBarWithNumber mPb;                                                    </span>
<span class="8150707016389763498" onmouseenter="enter('8150707016389763498');" onmouseout="out('8150707016389763498');" style="">  33   private static final int START = 0;                                                                    </span>
<span class="960885907975251851" onmouseenter="enter('960885907975251851');" onmouseout="out('960885907975251851');" style="">  34   private static final int STOP = 1;                                                                     </span>
<span class="-7599911288271188481" onmouseenter="enter('-7599911288271188481');" onmouseout="out('-7599911288271188481');" style="">  35   private static final int CANCEL = 2;                                                                   </span>
<span class="133571015588820234" onmouseenter="enter('133571015588820234');" onmouseout="out('133571015588820234');" style="">  36   private static final int RUNNING = 3;                                                                  </span>
<span class="-8484718732840056901" onmouseenter="enter('-8484718732840056901');" onmouseout="out('-8484718732840056901');" style="">  37   private static final int COMPLETE = 4;                                                                 </span>
<span  style="">  38                                                                                                          </span>
<span class="1299301156109758253" onmouseenter="enter('1299301156109758253');" onmouseout="out('1299301156109758253');" style="">  39   private static final String FILE_PATH = &quot;/sdcard/Download/test.zip&quot;;                                   </span>
<span  style="">  40                                                                                                          </span>
<span class="377439294877754235" onmouseenter="enter('377439294877754235');" onmouseout="out('377439294877754235');" style="">  41   private Handler mHandler = new Handler() {                                                             </span>
<span class="-1427939510718485574" onmouseenter="enter('-1427939510718485574');" onmouseout="out('-1427939510718485574');" style="">  42     @Override public void handleMessage(Message msg) {                                                   </span>
<span class="631594066954408669" onmouseenter="enter('631594066954408669');" onmouseout="out('631594066954408669');" style="">  43       super.handleMessage(msg);                                                                          </span>
<span class="-8685502422614048725" onmouseenter="enter('-8685502422614048725');" onmouseout="out('-8685502422614048725');" style="">  44       UploadTask task = (UploadTask) msg.obj;                                                            </span>
<span class="-3954437576728056065" onmouseenter="enter('-3954437576728056065');" onmouseout="out('-3954437576728056065');" style="">  45       switch (msg.what) {                                                                                </span>
<span class="-2079449841199557933" onmouseenter="enter('-2079449841199557933');" onmouseout="out('-2079449841199557933');" style="">  46         case START:                                                                                      </span>
<span class="-4482900866982331532" onmouseenter="enter('-4482900866982331532');" onmouseout="out('-4482900866982331532');" style="">  47           getBinding().setFileSize(FileUtil.formatFileSize(task.getFileSize()));                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  48           break;                                                                                         </span>
<span class="1250822125610289782" onmouseenter="enter('1250822125610289782');" onmouseout="out('1250822125610289782');" style="">  49         case STOP:                                                                                       </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  50           mPb.setProgress(0);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  51           break;                                                                                         </span>
<span class="2194916571338084494" onmouseenter="enter('2194916571338084494');" onmouseout="out('2194916571338084494');" style="">  52         case CANCEL:                                                                                     </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  53           mPb.setProgress(0);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  54           break;                                                                                         </span>
<span class="3901942634001995069" onmouseenter="enter('3901942634001995069');" onmouseout="out('3901942634001995069');" style="">  55         case RUNNING:                                                                                    </span>
<span class="-6706143651508164928" onmouseenter="enter('-6706143651508164928');" onmouseout="out('-6706143651508164928');" style="">  56           int p = (int) (task.getCurrentProgress() * 100 / task.getFileSize());                          </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style="">  57           mPb.setProgress(p);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  58           break;                                                                                         </span>
<span class="-4977730218558906777" onmouseenter="enter('-4977730218558906777');" onmouseout="out('-4977730218558906777');" style="">  59         case COMPLETE:                                                                                   </span>
<span class="7012405467205013257" onmouseenter="enter('7012405467205013257');" onmouseout="out('7012405467205013257');" style="">  60           T.showShort(UploadActivity.this, &quot;上传完成&quot;);                                                      </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style="">  61           mPb.setProgress(100);                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  62           break;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64     }                                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  65   };                                                                                                     </span>
<span  style="">  66                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  67   @Override protected int setLayoutId() {                                                                </span>
<span class="-2303848225771022218" onmouseenter="enter('-2303848225771022218');" onmouseout="out('-2303848225771022218');" style="">  68     return R.layout.activity_upload_mean;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69   }                                                                                                      </span>
<span  style="">  70                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  71   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  72     super.init(savedInstanceState);                                                                      </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="">  73     //test();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74   }                                                                                                      </span>
<span  style="">  75                                                                                                          </span>
<span class="-2074555792338005822" onmouseenter="enter('-2074555792338005822');" onmouseout="out('-2074555792338005822');" style="">  76   private void test() {                                                                                  </span>
<span class="8779772807810225912" onmouseenter="enter('8779772807810225912');" onmouseout="out('8779772807810225912');" style="">  77     //String charset = &quot;UTF-8&quot;;                                                                          </span>
<span class="-3126031170493148713" onmouseenter="enter('-3126031170493148713');" onmouseout="out('-3126031170493148713');" style="">  78     //File uploadFile1 = new File(&quot;/sdcard/Download/test.zip&quot;);                                          </span>
<span class="-8191591959877321161" onmouseenter="enter('-8191591959877321161');" onmouseout="out('-8191591959877321161');" style="">  79     //String requestURL = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                  </span>
<span class="-5753638652535559126" onmouseenter="enter('-5753638652535559126');" onmouseout="out('-5753638652535559126');" style="">  80     ////String requestURL = &quot;http://172.18.104.50:8080/greeting&quot;;                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  81     //                                                                                                   </span>
<span class="-3474683598063362975" onmouseenter="enter('-3474683598063362975');" onmouseout="out('-3474683598063362975');" style="">  82     //try {                                                                                              </span>
<span class="3620639294236533079" onmouseenter="enter('3620639294236533079');" onmouseout="out('3620639294236533079');" style="">  83     //  MultipartUtility multipart = new MultipartUtility(requestURL, charset);                          </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  84     //                                                                                                   </span>
<span class="666089064557513924" onmouseenter="enter('666089064557513924');" onmouseout="out('666089064557513924');" style="">  85     //  //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);                                       </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  86     //                                                                                                   </span>
<span class="-8577942940901467164" onmouseenter="enter('-8577942940901467164');" onmouseout="out('-8577942940901467164');" style="">  87     //  multipart.addFilePart(&quot;file&quot;, uploadFile1);                                                      </span>
<span class="4885572620156153963" onmouseenter="enter('4885572620156153963');" onmouseout="out('4885572620156153963');" style="">  88     //  List&lt;String&gt; response = multipart.finish();                                                      </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  89     //                                                                                                   </span>
<span class="2536517859916181521" onmouseenter="enter('2536517859916181521');" onmouseout="out('2536517859916181521');" style="">  90     //  System.out.println(&quot;SERVER REPLIED:&quot;);                                                           </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  91     //                                                                                                   </span>
<span class="1815605722727270295" onmouseenter="enter('1815605722727270295');" onmouseout="out('1815605722727270295');" style="">  92     //  for (String line : response) {                                                                   </span>
<span class="1278800542127430404" onmouseenter="enter('1278800542127430404');" onmouseout="out('1278800542127430404');" style="">  93     //    System.out.println(line);                                                                      </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="">  94     //  }                                                                                                </span>
<span class="7157684987662485564" onmouseenter="enter('7157684987662485564');" onmouseout="out('7157684987662485564');" style="">  95     //} catch (IOException ex) {                                                                         </span>
<span class="1873259819656547479" onmouseenter="enter('1873259819656547479');" onmouseout="out('1873259819656547479');" style="">  96     //  System.err.println(ex);                                                                          </span>
<span class="-4740675746293055676" onmouseenter="enter('-4740675746293055676');" onmouseout="out('-4740675746293055676');" style="">  97     //}                                                                                                  </span>
<span  style="">  98                                                                                                          </span>
<span class="686907678466743878" onmouseenter="enter('686907678466743878');" onmouseout="out('686907678466743878');" style="">  99     UploadEntity entity = new UploadEntity();                                                            </span>
<span class="5482236628494003920" onmouseenter="enter('5482236628494003920');" onmouseout="out('5482236628494003920');" style=""> 100     entity.setFilePath(&quot;/sdcard/Download/test.zip&quot;);                                                     </span>
<span class="-8327067467432970271" onmouseenter="enter('-8327067467432970271');" onmouseout="out('-8327067467432970271');" style=""> 101     entity.setFileName(&quot;test.pdf&quot;);                                                                      </span>
<span class="-3036676632566633022" onmouseenter="enter('-3036676632566633022');" onmouseout="out('-3036676632566633022');" style=""> 102     UploadTaskEntity taskEntity = new UploadTaskEntity(entity);                                          </span>
<span class="-3100004649258618718" onmouseenter="enter('-3100004649258618718');" onmouseout="out('-3100004649258618718');" style=""> 103     taskEntity.uploadUrl = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                 </span>
<span class="-6585117274061213298" onmouseenter="enter('-6585117274061213298');" onmouseout="out('-6585117274061213298');" style=""> 104     taskEntity.attachment = &quot;file&quot;;                                                                      </span>
<span class="-2443461822555912616" onmouseenter="enter('-2443461822555912616');" onmouseout="out('-2443461822555912616');" style=""> 105     UploadUtil util = new UploadUtil(taskEntity, new IUploadListener() {                                 </span>
<span class="6115905223209353727" onmouseenter="enter('6115905223209353727');" onmouseout="out('6115905223209353727');" style=""> 106       long fileSize = 0;                                                                                 </span>
<span  style=""> 107                                                                                                          </span>
<span class="1941248740392522719" onmouseenter="enter('1941248740392522719');" onmouseout="out('1941248740392522719');" style=""> 108       @Override public void onPre() {                                                                    </span>
<span  style=""> 109                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110       }                                                                                                  </span>
<span  style=""> 111                                                                                                          </span>
<span class="8799274573332509961" onmouseenter="enter('8799274573332509961');" onmouseout="out('8799274573332509961');" style=""> 112       @Override public void onStart(long fileSize) {                                                     </span>
<span class="4432937910811074994" onmouseenter="enter('4432937910811074994');" onmouseout="out('4432937910811074994');" style=""> 113         this.fileSize = fileSize;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114       }                                                                                                  </span>
<span  style=""> 115                                                                                                          </span>
<span class="8211923352965833527" onmouseenter="enter('8211923352965833527');" onmouseout="out('8211923352965833527');" style=""> 116       @Override public void onResume(long resumeLocation) {                                              </span>
<span  style=""> 117                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118       }                                                                                                  </span>
<span  style=""> 119                                                                                                          </span>
<span class="3409726051444324452" onmouseenter="enter('3409726051444324452');" onmouseout="out('3409726051444324452');" style=""> 120       @Override public void onStop(long stopLocation) {                                                  </span>
<span  style=""> 121                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122       }                                                                                                  </span>
<span  style=""> 123                                                                                                          </span>
<span class="-7946972766620409893" onmouseenter="enter('-7946972766620409893');" onmouseout="out('-7946972766620409893');" style=""> 124       @Override public void onProgress(long currentLocation) {                                           </span>
<span class="-8028862600590091569" onmouseenter="enter('-8028862600590091569');" onmouseout="out('-8028862600590091569');" style=""> 125         int p = (int) (currentLocation * 100 / fileSize);                                                </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style=""> 126         mPb.setProgress(p);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127       }                                                                                                  </span>
<span  style=""> 128                                                                                                          </span>
<span class="2093106455269248536" onmouseenter="enter('2093106455269248536');" onmouseout="out('2093106455269248536');" style=""> 129       @Override public void onCancel() {                                                                 </span>
<span  style=""> 130                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131       }                                                                                                  </span>
<span  style=""> 132                                                                                                          </span>
<span class="7400813110786944810" onmouseenter="enter('7400813110786944810');" onmouseout="out('7400813110786944810');" style=""> 133       @Override public void onComplete() {                                                               </span>
<span  style=""> 134                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135       }                                                                                                  </span>
<span  style=""> 136                                                                                                          </span>
<span class="-8845666459040584461" onmouseenter="enter('-8845666459040584461');" onmouseout="out('-8845666459040584461');" style=""> 137       @Override public void onFail() {                                                                   </span>
<span  style=""> 138                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 140     });                                                                                                  </span>
<span class="-8882112697703938113" onmouseenter="enter('-8882112697703938113');" onmouseout="out('-8882112697703938113');" style=""> 141     util.start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142   }                                                                                                      </span>
<span  style=""> 143                                                                                                          </span>
<span class="-5312379140123629361" onmouseenter="enter('-5312379140123629361');" onmouseout="out('-5312379140123629361');" style=""> 144   @OnClick(R.id.upload) void upload() {                                                                  </span>
<span class="-5042376028143834019" onmouseenter="enter('-5042376028143834019');" onmouseout="out('-5042376028143834019');" style=""> 145     Aria.upload(this)                                                                                    </span>
<span class="8982596223542883770" onmouseenter="enter('8982596223542883770');" onmouseout="out('8982596223542883770');" style=""> 146         .load(FILE_PATH)                                                                                 </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 147 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-5232871880780917930" onmouseenter="enter('-5232871880780917930');" onmouseout="out('-5232871880780917930');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 148         .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                      </span>
<span class="8903481036988378304" onmouseenter="enter('8903481036988378304');" onmouseout="out('8903481036988378304');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 149         .setAttachment(&quot;file&quot;)                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 150         .start();                                                                                        </span>
<span class="-3030350759572992352" onmouseenter="enter('-3030350759572992352');" onmouseout="out('-3030350759572992352');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 151     //new Thread(new Runnable() {                                                                        </span>
<span class="-7249871611292886676" onmouseenter="enter('-7249871611292886676');" onmouseout="out('-7249871611292886676');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 152     //  @Override public void run() {                                                                    </span>
<span class="4177102774633893158" onmouseenter="enter('4177102774633893158');" onmouseout="out('4177102774633893158');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 153     //    test();                                                                                        </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 154     //  }                                                                                                </span>
<span class="-1827702804579731095" onmouseenter="enter('-1827702804579731095');" onmouseout="out('-1827702804579731095');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 155     //}).start();                                                                                        </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 156 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="2309488331500718919" onmouseenter="enter('2309488331500718919');" onmouseout="out('2309488331500718919');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 157     //    .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                    </span>
<span class="7198889015055943678" onmouseenter="enter('7198889015055943678');" onmouseout="out('7198889015055943678');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 158     //    .setAttachment(&quot;file&quot;)                                                                         </span>
<span class="-3627872952222328144" onmouseenter="enter('-3627872952222328144');" onmouseout="out('-3627872952222328144');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 159     //    .start();                                                                                      </span>
<span class="2603441234404519220" onmouseenter="enter('2603441234404519220');" onmouseout="out('2603441234404519220');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 160     test();                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 161   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 162                                                                                                          </span>
<span class="8930118628202693545" onmouseenter="enter('8930118628202693545');" onmouseout="out('8930118628202693545');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 163   @OnClick(R.id.stop) void stop() {                                                                      </span>
<span class="1242791639397888662" onmouseenter="enter('1242791639397888662');" onmouseout="out('1242791639397888662');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 164     Aria.upload(this).load(FILE_PATH).stop();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 165   }                                                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 166 =======                                                                                                  </span>
<span class="9092576578908959177" onmouseenter="enter('9092576578908959177');" onmouseout="out('9092576578908959177');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 167         .setUploadUrl(&quot;http://192.168.1.8:8080/upload/sign_file&quot;)                                        </span>
<span class="8903481036988378304" onmouseenter="enter('8903481036988378304');" onmouseout="out('8903481036988378304');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 168         .setAttachment(&quot;file&quot;)                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 169         .start();                                                                                        </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 170     //test();                                                                                            </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 171 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172   }                                                                                                      </span>
<span  style=""> 173                                                                                                          </span>
<span class="8930118628202693545" onmouseenter="enter('8930118628202693545');" onmouseout="out('8930118628202693545');" style=""> 174   @OnClick(R.id.stop) void stop() {                                                                      </span>
<span class="1242791639397888662" onmouseenter="enter('1242791639397888662');" onmouseout="out('1242791639397888662');" style=""> 175     Aria.upload(this).load(FILE_PATH).stop();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176   }                                                                                                      </span>
<span  style=""> 177                                                                                                          </span>
<span class="260615585566683086" onmouseenter="enter('260615585566683086');" onmouseout="out('260615585566683086');" style=""> 178   @OnClick(R.id.remove) void remove() {                                                                  </span>
<span class="-2830735790651133506" onmouseenter="enter('-2830735790651133506');" onmouseout="out('-2830735790651133506');" style=""> 179     Aria.upload(this).load(FILE_PATH).cancel();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180   }                                                                                                      </span>
<span  style=""> 181                                                                                                          </span>
<span class="-1187774082757679628" onmouseenter="enter('-1187774082757679628');" onmouseout="out('-1187774082757679628');" style=""> 182   @Override protected void onResume() {                                                                  </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 183     super.onResume();                                                                                    </span>
<span class="-6595319194202130287" onmouseenter="enter('-6595319194202130287');" onmouseout="out('-6595319194202130287');" style=""> 184     Aria.upload(this).addSchedulerListener(new UploadListener(mHandler));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="4141723889696359450" onmouseenter="enter('4141723889696359450');" onmouseout="out('4141723889696359450');" style=""> 187   static class UploadListener extends Aria.UploadSchedulerListener {                                     </span>
<span class="2483626658442637890" onmouseenter="enter('2483626658442637890');" onmouseout="out('2483626658442637890');" style=""> 188     WeakReference&lt;Handler&gt; handler;                                                                      </span>
<span  style=""> 189                                                                                                          </span>
<span class="2861854476618947158" onmouseenter="enter('2861854476618947158');" onmouseout="out('2861854476618947158');" style=""> 190     UploadListener(Handler handler) {                                                                    </span>
<span class="-7624639772437874752" onmouseenter="enter('-7624639772437874752');" onmouseout="out('-7624639772437874752');" style=""> 191       this.handler = new WeakReference&lt;&gt;(handler);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192     }                                                                                                    </span>
<span  style=""> 193                                                                                                          </span>
<span class="4791925522439678878" onmouseenter="enter('4791925522439678878');" onmouseout="out('4791925522439678878');" style=""> 194     @Override public void onTaskStart(UploadTask task) {                                                 </span>
<span class="8173293288608925557" onmouseenter="enter('8173293288608925557');" onmouseout="out('8173293288608925557');" style=""> 195       super.onTaskStart(task);                                                                           </span>
<span class="-3800574412256066086" onmouseenter="enter('-3800574412256066086');" onmouseout="out('-3800574412256066086');" style=""> 196       handler.get().obtainMessage(START, task).sendToTarget();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="-3263471575780768562" onmouseenter="enter('-3263471575780768562');" onmouseout="out('-3263471575780768562');" style=""> 199     @Override public void onTaskStop(UploadTask task) {                                                  </span>
<span class="-5548218885986446221" onmouseenter="enter('-5548218885986446221');" onmouseout="out('-5548218885986446221');" style=""> 200       super.onTaskStop(task);                                                                            </span>
<span class="-8068203923943640195" onmouseenter="enter('-8068203923943640195');" onmouseout="out('-8068203923943640195');" style=""> 201       handler.get().obtainMessage(STOP, task).sendToTarget();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="8014217063268870089" onmouseenter="enter('8014217063268870089');" onmouseout="out('8014217063268870089');" style=""> 204     @Override public void onTaskCancel(UploadTask task) {                                                </span>
<span class="-2239539261735474201" onmouseenter="enter('-2239539261735474201');" onmouseout="out('-2239539261735474201');" style=""> 205       super.onTaskCancel(task);                                                                          </span>
<span class="-2794495828861238287" onmouseenter="enter('-2794495828861238287');" onmouseout="out('-2794495828861238287');" style=""> 206       handler.get().obtainMessage(CANCEL, task).sendToTarget();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207     }                                                                                                    </span>
<span  style=""> 208                                                                                                          </span>
<span class="455171565213774152" onmouseenter="enter('455171565213774152');" onmouseout="out('455171565213774152');" style=""> 209     @Override public void onTaskRunning(UploadTask task) {                                               </span>
<span class="-7834049365724406116" onmouseenter="enter('-7834049365724406116');" onmouseout="out('-7834049365724406116');" style=""> 210       super.onTaskRunning(task);                                                                         </span>
<span class="890548424724611854" onmouseenter="enter('890548424724611854');" onmouseout="out('890548424724611854');" style=""> 211       handler.get().obtainMessage(RUNNING, task).sendToTarget();                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="-530629509472029712" onmouseenter="enter('-530629509472029712');" onmouseout="out('-530629509472029712');" style=""> 214     @Override public void onTaskComplete(UploadTask task) {                                              </span>
<span class="-1414495127344671470" onmouseenter="enter('-1414495127344671470');" onmouseout="out('-1414495127344671470');" style=""> 215       super.onTaskComplete(task);                                                                        </span>
<span class="-2122282334575526078" onmouseenter="enter('-2122282334575526078');" onmouseout="out('-2122282334575526078');" style=""> 216       handler.get().obtainMessage(COMPLETE, task).sendToTarget();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219 }                                                                                                        </span>







</pre></td>
                            <td><pre><span class="1165980081983589836" onmouseenter="enter('1165980081983589836');" onmouseout="out('1165980081983589836');" style="">   1 package com.arialyy.simple.upload;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   3 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">   4 import android.os.Handler;                                                                               </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="">   5 import android.os.Message;                                                                               </span>
<span class="7109950626302402" onmouseenter="enter('7109950626302402');" onmouseout="out('7109950626302402');" style="">   6 import butterknife.Bind;                                                                                 </span>
<span class="6135007357449719543" onmouseenter="enter('6135007357449719543');" onmouseout="out('6135007357449719543');" style="">   7 import butterknife.OnClick;                                                                              </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">   8 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="-6240543289805954743" onmouseenter="enter('-6240543289805954743');" onmouseout="out('-6240543289805954743');" style="">   9 import com.arialyy.aria.core.upload.IUploadListener;                                                     </span>
<span class="-5831681804875068292" onmouseenter="enter('-5831681804875068292');" onmouseout="out('-5831681804875068292');" style="">  10 import com.arialyy.aria.core.upload.UploadEntity;                                                        </span>
<span class="4859020599409075232" onmouseenter="enter('4859020599409075232');" onmouseout="out('4859020599409075232');" style="">  11 import com.arialyy.aria.core.upload.UploadTask;                                                          </span>
<span class="5529108429384186748" onmouseenter="enter('5529108429384186748');" onmouseout="out('5529108429384186748');" style="">  12 import com.arialyy.aria.core.upload.UploadTaskEntity;                                                    </span>
<span class="6548648133926358645" onmouseenter="enter('6548648133926358645');" onmouseout="out('6548648133926358645');" style="">  13 import com.arialyy.aria.core.upload.UploadUtil;                                                          </span>
<span class="1450063737680847767" onmouseenter="enter('1450063737680847767');" onmouseout="out('1450063737680847767');" style="">  14 import com.arialyy.aria.util.MultipartUtility;                                                           </span>
<span class="-6299722885445437835" onmouseenter="enter('-6299722885445437835');" onmouseout="out('-6299722885445437835');" style="">  15 import com.arialyy.frame.util.FileUtil;                                                                  </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  16 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  17 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  18 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  19 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="4580760349479650354" onmouseenter="enter('4580760349479650354');" onmouseout="out('4580760349479650354');" style="">  20 import com.arialyy.simple.databinding.ActivityUploadMeanBinding;                                         </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  21 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  22 import java.io.File;                                                                                     </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  23 import java.io.IOException;                                                                              </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  24 import java.lang.ref.WeakReference;                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  25 import java.util.List;                                                                                   </span>
<span  style="">  26                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  27 /**                                                                                                      </span>
<span class="-6400750417840662839" onmouseenter="enter('-6400750417840662839');" onmouseout="out('-6400750417840662839');" style="">  28  * Created by Aria.Lao on 2017/2/9.                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  29  */                                                                                                      </span>
<span  style="">  30                                                                                                          </span>
<span class="1759354463611801644" onmouseenter="enter('1759354463611801644');" onmouseout="out('1759354463611801644');" style="">  31 public class UploadActivity extends BaseActivity&lt;ActivityUploadMeanBinding&gt; {                            </span>
<span class="-6986899695971754512" onmouseenter="enter('-6986899695971754512');" onmouseout="out('-6986899695971754512');" style="">  32   @Bind(R.id.pb) HorizontalProgressBarWithNumber mPb;                                                    </span>
<span class="8150707016389763498" onmouseenter="enter('8150707016389763498');" onmouseout="out('8150707016389763498');" style="">  33   private static final int START = 0;                                                                    </span>
<span class="960885907975251851" onmouseenter="enter('960885907975251851');" onmouseout="out('960885907975251851');" style="">  34   private static final int STOP = 1;                                                                     </span>
<span class="-7599911288271188481" onmouseenter="enter('-7599911288271188481');" onmouseout="out('-7599911288271188481');" style="">  35   private static final int CANCEL = 2;                                                                   </span>
<span class="133571015588820234" onmouseenter="enter('133571015588820234');" onmouseout="out('133571015588820234');" style="">  36   private static final int RUNNING = 3;                                                                  </span>
<span class="-8484718732840056901" onmouseenter="enter('-8484718732840056901');" onmouseout="out('-8484718732840056901');" style="">  37   private static final int COMPLETE = 4;                                                                 </span>
<span  style="">  38                                                                                                          </span>
<span class="1299301156109758253" onmouseenter="enter('1299301156109758253');" onmouseout="out('1299301156109758253');" style="">  39   private static final String FILE_PATH = &quot;/sdcard/Download/test.zip&quot;;                                   </span>
<span  style="">  40                                                                                                          </span>
<span class="377439294877754235" onmouseenter="enter('377439294877754235');" onmouseout="out('377439294877754235');" style="">  41   private Handler mHandler = new Handler() {                                                             </span>
<span class="-1427939510718485574" onmouseenter="enter('-1427939510718485574');" onmouseout="out('-1427939510718485574');" style="">  42     @Override public void handleMessage(Message msg) {                                                   </span>
<span class="631594066954408669" onmouseenter="enter('631594066954408669');" onmouseout="out('631594066954408669');" style="">  43       super.handleMessage(msg);                                                                          </span>
<span class="-8685502422614048725" onmouseenter="enter('-8685502422614048725');" onmouseout="out('-8685502422614048725');" style="">  44       UploadTask task = (UploadTask) msg.obj;                                                            </span>
<span class="-3954437576728056065" onmouseenter="enter('-3954437576728056065');" onmouseout="out('-3954437576728056065');" style="">  45       switch (msg.what) {                                                                                </span>
<span class="-2079449841199557933" onmouseenter="enter('-2079449841199557933');" onmouseout="out('-2079449841199557933');" style="">  46         case START:                                                                                      </span>
<span class="-4482900866982331532" onmouseenter="enter('-4482900866982331532');" onmouseout="out('-4482900866982331532');" style="">  47           getBinding().setFileSize(FileUtil.formatFileSize(task.getFileSize()));                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  48           break;                                                                                         </span>
<span class="1250822125610289782" onmouseenter="enter('1250822125610289782');" onmouseout="out('1250822125610289782');" style="">  49         case STOP:                                                                                       </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  50           mPb.setProgress(0);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  51           break;                                                                                         </span>
<span class="2194916571338084494" onmouseenter="enter('2194916571338084494');" onmouseout="out('2194916571338084494');" style="">  52         case CANCEL:                                                                                     </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  53           mPb.setProgress(0);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  54           break;                                                                                         </span>
<span class="3901942634001995069" onmouseenter="enter('3901942634001995069');" onmouseout="out('3901942634001995069');" style="">  55         case RUNNING:                                                                                    </span>
<span class="-6706143651508164928" onmouseenter="enter('-6706143651508164928');" onmouseout="out('-6706143651508164928');" style="">  56           int p = (int) (task.getCurrentProgress() * 100 / task.getFileSize());                          </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style="">  57           mPb.setProgress(p);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  58           break;                                                                                         </span>
<span class="-4977730218558906777" onmouseenter="enter('-4977730218558906777');" onmouseout="out('-4977730218558906777');" style="">  59         case COMPLETE:                                                                                   </span>
<span class="7012405467205013257" onmouseenter="enter('7012405467205013257');" onmouseout="out('7012405467205013257');" style="">  60           T.showShort(UploadActivity.this, &quot;上传完成&quot;);                                                      </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style="">  61           mPb.setProgress(100);                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  62           break;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64     }                                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  65   };                                                                                                     </span>
<span  style="">  66                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  67   @Override protected int setLayoutId() {                                                                </span>
<span class="-2303848225771022218" onmouseenter="enter('-2303848225771022218');" onmouseout="out('-2303848225771022218');" style="">  68     return R.layout.activity_upload_mean;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69   }                                                                                                      </span>
<span  style="">  70                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  71   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  72     super.init(savedInstanceState);                                                                      </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="">  73     //test();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74   }                                                                                                      </span>
<span  style="">  75                                                                                                          </span>
<span class="1228837497786754837" onmouseenter="enter('1228837497786754837');" onmouseout="out('1228837497786754837');" style="">  76   private void test(){                                                                                   </span>
<span class="8779772807810225912" onmouseenter="enter('8779772807810225912');" onmouseout="out('8779772807810225912');" style="">  77     //String charset = &quot;UTF-8&quot;;                                                                          </span>
<span class="-3126031170493148713" onmouseenter="enter('-3126031170493148713');" onmouseout="out('-3126031170493148713');" style="">  78     //File uploadFile1 = new File(&quot;/sdcard/Download/test.zip&quot;);                                          </span>
<span class="-8191591959877321161" onmouseenter="enter('-8191591959877321161');" onmouseout="out('-8191591959877321161');" style="">  79     //String requestURL = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                  </span>
<span class="-5753638652535559126" onmouseenter="enter('-5753638652535559126');" onmouseout="out('-5753638652535559126');" style="">  80     ////String requestURL = &quot;http://172.18.104.50:8080/greeting&quot;;                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  81     //                                                                                                   </span>
<span class="-3474683598063362975" onmouseenter="enter('-3474683598063362975');" onmouseout="out('-3474683598063362975');" style="">  82     //try {                                                                                              </span>
<span class="3620639294236533079" onmouseenter="enter('3620639294236533079');" onmouseout="out('3620639294236533079');" style="">  83     //  MultipartUtility multipart = new MultipartUtility(requestURL, charset);                          </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  84     //                                                                                                   </span>
<span class="666089064557513924" onmouseenter="enter('666089064557513924');" onmouseout="out('666089064557513924');" style="">  85     //  //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);                                       </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  86     //                                                                                                   </span>
<span class="-8577942940901467164" onmouseenter="enter('-8577942940901467164');" onmouseout="out('-8577942940901467164');" style="">  87     //  multipart.addFilePart(&quot;file&quot;, uploadFile1);                                                      </span>
<span class="4885572620156153963" onmouseenter="enter('4885572620156153963');" onmouseout="out('4885572620156153963');" style="">  88     //  List&lt;String&gt; response = multipart.finish();                                                      </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  89     //                                                                                                   </span>
<span class="2536517859916181521" onmouseenter="enter('2536517859916181521');" onmouseout="out('2536517859916181521');" style="">  90     //  System.out.println(&quot;SERVER REPLIED:&quot;);                                                           </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  91     //                                                                                                   </span>
<span class="1815605722727270295" onmouseenter="enter('1815605722727270295');" onmouseout="out('1815605722727270295');" style="">  92     //  for (String line : response) {                                                                   </span>
<span class="1278800542127430404" onmouseenter="enter('1278800542127430404');" onmouseout="out('1278800542127430404');" style="">  93     //    System.out.println(line);                                                                      </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="">  94     //  }                                                                                                </span>
<span class="7157684987662485564" onmouseenter="enter('7157684987662485564');" onmouseout="out('7157684987662485564');" style="">  95     //} catch (IOException ex) {                                                                         </span>
<span class="1873259819656547479" onmouseenter="enter('1873259819656547479');" onmouseout="out('1873259819656547479');" style="">  96     //  System.err.println(ex);                                                                          </span>
<span class="-4740675746293055676" onmouseenter="enter('-4740675746293055676');" onmouseout="out('-4740675746293055676');" style="">  97     //}                                                                                                  </span>
<span  style="">  98                                                                                                          </span>
<span class="686907678466743878" onmouseenter="enter('686907678466743878');" onmouseout="out('686907678466743878');" style="">  99     UploadEntity entity = new UploadEntity();                                                            </span>
<span class="5482236628494003920" onmouseenter="enter('5482236628494003920');" onmouseout="out('5482236628494003920');" style=""> 100     entity.setFilePath(&quot;/sdcard/Download/test.zip&quot;);                                                     </span>
<span class="-8327067467432970271" onmouseenter="enter('-8327067467432970271');" onmouseout="out('-8327067467432970271');" style=""> 101     entity.setFileName(&quot;test.pdf&quot;);                                                                      </span>
<span class="-3036676632566633022" onmouseenter="enter('-3036676632566633022');" onmouseout="out('-3036676632566633022');" style=""> 102     UploadTaskEntity taskEntity = new UploadTaskEntity(entity);                                          </span>
<span class="-3100004649258618718" onmouseenter="enter('-3100004649258618718');" onmouseout="out('-3100004649258618718');" style=""> 103     taskEntity.uploadUrl = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                 </span>
<span class="-6585117274061213298" onmouseenter="enter('-6585117274061213298');" onmouseout="out('-6585117274061213298');" style=""> 104     taskEntity.attachment = &quot;file&quot;;                                                                      </span>
<span class="-2443461822555912616" onmouseenter="enter('-2443461822555912616');" onmouseout="out('-2443461822555912616');" style=""> 105     UploadUtil util = new UploadUtil(taskEntity, new IUploadListener() {                                 </span>
<span class="6115905223209353727" onmouseenter="enter('6115905223209353727');" onmouseout="out('6115905223209353727');" style=""> 106       long fileSize = 0;                                                                                 </span>
<span  style=""> 107                                                                                                          </span>
<span class="1941248740392522719" onmouseenter="enter('1941248740392522719');" onmouseout="out('1941248740392522719');" style=""> 108       @Override public void onPre() {                                                                    </span>
<span  style=""> 109                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110     }                                                                                                    </span>
<span  style=""> 111                                                                                                          </span>
<span class="8799274573332509961" onmouseenter="enter('8799274573332509961');" onmouseout="out('8799274573332509961');" style=""> 112       @Override public void onStart(long fileSize) {                                                     </span>
<span class="4432937910811074994" onmouseenter="enter('4432937910811074994');" onmouseout="out('4432937910811074994');" style=""> 113         this.fileSize = fileSize;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114       }                                                                                                  </span>
<span  style=""> 115                                                                                                          </span>
<span class="8211923352965833527" onmouseenter="enter('8211923352965833527');" onmouseout="out('8211923352965833527');" style=""> 116       @Override public void onResume(long resumeLocation) {                                              </span>
<span  style=""> 117                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118       }                                                                                                  </span>
<span  style=""> 119                                                                                                          </span>
<span class="3409726051444324452" onmouseenter="enter('3409726051444324452');" onmouseout="out('3409726051444324452');" style=""> 120       @Override public void onStop(long stopLocation) {                                                  </span>
<span  style=""> 121                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122       }                                                                                                  </span>
<span  style=""> 123                                                                                                          </span>
<span class="-7946972766620409893" onmouseenter="enter('-7946972766620409893');" onmouseout="out('-7946972766620409893');" style=""> 124       @Override public void onProgress(long currentLocation) {                                           </span>
<span class="-8028862600590091569" onmouseenter="enter('-8028862600590091569');" onmouseout="out('-8028862600590091569');" style=""> 125         int p = (int) (currentLocation * 100 / fileSize);                                                </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style=""> 126         mPb.setProgress(p);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127       }                                                                                                  </span>
<span  style=""> 128                                                                                                          </span>
<span class="2093106455269248536" onmouseenter="enter('2093106455269248536');" onmouseout="out('2093106455269248536');" style=""> 129       @Override public void onCancel() {                                                                 </span>
<span  style=""> 130                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131       }                                                                                                  </span>
<span  style=""> 132                                                                                                          </span>
<span class="7400813110786944810" onmouseenter="enter('7400813110786944810');" onmouseout="out('7400813110786944810');" style=""> 133       @Override public void onComplete() {                                                               </span>
<span  style=""> 134                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135       }                                                                                                  </span>
<span  style=""> 136                                                                                                          </span>
<span class="-8845666459040584461" onmouseenter="enter('-8845666459040584461');" onmouseout="out('-8845666459040584461');" style=""> 137       @Override public void onFail() {                                                                   </span>
<span  style=""> 138                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 140     });                                                                                                  </span>
<span class="-8882112697703938113" onmouseenter="enter('-8882112697703938113');" onmouseout="out('-8882112697703938113');" style=""> 141     util.start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142   }                                                                                                      </span>
<span  style=""> 143                                                                                                          </span>
<span class="-5312379140123629361" onmouseenter="enter('-5312379140123629361');" onmouseout="out('-5312379140123629361');" style=""> 144   @OnClick(R.id.upload) void upload() {                                                                  </span>
<span class="-5042376028143834019" onmouseenter="enter('-5042376028143834019');" onmouseout="out('-5042376028143834019');" style=""> 145     Aria.upload(this)                                                                                    </span>
<span class="8982596223542883770" onmouseenter="enter('8982596223542883770');" onmouseout="out('8982596223542883770');" style=""> 146         .load(FILE_PATH)                                                                                 </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 147 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-5232871880780917930" onmouseenter="enter('-5232871880780917930');" onmouseout="out('-5232871880780917930');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 148         .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                      </span>
<span class="8903481036988378304" onmouseenter="enter('8903481036988378304');" onmouseout="out('8903481036988378304');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 149         .setAttachment(&quot;file&quot;)                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 150         .start();                                                                                        </span>
<span class="-3030350759572992352" onmouseenter="enter('-3030350759572992352');" onmouseout="out('-3030350759572992352');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 151     //new Thread(new Runnable() {                                                                        </span>
<span class="-7249871611292886676" onmouseenter="enter('-7249871611292886676');" onmouseout="out('-7249871611292886676');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 152     //  @Override public void run() {                                                                    </span>
<span class="4177102774633893158" onmouseenter="enter('4177102774633893158');" onmouseout="out('4177102774633893158');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 153     //    test();                                                                                        </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 154     //  }                                                                                                </span>
<span class="-1827702804579731095" onmouseenter="enter('-1827702804579731095');" onmouseout="out('-1827702804579731095');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 155     //}).start();                                                                                        </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 156 ||||||| BASE                                                                                             </span>
<span class="2309488331500718919" onmouseenter="enter('2309488331500718919');" onmouseout="out('2309488331500718919');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 157     //    .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                    </span>
<span class="7198889015055943678" onmouseenter="enter('7198889015055943678');" onmouseout="out('7198889015055943678');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 158     //    .setAttachment(&quot;file&quot;)                                                                         </span>
<span class="-3627872952222328144" onmouseenter="enter('-3627872952222328144');" onmouseout="out('-3627872952222328144');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 159     //    .start();                                                                                      </span>
<span class="2603441234404519220" onmouseenter="enter('2603441234404519220');" onmouseout="out('2603441234404519220');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 160     test();                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 161   }                                                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 162 =======                                                                                                  </span>
<span class="9092576578908959177" onmouseenter="enter('9092576578908959177');" onmouseout="out('9092576578908959177');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 163         .setUploadUrl(&quot;http://192.168.1.8:8080/upload/sign_file&quot;)                                        </span>
<span class="8903481036988378304" onmouseenter="enter('8903481036988378304');" onmouseout="out('8903481036988378304');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 164         .setAttachment(&quot;file&quot;)                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 165         .start();                                                                                        </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 166     //test();                                                                                            </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 167 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168   }                                                                                                      </span>
<span  style=""> 169                                                                                                          </span>
<span class="8930118628202693545" onmouseenter="enter('8930118628202693545');" onmouseout="out('8930118628202693545');" style=""> 170   @OnClick(R.id.stop) void stop() {                                                                      </span>
<span class="1242791639397888662" onmouseenter="enter('1242791639397888662');" onmouseout="out('1242791639397888662');" style=""> 171     Aria.upload(this).load(FILE_PATH).stop();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172   }                                                                                                      </span>
<span  style=""> 173                                                                                                          </span>
<span class="260615585566683086" onmouseenter="enter('260615585566683086');" onmouseout="out('260615585566683086');" style=""> 174   @OnClick(R.id.remove) void remove() {                                                                  </span>
<span class="-2830735790651133506" onmouseenter="enter('-2830735790651133506');" onmouseout="out('-2830735790651133506');" style=""> 175     Aria.upload(this).load(FILE_PATH).cancel();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176   }                                                                                                      </span>
<span  style=""> 177                                                                                                          </span>
<span class="-1187774082757679628" onmouseenter="enter('-1187774082757679628');" onmouseout="out('-1187774082757679628');" style=""> 178   @Override protected void onResume() {                                                                  </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 179     super.onResume();                                                                                    </span>
<span class="-6595319194202130287" onmouseenter="enter('-6595319194202130287');" onmouseout="out('-6595319194202130287');" style=""> 180     Aria.upload(this).addSchedulerListener(new UploadListener(mHandler));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181   }                                                                                                      </span>
<span  style=""> 182                                                                                                          </span>
<span class="4141723889696359450" onmouseenter="enter('4141723889696359450');" onmouseout="out('4141723889696359450');" style=""> 183   static class UploadListener extends Aria.UploadSchedulerListener {                                     </span>
<span class="2483626658442637890" onmouseenter="enter('2483626658442637890');" onmouseout="out('2483626658442637890');" style=""> 184     WeakReference&lt;Handler&gt; handler;                                                                      </span>
<span  style=""> 185                                                                                                          </span>
<span class="2861854476618947158" onmouseenter="enter('2861854476618947158');" onmouseout="out('2861854476618947158');" style=""> 186     UploadListener(Handler handler) {                                                                    </span>
<span class="-7624639772437874752" onmouseenter="enter('-7624639772437874752');" onmouseout="out('-7624639772437874752');" style=""> 187       this.handler = new WeakReference&lt;&gt;(handler);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188     }                                                                                                    </span>
<span  style=""> 189                                                                                                          </span>
<span class="4791925522439678878" onmouseenter="enter('4791925522439678878');" onmouseout="out('4791925522439678878');" style=""> 190     @Override public void onTaskStart(UploadTask task) {                                                 </span>
<span class="8173293288608925557" onmouseenter="enter('8173293288608925557');" onmouseout="out('8173293288608925557');" style=""> 191       super.onTaskStart(task);                                                                           </span>
<span class="-3800574412256066086" onmouseenter="enter('-3800574412256066086');" onmouseout="out('-3800574412256066086');" style=""> 192       handler.get().obtainMessage(START, task).sendToTarget();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="-3263471575780768562" onmouseenter="enter('-3263471575780768562');" onmouseout="out('-3263471575780768562');" style=""> 195     @Override public void onTaskStop(UploadTask task) {                                                  </span>
<span class="-5548218885986446221" onmouseenter="enter('-5548218885986446221');" onmouseout="out('-5548218885986446221');" style=""> 196       super.onTaskStop(task);                                                                            </span>
<span class="-8068203923943640195" onmouseenter="enter('-8068203923943640195');" onmouseout="out('-8068203923943640195');" style=""> 197       handler.get().obtainMessage(STOP, task).sendToTarget();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="8014217063268870089" onmouseenter="enter('8014217063268870089');" onmouseout="out('8014217063268870089');" style=""> 200     @Override public void onTaskCancel(UploadTask task) {                                                </span>
<span class="-2239539261735474201" onmouseenter="enter('-2239539261735474201');" onmouseout="out('-2239539261735474201');" style=""> 201       super.onTaskCancel(task);                                                                          </span>
<span class="-2794495828861238287" onmouseenter="enter('-2794495828861238287');" onmouseout="out('-2794495828861238287');" style=""> 202       handler.get().obtainMessage(CANCEL, task).sendToTarget();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203     }                                                                                                    </span>
<span  style=""> 204                                                                                                          </span>
<span class="455171565213774152" onmouseenter="enter('455171565213774152');" onmouseout="out('455171565213774152');" style=""> 205     @Override public void onTaskRunning(UploadTask task) {                                               </span>
<span class="-7834049365724406116" onmouseenter="enter('-7834049365724406116');" onmouseout="out('-7834049365724406116');" style=""> 206       super.onTaskRunning(task);                                                                         </span>
<span class="890548424724611854" onmouseenter="enter('890548424724611854');" onmouseout="out('890548424724611854');" style=""> 207       handler.get().obtainMessage(RUNNING, task).sendToTarget();                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="-530629509472029712" onmouseenter="enter('-530629509472029712');" onmouseout="out('-530629509472029712');" style=""> 210     @Override public void onTaskComplete(UploadTask task) {                                              </span>
<span class="-1414495127344671470" onmouseenter="enter('-1414495127344671470');" onmouseout="out('-1414495127344671470');" style=""> 211       super.onTaskComplete(task);                                                                        </span>
<span class="-2122282334575526078" onmouseenter="enter('-2122282334575526078');" onmouseout="out('-2122282334575526078');" style=""> 212       handler.get().obtainMessage(COMPLETE, task).sendToTarget();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215 }                                                                                                        </span>











</pre></td>
                            <td><pre><span class="1165980081983589836" onmouseenter="enter('1165980081983589836');" onmouseout="out('1165980081983589836');" style="">   1 package com.arialyy.simple.upload;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   3 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">   4 import android.os.Handler;                                                                               </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="">   5 import android.os.Message;                                                                               </span>
<span class="7109950626302402" onmouseenter="enter('7109950626302402');" onmouseout="out('7109950626302402');" style="">   6 import butterknife.Bind;                                                                                 </span>
<span class="6135007357449719543" onmouseenter="enter('6135007357449719543');" onmouseout="out('6135007357449719543');" style="">   7 import butterknife.OnClick;                                                                              </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">   8 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="-6240543289805954743" onmouseenter="enter('-6240543289805954743');" onmouseout="out('-6240543289805954743');" style="">   9 import com.arialyy.aria.core.upload.IUploadListener;                                                     </span>
<span class="-5831681804875068292" onmouseenter="enter('-5831681804875068292');" onmouseout="out('-5831681804875068292');" style="">  10 import com.arialyy.aria.core.upload.UploadEntity;                                                        </span>
<span class="4859020599409075232" onmouseenter="enter('4859020599409075232');" onmouseout="out('4859020599409075232');" style="">  11 import com.arialyy.aria.core.upload.UploadTask;                                                          </span>
<span class="5529108429384186748" onmouseenter="enter('5529108429384186748');" onmouseout="out('5529108429384186748');" style="">  12 import com.arialyy.aria.core.upload.UploadTaskEntity;                                                    </span>
<span class="6548648133926358645" onmouseenter="enter('6548648133926358645');" onmouseout="out('6548648133926358645');" style="">  13 import com.arialyy.aria.core.upload.UploadUtil;                                                          </span>
<span class="1450063737680847767" onmouseenter="enter('1450063737680847767');" onmouseout="out('1450063737680847767');" style="">  14 import com.arialyy.aria.util.MultipartUtility;                                                           </span>
<span class="-6299722885445437835" onmouseenter="enter('-6299722885445437835');" onmouseout="out('-6299722885445437835');" style="">  15 import com.arialyy.frame.util.FileUtil;                                                                  </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  16 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  17 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  18 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  19 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="4580760349479650354" onmouseenter="enter('4580760349479650354');" onmouseout="out('4580760349479650354');" style="">  20 import com.arialyy.simple.databinding.ActivityUploadMeanBinding;                                         </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  21 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  22 import java.io.File;                                                                                     </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  23 import java.io.IOException;                                                                              </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  24 import java.lang.ref.WeakReference;                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  25 import java.util.List;                                                                                   </span>
<span  style="">  26                                                                                                          </span>
<span  style="">  27                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  28 /**                                                                                                      </span>
<span class="-6400750417840662839" onmouseenter="enter('-6400750417840662839');" onmouseout="out('-6400750417840662839');" style="">  29  * Created by Aria.Lao on 2017/2/9.                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  30  */                                                                                                      </span>
<span class="1759354463611801644" onmouseenter="enter('1759354463611801644');" onmouseout="out('1759354463611801644');" style="">  31 public class UploadActivity extends BaseActivity&lt;ActivityUploadMeanBinding&gt; {                            </span>
<span class="-6986899695971754512" onmouseenter="enter('-6986899695971754512');" onmouseout="out('-6986899695971754512');" style="">  32   @Bind(R.id.pb) HorizontalProgressBarWithNumber mPb;                                                    </span>
<span  style="">  33                                                                                                          </span>
<span class="8150707016389763498" onmouseenter="enter('8150707016389763498');" onmouseout="out('8150707016389763498');" style="">  34   private static final int START = 0;                                                                    </span>
<span  style="">  35                                                                                                          </span>
<span class="960885907975251851" onmouseenter="enter('960885907975251851');" onmouseout="out('960885907975251851');" style="">  36   private static final int STOP = 1;                                                                     </span>
<span  style="">  37                                                                                                          </span>
<span class="-7599911288271188481" onmouseenter="enter('-7599911288271188481');" onmouseout="out('-7599911288271188481');" style="">  38   private static final int CANCEL = 2;                                                                   </span>
<span  style="">  39                                                                                                          </span>
<span class="133571015588820234" onmouseenter="enter('133571015588820234');" onmouseout="out('133571015588820234');" style="">  40   private static final int RUNNING = 3;                                                                  </span>
<span  style="">  41                                                                                                          </span>
<span class="-8484718732840056901" onmouseenter="enter('-8484718732840056901');" onmouseout="out('-8484718732840056901');" style="">  42   private static final int COMPLETE = 4;                                                                 </span>
<span  style="">  43                                                                                                          </span>
<span class="1299301156109758253" onmouseenter="enter('1299301156109758253');" onmouseout="out('1299301156109758253');" style="">  44   private static final String FILE_PATH = &quot;/sdcard/Download/test.zip&quot;;                                   </span>
<span  style="">  45                                                                                                          </span>
<span class="377439294877754235" onmouseenter="enter('377439294877754235');" onmouseout="out('377439294877754235');" style="">  46   private Handler mHandler = new Handler() {                                                             </span>
<span class="-1427939510718485574" onmouseenter="enter('-1427939510718485574');" onmouseout="out('-1427939510718485574');" style="">  47     @Override public void handleMessage(Message msg) {                                                   </span>
<span class="631594066954408669" onmouseenter="enter('631594066954408669');" onmouseout="out('631594066954408669');" style="">  48       super.handleMessage(msg);                                                                          </span>
<span class="-8685502422614048725" onmouseenter="enter('-8685502422614048725');" onmouseout="out('-8685502422614048725');" style="">  49       UploadTask task = (UploadTask) msg.obj;                                                            </span>
<span class="-3954437576728056065" onmouseenter="enter('-3954437576728056065');" onmouseout="out('-3954437576728056065');" style="">  50       switch (msg.what) {                                                                                </span>
<span class="-2079449841199557933" onmouseenter="enter('-2079449841199557933');" onmouseout="out('-2079449841199557933');" style="">  51         case START:                                                                                      </span>
<span class="-4482900866982331532" onmouseenter="enter('-4482900866982331532');" onmouseout="out('-4482900866982331532');" style="">  52           getBinding().setFileSize(FileUtil.formatFileSize(task.getFileSize()));                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  53           break;                                                                                         </span>
<span class="1250822125610289782" onmouseenter="enter('1250822125610289782');" onmouseout="out('1250822125610289782');" style="">  54         case STOP:                                                                                       </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  55           mPb.setProgress(0);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  56           break;                                                                                         </span>
<span class="2194916571338084494" onmouseenter="enter('2194916571338084494');" onmouseout="out('2194916571338084494');" style="">  57         case CANCEL:                                                                                     </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  58           mPb.setProgress(0);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  59           break;                                                                                         </span>
<span class="3901942634001995069" onmouseenter="enter('3901942634001995069');" onmouseout="out('3901942634001995069');" style="">  60         case RUNNING:                                                                                    </span>
<span class="-6706143651508164928" onmouseenter="enter('-6706143651508164928');" onmouseout="out('-6706143651508164928');" style="">  61           int p = (int) (task.getCurrentProgress() * 100 / task.getFileSize());                          </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style="">  62           mPb.setProgress(p);                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  63           break;                                                                                         </span>
<span class="-4977730218558906777" onmouseenter="enter('-4977730218558906777');" onmouseout="out('-4977730218558906777');" style="">  64         case COMPLETE:                                                                                   </span>
<span class="7012405467205013257" onmouseenter="enter('7012405467205013257');" onmouseout="out('7012405467205013257');" style="">  65           T.showShort(UploadActivity.this, &quot;上传完成&quot;);                                                      </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style="">  66           mPb.setProgress(100);                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  67           break;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69     }                                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  70   };                                                                                                     </span>
<span  style="">  71                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  72   @Override protected int setLayoutId() {                                                                </span>
<span class="-2303848225771022218" onmouseenter="enter('-2303848225771022218');" onmouseout="out('-2303848225771022218');" style="">  73     return R.layout.activity_upload_mean;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74   }                                                                                                      </span>
<span  style="">  75                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  76   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  77     super.init(savedInstanceState);                                                                      </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="">  78     //test();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79   }                                                                                                      </span>
<span  style="">  80                                                                                                          </span>
<span class="-2074555792338005822" onmouseenter="enter('-2074555792338005822');" onmouseout="out('-2074555792338005822');" style="">  81   private void test() {                                                                                  </span>
<span class="8779772807810225912" onmouseenter="enter('8779772807810225912');" onmouseout="out('8779772807810225912');" style="">  82     //String charset = &quot;UTF-8&quot;;                                                                          </span>
<span class="-3126031170493148713" onmouseenter="enter('-3126031170493148713');" onmouseout="out('-3126031170493148713');" style="">  83     //File uploadFile1 = new File(&quot;/sdcard/Download/test.zip&quot;);                                          </span>
<span class="-8191591959877321161" onmouseenter="enter('-8191591959877321161');" onmouseout="out('-8191591959877321161');" style="">  84     //String requestURL = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                  </span>
<span class="-5753638652535559126" onmouseenter="enter('-5753638652535559126');" onmouseout="out('-5753638652535559126');" style="">  85     ////String requestURL = &quot;http://172.18.104.50:8080/greeting&quot;;                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  86     //                                                                                                   </span>
<span class="-3474683598063362975" onmouseenter="enter('-3474683598063362975');" onmouseout="out('-3474683598063362975');" style="">  87     //try {                                                                                              </span>
<span class="3620639294236533079" onmouseenter="enter('3620639294236533079');" onmouseout="out('3620639294236533079');" style="">  88     //  MultipartUtility multipart = new MultipartUtility(requestURL, charset);                          </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  89     //                                                                                                   </span>
<span class="666089064557513924" onmouseenter="enter('666089064557513924');" onmouseout="out('666089064557513924');" style="">  90     //  //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);                                       </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  91     //                                                                                                   </span>
<span class="-8577942940901467164" onmouseenter="enter('-8577942940901467164');" onmouseout="out('-8577942940901467164');" style="">  92     //  multipart.addFilePart(&quot;file&quot;, uploadFile1);                                                      </span>
<span class="4885572620156153963" onmouseenter="enter('4885572620156153963');" onmouseout="out('4885572620156153963');" style="">  93     //  List&lt;String&gt; response = multipart.finish();                                                      </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  94     //                                                                                                   </span>
<span class="2536517859916181521" onmouseenter="enter('2536517859916181521');" onmouseout="out('2536517859916181521');" style="">  95     //  System.out.println(&quot;SERVER REPLIED:&quot;);                                                           </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="">  96     //                                                                                                   </span>
<span class="1815605722727270295" onmouseenter="enter('1815605722727270295');" onmouseout="out('1815605722727270295');" style="">  97     //  for (String line : response) {                                                                   </span>
<span class="1278800542127430404" onmouseenter="enter('1278800542127430404');" onmouseout="out('1278800542127430404');" style="">  98     //    System.out.println(line);                                                                      </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="">  99     //  }                                                                                                </span>
<span class="7157684987662485564" onmouseenter="enter('7157684987662485564');" onmouseout="out('7157684987662485564');" style=""> 100     //} catch (IOException ex) {                                                                         </span>
<span class="1873259819656547479" onmouseenter="enter('1873259819656547479');" onmouseout="out('1873259819656547479');" style=""> 101     //  System.err.println(ex);                                                                          </span>
<span class="-4740675746293055676" onmouseenter="enter('-4740675746293055676');" onmouseout="out('-4740675746293055676');" style=""> 102     //}                                                                                                  </span>
<span class="686907678466743878" onmouseenter="enter('686907678466743878');" onmouseout="out('686907678466743878');" style=""> 103     UploadEntity entity = new UploadEntity();                                                            </span>
<span class="5482236628494003920" onmouseenter="enter('5482236628494003920');" onmouseout="out('5482236628494003920');" style=""> 104     entity.setFilePath(&quot;/sdcard/Download/test.zip&quot;);                                                     </span>
<span class="-8327067467432970271" onmouseenter="enter('-8327067467432970271');" onmouseout="out('-8327067467432970271');" style=""> 105     entity.setFileName(&quot;test.pdf&quot;);                                                                      </span>
<span class="-3036676632566633022" onmouseenter="enter('-3036676632566633022');" onmouseout="out('-3036676632566633022');" style=""> 106     UploadTaskEntity taskEntity = new UploadTaskEntity(entity);                                          </span>
<span class="-3100004649258618718" onmouseenter="enter('-3100004649258618718');" onmouseout="out('-3100004649258618718');" style=""> 107     taskEntity.uploadUrl = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                 </span>
<span class="-6585117274061213298" onmouseenter="enter('-6585117274061213298');" onmouseout="out('-6585117274061213298');" style=""> 108     taskEntity.attachment = &quot;file&quot;;                                                                      </span>
<span class="-2443461822555912616" onmouseenter="enter('-2443461822555912616');" onmouseout="out('-2443461822555912616');" style=""> 109     UploadUtil util = new UploadUtil(taskEntity, new IUploadListener() {                                 </span>
<span class="6115905223209353727" onmouseenter="enter('6115905223209353727');" onmouseout="out('6115905223209353727');" style=""> 110       long fileSize = 0;                                                                                 </span>
<span  style=""> 111                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 112       @Override                                                                                          </span>
<span class="-4593079478565883732" onmouseenter="enter('-4593079478565883732');" onmouseout="out('-4593079478565883732');" style=""> 113       public void onPre() {                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114       }                                                                                                  </span>
<span  style=""> 115                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 116       @Override                                                                                          </span>
<span class="3978566347741709146" onmouseenter="enter('3978566347741709146');" onmouseout="out('3978566347741709146');" style=""> 117       public void onStart(long fileSize) {                                                               </span>
<span class="4432937910811074994" onmouseenter="enter('4432937910811074994');" onmouseout="out('4432937910811074994');" style=""> 118         this.fileSize = fileSize;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119       }                                                                                                  </span>
<span  style=""> 120                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 121       @Override                                                                                          </span>
<span class="-6273855139450779482" onmouseenter="enter('-6273855139450779482');" onmouseout="out('-6273855139450779482');" style=""> 122       public void onResume(long resumeLocation) {                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123       }                                                                                                  </span>
<span  style=""> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125       @Override                                                                                          </span>
<span class="6546006512658874783" onmouseenter="enter('6546006512658874783');" onmouseout="out('6546006512658874783');" style=""> 126       public void onStop(long stopLocation) {                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127       }                                                                                                  </span>
<span  style=""> 128                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 129       @Override                                                                                          </span>
<span class="-7270469419406779709" onmouseenter="enter('-7270469419406779709');" onmouseout="out('-7270469419406779709');" style=""> 130       public void onProgress(long currentLocation) {                                                     </span>
<span class="3889828697546232402" onmouseenter="enter('3889828697546232402');" onmouseout="out('3889828697546232402');" style=""> 131         int p = ((int) ((currentLocation * 100) / fileSize));                                            </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style=""> 132         mPb.setProgress(p);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133       }                                                                                                  </span>
<span  style=""> 134                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135       @Override                                                                                          </span>
<span class="2622303874958043271" onmouseenter="enter('2622303874958043271');" onmouseout="out('2622303874958043271');" style=""> 136       public void onCancel() {                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137       }                                                                                                  </span>
<span  style=""> 138                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139       @Override                                                                                          </span>
<span class="4257426807127393534" onmouseenter="enter('4257426807127393534');" onmouseout="out('4257426807127393534');" style=""> 140       public void onComplete() {                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141       }                                                                                                  </span>
<span  style=""> 142                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 143       @Override                                                                                          </span>
<span class="-6652792850664576611" onmouseenter="enter('-6652792850664576611');" onmouseout="out('-6652792850664576611');" style=""> 144       public void onFail() {                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 146     });                                                                                                  </span>
<span class="-8882112697703938113" onmouseenter="enter('-8882112697703938113');" onmouseout="out('-8882112697703938113');" style=""> 147     util.start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148   }                                                                                                      </span>
<span  style=""> 149                                                                                                          </span>
<span class="2286792126453772488" onmouseenter="enter('2286792126453772488');" onmouseout="out('2286792126453772488');" style=""> 150   @OnClick(R.id.upload)                                                                                  </span>
<span class="-6721261053071442715" onmouseenter="enter('-6721261053071442715');" onmouseout="out('-6721261053071442715');" style=""> 151   void upload() {                                                                                        </span>
<span class="3679046794585559710" onmouseenter="enter('3679046794585559710');" onmouseout="out('3679046794585559710');" style=""> 152     Aria.upload(this).load(FILE_PATH).setUploadUrl(                                                      </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 153 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="3614321005321353340" onmouseenter="enter('3614321005321353340');" onmouseout="out('3614321005321353340');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 154 http://172.18.104.50:8080/upload/sign_file                                                               </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 155 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 156 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 156 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 157 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 158                                                                                                          </span>
<span class="-5600613241478555439" onmouseenter="enter('-5600613241478555439');" onmouseout="out('-5600613241478555439');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 159 http://192.168.1.8:8080/upload/sign_file                                                                 </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 160 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="-455399489316313375" onmouseenter="enter('-455399489316313375');" onmouseout="out('-455399489316313375');" style=""> 161     ).setAttachment(&quot;file&quot;).start();                                                                     </span>
<span  style=""> 162                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 163 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-3030350759572992352" onmouseenter="enter('-3030350759572992352');" onmouseout="out('-3030350759572992352');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 164     //new Thread(new Runnable() {                                                                        </span>
<span class="-7249871611292886676" onmouseenter="enter('-7249871611292886676');" onmouseout="out('-7249871611292886676');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 165     //  @Override public void run() {                                                                    </span>
<span class="4177102774633893158" onmouseenter="enter('4177102774633893158');" onmouseout="out('4177102774633893158');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 166     //    test();                                                                                        </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 167     //  }                                                                                                </span>
<span class="-1827702804579731095" onmouseenter="enter('-1827702804579731095');" onmouseout="out('-1827702804579731095');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 168     //}).start();                                                                                        </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 169 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 170 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 170 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 171 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 172                                                                                                          </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 173     //test();                                                                                            </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 174 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style=""> 175                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176   }                                                                                                      </span>
<span  style=""> 177                                                                                                          </span>
<span class="8930118628202693545" onmouseenter="enter('8930118628202693545');" onmouseout="out('8930118628202693545');" style=""> 178   @OnClick(R.id.stop) void stop() {                                                                      </span>
<span class="1242791639397888662" onmouseenter="enter('1242791639397888662');" onmouseout="out('1242791639397888662');" style=""> 179     Aria.upload(this).load(FILE_PATH).stop();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180   }                                                                                                      </span>
<span  style=""> 181                                                                                                          </span>
<span class="260615585566683086" onmouseenter="enter('260615585566683086');" onmouseout="out('260615585566683086');" style=""> 182   @OnClick(R.id.remove) void remove() {                                                                  </span>
<span class="-2830735790651133506" onmouseenter="enter('-2830735790651133506');" onmouseout="out('-2830735790651133506');" style=""> 183     Aria.upload(this).load(FILE_PATH).cancel();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184   }                                                                                                      </span>
<span  style=""> 185                                                                                                          </span>
<span class="-1187774082757679628" onmouseenter="enter('-1187774082757679628');" onmouseout="out('-1187774082757679628');" style=""> 186   @Override protected void onResume() {                                                                  </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 187     super.onResume();                                                                                    </span>
<span class="-6595319194202130287" onmouseenter="enter('-6595319194202130287');" onmouseout="out('-6595319194202130287');" style=""> 188     Aria.upload(this).addSchedulerListener(new UploadListener(mHandler));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189   }                                                                                                      </span>
<span  style=""> 190                                                                                                          </span>
<span class="4141723889696359450" onmouseenter="enter('4141723889696359450');" onmouseout="out('4141723889696359450');" style=""> 191   static class UploadListener extends Aria.UploadSchedulerListener {                                     </span>
<span class="2483626658442637890" onmouseenter="enter('2483626658442637890');" onmouseout="out('2483626658442637890');" style=""> 192     WeakReference&lt;Handler&gt; handler;                                                                      </span>
<span  style=""> 193                                                                                                          </span>
<span class="2861854476618947158" onmouseenter="enter('2861854476618947158');" onmouseout="out('2861854476618947158');" style=""> 194     UploadListener(Handler handler) {                                                                    </span>
<span class="-7624639772437874752" onmouseenter="enter('-7624639772437874752');" onmouseout="out('-7624639772437874752');" style=""> 195       this.handler = new WeakReference&lt;&gt;(handler);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196     }                                                                                                    </span>
<span  style=""> 197                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 198     @Override                                                                                            </span>
<span class="-8992659514040410696" onmouseenter="enter('-8992659514040410696');" onmouseout="out('-8992659514040410696');" style=""> 199     public void onTaskStart(UploadTask task) {                                                           </span>
<span class="8173293288608925557" onmouseenter="enter('8173293288608925557');" onmouseout="out('8173293288608925557');" style=""> 200       super.onTaskStart(task);                                                                           </span>
<span class="-3800574412256066086" onmouseenter="enter('-3800574412256066086');" onmouseout="out('-3800574412256066086');" style=""> 201       handler.get().obtainMessage(START, task).sendToTarget();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 204     @Override                                                                                            </span>
<span class="2099997334723758762" onmouseenter="enter('2099997334723758762');" onmouseout="out('2099997334723758762');" style=""> 205     public void onTaskStop(UploadTask task) {                                                            </span>
<span class="-5548218885986446221" onmouseenter="enter('-5548218885986446221');" onmouseout="out('-5548218885986446221');" style=""> 206       super.onTaskStop(task);                                                                            </span>
<span class="-8068203923943640195" onmouseenter="enter('-8068203923943640195');" onmouseout="out('-8068203923943640195');" style=""> 207       handler.get().obtainMessage(STOP, task).sendToTarget();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 210     @Override                                                                                            </span>
<span class="-862982346277774618" onmouseenter="enter('-862982346277774618');" onmouseout="out('-862982346277774618');" style=""> 211     public void onTaskCancel(UploadTask task) {                                                          </span>
<span class="-2239539261735474201" onmouseenter="enter('-2239539261735474201');" onmouseout="out('-2239539261735474201');" style=""> 212       super.onTaskCancel(task);                                                                          </span>
<span class="-2794495828861238287" onmouseenter="enter('-2794495828861238287');" onmouseout="out('-2794495828861238287');" style=""> 213       handler.get().obtainMessage(CANCEL, task).sendToTarget();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="6113294643605528640" onmouseenter="enter('6113294643605528640');" onmouseout="out('6113294643605528640');" style=""> 217     public void onTaskRunning(UploadTask task) {                                                         </span>
<span class="-7834049365724406116" onmouseenter="enter('-7834049365724406116');" onmouseout="out('-7834049365724406116');" style=""> 218       super.onTaskRunning(task);                                                                         </span>
<span class="890548424724611854" onmouseenter="enter('890548424724611854');" onmouseout="out('890548424724611854');" style=""> 219       handler.get().obtainMessage(RUNNING, task).sendToTarget();                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220     }                                                                                                    </span>
<span  style=""> 221                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222     @Override                                                                                            </span>
<span class="-5562504542234075750" onmouseenter="enter('-5562504542234075750');" onmouseout="out('-5562504542234075750');" style=""> 223     public void onTaskComplete(UploadTask task) {                                                        </span>
<span class="-1414495127344671470" onmouseenter="enter('-1414495127344671470');" onmouseout="out('-1414495127344671470');" style=""> 224       super.onTaskComplete(task);                                                                        </span>
<span class="-2122282334575526078" onmouseenter="enter('-2122282334575526078');" onmouseout="out('-2122282334575526078');" style=""> 225       handler.get().obtainMessage(COMPLETE, task).sendToTarget();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228 }                                                                                                        </span></pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="1165980081983589836" onmouseenter="enter('1165980081983589836');" onmouseout="out('1165980081983589836');" style="">   1  package com.arialyy.simple.upload;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   3  import android.os.Bundle;                                                                                         </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">   4  import android.os.Handler;                                                                                        </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="">   5  import android.os.Message;                                                                                        </span>
<span class="7109950626302402" onmouseenter="enter('7109950626302402');" onmouseout="out('7109950626302402');" style="">   6  import butterknife.Bind;                                                                                          </span>
<span class="6135007357449719543" onmouseenter="enter('6135007357449719543');" onmouseout="out('6135007357449719543');" style="">   7  import butterknife.OnClick;                                                                                       </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">   8  import com.arialyy.aria.core.Aria;                                                                                </span>
<span class="-6240543289805954743" onmouseenter="enter('-6240543289805954743');" onmouseout="out('-6240543289805954743');" style="">   9  import com.arialyy.aria.core.upload.IUploadListener;                                                              </span>
<span class="-5831681804875068292" onmouseenter="enter('-5831681804875068292');" onmouseout="out('-5831681804875068292');" style="">  10  import com.arialyy.aria.core.upload.UploadEntity;                                                                 </span>
<span class="4859020599409075232" onmouseenter="enter('4859020599409075232');" onmouseout="out('4859020599409075232');" style="">  11  import com.arialyy.aria.core.upload.UploadTask;                                                                   </span>
<span class="5529108429384186748" onmouseenter="enter('5529108429384186748');" onmouseout="out('5529108429384186748');" style="">  12  import com.arialyy.aria.core.upload.UploadTaskEntity;                                                             </span>
<span class="6548648133926358645" onmouseenter="enter('6548648133926358645');" onmouseout="out('6548648133926358645');" style="">  13  import com.arialyy.aria.core.upload.UploadUtil;                                                                   </span>
<span class="1450063737680847767" onmouseenter="enter('1450063737680847767');" onmouseout="out('1450063737680847767');" style="">  14  import com.arialyy.aria.util.MultipartUtility;                                                                    </span>
<span class="-6299722885445437835" onmouseenter="enter('-6299722885445437835');" onmouseout="out('-6299722885445437835');" style="">  15  import com.arialyy.frame.util.FileUtil;                                                                           </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  16  import com.arialyy.frame.util.show.L;                                                                             </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  17  import com.arialyy.frame.util.show.T;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  18  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  19  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="4580760349479650354" onmouseenter="enter('4580760349479650354');" onmouseout="out('4580760349479650354');" style="">  20  import com.arialyy.simple.databinding.ActivityUploadMeanBinding;                                                  </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  21  import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                                 </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  22  import java.io.File;                                                                                              </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  23  import java.io.IOException;                                                                                       </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  24  import java.lang.ref.WeakReference;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  25  import java.util.List;                                                                                            </span>
<span  style="">  26                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  27  /**                                                                                                               </span>
<span class="-6400750417840662839" onmouseenter="enter('-6400750417840662839');" onmouseout="out('-6400750417840662839');" style="">  28   * Created by Aria.Lao on 2017/2/9.                                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  29   */                                                                                                               </span>
<span  style="">  30                                                                                                                    </span>
<span class="1759354463611801644" onmouseenter="enter('1759354463611801644');" onmouseout="out('1759354463611801644');" style="">  31  public class UploadActivity extends BaseActivity&lt;ActivityUploadMeanBinding&gt; {                                     </span>
<span class="-6986899695971754512" onmouseenter="enter('-6986899695971754512');" onmouseout="out('-6986899695971754512');" style="">  32    @Bind(R.id.pb) HorizontalProgressBarWithNumber mPb;                                                             </span>
<span class="8150707016389763498" onmouseenter="enter('8150707016389763498');" onmouseout="out('8150707016389763498');" style="">  33    private static final int START = 0;                                                                             </span>
<span class="960885907975251851" onmouseenter="enter('960885907975251851');" onmouseout="out('960885907975251851');" style="">  34    private static final int STOP = 1;                                                                              </span>
<span class="-7599911288271188481" onmouseenter="enter('-7599911288271188481');" onmouseout="out('-7599911288271188481');" style="">  35    private static final int CANCEL = 2;                                                                            </span>
<span class="133571015588820234" onmouseenter="enter('133571015588820234');" onmouseout="out('133571015588820234');" style="">  36    private static final int RUNNING = 3;                                                                           </span>
<span class="-8484718732840056901" onmouseenter="enter('-8484718732840056901');" onmouseout="out('-8484718732840056901');" style="">  37    private static final int COMPLETE = 4;                                                                          </span>
<span  style="">  38                                                                                                                    </span>
<span class="1299301156109758253" onmouseenter="enter('1299301156109758253');" onmouseout="out('1299301156109758253');" style="">  39    private static final String FILE_PATH = &quot;/sdcard/Download/test.zip&quot;;                                            </span>
<span  style="">  40                                                                                                                    </span>
<span class="377439294877754235" onmouseenter="enter('377439294877754235');" onmouseout="out('377439294877754235');" style="">  41    private Handler mHandler = new Handler() {                                                                      </span>
<span class="-1427939510718485574" onmouseenter="enter('-1427939510718485574');" onmouseout="out('-1427939510718485574');" style="">  42      @Override public void handleMessage(Message msg) {                                                            </span>
<span class="631594066954408669" onmouseenter="enter('631594066954408669');" onmouseout="out('631594066954408669');" style="">  43        super.handleMessage(msg);                                                                                   </span>
<span class="-8685502422614048725" onmouseenter="enter('-8685502422614048725');" onmouseout="out('-8685502422614048725');" style="">  44        UploadTask task = (UploadTask) msg.obj;                                                                     </span>
<span class="-3954437576728056065" onmouseenter="enter('-3954437576728056065');" onmouseout="out('-3954437576728056065');" style="">  45        switch (msg.what) {                                                                                         </span>
<span class="-2079449841199557933" onmouseenter="enter('-2079449841199557933');" onmouseout="out('-2079449841199557933');" style="">  46          case START:                                                                                               </span>
<span class="-4482900866982331532" onmouseenter="enter('-4482900866982331532');" onmouseout="out('-4482900866982331532');" style="">  47            getBinding().setFileSize(FileUtil.formatFileSize(task.getFileSize()));                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  48            break;                                                                                                  </span>
<span class="1250822125610289782" onmouseenter="enter('1250822125610289782');" onmouseout="out('1250822125610289782');" style="">  49          case STOP:                                                                                                </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  50            mPb.setProgress(0);                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  51            break;                                                                                                  </span>
<span class="2194916571338084494" onmouseenter="enter('2194916571338084494');" onmouseout="out('2194916571338084494');" style="">  52          case CANCEL:                                                                                              </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  53            mPb.setProgress(0);                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  54            break;                                                                                                  </span>
<span class="3901942634001995069" onmouseenter="enter('3901942634001995069');" onmouseout="out('3901942634001995069');" style="">  55          case RUNNING:                                                                                             </span>
<span class="-6706143651508164928" onmouseenter="enter('-6706143651508164928');" onmouseout="out('-6706143651508164928');" style="">  56            int p = (int) (task.getCurrentProgress() * 100 / task.getFileSize());                                   </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style="">  57            mPb.setProgress(p);                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  58            break;                                                                                                  </span>
<span class="-4977730218558906777" onmouseenter="enter('-4977730218558906777');" onmouseout="out('-4977730218558906777');" style="">  59          case COMPLETE:                                                                                            </span>
<span class="7012405467205013257" onmouseenter="enter('7012405467205013257');" onmouseout="out('7012405467205013257');" style="">  60            T.showShort(UploadActivity.this, &quot;上传完成&quot;);                                                               </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style="">  61            mPb.setProgress(100);                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  62            break;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64      }                                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  65    };                                                                                                              </span>
<span  style="">  66                                                                                                                    </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  67    @Override protected int setLayoutId() {                                                                         </span>
<span class="-2303848225771022218" onmouseenter="enter('-2303848225771022218');" onmouseout="out('-2303848225771022218');" style="">  68      return R.layout.activity_upload_mean;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69    }                                                                                                               </span>
<span  style="">  70                                                                                                                    </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  71    @Override protected void init(Bundle savedInstanceState) {                                                      </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  72      super.init(savedInstanceState);                                                                               </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="">  73      //test();                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74    }                                                                                                               </span>
<span  style="">  75                                                                                                                    </span>
<span class="1228837497786754837" onmouseenter="enter('1228837497786754837');" onmouseout="out('1228837497786754837');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -  private void test(){                                                                                            </span>
<span class="-3137033899834938690" onmouseenter="enter('-3137033899834938690');" onmouseout="out('-3137033899834938690');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -    String charset = &quot;UTF-8&quot;;                                                                                     </span>
<span class="-6871438331684424466" onmouseenter="enter('-6871438331684424466');" onmouseout="out('-6871438331684424466');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -    File uploadFile1 = new File(&quot;/sdcard/Download/test.zip&quot;);                                                     </span>
<span class="-823423244477083776" onmouseenter="enter('-823423244477083776');" onmouseout="out('-823423244477083776');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -    String requestURL = &quot;http://172.18.104.50:8080/UploadActivity/sign_file&quot;;                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -    try {                                                                                                         </span>
<span class="1085735651377750696" onmouseenter="enter('1085735651377750696');" onmouseout="out('1085735651377750696');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -      MultipartUtility multipart = new MultipartUtility(requestURL, charset);                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -                                                                                                                  </span>
<span class="3937244046872632362" onmouseenter="enter('3937244046872632362');" onmouseout="out('3937244046872632362');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -      //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -                                                                                                                  </span>
<span class="-5133342063802246579" onmouseenter="enter('-5133342063802246579');" onmouseout="out('-5133342063802246579');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -      multipart.addFilePart(&quot;file&quot;, uploadFile1);                                                                 </span>
<span class="4557758385797797133" onmouseenter="enter('4557758385797797133');" onmouseout="out('4557758385797797133');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -      List&lt;String&gt; response = multipart.finish();                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  88 -                                                                                                                  </span>
<span class="-9080402053230134065" onmouseenter="enter('-9080402053230134065');" onmouseout="out('-9080402053230134065');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -      System.out.println(&quot;SERVER REPLIED:&quot;);                                                                      </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  90 -                                                                                                                  </span>
<span class="-4228823756038304860" onmouseenter="enter('-4228823756038304860');" onmouseout="out('-4228823756038304860');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -      for (String line : response) {                                                                              </span>
<span class="4341964789822645657" onmouseenter="enter('4341964789822645657');" onmouseout="out('4341964789822645657');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -        System.out.println(line);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  93 -      }                                                                                                           </span>
<span class="-2789836788970558872" onmouseenter="enter('-2789836788970558872');" onmouseout="out('-2789836788970558872');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  94 -    } catch (IOException ex) {                                                                                    </span>
<span class="8681299289317247045" onmouseenter="enter('8681299289317247045');" onmouseout="out('8681299289317247045');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -      System.err.println(ex);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  96 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  97 -                                                                                                                  </span>
<span class="-4393188387252759612" onmouseenter="enter('-4393188387252759612');" onmouseout="out('-4393188387252759612');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  98 -    //UploadEntity entity = new UploadEntity();                                                                   </span>
<span class="1744552577073865941" onmouseenter="enter('1744552577073865941');" onmouseout="out('1744552577073865941');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  99 -    //entity.setFilePath(&quot;/sdcard/Download/test.zip&quot;);                                                            </span>
<span class="-1230111349706516409" onmouseenter="enter('-1230111349706516409');" onmouseout="out('-1230111349706516409');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 100 -    //entity.setFileName(&quot;test.pdf&quot;);                                                                             </span>
<span class="-7026162625987081" onmouseenter="enter('-7026162625987081');" onmouseout="out('-7026162625987081');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 101 -    //UploadTaskEntity taskEntity = new UploadTaskEntity(entity);                                                 </span>
<span class="385530292073621133" onmouseenter="enter('385530292073621133');" onmouseout="out('385530292073621133');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 102 -    //taskEntity.uploadUrl = &quot;http://172.18.104.50:8080/UploadActivity/sign_file&quot;;                                </span>
<span class="-2100132807918287372" onmouseenter="enter('-2100132807918287372');" onmouseout="out('-2100132807918287372');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -    //taskEntity.attachment = &quot;file&quot;;                                                                             </span>
<span class="5438034011406488852" onmouseenter="enter('5438034011406488852');" onmouseout="out('5438034011406488852');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -    //UploadUtil util = new UploadUtil(taskEntity, new IUploadListener() {                                        </span>
<span class="8037703526656270158" onmouseenter="enter('8037703526656270158');" onmouseout="out('8037703526656270158');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 105 -    //  long fileSize = 0;                                                                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 106 -    //                                                                                                            </span>
<span class="-3870840975848548634" onmouseenter="enter('-3870840975848548634');" onmouseout="out('-3870840975848548634');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 107 -    //  @Override public void onPre() {                                                                           </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 108 -    //                                                                                                            </span>
<span class="-2074555792338005822" onmouseenter="enter('-2074555792338005822');" onmouseout="out('-2074555792338005822');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +  private void test() {                                                                                           </span>
<span class="8779772807810225912" onmouseenter="enter('8779772807810225912');" onmouseout="out('8779772807810225912');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +    //String charset = &quot;UTF-8&quot;;                                                                                   </span>
<span class="-3126031170493148713" onmouseenter="enter('-3126031170493148713');" onmouseout="out('-3126031170493148713');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +    //File uploadFile1 = new File(&quot;/sdcard/Download/test.zip&quot;);                                                   </span>
<span class="-8191591959877321161" onmouseenter="enter('-8191591959877321161');" onmouseout="out('-8191591959877321161');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +    //String requestURL = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                           </span>
<span class="-5753638652535559126" onmouseenter="enter('-5753638652535559126');" onmouseout="out('-5753638652535559126');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +    ////String requestURL = &quot;http://172.18.104.50:8080/greeting&quot;;                                                 </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +    //                                                                                                            </span>
<span class="-3474683598063362975" onmouseenter="enter('-3474683598063362975');" onmouseout="out('-3474683598063362975');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +    //try {                                                                                                       </span>
<span class="3620639294236533079" onmouseenter="enter('3620639294236533079');" onmouseout="out('3620639294236533079');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +    //  MultipartUtility multipart = new MultipartUtility(requestURL, charset);                                   </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +    //                                                                                                            </span>
<span class="666089064557513924" onmouseenter="enter('666089064557513924');" onmouseout="out('666089064557513924');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +    //  //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);                                                </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +    //                                                                                                            </span>
<span class="-8577942940901467164" onmouseenter="enter('-8577942940901467164');" onmouseout="out('-8577942940901467164');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +    //  multipart.addFilePart(&quot;file&quot;, uploadFile1);                                                               </span>
<span class="4885572620156153963" onmouseenter="enter('4885572620156153963');" onmouseout="out('4885572620156153963');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +    //  List&lt;String&gt; response = multipart.finish();                                                               </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +    //                                                                                                            </span>
<span class="2536517859916181521" onmouseenter="enter('2536517859916181521');" onmouseout="out('2536517859916181521');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +    //  System.out.println(&quot;SERVER REPLIED:&quot;);                                                                    </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +    //                                                                                                            </span>
<span class="1815605722727270295" onmouseenter="enter('1815605722727270295');" onmouseout="out('1815605722727270295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +    //  for (String line : response) {                                                                            </span>
<span class="1278800542127430404" onmouseenter="enter('1278800542127430404');" onmouseout="out('1278800542127430404');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +    //    System.out.println(line);                                                                               </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 127      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 128 -    //                                                                                                            </span>
<span class="7631005447548439989" onmouseenter="enter('7631005447548439989');" onmouseout="out('7631005447548439989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 129 -    //  @Override public void onStart(long fileSize) {                                                            </span>
<span class="-355122486947470561" onmouseenter="enter('-355122486947470561');" onmouseout="out('-355122486947470561');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 130 -    //    this.fileSize = fileSize;                                                                               </span>
<span class="7157684987662485564" onmouseenter="enter('7157684987662485564');" onmouseout="out('7157684987662485564');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +    //} catch (IOException ex) {                                                                                  </span>
<span class="1873259819656547479" onmouseenter="enter('1873259819656547479');" onmouseout="out('1873259819656547479');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +    //  System.err.println(ex);                                                                                   </span>
<span class="-4740675746293055676" onmouseenter="enter('-4740675746293055676');" onmouseout="out('-4740675746293055676');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +    //}                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +                                                                                                                  </span>
<span class="686907678466743878" onmouseenter="enter('686907678466743878');" onmouseout="out('686907678466743878');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +    UploadEntity entity = new UploadEntity();                                                                     </span>
<span class="5482236628494003920" onmouseenter="enter('5482236628494003920');" onmouseout="out('5482236628494003920');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +    entity.setFilePath(&quot;/sdcard/Download/test.zip&quot;);                                                              </span>
<span class="-8327067467432970271" onmouseenter="enter('-8327067467432970271');" onmouseout="out('-8327067467432970271');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +    entity.setFileName(&quot;test.pdf&quot;);                                                                               </span>
<span class="-3036676632566633022" onmouseenter="enter('-3036676632566633022');" onmouseout="out('-3036676632566633022');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +    UploadTaskEntity taskEntity = new UploadTaskEntity(entity);                                                   </span>
<span class="-3100004649258618718" onmouseenter="enter('-3100004649258618718');" onmouseout="out('-3100004649258618718');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +    taskEntity.uploadUrl = &quot;http://172.18.104.50:8080/upload/sign_file&quot;;                                          </span>
<span class="-6585117274061213298" onmouseenter="enter('-6585117274061213298');" onmouseout="out('-6585117274061213298');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +    taskEntity.attachment = &quot;file&quot;;                                                                               </span>
<span class="-2443461822555912616" onmouseenter="enter('-2443461822555912616');" onmouseout="out('-2443461822555912616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +    UploadUtil util = new UploadUtil(taskEntity, new IUploadListener() {                                          </span>
<span class="6115905223209353727" onmouseenter="enter('6115905223209353727');" onmouseout="out('6115905223209353727');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +      long fileSize = 0;                                                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +                                                                                                                  </span>
<span class="1941248740392522719" onmouseenter="enter('1941248740392522719');" onmouseout="out('1941248740392522719');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 144 +      @Override public void onPre() {                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 145 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 146 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 147 +                                                                                                                  </span>
<span class="8799274573332509961" onmouseenter="enter('8799274573332509961');" onmouseout="out('8799274573332509961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 148 +      @Override public void onStart(long fileSize) {                                                              </span>
<span class="4432937910811074994" onmouseenter="enter('4432937910811074994');" onmouseout="out('4432937910811074994');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 149 +        this.fileSize = fileSize;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +                                                                                                                  </span>
<span class="8211923352965833527" onmouseenter="enter('8211923352965833527');" onmouseout="out('8211923352965833527');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +      @Override public void onResume(long resumeLocation) {                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +                                                                                                                  </span>
<span class="3409726051444324452" onmouseenter="enter('3409726051444324452');" onmouseout="out('3409726051444324452');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +      @Override public void onStop(long stopLocation) {                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +                                                                                                                  </span>
<span class="-7946972766620409893" onmouseenter="enter('-7946972766620409893');" onmouseout="out('-7946972766620409893');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +      @Override public void onProgress(long currentLocation) {                                                    </span>
<span class="-8028862600590091569" onmouseenter="enter('-8028862600590091569');" onmouseout="out('-8028862600590091569');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +        int p = (int) (currentLocation * 100 / fileSize);                                                         </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 162 +        mPb.setProgress(p);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +                                                                                                                  </span>
<span class="2093106455269248536" onmouseenter="enter('2093106455269248536');" onmouseout="out('2093106455269248536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +      @Override public void onCancel() {                                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +                                                                                                                  </span>
<span class="7400813110786944810" onmouseenter="enter('7400813110786944810');" onmouseout="out('7400813110786944810');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +      @Override public void onComplete() {                                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +      }                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +                                                                                                                  </span>
<span class="-8845666459040584461" onmouseenter="enter('-8845666459040584461');" onmouseout="out('-8845666459040584461');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +      @Override public void onFail() {                                                                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +      }                                                                                                           </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +    });                                                                                                           </span>
<span class="-8882112697703938113" onmouseenter="enter('-8882112697703938113');" onmouseout="out('-8882112697703938113');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +    util.start();                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +                                                                                                                  </span>
<span class="-5312379140123629361" onmouseenter="enter('-5312379140123629361');" onmouseout="out('-5312379140123629361');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +  @OnClick(R.id.upload) void upload() {                                                                           </span>
<span class="-5042376028143834019" onmouseenter="enter('-5042376028143834019');" onmouseout="out('-5042376028143834019');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +    Aria.upload(this)                                                                                             </span>
<span class="8982596223542883770" onmouseenter="enter('8982596223542883770');" onmouseout="out('8982596223542883770');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +        .load(FILE_PATH)                                                                                          </span>
<span class="-5232871880780917930" onmouseenter="enter('-5232871880780917930');" onmouseout="out('-5232871880780917930');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +        .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                               </span>
<span class="8903481036988378304" onmouseenter="enter('8903481036988378304');" onmouseout="out('8903481036988378304');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +        .setAttachment(&quot;file&quot;)                                                                                    </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +        .start();                                                                                                 </span>
<span class="-3030350759572992352" onmouseenter="enter('-3030350759572992352');" onmouseout="out('-3030350759572992352');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +    //new Thread(new Runnable() {                                                                                 </span>
<span class="-7249871611292886676" onmouseenter="enter('-7249871611292886676');" onmouseout="out('-7249871611292886676');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +    //  @Override public void run() {                                                                             </span>
<span class="4177102774633893158" onmouseenter="enter('4177102774633893158');" onmouseout="out('4177102774633893158');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +    //    test();                                                                                                 </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 189      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 190 -    //                                                                                                            </span>
<span class="-203128626848903253" onmouseenter="enter('-203128626848903253');" onmouseout="out('-203128626848903253');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 191 -    //  @Override public void onResume(long resumeLocation) {                                                     </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 192 -    //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 193 -    //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 194 -    //                                                                                                            </span>
<span class="-2644748557003307088" onmouseenter="enter('-2644748557003307088');" onmouseout="out('-2644748557003307088');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 195 -    //  @Override public void onStop(long stopLocation) {                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 196 -    //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 197 -    //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 198 -    //                                                                                                            </span>
<span class="5405690338225334931" onmouseenter="enter('5405690338225334931');" onmouseout="out('5405690338225334931');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 199 -    //  @Override public void onProgress(long currentLocation) {                                                  </span>
<span class="-3459434824036252247" onmouseenter="enter('-3459434824036252247');" onmouseout="out('-3459434824036252247');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 200 -    //    int p = (int) (currentLocation * 100 / fileSize);                                                       </span>
<span class="-7220277953137701581" onmouseenter="enter('-7220277953137701581');" onmouseout="out('-7220277953137701581');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 201 -    //    mPb.setProgress(p);                                                                                     </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -    //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 203 -    //                                                                                                            </span>
<span class="3235250009830112547" onmouseenter="enter('3235250009830112547');" onmouseout="out('3235250009830112547');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -    //  @Override public void onCancel() {                                                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 205 -    //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 206 -    //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 207 -    //                                                                                                            </span>
<span class="6194370093187814260" onmouseenter="enter('6194370093187814260');" onmouseout="out('6194370093187814260');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 208 -    //  @Override public void onComplete() {                                                                      </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 209 -    //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 210 -    //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 211 -    //                                                                                                            </span>
<span class="3116631702806608210" onmouseenter="enter('3116631702806608210');" onmouseout="out('3116631702806608210');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 212 -    //  @Override public void onFail() {                                                                          </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -    //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 214 -    //  }                                                                                                         </span>
<span class="4304480005524786706" onmouseenter="enter('4304480005524786706');" onmouseout="out('4304480005524786706');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 215 -    //});                                                                                                         </span>
<span class="4603447299136503441" onmouseenter="enter('4603447299136503441');" onmouseout="out('4603447299136503441');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 216 -    //util.start();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 217 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 218 -                                                                                                                  </span>
<span class="-5312379140123629361" onmouseenter="enter('-5312379140123629361');" onmouseout="out('-5312379140123629361');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 219 -  @OnClick(R.id.upload) void upload() {                                                                           </span>
<span class="-5554262352117178551" onmouseenter="enter('-5554262352117178551');" onmouseout="out('-5554262352117178551');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 220 -    //Aria.upload(this)                                                                                           </span>
<span class="-1534874978787018079" onmouseenter="enter('-1534874978787018079');" onmouseout="out('-1534874978787018079');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 221 -    //    .load(FILE_PATH)                                                                                        </span>
<span class="2309488331500718919" onmouseenter="enter('2309488331500718919');" onmouseout="out('2309488331500718919');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 222 -    //    .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                             </span>
<span class="7198889015055943678" onmouseenter="enter('7198889015055943678');" onmouseout="out('7198889015055943678');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 223 -    //    .setAttachment(&quot;file&quot;)                                                                                  </span>
<span class="-3627872952222328144" onmouseenter="enter('-3627872952222328144');" onmouseout="out('-3627872952222328144');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 224 -    //    .start();                                                                                               </span>
<span class="2603441234404519220" onmouseenter="enter('2603441234404519220');" onmouseout="out('2603441234404519220');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 225 -    test();                                                                                                       </span>
<span class="-1827702804579731095" onmouseenter="enter('-1827702804579731095');" onmouseout="out('-1827702804579731095');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +    //}).start();                                                                                                 </span>





<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227    }                                                                                                               </span>
<span  style=""> 228                                                                                                                    </span>
<span class="8930118628202693545" onmouseenter="enter('8930118628202693545');" onmouseout="out('8930118628202693545');" style=""> 229    @OnClick(R.id.stop) void stop() {                                                                               </span>
<span class="1242791639397888662" onmouseenter="enter('1242791639397888662');" onmouseout="out('1242791639397888662');" style=""> 230      Aria.upload(this).load(FILE_PATH).stop();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231    }                                                                                                               </span>
<span  style=""> 232                                                                                                                    </span>
<span class="260615585566683086" onmouseenter="enter('260615585566683086');" onmouseout="out('260615585566683086');" style=""> 233    @OnClick(R.id.remove) void remove() {                                                                           </span>
<span class="-2830735790651133506" onmouseenter="enter('-2830735790651133506');" onmouseout="out('-2830735790651133506');" style=""> 234      Aria.upload(this).load(FILE_PATH).cancel();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235    }                                                                                                               </span>
<span  style=""> 236                                                                                                                    </span>
<span class="-1187774082757679628" onmouseenter="enter('-1187774082757679628');" onmouseout="out('-1187774082757679628');" style=""> 237    @Override protected void onResume() {                                                                           </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 238      super.onResume();                                                                                             </span>
<span class="-6595319194202130287" onmouseenter="enter('-6595319194202130287');" onmouseout="out('-6595319194202130287');" style=""> 239      Aria.upload(this).addSchedulerListener(new UploadListener(mHandler));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240    }                                                                                                               </span>
<span  style=""> 241                                                                                                                    </span>
<span class="4141723889696359450" onmouseenter="enter('4141723889696359450');" onmouseout="out('4141723889696359450');" style=""> 242    static class UploadListener extends Aria.UploadSchedulerListener {                                              </span>
<span class="2483626658442637890" onmouseenter="enter('2483626658442637890');" onmouseout="out('2483626658442637890');" style=""> 243      WeakReference&lt;Handler&gt; handler;                                                                               </span>
<span  style=""> 244                                                                                                                    </span>
<span class="2861854476618947158" onmouseenter="enter('2861854476618947158');" onmouseout="out('2861854476618947158');" style=""> 245      UploadListener(Handler handler) {                                                                             </span>
<span class="-7624639772437874752" onmouseenter="enter('-7624639772437874752');" onmouseout="out('-7624639772437874752');" style=""> 246        this.handler = new WeakReference&lt;&gt;(handler);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247      }                                                                                                             </span>
<span  style=""> 248                                                                                                                    </span>
<span class="4791925522439678878" onmouseenter="enter('4791925522439678878');" onmouseout="out('4791925522439678878');" style=""> 249      @Override public void onTaskStart(UploadTask task) {                                                          </span>
<span class="8173293288608925557" onmouseenter="enter('8173293288608925557');" onmouseout="out('8173293288608925557');" style=""> 250        super.onTaskStart(task);                                                                                    </span>
<span class="-3800574412256066086" onmouseenter="enter('-3800574412256066086');" onmouseout="out('-3800574412256066086');" style=""> 251        handler.get().obtainMessage(START, task).sendToTarget();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252      }                                                                                                             </span>
<span  style=""> 253                                                                                                                    </span>
<span class="-3263471575780768562" onmouseenter="enter('-3263471575780768562');" onmouseout="out('-3263471575780768562');" style=""> 254      @Override public void onTaskStop(UploadTask task) {                                                           </span>
<span class="-5548218885986446221" onmouseenter="enter('-5548218885986446221');" onmouseout="out('-5548218885986446221');" style=""> 255        super.onTaskStop(task);                                                                                     </span>
<span class="-8068203923943640195" onmouseenter="enter('-8068203923943640195');" onmouseout="out('-8068203923943640195');" style=""> 256        handler.get().obtainMessage(STOP, task).sendToTarget();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257      }                                                                                                             </span>
<span  style=""> 258                                                                                                                    </span>
<span class="8014217063268870089" onmouseenter="enter('8014217063268870089');" onmouseout="out('8014217063268870089');" style=""> 259      @Override public void onTaskCancel(UploadTask task) {                                                         </span>
<span class="-2239539261735474201" onmouseenter="enter('-2239539261735474201');" onmouseout="out('-2239539261735474201');" style=""> 260        super.onTaskCancel(task);                                                                                   </span>
<span class="-2794495828861238287" onmouseenter="enter('-2794495828861238287');" onmouseout="out('-2794495828861238287');" style=""> 261        handler.get().obtainMessage(CANCEL, task).sendToTarget();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262      }                                                                                                             </span>
<span  style=""> 263                                                                                                                    </span>
<span class="455171565213774152" onmouseenter="enter('455171565213774152');" onmouseout="out('455171565213774152');" style=""> 264      @Override public void onTaskRunning(UploadTask task) {                                                        </span>
<span class="-7834049365724406116" onmouseenter="enter('-7834049365724406116');" onmouseout="out('-7834049365724406116');" style=""> 265        super.onTaskRunning(task);                                                                                  </span>
<span class="890548424724611854" onmouseenter="enter('890548424724611854');" onmouseout="out('890548424724611854');" style=""> 266        handler.get().obtainMessage(RUNNING, task).sendToTarget();                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267      }                                                                                                             </span>
<span  style=""> 268                                                                                                                    </span>
<span class="-530629509472029712" onmouseenter="enter('-530629509472029712');" onmouseout="out('-530629509472029712');" style=""> 269      @Override public void onTaskComplete(UploadTask task) {                                                       </span>
<span class="-1414495127344671470" onmouseenter="enter('-1414495127344671470');" onmouseout="out('-1414495127344671470');" style=""> 270        super.onTaskComplete(task);                                                                                 </span>
<span class="-2122282334575526078" onmouseenter="enter('-2122282334575526078');" onmouseout="out('-2122282334575526078');" style=""> 271        handler.get().obtainMessage(COMPLETE, task).sendToTarget();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="1165980081983589836" onmouseenter="enter('1165980081983589836');" onmouseout="out('1165980081983589836');" style="">   1  package com.arialyy.simple.upload;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   3  import android.os.Bundle;                                                                                         </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">   4  import android.os.Handler;                                                                                        </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="">   5  import android.os.Message;                                                                                        </span>
<span class="7109950626302402" onmouseenter="enter('7109950626302402');" onmouseout="out('7109950626302402');" style="">   6  import butterknife.Bind;                                                                                          </span>
<span class="6135007357449719543" onmouseenter="enter('6135007357449719543');" onmouseout="out('6135007357449719543');" style="">   7  import butterknife.OnClick;                                                                                       </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">   8  import com.arialyy.aria.core.Aria;                                                                                </span>
<span class="-6240543289805954743" onmouseenter="enter('-6240543289805954743');" onmouseout="out('-6240543289805954743');" style="">   9  import com.arialyy.aria.core.upload.IUploadListener;                                                              </span>
<span class="-5831681804875068292" onmouseenter="enter('-5831681804875068292');" onmouseout="out('-5831681804875068292');" style="">  10  import com.arialyy.aria.core.upload.UploadEntity;                                                                 </span>
<span class="4859020599409075232" onmouseenter="enter('4859020599409075232');" onmouseout="out('4859020599409075232');" style="">  11  import com.arialyy.aria.core.upload.UploadTask;                                                                   </span>
<span class="5529108429384186748" onmouseenter="enter('5529108429384186748');" onmouseout="out('5529108429384186748');" style="">  12  import com.arialyy.aria.core.upload.UploadTaskEntity;                                                             </span>
<span class="6548648133926358645" onmouseenter="enter('6548648133926358645');" onmouseout="out('6548648133926358645');" style="">  13  import com.arialyy.aria.core.upload.UploadUtil;                                                                   </span>
<span class="1450063737680847767" onmouseenter="enter('1450063737680847767');" onmouseout="out('1450063737680847767');" style="">  14  import com.arialyy.aria.util.MultipartUtility;                                                                    </span>
<span class="-6299722885445437835" onmouseenter="enter('-6299722885445437835');" onmouseout="out('-6299722885445437835');" style="">  15  import com.arialyy.frame.util.FileUtil;                                                                           </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  16  import com.arialyy.frame.util.show.L;                                                                             </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  17  import com.arialyy.frame.util.show.T;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  18  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  19  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="4580760349479650354" onmouseenter="enter('4580760349479650354');" onmouseout="out('4580760349479650354');" style="">  20  import com.arialyy.simple.databinding.ActivityUploadMeanBinding;                                                  </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  21  import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                                 </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  22  import java.io.File;                                                                                              </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  23  import java.io.IOException;                                                                                       </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  24  import java.lang.ref.WeakReference;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  25  import java.util.List;                                                                                            </span>
<span  style="">  26                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  27  /**                                                                                                               </span>
<span class="-6400750417840662839" onmouseenter="enter('-6400750417840662839');" onmouseout="out('-6400750417840662839');" style="">  28   * Created by Aria.Lao on 2017/2/9.                                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  29   */                                                                                                               </span>
<span  style="">  30                                                                                                                    </span>
<span class="1759354463611801644" onmouseenter="enter('1759354463611801644');" onmouseout="out('1759354463611801644');" style="">  31  public class UploadActivity extends BaseActivity&lt;ActivityUploadMeanBinding&gt; {                                     </span>
<span class="-6986899695971754512" onmouseenter="enter('-6986899695971754512');" onmouseout="out('-6986899695971754512');" style="">  32    @Bind(R.id.pb) HorizontalProgressBarWithNumber mPb;                                                             </span>
<span class="8150707016389763498" onmouseenter="enter('8150707016389763498');" onmouseout="out('8150707016389763498');" style="">  33    private static final int START = 0;                                                                             </span>
<span class="960885907975251851" onmouseenter="enter('960885907975251851');" onmouseout="out('960885907975251851');" style="">  34    private static final int STOP = 1;                                                                              </span>
<span class="-7599911288271188481" onmouseenter="enter('-7599911288271188481');" onmouseout="out('-7599911288271188481');" style="">  35    private static final int CANCEL = 2;                                                                            </span>
<span class="133571015588820234" onmouseenter="enter('133571015588820234');" onmouseout="out('133571015588820234');" style="">  36    private static final int RUNNING = 3;                                                                           </span>
<span class="-8484718732840056901" onmouseenter="enter('-8484718732840056901');" onmouseout="out('-8484718732840056901');" style="">  37    private static final int COMPLETE = 4;                                                                          </span>
<span  style="">  38                                                                                                                    </span>
<span class="1299301156109758253" onmouseenter="enter('1299301156109758253');" onmouseout="out('1299301156109758253');" style="">  39    private static final String FILE_PATH = &quot;/sdcard/Download/test.zip&quot;;                                            </span>
<span  style="">  40                                                                                                                    </span>
<span class="377439294877754235" onmouseenter="enter('377439294877754235');" onmouseout="out('377439294877754235');" style="">  41    private Handler mHandler = new Handler() {                                                                      </span>
<span class="-1427939510718485574" onmouseenter="enter('-1427939510718485574');" onmouseout="out('-1427939510718485574');" style="">  42      @Override public void handleMessage(Message msg) {                                                            </span>
<span class="631594066954408669" onmouseenter="enter('631594066954408669');" onmouseout="out('631594066954408669');" style="">  43        super.handleMessage(msg);                                                                                   </span>
<span class="-8685502422614048725" onmouseenter="enter('-8685502422614048725');" onmouseout="out('-8685502422614048725');" style="">  44        UploadTask task = (UploadTask) msg.obj;                                                                     </span>
<span class="-3954437576728056065" onmouseenter="enter('-3954437576728056065');" onmouseout="out('-3954437576728056065');" style="">  45        switch (msg.what) {                                                                                         </span>
<span class="-2079449841199557933" onmouseenter="enter('-2079449841199557933');" onmouseout="out('-2079449841199557933');" style="">  46          case START:                                                                                               </span>
<span class="-4482900866982331532" onmouseenter="enter('-4482900866982331532');" onmouseout="out('-4482900866982331532');" style="">  47            getBinding().setFileSize(FileUtil.formatFileSize(task.getFileSize()));                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  48            break;                                                                                                  </span>
<span class="1250822125610289782" onmouseenter="enter('1250822125610289782');" onmouseout="out('1250822125610289782');" style="">  49          case STOP:                                                                                                </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  50            mPb.setProgress(0);                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  51            break;                                                                                                  </span>
<span class="2194916571338084494" onmouseenter="enter('2194916571338084494');" onmouseout="out('2194916571338084494');" style="">  52          case CANCEL:                                                                                              </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style="">  53            mPb.setProgress(0);                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  54            break;                                                                                                  </span>
<span class="3901942634001995069" onmouseenter="enter('3901942634001995069');" onmouseout="out('3901942634001995069');" style="">  55          case RUNNING:                                                                                             </span>
<span class="-6706143651508164928" onmouseenter="enter('-6706143651508164928');" onmouseout="out('-6706143651508164928');" style="">  56            int p = (int) (task.getCurrentProgress() * 100 / task.getFileSize());                                   </span>
<span class="1729570289007175567" onmouseenter="enter('1729570289007175567');" onmouseout="out('1729570289007175567');" style="">  57            mPb.setProgress(p);                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  58            break;                                                                                                  </span>
<span class="-4977730218558906777" onmouseenter="enter('-4977730218558906777');" onmouseout="out('-4977730218558906777');" style="">  59          case COMPLETE:                                                                                            </span>
<span class="7012405467205013257" onmouseenter="enter('7012405467205013257');" onmouseout="out('7012405467205013257');" style="">  60            T.showShort(UploadActivity.this, &quot;上传完成&quot;);                                                               </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style="">  61            mPb.setProgress(100);                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">  62            break;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64      }                                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  65    };                                                                                                              </span>
<span  style="">  66                                                                                                                    </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  67    @Override protected int setLayoutId() {                                                                         </span>
<span class="-2303848225771022218" onmouseenter="enter('-2303848225771022218');" onmouseout="out('-2303848225771022218');" style="">  68      return R.layout.activity_upload_mean;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69    }                                                                                                               </span>
<span  style="">  70                                                                                                                    </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  71    @Override protected void init(Bundle savedInstanceState) {                                                      </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  72      super.init(savedInstanceState);                                                                               </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="">  73      //test();                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74    }                                                                                                               </span>
<span  style="">  75                                                                                                                    </span>
<span class="1228837497786754837" onmouseenter="enter('1228837497786754837');" onmouseout="out('1228837497786754837');" style="">  76    private void test(){                                                                                            </span>
<span class="-3137033899834938690" onmouseenter="enter('-3137033899834938690');" onmouseout="out('-3137033899834938690');" style="">  77      String charset = &quot;UTF-8&quot;;                                                                                     </span>
<span class="-6871438331684424466" onmouseenter="enter('-6871438331684424466');" onmouseout="out('-6871438331684424466');" style="">  78      File uploadFile1 = new File(&quot;/sdcard/Download/test.zip&quot;);                                                     </span>
<span class="-823423244477083776" onmouseenter="enter('-823423244477083776');" onmouseout="out('-823423244477083776');" style="">  79      String requestURL = &quot;http://172.18.104.50:8080/UploadActivity/sign_file&quot;;                                     </span>
<span  style="">  80                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  81      try {                                                                                                         </span>
<span class="1085735651377750696" onmouseenter="enter('1085735651377750696');" onmouseout="out('1085735651377750696');" style="">  82        MultipartUtility multipart = new MultipartUtility(requestURL, charset);                                     </span>
<span  style="">  83                                                                                                                    </span>
<span class="3937244046872632362" onmouseenter="enter('3937244046872632362');" onmouseout="out('3937244046872632362');" style="">  84        //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);                                                  </span>
<span  style="">  85                                                                                                                    </span>
<span class="-5133342063802246579" onmouseenter="enter('-5133342063802246579');" onmouseout="out('-5133342063802246579');" style="">  86        multipart.addFilePart(&quot;file&quot;, uploadFile1);                                                                 </span>
<span class="4557758385797797133" onmouseenter="enter('4557758385797797133');" onmouseout="out('4557758385797797133');" style="">  87        List&lt;String&gt; response = multipart.finish();                                                                 </span>
<span  style="">  88                                                                                                                    </span>
<span class="-9080402053230134065" onmouseenter="enter('-9080402053230134065');" onmouseout="out('-9080402053230134065');" style="">  89        System.out.println(&quot;SERVER REPLIED:&quot;);                                                                      </span>
<span  style="">  90                                                                                                                    </span>
<span class="-4228823756038304860" onmouseenter="enter('-4228823756038304860');" onmouseout="out('-4228823756038304860');" style="">  91        for (String line : response) {                                                                              </span>
<span class="4341964789822645657" onmouseenter="enter('4341964789822645657');" onmouseout="out('4341964789822645657');" style="">  92          System.out.println(line);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93        }                                                                                                           </span>
<span class="-2789836788970558872" onmouseenter="enter('-2789836788970558872');" onmouseout="out('-2789836788970558872');" style="">  94      } catch (IOException ex) {                                                                                    </span>
<span class="8681299289317247045" onmouseenter="enter('8681299289317247045');" onmouseout="out('8681299289317247045');" style="">  95        System.err.println(ex);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96      }                                                                                                             </span>
<span  style="">  97                                                                                                                    </span>
<span class="-4393188387252759612" onmouseenter="enter('-4393188387252759612');" onmouseout="out('-4393188387252759612');" style="">  98      //UploadEntity entity = new UploadEntity();                                                                   </span>
<span class="1744552577073865941" onmouseenter="enter('1744552577073865941');" onmouseout="out('1744552577073865941');" style="">  99      //entity.setFilePath(&quot;/sdcard/Download/test.zip&quot;);                                                            </span>
<span class="-1230111349706516409" onmouseenter="enter('-1230111349706516409');" onmouseout="out('-1230111349706516409');" style=""> 100      //entity.setFileName(&quot;test.pdf&quot;);                                                                             </span>
<span class="-7026162625987081" onmouseenter="enter('-7026162625987081');" onmouseout="out('-7026162625987081');" style=""> 101      //UploadTaskEntity taskEntity = new UploadTaskEntity(entity);                                                 </span>
<span class="385530292073621133" onmouseenter="enter('385530292073621133');" onmouseout="out('385530292073621133');" style=""> 102      //taskEntity.uploadUrl = &quot;http://172.18.104.50:8080/UploadActivity/sign_file&quot;;                                </span>
<span class="-2100132807918287372" onmouseenter="enter('-2100132807918287372');" onmouseout="out('-2100132807918287372');" style=""> 103      //taskEntity.attachment = &quot;file&quot;;                                                                             </span>
<span class="5438034011406488852" onmouseenter="enter('5438034011406488852');" onmouseout="out('5438034011406488852');" style=""> 104      //UploadUtil util = new UploadUtil(taskEntity, new IUploadListener() {                                        </span>
<span class="8037703526656270158" onmouseenter="enter('8037703526656270158');" onmouseout="out('8037703526656270158');" style=""> 105      //  long fileSize = 0;                                                                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 106      //                                                                                                            </span>
<span class="-3870840975848548634" onmouseenter="enter('-3870840975848548634');" onmouseout="out('-3870840975848548634');" style=""> 107      //  @Override public void onPre() {                                                                           </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 108      //                                                                                                            </span>


















<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 109      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 110      //                                                                                                            </span>
<span class="7631005447548439989" onmouseenter="enter('7631005447548439989');" onmouseout="out('7631005447548439989');" style=""> 111      //  @Override public void onStart(long fileSize) {                                                            </span>
<span class="-355122486947470561" onmouseenter="enter('-355122486947470561');" onmouseout="out('-355122486947470561');" style=""> 112      //    this.fileSize = fileSize;                                                                               </span>


























































<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 113      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 114      //                                                                                                            </span>
<span class="-203128626848903253" onmouseenter="enter('-203128626848903253');" onmouseout="out('-203128626848903253');" style=""> 115      //  @Override public void onResume(long resumeLocation) {                                                     </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 116      //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 117      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 118      //                                                                                                            </span>
<span class="-2644748557003307088" onmouseenter="enter('-2644748557003307088');" onmouseout="out('-2644748557003307088');" style=""> 119      //  @Override public void onStop(long stopLocation) {                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 120      //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 121      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 122      //                                                                                                            </span>
<span class="5405690338225334931" onmouseenter="enter('5405690338225334931');" onmouseout="out('5405690338225334931');" style=""> 123      //  @Override public void onProgress(long currentLocation) {                                                  </span>
<span class="-3459434824036252247" onmouseenter="enter('-3459434824036252247');" onmouseout="out('-3459434824036252247');" style=""> 124      //    int p = (int) (currentLocation * 100 / fileSize);                                                       </span>
<span class="-7220277953137701581" onmouseenter="enter('-7220277953137701581');" onmouseout="out('-7220277953137701581');" style=""> 125      //    mPb.setProgress(p);                                                                                     </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 126      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 127      //                                                                                                            </span>
<span class="3235250009830112547" onmouseenter="enter('3235250009830112547');" onmouseout="out('3235250009830112547');" style=""> 128      //  @Override public void onCancel() {                                                                        </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 129      //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 130      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 131      //                                                                                                            </span>
<span class="6194370093187814260" onmouseenter="enter('6194370093187814260');" onmouseout="out('6194370093187814260');" style=""> 132      //  @Override public void onComplete() {                                                                      </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 133      //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 134      //  }                                                                                                         </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 135      //                                                                                                            </span>
<span class="3116631702806608210" onmouseenter="enter('3116631702806608210');" onmouseout="out('3116631702806608210');" style=""> 136      //  @Override public void onFail() {                                                                          </span>
<span class="-8064130612454474190" onmouseenter="enter('-8064130612454474190');" onmouseout="out('-8064130612454474190');" style=""> 137      //                                                                                                            </span>
<span class="2740629830860486557" onmouseenter="enter('2740629830860486557');" onmouseout="out('2740629830860486557');" style=""> 138      //  }                                                                                                         </span>
<span class="4304480005524786706" onmouseenter="enter('4304480005524786706');" onmouseout="out('4304480005524786706');" style=""> 139      //});                                                                                                         </span>
<span class="4603447299136503441" onmouseenter="enter('4603447299136503441');" onmouseout="out('4603447299136503441');" style=""> 140      //util.start();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141    }                                                                                                               </span>
<span  style=""> 142                                                                                                                    </span>
<span class="-5312379140123629361" onmouseenter="enter('-5312379140123629361');" onmouseout="out('-5312379140123629361');" style=""> 143    @OnClick(R.id.upload) void upload() {                                                                           </span>
<span class="-5554262352117178551" onmouseenter="enter('-5554262352117178551');" onmouseout="out('-5554262352117178551');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -    //Aria.upload(this)                                                                                           </span>
<span class="-1534874978787018079" onmouseenter="enter('-1534874978787018079');" onmouseout="out('-1534874978787018079');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -    //    .load(FILE_PATH)                                                                                        </span>
<span class="2309488331500718919" onmouseenter="enter('2309488331500718919');" onmouseout="out('2309488331500718919');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -    //    .setUploadUrl(&quot;http://172.18.104.50:8080/upload/sign_file&quot;)                                             </span>
<span class="7198889015055943678" onmouseenter="enter('7198889015055943678');" onmouseout="out('7198889015055943678');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -    //    .setAttachment(&quot;file&quot;)                                                                                  </span>
<span class="-3627872952222328144" onmouseenter="enter('-3627872952222328144');" onmouseout="out('-3627872952222328144');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -    //    .start();                                                                                               </span>
<span class="2603441234404519220" onmouseenter="enter('2603441234404519220');" onmouseout="out('2603441234404519220');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -    test();                                                                                                       </span>
<span class="-5042376028143834019" onmouseenter="enter('-5042376028143834019');" onmouseout="out('-5042376028143834019');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +    Aria.upload(this)                                                                                             </span>
<span class="8982596223542883770" onmouseenter="enter('8982596223542883770');" onmouseout="out('8982596223542883770');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +        .load(FILE_PATH)                                                                                          </span>
<span class="9092576578908959177" onmouseenter="enter('9092576578908959177');" onmouseout="out('9092576578908959177');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +        .setUploadUrl(&quot;http://192.168.1.8:8080/upload/sign_file&quot;)                                                 </span>
<span class="8903481036988378304" onmouseenter="enter('8903481036988378304');" onmouseout="out('8903481036988378304');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +        .setAttachment(&quot;file&quot;)                                                                                    </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +        .start();                                                                                                 </span>
<span class="7037826376062980300" onmouseenter="enter('7037826376062980300');" onmouseout="out('7037826376062980300');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +    //test();                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156    }                                                                                                               </span>
<span  style=""> 157                                                                                                                    </span>
<span class="8930118628202693545" onmouseenter="enter('8930118628202693545');" onmouseout="out('8930118628202693545');" style=""> 158    @OnClick(R.id.stop) void stop() {                                                                               </span>
<span class="1242791639397888662" onmouseenter="enter('1242791639397888662');" onmouseout="out('1242791639397888662');" style=""> 159      Aria.upload(this).load(FILE_PATH).stop();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160    }                                                                                                               </span>
<span  style=""> 161                                                                                                                    </span>
<span class="260615585566683086" onmouseenter="enter('260615585566683086');" onmouseout="out('260615585566683086');" style=""> 162    @OnClick(R.id.remove) void remove() {                                                                           </span>
<span class="-2830735790651133506" onmouseenter="enter('-2830735790651133506');" onmouseout="out('-2830735790651133506');" style=""> 163      Aria.upload(this).load(FILE_PATH).cancel();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164    }                                                                                                               </span>
<span  style=""> 165                                                                                                                    </span>
<span class="-1187774082757679628" onmouseenter="enter('-1187774082757679628');" onmouseout="out('-1187774082757679628');" style=""> 166    @Override protected void onResume() {                                                                           </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 167      super.onResume();                                                                                             </span>
<span class="-6595319194202130287" onmouseenter="enter('-6595319194202130287');" onmouseout="out('-6595319194202130287');" style=""> 168      Aria.upload(this).addSchedulerListener(new UploadListener(mHandler));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169    }                                                                                                               </span>
<span  style=""> 170                                                                                                                    </span>
<span class="4141723889696359450" onmouseenter="enter('4141723889696359450');" onmouseout="out('4141723889696359450');" style=""> 171    static class UploadListener extends Aria.UploadSchedulerListener {                                              </span>
<span class="2483626658442637890" onmouseenter="enter('2483626658442637890');" onmouseout="out('2483626658442637890');" style=""> 172      WeakReference&lt;Handler&gt; handler;                                                                               </span>
<span  style=""> 173                                                                                                                    </span>
<span class="2861854476618947158" onmouseenter="enter('2861854476618947158');" onmouseout="out('2861854476618947158');" style=""> 174      UploadListener(Handler handler) {                                                                             </span>
<span class="-7624639772437874752" onmouseenter="enter('-7624639772437874752');" onmouseout="out('-7624639772437874752');" style=""> 175        this.handler = new WeakReference&lt;&gt;(handler);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span  style=""> 177                                                                                                                    </span>
<span class="4791925522439678878" onmouseenter="enter('4791925522439678878');" onmouseout="out('4791925522439678878');" style=""> 178      @Override public void onTaskStart(UploadTask task) {                                                          </span>
<span class="8173293288608925557" onmouseenter="enter('8173293288608925557');" onmouseout="out('8173293288608925557');" style=""> 179        super.onTaskStart(task);                                                                                    </span>
<span class="-3800574412256066086" onmouseenter="enter('-3800574412256066086');" onmouseout="out('-3800574412256066086');" style=""> 180        handler.get().obtainMessage(START, task).sendToTarget();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181      }                                                                                                             </span>
<span  style=""> 182                                                                                                                    </span>
<span class="-3263471575780768562" onmouseenter="enter('-3263471575780768562');" onmouseout="out('-3263471575780768562');" style=""> 183      @Override public void onTaskStop(UploadTask task) {                                                           </span>
<span class="-5548218885986446221" onmouseenter="enter('-5548218885986446221');" onmouseout="out('-5548218885986446221');" style=""> 184        super.onTaskStop(task);                                                                                     </span>
<span class="-8068203923943640195" onmouseenter="enter('-8068203923943640195');" onmouseout="out('-8068203923943640195');" style=""> 185        handler.get().obtainMessage(STOP, task).sendToTarget();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186      }                                                                                                             </span>
<span  style=""> 187                                                                                                                    </span>
<span class="8014217063268870089" onmouseenter="enter('8014217063268870089');" onmouseout="out('8014217063268870089');" style=""> 188      @Override public void onTaskCancel(UploadTask task) {                                                         </span>
<span class="-2239539261735474201" onmouseenter="enter('-2239539261735474201');" onmouseout="out('-2239539261735474201');" style=""> 189        super.onTaskCancel(task);                                                                                   </span>
<span class="-2794495828861238287" onmouseenter="enter('-2794495828861238287');" onmouseout="out('-2794495828861238287');" style=""> 190        handler.get().obtainMessage(CANCEL, task).sendToTarget();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191      }                                                                                                             </span>
<span  style=""> 192                                                                                                                    </span>
<span class="455171565213774152" onmouseenter="enter('455171565213774152');" onmouseout="out('455171565213774152');" style=""> 193      @Override public void onTaskRunning(UploadTask task) {                                                        </span>
<span class="-7834049365724406116" onmouseenter="enter('-7834049365724406116');" onmouseout="out('-7834049365724406116');" style=""> 194        super.onTaskRunning(task);                                                                                  </span>
<span class="890548424724611854" onmouseenter="enter('890548424724611854');" onmouseout="out('890548424724611854');" style=""> 195        handler.get().obtainMessage(RUNNING, task).sendToTarget();                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196      }                                                                                                             </span>
<span  style=""> 197                                                                                                                    </span>
<span class="-530629509472029712" onmouseenter="enter('-530629509472029712');" onmouseout="out('-530629509472029712');" style=""> 198      @Override public void onTaskComplete(UploadTask task) {                                                       </span>
<span class="-1414495127344671470" onmouseenter="enter('-1414495127344671470');" onmouseout="out('-1414495127344671470');" style=""> 199        super.onTaskComplete(task);                                                                                 </span>
<span class="-2122282334575526078" onmouseenter="enter('-2122282334575526078');" onmouseout="out('-2122282334575526078');" style=""> 200        handler.get().obtainMessage(COMPLETE, task).sendToTarget();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            