<!DOCTYPE html>
<html lang="en">
          <head>
            <meta charset="utf-8">
            <title>98 chunks</title>
                <style>
                    #top {
                        height: 48vh;
                        overflow-y: auto;
                    }
                    #bottom {
                        height: 48vh;
                        overflow-y: auto;
                    }
                </style>
          </head>
          <body>
            <pre>[[{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;package com.automattic.simplenote;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import android.app.PendingIntent;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetManager;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetProvider;\n&#x27;
                           &#x27;import android.content.Context;\n&#x27;
                           &#x27;import android.content.Intent;\n&#x27;
                           &#x27;import android.os.Bundle;\n&#x27;
                           &#x27;import android.view.View;\n&#x27;
                           &#x27;import android.widget.RemoteViews;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker;\n&#x27;
                           &#x27;import com.automattic.simplenote.models.Note;\n&#x27;
                           &#x27;import com.automattic.simplenote.utils.PrefUtils;\n&#x27;
                           &#x27;import com.simperium.Simperium;\n&#x27;
                           &#x27;import com.simperium.client.Bucket;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.simperium.client.BucketObjectMissingException;\n&#x27;
                           &#x27;import com.simperium.client.User;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.CATEGORY_WIDGET;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_FIRST_ADDED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_LAST_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_SIGN_IN_TAPPED;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;public class NoteWidget extends AppWidgetProvider &#x27;
                           &#x27;{\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_CLICK = &#x27;
                           &#x27;&quot;key_widget_click&quot;;\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_IDS = &#x27;
                           &#x27;&quot;key_widget_ids&quot;;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onReceive(Context context, Intent &#x27;
                           &#x27;intent) {\n&#x27;
                           &#x27;        if (intent.getExtras() != null &amp;&amp; &#x27;
                           &#x27;intent.hasExtra(KEY_WIDGET_IDS)) {\n&#x27;
                           &#x27;            int[] ids = &#x27;
                           &#x27;intent.getExtras().getIntArray(KEY_WIDGET_IDS);\n&#x27;
                           &#x27;            this.onUpdate(context, &#x27;
                           &#x27;AppWidgetManager.getInstance(context), ids);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            super.onReceive(context, intent);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onUpdate(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        for (int appWidgetId : appWidgetIds) {\n&#x27;
                           &#x27;            Bundle appWidgetOptions = &#x27;
                           &#x27;appWidgetManager.getAppWidgetOptions(appWidgetId);\n&#x27;
                           &#x27;            updateWidget(context, &#x27;
                           &#x27;appWidgetManager, appWidgetId, appWidgetOptions);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onAppWidgetOptionsChanged(Context &#x27;
                           &#x27;context, AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle newOptions) {\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(newOptions, views);\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDeleted(Context context, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onEnabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_FIRST_ADDED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_first_added&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDisabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_LAST_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_last_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void resizeWidget(Bundle &#x27;
                           &#x27;appWidgetOptions, RemoteViews views) {\n&#x27;
                           &#x27;        // Show/Hide larger title and content &#x27;
                           &#x27;based on widget width\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(appWidgetOptions.getInt(AppWidgetManager.OPTION_APPWIDGET_MAX_WIDTH) &#x27;
                           &#x27;&gt; 200) {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void updateWidget(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle appWidgetOptions) {\n&#x27;
                           &#x27;        // Get widget views\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(appWidgetOptions, views);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        // Verify user authentication\n&#x27;
                           &#x27;        Simplenote currentApp = (Simplenote) &#x27;
                           &#x27;context.getApplicationContext();\n&#x27;
                           &#x27;        Simperium simperium = &#x27;
                           &#x27;currentApp.getSimperium();\n&#x27;
                           &#x27;        User user = simperium.getUser();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(user.getStatus().equals(User.Status.NOT_AUTHORIZED)) &#x27;
                           &#x27;{\n&#x27;
                           &#x27;            // Create intent to navigate to notes &#x27;
                           &#x27;activity which redirects to signin on widget &#x27;
                           &#x27;click\n&#x27;
                           &#x27;            Intent intent = new Intent(context, &#x27;
                           &#x27;NotesActivity.class);\n&#x27;
                           &#x27;            intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_SIGN_IN_TAPPED);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;            PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, 0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            // Get note id from SharedPreferences\n&#x27;
                           &#x27;            String key =  &#x27;
                           &#x27;PrefUtils.getStringPref(context, &#x27;
                           &#x27;PrefUtils.PREF_NOTE_WIDGET_NOTE + appWidgetId);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            if (!key.isEmpty()) {\n&#x27;
                           &#x27;                // Get notes bucket\n&#x27;
                           &#x27;                Bucket&lt;Note&gt; notesBucket = &#x27;
                           &#x27;currentApp.getNotesBucket();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                try {\n&#x27;
                           &#x27;                    // Update note\n&#x27;
                           &#x27;                    Note updatedNote = &#x27;
                           &#x27;notesBucket.get(key);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Prepare bundle for &#x27;
                           &#x27;NoteEditorActivity\n&#x27;
                           &#x27;                    Bundle arguments = new &#x27;
                           &#x27;Bundle();\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_IS_FROM_WIDGET, &#x27;
                           &#x27;true);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putString(NoteEditorFragment.ARG_ITEM_ID, &#x27;
                           &#x27;updatedNote.getSimperiumKey());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_MARKDOWN_ENABLED, &#x27;
                           &#x27;updatedNote.isMarkdownEnabled());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_PREVIEW_ENABLED, &#x27;
                           &#x27;updatedNote.isPreviewEnabled());\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to selected note on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, NoteEditorActivity.class);\n&#x27;
                           &#x27;                    intent.putExtras(arguments);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Remove title from content\n&#x27;
                           &#x27;                    String title = &#x27;
                           &#x27;updatedNote.getTitle();\n&#x27;
                           &#x27;                    String contentWithoutTitle = &#x27;
                           &#x27;updatedNote.getContent().replace(title, &quot;&quot;);\n&#x27;
                           &#x27;                    int indexOfNewline = &#x27;
                           &#x27;contentWithoutTitle.indexOf(&quot;\\n&quot;) + 1;\n&#x27;
                           &#x27;                    String content = &#x27;
                           &#x27;contentWithoutTitle.substring(indexOfNewline &lt; &#x27;
                           &#x27;contentWithoutTitle.length() ? indexOfNewline : &#x27;
                           &#x27;0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Set widget content\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_content, &#x27;
                           &#x27;content);\n&#x27;
                           &#x27;                } catch &#x27;
                           &#x27;(BucketObjectMissingException e) {\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to widget configure activity on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, &#x27;
                           &#x27;NoteWidgetConfigureActivity.class);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, &#x27;
                           &#x27;appWidgetId);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;                }\n&#x27;
                           &#x27;            } else {\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;null);\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;}\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;package com.automattic.simplenote;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import android.app.PendingIntent;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetManager;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetProvider;\n&#x27;
                           &#x27;import android.content.Context;\n&#x27;
                           &#x27;import android.content.Intent;\n&#x27;
                           &#x27;import android.os.Bundle;\n&#x27;
                           &#x27;import android.view.View;\n&#x27;
                           &#x27;import android.widget.RemoteViews;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker;\n&#x27;
                           &#x27;import com.automattic.simplenote.models.Note;\n&#x27;
                           &#x27;import com.automattic.simplenote.utils.PrefUtils;\n&#x27;
                           &#x27;import com.simperium.Simperium;\n&#x27;
                           &#x27;import com.simperium.client.Bucket;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.simperium.client.BucketObjectMissingException;\n&#x27;
                           &#x27;import com.simperium.client.User;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.CATEGORY_WIDGET;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_FIRST_ADDED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_LAST_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_SIGN_IN_TAPPED;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;public class NoteWidget extends AppWidgetProvider &#x27;
                           &#x27;{\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_CLICK = &#x27;
                           &#x27;&quot;key_widget_click&quot;;\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_IDS = &#x27;
                           &#x27;&quot;key_widget_ids&quot;;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onReceive(Context context, Intent &#x27;
                           &#x27;intent) {\n&#x27;
                           &#x27;        if (intent.getExtras() != null &amp;&amp; &#x27;
                           &#x27;intent.hasExtra(KEY_WIDGET_IDS)) {\n&#x27;
                           &#x27;            int[] ids = &#x27;
                           &#x27;intent.getExtras().getIntArray(KEY_WIDGET_IDS);\n&#x27;
                           &#x27;            this.onUpdate(context, &#x27;
                           &#x27;AppWidgetManager.getInstance(context), ids);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            super.onReceive(context, intent);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onUpdate(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        for (int appWidgetId : appWidgetIds) {\n&#x27;
                           &#x27;            Bundle appWidgetOptions = &#x27;
                           &#x27;appWidgetManager.getAppWidgetOptions(appWidgetId);\n&#x27;
                           &#x27;            updateWidget(context, &#x27;
                           &#x27;appWidgetManager, appWidgetId, appWidgetOptions);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onAppWidgetOptionsChanged(Context &#x27;
                           &#x27;context, AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle newOptions) {\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(newOptions, views);\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDeleted(Context context, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onEnabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_FIRST_ADDED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_first_added&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDisabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_LAST_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_last_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void resizeWidget(Bundle &#x27;
                           &#x27;appWidgetOptions, RemoteViews views) {\n&#x27;
                           &#x27;        // Show/Hide larger title and content &#x27;
                           &#x27;based on widget width\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(appWidgetOptions.getInt(AppWidgetManager.OPTION_APPWIDGET_MAX_WIDTH) &#x27;
                           &#x27;&gt; 200) {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void updateWidget(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle appWidgetOptions) {\n&#x27;
                           &#x27;        // Get widget views\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(appWidgetOptions, views);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        // Verify user authentication\n&#x27;
                           &#x27;        Simplenote currentApp = (Simplenote) &#x27;
                           &#x27;context.getApplicationContext();\n&#x27;
                           &#x27;        Simperium simperium = &#x27;
                           &#x27;currentApp.getSimperium();\n&#x27;
                           &#x27;        User user = simperium.getUser();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(user.getStatus().equals(User.Status.NOT_AUTHORIZED)) &#x27;
                           &#x27;{\n&#x27;
                           &#x27;            // Create intent to navigate to notes &#x27;
                           &#x27;activity which redirects to signin on widget &#x27;
                           &#x27;click\n&#x27;
                           &#x27;            Intent intent = new Intent(context, &#x27;
                           &#x27;NotesActivity.class);\n&#x27;
                           &#x27;            intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_SIGN_IN_TAPPED);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;            PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, 0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            // Get note id from SharedPreferences\n&#x27;
                           &#x27;            String key =  &#x27;
                           &#x27;PrefUtils.getStringPref(context, &#x27;
                           &#x27;PrefUtils.PREF_NOTE_WIDGET_NOTE + appWidgetId);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            if (!key.isEmpty()) {\n&#x27;
                           &#x27;                // Get notes bucket\n&#x27;
                           &#x27;                Bucket&lt;Note&gt; notesBucket = &#x27;
                           &#x27;currentApp.getNotesBucket();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                try {\n&#x27;
                           &#x27;                    // Update note\n&#x27;
                           &#x27;                    Note updatedNote = &#x27;
                           &#x27;notesBucket.get(key);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Prepare bundle for &#x27;
                           &#x27;NoteEditorActivity\n&#x27;
                           &#x27;                    Bundle arguments = new &#x27;
                           &#x27;Bundle();\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_IS_FROM_WIDGET, &#x27;
                           &#x27;true);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putString(NoteEditorFragment.ARG_ITEM_ID, &#x27;
                           &#x27;updatedNote.getSimperiumKey());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_MARKDOWN_ENABLED, &#x27;
                           &#x27;updatedNote.isMarkdownEnabled());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_PREVIEW_ENABLED, &#x27;
                           &#x27;updatedNote.isPreviewEnabled());\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to selected note on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, NoteEditorActivity.class);\n&#x27;
                           &#x27;                    intent.putExtras(arguments);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Remove title from content\n&#x27;
                           &#x27;                    String title = &#x27;
                           &#x27;updatedNote.getTitle();\n&#x27;
                           &#x27;                    String contentWithoutTitle = &#x27;
                           &#x27;updatedNote.getContent().replace(title, &quot;&quot;);\n&#x27;
                           &#x27;                    int indexOfNewline = &#x27;
                           &#x27;contentWithoutTitle.indexOf(&quot;\\n&quot;) + 1;\n&#x27;
                           &#x27;                    String content = &#x27;
                           &#x27;contentWithoutTitle.substring(indexOfNewline &lt; &#x27;
                           &#x27;contentWithoutTitle.length() ? indexOfNewline : &#x27;
                           &#x27;0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Set widget content\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_content, &#x27;
                           &#x27;content);\n&#x27;
                           &#x27;                } catch &#x27;
                           &#x27;(BucketObjectMissingException e) {\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to widget configure activity on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, &#x27;
                           &#x27;NoteWidgetConfigureActivity.class);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, &#x27;
                           &#x27;appWidgetId);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;                }\n&#x27;
                           &#x27;            } else {\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;null);\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;}\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;
                           &#x27;package com.automattic.simplenote;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import android.app.PendingIntent;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetManager;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetProvider;\n&#x27;
                           &#x27;import android.content.Context;\n&#x27;
                           &#x27;import android.content.Intent;\n&#x27;
                           &#x27;import android.os.Bundle;\n&#x27;
                           &#x27;import android.view.View;\n&#x27;
                           &#x27;import android.widget.RemoteViews;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker;\n&#x27;
                           &#x27;import com.automattic.simplenote.models.Note;\n&#x27;
                           &#x27;import com.automattic.simplenote.utils.PrefUtils;\n&#x27;
                           &#x27;import com.simperium.Simperium;\n&#x27;
                           &#x27;import com.simperium.client.Bucket;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.simperium.client.BucketObjectMissingException;\n&#x27;
                           &#x27;import com.simperium.client.User;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.CATEGORY_WIDGET;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_FIRST_ADDED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_LAST_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_SIGN_IN_TAPPED;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;public class NoteWidget extends AppWidgetProvider &#x27;
                           &#x27;{\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_CLICK = &#x27;
                           &#x27;&quot;key_widget_click&quot;;\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_IDS = &#x27;
                           &#x27;&quot;key_widget_ids&quot;;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onReceive(Context context, Intent &#x27;
                           &#x27;intent) {\n&#x27;
                           &#x27;        if (intent.getExtras() != null &amp;&amp; &#x27;
                           &#x27;intent.hasExtra(KEY_WIDGET_IDS)) {\n&#x27;
                           &#x27;            int[] ids = &#x27;
                           &#x27;intent.getExtras().getIntArray(KEY_WIDGET_IDS);\n&#x27;
                           &#x27;            this.onUpdate(context, &#x27;
                           &#x27;AppWidgetManager.getInstance(context), ids);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            super.onReceive(context, intent);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onUpdate(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        for (int appWidgetId : appWidgetIds) {\n&#x27;
                           &#x27;            Bundle appWidgetOptions = &#x27;
                           &#x27;appWidgetManager.getAppWidgetOptions(appWidgetId);\n&#x27;
                           &#x27;            updateWidget(context, &#x27;
                           &#x27;appWidgetManager, appWidgetId, appWidgetOptions);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onAppWidgetOptionsChanged(Context &#x27;
                           &#x27;context, AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle newOptions) {\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(newOptions, views);\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDeleted(Context context, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onEnabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_FIRST_ADDED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_first_added&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDisabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_LAST_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_last_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void resizeWidget(Bundle &#x27;
                           &#x27;appWidgetOptions, RemoteViews views) {\n&#x27;
                           &#x27;        // Show/Hide larger title and content &#x27;
                           &#x27;based on widget width\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(appWidgetOptions.getInt(AppWidgetManager.OPTION_APPWIDGET_MAX_WIDTH) &#x27;
                           &#x27;&gt; 200) {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void updateWidget(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle appWidgetOptions) {\n&#x27;
                           &#x27;        // Get widget views\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(appWidgetOptions, views);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        // Verify user authentication\n&#x27;
                           &#x27;        Simplenote currentApp = (Simplenote) &#x27;
                           &#x27;context.getApplicationContext();\n&#x27;
                           &#x27;        Simperium simperium = &#x27;
                           &#x27;currentApp.getSimperium();\n&#x27;
                           &#x27;        User user = simperium.getUser();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(user.getStatus().equals(User.Status.NOT_AUTHORIZED)) &#x27;
                           &#x27;{\n&#x27;
                           &#x27;            // Create intent to navigate to notes &#x27;
                           &#x27;activity which redirects to signin on widget &#x27;
                           &#x27;click\n&#x27;
                           &#x27;            Intent intent = new Intent(context, &#x27;
                           &#x27;NotesActivity.class);\n&#x27;
                           &#x27;            intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_SIGN_IN_TAPPED);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;            PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, 0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            // Get note id from SharedPreferences\n&#x27;
                           &#x27;            String key =  &#x27;
                           &#x27;PrefUtils.getStringPref(context, &#x27;
                           &#x27;PrefUtils.PREF_NOTE_WIDGET_NOTE + appWidgetId);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            if (!key.isEmpty()) {\n&#x27;
                           &#x27;                // Get notes bucket\n&#x27;
                           &#x27;                Bucket&lt;Note&gt; notesBucket = &#x27;
                           &#x27;currentApp.getNotesBucket();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                try {\n&#x27;
                           &#x27;                    // Update note\n&#x27;
                           &#x27;                    Note updatedNote = &#x27;
                           &#x27;notesBucket.get(key);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Prepare bundle for &#x27;
                           &#x27;NoteEditorActivity\n&#x27;
                           &#x27;                    Bundle arguments = new &#x27;
                           &#x27;Bundle();\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_IS_FROM_WIDGET, &#x27;
                           &#x27;true);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putString(NoteEditorFragment.ARG_ITEM_ID, &#x27;
                           &#x27;updatedNote.getSimperiumKey());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_MARKDOWN_ENABLED, &#x27;
                           &#x27;updatedNote.isMarkdownEnabled());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_PREVIEW_ENABLED, &#x27;
                           &#x27;updatedNote.isPreviewEnabled());\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to selected note on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, NoteEditorActivity.class);\n&#x27;
                           &#x27;                    intent.putExtras(arguments);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Remove title from content\n&#x27;
                           &#x27;                    String title = &#x27;
                           &#x27;updatedNote.getTitle();\n&#x27;
                           &#x27;                    String contentWithoutTitle = &#x27;
                           &#x27;updatedNote.getContent().replace(title, &quot;&quot;);\n&#x27;
                           &#x27;                    int indexOfNewline = &#x27;
                           &#x27;contentWithoutTitle.indexOf(&quot;\\n&quot;) + 1;\n&#x27;
                           &#x27;                    String content = &#x27;
                           &#x27;contentWithoutTitle.substring(indexOfNewline &lt; &#x27;
                           &#x27;contentWithoutTitle.length() ? indexOfNewline : &#x27;
                           &#x27;0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Set widget content\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_content, &#x27;
                           &#x27;content);\n&#x27;
                           &#x27;                } catch &#x27;
                           &#x27;(BucketObjectMissingException e) {\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to widget configure activity on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, &#x27;
                           &#x27;NoteWidgetConfigureActivity.class);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, &#x27;
                           &#x27;appWidgetId);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;                }\n&#x27;
                           &#x27;            } else {\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;null);\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;}\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;, &#x27;spork&#x27;, &#x27;jfstmerge&#x27;}}],
 [{&#x27;eq&#x27;: [{&#x27;CHUNK_OURS&#x27;: &#x27;&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;package com.automattic.simplenote;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import android.app.PendingIntent;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetManager;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetProvider;\n&#x27;
                           &#x27;import android.content.Context;\n&#x27;
                           &#x27;import android.content.Intent;\n&#x27;
                           &#x27;import android.os.Bundle;\n&#x27;
                           &#x27;import android.view.View;\n&#x27;
                           &#x27;import android.widget.RemoteViews;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker;\n&#x27;
                           &#x27;import com.automattic.simplenote.models.Note;\n&#x27;
                           &#x27;import com.automattic.simplenote.utils.PrefUtils;\n&#x27;
                           &#x27;import com.simperium.Simperium;\n&#x27;
                           &#x27;import com.simperium.client.Bucket;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.simperium.client.BucketObjectMissingException;\n&#x27;
                           &#x27;import com.simperium.client.User;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.CATEGORY_WIDGET;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_FIRST_ADDED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_LAST_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_SIGN_IN_TAPPED;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;public class NoteWidget extends AppWidgetProvider &#x27;
                           &#x27;{\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_CLICK = &#x27;
                           &#x27;&quot;key_widget_click&quot;;\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_IDS = &#x27;
                           &#x27;&quot;key_widget_ids&quot;;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onReceive(Context context, Intent &#x27;
                           &#x27;intent) {\n&#x27;
                           &#x27;        if (intent.getExtras() != null &amp;&amp; &#x27;
                           &#x27;intent.hasExtra(KEY_WIDGET_IDS)) {\n&#x27;
                           &#x27;            int[] ids = &#x27;
                           &#x27;intent.getExtras().getIntArray(KEY_WIDGET_IDS);\n&#x27;
                           &#x27;            this.onUpdate(context, &#x27;
                           &#x27;AppWidgetManager.getInstance(context), ids);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            super.onReceive(context, intent);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onUpdate(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        for (int appWidgetId : appWidgetIds) {\n&#x27;
                           &#x27;            Bundle appWidgetOptions = &#x27;
                           &#x27;appWidgetManager.getAppWidgetOptions(appWidgetId);\n&#x27;
                           &#x27;            updateWidget(context, &#x27;
                           &#x27;appWidgetManager, appWidgetId, appWidgetOptions);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onAppWidgetOptionsChanged(Context &#x27;
                           &#x27;context, AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle newOptions) {\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(newOptions, views);\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDeleted(Context context, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onEnabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_FIRST_ADDED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_first_added&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDisabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_LAST_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_last_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void resizeWidget(Bundle &#x27;
                           &#x27;appWidgetOptions, RemoteViews views) {\n&#x27;
                           &#x27;        // Show/Hide larger title and content &#x27;
                           &#x27;based on widget width\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(appWidgetOptions.getInt(AppWidgetManager.OPTION_APPWIDGET_MAX_WIDTH) &#x27;
                           &#x27;&gt; 200) {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void updateWidget(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle appWidgetOptions) {\n&#x27;
                           &#x27;        // Get widget views\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(appWidgetOptions, views);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        // Verify user authentication\n&#x27;
                           &#x27;        Simplenote currentApp = (Simplenote) &#x27;
                           &#x27;context.getApplicationContext();\n&#x27;
                           &#x27;        Simperium simperium = &#x27;
                           &#x27;currentApp.getSimperium();\n&#x27;
                           &#x27;        User user = simperium.getUser();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(user.getStatus().equals(User.Status.NOT_AUTHORIZED)) &#x27;
                           &#x27;{\n&#x27;
                           &#x27;            // Create intent to navigate to notes &#x27;
                           &#x27;activity which redirects to signin on widget &#x27;
                           &#x27;click\n&#x27;
                           &#x27;            Intent intent = new Intent(context, &#x27;
                           &#x27;NotesActivity.class);\n&#x27;
                           &#x27;            intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_SIGN_IN_TAPPED);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;            PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, 0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            // Get note id from SharedPreferences\n&#x27;
                           &#x27;            String key =  &#x27;
                           &#x27;PrefUtils.getStringPref(context, &#x27;
                           &#x27;PrefUtils.PREF_NOTE_WIDGET_NOTE + appWidgetId);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            if (!key.isEmpty()) {\n&#x27;
                           &#x27;                // Get notes bucket\n&#x27;
                           &#x27;                Bucket&lt;Note&gt; notesBucket = &#x27;
                           &#x27;currentApp.getNotesBucket();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                try {\n&#x27;
                           &#x27;                    // Update note\n&#x27;
                           &#x27;                    Note updatedNote = &#x27;
                           &#x27;notesBucket.get(key);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Prepare bundle for &#x27;
                           &#x27;NoteEditorActivity\n&#x27;
                           &#x27;                    Bundle arguments = new &#x27;
                           &#x27;Bundle();\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_IS_FROM_WIDGET, &#x27;
                           &#x27;true);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putString(NoteEditorFragment.ARG_ITEM_ID, &#x27;
                           &#x27;updatedNote.getSimperiumKey());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_MARKDOWN_ENABLED, &#x27;
                           &#x27;updatedNote.isMarkdownEnabled());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_PREVIEW_ENABLED, &#x27;
                           &#x27;updatedNote.isPreviewEnabled());\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to selected note on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, NoteEditorActivity.class);\n&#x27;
                           &#x27;                    intent.putExtras(arguments);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Remove title from content\n&#x27;
                           &#x27;                    String title = &#x27;
                           &#x27;updatedNote.getTitle();\n&#x27;
                           &#x27;                    String contentWithoutTitle = &#x27;
                           &#x27;updatedNote.getContent().replace(title, &quot;&quot;);\n&#x27;
                           &#x27;                    int indexOfNewline = &#x27;
                           &#x27;contentWithoutTitle.indexOf(&quot;\\n&quot;) + 1;\n&#x27;
                           &#x27;                    String content = &#x27;
                           &#x27;contentWithoutTitle.substring(indexOfNewline &lt; &#x27;
                           &#x27;contentWithoutTitle.length() ? indexOfNewline : &#x27;
                           &#x27;0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Set widget content\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_content, &#x27;
                           &#x27;content);\n&#x27;
                           &#x27;                } catch &#x27;
                           &#x27;(BucketObjectMissingException e) {\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to widget configure activity on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, &#x27;
                           &#x27;NoteWidgetConfigureActivity.class);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, &#x27;
                           &#x27;appWidgetId);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;                }\n&#x27;
                           &#x27;            } else {\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;null);\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;}\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;package com.automattic.simplenote;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import android.app.PendingIntent;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetManager;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetProvider;\n&#x27;
                           &#x27;import android.content.Context;\n&#x27;
                           &#x27;import android.content.Intent;\n&#x27;
                           &#x27;import android.os.Bundle;\n&#x27;
                           &#x27;import android.view.View;\n&#x27;
                           &#x27;import android.widget.RemoteViews;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker;\n&#x27;
                           &#x27;import com.automattic.simplenote.models.Note;\n&#x27;
                           &#x27;import com.automattic.simplenote.utils.PrefUtils;\n&#x27;
                           &#x27;import com.simperium.Simperium;\n&#x27;
                           &#x27;import com.simperium.client.Bucket;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.simperium.client.BucketObjectMissingException;\n&#x27;
                           &#x27;import com.simperium.client.User;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.CATEGORY_WIDGET;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_FIRST_ADDED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_LAST_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_SIGN_IN_TAPPED;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;public class NoteWidget extends AppWidgetProvider &#x27;
                           &#x27;{\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_CLICK = &#x27;
                           &#x27;&quot;key_widget_click&quot;;\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_IDS = &#x27;
                           &#x27;&quot;key_widget_ids&quot;;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onReceive(Context context, Intent &#x27;
                           &#x27;intent) {\n&#x27;
                           &#x27;        if (intent.getExtras() != null &amp;&amp; &#x27;
                           &#x27;intent.hasExtra(KEY_WIDGET_IDS)) {\n&#x27;
                           &#x27;            int[] ids = &#x27;
                           &#x27;intent.getExtras().getIntArray(KEY_WIDGET_IDS);\n&#x27;
                           &#x27;            this.onUpdate(context, &#x27;
                           &#x27;AppWidgetManager.getInstance(context), ids);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            super.onReceive(context, intent);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onUpdate(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        for (int appWidgetId : appWidgetIds) {\n&#x27;
                           &#x27;            Bundle appWidgetOptions = &#x27;
                           &#x27;appWidgetManager.getAppWidgetOptions(appWidgetId);\n&#x27;
                           &#x27;            updateWidget(context, &#x27;
                           &#x27;appWidgetManager, appWidgetId, appWidgetOptions);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onAppWidgetOptionsChanged(Context &#x27;
                           &#x27;context, AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle newOptions) {\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(newOptions, views);\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDeleted(Context context, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onEnabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_FIRST_ADDED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_first_added&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDisabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_LAST_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_last_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void resizeWidget(Bundle &#x27;
                           &#x27;appWidgetOptions, RemoteViews views) {\n&#x27;
                           &#x27;        // Show/Hide larger title and content &#x27;
                           &#x27;based on widget width\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(appWidgetOptions.getInt(AppWidgetManager.OPTION_APPWIDGET_MAX_WIDTH) &#x27;
                           &#x27;&gt; 200) {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void updateWidget(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle appWidgetOptions) {\n&#x27;
                           &#x27;        // Get widget views\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(appWidgetOptions, views);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        // Verify user authentication\n&#x27;
                           &#x27;        Simplenote currentApp = (Simplenote) &#x27;
                           &#x27;context.getApplicationContext();\n&#x27;
                           &#x27;        Simperium simperium = &#x27;
                           &#x27;currentApp.getSimperium();\n&#x27;
                           &#x27;        User user = simperium.getUser();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(user.getStatus().equals(User.Status.NOT_AUTHORIZED)) &#x27;
                           &#x27;{\n&#x27;
                           &#x27;            // Create intent to navigate to notes &#x27;
                           &#x27;activity which redirects to signin on widget &#x27;
                           &#x27;click\n&#x27;
                           &#x27;            Intent intent = new Intent(context, &#x27;
                           &#x27;NotesActivity.class);\n&#x27;
                           &#x27;            intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_SIGN_IN_TAPPED);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;            PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, 0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            // Get note id from SharedPreferences\n&#x27;
                           &#x27;            String key =  &#x27;
                           &#x27;PrefUtils.getStringPref(context, &#x27;
                           &#x27;PrefUtils.PREF_NOTE_WIDGET_NOTE + appWidgetId);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            if (!key.isEmpty()) {\n&#x27;
                           &#x27;                // Get notes bucket\n&#x27;
                           &#x27;                Bucket&lt;Note&gt; notesBucket = &#x27;
                           &#x27;currentApp.getNotesBucket();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                try {\n&#x27;
                           &#x27;                    // Update note\n&#x27;
                           &#x27;                    Note updatedNote = &#x27;
                           &#x27;notesBucket.get(key);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Prepare bundle for &#x27;
                           &#x27;NoteEditorActivity\n&#x27;
                           &#x27;                    Bundle arguments = new &#x27;
                           &#x27;Bundle();\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_IS_FROM_WIDGET, &#x27;
                           &#x27;true);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putString(NoteEditorFragment.ARG_ITEM_ID, &#x27;
                           &#x27;updatedNote.getSimperiumKey());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_MARKDOWN_ENABLED, &#x27;
                           &#x27;updatedNote.isMarkdownEnabled());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_PREVIEW_ENABLED, &#x27;
                           &#x27;updatedNote.isPreviewEnabled());\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to selected note on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, NoteEditorActivity.class);\n&#x27;
                           &#x27;                    intent.putExtras(arguments);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Remove title from content\n&#x27;
                           &#x27;                    String title = &#x27;
                           &#x27;updatedNote.getTitle();\n&#x27;
                           &#x27;                    String contentWithoutTitle = &#x27;
                           &#x27;updatedNote.getContent().replace(title, &quot;&quot;);\n&#x27;
                           &#x27;                    int indexOfNewline = &#x27;
                           &#x27;contentWithoutTitle.indexOf(&quot;\\n&quot;) + 1;\n&#x27;
                           &#x27;                    String content = &#x27;
                           &#x27;contentWithoutTitle.substring(indexOfNewline &lt; &#x27;
                           &#x27;contentWithoutTitle.length() ? indexOfNewline : &#x27;
                           &#x27;0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Set widget content\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_content, &#x27;
                           &#x27;content);\n&#x27;
                           &#x27;                } catch &#x27;
                           &#x27;(BucketObjectMissingException e) {\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to widget configure activity on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, &#x27;
                           &#x27;NoteWidgetConfigureActivity.class);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, &#x27;
                           &#x27;appWidgetId);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;                }\n&#x27;
                           &#x27;            } else {\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;null);\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;}\n&#x27;},
          {&#x27;CHUNK_OURS&#x27;: &#x27;&#x27;,
           &#x27;CHUNK_THEIRS&#x27;: &#x27;\n&#x27;
                           &#x27;package com.automattic.simplenote;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import android.app.PendingIntent;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetManager;\n&#x27;
                           &#x27;import android.appwidget.AppWidgetProvider;\n&#x27;
                           &#x27;import android.content.Context;\n&#x27;
                           &#x27;import android.content.Intent;\n&#x27;
                           &#x27;import android.os.Bundle;\n&#x27;
                           &#x27;import android.view.View;\n&#x27;
                           &#x27;import android.widget.RemoteViews;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker;\n&#x27;
                           &#x27;import com.automattic.simplenote.models.Note;\n&#x27;
                           &#x27;import com.automattic.simplenote.utils.PrefUtils;\n&#x27;
                           &#x27;import com.simperium.Simperium;\n&#x27;
                           &#x27;import com.simperium.client.Bucket;\n&#x27;
                           &#x27;import &#x27;
                           &#x27;com.simperium.client.BucketObjectMissingException;\n&#x27;
                           &#x27;import com.simperium.client.User;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.CATEGORY_WIDGET;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_FIRST_ADDED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_LAST_DELETED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_NOTE_TAPPED;\n&#x27;
                           &#x27;import static &#x27;
                           &#x27;com.automattic.simplenote.analytics.AnalyticsTracker.Stat.NOTE_WIDGET_SIGN_IN_TAPPED;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;public class NoteWidget extends AppWidgetProvider &#x27;
                           &#x27;{\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_CLICK = &#x27;
                           &#x27;&quot;key_widget_click&quot;;\n&#x27;
                           &#x27;    public static final String KEY_WIDGET_IDS = &#x27;
                           &#x27;&quot;key_widget_ids&quot;;\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onReceive(Context context, Intent &#x27;
                           &#x27;intent) {\n&#x27;
                           &#x27;        if (intent.getExtras() != null &amp;&amp; &#x27;
                           &#x27;intent.hasExtra(KEY_WIDGET_IDS)) {\n&#x27;
                           &#x27;            int[] ids = &#x27;
                           &#x27;intent.getExtras().getIntArray(KEY_WIDGET_IDS);\n&#x27;
                           &#x27;            this.onUpdate(context, &#x27;
                           &#x27;AppWidgetManager.getInstance(context), ids);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            super.onReceive(context, intent);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onUpdate(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        for (int appWidgetId : appWidgetIds) {\n&#x27;
                           &#x27;            Bundle appWidgetOptions = &#x27;
                           &#x27;appWidgetManager.getAppWidgetOptions(appWidgetId);\n&#x27;
                           &#x27;            updateWidget(context, &#x27;
                           &#x27;appWidgetManager, appWidgetId, appWidgetOptions);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onAppWidgetOptionsChanged(Context &#x27;
                           &#x27;context, AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle newOptions) {\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(newOptions, views);\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDeleted(Context context, int[] &#x27;
                           &#x27;appWidgetIds) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onEnabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_FIRST_ADDED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_first_added&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    @Override\n&#x27;
                           &#x27;    public void onDisabled(Context context) {\n&#x27;
                           &#x27;        AnalyticsTracker.track(\n&#x27;
                           &#x27;            NOTE_WIDGET_LAST_DELETED,\n&#x27;
                           &#x27;            CATEGORY_WIDGET,\n&#x27;
                           &#x27;            &quot;note_widget_last_deleted&quot;\n&#x27;
                           &#x27;        );\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void resizeWidget(Bundle &#x27;
                           &#x27;appWidgetOptions, RemoteViews views) {\n&#x27;
                           &#x27;        // Show/Hide larger title and content &#x27;
                           &#x27;based on widget width\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(appWidgetOptions.getInt(AppWidgetManager.OPTION_APPWIDGET_MAX_WIDTH) &#x27;
                           &#x27;&gt; 200) {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text, &#x27;
                           &#x27;View.VISIBLE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_title, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;    private void updateWidget(Context context, &#x27;
                           &#x27;AppWidgetManager appWidgetManager, int &#x27;
                           &#x27;appWidgetId, Bundle appWidgetOptions) {\n&#x27;
                           &#x27;        // Get widget views\n&#x27;
                           &#x27;        RemoteViews views = new &#x27;
                           &#x27;RemoteViews(context.getPackageName(), &#x27;
                           &#x27;R.layout.note_widget);\n&#x27;
                           &#x27;        resizeWidget(appWidgetOptions, views);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        // Verify user authentication\n&#x27;
                           &#x27;        Simplenote currentApp = (Simplenote) &#x27;
                           &#x27;context.getApplicationContext();\n&#x27;
                           &#x27;        Simperium simperium = &#x27;
                           &#x27;currentApp.getSimperium();\n&#x27;
                           &#x27;        User user = simperium.getUser();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        if &#x27;
                           &#x27;(user.getStatus().equals(User.Status.NOT_AUTHORIZED)) &#x27;
                           &#x27;{\n&#x27;
                           &#x27;            // Create intent to navigate to notes &#x27;
                           &#x27;activity which redirects to signin on widget &#x27;
                           &#x27;click\n&#x27;
                           &#x27;            Intent intent = new Intent(context, &#x27;
                           &#x27;NotesActivity.class);\n&#x27;
                           &#x27;            intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_SIGN_IN_TAPPED);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;            PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, 0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.log_in_use_widget));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;            &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;        } else {\n&#x27;
                           &#x27;            // Get note id from SharedPreferences\n&#x27;
                           &#x27;            String key =  &#x27;
                           &#x27;PrefUtils.getStringPref(context, &#x27;
                           &#x27;PrefUtils.PREF_NOTE_WIDGET_NOTE + appWidgetId);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;            if (!key.isEmpty()) {\n&#x27;
                           &#x27;                // Get notes bucket\n&#x27;
                           &#x27;                Bucket&lt;Note&gt; notesBucket = &#x27;
                           &#x27;currentApp.getNotesBucket();\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                try {\n&#x27;
                           &#x27;                    // Update note\n&#x27;
                           &#x27;                    Note updatedNote = &#x27;
                           &#x27;notesBucket.get(key);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Prepare bundle for &#x27;
                           &#x27;NoteEditorActivity\n&#x27;
                           &#x27;                    Bundle arguments = new &#x27;
                           &#x27;Bundle();\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_IS_FROM_WIDGET, &#x27;
                           &#x27;true);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putString(NoteEditorFragment.ARG_ITEM_ID, &#x27;
                           &#x27;updatedNote.getSimperiumKey());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_MARKDOWN_ENABLED, &#x27;
                           &#x27;updatedNote.isMarkdownEnabled());\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;arguments.putBoolean(NoteEditorFragment.ARG_PREVIEW_ENABLED, &#x27;
                           &#x27;updatedNote.isPreviewEnabled());\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to selected note on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, NoteEditorActivity.class);\n&#x27;
                           &#x27;                    intent.putExtras(arguments);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Remove title from content\n&#x27;
                           &#x27;                    String title = &#x27;
                           &#x27;updatedNote.getTitle();\n&#x27;
                           &#x27;                    String contentWithoutTitle = &#x27;
                           &#x27;updatedNote.getContent().replace(title, &quot;&quot;);\n&#x27;
                           &#x27;                    int indexOfNewline = &#x27;
                           &#x27;contentWithoutTitle.indexOf(&quot;\\n&quot;) + 1;\n&#x27;
                           &#x27;                    String content = &#x27;
                           &#x27;contentWithoutTitle.substring(indexOfNewline &lt; &#x27;
                           &#x27;contentWithoutTitle.length() ? indexOfNewline : &#x27;
                           &#x27;0);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    // Set widget content\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;title);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_content, &#x27;
                           &#x27;content);\n&#x27;
                           &#x27;                } catch &#x27;
                           &#x27;(BucketObjectMissingException e) {\n&#x27;
                           &#x27;                    // Create intent to navigate &#x27;
                           &#x27;to widget configure activity on widget click\n&#x27;
                           &#x27;                    Intent intent = new &#x27;
                           &#x27;Intent(context, &#x27;
                           &#x27;NoteWidgetConfigureActivity.class);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | &#x27;
                           &#x27;Intent.FLAG_ACTIVITY_CLEAR_TOP);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(KEY_WIDGET_CLICK, &#x27;
                           &#x27;NOTE_WIDGET_NOTE_NOT_FOUND_TAPPED);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, &#x27;
                           &#x27;appWidgetId);\n&#x27;
                           &#x27;                    PendingIntent pendingIntent = &#x27;
                           &#x27;PendingIntent.getActivity(context, appWidgetId, &#x27;
                           &#x27;intent, PendingIntent.FLAG_UPDATE_CURRENT);\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;pendingIntent);\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                    &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;                }\n&#x27;
                           &#x27;            } else {\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setOnClickPendingIntent(R.id.widget_layout, &#x27;
                           &#x27;null);\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextViewText(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getString(R.string.note_not_found));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setTextColor(R.id.widget_text_title, &#x27;
                           &#x27;context.getResources().getColor(R.color.text_title_light, &#x27;
                           &#x27;context.getTheme()));\n&#x27;
                           &#x27;                &#x27;
                           &#x27;views.setViewVisibility(R.id.widget_text_content, &#x27;
                           &#x27;View.GONE);\n&#x27;
                           &#x27;            }\n&#x27;
                           &#x27;        }\n&#x27;
                           &#x27;\n&#x27;
                           &#x27;        &#x27;
                           &#x27;appWidgetManager.updateAppWidget(appWidgetId, &#x27;
                           &#x27;views);\n&#x27;
                           &#x27;    }\n&#x27;
                           &#x27;}\n&#x27;}],
   &#x27;mergers&#x27;: {&#x27;baseline&#x27;, &#x27;spork&#x27;, &#x27;jfstmerge&#x27;}}]]</pre>
          </body>
        </html>
        