<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>290</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        abbr {
                          /* Here is the delay */
                          transition-delay:0s;
                        }
                    </style>
              </head>
              <body>
                <span style="height: 4vh">
                    290
                    <a href="289.html">prev</a>
                    <a href="291.html">next</a>
                    <a href="290_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_c245f67751899f3d5af7879dfdf68c0ff9e8fa4b_Simplenote/src/main/java/com/automattic/simplenote/PreferencesActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;c245f67751899f3d5af7879dfdf68c0ff9e8fa4b:Simplenote/src/main/java/com/automattic/simplenote/PreferencesActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;c245f67751899f3d5af7879dfdf68c0ff9e8fa4b^1:Simplenote/src/main/java/com/automattic/simplenote/PreferencesActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;c245f67751899f3d5af7879dfdf68c0ff9e8fa4b^2:Simplenote/src/main/java/com/automattic/simplenote/PreferencesActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;83dc04246e28666b49f73f49ee5a38b8bf432329:Simplenote/src/main/java/com/automattic/simplenote/PreferencesActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre>   1 package com.automattic.simplenote;
   2 
   3 import android.content.Intent;
   4 import android.net.Uri;
   5 import android.os.Bundle;
   6 import android.preference.ListPreference;
   7 import android.preference.Preference;
   8 import android.preference.Preference.OnPreferenceClickListener;
   9 import android.preference.Preference.OnPreferenceChangeListener;
  10 import android.preference.PreferenceActivity;
  11 import android.view.MenuItem;
  12 import android.widget.Button;
  13 
  14 import com.automattic.simplenote.utils.PrefUtils;
  15 import com.automattic.simplenote.utils.ThemeUtils;
  16 import com.google.analytics.tracking.android.EasyTracker;
  17 import com.simperium.Simperium;
  18 import com.simperium.android.LoginActivity;
  19 import com.simperium.client.User;
  20 
<abbr title="  21 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  21 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, SimperiðŸ”µ</abbr>
  22 
  23 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  24     @SuppressWarnings(&quot;deprecation&quot;)</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  25     @Override</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  26     protected void onCreate(Bundle savedInstanceState) {</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  27 </span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  28         ThemeUtils.setTheme(this);</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  29 </span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  30         super.onCreate(savedInstanceState);</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  31 </span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  32         // if a new theme was picked, activity is recreated with theme changed intent</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  33         // set result to notify the calling activity once this activity is complete</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  34         if (ThemeUtils.themeWasChanged(getIntent()))</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  35             setResult(RESULT_OK, getIntent());</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  36 </span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  37         addPreferencesFromResource(R.xml.preferences);</span>
  38 ||||||| GitAnalyzerPlus_base
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  39 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  39 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, SimperiðŸ”µ</abbr></span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41     @SuppressWarnings(&quot;deprecation&quot;)</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42     @Override</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43     protected void onCreate(Bundle savedInstanceState) {</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44         super.onCreate(savedInstanceState);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46         addPreferencesFromResource(R.xml.preferences);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48         setTitle(R.string.settings);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50         getActionBar().setDisplayHomeAsUpEnabled(true);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53         Simplenote currentApp = (Simplenote) getApplication();</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54         currentApp.getSimperium().setUserStatusChangeListener(this);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55         currentApp.getSimperium().setOnUserCreatedListener(this);</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());</span>
  57 =======
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  58 	@SuppressWarnings(&quot;deprecation&quot;)</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  59 	@Override</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  60 	protected void onCreate(Bundle savedInstanceState) {</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  61 		super.onCreate(savedInstanceState);</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62 		</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  63 		addPreferencesFromResource(R.xml.preferences);</span>
  64 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
  65 
  66         setTitle(R.string.settings);
  67 
  68         getActionBar().setDisplayHomeAsUpEnabled(true);
  69 
  70         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
  71         Simplenote currentApp = (Simplenote) getApplication();
  72         currentApp.getSimperium().setUserStatusChangeListener(this);
  73         currentApp.getSimperium().setOnUserCreatedListener(this);
  74         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());
  75         if (currentApp.getSimperium().needsAuthorization()) {
  76             authenticatePreference.setTitle(R.string.sign_in);
  77         } else {
  78             authenticatePreference.setTitle(R.string.sign_out);
  79         }
  80 
  81         authenticatePreference.setOnPreferenceClickListener(new OnPreferenceClickListener() {
  82             @Override
  83             public boolean onPreferenceClick(Preference preference) {
  84 
  85                 Simplenote currentApp = (Simplenote) getApplication();
  86                 if (currentApp.getSimperium().needsAuthorization()) {
  87                     Intent loginIntent = new Intent(PreferencesActivity.this, LoginActivity.class);
  88                     loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);
  89                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);
  90                 } else {
  91                     Simplenote application = (Simplenote) getApplication();
  92                     application.getSimperium().deauthorizeUser();
  93                     application.getNotesBucket().reset();
  94                     application.getTagsBucket().reset();
  95                     application.getNotesBucket().stop();
  96                     application.getTagsBucket().stop();
<abbr title="  97                     EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_button&quot;, null);">  97                     EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_buttonðŸ”µ</abbr>
  98                     finish();
  99                 }
 100                 return true;
 101             }
 102         });
 103 
 104 		findPreference(&quot;pref_website&quot;).setOnPreferenceClickListener(new OnPreferenceClickListener() {
 105 			@Override
 106 			public boolean onPreferenceClick(Preference preference) {
 107                 try {
 108                     startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://simplenote.com&quot;)));
 109                 } catch (Exception e) {
 110                     e.printStackTrace();
 111                 }
 112                 return true;
 113 			}
 114 		});
 115 
<abbr title=" 116         PreferenceGroup notesPreferenceGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preferences&quot;);"> 116         PreferenceGroup notesPreferenceGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preferenceðŸ”µ</abbr>
 117         final ListPreference themePreference = (ListPreference) findPreference(PrefUtils.PREF_THEME);
 118 
 119         if (!PrefUtils.getBoolPref(this, PrefUtils.PREF_THEME_MODIFIED, false))
 120             notesPreferenceGroup.removePreference(themePreference);
 121 
 122         themePreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
 123 
 124             @Override
 125             public boolean onPreferenceChange(Preference preference, Object newValue) {
 126 
 127                 int index = Integer.parseInt(newValue.toString());
 128                 CharSequence[] entries = themePreference.getEntries();
 129                 themePreference.setSummary(entries[index]);
 130 
 131                 // update intent to indicate the theme setting was changed
 132                 setIntent(ThemeUtils.makeThemeChangeIntent());
 133 
 134                 // recreate the activity so new theme is applied
 135                 recreate();
 136 
 137                 return true;
 138             }
 139         });
 140 
 141         final ListPreference sortPreference = (ListPreference) findPreference(PrefUtils.PREF_SORT_ORDER);
 142         sortPreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
 143 
 144             @Override
 145             public boolean onPreferenceChange(Preference preference, Object newValue){
 146                 int index = Integer.parseInt(newValue.toString());
 147                 CharSequence[] entries = sortPreference.getEntries();
 148                 sortPreference.setSummary(entries[index]);
 149                 return true;
 150             }
 151         });
 152 
 153         EasyTracker.getInstance().activityStart(this);
 154 	}
 155 
 156     @Override
 157     public void onStop() {
 158         super.onStop();
 159         EasyTracker.getInstance().activityStop(this);
 160     }
 161 
 162     @Override
 163     public boolean onOptionsItemSelected(MenuItem item) {
 164 
 165         if (item.getItemId() == android.R.id.home) {
 166             finish();
 167             return true;
 168         }
 169 
 170         return super.onOptionsItemSelected(item);
 171     }
 172 
 173     @Override
 174     public void onUserStatusChange(User.Status status) {
 175         if (status == User.Status.AUTHORIZED) {
 176             // User signed in
 177             runOnUiThread(new Runnable() {
 178                 public void run() {
 179                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
 180                     authenticatePreference.setTitle(R.string.sign_out);
 181                 }
 182             });
<abbr title=" 183             EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;, null);"> 183             EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;ðŸ”µ</abbr>
 184         }
 185     }
 186 
 187     @Override
 188     public void onUserCreated(User user) {
<abbr title=" 189         EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activity&quot;, null);"> 189         EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferencðŸ”µ</abbr>
 190     }
 191 
 192 }</pre></td>
                            <td><pre>   1 package com.automattic.simplenote;
   2 
   3 import android.content.Intent;
   4 import android.net.Uri;
   5 import android.os.Bundle;
   6 import android.preference.ListPreference;
   7 import android.preference.Preference;
   8 import android.preference.Preference.OnPreferenceClickListener;
   9 import android.preference.Preference.OnPreferenceChangeListener;
  10 import android.preference.PreferenceActivity;
  11 import android.view.MenuItem;
  12 
  13 import com.automattic.simplenote.utils.PrefUtils;
  14 import com.automattic.simplenote.utils.ThemeUtils;
  15 import android.widget.Button;
  16 import com.google.analytics.tracking.android.EasyTracker;
  17 import com.simperium.Simperium;
  18 import com.simperium.android.LoginActivity;
  19 import com.simperium.client.User;
  20 
<abbr title="  21 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  21 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, SimperiðŸ”µ</abbr>
  22 
  23 	@SuppressWarnings(&quot;deprecation&quot;)
  24     @Override
  25     protected void onCreate(Bundle savedInstanceState) {
  26 
  27         ThemeUtils.setTheme(this);
  28 
  29         super.onCreate(savedInstanceState);
  30 
  31         // if a new theme was picked, activity is recreated with theme changed intent
  32         // set result to notify the calling activity once this activity is complete
  33         if (ThemeUtils.themeWasChanged(getIntent()))
  34             setResult(RESULT_OK, getIntent());
  35 
  36         addPreferencesFromResource(R.xml.preferences);
  37 
  38         setTitle(R.string.settings);
  39 
  40         getActionBar().setDisplayHomeAsUpEnabled(true);
  41 
  42         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
  43         Simplenote currentApp = (Simplenote) getApplication();
  44         currentApp.getSimperium().setUserStatusChangeListener(this);
  45         currentApp.getSimperium().setOnUserCreatedListener(this);
  46         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());
  47         if (currentApp.getSimperium().needsAuthorization()) {
  48             authenticatePreference.setTitle(R.string.sign_in);
  49         } else {
  50             authenticatePreference.setTitle(R.string.sign_out);
  51         }
  52 
  53         authenticatePreference.setOnPreferenceClickListener(new OnPreferenceClickListener() {
  54             @Override
  55             public boolean onPreferenceClick(Preference preference) {
  56 
  57                 Simplenote currentApp = (Simplenote) getApplication();
  58                 if (currentApp.getSimperium().needsAuthorization()) {
  59                     Intent loginIntent = new Intent(PreferencesActivity.this, LoginActivity.class);
  60                     loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);
  61                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);
  62                 } else {
  63                     Simplenote application = (Simplenote) getApplication();
  64                     application.getSimperium().deauthorizeUser();
  65                     application.getNotesBucket().reset();
  66                     application.getTagsBucket().reset();
  67                     application.getNotesBucket().stop();
  68                     application.getTagsBucket().stop();
<abbr title="  69                     EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_button&quot;, null);">  69                     EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_buttonðŸ”µ</abbr>
  70                     finish();
  71                 }
  72                 return true;
  73             }
  74         });
  75 
  76 		findPreference(&quot;pref_website&quot;).setOnPreferenceClickListener(new OnPreferenceClickListener() {
  77             @Override
  78             public boolean onPreferenceClick(Preference preference) {
  79                 try {
  80                     startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://simplenote.com&quot;)));
  81                 } catch (Exception e) {
  82                     e.printStackTrace();
  83                 }
  84                 return true;
  85             }
  86         });
  87 
<abbr title="  88         PreferenceGroup notesPreferenceGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preferences&quot;);">  88         PreferenceGroup notesPreferenceGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preferenceðŸ”µ</abbr>
  89         final ListPreference themePreference = (ListPreference) findPreference(PrefUtils.PREF_THEME);
  90 
  91         if (!PrefUtils.getBoolPref(this, PrefUtils.PREF_THEME_MODIFIED, false))
  92             notesPreferenceGroup.removePreference(themePreference);
  93 
  94         themePreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
  95 
  96             @Override
  97             public boolean onPreferenceChange(Preference preference, Object newValue) {
  98 
  99                 int index = Integer.parseInt(newValue.toString());
 100                 CharSequence[] entries = themePreference.getEntries();
 101                 themePreference.setSummary(entries[index]);
 102 
 103                 // update intent to indicate the theme setting was changed
 104                 setIntent(ThemeUtils.makeThemeChangeIntent());
 105 
 106                 // recreate the activity so new theme is applied
 107                 recreate();
 108 
 109                 return true;
 110             }
 111         });
 112 
 113         final ListPreference sortPreference = (ListPreference) findPreference(PrefUtils.PREF_SORT_ORDER);
 114         sortPreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
 115 
 116             @Override
 117             public boolean onPreferenceChange(Preference preference, Object newValue) {
 118                 int index = Integer.parseInt(newValue.toString());
 119                 CharSequence[] entries = sortPreference.getEntries();
 120                 sortPreference.setSummary(entries[index]);
 121                 return true;
 122             }
 123         });
 124 
 125         EasyTracker.getInstance().activityStart(this);
 126     }
 127 
 128     @Override
 129     public void onStop() {
 130         super.onStop();
 131         EasyTracker.getInstance().activityStop(this);
 132     }
 133 
 134     @Override
 135     public boolean onOptionsItemSelected(MenuItem item) {
 136 
 137         if (item.getItemId() == android.R.id.home) {
 138             finish();
 139             return true;
 140         }
 141 
 142         return super.onOptionsItemSelected(item);
 143     }
 144 
 145     @Override
 146     public void onUserStatusChange(User.Status status) {
 147         if (status == User.Status.AUTHORIZED) {
 148             // User signed in
 149             runOnUiThread(new Runnable() {
 150                 public void run() {
 151                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
 152                     authenticatePreference.setTitle(R.string.sign_out);
 153                 }
 154             });
<abbr title=" 155             EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;, null);"> 155             EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;ðŸ”µ</abbr>
 156         }
 157     }
 158 
 159     @Override
 160     public void onUserCreated(User user) {
<abbr title=" 161         EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activity&quot;, null);"> 161         EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferencðŸ”µ</abbr>
 162     }
 163 
 164 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                            <td><pre>   1 package com.automattic.simplenote;
   2 
   3 import android.content.Intent;
   4 import android.net.Uri;
   5 import android.os.Bundle;
   6 import android.preference.ListPreference;
   7 import android.preference.Preference.OnPreferenceChangeListener;
   8 import android.preference.Preference.OnPreferenceClickListener;
   9 import android.preference.Preference;
  10 import android.preference.PreferenceActivity;
  11 import android.view.MenuItem;
  12 import android.widget.Button;
  13 import com.automattic.simplenote.utils.PrefUtils;
  14 import com.automattic.simplenote.utils.ThemeUtils;
  15 import com.google.analytics.tracking.android.EasyTracker;
  16 import com.simperium.Simperium;
  17 import com.simperium.android.LoginActivity;
  18 import com.simperium.client.User;
  19 
  20 
<abbr title="  21 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener , Simperium.OnUserCreatedListener {">  21 public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener , SimperðŸ”µ</abbr>
  22     @SuppressWarnings(&quot;deprecation&quot;)
  23     @Override
  24     protected void onCreate(Bundle savedInstanceState) {
  25         ThemeUtils.setTheme(this);
  26         super.onCreate(savedInstanceState);
  27         // if a new theme was picked, activity is recreated with theme changed intent
  28         // set result to notify the calling activity once this activity is complete
  29         if (ThemeUtils.themeWasChanged(getIntent())) {
  30             setResult(RESULT_OK, getIntent());
  31         }
  32         addPreferencesFromResource(R.xml.preferences);
  33         setTitle(R.string.settings);
  34         getActionBar().setDisplayHomeAsUpEnabled(true);
  35         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
  36         Simplenote currentApp = ((Simplenote) (getApplication()));
  37         currentApp.getSimperium().setUserStatusChangeListener(this);
  38         currentApp.getSimperium().setOnUserCreatedListener(this);
  39         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());
  40         if (currentApp.getSimperium().needsAuthorization()) {
  41             authenticatePreference.setTitle(R.string.sign_in);
  42         } else {
  43             authenticatePreference.setTitle(R.string.sign_out);
  44         }
  45         authenticatePreference.setOnPreferenceClickListener(new OnPreferenceClickListener() {
  46             @Override
  47             public boolean onPreferenceClick(Preference preference) {
  48                 Simplenote currentApp = ((Simplenote) (getApplication()));
  49                 if (currentApp.getSimperium().needsAuthorization()) {
  50                     Intent loginIntent = new Intent(PreferencesActivity.this, LoginActivity.class);
  51                     loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);
  52                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);
  53                 } else {
  54                     Simplenote application = ((Simplenote) (getApplication()));
  55                     application.getSimperium().deauthorizeUser();
  56                     application.getNotesBucket().reset();
  57                     application.getTagsBucket().reset();
  58                     application.getNotesBucket().stop();
  59                     application.getTagsBucket().stop();
<abbr title="  60                     EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_button&quot;, null);">  60                     EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_buttonðŸ”µ</abbr>
  61                     finish();
  62                 }
  63                 return true;
  64             }
  65         });
  66         findPreference(&quot;pref_website&quot;).setOnPreferenceClickListener(new OnPreferenceClickListener() {
  67             @Override
  68             public boolean onPreferenceClick(Preference preference) {
  69                 try {
  70                     startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://simplenote.com&quot;)));
  71                 } catch (java.lang.Exception e) {
  72                     e.printStackTrace();
  73                 }
  74                 return true;
  75             }
  76         });
<abbr title="  77         PreferenceGroup notesPreferenceGroup = ((PreferenceGroup) (findPreference(&quot;pref_key_note_preferences&quot;)));">  77         PreferenceGroup notesPreferenceGroup = ((PreferenceGroup) (findPreference(&quot;pref_key_note_preferenðŸ”µ</abbr>
  78         final ListPreference themePreference = ((ListPreference) (findPreference(PrefUtils.PREF_THEME)));
  79         if (!PrefUtils.getBoolPref(this, PrefUtils.PREF_THEME_MODIFIED, false)) {
  80             notesPreferenceGroup.removePreference(themePreference);
  81         }
  82         themePreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
  83             @Override
  84             public boolean onPreferenceChange(Preference preference, Object newValue) {
  85                 int index = Integer.parseInt(newValue.toString());
  86                 CharSequence[] entries = themePreference.getEntries();
  87                 themePreference.setSummary(entries[index]);
  88                 // update intent to indicate the theme setting was changed
  89                 setIntent(ThemeUtils.makeThemeChangeIntent());
  90                 // recreate the activity so new theme is applied
  91                 recreate();
  92                 return true;
  93             }
  94         });
<abbr title="  95         final ListPreference sortPreference = ((ListPreference) (findPreference(PrefUtils.PREF_SORT_ORDER)));">  95         final ListPreference sortPreference = ((ListPreference) (findPreference(PrefUtils.PREF_SORT_ORDERðŸ”µ</abbr>
  96         sortPreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
  97             @Override
  98             public boolean onPreferenceChange(Preference preference, Object newValue) {
  99                 int index = Integer.parseInt(newValue.toString());
 100                 CharSequence[] entries = sortPreference.getEntries();
 101                 sortPreference.setSummary(entries[index]);
 102                 return true;
 103             }
 104         });
 105         EasyTracker.getInstance().activityStart(this);
 106     }
 107 
 108     @Override
 109     public void onStop() {
 110         super.onStop();
 111         EasyTracker.getInstance().activityStop(this);
 112     }
 113 
 114     @Override
 115     public boolean onOptionsItemSelected(MenuItem item) {
 116 
 117         if (item.getItemId() == android.R.id.home) {
 118             finish();
 119             return true;
 120         }
 121 
 122         return super.onOptionsItemSelected(item);
 123     }
 124 
 125     @Override
 126     public void onUserStatusChange(User.Status status) {
 127         if (status == User.Status.AUTHORIZED) {
 128             // User signed in
 129             runOnUiThread(new Runnable() {
 130                 public void run() {
 131                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
 132                     authenticatePreference.setTitle(R.string.sign_out);
 133                 }
 134             });
<abbr title=" 135             EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;, null);"> 135             EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;ðŸ”µ</abbr>
 136         }
 137     }
 138 
 139     @Override
 140     public void onUserCreated(User user) {
<abbr title=" 141         EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activity&quot;, null);"> 141         EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferencðŸ”µ</abbr>
 142     }
 143 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre>   1  package com.automattic.simplenote;
   2  
   3  import android.content.Intent;
   4  import android.net.Uri;
   5  import android.os.Bundle;
   6  import android.preference.ListPreference;
   7  import android.preference.Preference;

   8  import android.preference.Preference.OnPreferenceChangeListener;
   9  import android.preference.Preference.OnPreferenceClickListener;
  10  import android.preference.PreferenceActivity;
  11  import android.preference.PreferenceGroup;
  12  import android.view.MenuItem;

  13  
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 +import com.automattic.simplenote.utils.PrefUtils;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  15 +import com.automattic.simplenote.utils.ThemeUtils;</span>
  16  import com.google.analytics.tracking.android.EasyTracker;
  17  import com.simperium.Simperium;
  18  import com.simperium.android.LoginActivity;
  19  import com.simperium.client.User;
  20  
  21  import org.wordpress.passcodelock.AppLockManager;
  22  
<abbr title="  23  public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  23  public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserðŸ”µ</abbr>
  24  
  25      @SuppressWarnings(&quot;deprecation&quot;)
  26      @Override
  27      protected void onCreate(Bundle savedInstanceState) {
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +        ThemeUtils.setTheme(this);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 +</span>
  31          super.onCreate(savedInstanceState);
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 +        // if a new theme was picked, activity is recreated with theme changed intent</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +        // set result to notify the calling activity once this activity is complete</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 +        if (ThemeUtils.themeWasChanged(getIntent()))</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +            setResult(RESULT_OK, getIntent());</span>
  37  
  38          addPreferencesFromResource(R.xml.preferences);

  39  
  40          setTitle(R.string.settings);
  41  
  42          getActionBar().setDisplayHomeAsUpEnabled(true);
  43  
  44          Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
  45          Simplenote currentApp = (Simplenote) getApplication();
  46          currentApp.getSimperium().setUserStatusChangeListener(this);
  47          currentApp.getSimperium().setOnUserCreatedListener(this);
  48          authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());
  49          if (currentApp.getSimperium().needsAuthorization()) {
  50              authenticatePreference.setTitle(R.string.sign_in);
  51          } else {
  52              authenticatePreference.setTitle(R.string.sign_out);
  53          }
  54  
  55          authenticatePreference.setOnPreferenceClickListener(new OnPreferenceClickListener() {
  56              @Override
  57              public boolean onPreferenceClick(Preference preference) {
  58  
  59                  Simplenote currentApp = (Simplenote) getApplication();
  60                  if (currentApp.getSimperium().needsAuthorization()) {
  61                      Intent loginIntent = new Intent(PreferencesActivity.this, LoginActivity.class);
  62                      loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);
  63                      startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);
  64                  } else {
  65                      Simplenote application = (Simplenote) getApplication();
  66                      application.getSimperium().deauthorizeUser();
  67                      application.getNotesBucket().reset();
  68                      application.getTagsBucket().reset();
  69                      application.getNotesBucket().stop();
  70                      application.getTagsBucket().stop();
  71                      EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_button&quot;, null);
  72                      finish();
  73                  }
  74                  return true;
  75              }
  76          });
  77  
  78          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new OnPreferenceClickListener() {
  79              @Override
  80              public boolean onPreferenceClick(Preference preference) {



  81                  try {
  82                      startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://simplenote.com&quot;)));
  83                  } catch (Exception e) {
  84                      e.printStackTrace();
  85                  }
  86                  return true;
  87              }
  88          });


  89  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  90 -        final ListPreference sortPreference = (ListPreference) findPreference(&quot;pref_key_sort_order&quot;);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +        PreferenceGroup notesPreferenceGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preferences&quot;);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  92 +        final ListPreference themePreference = (ListPreference) findPreference(PrefUtils.PREF_THEME);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +        if (!PrefUtils.getBoolPref(this, PrefUtils.PREF_THEME_MODIFIED, false))</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +            notesPreferenceGroup.removePreference(themePreference);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +        themePreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +            @Override</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +            public boolean onPreferenceChange(Preference preference, Object newValue) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +                int index = Integer.parseInt(newValue.toString());</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +                CharSequence[] entries = themePreference.getEntries();</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +                themePreference.setSummary(entries[index]);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +                // update intent to indicate the theme setting was changed</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +                setIntent(ThemeUtils.makeThemeChangeIntent());</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +                // recreate the activity so new theme is applied</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +                recreate();</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +                return true;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +            }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +        });</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +        final ListPreference sortPreference = (ListPreference) findPreference(PrefUtils.PREF_SORT_ORDER);</span>
 117          sortPreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
 118  
 119              @Override
 120              public boolean onPreferenceChange(Preference preference, Object newValue) {

 121                  int index = Integer.parseInt(newValue.toString());
 122                  CharSequence[] entries = sortPreference.getEntries();
 123                  sortPreference.setSummary(entries[index]);
 124                  return true;
 125              }
 126          });
 127  
 128          Preference passcodePref = findPreference(&quot;pref_key_passcode&quot;);
 129          if (AppLockManager.getInstance().isAppLockFeatureEnabled() == false) {
 130              //Passcode Lock not supported
 131              PreferenceGroup rootGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preference&quot;);
 132              rootGroup.removePreference(passcodePref);
 133          }
 134  
 135          EasyTracker.getInstance().activityStart(this);
 136      }

 137  
 138      @Override
 139      public void onStop() {
 140          super.onStop();
 141          EasyTracker.getInstance().activityStop(this);
 142      }
 143  
 144      @Override
 145      public boolean onOptionsItemSelected(MenuItem item) {
 146  
 147          if (item.getItemId() == android.R.id.home) {
 148              finish();
 149              return true;
 150          }
 151  
 152          return super.onOptionsItemSelected(item);
 153      }
 154  
 155      @Override
 156      public void onUserStatusChange(User.Status status) {
 157          if (status == User.Status.AUTHORIZED) {
 158              // User signed in
 159              runOnUiThread(new Runnable() {
 160                  public void run() {
 161                      Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
 162                      authenticatePreference.setTitle(R.string.sign_out);
 163                  }
 164              });
 165              EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;, null);
 166          }
 167      }
 168  
 169      @Override
 170      public void onUserCreated(User user) {
<abbr title=" 171          EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activity&quot;, null);"> 171          EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activiðŸ”µ</abbr>
 172      }
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +</span>
 174  }</pre></td>
                            <td><pre>   1  package com.automattic.simplenote;
   2  
   3  import android.content.Intent;
   4  import android.net.Uri;
   5  import android.os.Bundle;
   6  import android.preference.ListPreference;
   7  import android.preference.Preference;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   8 +import android.preference.Preference.OnPreferenceClickListener;</span>
   9  import android.preference.Preference.OnPreferenceChangeListener;
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  10 -import android.preference.Preference.OnPreferenceClickListener;</span>
  11  import android.preference.PreferenceActivity;
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  12 -import android.preference.PreferenceGroup;</span>
  13  import android.view.MenuItem;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 +import android.widget.Button;</span>
  15  


  16  import com.google.analytics.tracking.android.EasyTracker;
  17  import com.simperium.Simperium;
  18  import com.simperium.android.LoginActivity;
  19  import com.simperium.client.User;
  20  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  21 -import org.wordpress.passcodelock.AppLockManager;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  22 -</span>
<abbr title="  23  public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  23  public class PreferencesActivity extends PreferenceActivity implements User.StatusChangeListener, Simperium.OnUserðŸ”µ</abbr>
  24  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  25 -    @SuppressWarnings(&quot;deprecation&quot;)</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  26 -    @Override</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  27 -    protected void onCreate(Bundle savedInstanceState) {</span>



<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  28 -        super.onCreate(savedInstanceState);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +	@SuppressWarnings(&quot;deprecation&quot;)</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 +	@Override</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  31 +	protected void onCreate(Bundle savedInstanceState) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 +		super.onCreate(savedInstanceState);</span>

  33  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  34 -        addPreferencesFromResource(R.xml.preferences);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 +		addPreferencesFromResource(R.xml.preferences);</span>
  36  
  37          setTitle(R.string.settings);
  38  
  39          getActionBar().setDisplayHomeAsUpEnabled(true);
  40  
  41          Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
  42          Simplenote currentApp = (Simplenote) getApplication();
  43          currentApp.getSimperium().setUserStatusChangeListener(this);
  44          currentApp.getSimperium().setOnUserCreatedListener(this);
  45          authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());
  46          if (currentApp.getSimperium().needsAuthorization()) {
  47              authenticatePreference.setTitle(R.string.sign_in);
  48          } else {
  49              authenticatePreference.setTitle(R.string.sign_out);
  50          }
  51  
  52          authenticatePreference.setOnPreferenceClickListener(new OnPreferenceClickListener() {
  53              @Override
  54              public boolean onPreferenceClick(Preference preference) {
  55  
  56                  Simplenote currentApp = (Simplenote) getApplication();
  57                  if (currentApp.getSimperium().needsAuthorization()) {
  58                      Intent loginIntent = new Intent(PreferencesActivity.this, LoginActivity.class);
  59                      loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);
  60                      startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);
  61                  } else {
  62                      Simplenote application = (Simplenote) getApplication();
  63                      application.getSimperium().deauthorizeUser();
  64                      application.getNotesBucket().reset();
  65                      application.getTagsBucket().reset();
  66                      application.getNotesBucket().stop();
  67                      application.getTagsBucket().stop();
  68                      EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_out&quot;, &quot;preferences_sign_out_button&quot;, null);
  69                      finish();
  70                  }
  71                  return true;
  72              }
  73          });
  74  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  75 -        findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new OnPreferenceClickListener() {</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  76 -            @Override</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  77 -            public boolean onPreferenceClick(Preference preference) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +		findPreference(&quot;pref_website&quot;).setOnPreferenceClickListener(new OnPreferenceClickListener() {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  79 +			@Override</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +			public boolean onPreferenceClick(Preference preference) {</span>
  81                  try {
  82                      startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://simplenote.com&quot;)));
  83                  } catch (Exception e) {
  84                      e.printStackTrace();
  85                  }
  86                  return true;
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  87 -            }</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  88 -        });</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +			}</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +		});</span>
  91  
  92          final ListPreference sortPreference = (ListPreference) findPreference(&quot;pref_key_sort_order&quot;);


























  93          sortPreference.setOnPreferenceChangeListener(new OnPreferenceChangeListener() {
  94  
  95              @Override
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  96 -            public boolean onPreferenceChange(Preference preference, Object newValue) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +            public boolean onPreferenceChange(Preference preference, Object newValue){</span>
  98                  int index = Integer.parseInt(newValue.toString());
  99                  CharSequence[] entries = sortPreference.getEntries();
 100                  sortPreference.setSummary(entries[index]);
 101                  return true;
 102              }
 103          });
 104  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 105 -        Preference passcodePref = findPreference(&quot;pref_key_passcode&quot;);</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 106 -        if (AppLockManager.getInstance().isAppLockFeatureEnabled() == false) {</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 107 -            //Passcode Lock not supported</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 108 -            PreferenceGroup rootGroup = (PreferenceGroup) findPreference(&quot;pref_key_note_preference&quot;);</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 109 -            rootGroup.removePreference(passcodePref);</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 110 -        }</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 111 -</span>
 112          EasyTracker.getInstance().activityStart(this);
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 113 -    }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +	}</span>
 115  
 116      @Override
 117      public void onStop() {
 118          super.onStop();
 119          EasyTracker.getInstance().activityStop(this);
 120      }
 121  
 122      @Override
 123      public boolean onOptionsItemSelected(MenuItem item) {
 124  
 125          if (item.getItemId() == android.R.id.home) {
 126              finish();
 127              return true;
 128          }
 129  
 130          return super.onOptionsItemSelected(item);
 131      }
 132  
 133      @Override
 134      public void onUserStatusChange(User.Status status) {
 135          if (status == User.Status.AUTHORIZED) {
 136              // User signed in
 137              runOnUiThread(new Runnable() {
 138                  public void run() {
 139                      Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);
 140                      authenticatePreference.setTitle(R.string.sign_out);
 141                  }
 142              });
 143              EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_preferences_activity&quot;, null);
 144          }
 145      }
 146  
 147      @Override
 148      public void onUserCreated(User user) {
<abbr title=" 149          EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activity&quot;, null);"> 149          EasyTracker.getTracker().sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_preferences_activiðŸ”µ</abbr>
 150      }

 151  }</pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            