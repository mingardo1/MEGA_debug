<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>222</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    222
                    <a href="221.html">prev</a>
                    <a href="223.html">next</a>
                    <a href="222_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_26c36926e501e51f0f3914978c1b0404faab3421_Simplenote/src/main/java/com/automattic/simplenote/models/Note.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;26c36926e501e51f0f3914978c1b0404faab3421:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;26c36926e501e51f0f3914978c1b0404faab3421^1:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;26c36926e501e51f0f3914978c1b0404faab3421^2:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;7820fb8e36834e361d4fc7d50aac8cba6d81969e:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj]], subset: [[bj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1 package com.automattic.simplenote.models;                                                                </span>
<span  style="">   2                                                                                                          </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">   3 import java.text.DateFormat;                                                                             </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">   4 import java.text.SimpleDateFormat;                                                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">   5 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">   6 import java.util.Calendar;                                                                               </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">   7 import java.util.HashMap;                                                                                </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">   8 import java.util.Locale;                                                                                 </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">   9 import java.util.Map;                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  10 import java.util.List;                                                                                   </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  11 import java.util.ArrayList;                                                                              </span>
<span  style="">  12                                                                                                          </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  13 import android.content.Context;                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  14 import android.util.Log;                                                                                 </span>
<span  style="">  15                                                                                                          </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">  16 import com.automattic.simplenote.R;                                                                      </span>
<span  style="">  17                                                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  18 import com.simperium.client.Bucket;                                                                      </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  19 import com.simperium.client.Query;                                                                       </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  20 import com.simperium.client.Query.ComparisonType;                                                        </span>
<span class="-7125452997935303365" onmouseenter="enter('-7125452997935303365');" onmouseout="out('-7125452997935303365');" style="">  21 import com.simperium.client.Query.SortType;                                                              </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">  22 import com.simperium.client.BucketObject;                                                                </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">  23 import com.simperium.client.BucketSchema;                                                                </span>
<span  style="">  24                                                                                                          </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  25 public class Note extends BucketObject {                                                                 </span>
<span  style="">  26 	                                                                                                        </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  27 	public static final String BUCKET_NAME=&quot;note&quot;;                                                          </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  28     public static final String PINNED_TAG=&quot;pinned&quot;;                                                      </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  29     public static final String NEW_LINE=&quot;\n&quot;;                                                            </span>
<span  style="">  30                                                                                                          </span>
<span class="-7581935933512782030" onmouseenter="enter('-7581935933512782030');" onmouseout="out('-7581935933512782030');" style="">  31     private static final String CONTENT_CONCAT_FORMAT=&quot;%s %s&quot;;                                           </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  32     private static final String BLANK_CONTENT=&quot;&quot;;                                                        </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  33     private static final String SPACE = &quot; &quot;;                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  35     public static final String CONTENT_PROPERTY=&quot;content&quot;;                                               </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  36     public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                     </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  37     public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                        </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  38     public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                    </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  39     public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                            </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  40     public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                            </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  41     public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                        </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  42     public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                               </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  43     public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                 </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  44     public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                              </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  45     public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                               </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  46     public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                           </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  47     public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                             </span>
<span  style="">  48 	                                                                                                        </span>
<span class="8856688340117326751" onmouseenter="enter('8856688340117326751');" onmouseout="out('8856688340117326751');" style="">  49 	protected String title = null;                                                                          </span>
<span class="2787404772195188118" onmouseenter="enter('2787404772195188118');" onmouseout="out('2787404772195188118');" style="">  50 	protected String contentPreview = null;                                                                 </span>
<span  style="">  51                                                                                                          </span>
<span  style="">  52                                                                                                          </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  53 	public static class Schema extends BucketSchema&lt;Note&gt; {                                                 </span>
<span  style="">  54                                                                                                          </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  55         protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                   </span>
<span  style="">  56                                                                                                          </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  57         public Schema(){                                                                                 </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  58             autoIndex();                                                                                 </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  59 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-5937803890823005084" onmouseenter="enter('-5937803890823005084');" onmouseout="out('-5937803890823005084');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  60             addIndex(noteIndexer);                                                                       </span>
<span class="-271891696453583936" onmouseenter="enter('-271891696453583936');" onmouseout="out('-271891696453583936');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  61             setupFullTextIndex(TAGS_PROPERTY, CONTENT_PROPERTY);                                         </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  62 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-5937803890823005084" onmouseenter="enter('-5937803890823005084');" onmouseout="out('-5937803890823005084');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63             addIndex(noteIndexer);                                                                       </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-6908548437470667499" onmouseenter="enter('-6908548437470667499');" onmouseout="out('-6908548437470667499');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65             setDefault(SYSTEM_TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                   </span>
<span class="-4240289946271476948" onmouseenter="enter('-4240289946271476948');" onmouseout="out('-4240289946271476948');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66             setDefault(TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                          </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  67 =======                                                                                                  </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  68             addIndex(sNoteIndexer);                                                                      </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  69 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  70             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-6908548437470667499" onmouseenter="enter('-6908548437470667499');" onmouseout="out('-6908548437470667499');" style="">  71             setDefault(SYSTEM_TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                   </span>
<span class="-4240289946271476948" onmouseenter="enter('-4240289946271476948');" onmouseout="out('-4240289946271476948');" style="">  72             setDefault(TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                          </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  73             setDefault(DELETED_PROPERTY, false);                                                         </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  74             setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                          </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  75             setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76         }                                                                                                </span>
<span  style="">  77                                                                                                          </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  78         public String getRemoteName(){                                                                   </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  79             return Note.BUCKET_NAME;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  80         }                                                                                                </span>
<span  style="">  81                                                                                                          </span>
<span class="2527120867404262206" onmouseenter="enter('2527120867404262206');" onmouseout="out('2527120867404262206');" style="">  82 		public Note build(String key, Map&lt;String,Object&gt;properties){                                           </span>
<span class="6091797092723625613" onmouseenter="enter('6091797092723625613');" onmouseout="out('6091797092723625613');" style="">  83 			Note note = new Note(key, properties);                                                                </span>
<span class="925626910960947041" onmouseenter="enter('925626910960947041');" onmouseout="out('925626910960947041');" style="">  84 			return note;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85 		}                                                                                                      </span>
<span  style="">  86                                                                                                          </span>
<span class="7900906166746108019" onmouseenter="enter('7900906166746108019');" onmouseout="out('7900906166746108019');" style="">  87         public void update(Note note, Map&lt;String,Object&gt;properties){                                     </span>
<span class="-3159056756452891171" onmouseenter="enter('-3159056756452891171');" onmouseout="out('-3159056756452891171');" style="">  88             note.properties = properties;                                                                </span>
<span class="-3907938199572187057" onmouseenter="enter('-3907938199572187057');" onmouseout="out('-3907938199572187057');" style="">  89             note.title = null;                                                                           </span>
<span class="-6580498848577610529" onmouseenter="enter('-6580498848577610529');" onmouseout="out('-6580498848577610529');" style="">  90             note.contentPreview = null;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92 	}                                                                                                       </span>
<span  style="">  93                                                                                                          </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  94     public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                              </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  95         return noteBucket.query()                                                                        </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  96                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97     }                                                                                                    </span>
<span  style="">  98                                                                                                          </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  99     public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 100         return noteBucket.query()                                                                        </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style=""> 101                 .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102     }                                                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 104     public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 105         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 106                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 107                 .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108     }                                                                                                    </span>
<span  style=""> 109                                                                                                          </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 110     public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                             </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 111         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 112                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 113                 .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span  style=""> 115                                                                                                          </span>
<span  style=""> 116                                                                                                          </span>
<span class="5530170773073283222" onmouseenter="enter('5530170773073283222');" onmouseout="out('5530170773073283222');" style=""> 117     public Note(String key){                                                                             </span>
<span class="8909623840762780315" onmouseenter="enter('8909623840762780315');" onmouseout="out('8909623840762780315');" style=""> 118         super(key, new HashMap&lt;String,Object&gt;());                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="-1410051178364435669" onmouseenter="enter('-1410051178364435669');" onmouseout="out('-1410051178364435669');" style=""> 121 	public Note(String key, Map&lt;String,Object&gt;properties) {                                                 </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 122 		super(key, properties);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123 	}                                                                                                       </span>
<span  style=""> 124                                                                                                          </span>
<span class="-3385376095080862891" onmouseenter="enter('-3385376095080862891');" onmouseout="out('-3385376095080862891');" style=""> 125     protected void updateTitleAndPreview(){                                                              </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 126         // try to build a title and preview property out of content                                      </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 127         String content = getContent().trim();                                                            </span>
<span class="-7459090941719316720" onmouseenter="enter('-7459090941719316720');" onmouseout="out('-7459090941719316720');" style=""> 128         // title = &quot;Hello World&quot;;                                                                        </span>
<span class="-2528539216563011129" onmouseenter="enter('-2528539216563011129');" onmouseout="out('-2528539216563011129');" style=""> 129         // contentPreview = &quot;This is a preview&quot;;                                                         </span>
<span  style=""> 130                                                                                                          </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 131         int firstNewLinePosition = content.indexOf(NEW_LINE);                                            </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 132         if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                   </span>
<span class="-4679488663613017411" onmouseenter="enter('-4679488663613017411');" onmouseout="out('-4679488663613017411');" style=""> 133             title = content.substring(0, firstNewLinePosition).trim();                                   </span>
<span  style=""> 134                                                                                                          </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 135             if (firstNewLinePosition &lt; content.length()) {                                               </span>
<span class="5798673079131132705" onmouseenter="enter('5798673079131132705');" onmouseout="out('5798673079131132705');" style=""> 136                 contentPreview = content.substring(firstNewLinePosition, content.length());              </span>
<span class="-9041732530050274696" onmouseenter="enter('-9041732530050274696');" onmouseout="out('-9041732530050274696');" style=""><abbr title=" 137                 contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();"> 137                 contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim🔵</abbr></span>
<span class="1735829929613293831" onmouseenter="enter('1735829929613293831');" onmouseout="out('1735829929613293831');" style=""> 138                 if (contentPreview.length() &gt;= 300) {                                                    </span>
<span class="5577715804247727640" onmouseenter="enter('5577715804247727640');" onmouseout="out('5577715804247727640');" style=""> 139                     contentPreview = contentPreview.substring(0, 300);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141             }                                                                                            </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 142             else {                                                                                       </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 143                 contentPreview = content;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145         }                                                                                                </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 146         else {                                                                                           </span>
<span class="-8444418858715222852" onmouseenter="enter('-8444418858715222852');" onmouseout="out('-8444418858715222852');" style=""> 147             title = content;                                                                             </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 148             contentPreview = content;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150     }                                                                                                    </span>
<span  style=""> 151 	                                                                                                        </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 152 	public String getTitle() {                                                                              </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 153         if (title == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 154             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155         }                                                                                                </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 156 		return title;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157 	}                                                                                                       </span>
<span  style=""> 158                                                                                                          </span>
<span class="-1471708678988590868" onmouseenter="enter('-1471708678988590868');" onmouseout="out('-1471708678988590868');" style=""> 159     public String getTitle(String ifBlank){                                                              </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 160         if (title == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 161             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162         }                                                                                                </span>
<span class="-2298921257928736121" onmouseenter="enter('-2298921257928736121');" onmouseout="out('-2298921257928736121');" style=""> 163         if (title.trim().equals(&quot;&quot;)) {                                                                   </span>
<span class="4845157908238866644" onmouseenter="enter('4845157908238866644');" onmouseout="out('4845157908238866644');" style=""> 164             return ifBlank;                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 165         } else {                                                                                         </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 166             return title;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 170 	public String getContent() {                                                                            </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 171         Object content = getProperty(CONTENT_PROPERTY);                                                  </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 172         if (content == null) {                                                                           </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 173             return BLANK_CONTENT;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174         }                                                                                                </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 175         return (String) content;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176 	}                                                                                                       </span>
<span  style=""> 177                                                                                                          </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 178 	public void setContent(String content) {                                                                </span>
<span class="-4606673025447744814" onmouseenter="enter('-4606673025447744814');" onmouseout="out('-4606673025447744814');" style=""> 179         title = null;                                                                                    </span>
<span class="-1769301736592682715" onmouseenter="enter('-1769301736592682715');" onmouseout="out('-1769301736592682715');" style=""> 180         contentPreview = null;                                                                           </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 181         setProperty(CONTENT_PROPERTY, content);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182 	}                                                                                                       </span>
<span  style=""> 183 	                                                                                                        </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 184 	public String getContentPreview() {                                                                     </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 185         if (contentPreview == null) {                                                                    </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 186             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187         }                                                                                                </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 188 		return contentPreview;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189 	}                                                                                                       </span>
<span  style=""> 190                                                                                                          </span>
<span class="-5710090900593654965" onmouseenter="enter('-5710090900593654965');" onmouseout="out('-5710090900593654965');" style=""> 191     public String getContentPreview(int lines){                                                          </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 192         if (contentPreview == null) {                                                                    </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 193             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194         }                                                                                                </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 195         return contentPreview;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196     }                                                                                                    </span>
<span  style=""> 197                                                                                                          </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 198 	public Calendar getCreationDate() {                                                                     </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 199         return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200 	}                                                                                                       </span>
<span  style=""> 201                                                                                                          </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 202 	public void setCreationDate(Calendar creationDate) {                                                    </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 203         setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204 	}                                                                                                       </span>
<span  style=""> 205                                                                                                          </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 206 	public Calendar getModificationDate() {                                                                 </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 207         return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208 	}                                                                                                       </span>
<span  style=""> 209                                                                                                          </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 210 	public void setModificationDate(Calendar modificationDate) {                                            </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 211         setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212 	}                                                                                                       </span>
<span  style=""> 213                                                                                                          </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 214     public boolean hasTag(String tag){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 215         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 216         String tagLower = tag.toLowerCase();                                                             </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 217         for (String tagName : tags) {                                                                    </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 218             if (tagLower.equals(tagName.toLowerCase())) return true;                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 220         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221     }                                                                                                    </span>
<span  style=""> 222                                                                                                          </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 223     public boolean hasTag(Tag tag){                                                                      </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 224         return hasTag(tag.getSimperiumKey());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 227 	public List&lt;String&gt; getTags() {                                                                         </span>
<span class="6557618911346422900" onmouseenter="enter('6557618911346422900');" onmouseout="out('6557618911346422900');" style=""> 228         Object tags = getProperty(TAGS_PROPERTY);                                                        </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 229         if (tags == null) {                                                                              </span>
<span class="-3836145751591192365" onmouseenter="enter('-3836145751591192365');" onmouseout="out('-3836145751591192365');" style=""> 230             tags = new ArrayList&lt;String&gt;();                                                              </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 231             setProperty(TAGS_PROPERTY, tags);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232         }                                                                                                </span>
<span class="-8417065296039356298" onmouseenter="enter('-8417065296039356298');" onmouseout="out('-8417065296039356298');" style=""> 233         return (ArrayList&lt;String&gt;) tags;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234 	}                                                                                                       </span>
<span  style=""> 235                                                                                                          </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 236 	public void setTags(List&lt;String&gt; tags) {                                                                </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 237         setProperty(TAGS_PROPERTY, tags);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238 	}                                                                                                       </span>
<span  style=""> 239                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 240     /**                                                                                                  </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 241      * String of tags delimited by a space                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 242      */                                                                                                  </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 243     public CharSequence getTagString(){                                                                  </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 244         StringBuilder tagString = new StringBuilder();                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 245         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 246         for(String tag : tags){                                                                          </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 247             if (tagString.length() &gt; 0) {                                                                </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 248                 tagString.append(SPACE);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249             }                                                                                            </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 250             tagString.append(tag);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251         }                                                                                                </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 252         return tagString;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253     }                                                                                                    </span>
<span  style=""> 254                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 255     /**                                                                                                  </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 256      * Sets the note&#x27;s tags by providing it with a {@link String} of space                               </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 257      * seperated tags. Filters out duplicate tags.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 258      *                                                                                                   </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 259      * @param tagString a space delimited list of tags                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 260      */                                                                                                  </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 261     public void setTagString(String tagString){                                                          </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 262         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 263         tags.clear();                                                                                    </span>
<span class="-5693622027807076650" onmouseenter="enter('-5693622027807076650');" onmouseout="out('-5693622027807076650');" style=""> 264         if (tagString == null) return;                                                                   </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 265         // Make sure string has a trailing space                                                         </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 266         if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))        </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 267             tagString = tagString + SPACE;                                                               </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 268         // for comparing case-insensitive strings, would like to find a way to                           </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 269         // do this without allocating a new list and strings                                             </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style=""> 270         List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                            </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 271         // remove all current tags                                                                       </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 272         int start = 0;                                                                                   </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 273         int next = -1;                                                                                   </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 274         String possible;                                                                                 </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 275         String possibleUpperCase;                                                                        </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 276         // search tag string for space characters and pull out individual tags                           </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 277         do {                                                                                             </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 278             next = tagString.indexOf(SPACE, start);                                                      </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 279             if (next &gt; start) {                                                                          </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 280                 possible = tagString.substring(start, next);                                             </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 281                 possibleUpperCase = possible.toUpperCase();                                              </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 282                 if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {             </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 283                     tagsUpperCase.add(possibleUpperCase);                                                </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 284                     tags.add(possible);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286             }                                                                                            </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 287             start = next + 1;                                                                            </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 288         } while(next &gt; -1);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289     }                                                                                                    </span>
<span  style=""> 290                                                                                                          </span>
<span class="-1607960192898089353" onmouseenter="enter('-1607960192898089353');" onmouseout="out('-1607960192898089353');" style=""> 291 	public List&lt;String&gt; getSystemTags() {                                                                   </span>
<span class="-4384060217643671354" onmouseenter="enter('-4384060217643671354');" onmouseout="out('-4384060217643671354');" style=""> 292         Object tags = getProperty(SYSTEM_TAGS_PROPERTY);                                                 </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 293         if (tags == null) {                                                                              </span>
<span class="-5857108152319072519" onmouseenter="enter('-5857108152319072519');" onmouseout="out('-5857108152319072519');" style=""> 294             return new ArrayList&lt;String&gt;();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295         }                                                                                                </span>
<span class="-4775486835750967757" onmouseenter="enter('-4775486835750967757');" onmouseout="out('-4775486835750967757');" style=""> 296         return (List&lt;String&gt;) tags;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297 	}                                                                                                       </span>
<span  style=""> 298                                                                                                          </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 299 	public Boolean isDeleted() {                                                                            </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 300         Object deleted = getProperty(DELETED_PROPERTY);                                                  </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 301         if (deleted == null) {                                                                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 302             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303         }                                                                                                </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 304 		if (deleted instanceof Boolean) {                                                                      </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 305 			return (Boolean) deleted;                                                                             </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style=""> 306 		} else if (deleted instanceof Number) {                                                                </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style=""> 307 			return ((Number)deleted).intValue() == 0 ? false : true;                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 308         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 309             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311 	}                                                                                                       </span>
<span  style=""> 312                                                                                                          </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 313 	public void setDeleted(boolean deleted) {                                                               </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 314 		setProperty(DELETED_PROPERTY, deleted);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315 	}                                                                                                       </span>
<span  style=""> 316                                                                                                          </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 317 	public boolean isPinned() {                                                                             </span>
<span class="-4737390931423508815" onmouseenter="enter('-4737390931423508815');" onmouseout="out('-4737390931423508815');" style=""> 318         return getSystemTags().contains(PINNED_TAG);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319 	}                                                                                                       </span>
<span  style=""> 320                                                                                                          </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 321 	public void setPinned(boolean isPinned) {                                                               </span>
<span class="379285116373643938" onmouseenter="enter('379285116373643938');" onmouseout="out('379285116373643938');" style=""> 322         if (isPinned &amp;&amp; !isPinned()) {                                                                   </span>
<span class="-4625586533260346587" onmouseenter="enter('-4625586533260346587');" onmouseout="out('-4625586533260346587');" style=""> 323             getSystemTags().add(PINNED_TAG);                                                             </span>
<span class="-2581773493742197822" onmouseenter="enter('-2581773493742197822');" onmouseout="out('-2581773493742197822');" style=""> 324         } else if (!isPinned &amp;&amp; isPinned()){                                                             </span>
<span class="-4789425823016790928" onmouseenter="enter('-4789425823016790928');" onmouseout="out('-4789425823016790928');" style=""> 325             getSystemTags().remove(PINNED_TAG);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327 	}                                                                                                       </span>
<span  style=""> 328                                                                                                          </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 329     public static String dateString(Number time, boolean useShortFormat, Context context){               </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 330         Calendar c = numberToDate(time);                                                                 </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 331         return dateString(c, useShortFormat, context);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332     }                                                                                                    </span>
<span  style=""> 333                                                                                                          </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 334 	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                  </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 335 		int year, month, day;                                                                                  </span>
<span  style=""> 336                                                                                                          </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 337 		String time, date, retVal;                                                                             </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 338 		time = date = &quot;&quot;;                                                                                      </span>
<span  style=""> 339                                                                                                          </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 340 		Calendar diff = Calendar.getInstance();                                                                </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 341 		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                    </span>
<span  style=""> 342                                                                                                          </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 343 		year = diff.get(Calendar.YEAR);                                                                        </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 344 		month = diff.get(Calendar.MONTH);                                                                      </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 345 		day = diff.get(Calendar.DAY_OF_MONTH);                                                                 </span>
<span  style=""> 346                                                                                                          </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 347 		diff.setTimeInMillis(0); // starting time                                                              </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 348 		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                               </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 349 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 349 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calend🔵</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 350 			date = context.getResources().getString(R.string.today);                                              </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 351 			if (useShortFormat)                                                                                   </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 352 				retVal = time;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 353 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 354 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 355 		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {   </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 356 			date = context.getResources().getString(R.string.yesterday);                                          </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 357 			if (useShortFormat)                                                                                   </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 358 				retVal = date;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 359 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 360 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 361 		} else {                                                                                               </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 362 			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                 </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 363 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364 		}                                                                                                      </span>
<span  style=""> 365                                                                                                          </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 366 		return retVal;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367 	}                                                                                                       </span>
<span  style=""> 368                                                                                                          </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 369     public static Calendar numberToDate(Number time){                                                    </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 370         Calendar date = Calendar.getInstance();                                                          </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 371         if (time != null) {                                                                              </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 372             // Flick Note uses millisecond resolution timestamps Simplenote expects seconds              </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 373             // since we only deal with create and modify timestamps, they should all have occured        </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 374             // at the present time or in the past.                                                       </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 375             float now = date.getTimeInMillis()/1000;                                                     </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 376             float magnitude = time.floatValue()/now;                                                     </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 377             if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                          </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 378             date.setTimeInMillis(time.longValue()*1000);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379         }                                                                                                </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 380         return date;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381     }                                                                                                    </span>
<span  style=""> 382                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 383     /**                                                                                                  </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 384      * Check if the note has any changes                                                                 </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 385      * @param content the new note content                                                               </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 386      * @param tagString space separated tags                                                             </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 387      * @param isPinned note is pinned                                                                    </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 388      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 389      */                                                                                                  </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style=""> 390     public boolean hasChanges(String content, String tagString, boolean isPinned) {                      </span>
<span  style=""> 391                                                                                                          </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style=""><abbr title=" 392         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 392         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.get🔵</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 393             return false;                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 394         else                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 395             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397 }                                                                                                        </span>

</pre></td>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1 package com.automattic.simplenote.models;                                                                </span>
<span  style="">   2                                                                                                          </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">   3 import java.text.DateFormat;                                                                             </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">   4 import java.text.SimpleDateFormat;                                                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">   5 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">   6 import java.util.Calendar;                                                                               </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">   7 import java.util.HashMap;                                                                                </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">   8 import java.util.Locale;                                                                                 </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">   9 import java.util.Map;                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  10 import java.util.List;                                                                                   </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  11 import java.util.ArrayList;                                                                              </span>
<span  style="">  12                                                                                                          </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  13 import android.content.Context;                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  14 import android.util.Log;                                                                                 </span>
<span  style="">  15                                                                                                          </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">  16 import com.automattic.simplenote.R;                                                                      </span>
<span  style="">  17                                                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  18 import com.simperium.client.Bucket;                                                                      </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  19 import com.simperium.client.Query;                                                                       </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  20 import com.simperium.client.Query.ComparisonType;                                                        </span>
<span class="-7125452997935303365" onmouseenter="enter('-7125452997935303365');" onmouseout="out('-7125452997935303365');" style="">  21 import com.simperium.client.Query.SortType;                                                              </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">  22 import com.simperium.client.BucketObject;                                                                </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">  23 import com.simperium.client.BucketSchema;                                                                </span>
<span  style="">  24                                                                                                          </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  25 public class Note extends BucketObject {                                                                 </span>
<span  style="">  26                                                                                                          </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  27 	public static final String BUCKET_NAME=&quot;note&quot;;                                                          </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  28     public static final String PINNED_TAG=&quot;pinned&quot;;                                                      </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  29     public static final String NEW_LINE=&quot;\n&quot;;                                                            </span>
<span  style="">  30                                                                                                          </span>
<span class="-7581935933512782030" onmouseenter="enter('-7581935933512782030');" onmouseout="out('-7581935933512782030');" style="">  31     private static final String CONTENT_CONCAT_FORMAT=&quot;%s %s&quot;;                                           </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  32     private static final String BLANK_CONTENT=&quot;&quot;;                                                        </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  33     private static final String SPACE = &quot; &quot;;                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  35     public static final String CONTENT_PROPERTY=&quot;content&quot;;                                               </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  36     public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                     </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  37     public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                        </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  38     public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                    </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  39     public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                            </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  40     public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                            </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  41     public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                        </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  42     public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                               </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  43     public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                 </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  44     public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                              </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  45     public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                               </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  46     public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                           </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  47     public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                             </span>
<span  style="">  48                                                                                                          </span>
<span class="8856688340117326751" onmouseenter="enter('8856688340117326751');" onmouseout="out('8856688340117326751');" style="">  49 	protected String title = null;                                                                          </span>
<span class="2787404772195188118" onmouseenter="enter('2787404772195188118');" onmouseout="out('2787404772195188118');" style="">  50 	protected String contentPreview = null;                                                                 </span>
<span  style="">  51                                                                                                          </span>
<span  style="">  52                                                                                                          </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  53 	public static class Schema extends BucketSchema&lt;Note&gt; {                                                 </span>
<span  style="">  54                                                                                                          </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  55         protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                   </span>
<span  style="">  56                                                                                                          </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  57         public Schema(){                                                                                 </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  58             autoIndex();                                                                                 </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">  59 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-5937803890823005084" onmouseenter="enter('-5937803890823005084');" onmouseout="out('-5937803890823005084');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  60             addIndex(noteIndexer);                                                                       </span>
<span class="-271891696453583936" onmouseenter="enter('-271891696453583936');" onmouseout="out('-271891696453583936');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  61             setupFullTextIndex(TAGS_PROPERTY, CONTENT_PROPERTY);                                         </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  62 ||||||| BASE                                                                                             </span>
<span class="-5937803890823005084" onmouseenter="enter('-5937803890823005084');" onmouseout="out('-5937803890823005084');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63             addIndex(noteIndexer);                                                                       </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  65 =======                                                                                                  </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  66             addIndex(sNoteIndexer);                                                                      </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style="">  67 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  68             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-6908548437470667499" onmouseenter="enter('-6908548437470667499');" onmouseout="out('-6908548437470667499');" style="">  69             setDefault(SYSTEM_TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                   </span>
<span class="-4240289946271476948" onmouseenter="enter('-4240289946271476948');" onmouseout="out('-4240289946271476948');" style="">  70             setDefault(TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                          </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  71             setDefault(DELETED_PROPERTY, false);                                                         </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  72             setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                          </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  73             setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74         }                                                                                                </span>
<span  style="">  75                                                                                                          </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  76         public String getRemoteName(){                                                                   </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  77             return Note.BUCKET_NAME;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78         }                                                                                                </span>
<span  style="">  79                                                                                                          </span>
<span class="2527120867404262206" onmouseenter="enter('2527120867404262206');" onmouseout="out('2527120867404262206');" style="">  80 		public Note build(String key, Map&lt;String,Object&gt;properties){                                           </span>
<span class="6091797092723625613" onmouseenter="enter('6091797092723625613');" onmouseout="out('6091797092723625613');" style="">  81 			Note note = new Note(key, properties);                                                                </span>
<span class="925626910960947041" onmouseenter="enter('925626910960947041');" onmouseout="out('925626910960947041');" style="">  82 			return note;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83 		}                                                                                                      </span>
<span  style="">  84                                                                                                          </span>
<span class="7900906166746108019" onmouseenter="enter('7900906166746108019');" onmouseout="out('7900906166746108019');" style="">  85         public void update(Note note, Map&lt;String,Object&gt;properties){                                     </span>
<span class="-3159056756452891171" onmouseenter="enter('-3159056756452891171');" onmouseout="out('-3159056756452891171');" style="">  86             note.properties = properties;                                                                </span>
<span class="-3907938199572187057" onmouseenter="enter('-3907938199572187057');" onmouseout="out('-3907938199572187057');" style="">  87             note.title = null;                                                                           </span>
<span class="-6580498848577610529" onmouseenter="enter('-6580498848577610529');" onmouseout="out('-6580498848577610529');" style="">  88             note.contentPreview = null;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90 	}                                                                                                       </span>
<span  style="">  91                                                                                                          </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  92     public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                              </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  93         return noteBucket.query()                                                                        </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  94                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95     }                                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  97     public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  98         return noteBucket.query()                                                                        </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style="">  99                 .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100     }                                                                                                    </span>
<span  style=""> 101                                                                                                          </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 102     public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 103         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 104                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 105                 .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106     }                                                                                                    </span>
<span  style=""> 107                                                                                                          </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 108     public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                             </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 109         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 110                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 111                 .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span  style=""> 114                                                                                                          </span>
<span class="5530170773073283222" onmouseenter="enter('5530170773073283222');" onmouseout="out('5530170773073283222');" style=""> 115     public Note(String key){                                                                             </span>
<span class="8909623840762780315" onmouseenter="enter('8909623840762780315');" onmouseout="out('8909623840762780315');" style=""> 116         super(key, new HashMap&lt;String,Object&gt;());                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="-1410051178364435669" onmouseenter="enter('-1410051178364435669');" onmouseout="out('-1410051178364435669');" style=""> 119 	public Note(String key, Map&lt;String,Object&gt;properties) {                                                 </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 120 		super(key, properties);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121 	}                                                                                                       </span>
<span  style=""> 122                                                                                                          </span>
<span class="-3385376095080862891" onmouseenter="enter('-3385376095080862891');" onmouseout="out('-3385376095080862891');" style=""> 123     protected void updateTitleAndPreview(){                                                              </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 124         // try to build a title and preview property out of content                                      </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 125         String content = getContent().trim();                                                            </span>
<span class="-7459090941719316720" onmouseenter="enter('-7459090941719316720');" onmouseout="out('-7459090941719316720');" style=""> 126         // title = &quot;Hello World&quot;;                                                                        </span>
<span class="-2528539216563011129" onmouseenter="enter('-2528539216563011129');" onmouseout="out('-2528539216563011129');" style=""> 127         // contentPreview = &quot;This is a preview&quot;;                                                         </span>
<span  style=""> 128                                                                                                          </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 129         int firstNewLinePosition = content.indexOf(NEW_LINE);                                            </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 130         if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                   </span>
<span class="-4679488663613017411" onmouseenter="enter('-4679488663613017411');" onmouseout="out('-4679488663613017411');" style=""> 131             title = content.substring(0, firstNewLinePosition).trim();                                   </span>
<span  style=""> 132                                                                                                          </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 133             if (firstNewLinePosition &lt; content.length()) {                                               </span>
<span class="5798673079131132705" onmouseenter="enter('5798673079131132705');" onmouseout="out('5798673079131132705');" style=""> 134                 contentPreview = content.substring(firstNewLinePosition, content.length());              </span>
<span class="-9041732530050274696" onmouseenter="enter('-9041732530050274696');" onmouseout="out('-9041732530050274696');" style=""><abbr title=" 135                 contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();"> 135                 contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim🔵</abbr></span>
<span class="1735829929613293831" onmouseenter="enter('1735829929613293831');" onmouseout="out('1735829929613293831');" style=""> 136                 if (contentPreview.length() &gt;= 300) {                                                    </span>
<span class="5577715804247727640" onmouseenter="enter('5577715804247727640');" onmouseout="out('5577715804247727640');" style=""> 137                     contentPreview = contentPreview.substring(0, 300);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139             }                                                                                            </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 140             else {                                                                                       </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 141                 contentPreview = content;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143         }                                                                                                </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 144         else {                                                                                           </span>
<span class="-8444418858715222852" onmouseenter="enter('-8444418858715222852');" onmouseout="out('-8444418858715222852');" style=""> 145             title = content;                                                                             </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 146             contentPreview = content;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148     }                                                                                                    </span>
<span  style=""> 149                                                                                                          </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 150 	public String getTitle() {                                                                              </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 151         if (title == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 152             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153         }                                                                                                </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 154 		return title;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155 	}                                                                                                       </span>
<span  style=""> 156                                                                                                          </span>
<span class="-1471708678988590868" onmouseenter="enter('-1471708678988590868');" onmouseout="out('-1471708678988590868');" style=""> 157     public String getTitle(String ifBlank){                                                              </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 158         if (title == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 159             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160         }                                                                                                </span>
<span class="-2298921257928736121" onmouseenter="enter('-2298921257928736121');" onmouseout="out('-2298921257928736121');" style=""> 161         if (title.trim().equals(&quot;&quot;)) {                                                                   </span>
<span class="4845157908238866644" onmouseenter="enter('4845157908238866644');" onmouseout="out('4845157908238866644');" style=""> 162             return ifBlank;                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 163         } else {                                                                                         </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 164             return title;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 168 	public String getContent() {                                                                            </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 169         Object content = getProperty(CONTENT_PROPERTY);                                                  </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 170         if (content == null) {                                                                           </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 171             return BLANK_CONTENT;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172         }                                                                                                </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 173         return (String) content;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174 	}                                                                                                       </span>
<span  style=""> 175                                                                                                          </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 176 	public void setContent(String content) {                                                                </span>
<span class="-4606673025447744814" onmouseenter="enter('-4606673025447744814');" onmouseout="out('-4606673025447744814');" style=""> 177         title = null;                                                                                    </span>
<span class="-1769301736592682715" onmouseenter="enter('-1769301736592682715');" onmouseout="out('-1769301736592682715');" style=""> 178         contentPreview = null;                                                                           </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 179         setProperty(CONTENT_PROPERTY, content);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180 	}                                                                                                       </span>
<span  style=""> 181                                                                                                          </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 182 	public String getContentPreview() {                                                                     </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 183         if (contentPreview == null) {                                                                    </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 184             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185         }                                                                                                </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 186 		return contentPreview;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187 	}                                                                                                       </span>
<span  style=""> 188                                                                                                          </span>
<span class="-5710090900593654965" onmouseenter="enter('-5710090900593654965');" onmouseout="out('-5710090900593654965');" style=""> 189     public String getContentPreview(int lines){                                                          </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 190         if (contentPreview == null) {                                                                    </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 191             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192         }                                                                                                </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 193         return contentPreview;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194     }                                                                                                    </span>
<span  style=""> 195                                                                                                          </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 196 	public Calendar getCreationDate() {                                                                     </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 197         return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198 	}                                                                                                       </span>
<span  style=""> 199                                                                                                          </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 200 	public void setCreationDate(Calendar creationDate) {                                                    </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 201         setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202 	}                                                                                                       </span>
<span  style=""> 203                                                                                                          </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 204 	public Calendar getModificationDate() {                                                                 </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 205         return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206 	}                                                                                                       </span>
<span  style=""> 207                                                                                                          </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 208 	public void setModificationDate(Calendar modificationDate) {                                            </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 209         setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210 	}                                                                                                       </span>
<span  style=""> 211                                                                                                          </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 212     public boolean hasTag(String tag){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 213         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 214         String tagLower = tag.toLowerCase();                                                             </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 215         for (String tagName : tags) {                                                                    </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 216             if (tagLower.equals(tagName.toLowerCase())) return true;                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 218         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219     }                                                                                                    </span>
<span  style=""> 220                                                                                                          </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 221     public boolean hasTag(Tag tag){                                                                      </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 222         return hasTag(tag.getSimperiumKey());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223     }                                                                                                    </span>
<span  style=""> 224                                                                                                          </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 225 	public List&lt;String&gt; getTags() {                                                                         </span>
<span class="6557618911346422900" onmouseenter="enter('6557618911346422900');" onmouseout="out('6557618911346422900');" style=""> 226         Object tags = getProperty(TAGS_PROPERTY);                                                        </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 227         if (tags == null) {                                                                              </span>
<span class="-3836145751591192365" onmouseenter="enter('-3836145751591192365');" onmouseout="out('-3836145751591192365');" style=""> 228             tags = new ArrayList&lt;String&gt;();                                                              </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 229             setProperty(TAGS_PROPERTY, tags);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230         }                                                                                                </span>
<span class="-8417065296039356298" onmouseenter="enter('-8417065296039356298');" onmouseout="out('-8417065296039356298');" style=""> 231         return (ArrayList&lt;String&gt;) tags;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232 	}                                                                                                       </span>
<span  style=""> 233                                                                                                          </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 234 	public void setTags(List&lt;String&gt; tags) {                                                                </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 235         setProperty(TAGS_PROPERTY, tags);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236 	}                                                                                                       </span>
<span  style=""> 237                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 238     /**                                                                                                  </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 239      * String of tags delimited by a space                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 240      */                                                                                                  </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 241     public CharSequence getTagString(){                                                                  </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 242         StringBuilder tagString = new StringBuilder();                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 243         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 244         for(String tag : tags){                                                                          </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 245             if (tagString.length() &gt; 0) {                                                                </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 246                 tagString.append(SPACE);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247             }                                                                                            </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 248             tagString.append(tag);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249         }                                                                                                </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 250         return tagString;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251     }                                                                                                    </span>
<span  style=""> 252                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 253     /**                                                                                                  </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 254      * Sets the note&#x27;s tags by providing it with a {@link String} of space                               </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 255      * seperated tags. Filters out duplicate tags.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 256      *                                                                                                   </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 257      * @param tagString a space delimited list of tags                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 258      */                                                                                                  </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 259     public void setTagString(String tagString){                                                          </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 260         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 261         tags.clear();                                                                                    </span>
<span class="-5693622027807076650" onmouseenter="enter('-5693622027807076650');" onmouseout="out('-5693622027807076650');" style=""> 262         if (tagString == null) return;                                                                   </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 263         // Make sure string has a trailing space                                                         </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 264         if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))        </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 265             tagString = tagString + SPACE;                                                               </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 266         // for comparing case-insensitive strings, would like to find a way to                           </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 267         // do this without allocating a new list and strings                                             </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style=""> 268         List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                            </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 269         // remove all current tags                                                                       </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 270         int start = 0;                                                                                   </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 271         int next = -1;                                                                                   </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 272         String possible;                                                                                 </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 273         String possibleUpperCase;                                                                        </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 274         // search tag string for space characters and pull out individual tags                           </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 275         do {                                                                                             </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 276             next = tagString.indexOf(SPACE, start);                                                      </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 277             if (next &gt; start) {                                                                          </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 278                 possible = tagString.substring(start, next);                                             </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 279                 possibleUpperCase = possible.toUpperCase();                                              </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 280                 if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {             </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 281                     tagsUpperCase.add(possibleUpperCase);                                                </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 282                     tags.add(possible);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284             }                                                                                            </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 285             start = next + 1;                                                                            </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 286         } while(next &gt; -1);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287     }                                                                                                    </span>
<span  style=""> 288                                                                                                          </span>
<span class="-1607960192898089353" onmouseenter="enter('-1607960192898089353');" onmouseout="out('-1607960192898089353');" style=""> 289 	public List&lt;String&gt; getSystemTags() {                                                                   </span>
<span class="-4384060217643671354" onmouseenter="enter('-4384060217643671354');" onmouseout="out('-4384060217643671354');" style=""> 290         Object tags = getProperty(SYSTEM_TAGS_PROPERTY);                                                 </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 291         if (tags == null) {                                                                              </span>
<span class="-5857108152319072519" onmouseenter="enter('-5857108152319072519');" onmouseout="out('-5857108152319072519');" style=""> 292             return new ArrayList&lt;String&gt;();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span class="-4775486835750967757" onmouseenter="enter('-4775486835750967757');" onmouseout="out('-4775486835750967757');" style=""> 294         return (List&lt;String&gt;) tags;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295 	}                                                                                                       </span>
<span  style=""> 296                                                                                                          </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 297 	public Boolean isDeleted() {                                                                            </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 298         Object deleted = getProperty(DELETED_PROPERTY);                                                  </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 299         if (deleted == null) {                                                                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 300             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301         }                                                                                                </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 302 		if (deleted instanceof Boolean) {                                                                      </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 303 			return (Boolean) deleted;                                                                             </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style=""> 304 		} else if (deleted instanceof Number) {                                                                </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style=""> 305 			return ((Number)deleted).intValue() == 0 ? false : true;                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 306         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 307             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309 	}                                                                                                       </span>
<span  style=""> 310                                                                                                          </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 311 	public void setDeleted(boolean deleted) {                                                               </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 312 		setProperty(DELETED_PROPERTY, deleted);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313 	}                                                                                                       </span>
<span  style=""> 314                                                                                                          </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 315 	public boolean isPinned() {                                                                             </span>
<span class="-4737390931423508815" onmouseenter="enter('-4737390931423508815');" onmouseout="out('-4737390931423508815');" style=""> 316         return getSystemTags().contains(PINNED_TAG);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317 	}                                                                                                       </span>
<span  style=""> 318                                                                                                          </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 319 	public void setPinned(boolean isPinned) {                                                               </span>
<span class="379285116373643938" onmouseenter="enter('379285116373643938');" onmouseout="out('379285116373643938');" style=""> 320         if (isPinned &amp;&amp; !isPinned()) {                                                                   </span>
<span class="-4625586533260346587" onmouseenter="enter('-4625586533260346587');" onmouseout="out('-4625586533260346587');" style=""> 321             getSystemTags().add(PINNED_TAG);                                                             </span>
<span class="-2581773493742197822" onmouseenter="enter('-2581773493742197822');" onmouseout="out('-2581773493742197822');" style=""> 322         } else if (!isPinned &amp;&amp; isPinned()){                                                             </span>
<span class="-4789425823016790928" onmouseenter="enter('-4789425823016790928');" onmouseout="out('-4789425823016790928');" style=""> 323             getSystemTags().remove(PINNED_TAG);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325 	}                                                                                                       </span>
<span  style=""> 326                                                                                                          </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 327     public static String dateString(Number time, boolean useShortFormat, Context context){               </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 328         Calendar c = numberToDate(time);                                                                 </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 329         return dateString(c, useShortFormat, context);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330     }                                                                                                    </span>
<span  style=""> 331                                                                                                          </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 332 	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                  </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 333 		int year, month, day;                                                                                  </span>
<span  style=""> 334                                                                                                          </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 335 		String time, date, retVal;                                                                             </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 336 		time = date = &quot;&quot;;                                                                                      </span>
<span  style=""> 337                                                                                                          </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 338 		Calendar diff = Calendar.getInstance();                                                                </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 339 		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 341 		year = diff.get(Calendar.YEAR);                                                                        </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 342 		month = diff.get(Calendar.MONTH);                                                                      </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 343 		day = diff.get(Calendar.DAY_OF_MONTH);                                                                 </span>
<span  style=""> 344                                                                                                          </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 345 		diff.setTimeInMillis(0); // starting time                                                              </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 346 		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                               </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 347 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 347 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calend🔵</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 348 			date = context.getResources().getString(R.string.today);                                              </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 349 			if (useShortFormat)                                                                                   </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 350 				retVal = time;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 351 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 352 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 353 		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {   </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 354 			date = context.getResources().getString(R.string.yesterday);                                          </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 355 			if (useShortFormat)                                                                                   </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 356 				retVal = date;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 357 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 358 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 359 		} else {                                                                                               </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 360 			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                 </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 361 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362 		}                                                                                                      </span>
<span  style=""> 363                                                                                                          </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 364 		return retVal;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365 	}                                                                                                       </span>
<span  style=""> 366                                                                                                          </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 367     public static Calendar numberToDate(Number time){                                                    </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 368         Calendar date = Calendar.getInstance();                                                          </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 369         if (time != null) {                                                                              </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 370             // Flick Note uses millisecond resolution timestamps Simplenote expects seconds              </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 371             // since we only deal with create and modify timestamps, they should all have occured        </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 372             // at the present time or in the past.                                                       </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 373             float now = date.getTimeInMillis()/1000;                                                     </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 374             float magnitude = time.floatValue()/now;                                                     </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 375             if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                          </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 376             date.setTimeInMillis(time.longValue()*1000);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377         }                                                                                                </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 378         return date;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379     }                                                                                                    </span>
<span  style=""> 380                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 381     /**                                                                                                  </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 382      * Check if the note has any changes                                                                 </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 383      * @param content the new note content                                                               </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 384      * @param tagString space separated tags                                                             </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 385      * @param isPinned note is pinned                                                                    </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 386      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 387      */                                                                                                  </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style=""> 388     public boolean hasChanges(String content, String tagString, boolean isPinned) {                      </span>
<span  style=""> 389                                                                                                          </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style=""><abbr title=" 390         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 390         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.get🔵</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 391             return false;                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 392         else                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 393             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395 }                                                                                                        </span>



</pre></td>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1 package com.automattic.simplenote.models;                                                                </span>
<span  style="">   2                                                                                                          </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   3 import android.content.Context;                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">   4 import android.util.Log;                                                                                 </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">   5 import com.automattic.simplenote.R;                                                                      </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">   6 import com.simperium.client.Bucket;                                                                      </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">   7 import com.simperium.client.BucketObject;                                                                </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">   8 import com.simperium.client.BucketSchema;                                                                </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">   9 import com.simperium.client.Query.ComparisonType;                                                        </span>
<span class="-7125452997935303365" onmouseenter="enter('-7125452997935303365');" onmouseout="out('-7125452997935303365');" style="">  10 import com.simperium.client.Query.SortType;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  11 import com.simperium.client.Query;                                                                       </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  12 import java.text.DateFormat;                                                                             </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">  13 import java.text.SimpleDateFormat;                                                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  14 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  15 import java.util.Calendar;                                                                               </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  16 import java.util.HashMap;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  17 import java.util.List;                                                                                   </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">  18 import java.util.Locale;                                                                                 </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  19 import java.util.Map;                                                                                    </span>
<span  style="">  20                                                                                                          </span>
<span  style="">  21                                                                                                          </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  22 public class Note extends BucketObject {                                                                 </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  23 public static final String BUCKET_NAME=&quot;note&quot;;                                                           </span>
<span  style="">  24                                                                                                          </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  25     public static final String PINNED_TAG=&quot;pinned&quot;;                                                      </span>
<span  style="">  26                                                                                                          </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  27     public static final String NEW_LINE=&quot;\n&quot;;                                                            </span>
<span  style="">  28                                                                                                          </span>
<span class="-7581935933512782030" onmouseenter="enter('-7581935933512782030');" onmouseout="out('-7581935933512782030');" style="">  29     private static final String CONTENT_CONCAT_FORMAT=&quot;%s %s&quot;;                                           </span>
<span  style="">  30                                                                                                          </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  31     private static final String BLANK_CONTENT=&quot;&quot;;                                                        </span>
<span  style="">  32                                                                                                          </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  33     private static final String SPACE = &quot; &quot;;                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  35     public static final String CONTENT_PROPERTY=&quot;content&quot;;                                               </span>
<span  style="">  36                                                                                                          </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  37     public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                     </span>
<span  style="">  38                                                                                                          </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  39     public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                        </span>
<span  style="">  40                                                                                                          </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  41     public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                    </span>
<span  style="">  42                                                                                                          </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  43     public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                            </span>
<span  style="">  44                                                                                                          </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  45     public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                            </span>
<span  style="">  46                                                                                                          </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  47     public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                        </span>
<span  style="">  48                                                                                                          </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  49     public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                               </span>
<span  style="">  50                                                                                                          </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  51     public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                 </span>
<span  style="">  52                                                                                                          </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  53     public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                              </span>
<span  style="">  54                                                                                                          </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  55     public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                               </span>
<span  style="">  56                                                                                                          </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  57     public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                           </span>
<span  style="">  58                                                                                                          </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  59     public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                             </span>
<span  style="">  60                                                                                                          </span>
<span class="8856688340117326751" onmouseenter="enter('8856688340117326751');" onmouseout="out('8856688340117326751');" style="">  61 protected String title = null;                                                                           </span>
<span  style="">  62                                                                                                          </span>
<span class="2787404772195188118" onmouseenter="enter('2787404772195188118');" onmouseout="out('2787404772195188118');" style="">  63 protected String contentPreview = null;                                                                  </span>
<span  style="">  64                                                                                                          </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  65     public static class Schema extends BucketSchema&lt;Note&gt; {                                              </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  66         protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                   </span>
<span  style="">  67                                                                                                          </span>
<span class="-75865115147660663" onmouseenter="enter('-75865115147660663');" onmouseout="out('-75865115147660663');" style="">  68         public Schema() {                                                                                </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  69             autoIndex();                                                                                 </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="">  70             addIndex(sNoteIndexer);                                                                      </span>
<span class="-271891696453583936" onmouseenter="enter('-271891696453583936');" onmouseout="out('-271891696453583936');" style="">  71             setupFullTextIndex(TAGS_PROPERTY, CONTENT_PROPERTY);                                         </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  72             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-6908548437470667499" onmouseenter="enter('-6908548437470667499');" onmouseout="out('-6908548437470667499');" style="">  73             setDefault(SYSTEM_TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                   </span>
<span class="-4240289946271476948" onmouseenter="enter('-4240289946271476948');" onmouseout="out('-4240289946271476948');" style="">  74             setDefault(TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                          </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  75             setDefault(DELETED_PROPERTY, false);                                                         </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  76             setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                          </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  77             setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78         }                                                                                                </span>
<span  style="">  79                                                                                                          </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  80         public String getRemoteName(){                                                                   </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  81             return Note.BUCKET_NAME;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  82         }                                                                                                </span>
<span  style="">  83                                                                                                          </span>
<span class="2527120867404262206" onmouseenter="enter('2527120867404262206');" onmouseout="out('2527120867404262206');" style="">  84 public Note build(String key, Map&lt;String,Object&gt;properties){                                             </span>
<span class="6091797092723625613" onmouseenter="enter('6091797092723625613');" onmouseout="out('6091797092723625613');" style="">  85 	Note note = new Note(key, properties);                                                                  </span>
<span class="925626910960947041" onmouseenter="enter('925626910960947041');" onmouseout="out('925626910960947041');" style="">  86 	return note;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87 }                                                                                                        </span>
<span  style="">  88                                                                                                          </span>
<span class="7900906166746108019" onmouseenter="enter('7900906166746108019');" onmouseout="out('7900906166746108019');" style="">  89         public void update(Note note, Map&lt;String,Object&gt;properties){                                     </span>
<span class="-3159056756452891171" onmouseenter="enter('-3159056756452891171');" onmouseout="out('-3159056756452891171');" style="">  90             note.properties = properties;                                                                </span>
<span class="-3907938199572187057" onmouseenter="enter('-3907938199572187057');" onmouseout="out('-3907938199572187057');" style="">  91             note.title = null;                                                                           </span>
<span class="-6580498848577610529" onmouseenter="enter('-6580498848577610529');" onmouseout="out('-6580498848577610529');" style="">  92             note.contentPreview = null;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94     }                                                                                                    </span>
<span  style="">  95                                                                                                          </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  96     public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                              </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  97         return noteBucket.query()                                                                        </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  98                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99     }                                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style=""> 101     public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 102         return noteBucket.query()                                                                        </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style=""> 103                 .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104     }                                                                                                    </span>
<span  style=""> 105                                                                                                          </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 106     public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 107         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 108                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 109                 .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110     }                                                                                                    </span>
<span  style=""> 111                                                                                                          </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 112     public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                             </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 113         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 114                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 115                 .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116     }                                                                                                    </span>
<span  style=""> 117                                                                                                          </span>
<span class="767263449852825375" onmouseenter="enter('767263449852825375');" onmouseout="out('767263449852825375');" style=""> 118     public Note(String key) {                                                                            </span>
<span class="-6668796051553695179" onmouseenter="enter('-6668796051553695179');" onmouseout="out('-6668796051553695179');" style=""> 119         super(key, new HashMap&lt;String, Object&gt;());                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120     }                                                                                                    </span>
<span  style=""> 121                                                                                                          </span>
<span class="6840648222204523247" onmouseenter="enter('6840648222204523247');" onmouseout="out('6840648222204523247');" style=""> 122     public Note(String key, Map&lt;String, Object&gt; properties) {                                            </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 123         super(key, properties);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124     }                                                                                                    </span>
<span  style=""> 125                                                                                                          </span>
<span class="-3385376095080862891" onmouseenter="enter('-3385376095080862891');" onmouseout="out('-3385376095080862891');" style=""> 126     protected void updateTitleAndPreview(){                                                              </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 127         // try to build a title and preview property out of content                                      </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 128         String content = getContent().trim();                                                            </span>
<span class="-7459090941719316720" onmouseenter="enter('-7459090941719316720');" onmouseout="out('-7459090941719316720');" style=""> 129         // title = &quot;Hello World&quot;;                                                                        </span>
<span class="-2528539216563011129" onmouseenter="enter('-2528539216563011129');" onmouseout="out('-2528539216563011129');" style=""> 130         // contentPreview = &quot;This is a preview&quot;;                                                         </span>
<span  style=""> 131                                                                                                          </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 132         int firstNewLinePosition = content.indexOf(NEW_LINE);                                            </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 133         if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                   </span>
<span class="-4679488663613017411" onmouseenter="enter('-4679488663613017411');" onmouseout="out('-4679488663613017411');" style=""> 134             title = content.substring(0, firstNewLinePosition).trim();                                   </span>
<span  style=""> 135                                                                                                          </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 136             if (firstNewLinePosition &lt; content.length()) {                                               </span>
<span class="5798673079131132705" onmouseenter="enter('5798673079131132705');" onmouseout="out('5798673079131132705');" style=""> 137                 contentPreview = content.substring(firstNewLinePosition, content.length());              </span>
<span class="-9041732530050274696" onmouseenter="enter('-9041732530050274696');" onmouseout="out('-9041732530050274696');" style=""><abbr title=" 138                 contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();"> 138                 contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim🔵</abbr></span>
<span class="1735829929613293831" onmouseenter="enter('1735829929613293831');" onmouseout="out('1735829929613293831');" style=""> 139                 if (contentPreview.length() &gt;= 300) {                                                    </span>
<span class="5577715804247727640" onmouseenter="enter('5577715804247727640');" onmouseout="out('5577715804247727640');" style=""> 140                     contentPreview = contentPreview.substring(0, 300);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142             }                                                                                            </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 143             else {                                                                                       </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 144                 contentPreview = content;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146         }                                                                                                </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 147         else {                                                                                           </span>
<span class="-8444418858715222852" onmouseenter="enter('-8444418858715222852');" onmouseout="out('-8444418858715222852');" style=""> 148             title = content;                                                                             </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 149             contentPreview = content;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151     }                                                                                                    </span>
<span  style=""> 152                                                                                                          </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 153 public String getTitle() {                                                                               </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 154        if (title == null) {                                                                              </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 155            updateTitleAndPreview();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156        }                                                                                                 </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 157 	return title;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158 }                                                                                                        </span>
<span  style=""> 159                                                                                                          </span>
<span class="-1471708678988590868" onmouseenter="enter('-1471708678988590868');" onmouseout="out('-1471708678988590868');" style=""> 160     public String getTitle(String ifBlank){                                                              </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 161         if (title == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 162             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163         }                                                                                                </span>
<span class="-2298921257928736121" onmouseenter="enter('-2298921257928736121');" onmouseout="out('-2298921257928736121');" style=""> 164         if (title.trim().equals(&quot;&quot;)) {                                                                   </span>
<span class="4845157908238866644" onmouseenter="enter('4845157908238866644');" onmouseout="out('4845157908238866644');" style=""> 165             return ifBlank;                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 166         } else {                                                                                         </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 167             return title;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169     }                                                                                                    </span>
<span  style=""> 170                                                                                                          </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 171 public String getContent() {                                                                             </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 172        Object content = getProperty(CONTENT_PROPERTY);                                                   </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 173        if (content == null) {                                                                            </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 174            return BLANK_CONTENT;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175        }                                                                                                 </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 176        return (String) content;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177 }                                                                                                        </span>
<span  style=""> 178                                                                                                          </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 179 public void setContent(String content) {                                                                 </span>
<span class="-4606673025447744814" onmouseenter="enter('-4606673025447744814');" onmouseout="out('-4606673025447744814');" style=""> 180        title = null;                                                                                     </span>
<span class="-1769301736592682715" onmouseenter="enter('-1769301736592682715');" onmouseout="out('-1769301736592682715');" style=""> 181        contentPreview = null;                                                                            </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 182        setProperty(CONTENT_PROPERTY, content);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183 }                                                                                                        </span>
<span  style=""> 184                                                                                                          </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 185 public String getContentPreview() {                                                                      </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 186        if (contentPreview == null) {                                                                     </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 187            updateTitleAndPreview();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188        }                                                                                                 </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 189 	return contentPreview;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190 }                                                                                                        </span>
<span  style=""> 191                                                                                                          </span>
<span class="-5710090900593654965" onmouseenter="enter('-5710090900593654965');" onmouseout="out('-5710090900593654965');" style=""> 192     public String getContentPreview(int lines){                                                          </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 193         if (contentPreview == null) {                                                                    </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 194             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195         }                                                                                                </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 196         return contentPreview;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 199 public Calendar getCreationDate() {                                                                      </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 200        return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201 }                                                                                                        </span>
<span  style=""> 202                                                                                                          </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 203 public void setCreationDate(Calendar creationDate) {                                                     </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 204        setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205 }                                                                                                        </span>
<span  style=""> 206                                                                                                          </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 207 public Calendar getModificationDate() {                                                                  </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 208        return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209 }                                                                                                        </span>
<span  style=""> 210                                                                                                          </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 211 public void setModificationDate(Calendar modificationDate) {                                             </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 212        setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213 }                                                                                                        </span>
<span  style=""> 214                                                                                                          </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 215     public boolean hasTag(String tag){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 216         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 217         String tagLower = tag.toLowerCase();                                                             </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 218         for (String tagName : tags) {                                                                    </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 219             if (tagLower.equals(tagName.toLowerCase())) return true;                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 221         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span  style=""> 223                                                                                                          </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 224     public boolean hasTag(Tag tag){                                                                      </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 225         return hasTag(tag.getSimperiumKey());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226     }                                                                                                    </span>
<span  style=""> 227                                                                                                          </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 228 public List&lt;String&gt; getTags() {                                                                          </span>
<span class="6557618911346422900" onmouseenter="enter('6557618911346422900');" onmouseout="out('6557618911346422900');" style=""> 229        Object tags = getProperty(TAGS_PROPERTY);                                                         </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 230        if (tags == null) {                                                                               </span>
<span class="-3836145751591192365" onmouseenter="enter('-3836145751591192365');" onmouseout="out('-3836145751591192365');" style=""> 231            tags = new ArrayList&lt;String&gt;();                                                               </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 232            setProperty(TAGS_PROPERTY, tags);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233        }                                                                                                 </span>
<span class="-8417065296039356298" onmouseenter="enter('-8417065296039356298');" onmouseout="out('-8417065296039356298');" style=""> 234        return (ArrayList&lt;String&gt;) tags;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235 }                                                                                                        </span>
<span  style=""> 236                                                                                                          </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 237 public void setTags(List&lt;String&gt; tags) {                                                                 </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 238        setProperty(TAGS_PROPERTY, tags);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239 }                                                                                                        </span>
<span  style=""> 240                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 241     /**                                                                                                  </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 242      * String of tags delimited by a space                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 243      */                                                                                                  </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 244     public CharSequence getTagString(){                                                                  </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 245         StringBuilder tagString = new StringBuilder();                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 246         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 247         for(String tag : tags){                                                                          </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 248             if (tagString.length() &gt; 0) {                                                                </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 249                 tagString.append(SPACE);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250             }                                                                                            </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 251             tagString.append(tag);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252         }                                                                                                </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 253         return tagString;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 256     /**                                                                                                  </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 257      * Sets the note&#x27;s tags by providing it with a {@link String} of space                               </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 258      * seperated tags. Filters out duplicate tags.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 259      *                                                                                                   </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 260      * @param tagString a space delimited list of tags                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 261      */                                                                                                  </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 262     public void setTagString(String tagString){                                                          </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 263         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 264         tags.clear();                                                                                    </span>
<span class="-5693622027807076650" onmouseenter="enter('-5693622027807076650');" onmouseout="out('-5693622027807076650');" style=""> 265         if (tagString == null) return;                                                                   </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 266         // Make sure string has a trailing space                                                         </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 267         if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))        </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 268             tagString = tagString + SPACE;                                                               </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 269         // for comparing case-insensitive strings, would like to find a way to                           </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 270         // do this without allocating a new list and strings                                             </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style=""> 271         List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                            </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 272         // remove all current tags                                                                       </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 273         int start = 0;                                                                                   </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 274         int next = -1;                                                                                   </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 275         String possible;                                                                                 </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 276         String possibleUpperCase;                                                                        </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 277         // search tag string for space characters and pull out individual tags                           </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 278         do {                                                                                             </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 279             next = tagString.indexOf(SPACE, start);                                                      </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 280             if (next &gt; start) {                                                                          </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 281                 possible = tagString.substring(start, next);                                             </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 282                 possibleUpperCase = possible.toUpperCase();                                              </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 283                 if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {             </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 284                     tagsUpperCase.add(possibleUpperCase);                                                </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 285                     tags.add(possible);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287             }                                                                                            </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 288             start = next + 1;                                                                            </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 289         } while(next &gt; -1);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span  style=""> 291                                                                                                          </span>
<span class="-1607960192898089353" onmouseenter="enter('-1607960192898089353');" onmouseout="out('-1607960192898089353');" style=""> 292 public List&lt;String&gt; getSystemTags() {                                                                    </span>
<span class="-4384060217643671354" onmouseenter="enter('-4384060217643671354');" onmouseout="out('-4384060217643671354');" style=""> 293        Object tags = getProperty(SYSTEM_TAGS_PROPERTY);                                                  </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 294        if (tags == null) {                                                                               </span>
<span class="-5857108152319072519" onmouseenter="enter('-5857108152319072519');" onmouseout="out('-5857108152319072519');" style=""> 295            return new ArrayList&lt;String&gt;();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296        }                                                                                                 </span>
<span class="-4775486835750967757" onmouseenter="enter('-4775486835750967757');" onmouseout="out('-4775486835750967757');" style=""> 297        return (List&lt;String&gt;) tags;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298 }                                                                                                        </span>
<span  style=""> 299                                                                                                          </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 300 public Boolean isDeleted() {                                                                             </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 301        Object deleted = getProperty(DELETED_PROPERTY);                                                   </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 302        if (deleted == null) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 303            return false;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304        }                                                                                                 </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 305 	if (deleted instanceof Boolean) {                                                                       </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 306 		return (Boolean) deleted;                                                                              </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style=""> 307 	} else if (deleted instanceof Number) {                                                                 </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style=""> 308 		return ((Number)deleted).intValue() == 0 ? false : true;                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 309        } else {                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 310            return false;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311        }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312 }                                                                                                        </span>
<span  style=""> 313                                                                                                          </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 314 public void setDeleted(boolean deleted) {                                                                </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 315 	setProperty(DELETED_PROPERTY, deleted);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316 }                                                                                                        </span>
<span  style=""> 317                                                                                                          </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 318 public boolean isPinned() {                                                                              </span>
<span class="-4737390931423508815" onmouseenter="enter('-4737390931423508815');" onmouseout="out('-4737390931423508815');" style=""> 319        return getSystemTags().contains(PINNED_TAG);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320 }                                                                                                        </span>
<span  style=""> 321                                                                                                          </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 322 public void setPinned(boolean isPinned) {                                                                </span>
<span class="379285116373643938" onmouseenter="enter('379285116373643938');" onmouseout="out('379285116373643938');" style=""> 323        if (isPinned &amp;&amp; !isPinned()) {                                                                    </span>
<span class="-4625586533260346587" onmouseenter="enter('-4625586533260346587');" onmouseout="out('-4625586533260346587');" style=""> 324            getSystemTags().add(PINNED_TAG);                                                              </span>
<span class="-2581773493742197822" onmouseenter="enter('-2581773493742197822');" onmouseout="out('-2581773493742197822');" style=""> 325        } else if (!isPinned &amp;&amp; isPinned()){                                                              </span>
<span class="-4789425823016790928" onmouseenter="enter('-4789425823016790928');" onmouseout="out('-4789425823016790928');" style=""> 326            getSystemTags().remove(PINNED_TAG);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327        }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328 }                                                                                                        </span>
<span  style=""> 329                                                                                                          </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 330     public static String dateString(Number time, boolean useShortFormat, Context context){               </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 331         Calendar c = numberToDate(time);                                                                 </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 332         return dateString(c, useShortFormat, context);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333     }                                                                                                    </span>
<span  style=""> 334                                                                                                          </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 335 public static String dateString(Calendar c, boolean useShortFormat, Context context) {                   </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 336 	int year, month, day;                                                                                   </span>
<span  style=""> 337                                                                                                          </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 338 	String time, date, retVal;                                                                              </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 339 	time = date = &quot;&quot;;                                                                                       </span>
<span  style=""> 340                                                                                                          </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 341 	Calendar diff = Calendar.getInstance();                                                                 </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 342 	diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                     </span>
<span  style=""> 343                                                                                                          </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 344 	year = diff.get(Calendar.YEAR);                                                                         </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 345 	month = diff.get(Calendar.MONTH);                                                                       </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 346 	day = diff.get(Calendar.DAY_OF_MONTH);                                                                  </span>
<span  style=""> 347                                                                                                          </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 348 	diff.setTimeInMillis(0); // starting time                                                               </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 349 	time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                                </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 350 	if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 350 	if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calenda🔵</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 351 		date = context.getResources().getString(R.string.today);                                               </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 352 		if (useShortFormat)                                                                                    </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 353 			retVal = time;                                                                                        </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 354 		else                                                                                                   </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 355 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 356 	} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {    </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 357 		date = context.getResources().getString(R.string.yesterday);                                           </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 358 		if (useShortFormat)                                                                                    </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 359 			retVal = date;                                                                                        </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 360 		else                                                                                                   </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 361 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 362 	} else {                                                                                                </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 363 		date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 364 		retVal = date + &quot;, &quot; + time;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365 	}                                                                                                       </span>
<span  style=""> 366                                                                                                          </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 367 	return retVal;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368 }                                                                                                        </span>
<span  style=""> 369                                                                                                          </span>
<span class="6991191424901834769" onmouseenter="enter('6991191424901834769');" onmouseout="out('6991191424901834769');" style=""> 370     public static Calendar numberToDate(Number time) {                                                   </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 371         Calendar date = Calendar.getInstance();                                                          </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 372         if (time != null) {                                                                              </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 373             // Flick Note uses millisecond resolution timestamps Simplenote expects seconds              </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 374             // since we only deal with create and modify timestamps, they should all have occured        </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 375             // at the present time or in the past.                                                       </span>
<span class="-1324028404420931769" onmouseenter="enter('-1324028404420931769');" onmouseout="out('-1324028404420931769');" style=""> 376             float now = date.getTimeInMillis() / 1000;                                                   </span>
<span class="7868403810214452697" onmouseenter="enter('7868403810214452697');" onmouseout="out('7868403810214452697');" style=""> 377             float magnitude = time.floatValue() / now;                                                   </span>
<span class="-8181612792680915896" onmouseenter="enter('-8181612792680915896');" onmouseout="out('-8181612792680915896');" style=""> 378             if (magnitude &gt;= 2.0F) {                                                                     </span>
<span class="-6750280944290768894" onmouseenter="enter('-6750280944290768894');" onmouseout="out('-6750280944290768894');" style=""> 379                 time = time.longValue() / 1000;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380             }                                                                                            </span>
<span class="2284249078526717288" onmouseenter="enter('2284249078526717288');" onmouseout="out('2284249078526717288');" style=""> 381             date.setTimeInMillis(time.longValue() * 1000);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 383         return date;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384     }                                                                                                    </span>
<span  style=""> 385                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 386     /**                                                                                                  </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 387      * Check if the note has any changes                                                                 </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 388      * @param content the new note content                                                               </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 389      * @param tagString space separated tags                                                             </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 390      * @param isPinned note is pinned                                                                    </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 391      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 392      */                                                                                                  </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style=""> 393     public boolean hasChanges(String content, String tagString, boolean isPinned) {                      </span>
<span  style=""> 394                                                                                                          </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style=""><abbr title=" 395         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 395         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.get🔵</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 396             return false;                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 397         else                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 398             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400 }                                                                                                        </span></pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1  package com.automattic.simplenote.models;                                                                         </span>
<span  style="">   2                                                                                                                    </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">   3  import java.text.DateFormat;                                                                                      </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">   4  import java.text.SimpleDateFormat;                                                                                </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">   5  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">   6  import java.util.Calendar;                                                                                        </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">   7  import java.util.HashMap;                                                                                         </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">   8  import java.util.Locale;                                                                                          </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">   9  import java.util.Map;                                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  10  import java.util.List;                                                                                            </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  11  import java.util.ArrayList;                                                                                       </span>
<span  style="">  12                                                                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  13  import android.content.Context;                                                                                   </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  14  import android.util.Log;                                                                                          </span>
<span  style="">  15                                                                                                                    </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">  16  import com.automattic.simplenote.R;                                                                               </span>
<span  style="">  17                                                                                                                    </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  18  import com.simperium.client.Bucket;                                                                               </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  19  import com.simperium.client.Query;                                                                                </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  20  import com.simperium.client.Query.ComparisonType;                                                                 </span>
<span class="-7125452997935303365" onmouseenter="enter('-7125452997935303365');" onmouseout="out('-7125452997935303365');" style="">  21  import com.simperium.client.Query.SortType;                                                                       </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">  22  import com.simperium.client.BucketObject;                                                                         </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">  23  import com.simperium.client.BucketSchema;                                                                         </span>
<span class="1410318981181921716" onmouseenter="enter('1410318981181921716');" onmouseout="out('1410318981181921716');" style="">  24  import com.simperium.client.BucketSchema.Index;                                                                   </span>
<span class="-3205908592121108606" onmouseenter="enter('-3205908592121108606');" onmouseout="out('-3205908592121108606');" style="">  25  import com.simperium.client.BucketSchema.Indexer;                                                                 </span>
<span  style="">  26                                                                                                                    </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  27  public class Note extends BucketObject {                                                                          </span>
<span  style="">  28                                                                                                                    </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  29  	public static final String BUCKET_NAME=&quot;note&quot;;                                                                   </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  30      public static final String PINNED_TAG=&quot;pinned&quot;;                                                               </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  31      public static final String NEW_LINE=&quot;\n&quot;;                                                                     </span>
<span  style="">  32                                                                                                                    </span>
<span class="-7581935933512782030" onmouseenter="enter('-7581935933512782030');" onmouseout="out('-7581935933512782030');" style="">  33      private static final String CONTENT_CONCAT_FORMAT=&quot;%s %s&quot;;                                                    </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  34      private static final String BLANK_CONTENT=&quot;&quot;;                                                                 </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  35      private static final String SPACE = &quot; &quot;;                                                                      </span>
<span  style="">  36                                                                                                                    </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  37      public static final String CONTENT_PROPERTY=&quot;content&quot;;                                                        </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  38      public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                              </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  39      public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                                 </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  40      public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                             </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  41      public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                                     </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  42      public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                                     </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  43      public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                                 </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  44      public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                                        </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  45      public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                          </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  46      public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                                       </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  47      public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                                        </span>


<span  style="">  48                                                                                                                    </span>
<span class="8856688340117326751" onmouseenter="enter('8856688340117326751');" onmouseout="out('8856688340117326751');" style="">  49  	protected String title = null;                                                                                   </span>
<span class="2787404772195188118" onmouseenter="enter('2787404772195188118');" onmouseout="out('2787404772195188118');" style="">  50  	protected String contentPreview = null;                                                                          </span>
<span  style="">  51                                                                                                                    </span>

<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  52  	public static class Schema extends BucketSchema&lt;Note&gt; {                                                          </span>


<span  style="">  53                                                                                                                    </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  54          public Schema(){                                                                                          </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  55              autoIndex();                                                                                          </span>
<span class="-5937803890823005084" onmouseenter="enter('-5937803890823005084');" onmouseout="out('-5937803890823005084');" style="">  56              addIndex(noteIndexer);                                                                                </span>
<span class="-271891696453583936" onmouseenter="enter('-271891696453583936');" onmouseout="out('-271891696453583936');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +            setupFullTextIndex(TAGS_PROPERTY, CONTENT_PROPERTY);                                                  </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  58              setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                                     </span>
<span class="-6908548437470667499" onmouseenter="enter('-6908548437470667499');" onmouseout="out('-6908548437470667499');" style="">  59              setDefault(SYSTEM_TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                            </span>
<span class="-4240289946271476948" onmouseenter="enter('-4240289946271476948');" onmouseout="out('-4240289946271476948');" style="">  60              setDefault(TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                                   </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  61              setDefault(DELETED_PROPERTY, false);                                                                  </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  62              setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                                   </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  63              setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64          }                                                                                                         </span>
<span  style="">  65                                                                                                                    </span>
<span class="3770853890222164043" onmouseenter="enter('3770853890222164043');" onmouseout="out('3770853890222164043');" style="">  66          private Indexer noteIndexer = new Indexer&lt;Note&gt;(){                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  67              @Override                                                                                             </span>
<span class="6577398531628002217" onmouseenter="enter('6577398531628002217');" onmouseout="out('6577398531628002217');" style="">  68              public List&lt;Index&gt; index(Note note){                                                                  </span>
<span class="4722072801031788680" onmouseenter="enter('4722072801031788680');" onmouseout="out('4722072801031788680');" style="">  69                  List&lt;Index&gt; indexes = new ArrayList&lt;Index&gt;();                                                     </span>
<span class="2203032194553034638" onmouseenter="enter('2203032194553034638');" onmouseout="out('2203032194553034638');" style="">  70                  indexes.add(new Index(PINNED_INDEX_NAME, note.isPinned()));                                       </span>
<span class="-419435324569104369" onmouseenter="enter('-419435324569104369');" onmouseout="out('-419435324569104369');" style="">  71                  indexes.add(new Index(CONTENT_PREVIEW_INDEX_NAME, note.getContentPreview()));                     </span>
<span class="-5976401528299907506" onmouseenter="enter('-5976401528299907506');" onmouseout="out('-5976401528299907506');" style="">  72                  indexes.add(new Index(TITLE_INDEX_NAME, note.getTitle()));                                        </span>
<span class="-1958690694594965094" onmouseenter="enter('-1958690694594965094');" onmouseout="out('-1958690694594965094');" style="">  73                  return indexes;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  75          };                                                                                                        </span>
<span  style="">  76                                                                                                                    </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  77          public String getRemoteName(){                                                                            </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  78              return Note.BUCKET_NAME;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79          }                                                                                                         </span>
<span  style="">  80                                                                                                                    </span>
<span class="2527120867404262206" onmouseenter="enter('2527120867404262206');" onmouseout="out('2527120867404262206');" style="">  81  		public Note build(String key, Map&lt;String,Object&gt;properties){                                                    </span>
<span class="6091797092723625613" onmouseenter="enter('6091797092723625613');" onmouseout="out('6091797092723625613');" style="">  82  			Note note = new Note(key, properties);                                                                         </span>
<span class="925626910960947041" onmouseenter="enter('925626910960947041');" onmouseout="out('925626910960947041');" style="">  83  			return note;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84  		}                                                                                                               </span>
<span  style="">  85                                                                                                                    </span>
<span class="7900906166746108019" onmouseenter="enter('7900906166746108019');" onmouseout="out('7900906166746108019');" style="">  86          public void update(Note note, Map&lt;String,Object&gt;properties){                                              </span>
<span class="-3159056756452891171" onmouseenter="enter('-3159056756452891171');" onmouseout="out('-3159056756452891171');" style="">  87              note.properties = properties;                                                                         </span>
<span class="-3907938199572187057" onmouseenter="enter('-3907938199572187057');" onmouseout="out('-3907938199572187057');" style="">  88              note.title = null;                                                                                    </span>
<span class="-6580498848577610529" onmouseenter="enter('-6580498848577610529');" onmouseout="out('-6580498848577610529');" style="">  89              note.contentPreview = null;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91  	}                                                                                                                </span>
<span  style="">  92                                                                                                                    </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  93      public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  94          return noteBucket.query()                                                                                 </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  95                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96      }                                                                                                             </span>
<span  style="">  97                                                                                                                    </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  98      public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                                </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  99          return noteBucket.query()                                                                                 </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style=""> 100                  .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101      }                                                                                                             </span>
<span  style=""> 102                                                                                                                    </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 103      public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                               </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 104          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 105                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 106                  .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107      }                                                                                                             </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 109      public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 110          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 111                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 112                  .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113      }                                                                                                             </span>
<span  style=""> 114                                                                                                                    </span>
<span  style=""> 115                                                                                                                    </span>
<span class="5530170773073283222" onmouseenter="enter('5530170773073283222');" onmouseout="out('5530170773073283222');" style=""> 116      public Note(String key){                                                                                      </span>
<span class="8909623840762780315" onmouseenter="enter('8909623840762780315');" onmouseout="out('8909623840762780315');" style=""> 117          super(key, new HashMap&lt;String,Object&gt;());                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118      }                                                                                                             </span>
<span  style=""> 119                                                                                                                    </span>
<span class="-1410051178364435669" onmouseenter="enter('-1410051178364435669');" onmouseout="out('-1410051178364435669');" style=""> 120  	public Note(String key, Map&lt;String,Object&gt;properties) {                                                          </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 121  		super(key, properties);                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122  	}                                                                                                                </span>
<span  style=""> 123                                                                                                                    </span>
<span class="-3385376095080862891" onmouseenter="enter('-3385376095080862891');" onmouseout="out('-3385376095080862891');" style=""> 124      protected void updateTitleAndPreview(){                                                                       </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 125          // try to build a title and preview property out of content                                               </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 126          String content = getContent().trim();                                                                     </span>
<span class="-7459090941719316720" onmouseenter="enter('-7459090941719316720');" onmouseout="out('-7459090941719316720');" style=""> 127          // title = &quot;Hello World&quot;;                                                                                 </span>
<span class="-2528539216563011129" onmouseenter="enter('-2528539216563011129');" onmouseout="out('-2528539216563011129');" style=""> 128          // contentPreview = &quot;This is a preview&quot;;                                                                  </span>
<span  style=""> 129                                                                                                                    </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 130          int firstNewLinePosition = content.indexOf(NEW_LINE);                                                     </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 131          if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                            </span>
<span class="-4679488663613017411" onmouseenter="enter('-4679488663613017411');" onmouseout="out('-4679488663613017411');" style=""> 132              title = content.substring(0, firstNewLinePosition).trim();                                            </span>
<span  style=""> 133                                                                                                                    </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 134              if (firstNewLinePosition &lt; content.length()) {                                                        </span>
<span class="5798673079131132705" onmouseenter="enter('5798673079131132705');" onmouseout="out('5798673079131132705');" style=""> 135                  contentPreview = content.substring(firstNewLinePosition, content.length());                       </span>
<span class="-9041732530050274696" onmouseenter="enter('-9041732530050274696');" onmouseout="out('-9041732530050274696');" style=""> 136                  contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();      </span>
<span class="1735829929613293831" onmouseenter="enter('1735829929613293831');" onmouseout="out('1735829929613293831');" style=""> 137                  if (contentPreview.length() &gt;= 300) {                                                             </span>
<span class="5577715804247727640" onmouseenter="enter('5577715804247727640');" onmouseout="out('5577715804247727640');" style=""> 138                      contentPreview = contentPreview.substring(0, 300);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140              }                                                                                                     </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 141              else {                                                                                                </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 142                  contentPreview = content;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144          }                                                                                                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 145          else {                                                                                                    </span>
<span class="-8444418858715222852" onmouseenter="enter('-8444418858715222852');" onmouseout="out('-8444418858715222852');" style=""> 146              title = content;                                                                                      </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 147              contentPreview = content;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149      }                                                                                                             </span>
<span  style=""> 150                                                                                                                    </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 151  	public String getTitle() {                                                                                       </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 152          if (title == null) {                                                                                      </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 153              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154          }                                                                                                         </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 155  		return title;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156  	}                                                                                                                </span>
<span  style=""> 157                                                                                                                    </span>
<span class="-1471708678988590868" onmouseenter="enter('-1471708678988590868');" onmouseout="out('-1471708678988590868');" style=""> 158      public String getTitle(String ifBlank){                                                                       </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 159          if (title == null) {                                                                                      </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 160              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161          }                                                                                                         </span>
<span class="-2298921257928736121" onmouseenter="enter('-2298921257928736121');" onmouseout="out('-2298921257928736121');" style=""> 162          if (title.trim().equals(&quot;&quot;)) {                                                                            </span>
<span class="4845157908238866644" onmouseenter="enter('4845157908238866644');" onmouseout="out('4845157908238866644');" style=""> 163              return ifBlank;                                                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 164          } else {                                                                                                  </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 165              return title;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167      }                                                                                                             </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 169  	public String getContent() {                                                                                     </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 170          Object content = getProperty(CONTENT_PROPERTY);                                                           </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 171          if (content == null) {                                                                                    </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 172              return BLANK_CONTENT;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173          }                                                                                                         </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 174          return (String) content;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175  	}                                                                                                                </span>
<span  style=""> 176                                                                                                                    </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 177  	public void setContent(String content) {                                                                         </span>
<span class="-4606673025447744814" onmouseenter="enter('-4606673025447744814');" onmouseout="out('-4606673025447744814');" style=""> 178          title = null;                                                                                             </span>
<span class="-1769301736592682715" onmouseenter="enter('-1769301736592682715');" onmouseout="out('-1769301736592682715');" style=""> 179          contentPreview = null;                                                                                    </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 180          setProperty(CONTENT_PROPERTY, content);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181  	}                                                                                                                </span>
<span  style=""> 182                                                                                                                    </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 183  	public String getContentPreview() {                                                                              </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 184          if (contentPreview == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 185              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186          }                                                                                                         </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 187  		return contentPreview;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188  	}                                                                                                                </span>
<span  style=""> 189                                                                                                                    </span>
<span class="-5710090900593654965" onmouseenter="enter('-5710090900593654965');" onmouseout="out('-5710090900593654965');" style=""> 190      public String getContentPreview(int lines){                                                                   </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 191          if (contentPreview == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 192              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193          }                                                                                                         </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 194          return contentPreview;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195      }                                                                                                             </span>
<span  style=""> 196                                                                                                                    </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 197  	public Calendar getCreationDate() {                                                                              </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 198          return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199  	}                                                                                                                </span>
<span  style=""> 200                                                                                                                    </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 201  	public void setCreationDate(Calendar creationDate) {                                                             </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 202          setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203  	}                                                                                                                </span>
<span  style=""> 204                                                                                                                    </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 205  	public Calendar getModificationDate() {                                                                          </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 206          return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207  	}                                                                                                                </span>
<span  style=""> 208                                                                                                                    </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 209  	public void setModificationDate(Calendar modificationDate) {                                                     </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 210          setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211  	}                                                                                                                </span>
<span  style=""> 212                                                                                                                    </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 213      public boolean hasTag(String tag){                                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 214          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 215          String tagLower = tag.toLowerCase();                                                                      </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 216          for (String tagName : tags) {                                                                             </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 217              if (tagLower.equals(tagName.toLowerCase())) return true;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 219          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span  style=""> 221                                                                                                                    </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 222      public boolean hasTag(Tag tag){                                                                               </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 223          return hasTag(tag.getSimperiumKey());                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224      }                                                                                                             </span>
<span  style=""> 225                                                                                                                    </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 226  	public List&lt;String&gt; getTags() {                                                                                  </span>
<span class="6557618911346422900" onmouseenter="enter('6557618911346422900');" onmouseout="out('6557618911346422900');" style=""> 227          Object tags = getProperty(TAGS_PROPERTY);                                                                 </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 228          if (tags == null) {                                                                                       </span>
<span class="-3836145751591192365" onmouseenter="enter('-3836145751591192365');" onmouseout="out('-3836145751591192365');" style=""> 229              tags = new ArrayList&lt;String&gt;();                                                                       </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 230              setProperty(TAGS_PROPERTY, tags);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231          }                                                                                                         </span>
<span class="-8417065296039356298" onmouseenter="enter('-8417065296039356298');" onmouseout="out('-8417065296039356298');" style=""> 232          return (ArrayList&lt;String&gt;) tags;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233  	}                                                                                                                </span>
<span  style=""> 234                                                                                                                    </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 235  	public void setTags(List&lt;String&gt; tags) {                                                                         </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 236          setProperty(TAGS_PROPERTY, tags);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237  	}                                                                                                                </span>
<span  style=""> 238                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 239      /**                                                                                                           </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 240       * String of tags delimited by a space                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 241       */                                                                                                           </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 242      public CharSequence getTagString(){                                                                           </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 243          StringBuilder tagString = new StringBuilder();                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 244          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 245          for(String tag : tags){                                                                                   </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 246              if (tagString.length() &gt; 0) {                                                                         </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 247                  tagString.append(SPACE);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248              }                                                                                                     </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 249              tagString.append(tag);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250          }                                                                                                         </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 251          return tagString;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252      }                                                                                                             </span>
<span  style=""> 253                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 254      /**                                                                                                           </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 255       * Sets the note&#x27;s tags by providing it with a {@link String} of space                                        </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 256       * seperated tags. Filters out duplicate tags.                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 257       *                                                                                                            </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 258       * @param tagString a space delimited list of tags                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 259       */                                                                                                           </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 260      public void setTagString(String tagString){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 261          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 262          tags.clear();                                                                                             </span>
<span class="-5693622027807076650" onmouseenter="enter('-5693622027807076650');" onmouseout="out('-5693622027807076650');" style=""> 263          if (tagString == null) return;                                                                            </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 264          // Make sure string has a trailing space                                                                  </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 265          if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))                 </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 266              tagString = tagString + SPACE;                                                                        </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 267          // for comparing case-insensitive strings, would like to find a way to                                    </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 268          // do this without allocating a new list and strings                                                      </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style=""> 269          List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                                     </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 270          // remove all current tags                                                                                </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 271          int start = 0;                                                                                            </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 272          int next = -1;                                                                                            </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 273          String possible;                                                                                          </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 274          String possibleUpperCase;                                                                                 </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 275          // search tag string for space characters and pull out individual tags                                    </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 276          do {                                                                                                      </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 277              next = tagString.indexOf(SPACE, start);                                                               </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 278              if (next &gt; start) {                                                                                   </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 279                  possible = tagString.substring(start, next);                                                      </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 280                  possibleUpperCase = possible.toUpperCase();                                                       </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 281                  if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {                      </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 282                      tagsUpperCase.add(possibleUpperCase);                                                         </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 283                      tags.add(possible);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285              }                                                                                                     </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 286              start = next + 1;                                                                                     </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 287          } while(next &gt; -1);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288      }                                                                                                             </span>
<span  style=""> 289                                                                                                                    </span>
<span class="-1607960192898089353" onmouseenter="enter('-1607960192898089353');" onmouseout="out('-1607960192898089353');" style=""> 290  	public List&lt;String&gt; getSystemTags() {                                                                            </span>
<span class="-4384060217643671354" onmouseenter="enter('-4384060217643671354');" onmouseout="out('-4384060217643671354');" style=""> 291          Object tags = getProperty(SYSTEM_TAGS_PROPERTY);                                                          </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 292          if (tags == null) {                                                                                       </span>
<span class="-5857108152319072519" onmouseenter="enter('-5857108152319072519');" onmouseout="out('-5857108152319072519');" style=""> 293              return new ArrayList&lt;String&gt;();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294          }                                                                                                         </span>
<span class="-4775486835750967757" onmouseenter="enter('-4775486835750967757');" onmouseout="out('-4775486835750967757');" style=""> 295          return (List&lt;String&gt;) tags;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296  	}                                                                                                                </span>
<span  style=""> 297                                                                                                                    </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 298  	public Boolean isDeleted() {                                                                                     </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 299          Object deleted = getProperty(DELETED_PROPERTY);                                                           </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 300          if (deleted == null) {                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 301              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302          }                                                                                                         </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 303  		if (deleted instanceof Boolean) {                                                                               </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 304  			return (Boolean) deleted;                                                                                      </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style=""> 305  		} else if (deleted instanceof Number) {                                                                         </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style=""> 306  			return ((Number)deleted).intValue() == 0 ? false : true;                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 307          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 308              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310  	}                                                                                                                </span>
<span  style=""> 311                                                                                                                    </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 312  	public void setDeleted(boolean deleted) {                                                                        </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 313  		setProperty(DELETED_PROPERTY, deleted);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314  	}                                                                                                                </span>
<span  style=""> 315                                                                                                                    </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 316  	public boolean isPinned() {                                                                                      </span>
<span class="-4737390931423508815" onmouseenter="enter('-4737390931423508815');" onmouseout="out('-4737390931423508815');" style=""> 317          return getSystemTags().contains(PINNED_TAG);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318  	}                                                                                                                </span>
<span  style=""> 319                                                                                                                    </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 320  	public void setPinned(boolean isPinned) {                                                                        </span>
<span class="379285116373643938" onmouseenter="enter('379285116373643938');" onmouseout="out('379285116373643938');" style=""> 321          if (isPinned &amp;&amp; !isPinned()) {                                                                            </span>
<span class="-4625586533260346587" onmouseenter="enter('-4625586533260346587');" onmouseout="out('-4625586533260346587');" style=""> 322              getSystemTags().add(PINNED_TAG);                                                                      </span>
<span class="-2581773493742197822" onmouseenter="enter('-2581773493742197822');" onmouseout="out('-2581773493742197822');" style=""> 323          } else if (!isPinned &amp;&amp; isPinned()){                                                                      </span>
<span class="-4789425823016790928" onmouseenter="enter('-4789425823016790928');" onmouseout="out('-4789425823016790928');" style=""> 324              getSystemTags().remove(PINNED_TAG);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326  	}                                                                                                                </span>
<span  style=""> 327                                                                                                                    </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 328      public static String dateString(Number time, boolean useShortFormat, Context context){                        </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 329          Calendar c = numberToDate(time);                                                                          </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 330          return dateString(c, useShortFormat, context);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331      }                                                                                                             </span>
<span  style=""> 332                                                                                                                    </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 333  	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                           </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 334  		int year, month, day;                                                                                           </span>
<span  style=""> 335                                                                                                                    </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 336  		String time, date, retVal;                                                                                      </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 337  		time = date = &quot;&quot;;                                                                                               </span>
<span  style=""> 338                                                                                                                    </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 339  		Calendar diff = Calendar.getInstance();                                                                         </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 340  		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 342  		year = diff.get(Calendar.YEAR);                                                                                 </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 343  		month = diff.get(Calendar.MONTH);                                                                               </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 344  		day = diff.get(Calendar.DAY_OF_MONTH);                                                                          </span>
<span  style=""> 345                                                                                                                    </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 346  		diff.setTimeInMillis(0); // starting time                                                                       </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 347  		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                                        </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 348  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 348  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF🔵</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 349  			date = context.getResources().getString(R.string.today);                                                       </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 350  			if (useShortFormat)                                                                                            </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 351  				retVal = time;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 352  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 353  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 354  		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {            </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 355  			date = context.getResources().getString(R.string.yesterday);                                                   </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 356  			if (useShortFormat)                                                                                            </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 357  				retVal = date;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 358  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 359  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 360  		} else {                                                                                                        </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 361  			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                          </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 362  			retVal = date + &quot;, &quot; + time;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363  		}                                                                                                               </span>
<span  style=""> 364                                                                                                                    </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 365  		return retVal;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366  	}                                                                                                                </span>
<span  style=""> 367                                                                                                                    </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 368      public static Calendar numberToDate(Number time){                                                             </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 369          Calendar date = Calendar.getInstance();                                                                   </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 370          if (time != null) {                                                                                       </span>






<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 371              date.setTimeInMillis(time.longValue()*1000);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372          }                                                                                                         </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 373          return date;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374      }                                                                                                             </span>
<span  style=""> 375                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 376      /**                                                                                                           </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 377       * Check if the note has any changes                                                                          </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 378       * @param content the new note content                                                                        </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 379       * @param tagString space separated tags                                                                      </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 380       * @param isPinned note is pinned                                                                             </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 381       * @return true if note has changes, false if it is unchanged.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 382       */                                                                                                           </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style=""> 383      public boolean hasChanges(String content, String tagString, boolean isPinned) {                               </span>
<span  style=""> 384                                                                                                                    </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style=""><abbr title=" 385          if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 385          if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString🔵</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 386              return false;                                                                                         </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 387          else                                                                                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 388              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1  package com.automattic.simplenote.models;                                                                         </span>
<span  style="">   2                                                                                                                    </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">   3  import java.text.DateFormat;                                                                                      </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">   4  import java.text.SimpleDateFormat;                                                                                </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">   5  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">   6  import java.util.Calendar;                                                                                        </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">   7  import java.util.HashMap;                                                                                         </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">   8  import java.util.Locale;                                                                                          </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">   9  import java.util.Map;                                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  10  import java.util.List;                                                                                            </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  11  import java.util.ArrayList;                                                                                       </span>
<span  style="">  12                                                                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  13  import android.content.Context;                                                                                   </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  14  import android.util.Log;                                                                                          </span>
<span  style="">  15                                                                                                                    </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">  16  import com.automattic.simplenote.R;                                                                               </span>
<span  style="">  17                                                                                                                    </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  18  import com.simperium.client.Bucket;                                                                               </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  19  import com.simperium.client.Query;                                                                                </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  20  import com.simperium.client.Query.ComparisonType;                                                                 </span>
<span class="-7125452997935303365" onmouseenter="enter('-7125452997935303365');" onmouseout="out('-7125452997935303365');" style="">  21  import com.simperium.client.Query.SortType;                                                                       </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">  22  import com.simperium.client.BucketObject;                                                                         </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">  23  import com.simperium.client.BucketSchema;                                                                         </span>
<span class="1410318981181921716" onmouseenter="enter('1410318981181921716');" onmouseout="out('1410318981181921716');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -import com.simperium.client.BucketSchema.Index;                                                                   </span>
<span class="-3205908592121108606" onmouseenter="enter('-3205908592121108606');" onmouseout="out('-3205908592121108606');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -import com.simperium.client.BucketSchema.Indexer;                                                                 </span>
<span  style="">  26                                                                                                                    </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  27  public class Note extends BucketObject {                                                                          </span>
<span  style="">  28                                                                                                                    </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  29  	public static final String BUCKET_NAME=&quot;note&quot;;                                                                   </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  30      public static final String PINNED_TAG=&quot;pinned&quot;;                                                               </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  31      public static final String NEW_LINE=&quot;\n&quot;;                                                                     </span>
<span  style="">  32                                                                                                                    </span>
<span class="-7581935933512782030" onmouseenter="enter('-7581935933512782030');" onmouseout="out('-7581935933512782030');" style="">  33      private static final String CONTENT_CONCAT_FORMAT=&quot;%s %s&quot;;                                                    </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  34      private static final String BLANK_CONTENT=&quot;&quot;;                                                                 </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  35      private static final String SPACE = &quot; &quot;;                                                                      </span>
<span  style="">  36                                                                                                                    </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  37      public static final String CONTENT_PROPERTY=&quot;content&quot;;                                                        </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  38      public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                              </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  39      public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                                 </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  40      public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                             </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  41      public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                                     </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  42      public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                                     </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  43      public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                                 </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  44      public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                                        </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  45      public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                          </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  46      public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                                       </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  47      public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                                        </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  48 +    public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                                    </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +    public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                                      </span>
<span  style="">  50                                                                                                                    </span>
<span class="8856688340117326751" onmouseenter="enter('8856688340117326751');" onmouseout="out('8856688340117326751');" style="">  51  	protected String title = null;                                                                                   </span>
<span class="2787404772195188118" onmouseenter="enter('2787404772195188118');" onmouseout="out('2787404772195188118');" style="">  52  	protected String contentPreview = null;                                                                          </span>
<span  style="">  53                                                                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +                                                                                                                  </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  55  	public static class Schema extends BucketSchema&lt;Note&gt; {                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +                                                                                                                  </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +        protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                            </span>
<span  style="">  58                                                                                                                    </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  59          public Schema(){                                                                                          </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  60              autoIndex();                                                                                          </span>
<span class="-5937803890823005084" onmouseenter="enter('-5937803890823005084');" onmouseout="out('-5937803890823005084');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  61 -            addIndex(noteIndexer);                                                                                </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +            addIndex(sNoteIndexer);                                                                               </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  63              setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                                     </span>
<span class="-6908548437470667499" onmouseenter="enter('-6908548437470667499');" onmouseout="out('-6908548437470667499');" style="">  64              setDefault(SYSTEM_TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                            </span>
<span class="-4240289946271476948" onmouseenter="enter('-4240289946271476948');" onmouseout="out('-4240289946271476948');" style="">  65              setDefault(TAGS_PROPERTY, new ArrayList&lt;Object&gt;());                                                   </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  66              setDefault(DELETED_PROPERTY, false);                                                                  </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  67              setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                                   </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  68              setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69          }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -                                                                                                                  </span>
<span class="3770853890222164043" onmouseenter="enter('3770853890222164043');" onmouseout="out('3770853890222164043');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  71 -        private Indexer noteIndexer = new Indexer&lt;Note&gt;(){                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -            @Override                                                                                             </span>
<span class="6577398531628002217" onmouseenter="enter('6577398531628002217');" onmouseout="out('6577398531628002217');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -            public List&lt;Index&gt; index(Note note){                                                                  </span>
<span class="4722072801031788680" onmouseenter="enter('4722072801031788680');" onmouseout="out('4722072801031788680');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -                List&lt;Index&gt; indexes = new ArrayList&lt;Index&gt;();                                                     </span>
<span class="2203032194553034638" onmouseenter="enter('2203032194553034638');" onmouseout="out('2203032194553034638');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -                indexes.add(new Index(PINNED_INDEX_NAME, note.isPinned()));                                       </span>
<span class="-419435324569104369" onmouseenter="enter('-419435324569104369');" onmouseout="out('-419435324569104369');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -                indexes.add(new Index(CONTENT_PREVIEW_INDEX_NAME, note.getContentPreview()));                     </span>
<span class="-5976401528299907506" onmouseenter="enter('-5976401528299907506');" onmouseout="out('-5976401528299907506');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -                indexes.add(new Index(TITLE_INDEX_NAME, note.getTitle()));                                        </span>
<span class="-1958690694594965094" onmouseenter="enter('-1958690694594965094');" onmouseout="out('-1958690694594965094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -                return indexes;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -            }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -        };                                                                                                        </span>
<span  style="">  81                                                                                                                    </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  82          public String getRemoteName(){                                                                            </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  83              return Note.BUCKET_NAME;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84          }                                                                                                         </span>
<span  style="">  85                                                                                                                    </span>
<span class="2527120867404262206" onmouseenter="enter('2527120867404262206');" onmouseout="out('2527120867404262206');" style="">  86  		public Note build(String key, Map&lt;String,Object&gt;properties){                                                    </span>
<span class="6091797092723625613" onmouseenter="enter('6091797092723625613');" onmouseout="out('6091797092723625613');" style="">  87  			Note note = new Note(key, properties);                                                                         </span>
<span class="925626910960947041" onmouseenter="enter('925626910960947041');" onmouseout="out('925626910960947041');" style="">  88  			return note;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89  		}                                                                                                               </span>
<span  style="">  90                                                                                                                    </span>
<span class="7900906166746108019" onmouseenter="enter('7900906166746108019');" onmouseout="out('7900906166746108019');" style="">  91          public void update(Note note, Map&lt;String,Object&gt;properties){                                              </span>
<span class="-3159056756452891171" onmouseenter="enter('-3159056756452891171');" onmouseout="out('-3159056756452891171');" style="">  92              note.properties = properties;                                                                         </span>
<span class="-3907938199572187057" onmouseenter="enter('-3907938199572187057');" onmouseout="out('-3907938199572187057');" style="">  93              note.title = null;                                                                                    </span>
<span class="-6580498848577610529" onmouseenter="enter('-6580498848577610529');" onmouseout="out('-6580498848577610529');" style="">  94              note.contentPreview = null;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96  	}                                                                                                                </span>
<span  style="">  97                                                                                                                    </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  98      public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  99          return noteBucket.query()                                                                                 </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style=""> 100                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101      }                                                                                                             </span>
<span  style=""> 102                                                                                                                    </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style=""> 103      public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                                </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 104          return noteBucket.query()                                                                                 </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style=""> 105                  .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106      }                                                                                                             </span>
<span  style=""> 107                                                                                                                    </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 108      public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                               </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 109          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 110                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 111                  .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112      }                                                                                                             </span>
<span  style=""> 113                                                                                                                    </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 114      public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 115          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 116                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 117                  .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118      }                                                                                                             </span>
<span  style=""> 119                                                                                                                    </span>
<span  style=""> 120                                                                                                                    </span>
<span class="5530170773073283222" onmouseenter="enter('5530170773073283222');" onmouseout="out('5530170773073283222');" style=""> 121      public Note(String key){                                                                                      </span>
<span class="8909623840762780315" onmouseenter="enter('8909623840762780315');" onmouseout="out('8909623840762780315');" style=""> 122          super(key, new HashMap&lt;String,Object&gt;());                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123      }                                                                                                             </span>
<span  style=""> 124                                                                                                                    </span>
<span class="-1410051178364435669" onmouseenter="enter('-1410051178364435669');" onmouseout="out('-1410051178364435669');" style=""> 125  	public Note(String key, Map&lt;String,Object&gt;properties) {                                                          </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 126  		super(key, properties);                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127  	}                                                                                                                </span>
<span  style=""> 128                                                                                                                    </span>
<span class="-3385376095080862891" onmouseenter="enter('-3385376095080862891');" onmouseout="out('-3385376095080862891');" style=""> 129      protected void updateTitleAndPreview(){                                                                       </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 130          // try to build a title and preview property out of content                                               </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 131          String content = getContent().trim();                                                                     </span>
<span class="-7459090941719316720" onmouseenter="enter('-7459090941719316720');" onmouseout="out('-7459090941719316720');" style=""> 132          // title = &quot;Hello World&quot;;                                                                                 </span>
<span class="-2528539216563011129" onmouseenter="enter('-2528539216563011129');" onmouseout="out('-2528539216563011129');" style=""> 133          // contentPreview = &quot;This is a preview&quot;;                                                                  </span>
<span  style=""> 134                                                                                                                    </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 135          int firstNewLinePosition = content.indexOf(NEW_LINE);                                                     </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 136          if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                            </span>
<span class="-4679488663613017411" onmouseenter="enter('-4679488663613017411');" onmouseout="out('-4679488663613017411');" style=""> 137              title = content.substring(0, firstNewLinePosition).trim();                                            </span>
<span  style=""> 138                                                                                                                    </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 139              if (firstNewLinePosition &lt; content.length()) {                                                        </span>
<span class="5798673079131132705" onmouseenter="enter('5798673079131132705');" onmouseout="out('5798673079131132705');" style=""> 140                  contentPreview = content.substring(firstNewLinePosition, content.length());                       </span>
<span class="-9041732530050274696" onmouseenter="enter('-9041732530050274696');" onmouseout="out('-9041732530050274696');" style=""> 141                  contentPreview = contentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();      </span>
<span class="1735829929613293831" onmouseenter="enter('1735829929613293831');" onmouseout="out('1735829929613293831');" style=""> 142                  if (contentPreview.length() &gt;= 300) {                                                             </span>
<span class="5577715804247727640" onmouseenter="enter('5577715804247727640');" onmouseout="out('5577715804247727640');" style=""> 143                      contentPreview = contentPreview.substring(0, 300);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145              }                                                                                                     </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 146              else {                                                                                                </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 147                  contentPreview = content;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149          }                                                                                                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 150          else {                                                                                                    </span>
<span class="-8444418858715222852" onmouseenter="enter('-8444418858715222852');" onmouseout="out('-8444418858715222852');" style=""> 151              title = content;                                                                                      </span>
<span class="1666960908805049680" onmouseenter="enter('1666960908805049680');" onmouseout="out('1666960908805049680');" style=""> 152              contentPreview = content;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154      }                                                                                                             </span>
<span  style=""> 155                                                                                                                    </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 156  	public String getTitle() {                                                                                       </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 157          if (title == null) {                                                                                      </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 158              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159          }                                                                                                         </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 160  		return title;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161  	}                                                                                                                </span>
<span  style=""> 162                                                                                                                    </span>
<span class="-1471708678988590868" onmouseenter="enter('-1471708678988590868');" onmouseout="out('-1471708678988590868');" style=""> 163      public String getTitle(String ifBlank){                                                                       </span>
<span class="7090246938988062436" onmouseenter="enter('7090246938988062436');" onmouseout="out('7090246938988062436');" style=""> 164          if (title == null) {                                                                                      </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 165              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166          }                                                                                                         </span>
<span class="-2298921257928736121" onmouseenter="enter('-2298921257928736121');" onmouseout="out('-2298921257928736121');" style=""> 167          if (title.trim().equals(&quot;&quot;)) {                                                                            </span>
<span class="4845157908238866644" onmouseenter="enter('4845157908238866644');" onmouseout="out('4845157908238866644');" style=""> 168              return ifBlank;                                                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 169          } else {                                                                                                  </span>
<span class="7882064217106443061" onmouseenter="enter('7882064217106443061');" onmouseout="out('7882064217106443061');" style=""> 170              return title;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172      }                                                                                                             </span>
<span  style=""> 173                                                                                                                    </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 174  	public String getContent() {                                                                                     </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 175          Object content = getProperty(CONTENT_PROPERTY);                                                           </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 176          if (content == null) {                                                                                    </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 177              return BLANK_CONTENT;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178          }                                                                                                         </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 179          return (String) content;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180  	}                                                                                                                </span>
<span  style=""> 181                                                                                                                    </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 182  	public void setContent(String content) {                                                                         </span>
<span class="-4606673025447744814" onmouseenter="enter('-4606673025447744814');" onmouseout="out('-4606673025447744814');" style=""> 183          title = null;                                                                                             </span>
<span class="-1769301736592682715" onmouseenter="enter('-1769301736592682715');" onmouseout="out('-1769301736592682715');" style=""> 184          contentPreview = null;                                                                                    </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 185          setProperty(CONTENT_PROPERTY, content);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186  	}                                                                                                                </span>
<span  style=""> 187                                                                                                                    </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 188  	public String getContentPreview() {                                                                              </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 189          if (contentPreview == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 190              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191          }                                                                                                         </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 192  		return contentPreview;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193  	}                                                                                                                </span>
<span  style=""> 194                                                                                                                    </span>
<span class="-5710090900593654965" onmouseenter="enter('-5710090900593654965');" onmouseout="out('-5710090900593654965');" style=""> 195      public String getContentPreview(int lines){                                                                   </span>
<span class="-5444462588796391544" onmouseenter="enter('-5444462588796391544');" onmouseout="out('-5444462588796391544');" style=""> 196          if (contentPreview == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 197              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198          }                                                                                                         </span>
<span class="-2633729465532972665" onmouseenter="enter('-2633729465532972665');" onmouseout="out('-2633729465532972665');" style=""> 199          return contentPreview;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200      }                                                                                                             </span>
<span  style=""> 201                                                                                                                    </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 202  	public Calendar getCreationDate() {                                                                              </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 203          return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204  	}                                                                                                                </span>
<span  style=""> 205                                                                                                                    </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 206  	public void setCreationDate(Calendar creationDate) {                                                             </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 207          setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208  	}                                                                                                                </span>
<span  style=""> 209                                                                                                                    </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 210  	public Calendar getModificationDate() {                                                                          </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 211          return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212  	}                                                                                                                </span>
<span  style=""> 213                                                                                                                    </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 214  	public void setModificationDate(Calendar modificationDate) {                                                     </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 215          setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216  	}                                                                                                                </span>
<span  style=""> 217                                                                                                                    </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 218      public boolean hasTag(String tag){                                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 219          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 220          String tagLower = tag.toLowerCase();                                                                      </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 221          for (String tagName : tags) {                                                                             </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 222              if (tagLower.equals(tagName.toLowerCase())) return true;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 224          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225      }                                                                                                             </span>
<span  style=""> 226                                                                                                                    </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 227      public boolean hasTag(Tag tag){                                                                               </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 228          return hasTag(tag.getSimperiumKey());                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229      }                                                                                                             </span>
<span  style=""> 230                                                                                                                    </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 231  	public List&lt;String&gt; getTags() {                                                                                  </span>
<span class="6557618911346422900" onmouseenter="enter('6557618911346422900');" onmouseout="out('6557618911346422900');" style=""> 232          Object tags = getProperty(TAGS_PROPERTY);                                                                 </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 233          if (tags == null) {                                                                                       </span>
<span class="-3836145751591192365" onmouseenter="enter('-3836145751591192365');" onmouseout="out('-3836145751591192365');" style=""> 234              tags = new ArrayList&lt;String&gt;();                                                                       </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 235              setProperty(TAGS_PROPERTY, tags);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236          }                                                                                                         </span>
<span class="-8417065296039356298" onmouseenter="enter('-8417065296039356298');" onmouseout="out('-8417065296039356298');" style=""> 237          return (ArrayList&lt;String&gt;) tags;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238  	}                                                                                                                </span>
<span  style=""> 239                                                                                                                    </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 240  	public void setTags(List&lt;String&gt; tags) {                                                                         </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 241          setProperty(TAGS_PROPERTY, tags);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242  	}                                                                                                                </span>
<span  style=""> 243                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 244      /**                                                                                                           </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 245       * String of tags delimited by a space                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 246       */                                                                                                           </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 247      public CharSequence getTagString(){                                                                           </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 248          StringBuilder tagString = new StringBuilder();                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 249          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 250          for(String tag : tags){                                                                                   </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 251              if (tagString.length() &gt; 0) {                                                                         </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 252                  tagString.append(SPACE);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253              }                                                                                                     </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 254              tagString.append(tag);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255          }                                                                                                         </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 256          return tagString;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257      }                                                                                                             </span>
<span  style=""> 258                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 259      /**                                                                                                           </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 260       * Sets the note&#x27;s tags by providing it with a {@link String} of space                                        </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 261       * seperated tags. Filters out duplicate tags.                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 262       *                                                                                                            </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 263       * @param tagString a space delimited list of tags                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 264       */                                                                                                           </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 265      public void setTagString(String tagString){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 266          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 267          tags.clear();                                                                                             </span>
<span class="-5693622027807076650" onmouseenter="enter('-5693622027807076650');" onmouseout="out('-5693622027807076650');" style=""> 268          if (tagString == null) return;                                                                            </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 269          // Make sure string has a trailing space                                                                  </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 270          if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))                 </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 271              tagString = tagString + SPACE;                                                                        </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 272          // for comparing case-insensitive strings, would like to find a way to                                    </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 273          // do this without allocating a new list and strings                                                      </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style=""> 274          List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                                     </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 275          // remove all current tags                                                                                </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 276          int start = 0;                                                                                            </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 277          int next = -1;                                                                                            </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 278          String possible;                                                                                          </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 279          String possibleUpperCase;                                                                                 </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 280          // search tag string for space characters and pull out individual tags                                    </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 281          do {                                                                                                      </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 282              next = tagString.indexOf(SPACE, start);                                                               </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 283              if (next &gt; start) {                                                                                   </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 284                  possible = tagString.substring(start, next);                                                      </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 285                  possibleUpperCase = possible.toUpperCase();                                                       </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 286                  if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {                      </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 287                      tagsUpperCase.add(possibleUpperCase);                                                         </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 288                      tags.add(possible);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290              }                                                                                                     </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 291              start = next + 1;                                                                                     </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 292          } while(next &gt; -1);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293      }                                                                                                             </span>
<span  style=""> 294                                                                                                                    </span>
<span class="-1607960192898089353" onmouseenter="enter('-1607960192898089353');" onmouseout="out('-1607960192898089353');" style=""> 295  	public List&lt;String&gt; getSystemTags() {                                                                            </span>
<span class="-4384060217643671354" onmouseenter="enter('-4384060217643671354');" onmouseout="out('-4384060217643671354');" style=""> 296          Object tags = getProperty(SYSTEM_TAGS_PROPERTY);                                                          </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 297          if (tags == null) {                                                                                       </span>
<span class="-5857108152319072519" onmouseenter="enter('-5857108152319072519');" onmouseout="out('-5857108152319072519');" style=""> 298              return new ArrayList&lt;String&gt;();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299          }                                                                                                         </span>
<span class="-4775486835750967757" onmouseenter="enter('-4775486835750967757');" onmouseout="out('-4775486835750967757');" style=""> 300          return (List&lt;String&gt;) tags;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301  	}                                                                                                                </span>
<span  style=""> 302                                                                                                                    </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 303  	public Boolean isDeleted() {                                                                                     </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 304          Object deleted = getProperty(DELETED_PROPERTY);                                                           </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 305          if (deleted == null) {                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 306              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307          }                                                                                                         </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 308  		if (deleted instanceof Boolean) {                                                                               </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 309  			return (Boolean) deleted;                                                                                      </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style=""> 310  		} else if (deleted instanceof Number) {                                                                         </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style=""> 311  			return ((Number)deleted).intValue() == 0 ? false : true;                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 312          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 313              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315  	}                                                                                                                </span>
<span  style=""> 316                                                                                                                    </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 317  	public void setDeleted(boolean deleted) {                                                                        </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 318  		setProperty(DELETED_PROPERTY, deleted);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319  	}                                                                                                                </span>
<span  style=""> 320                                                                                                                    </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 321  	public boolean isPinned() {                                                                                      </span>
<span class="-4737390931423508815" onmouseenter="enter('-4737390931423508815');" onmouseout="out('-4737390931423508815');" style=""> 322          return getSystemTags().contains(PINNED_TAG);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323  	}                                                                                                                </span>
<span  style=""> 324                                                                                                                    </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 325  	public void setPinned(boolean isPinned) {                                                                        </span>
<span class="379285116373643938" onmouseenter="enter('379285116373643938');" onmouseout="out('379285116373643938');" style=""> 326          if (isPinned &amp;&amp; !isPinned()) {                                                                            </span>
<span class="-4625586533260346587" onmouseenter="enter('-4625586533260346587');" onmouseout="out('-4625586533260346587');" style=""> 327              getSystemTags().add(PINNED_TAG);                                                                      </span>
<span class="-2581773493742197822" onmouseenter="enter('-2581773493742197822');" onmouseout="out('-2581773493742197822');" style=""> 328          } else if (!isPinned &amp;&amp; isPinned()){                                                                      </span>
<span class="-4789425823016790928" onmouseenter="enter('-4789425823016790928');" onmouseout="out('-4789425823016790928');" style=""> 329              getSystemTags().remove(PINNED_TAG);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331  	}                                                                                                                </span>
<span  style=""> 332                                                                                                                    </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 333      public static String dateString(Number time, boolean useShortFormat, Context context){                        </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 334          Calendar c = numberToDate(time);                                                                          </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 335          return dateString(c, useShortFormat, context);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336      }                                                                                                             </span>
<span  style=""> 337                                                                                                                    </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 338  	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                           </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 339  		int year, month, day;                                                                                           </span>
<span  style=""> 340                                                                                                                    </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 341  		String time, date, retVal;                                                                                      </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 342  		time = date = &quot;&quot;;                                                                                               </span>
<span  style=""> 343                                                                                                                    </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 344  		Calendar diff = Calendar.getInstance();                                                                         </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 345  		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                             </span>
<span  style=""> 346                                                                                                                    </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 347  		year = diff.get(Calendar.YEAR);                                                                                 </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 348  		month = diff.get(Calendar.MONTH);                                                                               </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 349  		day = diff.get(Calendar.DAY_OF_MONTH);                                                                          </span>
<span  style=""> 350                                                                                                                    </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 351  		diff.setTimeInMillis(0); // starting time                                                                       </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 352  		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                                        </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 353  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 353  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF🔵</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 354  			date = context.getResources().getString(R.string.today);                                                       </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 355  			if (useShortFormat)                                                                                            </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 356  				retVal = time;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 357  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 358  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 359  		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {            </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 360  			date = context.getResources().getString(R.string.yesterday);                                                   </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 361  			if (useShortFormat)                                                                                            </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 362  				retVal = date;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 363  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 364  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 365  		} else {                                                                                                        </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 366  			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                          </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 367  			retVal = date + &quot;, &quot; + time;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368  		}                                                                                                               </span>
<span  style=""> 369                                                                                                                    </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 370  		return retVal;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371  	}                                                                                                                </span>
<span  style=""> 372                                                                                                                    </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 373      public static Calendar numberToDate(Number time){                                                             </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 374          Calendar date = Calendar.getInstance();                                                                   </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 375          if (time != null) {                                                                                       </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 376 +            // Flick Note uses millisecond resolution timestamps Simplenote expects seconds                       </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 377 +            // since we only deal with create and modify timestamps, they should all have occured                 </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 378 +            // at the present time or in the past.                                                                </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 379 +            float now = date.getTimeInMillis()/1000;                                                              </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 380 +            float magnitude = time.floatValue()/now;                                                              </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 381 +            if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                                   </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 382              date.setTimeInMillis(time.longValue()*1000);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383          }                                                                                                         </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 384          return date;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385      }                                                                                                             </span>
<span  style=""> 386                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 387      /**                                                                                                           </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 388       * Check if the note has any changes                                                                          </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 389       * @param content the new note content                                                                        </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 390       * @param tagString space separated tags                                                                      </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 391       * @param isPinned note is pinned                                                                             </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 392       * @return true if note has changes, false if it is unchanged.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 393       */                                                                                                           </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style=""> 394      public boolean hasChanges(String content, String tagString, boolean isPinned) {                               </span>
<span  style=""> 395                                                                                                                    </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style=""><abbr title=" 396          if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 396          if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString🔵</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 397              return false;                                                                                         </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 398          else                                                                                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 399              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            