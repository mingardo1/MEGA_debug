<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>269</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    269
                    <a href="268.html">prev</a>
                    <a href="270.html">next</a>
                    <a href="269_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_7372a30b9f3190df28e61f8437f110c95d36b4fa_common/src/main/java/org/broadleafcommerce/common/email/service/EmailServiceImpl.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;7372a30b9f3190df28e61f8437f110c95d36b4fa:common/src/main/java/org/broadleafcommerce/common/email/service/EmailServiceImpl.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;7372a30b9f3190df28e61f8437f110c95d36b4fa^1:common/src/main/java/org/broadleafcommerce/common/email/service/EmailServiceImpl.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;7372a30b9f3190df28e61f8437f110c95d36b4fa^2:common/src/main/java/org/broadleafcommerce/common/email/service/EmailServiceImpl.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;65989a8b6469e6f21626a6b7292822865b1618ba:common/src/main/java/org/broadleafcommerce/common/email/service/EmailServiceImpl.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="">   3  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-694087204444235829" onmouseenter="enter('-694087204444235829');" onmouseout="out('-694087204444235829');" style="">  18 package org.broadleafcommerce.common.email.service;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  20 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="650718985643898152" onmouseenter="enter('650718985643898152');" onmouseout="out('650718985643898152');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  21 import org.apache.commons.collections4.MapUtils;                                                         </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  22 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 import java.util.HashMap;                                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  24 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  25 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="970619942806179929" onmouseenter="enter('970619942806179929');" onmouseout="out('970619942806179929');" style="">  26 import org.broadleafcommerce.common.email.dao.EmailReportingDao;                                         </span>
<span class="-4329403159370873100" onmouseenter="enter('-4329403159370873100');" onmouseout="out('-4329403159370873100');" style="">  27 import org.broadleafcommerce.common.email.domain.EmailTarget;                                            </span>
<span class="-2434187449340597813" onmouseenter="enter('-2434187449340597813');" onmouseout="out('-2434187449340597813');" style="">  28 import org.broadleafcommerce.common.email.service.exception.EmailException;                              </span>
<span class="-6139442722863763787" onmouseenter="enter('-6139442722863763787');" onmouseout="out('-6139442722863763787');" style="">  29 import org.broadleafcommerce.common.email.service.info.EmailInfo;                                        </span>
<span class="5595871489237686770" onmouseenter="enter('5595871489237686770');" onmouseout="out('5595871489237686770');" style="">  30 import org.broadleafcommerce.common.email.service.info.NullEmailInfo;                                    </span>
<span class="5974229432396030841" onmouseenter="enter('5974229432396030841');" onmouseout="out('5974229432396030841');" style="">  31 import org.broadleafcommerce.common.email.service.info.ServerInfo;                                       </span>
<span class="-8512563360541385415" onmouseenter="enter('-8512563360541385415');" onmouseout="out('-8512563360541385415');" style="">  32 import org.broadleafcommerce.common.email.service.message.EmailPropertyType;                             </span>
<span class="-3656560807481170528" onmouseenter="enter('-3656560807481170528');" onmouseout="out('-3656560807481170528');" style="">  33 import org.broadleafcommerce.common.email.service.message.EmailServiceProducer;                          </span>
<span class="-5447379058812077298" onmouseenter="enter('-5447379058812077298');" onmouseout="out('-5447379058812077298');" style="">  34 import org.broadleafcommerce.common.email.service.message.MessageCreator;                                </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  35 import org.springframework.beans.factory.annotation.Autowired;                                           </span>
<span class="-5275076188864034753" onmouseenter="enter('-5275076188864034753');" onmouseout="out('-5275076188864034753');" style="">  36 import org.springframework.stereotype.Service;                                                           </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  37 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  38 import java.util.Map;                                                                                    </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  39 import javax.annotation.Resource;                                                                        </span>
<span  style="">  40                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  41 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  42 import java.util.Map;                                                                                    </span>
<span  style="">  43                                                                                                          </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  44 import javax.annotation.Resource;                                                                        </span>
<span  style="">  45                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  46 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  47  * @author jfischer                                                                                      </span>
<span class="424168604167335405" onmouseenter="enter('424168604167335405');" onmouseout="out('424168604167335405');" style="">  48  * @deprecated                                                                                           </span>
<span class="-4666091710490871264" onmouseenter="enter('-4666091710490871264');" onmouseout="out('-4666091710490871264');" style="">  49  * @see org.broadleafcommerce.common.notification.service.NotificationService                            </span>
<span class="5762726440670546201" onmouseenter="enter('5762726440670546201');" onmouseout="out('5762726440670546201');" style="">  50  * @see org.broadleafcommerce.common.notification.service.NotificationDispatcher                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  51  */                                                                                                      </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="">  52 @Deprecated                                                                                              </span>
<span class="8480940749235276984" onmouseenter="enter('8480940749235276984');" onmouseout="out('8480940749235276984');" style="">  53 @Service(&quot;blEmailService&quot;)                                                                               </span>
<span class="4382423030938042081" onmouseenter="enter('4382423030938042081');" onmouseout="out('4382423030938042081');" style="">  54 public class EmailServiceImpl implements EmailService {                                                  </span>
<span  style="">  55                                                                                                          </span>
<span class="-4063117198105111381" onmouseenter="enter('-4063117198105111381');" onmouseout="out('-4063117198105111381');" style="">  56     @Resource(name = &quot;blEmailTrackingManager&quot;)                                                           </span>
<span class="-4191284183033271610" onmouseenter="enter('-4191284183033271610');" onmouseout="out('-4191284183033271610');" style="">  57     protected EmailTrackingManager emailTrackingManager;                                                 </span>
<span  style="">  58                                                                                                          </span>
<span class="5404608329939717963" onmouseenter="enter('5404608329939717963');" onmouseout="out('5404608329939717963');" style="">  59     @Resource(name = &quot;blServerInfo&quot;)                                                                     </span>
<span class="3754145682905290179" onmouseenter="enter('3754145682905290179');" onmouseout="out('3754145682905290179');" style="">  60     protected ServerInfo serverInfo;                                                                     </span>
<span  style="">  61                                                                                                          </span>
<span class="2602789178515286342" onmouseenter="enter('2602789178515286342');" onmouseout="out('2602789178515286342');" style="">  62     @Autowired(required = false)                                                                         </span>
<span class="-8975982535964314819" onmouseenter="enter('-8975982535964314819');" onmouseout="out('-8975982535964314819');" style="">  63     protected EmailServiceProducer emailServiceProducer;                                                 </span>
<span  style="">  64                                                                                                          </span>
<span class="-1907184798934927768" onmouseenter="enter('-1907184798934927768');" onmouseout="out('-1907184798934927768');" style="">  65     @Resource(name = &quot;blMessageCreator&quot;)                                                                 </span>
<span class="4534646659247706351" onmouseenter="enter('4534646659247706351');" onmouseout="out('4534646659247706351');" style="">  66     protected MessageCreator messageCreator;                                                             </span>
<span  style="">  67                                                                                                          </span>
<span class="7459705163475090144" onmouseenter="enter('7459705163475090144');" onmouseout="out('7459705163475090144');" style="">  68     @Resource(name = &quot;blEmailReportingDao&quot;)                                                              </span>
<span class="-900003184992985272" onmouseenter="enter('-900003184992985272');" onmouseout="out('-900003184992985272');" style="">  69     protected EmailReportingDao emailReportingDao;                                                       </span>
<span  style="">  70                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  71     @Override                                                                                            </span>
<span class="-1089037919797468862" onmouseenter="enter('-1089037919797468862');" onmouseout="out('-1089037919797468862');" style=""><abbr title="  72     public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {">  72     public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; prðŸ”µ</abbr></span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  73         if (emailInfo == null) {                                                                         </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  74             emailInfo = new EmailInfo();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75         }                                                                                                </span>
<span  style="">  76                                                                                                          </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="">  77         props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                              </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  78         props.put(EmailPropertyType.INFO.getType(), emailInfo);                                          </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  79         props.put(EmailPropertyType.USER.getType(), emailTarget);                                        </span>
<span class="-7369411119103762144" onmouseenter="enter('-7369411119103762144');" onmouseout="out('-7369411119103762144');" style=""><abbr title="  80         Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailType(), null);">  80         Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.gðŸ”µ</abbr></span>
<span class="-1443288557783845026" onmouseenter="enter('-1443288557783845026');" onmouseout="out('-1443288557783845026');" style="">  81         props.put(&quot;emailTrackingId&quot;, emailId);                                                           </span>
<span  style="">  82                                                                                                          </span>
<span class="-2626031424421159978" onmouseenter="enter('-2626031424421159978');" onmouseout="out('-2626031424421159978');" style="">  83         return sendBasicEmail(emailInfo, emailTarget, props);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84     }                                                                                                    </span>
<span  style="">  85                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  86     @Override                                                                                            </span>
<span class="-6095881301907693630" onmouseenter="enter('-6095881301907693630');" onmouseout="out('-6095881301907693630');" style=""><abbr title="  87     public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {">  87     public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props)ðŸ”µ</abbr></span>
<span class="837099976640964657" onmouseenter="enter('837099976640964657');" onmouseout="out('837099976640964657');" style="">  88         if (!(emailInfo instanceof NullEmailInfo)) {                                                     </span>
<span class="7280689743813271735" onmouseenter="enter('7280689743813271735');" onmouseout="out('7280689743813271735');" style="">  89             EmailTarget emailTarget = emailReportingDao.createTarget();                                  </span>
<span class="-2329909181744311417" onmouseenter="enter('-2329909181744311417');" onmouseout="out('-2329909181744311417');" style="">  90             emailTarget.setEmailAddress(emailAddress);                                                   </span>
<span class="1098722309800616762" onmouseenter="enter('1098722309800616762');" onmouseout="out('1098722309800616762');" style="">  91             return sendTemplateEmail(emailTarget, emailInfo, props);                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  92         } else {                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="">  93             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95     }                                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  97     @Override                                                                                            </span>
<span class="-4033588491578747955" onmouseenter="enter('-4033588491578747955');" onmouseout="out('-4033588491578747955');" style=""><abbr title="  98     public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; props) {">  98     public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; propsðŸ”µ</abbr></span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  99         if (emailInfo == null) {                                                                         </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style=""> 100             emailInfo = new EmailInfo();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101         }                                                                                                </span>
<span  style=""> 102                                                                                                          </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style=""> 103         props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                              </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style=""> 104         props.put(EmailPropertyType.INFO.getType(), emailInfo);                                          </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style=""> 105         props.put(EmailPropertyType.USER.getType(), emailTarget);                                        </span>
<span  style=""> 106                                                                                                          </span>
<span class="2551372378531162010" onmouseenter="enter('2551372378531162010');" onmouseout="out('2551372378531162010');" style=""> 107         if (Boolean.parseBoolean(emailInfo.getSendEmailReliableAsync())) {                               </span>
<span class="-4656046381670160277" onmouseenter="enter('-4656046381670160277');" onmouseout="out('-4656046381670160277');" style=""> 108             if (emailServiceProducer == null) {                                                          </span>
<span class="-5991647901721790664" onmouseenter="enter('-5991647901721790664');" onmouseout="out('-5991647901721790664');" style=""><abbr title=" 109                 throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailService does not have an instance of JMSEmailServiceProducer set.&quot;);"> 109                 throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110             }                                                                                            </span>
<span class="-8139454259620711732" onmouseenter="enter('-8139454259620711732');" onmouseout="out('-8139454259620711732');" style=""> 111             emailServiceProducer.send(props);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 112         } else {                                                                                         </span>
<span class="2916109312810911732" onmouseenter="enter('2916109312810911732');" onmouseout="out('2916109312810911732');" style=""> 113             messageCreator.sendMessage(props);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114         }                                                                                                </span>
<span  style=""> 115                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 116         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 119     /**                                                                                                  </span>
<span class="7035300866938001634" onmouseenter="enter('7035300866938001634');" onmouseout="out('7035300866938001634');" style=""> 120      * @return the emailTrackingManager                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 121      */                                                                                                  </span>
<span class="-5258733420774903175" onmouseenter="enter('-5258733420774903175');" onmouseout="out('-5258733420774903175');" style=""> 122     public EmailTrackingManager getEmailTrackingManager() {                                              </span>
<span class="-4942438394993950552" onmouseenter="enter('-4942438394993950552');" onmouseout="out('-4942438394993950552');" style=""> 123         return emailTrackingManager;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124     }                                                                                                    </span>
<span  style=""> 125                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 126     /**                                                                                                  </span>
<span class="4233057181032197056" onmouseenter="enter('4233057181032197056');" onmouseout="out('4233057181032197056');" style=""> 127      * @param emailTrackingManager the emailTrackingManager to set                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 128      */                                                                                                  </span>
<span class="-268401707390856491" onmouseenter="enter('-268401707390856491');" onmouseout="out('-268401707390856491');" style=""> 129     public void setEmailTrackingManager(EmailTrackingManager emailTrackingManager) {                     </span>
<span class="797737178884744536" onmouseenter="enter('797737178884744536');" onmouseout="out('797737178884744536');" style=""> 130         this.emailTrackingManager = emailTrackingManager;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 133     /**                                                                                                  </span>
<span class="6307160250748378285" onmouseenter="enter('6307160250748378285');" onmouseout="out('6307160250748378285');" style=""> 134      * @return the serverInfo                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 135      */                                                                                                  </span>
<span class="2573546241307767977" onmouseenter="enter('2573546241307767977');" onmouseout="out('2573546241307767977');" style=""> 136     public ServerInfo getServerInfo() {                                                                  </span>
<span class="5293442985097612145" onmouseenter="enter('5293442985097612145');" onmouseout="out('5293442985097612145');" style=""> 137         return serverInfo;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138     }                                                                                                    </span>
<span  style=""> 139                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 140     /**                                                                                                  </span>
<span class="-5302813547780668949" onmouseenter="enter('-5302813547780668949');" onmouseout="out('-5302813547780668949');" style=""> 141      * @param serverInfo the serverInfo to set                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 142      */                                                                                                  </span>
<span class="6185003681771223202" onmouseenter="enter('6185003681771223202');" onmouseout="out('6185003681771223202');" style=""> 143     public void setServerInfo(ServerInfo serverInfo) {                                                   </span>
<span class="-4023624055572485441" onmouseenter="enter('-4023624055572485441');" onmouseout="out('-4023624055572485441');" style=""> 144         this.serverInfo = serverInfo;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145     }                                                                                                    </span>
<span  style=""> 146                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 147     /**                                                                                                  </span>
<span class="-1128108263897582799" onmouseenter="enter('-1128108263897582799');" onmouseout="out('-1128108263897582799');" style=""> 148      * @return the emailServiceProducer                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 149      */                                                                                                  </span>
<span class="8970435286404644599" onmouseenter="enter('8970435286404644599');" onmouseout="out('8970435286404644599');" style=""> 150     public EmailServiceProducer getEmailServiceProducer() {                                              </span>
<span class="-2901705552795858383" onmouseenter="enter('-2901705552795858383');" onmouseout="out('-2901705552795858383');" style=""> 151         return emailServiceProducer;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152     }                                                                                                    </span>
<span  style=""> 153                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 154     /**                                                                                                  </span>
<span class="-6708396601627788517" onmouseenter="enter('-6708396601627788517');" onmouseout="out('-6708396601627788517');" style=""> 155      * @param emailServiceProducer the emailServiceProducer to set                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 156      */                                                                                                  </span>
<span class="5873476991297958115" onmouseenter="enter('5873476991297958115');" onmouseout="out('5873476991297958115');" style=""> 157     public void setEmailServiceProducer(EmailServiceProducer emailServiceProducer) {                     </span>
<span class="-6007705264331629239" onmouseenter="enter('-6007705264331629239');" onmouseout="out('-6007705264331629239');" style=""> 158         this.emailServiceProducer = emailServiceProducer;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159     }                                                                                                    </span>
<span  style=""> 160                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 161     /**                                                                                                  </span>
<span class="4384512556605932078" onmouseenter="enter('4384512556605932078');" onmouseout="out('4384512556605932078');" style=""> 162      * @return the messageCreator                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 163      */                                                                                                  </span>
<span class="9219676636842356951" onmouseenter="enter('9219676636842356951');" onmouseout="out('9219676636842356951');" style=""> 164     public MessageCreator getMessageCreator() {                                                          </span>
<span class="-8323821826240029636" onmouseenter="enter('-8323821826240029636');" onmouseout="out('-8323821826240029636');" style=""> 165         return messageCreator;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 168     /**                                                                                                  </span>
<span class="-636307761864464520" onmouseenter="enter('-636307761864464520');" onmouseout="out('-636307761864464520');" style=""> 169      * @param messageCreator the messageCreator to set                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 170      */                                                                                                  </span>
<span class="2963773499374412024" onmouseenter="enter('2963773499374412024');" onmouseout="out('2963773499374412024');" style=""> 171     public void setMessageCreator(MessageCreator messageCreator) {                                       </span>
<span class="2627742735556780698" onmouseenter="enter('2627742735556780698');" onmouseout="out('2627742735556780698');" style=""> 172         this.messageCreator = messageCreator;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173     }                                                                                                    </span>
<span  style=""> 174                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="">   3  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-694087204444235829" onmouseenter="enter('-694087204444235829');" onmouseout="out('-694087204444235829');" style="">  18 package org.broadleafcommerce.common.email.service;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span class="650718985643898152" onmouseenter="enter('650718985643898152');" onmouseout="out('650718985643898152');" style="">  20 import org.apache.commons.collections4.MapUtils;                                                         </span>
<span class="970619942806179929" onmouseenter="enter('970619942806179929');" onmouseout="out('970619942806179929');" style="">  21 import org.broadleafcommerce.common.email.dao.EmailReportingDao;                                         </span>
<span class="-4329403159370873100" onmouseenter="enter('-4329403159370873100');" onmouseout="out('-4329403159370873100');" style="">  22 import org.broadleafcommerce.common.email.domain.EmailTarget;                                            </span>
<span class="-2434187449340597813" onmouseenter="enter('-2434187449340597813');" onmouseout="out('-2434187449340597813');" style="">  23 import org.broadleafcommerce.common.email.service.exception.EmailException;                              </span>
<span class="-6139442722863763787" onmouseenter="enter('-6139442722863763787');" onmouseout="out('-6139442722863763787');" style="">  24 import org.broadleafcommerce.common.email.service.info.EmailInfo;                                        </span>
<span class="5595871489237686770" onmouseenter="enter('5595871489237686770');" onmouseout="out('5595871489237686770');" style="">  25 import org.broadleafcommerce.common.email.service.info.NullEmailInfo;                                    </span>
<span class="5974229432396030841" onmouseenter="enter('5974229432396030841');" onmouseout="out('5974229432396030841');" style="">  26 import org.broadleafcommerce.common.email.service.info.ServerInfo;                                       </span>
<span class="-8512563360541385415" onmouseenter="enter('-8512563360541385415');" onmouseout="out('-8512563360541385415');" style="">  27 import org.broadleafcommerce.common.email.service.message.EmailPropertyType;                             </span>
<span class="-3656560807481170528" onmouseenter="enter('-3656560807481170528');" onmouseout="out('-3656560807481170528');" style="">  28 import org.broadleafcommerce.common.email.service.message.EmailServiceProducer;                          </span>
<span class="-5447379058812077298" onmouseenter="enter('-5447379058812077298');" onmouseout="out('-5447379058812077298');" style="">  29 import org.broadleafcommerce.common.email.service.message.MessageCreator;                                </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  30 import org.springframework.beans.factory.annotation.Autowired;                                           </span>
<span class="-5275076188864034753" onmouseenter="enter('-5275076188864034753');" onmouseout="out('-5275076188864034753');" style="">  31 import org.springframework.stereotype.Service;                                                           </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  32 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  33 import java.util.Map;                                                                                    </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  34 import javax.annotation.Resource;                                                                        </span>
<span  style="">  35                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  36 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  37  * @author jfischer                                                                                      </span>
<span class="424168604167335405" onmouseenter="enter('424168604167335405');" onmouseout="out('424168604167335405');" style="">  38  * @deprecated                                                                                           </span>
<span class="-4666091710490871264" onmouseenter="enter('-4666091710490871264');" onmouseout="out('-4666091710490871264');" style="">  39  * @see org.broadleafcommerce.common.notification.service.NotificationService                            </span>
<span class="5762726440670546201" onmouseenter="enter('5762726440670546201');" onmouseout="out('5762726440670546201');" style="">  40  * @see org.broadleafcommerce.common.notification.service.NotificationDispatcher                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  41  */                                                                                                      </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="">  42 @Deprecated                                                                                              </span>
<span class="8480940749235276984" onmouseenter="enter('8480940749235276984');" onmouseout="out('8480940749235276984');" style="">  43 @Service(&quot;blEmailService&quot;)                                                                               </span>
<span class="4382423030938042081" onmouseenter="enter('4382423030938042081');" onmouseout="out('4382423030938042081');" style="">  44 public class EmailServiceImpl implements EmailService {                                                  </span>
<span  style="">  45                                                                                                          </span>
<span class="-4063117198105111381" onmouseenter="enter('-4063117198105111381');" onmouseout="out('-4063117198105111381');" style="">  46     @Resource(name = &quot;blEmailTrackingManager&quot;)                                                           </span>
<span class="-4191284183033271610" onmouseenter="enter('-4191284183033271610');" onmouseout="out('-4191284183033271610');" style="">  47     protected EmailTrackingManager emailTrackingManager;                                                 </span>
<span  style="">  48                                                                                                          </span>
<span class="5404608329939717963" onmouseenter="enter('5404608329939717963');" onmouseout="out('5404608329939717963');" style="">  49     @Resource(name = &quot;blServerInfo&quot;)                                                                     </span>
<span class="3754145682905290179" onmouseenter="enter('3754145682905290179');" onmouseout="out('3754145682905290179');" style="">  50     protected ServerInfo serverInfo;                                                                     </span>
<span  style="">  51                                                                                                          </span>
<span class="2602789178515286342" onmouseenter="enter('2602789178515286342');" onmouseout="out('2602789178515286342');" style="">  52     @Autowired(required = false)                                                                         </span>
<span class="-8975982535964314819" onmouseenter="enter('-8975982535964314819');" onmouseout="out('-8975982535964314819');" style="">  53 protected EmailServiceProducer emailServiceProducer;                                                     </span>
<span  style="">  54                                                                                                          </span>
<span class="-1907184798934927768" onmouseenter="enter('-1907184798934927768');" onmouseout="out('-1907184798934927768');" style="">  55     @Resource(name = &quot;blMessageCreator&quot;)                                                                 </span>
<span class="4534646659247706351" onmouseenter="enter('4534646659247706351');" onmouseout="out('4534646659247706351');" style="">  56     protected MessageCreator messageCreator;                                                             </span>
<span  style="">  57                                                                                                          </span>
<span class="7459705163475090144" onmouseenter="enter('7459705163475090144');" onmouseout="out('7459705163475090144');" style="">  58     @Resource(name = &quot;blEmailReportingDao&quot;)                                                              </span>
<span class="-900003184992985272" onmouseenter="enter('-900003184992985272');" onmouseout="out('-900003184992985272');" style="">  59     protected EmailReportingDao emailReportingDao;                                                       </span>
<span  style="">  60                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  61     @Override                                                                                            </span>
<span class="-1089037919797468862" onmouseenter="enter('-1089037919797468862');" onmouseout="out('-1089037919797468862');" style=""><abbr title="  62 public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {">  62 public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; props)ðŸ”µ</abbr></span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  63         if (emailInfo == null) {                                                                         </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  64             emailInfo = new EmailInfo();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65         }                                                                                                </span>
<span  style="">  66                                                                                                          </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="">  67         props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                              </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  68         props.put(EmailPropertyType.INFO.getType(), emailInfo);                                          </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  69         props.put(EmailPropertyType.USER.getType(), emailTarget);                                        </span>
<span class="-7369411119103762144" onmouseenter="enter('-7369411119103762144');" onmouseout="out('-7369411119103762144');" style=""><abbr title="  70         Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailType(), null);">  70         Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.gðŸ”µ</abbr></span>
<span class="-1443288557783845026" onmouseenter="enter('-1443288557783845026');" onmouseout="out('-1443288557783845026');" style="">  71         props.put(&quot;emailTrackingId&quot;, emailId);                                                           </span>
<span  style="">  72                                                                                                          </span>
<span class="-2626031424421159978" onmouseenter="enter('-2626031424421159978');" onmouseout="out('-2626031424421159978');" style="">  73         return sendBasicEmail(emailInfo, emailTarget, props);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74     }                                                                                                    </span>
<span  style="">  75                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  76     @Override                                                                                            </span>
<span class="-6095881301907693630" onmouseenter="enter('-6095881301907693630');" onmouseout="out('-6095881301907693630');" style="">  77 public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {  </span>
<span class="837099976640964657" onmouseenter="enter('837099976640964657');" onmouseout="out('837099976640964657');" style="">  78         if (!(emailInfo instanceof NullEmailInfo)) {                                                     </span>
<span class="7280689743813271735" onmouseenter="enter('7280689743813271735');" onmouseout="out('7280689743813271735');" style="">  79             EmailTarget emailTarget = emailReportingDao.createTarget();                                  </span>
<span class="-2329909181744311417" onmouseenter="enter('-2329909181744311417');" onmouseout="out('-2329909181744311417');" style="">  80             emailTarget.setEmailAddress(emailAddress);                                                   </span>
<span class="1098722309800616762" onmouseenter="enter('1098722309800616762');" onmouseout="out('1098722309800616762');" style="">  81             return sendTemplateEmail(emailTarget, emailInfo, props);                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  82         } else {                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="">  83             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85     }                                                                                                    </span>
<span  style="">  86                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  87     @Override                                                                                            </span>
<span class="-4033588491578747955" onmouseenter="enter('-4033588491578747955');" onmouseout="out('-4033588491578747955');" style="">  88 public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; props) { </span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  89         if (emailInfo == null) {                                                                         </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  90             emailInfo = new EmailInfo();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91         }                                                                                                </span>
<span  style="">  92                                                                                                          </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="">  93         props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                              </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  94         props.put(EmailPropertyType.INFO.getType(), emailInfo);                                          </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  95         props.put(EmailPropertyType.USER.getType(), emailTarget);                                        </span>
<span  style="">  96                                                                                                          </span>
<span class="2551372378531162010" onmouseenter="enter('2551372378531162010');" onmouseout="out('2551372378531162010');" style="">  97         if (Boolean.parseBoolean(emailInfo.getSendEmailReliableAsync())) {                               </span>
<span class="-4656046381670160277" onmouseenter="enter('-4656046381670160277');" onmouseout="out('-4656046381670160277');" style="">  98             if (emailServiceProducer == null) {                                                          </span>
<span class="-5991647901721790664" onmouseenter="enter('-5991647901721790664');" onmouseout="out('-5991647901721790664');" style=""><abbr title="  99                 throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailService does not have an instance of JMSEmailServiceProducer set.&quot;);">  99                 throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100             }                                                                                            </span>
<span class="-8139454259620711732" onmouseenter="enter('-8139454259620711732');" onmouseout="out('-8139454259620711732');" style=""> 101             emailServiceProducer.send(props);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 102         } else {                                                                                         </span>
<span class="2916109312810911732" onmouseenter="enter('2916109312810911732');" onmouseout="out('2916109312810911732');" style=""> 103             messageCreator.sendMessage(props);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104         }                                                                                                </span>
<span  style=""> 105                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 106         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107     }                                                                                                    </span>
<span  style=""> 108                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 109     /**                                                                                                  </span>
<span class="7035300866938001634" onmouseenter="enter('7035300866938001634');" onmouseout="out('7035300866938001634');" style=""> 110      * @return the emailTrackingManager                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 111      */                                                                                                  </span>
<span class="-5258733420774903175" onmouseenter="enter('-5258733420774903175');" onmouseout="out('-5258733420774903175');" style=""> 112     public EmailTrackingManager getEmailTrackingManager() {                                              </span>
<span class="-4942438394993950552" onmouseenter="enter('-4942438394993950552');" onmouseout="out('-4942438394993950552');" style=""> 113         return emailTrackingManager;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span  style=""> 115                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 116     /**                                                                                                  </span>
<span class="4233057181032197056" onmouseenter="enter('4233057181032197056');" onmouseout="out('4233057181032197056');" style=""> 117      * @param emailTrackingManager the emailTrackingManager to set                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 118      */                                                                                                  </span>
<span class="-268401707390856491" onmouseenter="enter('-268401707390856491');" onmouseout="out('-268401707390856491');" style=""> 119     public void setEmailTrackingManager(EmailTrackingManager emailTrackingManager) {                     </span>
<span class="797737178884744536" onmouseenter="enter('797737178884744536');" onmouseout="out('797737178884744536');" style=""> 120         this.emailTrackingManager = emailTrackingManager;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121     }                                                                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 123     /**                                                                                                  </span>
<span class="6307160250748378285" onmouseenter="enter('6307160250748378285');" onmouseout="out('6307160250748378285');" style=""> 124      * @return the serverInfo                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 125      */                                                                                                  </span>
<span class="2573546241307767977" onmouseenter="enter('2573546241307767977');" onmouseout="out('2573546241307767977');" style=""> 126     public ServerInfo getServerInfo() {                                                                  </span>
<span class="5293442985097612145" onmouseenter="enter('5293442985097612145');" onmouseout="out('5293442985097612145');" style=""> 127         return serverInfo;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128     }                                                                                                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 130     /**                                                                                                  </span>
<span class="-5302813547780668949" onmouseenter="enter('-5302813547780668949');" onmouseout="out('-5302813547780668949');" style=""> 131      * @param serverInfo the serverInfo to set                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 132      */                                                                                                  </span>
<span class="6185003681771223202" onmouseenter="enter('6185003681771223202');" onmouseout="out('6185003681771223202');" style=""> 133     public void setServerInfo(ServerInfo serverInfo) {                                                   </span>
<span class="-4023624055572485441" onmouseenter="enter('-4023624055572485441');" onmouseout="out('-4023624055572485441');" style=""> 134         this.serverInfo = serverInfo;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135     }                                                                                                    </span>
<span  style=""> 136                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 137     /**                                                                                                  </span>
<span class="-1128108263897582799" onmouseenter="enter('-1128108263897582799');" onmouseout="out('-1128108263897582799');" style=""> 138      * @return the emailServiceProducer                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 139      */                                                                                                  </span>
<span class="8970435286404644599" onmouseenter="enter('8970435286404644599');" onmouseout="out('8970435286404644599');" style=""> 140     public EmailServiceProducer getEmailServiceProducer() {                                              </span>
<span class="-2901705552795858383" onmouseenter="enter('-2901705552795858383');" onmouseout="out('-2901705552795858383');" style=""> 141         return emailServiceProducer;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142     }                                                                                                    </span>
<span  style=""> 143                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 144     /**                                                                                                  </span>
<span class="-6708396601627788517" onmouseenter="enter('-6708396601627788517');" onmouseout="out('-6708396601627788517');" style=""> 145      * @param emailServiceProducer the emailServiceProducer to set                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 146      */                                                                                                  </span>
<span class="5873476991297958115" onmouseenter="enter('5873476991297958115');" onmouseout="out('5873476991297958115');" style=""> 147     public void setEmailServiceProducer(EmailServiceProducer emailServiceProducer) {                     </span>
<span class="-6007705264331629239" onmouseenter="enter('-6007705264331629239');" onmouseout="out('-6007705264331629239');" style=""> 148         this.emailServiceProducer = emailServiceProducer;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149     }                                                                                                    </span>
<span  style=""> 150                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 151     /**                                                                                                  </span>
<span class="4384512556605932078" onmouseenter="enter('4384512556605932078');" onmouseout="out('4384512556605932078');" style=""> 152      * @return the messageCreator                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 153      */                                                                                                  </span>
<span class="9219676636842356951" onmouseenter="enter('9219676636842356951');" onmouseout="out('9219676636842356951');" style=""> 154     public MessageCreator getMessageCreator() {                                                          </span>
<span class="-8323821826240029636" onmouseenter="enter('-8323821826240029636');" onmouseout="out('-8323821826240029636');" style=""> 155         return messageCreator;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156     }                                                                                                    </span>
<span  style=""> 157                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 158     /**                                                                                                  </span>
<span class="-636307761864464520" onmouseenter="enter('-636307761864464520');" onmouseout="out('-636307761864464520');" style=""> 159      * @param messageCreator the messageCreator to set                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 160      */                                                                                                  </span>
<span class="2963773499374412024" onmouseenter="enter('2963773499374412024');" onmouseout="out('2963773499374412024');" style=""> 161     public void setMessageCreator(MessageCreator messageCreator) {                                       </span>
<span class="2627742735556780698" onmouseenter="enter('2627742735556780698');" onmouseout="out('2627742735556780698');" style=""> 162         this.messageCreator = messageCreator;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165 }                                                                                                        </span>








</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="">   3  * BroadleafCommerce Common Libraries                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-694087204444235829" onmouseenter="enter('-694087204444235829');" onmouseout="out('-694087204444235829');" style="">  18 package org.broadleafcommerce.common.email.service;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  20 import java.util.HashMap;                                                                                </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  21 import java.util.Map;                                                                                    </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  22 import javax.annotation.Resource;                                                                        </span>
<span class="650718985643898152" onmouseenter="enter('650718985643898152');" onmouseout="out('650718985643898152');" style="">  23 import org.apache.commons.collections4.MapUtils;                                                         </span>
<span class="970619942806179929" onmouseenter="enter('970619942806179929');" onmouseout="out('970619942806179929');" style="">  24 import org.broadleafcommerce.common.email.dao.EmailReportingDao;                                         </span>
<span class="-4329403159370873100" onmouseenter="enter('-4329403159370873100');" onmouseout="out('-4329403159370873100');" style="">  25 import org.broadleafcommerce.common.email.domain.EmailTarget;                                            </span>
<span class="-2434187449340597813" onmouseenter="enter('-2434187449340597813');" onmouseout="out('-2434187449340597813');" style="">  26 import org.broadleafcommerce.common.email.service.exception.EmailException;                              </span>
<span class="-6139442722863763787" onmouseenter="enter('-6139442722863763787');" onmouseout="out('-6139442722863763787');" style="">  27 import org.broadleafcommerce.common.email.service.info.EmailInfo;                                        </span>
<span class="5595871489237686770" onmouseenter="enter('5595871489237686770');" onmouseout="out('5595871489237686770');" style="">  28 import org.broadleafcommerce.common.email.service.info.NullEmailInfo;                                    </span>
<span class="5974229432396030841" onmouseenter="enter('5974229432396030841');" onmouseout="out('5974229432396030841');" style="">  29 import org.broadleafcommerce.common.email.service.info.ServerInfo;                                       </span>
<span class="-8512563360541385415" onmouseenter="enter('-8512563360541385415');" onmouseout="out('-8512563360541385415');" style="">  30 import org.broadleafcommerce.common.email.service.message.EmailPropertyType;                             </span>
<span class="-3656560807481170528" onmouseenter="enter('-3656560807481170528');" onmouseout="out('-3656560807481170528');" style="">  31 import org.broadleafcommerce.common.email.service.message.EmailServiceProducer;                          </span>
<span class="-5447379058812077298" onmouseenter="enter('-5447379058812077298');" onmouseout="out('-5447379058812077298');" style="">  32 import org.broadleafcommerce.common.email.service.message.MessageCreator;                                </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  33 import org.springframework.beans.factory.annotation.Autowired;                                           </span>
<span class="-5275076188864034753" onmouseenter="enter('-5275076188864034753');" onmouseout="out('-5275076188864034753');" style="">  34 import org.springframework.stereotype.Service;                                                           </span>
<span  style="">  35                                                                                                          </span>
<span  style="">  36                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  37 /**                                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  38  *                                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  39  *                                                                                                       </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  40  * @author jfischer                                                                                      </span>
<span class="424168604167335405" onmouseenter="enter('424168604167335405');" onmouseout="out('424168604167335405');" style="">  41  * @deprecated                                                                                           </span>
<span class="-4666091710490871264" onmouseenter="enter('-4666091710490871264');" onmouseout="out('-4666091710490871264');" style="">  42  * @see org.broadleafcommerce.common.notification.service.NotificationService                            </span>
<span class="5762726440670546201" onmouseenter="enter('5762726440670546201');" onmouseout="out('5762726440670546201');" style="">  43  * @see org.broadleafcommerce.common.notification.service.NotificationDispatcher                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  44  */                                                                                                      </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="">  45 @Deprecated                                                                                              </span>
<span class="8480940749235276984" onmouseenter="enter('8480940749235276984');" onmouseout="out('8480940749235276984');" style="">  46 @Service(&quot;blEmailService&quot;)                                                                               </span>
<span class="4382423030938042081" onmouseenter="enter('4382423030938042081');" onmouseout="out('4382423030938042081');" style="">  47 public class EmailServiceImpl implements EmailService {                                                  </span>
<span class="-4063117198105111381" onmouseenter="enter('-4063117198105111381');" onmouseout="out('-4063117198105111381');" style="">  48     @Resource(name = &quot;blEmailTrackingManager&quot;)                                                           </span>
<span class="-4191284183033271610" onmouseenter="enter('-4191284183033271610');" onmouseout="out('-4191284183033271610');" style="">  49     protected EmailTrackingManager emailTrackingManager;                                                 </span>
<span  style="">  50                                                                                                          </span>
<span class="5404608329939717963" onmouseenter="enter('5404608329939717963');" onmouseout="out('5404608329939717963');" style="">  51     @Resource(name = &quot;blServerInfo&quot;)                                                                     </span>
<span class="3754145682905290179" onmouseenter="enter('3754145682905290179');" onmouseout="out('3754145682905290179');" style="">  52     protected ServerInfo serverInfo;                                                                     </span>
<span  style="">  53                                                                                                          </span>
<span class="2602789178515286342" onmouseenter="enter('2602789178515286342');" onmouseout="out('2602789178515286342');" style="">  54     @Autowired(required = false)                                                                         </span>
<span class="-8975982535964314819" onmouseenter="enter('-8975982535964314819');" onmouseout="out('-8975982535964314819');" style="">  55     protected EmailServiceProducer emailServiceProducer;                                                 </span>
<span  style="">  56                                                                                                          </span>
<span class="-1907184798934927768" onmouseenter="enter('-1907184798934927768');" onmouseout="out('-1907184798934927768');" style="">  57     @Resource(name = &quot;blMessageCreator&quot;)                                                                 </span>
<span class="4534646659247706351" onmouseenter="enter('4534646659247706351');" onmouseout="out('4534646659247706351');" style="">  58     protected MessageCreator messageCreator;                                                             </span>
<span  style="">  59                                                                                                          </span>
<span class="7459705163475090144" onmouseenter="enter('7459705163475090144');" onmouseout="out('7459705163475090144');" style="">  60     @Resource(name = &quot;blEmailReportingDao&quot;)                                                              </span>
<span class="-900003184992985272" onmouseenter="enter('-900003184992985272');" onmouseout="out('-900003184992985272');" style="">  61     protected EmailReportingDao emailReportingDao;                                                       </span>
<span  style="">  62                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-1089037919797468862" onmouseenter="enter('-1089037919797468862');" onmouseout="out('-1089037919797468862');" style=""><abbr title="  64     public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {">  64     public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; prðŸ”µ</abbr></span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  65         if (emailInfo == null) {                                                                         </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  66             emailInfo = new EmailInfo();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67         }                                                                                                </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="">  68         props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                              </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  69         props.put(EmailPropertyType.INFO.getType(), emailInfo);                                          </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  70         props.put(EmailPropertyType.USER.getType(), emailTarget);                                        </span>
<span class="-7369411119103762144" onmouseenter="enter('-7369411119103762144');" onmouseout="out('-7369411119103762144');" style=""><abbr title="  71         Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailType(), null);">  71         Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.gðŸ”µ</abbr></span>
<span class="-1443288557783845026" onmouseenter="enter('-1443288557783845026');" onmouseout="out('-1443288557783845026');" style="">  72         props.put(&quot;emailTrackingId&quot;, emailId);                                                           </span>
<span class="-2626031424421159978" onmouseenter="enter('-2626031424421159978');" onmouseout="out('-2626031424421159978');" style="">  73         return sendBasicEmail(emailInfo, emailTarget, props);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74     }                                                                                                    </span>
<span  style="">  75                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  76     @Override                                                                                            </span>
<span class="-6095881301907693630" onmouseenter="enter('-6095881301907693630');" onmouseout="out('-6095881301907693630');" style=""><abbr title="  77     public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {">  77     public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props)ðŸ”µ</abbr></span>
<span class="837099976640964657" onmouseenter="enter('837099976640964657');" onmouseout="out('837099976640964657');" style="">  78         if (!(emailInfo instanceof NullEmailInfo)) {                                                     </span>
<span class="7280689743813271735" onmouseenter="enter('7280689743813271735');" onmouseout="out('7280689743813271735');" style="">  79             EmailTarget emailTarget = emailReportingDao.createTarget();                                  </span>
<span class="-2329909181744311417" onmouseenter="enter('-2329909181744311417');" onmouseout="out('-2329909181744311417');" style="">  80             emailTarget.setEmailAddress(emailAddress);                                                   </span>
<span class="1098722309800616762" onmouseenter="enter('1098722309800616762');" onmouseout="out('1098722309800616762');" style="">  81             return sendTemplateEmail(emailTarget, emailInfo, props);                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  82         } else {                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="">  83             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85     }                                                                                                    </span>
<span  style="">  86                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  87     @Override                                                                                            </span>
<span class="-4033588491578747955" onmouseenter="enter('-4033588491578747955');" onmouseout="out('-4033588491578747955');" style=""><abbr title="  88     public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; props) {">  88     public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; propsðŸ”µ</abbr></span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  89         if (emailInfo == null) {                                                                         </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  90             emailInfo = new EmailInfo();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91         }                                                                                                </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="">  92         props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                              </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  93         props.put(EmailPropertyType.INFO.getType(), emailInfo);                                          </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  94         props.put(EmailPropertyType.USER.getType(), emailTarget);                                        </span>
<span class="2551372378531162010" onmouseenter="enter('2551372378531162010');" onmouseout="out('2551372378531162010');" style="">  95         if (Boolean.parseBoolean(emailInfo.getSendEmailReliableAsync())) {                               </span>
<span class="-4656046381670160277" onmouseenter="enter('-4656046381670160277');" onmouseout="out('-4656046381670160277');" style="">  96             if (emailServiceProducer == null) {                                                          </span>
<span class="-5991647901721790664" onmouseenter="enter('-5991647901721790664');" onmouseout="out('-5991647901721790664');" style=""><abbr title="  97                 throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailService does not have an instance of JMSEmailServiceProducer set.&quot;);">  97                 throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98             }                                                                                            </span>
<span class="-8139454259620711732" onmouseenter="enter('-8139454259620711732');" onmouseout="out('-8139454259620711732');" style="">  99             emailServiceProducer.send(props);                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 100         } else {                                                                                         </span>
<span class="2916109312810911732" onmouseenter="enter('2916109312810911732');" onmouseout="out('2916109312810911732');" style=""> 101             messageCreator.sendMessage(props);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 103         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104     }                                                                                                    </span>
<span  style=""> 105                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 106     /**                                                                                                  </span>
<span class="7035300866938001634" onmouseenter="enter('7035300866938001634');" onmouseout="out('7035300866938001634');" style=""> 107      * @return the emailTrackingManager                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 108      */                                                                                                  </span>
<span class="-5258733420774903175" onmouseenter="enter('-5258733420774903175');" onmouseout="out('-5258733420774903175');" style=""> 109     public EmailTrackingManager getEmailTrackingManager() {                                              </span>
<span class="-4942438394993950552" onmouseenter="enter('-4942438394993950552');" onmouseout="out('-4942438394993950552');" style=""> 110         return emailTrackingManager;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111     }                                                                                                    </span>
<span  style=""> 112                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 113     /**                                                                                                  </span>
<span class="4233057181032197056" onmouseenter="enter('4233057181032197056');" onmouseout="out('4233057181032197056');" style=""> 114      * @param emailTrackingManager the emailTrackingManager to set                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 115      */                                                                                                  </span>
<span class="-268401707390856491" onmouseenter="enter('-268401707390856491');" onmouseout="out('-268401707390856491');" style=""> 116     public void setEmailTrackingManager(EmailTrackingManager emailTrackingManager) {                     </span>
<span class="797737178884744536" onmouseenter="enter('797737178884744536');" onmouseout="out('797737178884744536');" style=""> 117         this.emailTrackingManager = emailTrackingManager;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118     }                                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 120     /**                                                                                                  </span>
<span class="6307160250748378285" onmouseenter="enter('6307160250748378285');" onmouseout="out('6307160250748378285');" style=""> 121      * @return the serverInfo                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 122      */                                                                                                  </span>
<span class="2573546241307767977" onmouseenter="enter('2573546241307767977');" onmouseout="out('2573546241307767977');" style=""> 123     public ServerInfo getServerInfo() {                                                                  </span>
<span class="5293442985097612145" onmouseenter="enter('5293442985097612145');" onmouseout="out('5293442985097612145');" style=""> 124         return serverInfo;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125     }                                                                                                    </span>
<span  style=""> 126                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 127     /**                                                                                                  </span>
<span class="-5302813547780668949" onmouseenter="enter('-5302813547780668949');" onmouseout="out('-5302813547780668949');" style=""> 128      * @param serverInfo the serverInfo to set                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 129      */                                                                                                  </span>
<span class="6185003681771223202" onmouseenter="enter('6185003681771223202');" onmouseout="out('6185003681771223202');" style=""> 130     public void setServerInfo(ServerInfo serverInfo) {                                                   </span>
<span class="-4023624055572485441" onmouseenter="enter('-4023624055572485441');" onmouseout="out('-4023624055572485441');" style=""> 131         this.serverInfo = serverInfo;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 134     /**                                                                                                  </span>
<span class="-1128108263897582799" onmouseenter="enter('-1128108263897582799');" onmouseout="out('-1128108263897582799');" style=""> 135      * @return the emailServiceProducer                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 136      */                                                                                                  </span>
<span class="8970435286404644599" onmouseenter="enter('8970435286404644599');" onmouseout="out('8970435286404644599');" style=""> 137     public EmailServiceProducer getEmailServiceProducer() {                                              </span>
<span class="-2901705552795858383" onmouseenter="enter('-2901705552795858383');" onmouseout="out('-2901705552795858383');" style=""> 138         return emailServiceProducer;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139     }                                                                                                    </span>
<span  style=""> 140                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 141     /**                                                                                                  </span>
<span class="-6708396601627788517" onmouseenter="enter('-6708396601627788517');" onmouseout="out('-6708396601627788517');" style=""> 142      * @param emailServiceProducer the emailServiceProducer to set                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 143      */                                                                                                  </span>
<span class="5873476991297958115" onmouseenter="enter('5873476991297958115');" onmouseout="out('5873476991297958115');" style=""> 144     public void setEmailServiceProducer(EmailServiceProducer emailServiceProducer) {                     </span>
<span class="-6007705264331629239" onmouseenter="enter('-6007705264331629239');" onmouseout="out('-6007705264331629239');" style=""> 145         this.emailServiceProducer = emailServiceProducer;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 148     /**                                                                                                  </span>
<span class="4384512556605932078" onmouseenter="enter('4384512556605932078');" onmouseout="out('4384512556605932078');" style=""> 149      * @return the messageCreator                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 150      */                                                                                                  </span>
<span class="9219676636842356951" onmouseenter="enter('9219676636842356951');" onmouseout="out('9219676636842356951');" style=""> 151     public MessageCreator getMessageCreator() {                                                          </span>
<span class="-8323821826240029636" onmouseenter="enter('-8323821826240029636');" onmouseout="out('-8323821826240029636');" style=""> 152         return messageCreator;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153     }                                                                                                    </span>
<span  style=""> 154                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 155     /**                                                                                                  </span>
<span class="-636307761864464520" onmouseenter="enter('-636307761864464520');" onmouseout="out('-636307761864464520');" style=""> 156      * @param messageCreator the messageCreator to set                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 157      */                                                                                                  </span>
<span class="2963773499374412024" onmouseenter="enter('2963773499374412024');" onmouseout="out('2963773499374412024');" style=""> 158     public void setMessageCreator(MessageCreator messageCreator) {                                       </span>
<span class="2627742735556780698" onmouseenter="enter('2627742735556780698');" onmouseout="out('2627742735556780698');" style=""> 159         this.messageCreator = messageCreator;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161 }                                                                                                        </span>












</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="">   3   * BroadleafCommerce Common Libraries                                                                             </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="-694087204444235829" onmouseenter="enter('-694087204444235829');" onmouseout="out('-694087204444235829');" style="">  18  package org.broadleafcommerce.common.email.service;                                                               </span>
<span  style="">  19                                                                                                                    </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  20 -import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  21 -import java.util.Map;                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -                                                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  23 -import javax.annotation.Resource;                                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -                                                                                                                  </span>
<span class="650718985643898152" onmouseenter="enter('650718985643898152');" onmouseout="out('650718985643898152');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  25 +import org.apache.commons.collections4.MapUtils;                                                                  </span>
<span class="970619942806179929" onmouseenter="enter('970619942806179929');" onmouseout="out('970619942806179929');" style="">  26  import org.broadleafcommerce.common.email.dao.EmailReportingDao;                                                  </span>
<span class="-4329403159370873100" onmouseenter="enter('-4329403159370873100');" onmouseout="out('-4329403159370873100');" style="">  27  import org.broadleafcommerce.common.email.domain.EmailTarget;                                                     </span>
<span class="-2434187449340597813" onmouseenter="enter('-2434187449340597813');" onmouseout="out('-2434187449340597813');" style="">  28  import org.broadleafcommerce.common.email.service.exception.EmailException;                                       </span>
<span class="-6139442722863763787" onmouseenter="enter('-6139442722863763787');" onmouseout="out('-6139442722863763787');" style="">  29  import org.broadleafcommerce.common.email.service.info.EmailInfo;                                                 </span>
<span class="5595871489237686770" onmouseenter="enter('5595871489237686770');" onmouseout="out('5595871489237686770');" style="">  30  import org.broadleafcommerce.common.email.service.info.NullEmailInfo;                                             </span>
<span class="5974229432396030841" onmouseenter="enter('5974229432396030841');" onmouseout="out('5974229432396030841');" style="">  31  import org.broadleafcommerce.common.email.service.info.ServerInfo;                                                </span>
<span class="-8512563360541385415" onmouseenter="enter('-8512563360541385415');" onmouseout="out('-8512563360541385415');" style="">  32  import org.broadleafcommerce.common.email.service.message.EmailPropertyType;                                      </span>
<span class="-3656560807481170528" onmouseenter="enter('-3656560807481170528');" onmouseout="out('-3656560807481170528');" style="">  33  import org.broadleafcommerce.common.email.service.message.EmailServiceProducer;                                   </span>
<span class="-5447379058812077298" onmouseenter="enter('-5447379058812077298');" onmouseout="out('-5447379058812077298');" style="">  34  import org.broadleafcommerce.common.email.service.message.MessageCreator;                                         </span>

<span class="-5275076188864034753" onmouseenter="enter('-5275076188864034753');" onmouseout="out('-5275076188864034753');" style="">  35  import org.springframework.stereotype.Service;                                                                    </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 +import java.util.Map;                                                                                             </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  38 +import javax.annotation.Resource;                                                                                 </span>


<span  style="">  39                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  40  /**                                                                                                               </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  41   * @author jfischer                                                                                               </span>
<span class="424168604167335405" onmouseenter="enter('424168604167335405');" onmouseout="out('424168604167335405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  42 + * @deprecated                                                                                                    </span>
<span class="-4666091710490871264" onmouseenter="enter('-4666091710490871264');" onmouseout="out('-4666091710490871264');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 + * @see org.broadleafcommerce.common.notification.service.NotificationService                                     </span>
<span class="5762726440670546201" onmouseenter="enter('5762726440670546201');" onmouseout="out('5762726440670546201');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  44 + * @see org.broadleafcommerce.common.notification.service.NotificationDispatcher                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  45   */                                                                                                               </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +@Deprecated                                                                                                       </span>
<span class="8480940749235276984" onmouseenter="enter('8480940749235276984');" onmouseout="out('8480940749235276984');" style="">  47  @Service(&quot;blEmailService&quot;)                                                                                        </span>
<span class="4382423030938042081" onmouseenter="enter('4382423030938042081');" onmouseout="out('4382423030938042081');" style="">  48  public class EmailServiceImpl implements EmailService {                                                           </span>
<span  style="">  49                                                                                                                    </span>
<span class="-4063117198105111381" onmouseenter="enter('-4063117198105111381');" onmouseout="out('-4063117198105111381');" style="">  50      @Resource(name = &quot;blEmailTrackingManager&quot;)                                                                    </span>
<span class="-4191284183033271610" onmouseenter="enter('-4191284183033271610');" onmouseout="out('-4191284183033271610');" style="">  51      protected EmailTrackingManager emailTrackingManager;                                                          </span>
<span  style="">  52                                                                                                                    </span>
<span class="5404608329939717963" onmouseenter="enter('5404608329939717963');" onmouseout="out('5404608329939717963');" style="">  53      @Resource(name = &quot;blServerInfo&quot;)                                                                              </span>
<span class="3754145682905290179" onmouseenter="enter('3754145682905290179');" onmouseout="out('3754145682905290179');" style="">  54      protected ServerInfo serverInfo;                                                                              </span>
<span  style="">  55                                                                                                                    </span>

<span class="-8975982535964314819" onmouseenter="enter('-8975982535964314819');" onmouseout="out('-8975982535964314819');" style="">  56      protected EmailServiceProducer emailServiceProducer;                                                          </span>
<span  style="">  57                                                                                                                    </span>
<span class="-1907184798934927768" onmouseenter="enter('-1907184798934927768');" onmouseout="out('-1907184798934927768');" style="">  58      @Resource(name = &quot;blMessageCreator&quot;)                                                                          </span>
<span class="4534646659247706351" onmouseenter="enter('4534646659247706351');" onmouseout="out('4534646659247706351');" style="">  59      protected MessageCreator messageCreator;                                                                      </span>
<span  style="">  60                                                                                                                    </span>
<span class="7459705163475090144" onmouseenter="enter('7459705163475090144');" onmouseout="out('7459705163475090144');" style="">  61      @Resource(name = &quot;blEmailReportingDao&quot;)                                                                       </span>
<span class="-900003184992985272" onmouseenter="enter('-900003184992985272');" onmouseout="out('-900003184992985272');" style="">  62      protected EmailReportingDao emailReportingDao;                                                                </span>
<span  style="">  63                                                                                                                    </span>

<span class="-1089037919797468862" onmouseenter="enter('-1089037919797468862');" onmouseout="out('-1089037919797468862');" style="">  64      public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {   </span>
<span class="-5252207952724657377" onmouseenter="enter('-5252207952724657377');" onmouseout="out('-5252207952724657377');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -        if (props == null) {                                                                                      </span>
<span class="-1752790302030557066" onmouseenter="enter('-1752790302030557066');" onmouseout="out('-1752790302030557066');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -            props = new HashMap&lt;String, Object&gt;();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -        }                                                                                                         </span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  68          if (emailInfo == null) {                                                                                  </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  69              emailInfo = new EmailInfo();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70          }                                                                                                         </span>
<span  style="">  71                                                                                                                    </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +        props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                                       </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  73          props.put(EmailPropertyType.INFO.getType(), emailInfo);                                                   </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  74          props.put(EmailPropertyType.USER.getType(), emailTarget);                                                 </span>
<span class="-7369411119103762144" onmouseenter="enter('-7369411119103762144');" onmouseout="out('-7369411119103762144');" style=""><abbr title="  75          Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailType(), null);">  75          Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailTyðŸ”µ</abbr></span>
<span class="-1443288557783845026" onmouseenter="enter('-1443288557783845026');" onmouseout="out('-1443288557783845026');" style="">  76          props.put(&quot;emailTrackingId&quot;, emailId);                                                                    </span>
<span  style="">  77                                                                                                                    </span>
<span class="-2626031424421159978" onmouseenter="enter('-2626031424421159978');" onmouseout="out('-2626031424421159978');" style="">  78          return sendBasicEmail(emailInfo, emailTarget, props);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79      }                                                                                                             </span>
<span  style="">  80                                                                                                                    </span>

<span class="-6095881301907693630" onmouseenter="enter('-6095881301907693630');" onmouseout="out('-6095881301907693630');" style="">  81      public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {       </span>
<span class="837099976640964657" onmouseenter="enter('837099976640964657');" onmouseout="out('837099976640964657');" style="">  82          if (!(emailInfo instanceof NullEmailInfo)) {                                                              </span>
<span class="7280689743813271735" onmouseenter="enter('7280689743813271735');" onmouseout="out('7280689743813271735');" style="">  83              EmailTarget emailTarget = emailReportingDao.createTarget();                                           </span>
<span class="-2329909181744311417" onmouseenter="enter('-2329909181744311417');" onmouseout="out('-2329909181744311417');" style="">  84              emailTarget.setEmailAddress(emailAddress);                                                            </span>
<span class="1098722309800616762" onmouseenter="enter('1098722309800616762');" onmouseout="out('1098722309800616762');" style="">  85              return sendTemplateEmail(emailTarget, emailInfo, props);                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  86          } else {                                                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="">  87              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89      }                                                                                                             </span>
<span  style="">  90                                                                                                                    </span>

<span class="-4033588491578747955" onmouseenter="enter('-4033588491578747955');" onmouseout="out('-4033588491578747955');" style="">  91      public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; props) {      </span>
<span class="-5252207952724657377" onmouseenter="enter('-5252207952724657377');" onmouseout="out('-5252207952724657377');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -        if (props == null) {                                                                                      </span>
<span class="-1752790302030557066" onmouseenter="enter('-1752790302030557066');" onmouseout="out('-1752790302030557066');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  93 -            props = new HashMap&lt;String, Object&gt;();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  94 -        }                                                                                                         </span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  95          if (emailInfo == null) {                                                                                  </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  96              emailInfo = new EmailInfo();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97          }                                                                                                         </span>
<span  style="">  98                                                                                                                    </span>
<span class="-9125872575248691463" onmouseenter="enter('-9125872575248691463');" onmouseout="out('-9125872575248691463');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +        props = new HashMap&lt;&gt;(MapUtils.emptyIfNull(props));                                                       </span>
<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style=""> 100          props.put(EmailPropertyType.INFO.getType(), emailInfo);                                                   </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style=""> 101          props.put(EmailPropertyType.USER.getType(), emailTarget);                                                 </span>
<span  style=""> 102                                                                                                                    </span>
<span class="2551372378531162010" onmouseenter="enter('2551372378531162010');" onmouseout="out('2551372378531162010');" style=""> 103          if (Boolean.parseBoolean(emailInfo.getSendEmailReliableAsync())) {                                        </span>
<span class="-4656046381670160277" onmouseenter="enter('-4656046381670160277');" onmouseout="out('-4656046381670160277');" style=""> 104              if (emailServiceProducer == null) {                                                                   </span>
<span class="-5991647901721790664" onmouseenter="enter('-5991647901721790664');" onmouseout="out('-5991647901721790664');" style=""><abbr title=" 105                  throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailService does not have an instance of JMSEmailServiceProducer set.&quot;);"> 105                  throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailSðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106              }                                                                                                     </span>
<span class="-8139454259620711732" onmouseenter="enter('-8139454259620711732');" onmouseout="out('-8139454259620711732');" style=""> 107              emailServiceProducer.send(props);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 108          } else {                                                                                                  </span>
<span class="2916109312810911732" onmouseenter="enter('2916109312810911732');" onmouseout="out('2916109312810911732');" style=""> 109              messageCreator.sendMessage(props);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110          }                                                                                                         </span>
<span  style=""> 111                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 112          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113      }                                                                                                             </span>
<span  style=""> 114                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 115      /**                                                                                                           </span>
<span class="7035300866938001634" onmouseenter="enter('7035300866938001634');" onmouseout="out('7035300866938001634');" style=""> 116       * @return the emailTrackingManager                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 117       */                                                                                                           </span>
<span class="-5258733420774903175" onmouseenter="enter('-5258733420774903175');" onmouseout="out('-5258733420774903175');" style=""> 118      public EmailTrackingManager getEmailTrackingManager() {                                                       </span>
<span class="-4942438394993950552" onmouseenter="enter('-4942438394993950552');" onmouseout="out('-4942438394993950552');" style=""> 119          return emailTrackingManager;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120      }                                                                                                             </span>
<span  style=""> 121                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 122      /**                                                                                                           </span>
<span class="4233057181032197056" onmouseenter="enter('4233057181032197056');" onmouseout="out('4233057181032197056');" style=""> 123       * @param emailTrackingManager the emailTrackingManager to set                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 124       */                                                                                                           </span>
<span class="-268401707390856491" onmouseenter="enter('-268401707390856491');" onmouseout="out('-268401707390856491');" style=""> 125      public void setEmailTrackingManager(EmailTrackingManager emailTrackingManager) {                              </span>
<span class="797737178884744536" onmouseenter="enter('797737178884744536');" onmouseout="out('797737178884744536');" style=""> 126          this.emailTrackingManager = emailTrackingManager;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127      }                                                                                                             </span>
<span  style=""> 128                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 129      /**                                                                                                           </span>
<span class="6307160250748378285" onmouseenter="enter('6307160250748378285');" onmouseout="out('6307160250748378285');" style=""> 130       * @return the serverInfo                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 131       */                                                                                                           </span>
<span class="2573546241307767977" onmouseenter="enter('2573546241307767977');" onmouseout="out('2573546241307767977');" style=""> 132      public ServerInfo getServerInfo() {                                                                           </span>
<span class="5293442985097612145" onmouseenter="enter('5293442985097612145');" onmouseout="out('5293442985097612145');" style=""> 133          return serverInfo;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134      }                                                                                                             </span>
<span  style=""> 135                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 136      /**                                                                                                           </span>
<span class="-5302813547780668949" onmouseenter="enter('-5302813547780668949');" onmouseout="out('-5302813547780668949');" style=""> 137       * @param serverInfo the serverInfo to set                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 138       */                                                                                                           </span>
<span class="6185003681771223202" onmouseenter="enter('6185003681771223202');" onmouseout="out('6185003681771223202');" style=""> 139      public void setServerInfo(ServerInfo serverInfo) {                                                            </span>
<span class="-4023624055572485441" onmouseenter="enter('-4023624055572485441');" onmouseout="out('-4023624055572485441');" style=""> 140          this.serverInfo = serverInfo;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141      }                                                                                                             </span>
<span  style=""> 142                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 143      /**                                                                                                           </span>
<span class="-1128108263897582799" onmouseenter="enter('-1128108263897582799');" onmouseout="out('-1128108263897582799');" style=""> 144       * @return the emailServiceProducer                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 145       */                                                                                                           </span>
<span class="8970435286404644599" onmouseenter="enter('8970435286404644599');" onmouseout="out('8970435286404644599');" style=""> 146      public EmailServiceProducer getEmailServiceProducer() {                                                       </span>
<span class="-2901705552795858383" onmouseenter="enter('-2901705552795858383');" onmouseout="out('-2901705552795858383');" style=""> 147          return emailServiceProducer;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148      }                                                                                                             </span>
<span  style=""> 149                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 150      /**                                                                                                           </span>
<span class="-6708396601627788517" onmouseenter="enter('-6708396601627788517');" onmouseout="out('-6708396601627788517');" style=""> 151       * @param emailServiceProducer the emailServiceProducer to set                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 152       */                                                                                                           </span>
<span class="5873476991297958115" onmouseenter="enter('5873476991297958115');" onmouseout="out('5873476991297958115');" style=""> 153      public void setEmailServiceProducer(EmailServiceProducer emailServiceProducer) {                              </span>
<span class="-6007705264331629239" onmouseenter="enter('-6007705264331629239');" onmouseout="out('-6007705264331629239');" style=""> 154          this.emailServiceProducer = emailServiceProducer;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155      }                                                                                                             </span>
<span  style=""> 156                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 157      /**                                                                                                           </span>
<span class="4384512556605932078" onmouseenter="enter('4384512556605932078');" onmouseout="out('4384512556605932078');" style=""> 158       * @return the messageCreator                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 159       */                                                                                                           </span>
<span class="9219676636842356951" onmouseenter="enter('9219676636842356951');" onmouseout="out('9219676636842356951');" style=""> 160      public MessageCreator getMessageCreator() {                                                                   </span>
<span class="-8323821826240029636" onmouseenter="enter('-8323821826240029636');" onmouseout="out('-8323821826240029636');" style=""> 161          return messageCreator;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162      }                                                                                                             </span>
<span  style=""> 163                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 164      /**                                                                                                           </span>
<span class="-636307761864464520" onmouseenter="enter('-636307761864464520');" onmouseout="out('-636307761864464520');" style=""> 165       * @param messageCreator the messageCreator to set                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 166       */                                                                                                           </span>
<span class="2963773499374412024" onmouseenter="enter('2963773499374412024');" onmouseout="out('2963773499374412024');" style=""> 167      public void setMessageCreator(MessageCreator messageCreator) {                                                </span>
<span class="2627742735556780698" onmouseenter="enter('2627742735556780698');" onmouseout="out('2627742735556780698');" style=""> 168          this.messageCreator = messageCreator;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169      }                                                                                                             </span>
<span  style=""> 170                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-4573490878212285276" onmouseenter="enter('-4573490878212285276');" onmouseout="out('-4573490878212285276');" style="">   3   * BroadleafCommerce Common Libraries                                                                             </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="-694087204444235829" onmouseenter="enter('-694087204444235829');" onmouseout="out('-694087204444235829');" style="">  18  package org.broadleafcommerce.common.email.service;                                                               </span>
<span  style="">  19                                                                                                                    </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  20 -import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  21 -import java.util.Map;                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -                                                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  23 -import javax.annotation.Resource;                                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -                                                                                                                  </span>

<span class="970619942806179929" onmouseenter="enter('970619942806179929');" onmouseout="out('970619942806179929');" style="">  25  import org.broadleafcommerce.common.email.dao.EmailReportingDao;                                                  </span>
<span class="-4329403159370873100" onmouseenter="enter('-4329403159370873100');" onmouseout="out('-4329403159370873100');" style="">  26  import org.broadleafcommerce.common.email.domain.EmailTarget;                                                     </span>
<span class="-2434187449340597813" onmouseenter="enter('-2434187449340597813');" onmouseout="out('-2434187449340597813');" style="">  27  import org.broadleafcommerce.common.email.service.exception.EmailException;                                       </span>
<span class="-6139442722863763787" onmouseenter="enter('-6139442722863763787');" onmouseout="out('-6139442722863763787');" style="">  28  import org.broadleafcommerce.common.email.service.info.EmailInfo;                                                 </span>
<span class="5595871489237686770" onmouseenter="enter('5595871489237686770');" onmouseout="out('5595871489237686770');" style="">  29  import org.broadleafcommerce.common.email.service.info.NullEmailInfo;                                             </span>
<span class="5974229432396030841" onmouseenter="enter('5974229432396030841');" onmouseout="out('5974229432396030841');" style="">  30  import org.broadleafcommerce.common.email.service.info.ServerInfo;                                                </span>
<span class="-8512563360541385415" onmouseenter="enter('-8512563360541385415');" onmouseout="out('-8512563360541385415');" style="">  31  import org.broadleafcommerce.common.email.service.message.EmailPropertyType;                                      </span>
<span class="-3656560807481170528" onmouseenter="enter('-3656560807481170528');" onmouseout="out('-3656560807481170528');" style="">  32  import org.broadleafcommerce.common.email.service.message.EmailServiceProducer;                                   </span>
<span class="-5447379058812077298" onmouseenter="enter('-5447379058812077298');" onmouseout="out('-5447379058812077298');" style="">  33  import org.broadleafcommerce.common.email.service.message.MessageCreator;                                         </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +import org.springframework.beans.factory.annotation.Autowired;                                                    </span>
<span class="-5275076188864034753" onmouseenter="enter('-5275076188864034753');" onmouseout="out('-5275076188864034753');" style="">  35  import org.springframework.stereotype.Service;                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +                                                                                                                  </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 +import java.util.HashMap;                                                                                         </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  38 +import java.util.Map;                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  39 +                                                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +import javax.annotation.Resource;                                                                                 </span>
<span  style="">  41                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  42  /**                                                                                                               </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  43   * @author jfischer                                                                                               </span>



<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  44   */                                                                                                               </span>

<span class="8480940749235276984" onmouseenter="enter('8480940749235276984');" onmouseout="out('8480940749235276984');" style="">  45  @Service(&quot;blEmailService&quot;)                                                                                        </span>
<span class="4382423030938042081" onmouseenter="enter('4382423030938042081');" onmouseout="out('4382423030938042081');" style="">  46  public class EmailServiceImpl implements EmailService {                                                           </span>
<span  style="">  47                                                                                                                    </span>
<span class="-4063117198105111381" onmouseenter="enter('-4063117198105111381');" onmouseout="out('-4063117198105111381');" style="">  48      @Resource(name = &quot;blEmailTrackingManager&quot;)                                                                    </span>
<span class="-4191284183033271610" onmouseenter="enter('-4191284183033271610');" onmouseout="out('-4191284183033271610');" style="">  49      protected EmailTrackingManager emailTrackingManager;                                                          </span>
<span  style="">  50                                                                                                                    </span>
<span class="5404608329939717963" onmouseenter="enter('5404608329939717963');" onmouseout="out('5404608329939717963');" style="">  51      @Resource(name = &quot;blServerInfo&quot;)                                                                              </span>
<span class="3754145682905290179" onmouseenter="enter('3754145682905290179');" onmouseout="out('3754145682905290179');" style="">  52      protected ServerInfo serverInfo;                                                                              </span>
<span  style="">  53                                                                                                                    </span>
<span class="2602789178515286342" onmouseenter="enter('2602789178515286342');" onmouseout="out('2602789178515286342');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +    @Autowired(required = false)                                                                                  </span>
<span class="-8975982535964314819" onmouseenter="enter('-8975982535964314819');" onmouseout="out('-8975982535964314819');" style="">  55      protected EmailServiceProducer emailServiceProducer;                                                          </span>
<span  style="">  56                                                                                                                    </span>
<span class="-1907184798934927768" onmouseenter="enter('-1907184798934927768');" onmouseout="out('-1907184798934927768');" style="">  57      @Resource(name = &quot;blMessageCreator&quot;)                                                                          </span>
<span class="4534646659247706351" onmouseenter="enter('4534646659247706351');" onmouseout="out('4534646659247706351');" style="">  58      protected MessageCreator messageCreator;                                                                      </span>
<span  style="">  59                                                                                                                    </span>
<span class="7459705163475090144" onmouseenter="enter('7459705163475090144');" onmouseout="out('7459705163475090144');" style="">  60      @Resource(name = &quot;blEmailReportingDao&quot;)                                                                       </span>
<span class="-900003184992985272" onmouseenter="enter('-900003184992985272');" onmouseout="out('-900003184992985272');" style="">  61      protected EmailReportingDao emailReportingDao;                                                                </span>
<span  style="">  62                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  63 +    @Override                                                                                                     </span>
<span class="-1089037919797468862" onmouseenter="enter('-1089037919797468862');" onmouseout="out('-1089037919797468862');" style="">  64      public boolean sendTemplateEmail(EmailTarget emailTarget, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {   </span>
<span class="-5252207952724657377" onmouseenter="enter('-5252207952724657377');" onmouseout="out('-5252207952724657377');" style="">  65          if (props == null) {                                                                                      </span>
<span class="-1752790302030557066" onmouseenter="enter('-1752790302030557066');" onmouseout="out('-1752790302030557066');" style="">  66              props = new HashMap&lt;String, Object&gt;();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67          }                                                                                                         </span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  68          if (emailInfo == null) {                                                                                  </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  69              emailInfo = new EmailInfo();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70          }                                                                                                         </span>
<span  style="">  71                                                                                                                    </span>

<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style="">  72          props.put(EmailPropertyType.INFO.getType(), emailInfo);                                                   </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style="">  73          props.put(EmailPropertyType.USER.getType(), emailTarget);                                                 </span>
<span class="-7369411119103762144" onmouseenter="enter('-7369411119103762144');" onmouseout="out('-7369411119103762144');" style=""><abbr title="  74          Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailType(), null);">  74          Long emailId = emailTrackingManager.createTrackedEmail(emailTarget.getEmailAddress(), emailInfo.getEmailTyðŸ”µ</abbr></span>
<span class="-1443288557783845026" onmouseenter="enter('-1443288557783845026');" onmouseout="out('-1443288557783845026');" style="">  75          props.put(&quot;emailTrackingId&quot;, emailId);                                                                    </span>
<span  style="">  76                                                                                                                    </span>
<span class="-2626031424421159978" onmouseenter="enter('-2626031424421159978');" onmouseout="out('-2626031424421159978');" style="">  77          return sendBasicEmail(emailInfo, emailTarget, props);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78      }                                                                                                             </span>
<span  style="">  79                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +    @Override                                                                                                     </span>
<span class="-6095881301907693630" onmouseenter="enter('-6095881301907693630');" onmouseout="out('-6095881301907693630');" style="">  81      public boolean sendTemplateEmail(String emailAddress, EmailInfo emailInfo, Map&lt;String, Object&gt; props) {       </span>
<span class="837099976640964657" onmouseenter="enter('837099976640964657');" onmouseout="out('837099976640964657');" style="">  82          if (!(emailInfo instanceof NullEmailInfo)) {                                                              </span>
<span class="7280689743813271735" onmouseenter="enter('7280689743813271735');" onmouseout="out('7280689743813271735');" style="">  83              EmailTarget emailTarget = emailReportingDao.createTarget();                                           </span>
<span class="-2329909181744311417" onmouseenter="enter('-2329909181744311417');" onmouseout="out('-2329909181744311417');" style="">  84              emailTarget.setEmailAddress(emailAddress);                                                            </span>
<span class="1098722309800616762" onmouseenter="enter('1098722309800616762');" onmouseout="out('1098722309800616762');" style="">  85              return sendTemplateEmail(emailTarget, emailInfo, props);                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  86          } else {                                                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="">  87              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89      }                                                                                                             </span>
<span  style="">  90                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +    @Override                                                                                                     </span>
<span class="-4033588491578747955" onmouseenter="enter('-4033588491578747955');" onmouseout="out('-4033588491578747955');" style="">  92      public boolean sendBasicEmail(EmailInfo emailInfo, EmailTarget emailTarget, Map&lt;String, Object&gt; props) {      </span>
<span class="-5252207952724657377" onmouseenter="enter('-5252207952724657377');" onmouseout="out('-5252207952724657377');" style="">  93          if (props == null) {                                                                                      </span>
<span class="-1752790302030557066" onmouseenter="enter('-1752790302030557066');" onmouseout="out('-1752790302030557066');" style="">  94              props = new HashMap&lt;String, Object&gt;();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95          }                                                                                                         </span>
<span class="4298963622186510768" onmouseenter="enter('4298963622186510768');" onmouseout="out('4298963622186510768');" style="">  96          if (emailInfo == null) {                                                                                  </span>
<span class="8454964505005383757" onmouseenter="enter('8454964505005383757');" onmouseout="out('8454964505005383757');" style="">  97              emailInfo = new EmailInfo();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98          }                                                                                                         </span>
<span  style="">  99                                                                                                                    </span>

<span class="-4495008601914653736" onmouseenter="enter('-4495008601914653736');" onmouseout="out('-4495008601914653736');" style=""> 100          props.put(EmailPropertyType.INFO.getType(), emailInfo);                                                   </span>
<span class="5587408675894970480" onmouseenter="enter('5587408675894970480');" onmouseout="out('5587408675894970480');" style=""> 101          props.put(EmailPropertyType.USER.getType(), emailTarget);                                                 </span>
<span  style=""> 102                                                                                                                    </span>
<span class="2551372378531162010" onmouseenter="enter('2551372378531162010');" onmouseout="out('2551372378531162010');" style=""> 103          if (Boolean.parseBoolean(emailInfo.getSendEmailReliableAsync())) {                                        </span>
<span class="-4656046381670160277" onmouseenter="enter('-4656046381670160277');" onmouseout="out('-4656046381670160277');" style=""> 104              if (emailServiceProducer == null) {                                                                   </span>
<span class="-5991647901721790664" onmouseenter="enter('-5991647901721790664');" onmouseout="out('-5991647901721790664');" style=""><abbr title=" 105                  throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailService does not have an instance of JMSEmailServiceProducer set.&quot;);"> 105                  throw new EmailException(&quot;The property sendEmailReliableAsync on EmailInfo is true, but the EmailSðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106              }                                                                                                     </span>
<span class="-8139454259620711732" onmouseenter="enter('-8139454259620711732');" onmouseout="out('-8139454259620711732');" style=""> 107              emailServiceProducer.send(props);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 108          } else {                                                                                                  </span>
<span class="2916109312810911732" onmouseenter="enter('2916109312810911732');" onmouseout="out('2916109312810911732');" style=""> 109              messageCreator.sendMessage(props);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110          }                                                                                                         </span>
<span  style=""> 111                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 112          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113      }                                                                                                             </span>
<span  style=""> 114                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 115      /**                                                                                                           </span>
<span class="7035300866938001634" onmouseenter="enter('7035300866938001634');" onmouseout="out('7035300866938001634');" style=""> 116       * @return the emailTrackingManager                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 117       */                                                                                                           </span>
<span class="-5258733420774903175" onmouseenter="enter('-5258733420774903175');" onmouseout="out('-5258733420774903175');" style=""> 118      public EmailTrackingManager getEmailTrackingManager() {                                                       </span>
<span class="-4942438394993950552" onmouseenter="enter('-4942438394993950552');" onmouseout="out('-4942438394993950552');" style=""> 119          return emailTrackingManager;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120      }                                                                                                             </span>
<span  style=""> 121                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 122      /**                                                                                                           </span>
<span class="4233057181032197056" onmouseenter="enter('4233057181032197056');" onmouseout="out('4233057181032197056');" style=""> 123       * @param emailTrackingManager the emailTrackingManager to set                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 124       */                                                                                                           </span>
<span class="-268401707390856491" onmouseenter="enter('-268401707390856491');" onmouseout="out('-268401707390856491');" style=""> 125      public void setEmailTrackingManager(EmailTrackingManager emailTrackingManager) {                              </span>
<span class="797737178884744536" onmouseenter="enter('797737178884744536');" onmouseout="out('797737178884744536');" style=""> 126          this.emailTrackingManager = emailTrackingManager;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127      }                                                                                                             </span>
<span  style=""> 128                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 129      /**                                                                                                           </span>
<span class="6307160250748378285" onmouseenter="enter('6307160250748378285');" onmouseout="out('6307160250748378285');" style=""> 130       * @return the serverInfo                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 131       */                                                                                                           </span>
<span class="2573546241307767977" onmouseenter="enter('2573546241307767977');" onmouseout="out('2573546241307767977');" style=""> 132      public ServerInfo getServerInfo() {                                                                           </span>
<span class="5293442985097612145" onmouseenter="enter('5293442985097612145');" onmouseout="out('5293442985097612145');" style=""> 133          return serverInfo;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134      }                                                                                                             </span>
<span  style=""> 135                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 136      /**                                                                                                           </span>
<span class="-5302813547780668949" onmouseenter="enter('-5302813547780668949');" onmouseout="out('-5302813547780668949');" style=""> 137       * @param serverInfo the serverInfo to set                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 138       */                                                                                                           </span>
<span class="6185003681771223202" onmouseenter="enter('6185003681771223202');" onmouseout="out('6185003681771223202');" style=""> 139      public void setServerInfo(ServerInfo serverInfo) {                                                            </span>
<span class="-4023624055572485441" onmouseenter="enter('-4023624055572485441');" onmouseout="out('-4023624055572485441');" style=""> 140          this.serverInfo = serverInfo;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141      }                                                                                                             </span>
<span  style=""> 142                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 143      /**                                                                                                           </span>
<span class="-1128108263897582799" onmouseenter="enter('-1128108263897582799');" onmouseout="out('-1128108263897582799');" style=""> 144       * @return the emailServiceProducer                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 145       */                                                                                                           </span>
<span class="8970435286404644599" onmouseenter="enter('8970435286404644599');" onmouseout="out('8970435286404644599');" style=""> 146      public EmailServiceProducer getEmailServiceProducer() {                                                       </span>
<span class="-2901705552795858383" onmouseenter="enter('-2901705552795858383');" onmouseout="out('-2901705552795858383');" style=""> 147          return emailServiceProducer;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148      }                                                                                                             </span>
<span  style=""> 149                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 150      /**                                                                                                           </span>
<span class="-6708396601627788517" onmouseenter="enter('-6708396601627788517');" onmouseout="out('-6708396601627788517');" style=""> 151       * @param emailServiceProducer the emailServiceProducer to set                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 152       */                                                                                                           </span>
<span class="5873476991297958115" onmouseenter="enter('5873476991297958115');" onmouseout="out('5873476991297958115');" style=""> 153      public void setEmailServiceProducer(EmailServiceProducer emailServiceProducer) {                              </span>
<span class="-6007705264331629239" onmouseenter="enter('-6007705264331629239');" onmouseout="out('-6007705264331629239');" style=""> 154          this.emailServiceProducer = emailServiceProducer;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155      }                                                                                                             </span>
<span  style=""> 156                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 157      /**                                                                                                           </span>
<span class="4384512556605932078" onmouseenter="enter('4384512556605932078');" onmouseout="out('4384512556605932078');" style=""> 158       * @return the messageCreator                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 159       */                                                                                                           </span>
<span class="9219676636842356951" onmouseenter="enter('9219676636842356951');" onmouseout="out('9219676636842356951');" style=""> 160      public MessageCreator getMessageCreator() {                                                                   </span>
<span class="-8323821826240029636" onmouseenter="enter('-8323821826240029636');" onmouseout="out('-8323821826240029636');" style=""> 161          return messageCreator;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162      }                                                                                                             </span>
<span  style=""> 163                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 164      /**                                                                                                           </span>
<span class="-636307761864464520" onmouseenter="enter('-636307761864464520');" onmouseout="out('-636307761864464520');" style=""> 165       * @param messageCreator the messageCreator to set                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 166       */                                                                                                           </span>
<span class="2963773499374412024" onmouseenter="enter('2963773499374412024');" onmouseout="out('2963773499374412024');" style=""> 167      public void setMessageCreator(MessageCreator messageCreator) {                                                </span>
<span class="2627742735556780698" onmouseenter="enter('2627742735556780698');" onmouseout="out('2627742735556780698');" style=""> 168          this.messageCreator = messageCreator;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169      }                                                                                                             </span>
<span  style=""> 170                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            