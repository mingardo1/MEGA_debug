<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>526</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    526
                    <a href="525.html">prev</a>
                    <a href="527.html">next</a>
                    <a href="526_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Evernote/android-job_b997d744104fbc4d422dbc6e550d2ac9251e69d2_library/src/main/java/com/evernote/android/job/JobManager.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;b997d744104fbc4d422dbc6e550d2ac9251e69d2:library/src/main/java/com/evernote/android/job/JobManager.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;b997d744104fbc4d422dbc6e550d2ac9251e69d2^1:library/src/main/java/com/evernote/android/job/JobManager.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;b997d744104fbc4d422dbc6e550d2ac9251e69d2^2:library/src/main/java/com/evernote/android/job/JobManager.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;6501808cbd5bdebf1d25c9d28c5f15aff59e6272:library/src/main/java/com/evernote/android/job/JobManager.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bs], [j], [j], [j]], subset: [[bsj], [j], [j]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-8822900351790619766" onmouseenter="enter('-8822900351790619766');" onmouseout="out('-8822900351790619766');" style="">   2  * Copyright 2007-present Evernote Corporation.                                                          </span>
<span class="-2278367542838177584" onmouseenter="enter('-2278367542838177584');" onmouseout="out('-2278367542838177584');" style="">   3  * All rights reserved.                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   4  *                                                                                                       </span>
<span class="181301442133285836" onmouseenter="enter('181301442133285836');" onmouseout="out('181301442133285836');" style="">   5  * Redistribution and use in source and binary forms, with or without modification,                      </span>
<span class="-5073197948967426970" onmouseenter="enter('-5073197948967426970');" onmouseout="out('-5073197948967426970');" style="">   6  * are permitted provided that the following conditions are met:                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="8127251449117563942" onmouseenter="enter('8127251449117563942');" onmouseout="out('8127251449117563942');" style="">   8  * 1. Redistributions of source code must retain the above copyright notice, this                        </span>
<span class="-1473911044945790828" onmouseenter="enter('-1473911044945790828');" onmouseout="out('-1473911044945790828');" style="">   9  *    list of conditions and the following disclaimer.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  10  *                                                                                                       </span>
<span class="4835137028529553232" onmouseenter="enter('4835137028529553232');" onmouseout="out('4835137028529553232');" style="">  11  * 2. Redistributions in binary form must reproduce the above copyright notice,                          </span>
<span class="-1312443230807442131" onmouseenter="enter('-1312443230807442131');" onmouseout="out('-1312443230807442131');" style="">  12  *    this list of conditions and the following disclaimer in the documentation                          </span>
<span class="-2067912076149043179" onmouseenter="enter('-2067912076149043179');" onmouseout="out('-2067912076149043179');" style="">  13  *    and/or other materials provided with the distribution.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  14  *                                                                                                       </span>
<span class="-7721941782677048447" onmouseenter="enter('-7721941782677048447');" onmouseout="out('-7721941782677048447');" style="">  15  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND                       </span>
<span class="-5124048439450882348" onmouseenter="enter('-5124048439450882348');" onmouseout="out('-5124048439450882348');" style="">  16  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED                         </span>
<span class="2277289959795125050" onmouseenter="enter('2277289959795125050');" onmouseout="out('2277289959795125050');" style="">  17  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.                    </span>
<span class="4422846307625339339" onmouseenter="enter('4422846307625339339');" onmouseout="out('4422846307625339339');" style="">  18  * IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,                       </span>
<span class="9023453646714579255" onmouseenter="enter('9023453646714579255');" onmouseout="out('9023453646714579255');" style="">  19  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                        </span>
<span class="2153827234735713132" onmouseenter="enter('2153827234735713132');" onmouseout="out('2153827234735713132');" style="">  20  * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,                         </span>
<span class="5782830561991082866" onmouseenter="enter('5782830561991082866');" onmouseout="out('5782830561991082866');" style="">  21  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF                       </span>
<span class="-2513683953102966204" onmouseenter="enter('-2513683953102966204');" onmouseout="out('-2513683953102966204');" style="">  22  * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE                       </span>
<span class="-6562574984275957691" onmouseenter="enter('-6562574984275957691');" onmouseout="out('-6562574984275957691');" style="">  23  * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF                             </span>
<span class="505998933154990042" onmouseenter="enter('505998933154990042');" onmouseout="out('505998933154990042');" style="">  24  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  25  */                                                                                                      </span>
<span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">  26 package com.evernote.android.job;                                                                        </span>
<span  style="">  27                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  28 import android.annotation.SuppressLint;                                                                  </span>
<span class="-5000705225306926876" onmouseenter="enter('-5000705225306926876');" onmouseout="out('-5000705225306926876');" style="">  29 import android.app.AlarmManager;                                                                         </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  30 import android.app.Application;                                                                          </span>
<span class="5270908961524689324" onmouseenter="enter('5270908961524689324');" onmouseout="out('5270908961524689324');" style="">  31 import android.app.job.JobScheduler;                                                                     </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  32 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  33 import android.content.Intent;                                                                           </span>
<span class="-9183914406029598577" onmouseenter="enter('-9183914406029598577');" onmouseout="out('-9183914406029598577');" style="">  34 import android.content.pm.ActivityInfo;                                                                  </span>
<span class="8582326229770324815" onmouseenter="enter('8582326229770324815');" onmouseout="out('8582326229770324815');" style="">  35 import android.content.pm.ResolveInfo;                                                                   </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="">  36 import android.support.annotation.NonNull;                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  37 import android.support.annotation.Nullable;                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  38 import android.text.TextUtils;                                                                           </span>
<span  style="">  39                                                                                                          </span>
<span class="-5245147800812157155" onmouseenter="enter('-5245147800812157155');" onmouseout="out('-5245147800812157155');" style="">  40 import com.evernote.android.job.util.JobCat;                                                             </span>
<span class="-826132384971399644" onmouseenter="enter('-826132384971399644');" onmouseout="out('-826132384971399644');" style="">  41 import com.evernote.android.job.util.JobPreconditions;                                                   </span>
<span class="2270421051523495577" onmouseenter="enter('2270421051523495577');" onmouseout="out('2270421051523495577');" style="">  42 import com.evernote.android.job.util.JobUtil;                                                            </span>
<span class="2610792870634489402" onmouseenter="enter('2610792870634489402');" onmouseout="out('2610792870634489402');" style="">  43 import com.google.android.gms.gcm.GcmNetworkManager;                                                     </span>
<span  style="">  44                                                                                                          </span>
<span class="4887698622156748971" onmouseenter="enter('4887698622156748971');" onmouseout="out('4887698622156748971');" style="">  45 import net.vrallev.android.cat.CatLog;                                                                   </span>
<span  style="">  46                                                                                                          </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  47 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  48 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  49 import java.util.Set;                                                                                    </span>
<span  style="">  50                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  51 /**                                                                                                      </span>
<span class="-3987124458399388632" onmouseenter="enter('-3987124458399388632');" onmouseout="out('-3987124458399388632');" style="">  52  * Entry point for scheduling jobs. Depending on the platform and SDK version it uses different APIs     </span>
<span class="-6457039888363773075" onmouseenter="enter('-6457039888363773075');" onmouseout="out('-6457039888363773075');" style="">  53  * to schedule jobs. The {@link JobScheduler} is preferred, if the OS is running Lollipop or above.      </span>
<span class="1317690140072514139" onmouseenter="enter('1317690140072514139');" onmouseout="out('1317690140072514139');" style="">  54  * Otherwise it uses the {@link AlarmManager} as fallback. It&#x27;s also possible to use the                 </span>
<span class="-333444572732918259" onmouseenter="enter('-333444572732918259');" onmouseout="out('-333444572732918259');" style="">  55  * {@link GcmNetworkManager}, if the manager can be found in your classpath, the Google Play Services    </span>
<span class="7456927466396325536" onmouseenter="enter('7456927466396325536');" onmouseout="out('7456927466396325536');" style="">  56  * are installed and the service was added in the manifest. Take a look at the                           </span>
<span class="-661926363358722632" onmouseenter="enter('-661926363358722632');" onmouseout="out('-661926363358722632');" style="">  57  * &lt;a href=&quot;https://github.com/evernote/android-job#using-the-gcmnetworkmanager&quot;&gt;README&lt;/a&gt; for more     </span>
<span class="5031988837793579218" onmouseenter="enter('5031988837793579218');" onmouseout="out('5031988837793579218');" style="">  58  * help.                                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  59  *                                                                                                       </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  60  * &lt;br&gt;                                                                                                  </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  61  * &lt;br&gt;                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  62  *                                                                                                       </span>
<span class="6647253766349486920" onmouseenter="enter('6647253766349486920');" onmouseout="out('6647253766349486920');" style="">  63  * Before you can use the {@code JobManager} you must call {@link #create(Context)} first and add a      </span>
<span class="620399288182599016" onmouseenter="enter('620399288182599016');" onmouseout="out('620399288182599016');" style="">  64  * {@link JobCreator} to map tags to your desired jobs with {@link #addJobCreator(JobCreator)}.          </span>
<span class="78491231019337072" onmouseenter="enter('78491231019337072');" onmouseout="out('78491231019337072');" style="">  65  * It&#x27;s recommended to do this in the {@link Application#onCreate()} method.                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  66  *                                                                                                       </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  67  * &lt;br&gt;                                                                                                  </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  68  * &lt;br&gt;                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  69  *                                                                                                       </span>
<span class="465581383228119772" onmouseenter="enter('465581383228119772');" onmouseout="out('465581383228119772');" style="">  70  * In order to schedule a job you must extend the {@link Job} class. A {@link Job} is a simple class     </span>
<span class="-5578672729222728640" onmouseenter="enter('-5578672729222728640');" onmouseout="out('-5578672729222728640');" style="">  71  * with one abstract method which is invoked on a background thread. Thus a {@link Job}                  </span>
<span class="-516129769413704155" onmouseenter="enter('-516129769413704155');" onmouseout="out('-516129769413704155');" style="">  72  * doesn&#x27;t need to be registered in the manifest. Create a {@link JobRequest} with the corresponding     </span>
<span class="-2509011543823050913" onmouseenter="enter('-2509011543823050913');" onmouseout="out('-2509011543823050913');" style=""><abbr title="  73  * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If you want">  73  * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If youðŸ”µ</abbr></span>
<span class="9025329384100691402" onmouseenter="enter('9025329384100691402');" onmouseout="out('9025329384100691402');" style="">  74  * to update a pending request, call {@link JobRequest#cancelAndEdit()} on the request, update your      </span>
<span class="4255783048529647648" onmouseenter="enter('4255783048529647648');" onmouseout="out('4255783048529647648');" style="">  75  * parameters and call {@link #schedule(JobRequest)} again.                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  76  *                                                                                                       </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  77  * @author rwondratschek                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  78  */                                                                                                      </span>
<span class="5961419711574156625" onmouseenter="enter('5961419711574156625');" onmouseout="out('5961419711574156625');" style="">  79 @SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;})                                                            </span>
<span class="7018978418900960228" onmouseenter="enter('7018978418900960228');" onmouseout="out('7018978418900960228');" style="">  80 public final class JobManager {                                                                          </span>
<span  style="">  81                                                                                                          </span>
<span class="3520531660951208009" onmouseenter="enter('3520531660951208009');" onmouseout="out('3520531660951208009');" style="">  82     private static final CatLog CAT = new JobCat(&quot;JobManager&quot;);                                          </span>
<span  style="">  83                                                                                                          </span>
<span class="-1763089954528142034" onmouseenter="enter('-1763089954528142034');" onmouseout="out('-1763089954528142034');" style="">  84     @SuppressLint(&quot;StaticFieldLeak&quot;)                                                                     </span>
<span class="2345214174664757365" onmouseenter="enter('2345214174664757365');" onmouseout="out('2345214174664757365');" style="">  85     private static volatile JobManager instance;                                                         </span>
<span  style="">  86                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  87     /**                                                                                                  </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style=""><abbr title="  88      * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.">  88      * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManagerðŸ”µ</abbr></span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style="">  89      * Calling it multiple times has not effect.                                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  90      *                                                                                                   </span>
<span class="-6445633007967545999" onmouseenter="enter('-6445633007967545999');" onmouseout="out('-6445633007967545999');" style="">  91      * @param context Any {@link Context} to instantiate the singleton object.                           </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style="">  92      * @return The new or existing singleton object.                                                     </span>
<span class="-616448082384168391" onmouseenter="enter('-616448082384168391');" onmouseout="out('-616448082384168391');" style="">  93      * @throws JobManagerCreateException When the singleton couldn&#x27;t be created.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  94      */                                                                                                  </span>
<span class="6511662216289603726" onmouseenter="enter('6511662216289603726');" onmouseout="out('6511662216289603726');" style="">  95     public static JobManager create(@NonNull Context context) throws JobManagerCreateException {         </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  96         if (instance == null) {                                                                          </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="">  97             synchronized (JobManager.class) {                                                            </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  98                 if (instance == null) {                                                                  </span>
<span class="6811984112992546303" onmouseenter="enter('6811984112992546303');" onmouseout="out('6811984112992546303');" style="">  99                     JobPreconditions.checkNotNull(context, &quot;Context cannot be null&quot;);                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="6972945546681644715" onmouseenter="enter('6972945546681644715');" onmouseout="out('6972945546681644715');" style=""> 101                     if (context.getApplicationContext() != null) {                                       </span>
<span class="-3696159196193513250" onmouseenter="enter('-3696159196193513250');" onmouseout="out('-3696159196193513250');" style=""> 102                         // could be null in unit tests                                                   </span>
<span class="-8552478027030399605" onmouseenter="enter('-8552478027030399605');" onmouseout="out('-8552478027030399605');" style=""> 103                         context = context.getApplicationContext();                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104                     }                                                                                    </span>
<span  style=""> 105                                                                                                          </span>
<span class="-2875947678795724016" onmouseenter="enter('-2875947678795724016');" onmouseout="out('-2875947678795724016');" style=""> 106                     JobApi api = JobApi.getDefault(context);                                             </span>
<span class="-3252581931104434476" onmouseenter="enter('-3252581931104434476');" onmouseout="out('-3252581931104434476');" style=""> 107                     if (api == JobApi.V_14 &amp;&amp; !api.isSupported(context)) {                               </span>
<span class="7115145726178678648" onmouseenter="enter('7115145726178678648');" onmouseout="out('7115145726178678648');" style=""><abbr title=" 108                         throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any job&quot;);"> 108                         throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any jðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109                     }                                                                                    </span>
<span  style=""> 110                                                                                                          </span>
<span class="-4290512093989891792" onmouseenter="enter('-4290512093989891792');" onmouseout="out('-4290512093989891792');" style=""> 111                     instance = new JobManager(context);                                                  </span>
<span  style=""> 112                                                                                                          </span>
<span class="-2622774818034006582" onmouseenter="enter('-2622774818034006582');" onmouseout="out('-2622774818034006582');" style=""> 113                     if (!JobUtil.hasWakeLockPermission(context)) {                                       </span>
<span class="-8010640264736587724" onmouseenter="enter('-8010640264736587724');" onmouseout="out('-8010640264736587724');" style=""> 114                         CAT.w(&quot;No wake lock permission&quot;);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115                     }                                                                                    </span>
<span class="-1257055076440049017" onmouseenter="enter('-1257055076440049017');" onmouseout="out('-1257055076440049017');" style=""> 116                     if (!JobUtil.hasBootPermission(context)) {                                           </span>
<span class="-3463849244164419256" onmouseenter="enter('-3463849244164419256');" onmouseout="out('-3463849244164419256');" style=""> 117                         CAT.w(&quot;No boot permission&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118                     }                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="-298879242901196544" onmouseenter="enter('-298879242901196544');" onmouseout="out('-298879242901196544');" style=""> 120                     sendAddJobCreatorIntent(context);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123         }                                                                                                </span>
<span  style=""> 124                                                                                                          </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 125         return instance;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126     }                                                                                                    </span>
<span  style=""> 127                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 128     /**                                                                                                  </span>
<span class="2059544594285879735" onmouseenter="enter('2059544594285879735');" onmouseout="out('2059544594285879735');" style=""> 129      * Ensure that you&#x27;ve called {@link #create(Context)} first. Otherwise this method                   </span>
<span class="6131845218035694611" onmouseenter="enter('6131845218035694611');" onmouseout="out('6131845218035694611');" style=""> 130      * throws an exception.                                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 131      *                                                                                                   </span>
<span class="8689695980946757454" onmouseenter="enter('8689695980946757454');" onmouseout="out('8689695980946757454');" style=""> 132      * @return The {@code JobManager} object.                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 133      */                                                                                                  </span>
<span class="-6227202692363172997" onmouseenter="enter('-6227202692363172997');" onmouseout="out('-6227202692363172997');" style=""> 134     public static JobManager instance() {                                                                </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 135         if (instance == null) {                                                                          </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 136             synchronized (JobManager.class) {                                                            </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 137                 if (instance == null) {                                                                  </span>
<span class="-8102219671165819564" onmouseenter="enter('-8102219671165819564');" onmouseout="out('-8102219671165819564');" style=""><abbr title=" 138                     throw new IllegalStateException(&quot;You need to call create() at least once to create the singleton&quot;);"> 138                     throw new IllegalStateException(&quot;You need to call create() at least once to create thðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141         }                                                                                                </span>
<span  style=""> 142                                                                                                          </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 143         return instance;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span  style=""> 145                                                                                                          </span>
<span class="-2672328117217234149" onmouseenter="enter('-2672328117217234149');" onmouseout="out('-2672328117217234149');" style=""> 146     private final Context mContext;                                                                      </span>
<span class="-2528343327594372849" onmouseenter="enter('-2528343327594372849');" onmouseout="out('-2528343327594372849');" style=""> 147     private final JobCreatorHolder mJobCreatorHolder;                                                    </span>
<span class="3615767272528460384" onmouseenter="enter('3615767272528460384');" onmouseout="out('3615767272528460384');" style=""> 148     private final JobStorage mJobStorage;                                                                </span>
<span class="-2137608278905565132" onmouseenter="enter('-2137608278905565132');" onmouseout="out('-2137608278905565132');" style=""> 149     private final JobExecutor mJobExecutor;                                                              </span>
<span  style=""> 150                                                                                                          </span>
<span class="4607746124464513021" onmouseenter="enter('4607746124464513021');" onmouseout="out('4607746124464513021');" style=""> 151     private JobManager(Context context) {                                                                </span>
<span class="7260904205784329196" onmouseenter="enter('7260904205784329196');" onmouseout="out('7260904205784329196');" style=""> 152         mContext = context;                                                                              </span>
<span class="-4640032511311469580" onmouseenter="enter('-4640032511311469580');" onmouseout="out('-4640032511311469580');" style=""> 153         mJobCreatorHolder = new JobCreatorHolder();                                                      </span>
<span class="-4152760520829533840" onmouseenter="enter('-4152760520829533840');" onmouseout="out('-4152760520829533840');" style=""> 154         mJobStorage = new JobStorage(context);                                                           </span>
<span class="-8808166604100851616" onmouseenter="enter('-8808166604100851616');" onmouseout="out('-8808166604100851616');" style=""> 155         mJobExecutor = new JobExecutor();                                                                </span>
<span  style=""> 156                                                                                                          </span>
<span class="4004759904447840137" onmouseenter="enter('4004759904447840137');" onmouseout="out('4004759904447840137');" style=""> 157         JobRescheduleService.startService(mContext);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158     }                                                                                                    </span>
<span  style=""> 159                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 160     /**                                                                                                  </span>
<span class="4679140648952926498" onmouseenter="enter('4679140648952926498');" onmouseout="out('4679140648952926498');" style=""> 161      * Schedule a request which will be executed in the future. If you want to update an existing        </span>
<span class="-6474852299073293749" onmouseenter="enter('-6474852299073293749');" onmouseout="out('-6474852299073293749');" style=""> 162      * {@link JobRequest}, call {@link JobRequest#cancelAndEdit()}, update your parameters and call      </span>
<span class="-6365815971422533220" onmouseenter="enter('-6365815971422533220');" onmouseout="out('-6365815971422533220');" style=""> 163      * this method again. Calling this method with the same request multiple times without cancelling    </span>
<span class="1286211055587698364" onmouseenter="enter('1286211055587698364');" onmouseout="out('1286211055587698364');" style=""> 164      * it is idempotent.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 165      *                                                                                                   </span>
<span class="-8259863996068047826" onmouseenter="enter('-8259863996068047826');" onmouseout="out('-8259863996068047826');" style=""> 166      * @param request The {@link JobRequest} which will run in the future.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 167      */                                                                                                  </span>
<span class="2776768223143191424" onmouseenter="enter('2776768223143191424');" onmouseout="out('2776768223143191424');" style=""> 168     public void schedule(@NonNull JobRequest request) {                                                  </span>
<span class="-7795555679296930499" onmouseenter="enter('-7795555679296930499');" onmouseout="out('-7795555679296930499');" style=""> 169         if (mJobCreatorHolder.isEmpty()) {                                                               </span>
<span class="4846992933241026765" onmouseenter="enter('4846992933241026765');" onmouseout="out('4846992933241026765');" style=""><abbr title=" 170             CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will be executed&quot;);"> 170             CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job neðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171         }                                                                                                </span>
<span  style=""> 172                                                                                                          </span>
<span class="4582221295713266952" onmouseenter="enter('4582221295713266952');" onmouseout="out('4582221295713266952');" style=""> 173         if (request.getScheduledAt() &gt; 0) {                                                              </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 174             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175         }                                                                                                </span>
<span  style=""> 176                                                                                                          </span>
<span class="-8632893038712403625" onmouseenter="enter('-8632893038712403625');" onmouseout="out('-8632893038712403625');" style=""> 177         if (request.isUpdateCurrent()) {                                                                 </span>
<span class="-9112990761468512458" onmouseenter="enter('-9112990761468512458');" onmouseout="out('-9112990761468512458');" style=""> 178             cancelAllForTag(request.getTag());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179         }                                                                                                </span>
<span  style=""> 180                                                                                                          </span>
<span class="-1056428182754675341" onmouseenter="enter('-1056428182754675341');" onmouseout="out('-1056428182754675341');" style=""> 181         JobProxy.Common.cleanUpOrphanedJob(mContext, request.getJobId());                                </span>
<span  style=""> 182                                                                                                          </span>
<span class="-5307853377216076341" onmouseenter="enter('-5307853377216076341');" onmouseout="out('-5307853377216076341');" style=""> 183         JobApi jobApi = request.getJobApi();                                                             </span>
<span class="-5710733141355361029" onmouseenter="enter('-5710733141355361029');" onmouseout="out('-5710733141355361029');" style=""> 184         boolean periodic = request.isPeriodic();                                                         </span>
<span class="2465709902581257276" onmouseenter="enter('2465709902581257276');" onmouseout="out('2465709902581257276');" style=""><abbr title=" 185         boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getIntervalMs();"> 185         boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getInteðŸ”µ</abbr></span>
<span  style=""> 186                                                                                                          </span>
<span class="5525198511073900031" onmouseenter="enter('5525198511073900031');" onmouseout="out('5525198511073900031');" style=""> 187         request.setScheduledAt(System.currentTimeMillis());                                              </span>
<span class="-2755250820141061807" onmouseenter="enter('-2755250820141061807');" onmouseout="out('-2755250820141061807');" style=""> 188         request.setFlexSupport(flexSupport);                                                             </span>
<span class="160746343038222394" onmouseenter="enter('160746343038222394');" onmouseout="out('160746343038222394');" style=""> 189         mJobStorage.put(request);                                                                        </span>
<span  style=""> 190                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 191         try {                                                                                            </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 192             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 193             return;                                                                                      </span>
<span class="-9018827707372380454" onmouseenter="enter('-9018827707372380454');" onmouseout="out('-9018827707372380454');" style=""> 194         } catch (JobProxyIllegalStateException e) {                                                      </span>
<span class="-6428914854727195541" onmouseenter="enter('-6428914854727195541');" onmouseout="out('-6428914854727195541');" style=""> 195             // try again below, the other cases stop                                                     </span>
<span  style=""> 196                                                                                                          </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 197         } catch (Exception e) {                                                                          </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 198             // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later     </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 199             mJobStorage.remove(request);                                                                 </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 200             throw e;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201         }                                                                                                </span>
<span  style=""> 202                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 203         try {                                                                                            </span>
<span class="-7578368306347675070" onmouseenter="enter('-7578368306347675070');" onmouseout="out('-7578368306347675070');" style=""> 204             // try to reload the proxy                                                                   </span>
<span class="-5086845168082246693" onmouseenter="enter('-5086845168082246693');" onmouseout="out('-5086845168082246693');" style=""> 205             jobApi.invalidateCachedProxy();                                                              </span>
<span  style=""> 206                                                                                                          </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 207             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 208             return;                                                                                      </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 209         } catch (Exception e) {                                                                          </span>
<span class="-1234430113803617617" onmouseenter="enter('-1234430113803617617');" onmouseout="out('-1234430113803617617');" style=""> 210             if (jobApi == JobApi.V_14 || jobApi == JobApi.V_19) {                                        </span>
<span class="-2235730211123031862" onmouseenter="enter('-2235730211123031862');" onmouseout="out('-2235730211123031862');" style=""> 211                 // at this stage we cannot do anything                                                   </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 212                 mJobStorage.remove(request);                                                             </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 213                 throw e;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 214             } else {                                                                                     </span>
<span class="-2742910027983126651" onmouseenter="enter('-2742910027983126651');" onmouseout="out('-2742910027983126651');" style=""><abbr title=" 215                 jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last time"> 215                 jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217         }                                                                                                </span>
<span  style=""> 218                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 219         try {                                                                                            </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 220             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 221         } catch (Exception e) {                                                                          </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 222             // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later     </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 223             mJobStorage.remove(request);                                                                 </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 224             throw e;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226     }                                                                                                    </span>
<span  style=""> 227                                                                                                          </span>
<span class="363014575014708523" onmouseenter="enter('363014575014708523');" onmouseout="out('363014575014708523');" style=""><abbr title=" 228     private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupport) {"> 228     private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupportðŸ”µ</abbr></span>
<span class="-5212932452371522440" onmouseenter="enter('-5212932452371522440');" onmouseout="out('-5212932452371522440');" style=""> 229         JobProxy proxy = getJobProxy(jobApi);                                                            </span>
<span class="7876141546147703421" onmouseenter="enter('7876141546147703421');" onmouseout="out('7876141546147703421');" style=""> 230         if (periodic) {                                                                                  </span>
<span class="-1055856358312839038" onmouseenter="enter('-1055856358312839038');" onmouseout="out('-1055856358312839038');" style=""> 231             if (flexSupport) {                                                                           </span>
<span class="-6103196782000436732" onmouseenter="enter('-6103196782000436732');" onmouseout="out('-6103196782000436732');" style=""> 232                 proxy.plantPeriodicFlexSupport(request);                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 233             } else {                                                                                     </span>
<span class="7433992315357383214" onmouseenter="enter('7433992315357383214');" onmouseout="out('7433992315357383214');" style=""> 234                 proxy.plantPeriodic(request);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 236         } else {                                                                                         </span>
<span class="-3061275110112395435" onmouseenter="enter('-3061275110112395435');" onmouseout="out('-3061275110112395435');" style=""> 237             proxy.plantOneOff(request);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 241     /**                                                                                                  </span>
<span class="3064960884120212514" onmouseenter="enter('3064960884120212514');" onmouseout="out('3064960884120212514');" style=""> 242      * @param jobId The unique ID of the pending {@link JobRequest}.                                     </span>
<span class="6469387229254162696" onmouseenter="enter('6469387229254162696');" onmouseout="out('6469387229254162696');" style=""> 243      * @return The {@link JobRequest} if it&#x27;s pending or {@code null} otherwise.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 244      */                                                                                                  </span>
<span class="4530850340944779402" onmouseenter="enter('4530850340944779402');" onmouseout="out('4530850340944779402');" style=""> 245     public JobRequest getJobRequest(int jobId) {                                                         </span>
<span class="-7252995828425525073" onmouseenter="enter('-7252995828425525073');" onmouseout="out('-7252995828425525073');" style=""> 246         JobRequest request = getJobRequest(jobId, false);                                                </span>
<span class="-8112354260220160123" onmouseenter="enter('-8112354260220160123');" onmouseout="out('-8112354260220160123');" style=""><abbr title=" 247         if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 247         if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatforðŸ”µ</abbr></span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 248             getJobStorage().remove(request);                                                             </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 249             return null;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 250         } else {                                                                                         </span>
<span class="-1057636993633179522" onmouseenter="enter('-1057636993633179522');" onmouseout="out('-1057636993633179522');" style=""> 251             return request;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253     }                                                                                                    </span>
<span  style=""> 254                                                                                                          </span>
<span class="-7845197049665414638" onmouseenter="enter('-7845197049665414638');" onmouseout="out('-7845197049665414638');" style=""> 255     /*package*/ JobRequest getJobRequest(int jobId, boolean includeStarted) {                            </span>
<span class="-5531317873884629325" onmouseenter="enter('-5531317873884629325');" onmouseout="out('-5531317873884629325');" style=""> 256         JobRequest jobRequest = mJobStorage.get(jobId);                                                  </span>
<span class="-6202240476544038016" onmouseenter="enter('-6202240476544038016');" onmouseout="out('-6202240476544038016');" style=""> 257         if (!includeStarted &amp;&amp; jobRequest != null &amp;&amp; jobRequest.isStarted()) {                           </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 258             return null;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 259         } else {                                                                                         </span>
<span class="1321635456186586623" onmouseenter="enter('1321635456186586623');" onmouseout="out('1321635456186586623');" style=""> 260             return jobRequest;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262     }                                                                                                    </span>
<span  style=""> 263                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 264     /**                                                                                                  </span>
<span class="-2795365204268997935" onmouseenter="enter('-2795365204268997935');" onmouseout="out('-2795365204268997935');" style=""> 265      * @return A duplicate {@link Set} containing all pending JobRequests or an empty set.               </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 266      * Never returns {@code null}. The set may be modified without direct effects to the actual          </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 267      * backing store.                                                                                    </span>
<span class="-6719692607126398741" onmouseenter="enter('-6719692607126398741');" onmouseout="out('-6719692607126398741');" style=""> 268      * @see #getJobRequest(int)                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 269      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 270     @NonNull                                                                                             </span>
<span class="-904804239476561306" onmouseenter="enter('-904804239476561306');" onmouseout="out('-904804239476561306');" style=""> 271     public Set&lt;JobRequest&gt; getAllJobRequests() {                                                         </span>
<span class="-4056537523809507073" onmouseenter="enter('-4056537523809507073');" onmouseout="out('-4056537523809507073');" style=""> 272         return getAllJobRequests(null, false, true);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273     }                                                                                                    </span>
<span  style=""> 274                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 275     /**                                                                                                  </span>
<span class="-150075778014394998" onmouseenter="enter('-150075778014394998');" onmouseout="out('-150075778014394998');" style=""> 276      * @param tag The tag of the pending requests.                                                       </span>
<span class="-9117837997679760057" onmouseenter="enter('-9117837997679760057');" onmouseout="out('-9117837997679760057');" style=""> 277      * @return A duplicate {@link Set} containing all pending JobRequests associated with this           </span>
<span class="-7265545497128514879" onmouseenter="enter('-7265545497128514879');" onmouseout="out('-7265545497128514879');" style=""> 278      * {@code tag} or an empty set. Never returns {@code null}. The set may be modified without          </span>
<span class="227177932876004689" onmouseenter="enter('227177932876004689');" onmouseout="out('227177932876004689');" style=""> 279      * direct effects to the actual backing store.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 280      */                                                                                                  </span>
<span class="7606149447514232888" onmouseenter="enter('7606149447514232888');" onmouseout="out('7606149447514232888');" style=""> 281     public Set&lt;JobRequest&gt; getAllJobRequestsForTag(@NonNull String tag) {                                </span>
<span class="-1680391097053339067" onmouseenter="enter('-1680391097053339067');" onmouseout="out('-1680391097053339067');" style=""> 282         return getAllJobRequests(tag, false, true);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283     }                                                                                                    </span>
<span  style=""> 284                                                                                                          </span>
<span class="6408193287731579769" onmouseenter="enter('6408193287731579769');" onmouseout="out('6408193287731579769');" style=""><abbr title=" 285     /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cleanUpTransient) {"> 285     /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cðŸ”µ</abbr></span>
<span class="-3391880267753682379" onmouseenter="enter('-3391880267753682379');" onmouseout="out('-3391880267753682379');" style=""> 286         Set&lt;JobRequest&gt; requests = mJobStorage.getAllJobRequests(tag, includeStarted);                   </span>
<span  style=""> 287                                                                                                          </span>
<span class="-8631483291416443164" onmouseenter="enter('-8631483291416443164');" onmouseout="out('-8631483291416443164');" style=""> 288         if (cleanUpTransient) {                                                                          </span>
<span class="-7058077327815782771" onmouseenter="enter('-7058077327815782771');" onmouseout="out('-7058077327815782771');" style=""> 289             Iterator&lt;JobRequest&gt; iterator = requests.iterator();                                         </span>
<span class="977968488612897428" onmouseenter="enter('977968488612897428');" onmouseout="out('977968488612897428');" style=""> 290             while (iterator.hasNext()) {                                                                 </span>
<span class="-4417243110705220216" onmouseenter="enter('-4417243110705220216');" onmouseout="out('-4417243110705220216');" style=""> 291                 JobRequest request = iterator.next();                                                    </span>
<span class="-6106673260388651439" onmouseenter="enter('-6106673260388651439');" onmouseout="out('-6106673260388651439');" style=""><abbr title=" 292                 if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 292                 if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobSchedulðŸ”µ</abbr></span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 293                     mJobStorage.remove(request);                                                         </span>
<span class="-6215380074365660212" onmouseenter="enter('-6215380074365660212');" onmouseout="out('-6215380074365660212');" style=""> 294                     iterator.remove();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span  style=""> 298                                                                                                          </span>
<span class="-5077199918271732388" onmouseenter="enter('-5077199918271732388');" onmouseout="out('-5077199918271732388');" style=""> 299         return requests;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300     }                                                                                                    </span>
<span  style=""> 301                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 302     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 303      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="7788897207505020184" onmouseenter="enter('7788897207505020184');" onmouseout="out('7788897207505020184');" style=""> 304      * restored after the app has launched.                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 305      *                                                                                                   </span>
<span class="-477643776901211056" onmouseenter="enter('-477643776901211056');" onmouseout="out('-477643776901211056');" style=""> 306      * @param jobId The unique ID of the running or finished {@link Job}.                                </span>
<span class="3270382225864694524" onmouseenter="enter('3270382225864694524');" onmouseout="out('3270382225864694524');" style=""> 307      * @return The {@link Job} if it&#x27;s running or has been finished and is still cached. Returns         </span>
<span class="-6075858023683971376" onmouseenter="enter('-6075858023683971376');" onmouseout="out('-6075858023683971376');" style=""> 308      * {@code null} otherwise.                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 309      */                                                                                                  </span>
<span class="-8891493209915902483" onmouseenter="enter('-8891493209915902483');" onmouseout="out('-8891493209915902483');" style=""> 310     public Job getJob(int jobId) {                                                                       </span>
<span class="-4499975465953320235" onmouseenter="enter('-4499975465953320235');" onmouseout="out('-4499975465953320235');" style=""> 311         return mJobExecutor.getJob(jobId);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312     }                                                                                                    </span>
<span  style=""> 313                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 314     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 315      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 316      * restored after the app has relaunched.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 317      *                                                                                                   </span>
<span class="6351768175198237647" onmouseenter="enter('6351768175198237647');" onmouseout="out('6351768175198237647');" style=""> 318      * @return A duplicate {@link Set} containing all running and cached finished jobs or an empty set.  </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 319      * Never returns {@code null}. The set may be modified without direct effects to the actual          </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 320      * backing store.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 321      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 322     @NonNull                                                                                             </span>
<span class="8418659341190675341" onmouseenter="enter('8418659341190675341');" onmouseout="out('8418659341190675341');" style=""> 323     public Set&lt;Job&gt; getAllJobs() {                                                                       </span>
<span class="-7361375259582502195" onmouseenter="enter('-7361375259582502195');" onmouseout="out('-7361375259582502195');" style=""> 324         return mJobExecutor.getAllJobs();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span  style=""> 326                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 327     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 328      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 329      * restored after the app has relaunched.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 330      *                                                                                                   </span>
<span class="2906193900356196417" onmouseenter="enter('2906193900356196417');" onmouseout="out('2906193900356196417');" style=""> 331      * @param tag The tag of the running or finished jobs.                                               </span>
<span class="8402316346887233918" onmouseenter="enter('8402316346887233918');" onmouseout="out('8402316346887233918');" style=""> 332      * @return A duplicate {@link Set} containing all running and cached finished jobs associated with   </span>
<span class="-1417987523275095960" onmouseenter="enter('-1417987523275095960');" onmouseout="out('-1417987523275095960');" style=""> 333      * this tag or an empty set. Never returns {@code null}. The set may be modified without direct      </span>
<span class="7642857653547301659" onmouseenter="enter('7642857653547301659');" onmouseout="out('7642857653547301659');" style=""> 334      * effects to the actual backing store.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 335      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 336     @NonNull                                                                                             </span>
<span class="-1926037323071405748" onmouseenter="enter('-1926037323071405748');" onmouseout="out('-1926037323071405748');" style=""> 337     public Set&lt;Job&gt; getAllJobsForTag(@NonNull String tag) {                                              </span>
<span class="-2996654579181227013" onmouseenter="enter('-2996654579181227013');" onmouseout="out('-2996654579181227013');" style=""> 338         return mJobExecutor.getAllJobsForTag(tag);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 341     /**                                                                                                  </span>
<span class="-6103119810253935707" onmouseenter="enter('-6103119810253935707');" onmouseout="out('-6103119810253935707');" style=""> 342      * Cancel either the pending {@link JobRequest} or the running {@link Job}.                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 343      *                                                                                                   </span>
<span class="3580206770342842161" onmouseenter="enter('3580206770342842161');" onmouseout="out('3580206770342842161');" style=""> 344      * @param jobId The unique ID of the {@link JobRequest} or running {@link Job}.                      </span>
<span class="-3440894550164723212" onmouseenter="enter('-3440894550164723212');" onmouseout="out('-3440894550164723212');" style=""> 345      * @return {@code true} if a request or job were found and canceled.                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 346      */                                                                                                  </span>
<span class="4673154767055309132" onmouseenter="enter('4673154767055309132');" onmouseout="out('4673154767055309132');" style=""> 347     public boolean cancel(int jobId) {                                                                   </span>
<span class="5725682512990717913" onmouseenter="enter('5725682512990717913');" onmouseout="out('5725682512990717913');" style=""> 348         // call both methods                                                                             </span>
<span class="-1940195083171434309" onmouseenter="enter('-1940195083171434309');" onmouseout="out('-1940195083171434309');" style=""> 349         boolean result = cancelInner(getJobRequest(jobId, true)) | cancelInner(getJob(jobId));           </span>
<span class="-3607491956005698732" onmouseenter="enter('-3607491956005698732');" onmouseout="out('-3607491956005698732');" style=""> 350         JobProxy.Common.cleanUpOrphanedJob(mContext, jobId); // do this as well, just in case            </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 351         return result;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span  style=""> 353                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 354     /**                                                                                                  </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 355      * Cancel all pending JobRequests and running jobs.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 356      *                                                                                                   </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 357      * @return The count of canceled requests and running jobs.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 358      */                                                                                                  </span>
<span class="8727086670966112864" onmouseenter="enter('8727086670966112864');" onmouseout="out('8727086670966112864');" style=""> 359     public int cancelAll() {                                                                             </span>
<span class="5548992301459760488" onmouseenter="enter('5548992301459760488');" onmouseout="out('5548992301459760488');" style=""> 360         return cancelAllInner(null);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361     }                                                                                                    </span>
<span  style=""> 362                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 363     /**                                                                                                  </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 364      * Cancel all pending JobRequests and running jobs.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 365      *                                                                                                   </span>
<span class="6528904863027268115" onmouseenter="enter('6528904863027268115');" onmouseout="out('6528904863027268115');" style=""> 366      * @param tag The tag of the pending job requests and running jobs.                                  </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 367      * @return The count of canceled requests and running jobs.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 368      */                                                                                                  </span>
<span class="5906534252688636933" onmouseenter="enter('5906534252688636933');" onmouseout="out('5906534252688636933');" style=""> 369     public int cancelAllForTag(@NonNull String tag) {                                                    </span>
<span class="-6560658895372623261" onmouseenter="enter('-6560658895372623261');" onmouseout="out('-6560658895372623261');" style=""> 370         return cancelAllInner(tag);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371     }                                                                                                    </span>
<span  style=""> 372                                                                                                          </span>
<span class="7928609490831193515" onmouseenter="enter('7928609490831193515');" onmouseout="out('7928609490831193515');" style=""> 373     private boolean cancelInner(@Nullable JobRequest request) {                                          </span>
<span class="-5752363771942989481" onmouseenter="enter('-5752363771942989481');" onmouseout="out('-5752363771942989481');" style=""> 374         if (request != null) {                                                                           </span>
<span class="-1957380641916611906" onmouseenter="enter('-1957380641916611906');" onmouseout="out('-1957380641916611906');" style=""> 375             CAT.i(&quot;Found pending job %s, canceling&quot;, request);                                           </span>
<span class="-3145854089324021214" onmouseenter="enter('-3145854089324021214');" onmouseout="out('-3145854089324021214');" style=""> 376             getJobProxy(request.getJobApi()).cancel(request.getJobId());                                 </span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 377             getJobStorage().remove(request);                                                             </span>
<span class="2741448270392278661" onmouseenter="enter('2741448270392278661');" onmouseout="out('2741448270392278661');" style=""> 378             request.setScheduledAt(0); // reset value                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 379             return true;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 380         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 381             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383     }                                                                                                    </span>
<span  style=""> 384                                                                                                          </span>
<span class="-2812357644034813946" onmouseenter="enter('-2812357644034813946');" onmouseout="out('-2812357644034813946');" style=""> 385     private boolean cancelInner(@Nullable Job job) {                                                     </span>
<span class="-5589369764618585430" onmouseenter="enter('-5589369764618585430');" onmouseout="out('-5589369764618585430');" style=""> 386         if (job != null &amp;&amp; !job.isFinished() &amp;&amp; !job.isCanceled()) {                                     </span>
<span class="-8982583685600169823" onmouseenter="enter('-8982583685600169823');" onmouseout="out('-8982583685600169823');" style=""> 387             CAT.i(&quot;Cancel running %s&quot;, job);                                                             </span>
<span class="4461932157820875057" onmouseenter="enter('4461932157820875057');" onmouseout="out('4461932157820875057');" style=""> 388             job.cancel(true);                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 389             return true;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 390         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 391             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393     }                                                                                                    </span>
<span  style=""> 394                                                                                                          </span>
<span class="7007551180782804914" onmouseenter="enter('7007551180782804914');" onmouseout="out('7007551180782804914');" style=""> 395     private synchronized int cancelAllInner(@Nullable String tag) {                                      </span>
<span class="5445881552498440941" onmouseenter="enter('5445881552498440941');" onmouseout="out('5445881552498440941');" style=""> 396         int canceled = 0;                                                                                </span>
<span  style=""> 397                                                                                                          </span>
<span class="3905651976412403334" onmouseenter="enter('3905651976412403334');" onmouseout="out('3905651976412403334');" style=""> 398         Set&lt;JobRequest&gt; requests = getAllJobRequests(tag, true, false);                                  </span>
<span class="9124327587248213004" onmouseenter="enter('9124327587248213004');" onmouseout="out('9124327587248213004');" style=""> 399         for (JobRequest request : requests) {                                                            </span>
<span class="46316550467126677" onmouseenter="enter('46316550467126677');" onmouseout="out('46316550467126677');" style=""> 400             if (cancelInner(request)) {                                                                  </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 401                 canceled++;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403         }                                                                                                </span>
<span  style=""> 404                                                                                                          </span>
<span class="-155981268798468651" onmouseenter="enter('-155981268798468651');" onmouseout="out('-155981268798468651');" style=""> 405         //noinspection ConstantConditions                                                                </span>
<span class="-6218879424337666353" onmouseenter="enter('-6218879424337666353');" onmouseout="out('-6218879424337666353');" style=""> 406         Set&lt;Job&gt; jobs = TextUtils.isEmpty(tag) ? getAllJobs() : getAllJobsForTag(tag);                   </span>
<span class="977767777964782313" onmouseenter="enter('977767777964782313');" onmouseout="out('977767777964782313');" style=""> 407         for (Job job : jobs) {                                                                           </span>
<span class="-2976205724987486146" onmouseenter="enter('-2976205724987486146');" onmouseout="out('-2976205724987486146');" style=""> 408             if (cancelInner(job)) {                                                                      </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 409                 canceled++;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411         }                                                                                                </span>
<span class="-2118177486513212743" onmouseenter="enter('-2118177486513212743');" onmouseout="out('-2118177486513212743');" style=""> 412         return canceled;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413     }                                                                                                    </span>
<span  style=""> 414                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 415     /**                                                                                                  </span>
<span class="6798512724525576867" onmouseenter="enter('6798512724525576867');" onmouseout="out('6798512724525576867');" style=""> 416      * Registers this instance to create jobs for a specific tag. It&#x27;s possible to have multiple         </span>
<span class="-8744317698350024298" onmouseenter="enter('-8744317698350024298');" onmouseout="out('-8744317698350024298');" style=""> 417      * {@link JobCreator}s with a first come first serve order.                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 418      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 419      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 420      */                                                                                                  </span>
<span class="-2491458967670828165" onmouseenter="enter('-2491458967670828165');" onmouseout="out('-2491458967670828165');" style=""> 421     public void addJobCreator(JobCreator jobCreator) {                                                   </span>
<span class="4475667171028624254" onmouseenter="enter('4475667171028624254');" onmouseout="out('4475667171028624254');" style=""> 422         mJobCreatorHolder.addJobCreator(jobCreator);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423     }                                                                                                    </span>
<span  style=""> 424                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 425     /**                                                                                                  </span>
<span class="-4564346032900638715" onmouseenter="enter('-4564346032900638715');" onmouseout="out('-4564346032900638715');" style=""> 426      * Remove the mapping to stop it from creating new jobs.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 427      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 428      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 429      */                                                                                                  </span>
<span class="-6484177490967554570" onmouseenter="enter('-6484177490967554570');" onmouseout="out('-6484177490967554570');" style=""> 430     public void removeJobCreator(JobCreator jobCreator) {                                                </span>
<span class="-539536155610817324" onmouseenter="enter('-539536155610817324');" onmouseout="out('-539536155610817324');" style=""> 431         mJobCreatorHolder.removeJobCreator(jobCreator);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432     }                                                                                                    </span>
<span  style=""> 433                                                                                                          </span>
<span class="-9025857433666575285" onmouseenter="enter('-9025857433666575285');" onmouseout="out('-9025857433666575285');" style=""> 434     /*package*/ JobStorage getJobStorage() {                                                             </span>
<span class="7567809637669260331" onmouseenter="enter('7567809637669260331');" onmouseout="out('7567809637669260331');" style=""> 435         return mJobStorage;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436     }                                                                                                    </span>
<span  style=""> 437                                                                                                          </span>
<span class="7576466200489518989" onmouseenter="enter('7576466200489518989');" onmouseout="out('7576466200489518989');" style=""> 438     /*package*/ JobExecutor getJobExecutor() {                                                           </span>
<span class="-1765880259966525073" onmouseenter="enter('-1765880259966525073');" onmouseout="out('-1765880259966525073');" style=""> 439         return mJobExecutor;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440     }                                                                                                    </span>
<span  style=""> 441                                                                                                          </span>
<span class="6727805992909117493" onmouseenter="enter('6727805992909117493');" onmouseout="out('6727805992909117493');" style=""> 442     /*package*/ JobCreatorHolder getJobCreatorHolder() {                                                 </span>
<span class="-3612182450615984670" onmouseenter="enter('-3612182450615984670');" onmouseout="out('-3612182450615984670');" style=""> 443         return mJobCreatorHolder;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444     }                                                                                                    </span>
<span  style=""> 445                                                                                                          </span>
<span class="6908334764837028449" onmouseenter="enter('6908334764837028449');" onmouseout="out('6908334764837028449');" style=""> 446     /*package*/ Context getContext() {                                                                   </span>
<span class="5958236384696658256" onmouseenter="enter('5958236384696658256');" onmouseout="out('5958236384696658256');" style=""> 447         return mContext;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448     }                                                                                                    </span>
<span  style=""> 449                                                                                                          </span>
<span class="4070471043727310040" onmouseenter="enter('4070471043727310040');" onmouseout="out('4070471043727310040');" style=""> 450     /*package*/ void destroy() {                                                                         </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 451         synchronized (JobManager.class) {                                                                </span>
<span class="4675221880685402786" onmouseenter="enter('4675221880685402786');" onmouseout="out('4675221880685402786');" style=""> 452             instance = null;                                                                             </span>
<span class="-4915935391363161906" onmouseenter="enter('-4915935391363161906');" onmouseout="out('-4915935391363161906');" style=""> 453             for (JobApi api : JobApi.values()) {                                                         </span>
<span class="1605566681993962517" onmouseenter="enter('1605566681993962517');" onmouseout="out('1605566681993962517');" style=""> 454                 api.invalidateCachedProxy();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 457     }                                                                                                    </span>
<span  style=""> 458                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 459 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="4824166657412608889" onmouseenter="enter('4824166657412608889');" onmouseout="out('4824166657412608889');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 460     /*package*/ JobProxy getJobProxy(JobRequest request) {                                               </span>
<span class="-2965969964131507785" onmouseenter="enter('-2965969964131507785');" onmouseout="out('-2965969964131507785');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 461         return getJobProxy(request.getJobApi());                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 462     }                                                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 463                                                                                                          </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 464     private JobProxy getJobProxy(JobApi api) {                                                           </span>
<span class="-5205823727772511113" onmouseenter="enter('-5205823727772511113');" onmouseout="out('-5205823727772511113');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 465         return api.getProxy(mContext);                                                                   </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 466 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 467             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 468         }                                                                                                </span>
<span class="-2118177486513212743" onmouseenter="enter('-2118177486513212743');" onmouseout="out('-2118177486513212743');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 469         return canceled;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 470     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 471                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 472     /**                                                                                                  </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 473      * Global switch to enable or disable logging.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 474      *                                                                                                   </span>
<span class="4771316842434194261" onmouseenter="enter('4771316842434194261');" onmouseout="out('4771316842434194261');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 475      * @param verbose Whether or not to print log messages.                                              </span>
<span class="6912080662004435371" onmouseenter="enter('6912080662004435371');" onmouseout="out('6912080662004435371');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 476      * @deprecated Use {@link Config#setVerbose(boolean)} instead.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 477      */                                                                                                  </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 478     @Deprecated                                                                                          </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 479     public void setVerbose(boolean verbose) {                                                            </span>
<span class="-1748325686137947820" onmouseenter="enter('-1748325686137947820');" onmouseout="out('-1748325686137947820');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 480         mConfig.setVerbose(verbose);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 481     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 482                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 483     /**                                                                                                  </span>
<span class="6798512724525576867" onmouseenter="enter('6798512724525576867');" onmouseout="out('6798512724525576867');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 484      * Registers this instance to create jobs for a specific tag. It&#x27;s possible to have multiple         </span>
<span class="-8744317698350024298" onmouseenter="enter('-8744317698350024298');" onmouseout="out('-8744317698350024298');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 485      * {@link JobCreator}s with a first come first serve order.                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 486      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 487      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 488      */                                                                                                  </span>
<span class="-2491458967670828165" onmouseenter="enter('-2491458967670828165');" onmouseout="out('-2491458967670828165');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 489     public void addJobCreator(JobCreator jobCreator) {                                                   </span>
<span class="4475667171028624254" onmouseenter="enter('4475667171028624254');" onmouseout="out('4475667171028624254');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 490         mJobCreatorHolder.addJobCreator(jobCreator);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 491     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 492                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 493     /**                                                                                                  </span>
<span class="-4564346032900638715" onmouseenter="enter('-4564346032900638715');" onmouseout="out('-4564346032900638715');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 494      * Remove the mapping to stop it from creating new jobs.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 495      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 496      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 497      */                                                                                                  </span>
<span class="-6484177490967554570" onmouseenter="enter('-6484177490967554570');" onmouseout="out('-6484177490967554570');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 498     public void removeJobCreator(JobCreator jobCreator) {                                                </span>
<span class="-539536155610817324" onmouseenter="enter('-539536155610817324');" onmouseout="out('-539536155610817324');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 499         mJobCreatorHolder.removeJobCreator(jobCreator);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 500     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 501                                                                                                          </span>
<span class="-9025857433666575285" onmouseenter="enter('-9025857433666575285');" onmouseout="out('-9025857433666575285');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 502     /*package*/ JobStorage getJobStorage() {                                                             </span>
<span class="7567809637669260331" onmouseenter="enter('7567809637669260331');" onmouseout="out('7567809637669260331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 503         return mJobStorage;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 504     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 505                                                                                                          </span>
<span class="7576466200489518989" onmouseenter="enter('7576466200489518989');" onmouseout="out('7576466200489518989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 506     /*package*/ JobExecutor getJobExecutor() {                                                           </span>
<span class="-1765880259966525073" onmouseenter="enter('-1765880259966525073');" onmouseout="out('-1765880259966525073');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 507         return mJobExecutor;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 508     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 509                                                                                                          </span>
<span class="6727805992909117493" onmouseenter="enter('6727805992909117493');" onmouseout="out('6727805992909117493');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 510     /*package*/ JobCreatorHolder getJobCreatorHolder() {                                                 </span>
<span class="-3612182450615984670" onmouseenter="enter('-3612182450615984670');" onmouseout="out('-3612182450615984670');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 511         return mJobCreatorHolder;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 512     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 513                                                                                                          </span>
<span class="6908334764837028449" onmouseenter="enter('6908334764837028449');" onmouseout="out('6908334764837028449');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 514     /*package*/ Context getContext() {                                                                   </span>
<span class="5958236384696658256" onmouseenter="enter('5958236384696658256');" onmouseout="out('5958236384696658256');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 515         return mContext;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 516     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 517                                                                                                          </span>
<span class="4070471043727310040" onmouseenter="enter('4070471043727310040');" onmouseout="out('4070471043727310040');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 518     /*package*/ void destroy() {                                                                         </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 519         synchronized (JobManager.class) {                                                                </span>
<span class="4675221880685402786" onmouseenter="enter('4675221880685402786');" onmouseout="out('4675221880685402786');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 520             instance = null;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 521         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 522     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 523                                                                                                          </span>
<span class="4824166657412608889" onmouseenter="enter('4824166657412608889');" onmouseout="out('4824166657412608889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 524     /*package*/ JobProxy getJobProxy(JobRequest request) {                                               </span>
<span class="-2965969964131507785" onmouseenter="enter('-2965969964131507785');" onmouseout="out('-2965969964131507785');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 525         return getJobProxy(request.getJobApi());                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 526     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 527                                                                                                          </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 528     private JobProxy getJobProxy(JobApi api) {                                                           </span>
<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 529         return api.getCachedProxy(mContext);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 530     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 531                                                                                                          </span>
<span class="5819839472839663113" onmouseenter="enter('5819839472839663113');" onmouseout="out('5819839472839663113');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 532     // TODO: extract this class so that settings can be changed before the JobManager has been created   </span>
<span class="-3926233336101017429" onmouseenter="enter('-3926233336101017429');" onmouseout="out('-3926233336101017429');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 533     public final class Config {                                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 534                                                                                                          </span>
<span class="4478366925575527288" onmouseenter="enter('4478366925575527288');" onmouseout="out('4478366925575527288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 535         private boolean mGcmEnabled;                                                                     </span>
<span class="3222940311196365219" onmouseenter="enter('3222940311196365219');" onmouseout="out('3222940311196365219');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 536         private boolean mAllowSmallerIntervals;                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 537                                                                                                          </span>
<span class="1352959930409426534" onmouseenter="enter('1352959930409426534');" onmouseout="out('1352959930409426534');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 538         private Config() {                                                                               </span>
<span class="-5278119484705127312" onmouseenter="enter('-5278119484705127312');" onmouseout="out('-5278119484705127312');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 539             mGcmEnabled = true;                                                                          </span>
<span class="5402993595528484637" onmouseenter="enter('5402993595528484637');" onmouseout="out('5402993595528484637');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 540             mAllowSmallerIntervals = false;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 541         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 542                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 543         /**                                                                                              </span>
<span class="-2537676166129027872" onmouseenter="enter('-2537676166129027872');" onmouseout="out('-2537676166129027872');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 544          * @return Whether logging is enabled for this library. The default value is {@code true}.       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 545          */                                                                                              </span>
<span class="-2746772116937722358" onmouseenter="enter('-2746772116937722358');" onmouseout="out('-2746772116937722358');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 546         public boolean isVerbose() {                                                                     </span>
<span class="2727400873410512568" onmouseenter="enter('2727400873410512568');" onmouseout="out('2727400873410512568');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 547             return JobCat.isLogcatEnabled();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 548         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 549                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 550         /**                                                                                              </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 551          * Global switch to enable or disable logging.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 552          *                                                                                               </span>
<span class="2326612315460832419" onmouseenter="enter('2326612315460832419');" onmouseout="out('2326612315460832419');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 553          * @param verbose Whether or not to print all log messages. The default value is {@code true}.   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 554          */                                                                                              </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 555         public void setVerbose(boolean verbose) {                                                        </span>
<span class="6809609309523734693" onmouseenter="enter('6809609309523734693');" onmouseout="out('6809609309523734693');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 556             JobCat.setLogcatEnabled(verbose);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 557         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 558                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 559         /**                                                                                              </span>
<span class="2860743404166892430" onmouseenter="enter('2860743404166892430');" onmouseout="out('2860743404166892430');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 560          * @return Whether the GCM API is enabled. The API is only used if the required class dependency </span>
<span class="-1416738499443842717" onmouseenter="enter('-1416738499443842717');" onmouseout="out('-1416738499443842717');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 561          * is found, the Google Play Services are available and this setting is {@code true}. The default</span>
<span class="8764218728113319363" onmouseenter="enter('8764218728113319363');" onmouseout="out('8764218728113319363');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 562          * value is {@code true}.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 563          */                                                                                              </span>
<span class="-7429757744208332908" onmouseenter="enter('-7429757744208332908');" onmouseout="out('-7429757744208332908');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 564         public boolean isGcmApiEnabled() {                                                               </span>
<span class="6191343166635185115" onmouseenter="enter('6191343166635185115');" onmouseout="out('6191343166635185115');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 565             return mGcmEnabled;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 566         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 567                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 568         /**                                                                                              </span>
<span class="-9047021064026521936" onmouseenter="enter('-9047021064026521936');" onmouseout="out('-9047021064026521936');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 569          * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} will"> 569          * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} wiðŸ”µ</abbr></span>
<span class="8823200755718979838" onmouseenter="enter('8823200755718979838');" onmouseout="out('8823200755718979838');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 570          * be used for Android 4 devices in all cases.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 571          *                                                                                               </span>
<span class="7265088581003835852" onmouseenter="enter('7265088581003835852');" onmouseout="out('7265088581003835852');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 572          * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only used,"> 572          * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only usðŸ”µ</abbr></span>
<span class="2664427863390598737" onmouseenter="enter('2664427863390598737');" onmouseout="out('2664427863390598737');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 573          *                if the required class dependency is found, the Google Play Services are available"> 573          *                if the required class dependency is found, the Google Play Services are availabðŸ”µ</abbr></span>
<span class="-9202610048813496906" onmouseenter="enter('-9202610048813496906');" onmouseout="out('-9202610048813496906');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 574          *                and this setting is {@code true}. The default value is {@code true}.           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 575          */                                                                                              </span>
<span class="3131865423967228821" onmouseenter="enter('3131865423967228821');" onmouseout="out('3131865423967228821');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 576         public void setGcmApiEnabled(boolean enabled) {                                                  </span>
<span class="-7781929993252071383" onmouseenter="enter('-7781929993252071383');" onmouseout="out('-7781929993252071383');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 577             if (enabled == mGcmEnabled) {                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 578                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 579             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 580                                                                                                          </span>
<span class="1819590405292556164" onmouseenter="enter('1819590405292556164');" onmouseout="out('1819590405292556164');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 581             mGcmEnabled = enabled;                                                                       </span>
<span class="8012018722923764134" onmouseenter="enter('8012018722923764134');" onmouseout="out('8012018722923764134');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 582             if (enabled) {                                                                               </span>
<span class="-6729800039701270501" onmouseenter="enter('-6729800039701270501');" onmouseout="out('-6729800039701270501');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 583                 JobApi defaultApi = JobApi.getDefault(mContext, true);                                   </span>
<span class="-6209625822862365404" onmouseenter="enter('-6209625822862365404');" onmouseout="out('-6209625822862365404');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 584                 if (!defaultApi.equals(getApi())) {                                                      </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 585                     setJobProxy(defaultApi);                                                             </span>
<span class="2000942638680471923" onmouseenter="enter('2000942638680471923');" onmouseout="out('2000942638680471923');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 586                     CAT.i(&quot;Changed default proxy to %s after enabled the GCM API&quot;, defaultApi);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 587                 }                                                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 588             } else {                                                                                     </span>
<span class="5144537794263672794" onmouseenter="enter('5144537794263672794');" onmouseout="out('5144537794263672794');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 589                 JobApi defaultApi = JobApi.getDefault(mContext, false);                                  </span>
<span class="1139195568582208331" onmouseenter="enter('1139195568582208331');" onmouseout="out('1139195568582208331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 590                 if (JobApi.GCM == getApi()) {                                                            </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 591                     setJobProxy(defaultApi);                                                             </span>
<span class="-6137765879787410515" onmouseenter="enter('-6137765879787410515');" onmouseout="out('-6137765879787410515');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 592                     CAT.i(&quot;Changed default proxy to %s after disabling the GCM API&quot;, defaultApi);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 593                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 594             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 595         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 596                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 597         /**                                                                                              </span>
<span class="4313118545757178652" onmouseenter="enter('4313118545757178652');" onmouseout="out('4313118545757178652');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 598          * Checks whether a smaller interval and flex are allowed for periodic jobs. That&#x27;s helpful      </span>
<span class="-5286604884073347043" onmouseenter="enter('-5286604884073347043');" onmouseout="out('-5286604884073347043');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 599          * for testing purposes.                                                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 600          *                                                                                               </span>
<span class="-3308748460175563567" onmouseenter="enter('-3308748460175563567');" onmouseout="out('-3308748460175563567');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 601          * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jobs"> 601          * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jðŸ”µ</abbr></span>
<span class="4784110824834161936" onmouseenter="enter('4784110824834161936');" onmouseout="out('4784110824834161936');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 602          * are allowed. The default value is {@code false}.                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 603          */                                                                                              </span>
<span class="-3838585999741719363" onmouseenter="enter('-3838585999741719363');" onmouseout="out('-3838585999741719363');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 604         public boolean isAllowSmallerIntervalsForMarshmallow() {                                         </span>
<span class="1030055021778218024" onmouseenter="enter('1030055021778218024');" onmouseout="out('1030055021778218024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 605             return mAllowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N;              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 606         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 607                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 608         /**                                                                                              </span>
<span class="-1869290568894580964" onmouseenter="enter('-1869290568894580964');" onmouseout="out('-1869290568894580964');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 609          * Option to override the minimum period and minimum flex for periodic jobs. This is useful for testing"> 609          * Option to override the minimum period and minimum flex for periodic jobs. This is useful for tðŸ”µ</abbr></span>
<span class="-8595186122126529146" onmouseenter="enter('-8595186122126529146');" onmouseout="out('-8595186122126529146');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 610          * purposes. This method only works for Android M and earlier. Later versions throw an exception.</span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 611          *                                                                                               </span>
<span class="-1416855746077376306" onmouseenter="enter('-1416855746077376306');" onmouseout="out('-1416855746077376306');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 612          * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are allowed"> 612          * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are aðŸ”µ</abbr></span>
<span class="7958399044345871138" onmouseenter="enter('7958399044345871138');" onmouseout="out('7958399044345871138');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 613          *                              for periodic jobs are allowed. The default value is {@code false}."> 613          *                              for periodic jobs are allowed. The default value is {@code false}ðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 614          */                                                                                              </span>
<span class="-2190831914101150490" onmouseenter="enter('-2190831914101150490');" onmouseout="out('-2190831914101150490');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 615         public void setAllowSmallerIntervalsForMarshmallow(boolean allowSmallerIntervals) {              </span>
<span class="-8519533053547672810" onmouseenter="enter('-8519533053547672810');" onmouseout="out('-8519533053547672810');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 616             if (allowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {               </span>
<span class="-3520998319495876499" onmouseenter="enter('-3520998319495876499');" onmouseout="out('-3520998319495876499');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 617                 throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlier&quot;);"> 617                 throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 618             }                                                                                            </span>
<span class="-280008161972170539" onmouseenter="enter('-280008161972170539');" onmouseout="out('-280008161972170539');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 619             mAllowSmallerIntervals = allowSmallerIntervals;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 620         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 621     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 622                                                                                                          </span>
<span class="198676935402196211" onmouseenter="enter('198676935402196211');" onmouseout="out('198676935402196211');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 623     private static void sendAddJobCreatorIntent(@NonNull Context context) {                              </span>
<span class="-5610909263414778784" onmouseenter="enter('-5610909263414778784');" onmouseout="out('-5610909263414778784');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 624         Intent intent = new Intent(JobCreator.ACTION_ADD_JOB_CREATOR);                                   </span>
<span class="1726009622345607958" onmouseenter="enter('1726009622345607958');" onmouseout="out('1726009622345607958');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 625         List&lt;ResolveInfo&gt; resolveInfos = context.getPackageManager().queryBroadcastReceivers(intent, 0); </span>
<span class="1528436296094400725" onmouseenter="enter('1528436296094400725');" onmouseout="out('1528436296094400725');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 626         String myPackage = context.getPackageName();                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 627                                                                                                          </span>
<span class="-3902911217867890027" onmouseenter="enter('-3902911217867890027');" onmouseout="out('-3902911217867890027');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 628         for (ResolveInfo resolveInfo : resolveInfos) {                                                   </span>
<span class="5367414755120464835" onmouseenter="enter('5367414755120464835');" onmouseout="out('5367414755120464835');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 629             ActivityInfo activityInfo = resolveInfo.activityInfo;                                        </span>
<span class="3799375487777701963" onmouseenter="enter('3799375487777701963');" onmouseout="out('3799375487777701963');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 630             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageName)"> 630             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageNaðŸ”µ</abbr></span>
<span class="1474928284409433713" onmouseenter="enter('1474928284409433713');" onmouseout="out('1474928284409433713');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 631                     || TextUtils.isEmpty(activityInfo.name)) {                                           </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 632                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 633             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 634                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 635             try {                                                                                        </span>
<span class="-3119421487431756924" onmouseenter="enter('-3119421487431756924');" onmouseout="out('-3119421487431756924');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 636                 JobCreator.AddJobCreatorReceiver receiver =                                              </span>
<span class="462433870860114552" onmouseenter="enter('462433870860114552');" onmouseout="out('462433870860114552');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 637                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance();"> 637                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance()ðŸ”µ</abbr></span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 638                                                                                                          </span>
<span class="2828831418149522046" onmouseenter="enter('2828831418149522046');" onmouseout="out('2828831418149522046');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 639                 receiver.addJobCreator(context, instance);                                               </span>
<span class="8538742657781196138" onmouseenter="enter('8538742657781196138');" onmouseout="out('8538742657781196138');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 640             } catch (Exception ignored) {                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 641             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 642         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 643     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 644 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 645 =======                                                                                                  </span>
<span class="1598412430599932326" onmouseenter="enter('1598412430599932326');" onmouseout="out('1598412430599932326');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 646     /*package*/ JobProxy getJobProxy(JobApi api) {                                                       </span>
<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 647         return api.getCachedProxy(mContext);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 648     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 649                                                                                                          </span>
<span class="5819839472839663113" onmouseenter="enter('5819839472839663113');" onmouseout="out('5819839472839663113');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 650     // TODO: extract this class so that settings can be changed before the JobManager has been created   </span>
<span class="-3926233336101017429" onmouseenter="enter('-3926233336101017429');" onmouseout="out('-3926233336101017429');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 651     public final class Config {                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 652                                                                                                          </span>
<span class="4478366925575527288" onmouseenter="enter('4478366925575527288');" onmouseout="out('4478366925575527288');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 653         private boolean mGcmEnabled;                                                                     </span>
<span class="3222940311196365219" onmouseenter="enter('3222940311196365219');" onmouseout="out('3222940311196365219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 654         private boolean mAllowSmallerIntervals;                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 655                                                                                                          </span>
<span class="1352959930409426534" onmouseenter="enter('1352959930409426534');" onmouseout="out('1352959930409426534');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 656         private Config() {                                                                               </span>
<span class="-5278119484705127312" onmouseenter="enter('-5278119484705127312');" onmouseout="out('-5278119484705127312');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 657             mGcmEnabled = true;                                                                          </span>
<span class="5402993595528484637" onmouseenter="enter('5402993595528484637');" onmouseout="out('5402993595528484637');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 658             mAllowSmallerIntervals = false;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 659         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 660                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 661         /**                                                                                              </span>
<span class="-2537676166129027872" onmouseenter="enter('-2537676166129027872');" onmouseout="out('-2537676166129027872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 662          * @return Whether logging is enabled for this library. The default value is {@code true}.       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 663          */                                                                                              </span>
<span class="-2746772116937722358" onmouseenter="enter('-2746772116937722358');" onmouseout="out('-2746772116937722358');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 664         public boolean isVerbose() {                                                                     </span>
<span class="2727400873410512568" onmouseenter="enter('2727400873410512568');" onmouseout="out('2727400873410512568');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 665             return JobCat.isLogcatEnabled();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 666         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 667                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 668         /**                                                                                              </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 669          * Global switch to enable or disable logging.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 670          *                                                                                               </span>
<span class="2326612315460832419" onmouseenter="enter('2326612315460832419');" onmouseout="out('2326612315460832419');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 671          * @param verbose Whether or not to print all log messages. The default value is {@code true}.   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 672          */                                                                                              </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 673         public void setVerbose(boolean verbose) {                                                        </span>
<span class="6809609309523734693" onmouseenter="enter('6809609309523734693');" onmouseout="out('6809609309523734693');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 674             JobCat.setLogcatEnabled(verbose);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 675         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 676                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 677         /**                                                                                              </span>
<span class="2860743404166892430" onmouseenter="enter('2860743404166892430');" onmouseout="out('2860743404166892430');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 678          * @return Whether the GCM API is enabled. The API is only used if the required class dependency </span>
<span class="-1416738499443842717" onmouseenter="enter('-1416738499443842717');" onmouseout="out('-1416738499443842717');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 679          * is found, the Google Play Services are available and this setting is {@code true}. The default</span>
<span class="8764218728113319363" onmouseenter="enter('8764218728113319363');" onmouseout="out('8764218728113319363');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 680          * value is {@code true}.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 681          */                                                                                              </span>
<span class="-7429757744208332908" onmouseenter="enter('-7429757744208332908');" onmouseout="out('-7429757744208332908');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 682         public boolean isGcmApiEnabled() {                                                               </span>
<span class="6191343166635185115" onmouseenter="enter('6191343166635185115');" onmouseout="out('6191343166635185115');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 683             return mGcmEnabled;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 684         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 685                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 686         /**                                                                                              </span>
<span class="-9047021064026521936" onmouseenter="enter('-9047021064026521936');" onmouseout="out('-9047021064026521936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 687          * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} will"> 687          * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} wiðŸ”µ</abbr></span>
<span class="8823200755718979838" onmouseenter="enter('8823200755718979838');" onmouseout="out('8823200755718979838');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 688          * be used for Android 4 devices in all cases.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 689          *                                                                                               </span>
<span class="7265088581003835852" onmouseenter="enter('7265088581003835852');" onmouseout="out('7265088581003835852');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 690          * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only used,"> 690          * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only usðŸ”µ</abbr></span>
<span class="2664427863390598737" onmouseenter="enter('2664427863390598737');" onmouseout="out('2664427863390598737');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 691          *                if the required class dependency is found, the Google Play Services are available"> 691          *                if the required class dependency is found, the Google Play Services are availabðŸ”µ</abbr></span>
<span class="-9202610048813496906" onmouseenter="enter('-9202610048813496906');" onmouseout="out('-9202610048813496906');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 692          *                and this setting is {@code true}. The default value is {@code true}.           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 693          */                                                                                              </span>
<span class="3131865423967228821" onmouseenter="enter('3131865423967228821');" onmouseout="out('3131865423967228821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 694         public void setGcmApiEnabled(boolean enabled) {                                                  </span>
<span class="-7781929993252071383" onmouseenter="enter('-7781929993252071383');" onmouseout="out('-7781929993252071383');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 695             if (enabled == mGcmEnabled) {                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 696                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 697             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 698                                                                                                          </span>
<span class="1819590405292556164" onmouseenter="enter('1819590405292556164');" onmouseout="out('1819590405292556164');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 699             mGcmEnabled = enabled;                                                                       </span>
<span class="8012018722923764134" onmouseenter="enter('8012018722923764134');" onmouseout="out('8012018722923764134');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 700             if (enabled) {                                                                               </span>
<span class="-6729800039701270501" onmouseenter="enter('-6729800039701270501');" onmouseout="out('-6729800039701270501');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 701                 JobApi defaultApi = JobApi.getDefault(mContext, true);                                   </span>
<span class="-6209625822862365404" onmouseenter="enter('-6209625822862365404');" onmouseout="out('-6209625822862365404');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 702                 if (!defaultApi.equals(getApi())) {                                                      </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 703                     setJobProxy(defaultApi);                                                             </span>
<span class="2000942638680471923" onmouseenter="enter('2000942638680471923');" onmouseout="out('2000942638680471923');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 704                     CAT.i(&quot;Changed default proxy to %s after enabled the GCM API&quot;, defaultApi);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 705                 }                                                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 706             } else {                                                                                     </span>
<span class="5144537794263672794" onmouseenter="enter('5144537794263672794');" onmouseout="out('5144537794263672794');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 707                 JobApi defaultApi = JobApi.getDefault(mContext, false);                                  </span>
<span class="1139195568582208331" onmouseenter="enter('1139195568582208331');" onmouseout="out('1139195568582208331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 708                 if (JobApi.GCM == getApi()) {                                                            </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 709                     setJobProxy(defaultApi);                                                             </span>
<span class="-6137765879787410515" onmouseenter="enter('-6137765879787410515');" onmouseout="out('-6137765879787410515');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 710                     CAT.i(&quot;Changed default proxy to %s after disabling the GCM API&quot;, defaultApi);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 711                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 712             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 713         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 714                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 715         /**                                                                                              </span>
<span class="4313118545757178652" onmouseenter="enter('4313118545757178652');" onmouseout="out('4313118545757178652');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 716          * Checks whether a smaller interval and flex are allowed for periodic jobs. That&#x27;s helpful      </span>
<span class="-5286604884073347043" onmouseenter="enter('-5286604884073347043');" onmouseout="out('-5286604884073347043');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 717          * for testing purposes.                                                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 718          *                                                                                               </span>
<span class="-3308748460175563567" onmouseenter="enter('-3308748460175563567');" onmouseout="out('-3308748460175563567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 719          * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jobs"> 719          * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jðŸ”µ</abbr></span>
<span class="4784110824834161936" onmouseenter="enter('4784110824834161936');" onmouseout="out('4784110824834161936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 720          * are allowed. The default value is {@code false}.                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 721          */                                                                                              </span>
<span class="-3838585999741719363" onmouseenter="enter('-3838585999741719363');" onmouseout="out('-3838585999741719363');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 722         public boolean isAllowSmallerIntervalsForMarshmallow() {                                         </span>
<span class="1030055021778218024" onmouseenter="enter('1030055021778218024');" onmouseout="out('1030055021778218024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 723             return mAllowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N;              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 724         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 725                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 726         /**                                                                                              </span>
<span class="-1869290568894580964" onmouseenter="enter('-1869290568894580964');" onmouseout="out('-1869290568894580964');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 727          * Option to override the minimum period and minimum flex for periodic jobs. This is useful for testing"> 727          * Option to override the minimum period and minimum flex for periodic jobs. This is useful for tðŸ”µ</abbr></span>
<span class="-8595186122126529146" onmouseenter="enter('-8595186122126529146');" onmouseout="out('-8595186122126529146');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 728          * purposes. This method only works for Android M and earlier. Later versions throw an exception.</span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 729          *                                                                                               </span>
<span class="-1416855746077376306" onmouseenter="enter('-1416855746077376306');" onmouseout="out('-1416855746077376306');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 730          * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are allowed"> 730          * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are aðŸ”µ</abbr></span>
<span class="7958399044345871138" onmouseenter="enter('7958399044345871138');" onmouseout="out('7958399044345871138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 731          *                              for periodic jobs are allowed. The default value is {@code false}."> 731          *                              for periodic jobs are allowed. The default value is {@code false}ðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 732          */                                                                                              </span>
<span class="-2190831914101150490" onmouseenter="enter('-2190831914101150490');" onmouseout="out('-2190831914101150490');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 733         public void setAllowSmallerIntervalsForMarshmallow(boolean allowSmallerIntervals) {              </span>
<span class="-8519533053547672810" onmouseenter="enter('-8519533053547672810');" onmouseout="out('-8519533053547672810');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 734             if (allowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {               </span>
<span class="-3520998319495876499" onmouseenter="enter('-3520998319495876499');" onmouseout="out('-3520998319495876499');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 735                 throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlier&quot;);"> 735                 throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 736             }                                                                                            </span>
<span class="-280008161972170539" onmouseenter="enter('-280008161972170539');" onmouseout="out('-280008161972170539');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 737             mAllowSmallerIntervals = allowSmallerIntervals;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 738         }                                                                                                </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 739 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740     }                                                                                                    </span>
<span  style=""> 741                                                                                                          </span>
<span class="198676935402196211" onmouseenter="enter('198676935402196211');" onmouseout="out('198676935402196211');" style=""> 742     private static void sendAddJobCreatorIntent(@NonNull Context context) {                              </span>
<span class="-5610909263414778784" onmouseenter="enter('-5610909263414778784');" onmouseout="out('-5610909263414778784');" style=""> 743         Intent intent = new Intent(JobCreator.ACTION_ADD_JOB_CREATOR);                                   </span>
<span class="1726009622345607958" onmouseenter="enter('1726009622345607958');" onmouseout="out('1726009622345607958');" style=""> 744         List&lt;ResolveInfo&gt; resolveInfos = context.getPackageManager().queryBroadcastReceivers(intent, 0); </span>
<span class="1528436296094400725" onmouseenter="enter('1528436296094400725');" onmouseout="out('1528436296094400725');" style=""> 745         String myPackage = context.getPackageName();                                                     </span>
<span  style=""> 746                                                                                                          </span>
<span class="-3902911217867890027" onmouseenter="enter('-3902911217867890027');" onmouseout="out('-3902911217867890027');" style=""> 747         for (ResolveInfo resolveInfo : resolveInfos) {                                                   </span>
<span class="5367414755120464835" onmouseenter="enter('5367414755120464835');" onmouseout="out('5367414755120464835');" style=""> 748             ActivityInfo activityInfo = resolveInfo.activityInfo;                                        </span>
<span class="3799375487777701963" onmouseenter="enter('3799375487777701963');" onmouseout="out('3799375487777701963');" style=""><abbr title=" 749             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageName)"> 749             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageNaðŸ”µ</abbr></span>
<span class="1474928284409433713" onmouseenter="enter('1474928284409433713');" onmouseout="out('1474928284409433713');" style=""> 750                     || TextUtils.isEmpty(activityInfo.name)) {                                           </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 751                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 752             }                                                                                            </span>
<span  style=""> 753                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 754             try {                                                                                        </span>
<span class="-3119421487431756924" onmouseenter="enter('-3119421487431756924');" onmouseout="out('-3119421487431756924');" style=""> 755                 JobCreator.AddJobCreatorReceiver receiver =                                              </span>
<span class="462433870860114552" onmouseenter="enter('462433870860114552');" onmouseout="out('462433870860114552');" style=""><abbr title=" 756                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance();"> 756                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance()ðŸ”µ</abbr></span>
<span  style=""> 757                                                                                                          </span>
<span class="2828831418149522046" onmouseenter="enter('2828831418149522046');" onmouseout="out('2828831418149522046');" style=""> 758                 receiver.addJobCreator(context, instance);                                               </span>
<span class="8538742657781196138" onmouseenter="enter('8538742657781196138');" onmouseout="out('8538742657781196138');" style=""> 759             } catch (Exception ignored) {                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 760             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 761         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 762     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-8822900351790619766" onmouseenter="enter('-8822900351790619766');" onmouseout="out('-8822900351790619766');" style="">   2  * Copyright 2007-present Evernote Corporation.                                                          </span>
<span class="-2278367542838177584" onmouseenter="enter('-2278367542838177584');" onmouseout="out('-2278367542838177584');" style="">   3  * All rights reserved.                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   4  *                                                                                                       </span>
<span class="181301442133285836" onmouseenter="enter('181301442133285836');" onmouseout="out('181301442133285836');" style="">   5  * Redistribution and use in source and binary forms, with or without modification,                      </span>
<span class="-5073197948967426970" onmouseenter="enter('-5073197948967426970');" onmouseout="out('-5073197948967426970');" style="">   6  * are permitted provided that the following conditions are met:                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="8127251449117563942" onmouseenter="enter('8127251449117563942');" onmouseout="out('8127251449117563942');" style="">   8  * 1. Redistributions of source code must retain the above copyright notice, this                        </span>
<span class="-1473911044945790828" onmouseenter="enter('-1473911044945790828');" onmouseout="out('-1473911044945790828');" style="">   9  *    list of conditions and the following disclaimer.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  10  *                                                                                                       </span>
<span class="4835137028529553232" onmouseenter="enter('4835137028529553232');" onmouseout="out('4835137028529553232');" style="">  11  * 2. Redistributions in binary form must reproduce the above copyright notice,                          </span>
<span class="-1312443230807442131" onmouseenter="enter('-1312443230807442131');" onmouseout="out('-1312443230807442131');" style="">  12  *    this list of conditions and the following disclaimer in the documentation                          </span>
<span class="-2067912076149043179" onmouseenter="enter('-2067912076149043179');" onmouseout="out('-2067912076149043179');" style="">  13  *    and/or other materials provided with the distribution.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  14  *                                                                                                       </span>
<span class="-7721941782677048447" onmouseenter="enter('-7721941782677048447');" onmouseout="out('-7721941782677048447');" style="">  15  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND                       </span>
<span class="-5124048439450882348" onmouseenter="enter('-5124048439450882348');" onmouseout="out('-5124048439450882348');" style="">  16  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED                         </span>
<span class="2277289959795125050" onmouseenter="enter('2277289959795125050');" onmouseout="out('2277289959795125050');" style="">  17  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.                    </span>
<span class="4422846307625339339" onmouseenter="enter('4422846307625339339');" onmouseout="out('4422846307625339339');" style="">  18  * IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,                       </span>
<span class="9023453646714579255" onmouseenter="enter('9023453646714579255');" onmouseout="out('9023453646714579255');" style="">  19  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                        </span>
<span class="2153827234735713132" onmouseenter="enter('2153827234735713132');" onmouseout="out('2153827234735713132');" style="">  20  * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,                         </span>
<span class="5782830561991082866" onmouseenter="enter('5782830561991082866');" onmouseout="out('5782830561991082866');" style="">  21  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF                       </span>
<span class="-2513683953102966204" onmouseenter="enter('-2513683953102966204');" onmouseout="out('-2513683953102966204');" style="">  22  * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE                       </span>
<span class="-6562574984275957691" onmouseenter="enter('-6562574984275957691');" onmouseout="out('-6562574984275957691');" style="">  23  * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF                             </span>
<span class="505998933154990042" onmouseenter="enter('505998933154990042');" onmouseout="out('505998933154990042');" style="">  24  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  25  */                                                                                                      </span>
<span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">  26 package com.evernote.android.job;                                                                        </span>
<span  style="">  27                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  28 import android.annotation.SuppressLint;                                                                  </span>
<span class="-5000705225306926876" onmouseenter="enter('-5000705225306926876');" onmouseout="out('-5000705225306926876');" style="">  29 import android.app.AlarmManager;                                                                         </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  30 import android.app.Application;                                                                          </span>
<span class="5270908961524689324" onmouseenter="enter('5270908961524689324');" onmouseout="out('5270908961524689324');" style="">  31 import android.app.job.JobScheduler;                                                                     </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  32 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  33 import android.content.Intent;                                                                           </span>
<span class="-9183914406029598577" onmouseenter="enter('-9183914406029598577');" onmouseout="out('-9183914406029598577');" style="">  34 import android.content.pm.ActivityInfo;                                                                  </span>
<span class="8582326229770324815" onmouseenter="enter('8582326229770324815');" onmouseout="out('8582326229770324815');" style="">  35 import android.content.pm.ResolveInfo;                                                                   </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="">  36 import android.support.annotation.NonNull;                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  37 import android.support.annotation.Nullable;                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  38 import android.text.TextUtils;                                                                           </span>
<span  style="">  39                                                                                                          </span>
<span class="-5245147800812157155" onmouseenter="enter('-5245147800812157155');" onmouseout="out('-5245147800812157155');" style="">  40 import com.evernote.android.job.util.JobCat;                                                             </span>
<span class="-826132384971399644" onmouseenter="enter('-826132384971399644');" onmouseout="out('-826132384971399644');" style="">  41 import com.evernote.android.job.util.JobPreconditions;                                                   </span>
<span class="2270421051523495577" onmouseenter="enter('2270421051523495577');" onmouseout="out('2270421051523495577');" style="">  42 import com.evernote.android.job.util.JobUtil;                                                            </span>
<span class="2610792870634489402" onmouseenter="enter('2610792870634489402');" onmouseout="out('2610792870634489402');" style="">  43 import com.google.android.gms.gcm.GcmNetworkManager;                                                     </span>
<span  style="">  44                                                                                                          </span>
<span class="4887698622156748971" onmouseenter="enter('4887698622156748971');" onmouseout="out('4887698622156748971');" style="">  45 import net.vrallev.android.cat.CatLog;                                                                   </span>
<span  style="">  46                                                                                                          </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  47 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  48 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  49 import java.util.Set;                                                                                    </span>
<span  style="">  50                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  51 /**                                                                                                      </span>
<span class="-3987124458399388632" onmouseenter="enter('-3987124458399388632');" onmouseout="out('-3987124458399388632');" style="">  52  * Entry point for scheduling jobs. Depending on the platform and SDK version it uses different APIs     </span>
<span class="-6457039888363773075" onmouseenter="enter('-6457039888363773075');" onmouseout="out('-6457039888363773075');" style="">  53  * to schedule jobs. The {@link JobScheduler} is preferred, if the OS is running Lollipop or above.      </span>
<span class="1317690140072514139" onmouseenter="enter('1317690140072514139');" onmouseout="out('1317690140072514139');" style="">  54  * Otherwise it uses the {@link AlarmManager} as fallback. It&#x27;s also possible to use the                 </span>
<span class="-333444572732918259" onmouseenter="enter('-333444572732918259');" onmouseout="out('-333444572732918259');" style="">  55  * {@link GcmNetworkManager}, if the manager can be found in your classpath, the Google Play Services    </span>
<span class="7456927466396325536" onmouseenter="enter('7456927466396325536');" onmouseout="out('7456927466396325536');" style="">  56  * are installed and the service was added in the manifest. Take a look at the                           </span>
<span class="-661926363358722632" onmouseenter="enter('-661926363358722632');" onmouseout="out('-661926363358722632');" style="">  57  * &lt;a href=&quot;https://github.com/evernote/android-job#using-the-gcmnetworkmanager&quot;&gt;README&lt;/a&gt; for more     </span>
<span class="5031988837793579218" onmouseenter="enter('5031988837793579218');" onmouseout="out('5031988837793579218');" style="">  58  * help.                                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  59  *                                                                                                       </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  60  * &lt;br&gt;                                                                                                  </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  61  * &lt;br&gt;                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  62  *                                                                                                       </span>
<span class="6647253766349486920" onmouseenter="enter('6647253766349486920');" onmouseout="out('6647253766349486920');" style="">  63  * Before you can use the {@code JobManager} you must call {@link #create(Context)} first and add a      </span>
<span class="620399288182599016" onmouseenter="enter('620399288182599016');" onmouseout="out('620399288182599016');" style="">  64  * {@link JobCreator} to map tags to your desired jobs with {@link #addJobCreator(JobCreator)}.          </span>
<span class="78491231019337072" onmouseenter="enter('78491231019337072');" onmouseout="out('78491231019337072');" style="">  65  * It&#x27;s recommended to do this in the {@link Application#onCreate()} method.                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  66  *                                                                                                       </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  67  * &lt;br&gt;                                                                                                  </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  68  * &lt;br&gt;                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  69  *                                                                                                       </span>
<span class="465581383228119772" onmouseenter="enter('465581383228119772');" onmouseout="out('465581383228119772');" style="">  70  * In order to schedule a job you must extend the {@link Job} class. A {@link Job} is a simple class     </span>
<span class="-5578672729222728640" onmouseenter="enter('-5578672729222728640');" onmouseout="out('-5578672729222728640');" style="">  71  * with one abstract method which is invoked on a background thread. Thus a {@link Job}                  </span>
<span class="-516129769413704155" onmouseenter="enter('-516129769413704155');" onmouseout="out('-516129769413704155');" style="">  72  * doesn&#x27;t need to be registered in the manifest. Create a {@link JobRequest} with the corresponding     </span>
<span class="-2509011543823050913" onmouseenter="enter('-2509011543823050913');" onmouseout="out('-2509011543823050913');" style=""><abbr title="  73  * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If you want">  73  * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If youðŸ”µ</abbr></span>
<span class="9025329384100691402" onmouseenter="enter('9025329384100691402');" onmouseout="out('9025329384100691402');" style="">  74  * to update a pending request, call {@link JobRequest#cancelAndEdit()} on the request, update your      </span>
<span class="4255783048529647648" onmouseenter="enter('4255783048529647648');" onmouseout="out('4255783048529647648');" style="">  75  * parameters and call {@link #schedule(JobRequest)} again.                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  76  *                                                                                                       </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  77  * @author rwondratschek                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  78  */                                                                                                      </span>
<span class="5961419711574156625" onmouseenter="enter('5961419711574156625');" onmouseout="out('5961419711574156625');" style="">  79 @SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;})                                                            </span>
<span class="7018978418900960228" onmouseenter="enter('7018978418900960228');" onmouseout="out('7018978418900960228');" style="">  80 public final class JobManager {                                                                          </span>
<span  style="">  81                                                                                                          </span>
<span class="3520531660951208009" onmouseenter="enter('3520531660951208009');" onmouseout="out('3520531660951208009');" style="">  82     private static final CatLog CAT = new JobCat(&quot;JobManager&quot;);                                          </span>
<span  style="">  83                                                                                                          </span>
<span class="-1763089954528142034" onmouseenter="enter('-1763089954528142034');" onmouseout="out('-1763089954528142034');" style="">  84     @SuppressLint(&quot;StaticFieldLeak&quot;)                                                                     </span>
<span class="2345214174664757365" onmouseenter="enter('2345214174664757365');" onmouseout="out('2345214174664757365');" style="">  85     private static volatile JobManager instance;                                                         </span>
<span  style="">  86                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  87     /**                                                                                                  </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style=""><abbr title="  88      * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.">  88      * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManagerðŸ”µ</abbr></span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style="">  89      * Calling it multiple times has not effect.                                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  90      *                                                                                                   </span>
<span class="-6445633007967545999" onmouseenter="enter('-6445633007967545999');" onmouseout="out('-6445633007967545999');" style="">  91      * @param context Any {@link Context} to instantiate the singleton object.                           </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style="">  92      * @return The new or existing singleton object.                                                     </span>
<span class="-616448082384168391" onmouseenter="enter('-616448082384168391');" onmouseout="out('-616448082384168391');" style="">  93      * @throws JobManagerCreateException When the singleton couldn&#x27;t be created.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  94      */                                                                                                  </span>
<span class="6511662216289603726" onmouseenter="enter('6511662216289603726');" onmouseout="out('6511662216289603726');" style="">  95     public static JobManager create(@NonNull Context context) throws JobManagerCreateException {         </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  96         if (instance == null) {                                                                          </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="">  97             synchronized (JobManager.class) {                                                            </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  98                 if (instance == null) {                                                                  </span>
<span class="6811984112992546303" onmouseenter="enter('6811984112992546303');" onmouseout="out('6811984112992546303');" style="">  99                     JobPreconditions.checkNotNull(context, &quot;Context cannot be null&quot;);                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="6972945546681644715" onmouseenter="enter('6972945546681644715');" onmouseout="out('6972945546681644715');" style=""> 101                     if (context.getApplicationContext() != null) {                                       </span>
<span class="-3696159196193513250" onmouseenter="enter('-3696159196193513250');" onmouseout="out('-3696159196193513250');" style=""> 102                         // could be null in unit tests                                                   </span>
<span class="-8552478027030399605" onmouseenter="enter('-8552478027030399605');" onmouseout="out('-8552478027030399605');" style=""> 103                         context = context.getApplicationContext();                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104                     }                                                                                    </span>
<span  style=""> 105                                                                                                          </span>
<span class="-2875947678795724016" onmouseenter="enter('-2875947678795724016');" onmouseout="out('-2875947678795724016');" style=""> 106                     JobApi api = JobApi.getDefault(context);                                             </span>
<span class="-3252581931104434476" onmouseenter="enter('-3252581931104434476');" onmouseout="out('-3252581931104434476');" style=""> 107                     if (api == JobApi.V_14 &amp;&amp; !api.isSupported(context)) {                               </span>
<span class="7115145726178678648" onmouseenter="enter('7115145726178678648');" onmouseout="out('7115145726178678648');" style=""><abbr title=" 108                         throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any job&quot;);"> 108                         throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any jðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109                     }                                                                                    </span>
<span  style=""> 110                                                                                                          </span>
<span class="-4290512093989891792" onmouseenter="enter('-4290512093989891792');" onmouseout="out('-4290512093989891792');" style=""> 111                     instance = new JobManager(context);                                                  </span>
<span  style=""> 112                                                                                                          </span>
<span class="-2622774818034006582" onmouseenter="enter('-2622774818034006582');" onmouseout="out('-2622774818034006582');" style=""> 113                     if (!JobUtil.hasWakeLockPermission(context)) {                                       </span>
<span class="-8010640264736587724" onmouseenter="enter('-8010640264736587724');" onmouseout="out('-8010640264736587724');" style=""> 114                         CAT.w(&quot;No wake lock permission&quot;);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115                     }                                                                                    </span>
<span class="-1257055076440049017" onmouseenter="enter('-1257055076440049017');" onmouseout="out('-1257055076440049017');" style=""> 116                     if (!JobUtil.hasBootPermission(context)) {                                           </span>
<span class="-3463849244164419256" onmouseenter="enter('-3463849244164419256');" onmouseout="out('-3463849244164419256');" style=""> 117                         CAT.w(&quot;No boot permission&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118                     }                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="-298879242901196544" onmouseenter="enter('-298879242901196544');" onmouseout="out('-298879242901196544');" style=""> 120                     sendAddJobCreatorIntent(context);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123         }                                                                                                </span>
<span  style=""> 124                                                                                                          </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 125         return instance;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126     }                                                                                                    </span>
<span  style=""> 127                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 128     /**                                                                                                  </span>
<span class="2059544594285879735" onmouseenter="enter('2059544594285879735');" onmouseout="out('2059544594285879735');" style=""> 129      * Ensure that you&#x27;ve called {@link #create(Context)} first. Otherwise this method                   </span>
<span class="6131845218035694611" onmouseenter="enter('6131845218035694611');" onmouseout="out('6131845218035694611');" style=""> 130      * throws an exception.                                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 131      *                                                                                                   </span>
<span class="8689695980946757454" onmouseenter="enter('8689695980946757454');" onmouseout="out('8689695980946757454');" style=""> 132      * @return The {@code JobManager} object.                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 133      */                                                                                                  </span>
<span class="-6227202692363172997" onmouseenter="enter('-6227202692363172997');" onmouseout="out('-6227202692363172997');" style=""> 134     public static JobManager instance() {                                                                </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 135         if (instance == null) {                                                                          </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 136             synchronized (JobManager.class) {                                                            </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 137                 if (instance == null) {                                                                  </span>
<span class="-8102219671165819564" onmouseenter="enter('-8102219671165819564');" onmouseout="out('-8102219671165819564');" style=""><abbr title=" 138                     throw new IllegalStateException(&quot;You need to call create() at least once to create the singleton&quot;);"> 138                     throw new IllegalStateException(&quot;You need to call create() at least once to create thðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141         }                                                                                                </span>
<span  style=""> 142                                                                                                          </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 143         return instance;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span  style=""> 145                                                                                                          </span>
<span class="-2672328117217234149" onmouseenter="enter('-2672328117217234149');" onmouseout="out('-2672328117217234149');" style=""> 146     private final Context mContext;                                                                      </span>
<span class="-2528343327594372849" onmouseenter="enter('-2528343327594372849');" onmouseout="out('-2528343327594372849');" style=""> 147     private final JobCreatorHolder mJobCreatorHolder;                                                    </span>
<span class="3615767272528460384" onmouseenter="enter('3615767272528460384');" onmouseout="out('3615767272528460384');" style=""> 148     private final JobStorage mJobStorage;                                                                </span>
<span class="-2137608278905565132" onmouseenter="enter('-2137608278905565132');" onmouseout="out('-2137608278905565132');" style=""> 149     private final JobExecutor mJobExecutor;                                                              </span>
<span  style=""> 150                                                                                                          </span>
<span class="4607746124464513021" onmouseenter="enter('4607746124464513021');" onmouseout="out('4607746124464513021');" style=""> 151     private JobManager(Context context) {                                                                </span>
<span class="7260904205784329196" onmouseenter="enter('7260904205784329196');" onmouseout="out('7260904205784329196');" style=""> 152         mContext = context;                                                                              </span>
<span class="-4640032511311469580" onmouseenter="enter('-4640032511311469580');" onmouseout="out('-4640032511311469580');" style=""> 153         mJobCreatorHolder = new JobCreatorHolder();                                                      </span>
<span class="-4152760520829533840" onmouseenter="enter('-4152760520829533840');" onmouseout="out('-4152760520829533840');" style=""> 154         mJobStorage = new JobStorage(context);                                                           </span>
<span class="-8808166604100851616" onmouseenter="enter('-8808166604100851616');" onmouseout="out('-8808166604100851616');" style=""> 155         mJobExecutor = new JobExecutor();                                                                </span>
<span  style=""> 156                                                                                                          </span>
<span class="4004759904447840137" onmouseenter="enter('4004759904447840137');" onmouseout="out('4004759904447840137');" style=""> 157         JobRescheduleService.startService(mContext);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158     }                                                                                                    </span>
<span  style=""> 159                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 160     /**                                                                                                  </span>
<span class="4679140648952926498" onmouseenter="enter('4679140648952926498');" onmouseout="out('4679140648952926498');" style=""> 161      * Schedule a request which will be executed in the future. If you want to update an existing        </span>
<span class="-6474852299073293749" onmouseenter="enter('-6474852299073293749');" onmouseout="out('-6474852299073293749');" style=""> 162      * {@link JobRequest}, call {@link JobRequest#cancelAndEdit()}, update your parameters and call      </span>
<span class="-6365815971422533220" onmouseenter="enter('-6365815971422533220');" onmouseout="out('-6365815971422533220');" style=""> 163      * this method again. Calling this method with the same request multiple times without cancelling    </span>
<span class="1286211055587698364" onmouseenter="enter('1286211055587698364');" onmouseout="out('1286211055587698364');" style=""> 164      * it is idempotent.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 165      *                                                                                                   </span>
<span class="-8259863996068047826" onmouseenter="enter('-8259863996068047826');" onmouseout="out('-8259863996068047826');" style=""> 166      * @param request The {@link JobRequest} which will run in the future.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 167      */                                                                                                  </span>
<span class="2776768223143191424" onmouseenter="enter('2776768223143191424');" onmouseout="out('2776768223143191424');" style=""> 168     public void schedule(@NonNull JobRequest request) {                                                  </span>
<span class="-7795555679296930499" onmouseenter="enter('-7795555679296930499');" onmouseout="out('-7795555679296930499');" style=""> 169         if (mJobCreatorHolder.isEmpty()) {                                                               </span>
<span class="4846992933241026765" onmouseenter="enter('4846992933241026765');" onmouseout="out('4846992933241026765');" style=""><abbr title=" 170             CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will be executed&quot;);"> 170             CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job neðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171         }                                                                                                </span>
<span  style=""> 172                                                                                                          </span>
<span class="4582221295713266952" onmouseenter="enter('4582221295713266952');" onmouseout="out('4582221295713266952');" style=""> 173         if (request.getScheduledAt() &gt; 0) {                                                              </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 174             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175         }                                                                                                </span>
<span  style=""> 176                                                                                                          </span>
<span class="-8632893038712403625" onmouseenter="enter('-8632893038712403625');" onmouseout="out('-8632893038712403625');" style=""> 177         if (request.isUpdateCurrent()) {                                                                 </span>
<span class="-9112990761468512458" onmouseenter="enter('-9112990761468512458');" onmouseout="out('-9112990761468512458');" style=""> 178             cancelAllForTag(request.getTag());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179         }                                                                                                </span>
<span  style=""> 180                                                                                                          </span>
<span class="-1056428182754675341" onmouseenter="enter('-1056428182754675341');" onmouseout="out('-1056428182754675341');" style=""> 181         JobProxy.Common.cleanUpOrphanedJob(mContext, request.getJobId());                                </span>
<span  style=""> 182                                                                                                          </span>
<span class="-5307853377216076341" onmouseenter="enter('-5307853377216076341');" onmouseout="out('-5307853377216076341');" style=""> 183         JobApi jobApi = request.getJobApi();                                                             </span>
<span class="-5710733141355361029" onmouseenter="enter('-5710733141355361029');" onmouseout="out('-5710733141355361029');" style=""> 184         boolean periodic = request.isPeriodic();                                                         </span>
<span class="2465709902581257276" onmouseenter="enter('2465709902581257276');" onmouseout="out('2465709902581257276');" style=""><abbr title=" 185         boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getIntervalMs();"> 185         boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getInteðŸ”µ</abbr></span>
<span  style=""> 186                                                                                                          </span>
<span class="5525198511073900031" onmouseenter="enter('5525198511073900031');" onmouseout="out('5525198511073900031');" style=""> 187         request.setScheduledAt(System.currentTimeMillis());                                              </span>
<span class="-2755250820141061807" onmouseenter="enter('-2755250820141061807');" onmouseout="out('-2755250820141061807');" style=""> 188         request.setFlexSupport(flexSupport);                                                             </span>
<span class="160746343038222394" onmouseenter="enter('160746343038222394');" onmouseout="out('160746343038222394');" style=""> 189         mJobStorage.put(request);                                                                        </span>
<span  style=""> 190                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 191         try {                                                                                            </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 192             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 193             return;                                                                                      </span>
<span class="-9018827707372380454" onmouseenter="enter('-9018827707372380454');" onmouseout="out('-9018827707372380454');" style=""> 194         } catch (JobProxyIllegalStateException e) {                                                      </span>
<span class="-6428914854727195541" onmouseenter="enter('-6428914854727195541');" onmouseout="out('-6428914854727195541');" style=""> 195             // try again below, the other cases stop                                                     </span>
<span  style=""> 196                                                                                                          </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 197         } catch (Exception e) {                                                                          </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 198             // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later     </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 199             mJobStorage.remove(request);                                                                 </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 200             throw e;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                 }                                                                                        </span>
<span  style=""> 202                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 203         try {                                                                                            </span>
<span class="-7578368306347675070" onmouseenter="enter('-7578368306347675070');" onmouseout="out('-7578368306347675070');" style=""> 204             // try to reload the proxy                                                                   </span>
<span class="-5086845168082246693" onmouseenter="enter('-5086845168082246693');" onmouseout="out('-5086845168082246693');" style=""> 205             jobApi.invalidateCachedProxy();                                                              </span>
<span  style=""> 206                                                                                                          </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 207             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 208             return;                                                                                      </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 209         } catch (Exception e) {                                                                          </span>
<span class="-1234430113803617617" onmouseenter="enter('-1234430113803617617');" onmouseout="out('-1234430113803617617');" style=""> 210             if (jobApi == JobApi.V_14 || jobApi == JobApi.V_19) {                                        </span>
<span class="-2235730211123031862" onmouseenter="enter('-2235730211123031862');" onmouseout="out('-2235730211123031862');" style=""> 211                 // at this stage we cannot do anything                                                   </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 212                 mJobStorage.remove(request);                                                             </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 213                 throw e;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 214             } else {                                                                                     </span>
<span class="-2742910027983126651" onmouseenter="enter('-2742910027983126651');" onmouseout="out('-2742910027983126651');" style=""><abbr title=" 215                 jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last time"> 215                 jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217         }                                                                                                </span>
<span  style=""> 218                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 219         try {                                                                                            </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 220             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 221         } catch (Exception e) {                                                                          </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 222             // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later     </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 223             mJobStorage.remove(request);                                                                 </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 224             throw e;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226     }                                                                                                    </span>
<span  style=""> 227                                                                                                          </span>
<span class="363014575014708523" onmouseenter="enter('363014575014708523');" onmouseout="out('363014575014708523');" style=""><abbr title=" 228     private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupport) {"> 228     private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupportðŸ”µ</abbr></span>
<span class="-5212932452371522440" onmouseenter="enter('-5212932452371522440');" onmouseout="out('-5212932452371522440');" style=""> 229         JobProxy proxy = getJobProxy(jobApi);                                                            </span>
<span class="7876141546147703421" onmouseenter="enter('7876141546147703421');" onmouseout="out('7876141546147703421');" style=""> 230         if (periodic) {                                                                                  </span>
<span class="-1055856358312839038" onmouseenter="enter('-1055856358312839038');" onmouseout="out('-1055856358312839038');" style=""> 231             if (flexSupport) {                                                                           </span>
<span class="-6103196782000436732" onmouseenter="enter('-6103196782000436732');" onmouseout="out('-6103196782000436732');" style=""> 232                 proxy.plantPeriodicFlexSupport(request);                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 233             } else {                                                                                     </span>
<span class="7433992315357383214" onmouseenter="enter('7433992315357383214');" onmouseout="out('7433992315357383214');" style=""> 234                 proxy.plantPeriodic(request);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 236         } else {                                                                                         </span>
<span class="-3061275110112395435" onmouseenter="enter('-3061275110112395435');" onmouseout="out('-3061275110112395435');" style=""> 237             proxy.plantOneOff(request);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 241     /**                                                                                                  </span>
<span class="3064960884120212514" onmouseenter="enter('3064960884120212514');" onmouseout="out('3064960884120212514');" style=""> 242      * @param jobId The unique ID of the pending {@link JobRequest}.                                     </span>
<span class="6469387229254162696" onmouseenter="enter('6469387229254162696');" onmouseout="out('6469387229254162696');" style=""> 243      * @return The {@link JobRequest} if it&#x27;s pending or {@code null} otherwise.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 244      */                                                                                                  </span>
<span class="4530850340944779402" onmouseenter="enter('4530850340944779402');" onmouseout="out('4530850340944779402');" style=""> 245     public JobRequest getJobRequest(int jobId) {                                                         </span>
<span class="-7252995828425525073" onmouseenter="enter('-7252995828425525073');" onmouseout="out('-7252995828425525073');" style=""> 246         JobRequest request = getJobRequest(jobId, false);                                                </span>
<span class="-8112354260220160123" onmouseenter="enter('-8112354260220160123');" onmouseout="out('-8112354260220160123');" style=""><abbr title=" 247         if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 247         if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatforðŸ”µ</abbr></span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 248             getJobStorage().remove(request);                                                             </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 249             return null;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 250         } else {                                                                                         </span>
<span class="-1057636993633179522" onmouseenter="enter('-1057636993633179522');" onmouseout="out('-1057636993633179522');" style=""> 251             return request;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253     }                                                                                                    </span>
<span  style=""> 254                                                                                                          </span>
<span class="-7845197049665414638" onmouseenter="enter('-7845197049665414638');" onmouseout="out('-7845197049665414638');" style=""> 255     /*package*/ JobRequest getJobRequest(int jobId, boolean includeStarted) {                            </span>
<span class="-5531317873884629325" onmouseenter="enter('-5531317873884629325');" onmouseout="out('-5531317873884629325');" style=""> 256         JobRequest jobRequest = mJobStorage.get(jobId);                                                  </span>
<span class="-6202240476544038016" onmouseenter="enter('-6202240476544038016');" onmouseout="out('-6202240476544038016');" style=""> 257         if (!includeStarted &amp;&amp; jobRequest != null &amp;&amp; jobRequest.isStarted()) {                           </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 258             return null;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 259         } else {                                                                                         </span>
<span class="1321635456186586623" onmouseenter="enter('1321635456186586623');" onmouseout="out('1321635456186586623');" style=""> 260             return jobRequest;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262     }                                                                                                    </span>
<span  style=""> 263                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 264     /**                                                                                                  </span>
<span class="-2795365204268997935" onmouseenter="enter('-2795365204268997935');" onmouseout="out('-2795365204268997935');" style=""> 265      * @return A duplicate {@link Set} containing all pending JobRequests or an empty set.               </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 266      * Never returns {@code null}. The set may be modified without direct effects to the actual          </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 267      * backing store.                                                                                    </span>
<span class="-6719692607126398741" onmouseenter="enter('-6719692607126398741');" onmouseout="out('-6719692607126398741');" style=""> 268      * @see #getJobRequest(int)                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 269      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 270     @NonNull                                                                                             </span>
<span class="-904804239476561306" onmouseenter="enter('-904804239476561306');" onmouseout="out('-904804239476561306');" style=""> 271     public Set&lt;JobRequest&gt; getAllJobRequests() {                                                         </span>
<span class="-4056537523809507073" onmouseenter="enter('-4056537523809507073');" onmouseout="out('-4056537523809507073');" style=""> 272         return getAllJobRequests(null, false, true);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273     }                                                                                                    </span>
<span  style=""> 274                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 275     /**                                                                                                  </span>
<span class="-150075778014394998" onmouseenter="enter('-150075778014394998');" onmouseout="out('-150075778014394998');" style=""> 276      * @param tag The tag of the pending requests.                                                       </span>
<span class="-9117837997679760057" onmouseenter="enter('-9117837997679760057');" onmouseout="out('-9117837997679760057');" style=""> 277      * @return A duplicate {@link Set} containing all pending JobRequests associated with this           </span>
<span class="-7265545497128514879" onmouseenter="enter('-7265545497128514879');" onmouseout="out('-7265545497128514879');" style=""> 278      * {@code tag} or an empty set. Never returns {@code null}. The set may be modified without          </span>
<span class="227177932876004689" onmouseenter="enter('227177932876004689');" onmouseout="out('227177932876004689');" style=""> 279      * direct effects to the actual backing store.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 280      */                                                                                                  </span>
<span class="7606149447514232888" onmouseenter="enter('7606149447514232888');" onmouseout="out('7606149447514232888');" style=""> 281     public Set&lt;JobRequest&gt; getAllJobRequestsForTag(@NonNull String tag) {                                </span>
<span class="-1680391097053339067" onmouseenter="enter('-1680391097053339067');" onmouseout="out('-1680391097053339067');" style=""> 282         return getAllJobRequests(tag, false, true);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283     }                                                                                                    </span>
<span  style=""> 284                                                                                                          </span>
<span class="6408193287731579769" onmouseenter="enter('6408193287731579769');" onmouseout="out('6408193287731579769');" style=""><abbr title=" 285     /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cleanUpTransient) {"> 285     /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cðŸ”µ</abbr></span>
<span class="-3391880267753682379" onmouseenter="enter('-3391880267753682379');" onmouseout="out('-3391880267753682379');" style=""> 286         Set&lt;JobRequest&gt; requests = mJobStorage.getAllJobRequests(tag, includeStarted);                   </span>
<span  style=""> 287                                                                                                          </span>
<span class="-8631483291416443164" onmouseenter="enter('-8631483291416443164');" onmouseout="out('-8631483291416443164');" style=""> 288         if (cleanUpTransient) {                                                                          </span>
<span class="-7058077327815782771" onmouseenter="enter('-7058077327815782771');" onmouseout="out('-7058077327815782771');" style=""> 289             Iterator&lt;JobRequest&gt; iterator = requests.iterator();                                         </span>
<span class="977968488612897428" onmouseenter="enter('977968488612897428');" onmouseout="out('977968488612897428');" style=""> 290             while (iterator.hasNext()) {                                                                 </span>
<span class="-4417243110705220216" onmouseenter="enter('-4417243110705220216');" onmouseout="out('-4417243110705220216');" style=""> 291                 JobRequest request = iterator.next();                                                    </span>
<span class="-6106673260388651439" onmouseenter="enter('-6106673260388651439');" onmouseout="out('-6106673260388651439');" style=""><abbr title=" 292                 if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 292                 if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobSchedulðŸ”µ</abbr></span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 293                     mJobStorage.remove(request);                                                         </span>
<span class="-6215380074365660212" onmouseenter="enter('-6215380074365660212');" onmouseout="out('-6215380074365660212');" style=""> 294                     iterator.remove();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span  style=""> 298                                                                                                          </span>
<span class="-5077199918271732388" onmouseenter="enter('-5077199918271732388');" onmouseout="out('-5077199918271732388');" style=""> 299         return requests;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300     }                                                                                                    </span>
<span  style=""> 301                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 302     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 303      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="7788897207505020184" onmouseenter="enter('7788897207505020184');" onmouseout="out('7788897207505020184');" style=""> 304      * restored after the app has launched.                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 305      *                                                                                                   </span>
<span class="-477643776901211056" onmouseenter="enter('-477643776901211056');" onmouseout="out('-477643776901211056');" style=""> 306      * @param jobId The unique ID of the running or finished {@link Job}.                                </span>
<span class="3270382225864694524" onmouseenter="enter('3270382225864694524');" onmouseout="out('3270382225864694524');" style=""> 307      * @return The {@link Job} if it&#x27;s running or has been finished and is still cached. Returns         </span>
<span class="-6075858023683971376" onmouseenter="enter('-6075858023683971376');" onmouseout="out('-6075858023683971376');" style=""> 308      * {@code null} otherwise.                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 309      */                                                                                                  </span>
<span class="-8891493209915902483" onmouseenter="enter('-8891493209915902483');" onmouseout="out('-8891493209915902483');" style=""> 310     public Job getJob(int jobId) {                                                                       </span>
<span class="-4499975465953320235" onmouseenter="enter('-4499975465953320235');" onmouseout="out('-4499975465953320235');" style=""> 311         return mJobExecutor.getJob(jobId);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312     }                                                                                                    </span>
<span  style=""> 313                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 314     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 315      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 316      * restored after the app has relaunched.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 317      *                                                                                                   </span>
<span class="6351768175198237647" onmouseenter="enter('6351768175198237647');" onmouseout="out('6351768175198237647');" style=""> 318      * @return A duplicate {@link Set} containing all running and cached finished jobs or an empty set.  </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 319      * Never returns {@code null}. The set may be modified without direct effects to the actual          </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 320      * backing store.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 321      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 322     @NonNull                                                                                             </span>
<span class="8418659341190675341" onmouseenter="enter('8418659341190675341');" onmouseout="out('8418659341190675341');" style=""> 323     public Set&lt;Job&gt; getAllJobs() {                                                                       </span>
<span class="-7361375259582502195" onmouseenter="enter('-7361375259582502195');" onmouseout="out('-7361375259582502195');" style=""> 324         return mJobExecutor.getAllJobs();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span  style=""> 326                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 327     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 328      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 329      * restored after the app has relaunched.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 330      *                                                                                                   </span>
<span class="2906193900356196417" onmouseenter="enter('2906193900356196417');" onmouseout="out('2906193900356196417');" style=""> 331      * @param tag The tag of the running or finished jobs.                                               </span>
<span class="8402316346887233918" onmouseenter="enter('8402316346887233918');" onmouseout="out('8402316346887233918');" style=""> 332      * @return A duplicate {@link Set} containing all running and cached finished jobs associated with   </span>
<span class="-1417987523275095960" onmouseenter="enter('-1417987523275095960');" onmouseout="out('-1417987523275095960');" style=""> 333      * this tag or an empty set. Never returns {@code null}. The set may be modified without direct      </span>
<span class="7642857653547301659" onmouseenter="enter('7642857653547301659');" onmouseout="out('7642857653547301659');" style=""> 334      * effects to the actual backing store.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 335      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 336     @NonNull                                                                                             </span>
<span class="-1926037323071405748" onmouseenter="enter('-1926037323071405748');" onmouseout="out('-1926037323071405748');" style=""> 337     public Set&lt;Job&gt; getAllJobsForTag(@NonNull String tag) {                                              </span>
<span class="-2996654579181227013" onmouseenter="enter('-2996654579181227013');" onmouseout="out('-2996654579181227013');" style=""> 338         return mJobExecutor.getAllJobsForTag(tag);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 341     /**                                                                                                  </span>
<span class="-6103119810253935707" onmouseenter="enter('-6103119810253935707');" onmouseout="out('-6103119810253935707');" style=""> 342      * Cancel either the pending {@link JobRequest} or the running {@link Job}.                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 343      *                                                                                                   </span>
<span class="3580206770342842161" onmouseenter="enter('3580206770342842161');" onmouseout="out('3580206770342842161');" style=""> 344      * @param jobId The unique ID of the {@link JobRequest} or running {@link Job}.                      </span>
<span class="-3440894550164723212" onmouseenter="enter('-3440894550164723212');" onmouseout="out('-3440894550164723212');" style=""> 345      * @return {@code true} if a request or job were found and canceled.                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 346      */                                                                                                  </span>
<span class="4673154767055309132" onmouseenter="enter('4673154767055309132');" onmouseout="out('4673154767055309132');" style=""> 347     public boolean cancel(int jobId) {                                                                   </span>
<span class="5725682512990717913" onmouseenter="enter('5725682512990717913');" onmouseout="out('5725682512990717913');" style=""> 348         // call both methods                                                                             </span>
<span class="-1940195083171434309" onmouseenter="enter('-1940195083171434309');" onmouseout="out('-1940195083171434309');" style=""> 349         boolean result = cancelInner(getJobRequest(jobId, true)) | cancelInner(getJob(jobId));           </span>
<span class="-3607491956005698732" onmouseenter="enter('-3607491956005698732');" onmouseout="out('-3607491956005698732');" style=""> 350         JobProxy.Common.cleanUpOrphanedJob(mContext, jobId); // do this as well, just in case            </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 351         return result;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span  style=""> 353                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 354     /**                                                                                                  </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 355      * Cancel all pending JobRequests and running jobs.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 356      *                                                                                                   </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 357      * @return The count of canceled requests and running jobs.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 358      */                                                                                                  </span>
<span class="8727086670966112864" onmouseenter="enter('8727086670966112864');" onmouseout="out('8727086670966112864');" style=""> 359     public int cancelAll() {                                                                             </span>
<span class="5548992301459760488" onmouseenter="enter('5548992301459760488');" onmouseout="out('5548992301459760488');" style=""> 360         return cancelAllInner(null);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361     }                                                                                                    </span>
<span  style=""> 362                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 363     /**                                                                                                  </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 364      * Cancel all pending JobRequests and running jobs.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 365      *                                                                                                   </span>
<span class="6528904863027268115" onmouseenter="enter('6528904863027268115');" onmouseout="out('6528904863027268115');" style=""> 366      * @param tag The tag of the pending job requests and running jobs.                                  </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 367      * @return The count of canceled requests and running jobs.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 368      */                                                                                                  </span>
<span class="5906534252688636933" onmouseenter="enter('5906534252688636933');" onmouseout="out('5906534252688636933');" style=""> 369     public int cancelAllForTag(@NonNull String tag) {                                                    </span>
<span class="-6560658895372623261" onmouseenter="enter('-6560658895372623261');" onmouseout="out('-6560658895372623261');" style=""> 370         return cancelAllInner(tag);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371     }                                                                                                    </span>
<span  style=""> 372                                                                                                          </span>
<span class="7928609490831193515" onmouseenter="enter('7928609490831193515');" onmouseout="out('7928609490831193515');" style=""> 373     private boolean cancelInner(@Nullable JobRequest request) {                                          </span>
<span class="-5752363771942989481" onmouseenter="enter('-5752363771942989481');" onmouseout="out('-5752363771942989481');" style=""> 374         if (request != null) {                                                                           </span>
<span class="-1957380641916611906" onmouseenter="enter('-1957380641916611906');" onmouseout="out('-1957380641916611906');" style=""> 375             CAT.i(&quot;Found pending job %s, canceling&quot;, request);                                           </span>
<span class="-3145854089324021214" onmouseenter="enter('-3145854089324021214');" onmouseout="out('-3145854089324021214');" style=""> 376             getJobProxy(request.getJobApi()).cancel(request.getJobId());                                 </span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 377             getJobStorage().remove(request);                                                             </span>
<span class="2741448270392278661" onmouseenter="enter('2741448270392278661');" onmouseout="out('2741448270392278661');" style=""> 378             request.setScheduledAt(0); // reset value                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 379             return true;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 380         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 381             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383     }                                                                                                    </span>
<span  style=""> 384                                                                                                          </span>
<span class="-2812357644034813946" onmouseenter="enter('-2812357644034813946');" onmouseout="out('-2812357644034813946');" style=""> 385     private boolean cancelInner(@Nullable Job job) {                                                     </span>
<span class="-5589369764618585430" onmouseenter="enter('-5589369764618585430');" onmouseout="out('-5589369764618585430');" style=""> 386         if (job != null &amp;&amp; !job.isFinished() &amp;&amp; !job.isCanceled()) {                                     </span>
<span class="-8982583685600169823" onmouseenter="enter('-8982583685600169823');" onmouseout="out('-8982583685600169823');" style=""> 387             CAT.i(&quot;Cancel running %s&quot;, job);                                                             </span>
<span class="4461932157820875057" onmouseenter="enter('4461932157820875057');" onmouseout="out('4461932157820875057');" style=""> 388             job.cancel(true);                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 389             return true;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 390         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 391             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393     }                                                                                                    </span>
<span  style=""> 394                                                                                                          </span>
<span class="7007551180782804914" onmouseenter="enter('7007551180782804914');" onmouseout="out('7007551180782804914');" style=""> 395     private synchronized int cancelAllInner(@Nullable String tag) {                                      </span>
<span class="5445881552498440941" onmouseenter="enter('5445881552498440941');" onmouseout="out('5445881552498440941');" style=""> 396         int canceled = 0;                                                                                </span>
<span  style=""> 397                                                                                                          </span>
<span class="3905651976412403334" onmouseenter="enter('3905651976412403334');" onmouseout="out('3905651976412403334');" style=""> 398         Set&lt;JobRequest&gt; requests = getAllJobRequests(tag, true, false);                                  </span>
<span class="9124327587248213004" onmouseenter="enter('9124327587248213004');" onmouseout="out('9124327587248213004');" style=""> 399         for (JobRequest request : requests) {                                                            </span>
<span class="46316550467126677" onmouseenter="enter('46316550467126677');" onmouseout="out('46316550467126677');" style=""> 400             if (cancelInner(request)) {                                                                  </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 401                 canceled++;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403         }                                                                                                </span>
<span  style=""> 404                                                                                                          </span>
<span class="-155981268798468651" onmouseenter="enter('-155981268798468651');" onmouseout="out('-155981268798468651');" style=""> 405         //noinspection ConstantConditions                                                                </span>
<span class="-6218879424337666353" onmouseenter="enter('-6218879424337666353');" onmouseout="out('-6218879424337666353');" style=""> 406         Set&lt;Job&gt; jobs = TextUtils.isEmpty(tag) ? getAllJobs() : getAllJobsForTag(tag);                   </span>
<span class="977767777964782313" onmouseenter="enter('977767777964782313');" onmouseout="out('977767777964782313');" style=""> 407         for (Job job : jobs) {                                                                           </span>
<span class="-2976205724987486146" onmouseenter="enter('-2976205724987486146');" onmouseout="out('-2976205724987486146');" style=""> 408             if (cancelInner(job)) {                                                                      </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 409                 canceled++;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411         }                                                                                                </span>
<span class="-2118177486513212743" onmouseenter="enter('-2118177486513212743');" onmouseout="out('-2118177486513212743');" style=""> 412         return canceled;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413     }                                                                                                    </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 414 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 415 ||||||| BASE                                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 416                                                                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 417                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 418         /**                                                                                              </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 419          * Global switch to enable or disable logging.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 420          *                                                                                               </span>
<span class="2326612315460832419" onmouseenter="enter('2326612315460832419');" onmouseout="out('2326612315460832419');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 421          * @param verbose Whether or not to print all log messages. The default value is {@code true}.   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 422          */                                                                                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 423                                                                                                          </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 424 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 425                                                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 426                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 427     /**                                                                                                  </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 428      * Global switch to enable or disable logging.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 429      *                                                                                                   </span>
<span class="4771316842434194261" onmouseenter="enter('4771316842434194261');" onmouseout="out('4771316842434194261');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 430      * @param verbose Whether or not to print log messages.                                              </span>
<span class="6912080662004435371" onmouseenter="enter('6912080662004435371');" onmouseout="out('6912080662004435371');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 431      * @deprecated Use {@link Config#setVerbose(boolean)} instead.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 432      */                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 433                                                                                                          </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 434 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 435 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 436 ||||||| BASE                                                                                             </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 437 public void setVerbose(boolean verbose) {                                                                </span>
<span class="6809609309523734693" onmouseenter="enter('6809609309523734693');" onmouseout="out('6809609309523734693');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 438             JobCat.setLogcatEnabled(verbose);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 439         }                                                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 440 =======                                                                                                  </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 441 @Deprecated                                                                                              </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 442     public void setVerbose(boolean verbose) {                                                            </span>
<span class="-1748325686137947820" onmouseenter="enter('-1748325686137947820');" onmouseout="out('-1748325686137947820');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 443         mConfig.setVerbose(verbose);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 444     }                                                                                                    </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 445 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 446                                                                                                          </span>
<span  style=""> 447                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 448     /**                                                                                                  </span>
<span class="6798512724525576867" onmouseenter="enter('6798512724525576867');" onmouseout="out('6798512724525576867');" style=""> 449      * Registers this instance to create jobs for a specific tag. It&#x27;s possible to have multiple         </span>
<span class="-8744317698350024298" onmouseenter="enter('-8744317698350024298');" onmouseout="out('-8744317698350024298');" style=""> 450      * {@link JobCreator}s with a first come first serve order.                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 451      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 452      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 453      */                                                                                                  </span>
<span class="-2491458967670828165" onmouseenter="enter('-2491458967670828165');" onmouseout="out('-2491458967670828165');" style=""> 454     public void addJobCreator(JobCreator jobCreator) {                                                   </span>
<span class="4475667171028624254" onmouseenter="enter('4475667171028624254');" onmouseout="out('4475667171028624254');" style=""> 455         mJobCreatorHolder.addJobCreator(jobCreator);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456     }                                                                                                    </span>
<span  style=""> 457                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 458     /**                                                                                                  </span>
<span class="-4564346032900638715" onmouseenter="enter('-4564346032900638715');" onmouseout="out('-4564346032900638715');" style=""> 459      * Remove the mapping to stop it from creating new jobs.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 460      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 461      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 462      */                                                                                                  </span>
<span class="-6484177490967554570" onmouseenter="enter('-6484177490967554570');" onmouseout="out('-6484177490967554570');" style=""> 463     public void removeJobCreator(JobCreator jobCreator) {                                                </span>
<span class="-539536155610817324" onmouseenter="enter('-539536155610817324');" onmouseout="out('-539536155610817324');" style=""> 464         mJobCreatorHolder.removeJobCreator(jobCreator);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465     }                                                                                                    </span>
<span  style=""> 466                                                                                                          </span>
<span class="-9025857433666575285" onmouseenter="enter('-9025857433666575285');" onmouseout="out('-9025857433666575285');" style=""> 467     /*package*/ JobStorage getJobStorage() {                                                             </span>
<span class="7567809637669260331" onmouseenter="enter('7567809637669260331');" onmouseout="out('7567809637669260331');" style=""> 468         return mJobStorage;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469     }                                                                                                    </span>
<span  style=""> 470                                                                                                          </span>
<span class="7576466200489518989" onmouseenter="enter('7576466200489518989');" onmouseout="out('7576466200489518989');" style=""> 471     /*package*/ JobExecutor getJobExecutor() {                                                           </span>
<span class="-1765880259966525073" onmouseenter="enter('-1765880259966525073');" onmouseout="out('-1765880259966525073');" style=""> 472         return mJobExecutor;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 473     }                                                                                                    </span>
<span  style=""> 474                                                                                                          </span>
<span class="6727805992909117493" onmouseenter="enter('6727805992909117493');" onmouseout="out('6727805992909117493');" style=""> 475     /*package*/ JobCreatorHolder getJobCreatorHolder() {                                                 </span>
<span class="-3612182450615984670" onmouseenter="enter('-3612182450615984670');" onmouseout="out('-3612182450615984670');" style=""> 476         return mJobCreatorHolder;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 477     }                                                                                                    </span>
<span  style=""> 478                                                                                                          </span>
<span class="6908334764837028449" onmouseenter="enter('6908334764837028449');" onmouseout="out('6908334764837028449');" style=""> 479     /*package*/ Context getContext() {                                                                   </span>
<span class="5958236384696658256" onmouseenter="enter('5958236384696658256');" onmouseout="out('5958236384696658256');" style=""> 480         return mContext;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="4070471043727310040" onmouseenter="enter('4070471043727310040');" onmouseout="out('4070471043727310040');" style=""> 483     /*package*/ void destroy() {                                                                         </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 484         synchronized (JobManager.class) {                                                                </span>
<span class="4675221880685402786" onmouseenter="enter('4675221880685402786');" onmouseout="out('4675221880685402786');" style=""> 485             instance = null;                                                                             </span>
<span class="-4915935391363161906" onmouseenter="enter('-4915935391363161906');" onmouseout="out('-4915935391363161906');" style=""> 486             for (JobApi api : JobApi.values()) {                                                         </span>
<span class="1605566681993962517" onmouseenter="enter('1605566681993962517');" onmouseout="out('1605566681993962517');" style=""> 487                 api.invalidateCachedProxy();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490     }                                                                                                    </span>
<span  style=""> 491                                                                                                          </span>
<span class="-2942343485984948817" onmouseenter="enter('-2942343485984948817');" onmouseout="out('-2942343485984948817');" style=""> 492     /*package*/                                                                                          </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 493 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 494 private JobProxy getJobProxy(JobApi api) {                                                               </span>
<span class="-5205823727772511113" onmouseenter="enter('-5205823727772511113');" onmouseout="out('-5205823727772511113');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 495         return api.getProxy(mContext);                                                                   </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 496 ||||||| BASE                                                                                             </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 497 private JobProxy getJobProxy(JobApi api) {                                                               </span>
<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 498         return api.getCachedProxy(mContext);                                                             </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 499 =======                                                                                                  </span>
<span class="-3250886083703383726" onmouseenter="enter('-3250886083703383726');" onmouseout="out('-3250886083703383726');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 500 JobProxy getJobProxy(JobApi api) {                                                                       </span>
<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 501         return api.getCachedProxy(mContext);                                                             </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 502 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503     }                                                                                                    </span>
<span  style=""> 504                                                                                                          </span>
<span class="198676935402196211" onmouseenter="enter('198676935402196211');" onmouseout="out('198676935402196211');" style=""> 505     private static void sendAddJobCreatorIntent(@NonNull Context context) {                              </span>
<span class="-5610909263414778784" onmouseenter="enter('-5610909263414778784');" onmouseout="out('-5610909263414778784');" style=""> 506         Intent intent = new Intent(JobCreator.ACTION_ADD_JOB_CREATOR);                                   </span>
<span class="1726009622345607958" onmouseenter="enter('1726009622345607958');" onmouseout="out('1726009622345607958');" style=""> 507         List&lt;ResolveInfo&gt; resolveInfos = context.getPackageManager().queryBroadcastReceivers(intent, 0); </span>
<span class="1528436296094400725" onmouseenter="enter('1528436296094400725');" onmouseout="out('1528436296094400725');" style=""> 508         String myPackage = context.getPackageName();                                                     </span>
<span  style=""> 509                                                                                                          </span>
<span class="-3902911217867890027" onmouseenter="enter('-3902911217867890027');" onmouseout="out('-3902911217867890027');" style=""> 510         for (ResolveInfo resolveInfo : resolveInfos) {                                                   </span>
<span class="5367414755120464835" onmouseenter="enter('5367414755120464835');" onmouseout="out('5367414755120464835');" style=""> 511             ActivityInfo activityInfo = resolveInfo.activityInfo;                                        </span>
<span class="3799375487777701963" onmouseenter="enter('3799375487777701963');" onmouseout="out('3799375487777701963');" style=""><abbr title=" 512             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageName)"> 512             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageNaðŸ”µ</abbr></span>
<span class="1474928284409433713" onmouseenter="enter('1474928284409433713');" onmouseout="out('1474928284409433713');" style=""> 513                     || TextUtils.isEmpty(activityInfo.name)) {                                           </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 514                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515             }                                                                                            </span>
<span  style=""> 516                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 517             try {                                                                                        </span>
<span class="-3119421487431756924" onmouseenter="enter('-3119421487431756924');" onmouseout="out('-3119421487431756924');" style=""> 518                 JobCreator.AddJobCreatorReceiver receiver =                                              </span>
<span class="462433870860114552" onmouseenter="enter('462433870860114552');" onmouseout="out('462433870860114552');" style=""><abbr title=" 519                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance();"> 519                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance()ðŸ”µ</abbr></span>
<span  style=""> 520                                                                                                          </span>
<span class="2828831418149522046" onmouseenter="enter('2828831418149522046');" onmouseout="out('2828831418149522046');" style=""> 521                 receiver.addJobCreator(context, instance);                                               </span>
<span class="8538742657781196138" onmouseenter="enter('8538742657781196138');" onmouseout="out('8538742657781196138');" style=""> 522             } catch (Exception ignored) {                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 524         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 525     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 526 }                                                                                                        </span>











































































































































































































































</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-8822900351790619766" onmouseenter="enter('-8822900351790619766');" onmouseout="out('-8822900351790619766');" style="">   2  * Copyright 2007-present Evernote Corporation.                                                          </span>
<span class="-2278367542838177584" onmouseenter="enter('-2278367542838177584');" onmouseout="out('-2278367542838177584');" style="">   3  * All rights reserved.                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   4  *                                                                                                       </span>
<span class="181301442133285836" onmouseenter="enter('181301442133285836');" onmouseout="out('181301442133285836');" style="">   5  * Redistribution and use in source and binary forms, with or without modification,                      </span>
<span class="-5073197948967426970" onmouseenter="enter('-5073197948967426970');" onmouseout="out('-5073197948967426970');" style="">   6  * are permitted provided that the following conditions are met:                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="8127251449117563942" onmouseenter="enter('8127251449117563942');" onmouseout="out('8127251449117563942');" style="">   8  * 1. Redistributions of source code must retain the above copyright notice, this                        </span>
<span class="-1473911044945790828" onmouseenter="enter('-1473911044945790828');" onmouseout="out('-1473911044945790828');" style="">   9  *    list of conditions and the following disclaimer.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  10  *                                                                                                       </span>
<span class="4835137028529553232" onmouseenter="enter('4835137028529553232');" onmouseout="out('4835137028529553232');" style="">  11  * 2. Redistributions in binary form must reproduce the above copyright notice,                          </span>
<span class="-1312443230807442131" onmouseenter="enter('-1312443230807442131');" onmouseout="out('-1312443230807442131');" style="">  12  *    this list of conditions and the following disclaimer in the documentation                          </span>
<span class="-2067912076149043179" onmouseenter="enter('-2067912076149043179');" onmouseout="out('-2067912076149043179');" style="">  13  *    and/or other materials provided with the distribution.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  14  *                                                                                                       </span>
<span class="-7721941782677048447" onmouseenter="enter('-7721941782677048447');" onmouseout="out('-7721941782677048447');" style="">  15  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND                       </span>
<span class="-5124048439450882348" onmouseenter="enter('-5124048439450882348');" onmouseout="out('-5124048439450882348');" style="">  16  * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED                         </span>
<span class="2277289959795125050" onmouseenter="enter('2277289959795125050');" onmouseout="out('2277289959795125050');" style="">  17  * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.                    </span>
<span class="4422846307625339339" onmouseenter="enter('4422846307625339339');" onmouseout="out('4422846307625339339');" style="">  18  * IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,                       </span>
<span class="9023453646714579255" onmouseenter="enter('9023453646714579255');" onmouseout="out('9023453646714579255');" style="">  19  * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                        </span>
<span class="2153827234735713132" onmouseenter="enter('2153827234735713132');" onmouseout="out('2153827234735713132');" style="">  20  * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,                         </span>
<span class="5782830561991082866" onmouseenter="enter('5782830561991082866');" onmouseout="out('5782830561991082866');" style="">  21  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF                       </span>
<span class="-2513683953102966204" onmouseenter="enter('-2513683953102966204');" onmouseout="out('-2513683953102966204');" style="">  22  * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE                       </span>
<span class="-6562574984275957691" onmouseenter="enter('-6562574984275957691');" onmouseout="out('-6562574984275957691');" style="">  23  * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF                             </span>
<span class="505998933154990042" onmouseenter="enter('505998933154990042');" onmouseout="out('505998933154990042');" style="">  24  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  25  */                                                                                                      </span>
<span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">  26 package com.evernote.android.job;                                                                        </span>
<span  style="">  27                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  28 import android.annotation.SuppressLint;                                                                  </span>
<span class="-5000705225306926876" onmouseenter="enter('-5000705225306926876');" onmouseout="out('-5000705225306926876');" style="">  29 import android.app.AlarmManager;                                                                         </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  30 import android.app.Application;                                                                          </span>
<span class="5270908961524689324" onmouseenter="enter('5270908961524689324');" onmouseout="out('5270908961524689324');" style="">  31 import android.app.job.JobScheduler;                                                                     </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  32 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  33 import android.content.Intent;                                                                           </span>
<span class="-9183914406029598577" onmouseenter="enter('-9183914406029598577');" onmouseout="out('-9183914406029598577');" style="">  34 import android.content.pm.ActivityInfo;                                                                  </span>
<span class="8582326229770324815" onmouseenter="enter('8582326229770324815');" onmouseout="out('8582326229770324815');" style="">  35 import android.content.pm.ResolveInfo;                                                                   </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="">  36 import android.support.annotation.NonNull;                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  37 import android.support.annotation.Nullable;                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  38 import android.text.TextUtils;                                                                           </span>
<span class="-5245147800812157155" onmouseenter="enter('-5245147800812157155');" onmouseout="out('-5245147800812157155');" style="">  39 import com.evernote.android.job.util.JobCat;                                                             </span>
<span class="-826132384971399644" onmouseenter="enter('-826132384971399644');" onmouseout="out('-826132384971399644');" style="">  40 import com.evernote.android.job.util.JobPreconditions;                                                   </span>
<span class="2270421051523495577" onmouseenter="enter('2270421051523495577');" onmouseout="out('2270421051523495577');" style="">  41 import com.evernote.android.job.util.JobUtil;                                                            </span>
<span class="2610792870634489402" onmouseenter="enter('2610792870634489402');" onmouseout="out('2610792870634489402');" style="">  42 import com.google.android.gms.gcm.GcmNetworkManager;                                                     </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  43 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  44 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  45 import java.util.Set;                                                                                    </span>
<span class="4887698622156748971" onmouseenter="enter('4887698622156748971');" onmouseout="out('4887698622156748971');" style="">  46 import net.vrallev.android.cat.CatLog;                                                                   </span>
<span  style="">  47                                                                                                          </span>
<span  style="">  48                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  49 /**                                                                                                      </span>
<span class="-3987124458399388632" onmouseenter="enter('-3987124458399388632');" onmouseout="out('-3987124458399388632');" style="">  50  * Entry point for scheduling jobs. Depending on the platform and SDK version it uses different APIs     </span>
<span class="-6457039888363773075" onmouseenter="enter('-6457039888363773075');" onmouseout="out('-6457039888363773075');" style="">  51  * to schedule jobs. The {@link JobScheduler} is preferred, if the OS is running Lollipop or above.      </span>
<span class="1317690140072514139" onmouseenter="enter('1317690140072514139');" onmouseout="out('1317690140072514139');" style="">  52  * Otherwise it uses the {@link AlarmManager} as fallback. It&#x27;s also possible to use the                 </span>
<span class="-333444572732918259" onmouseenter="enter('-333444572732918259');" onmouseout="out('-333444572732918259');" style="">  53  * {@link GcmNetworkManager}, if the manager can be found in your classpath, the Google Play Services    </span>
<span class="7456927466396325536" onmouseenter="enter('7456927466396325536');" onmouseout="out('7456927466396325536');" style="">  54  * are installed and the service was added in the manifest. Take a look at the                           </span>
<span class="-661926363358722632" onmouseenter="enter('-661926363358722632');" onmouseout="out('-661926363358722632');" style="">  55  * &lt;a href=&quot;https://github.com/evernote/android-job#using-the-gcmnetworkmanager&quot;&gt;README&lt;/a&gt; for more     </span>
<span class="5031988837793579218" onmouseenter="enter('5031988837793579218');" onmouseout="out('5031988837793579218');" style="">  56  * help.                                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  57  *                                                                                                       </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  58  * &lt;br&gt;                                                                                                  </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  59  * &lt;br&gt;                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  60  *                                                                                                       </span>
<span class="6647253766349486920" onmouseenter="enter('6647253766349486920');" onmouseout="out('6647253766349486920');" style="">  61  * Before you can use the {@code JobManager} you must call {@link #create(Context)} first and add a      </span>
<span class="620399288182599016" onmouseenter="enter('620399288182599016');" onmouseout="out('620399288182599016');" style="">  62  * {@link JobCreator} to map tags to your desired jobs with {@link #addJobCreator(JobCreator)}.          </span>
<span class="78491231019337072" onmouseenter="enter('78491231019337072');" onmouseout="out('78491231019337072');" style="">  63  * It&#x27;s recommended to do this in the {@link Application#onCreate()} method.                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  64  *                                                                                                       </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  65  * &lt;br&gt;                                                                                                  </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  66  * &lt;br&gt;                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  67  *                                                                                                       </span>
<span class="465581383228119772" onmouseenter="enter('465581383228119772');" onmouseout="out('465581383228119772');" style="">  68  * In order to schedule a job you must extend the {@link Job} class. A {@link Job} is a simple class     </span>
<span class="-5578672729222728640" onmouseenter="enter('-5578672729222728640');" onmouseout="out('-5578672729222728640');" style="">  69  * with one abstract method which is invoked on a background thread. Thus a {@link Job}                  </span>
<span class="-516129769413704155" onmouseenter="enter('-516129769413704155');" onmouseout="out('-516129769413704155');" style="">  70  * doesn&#x27;t need to be registered in the manifest. Create a {@link JobRequest} with the corresponding     </span>
<span class="-2509011543823050913" onmouseenter="enter('-2509011543823050913');" onmouseout="out('-2509011543823050913');" style=""><abbr title="  71  * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If you want">  71  * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If youðŸ”µ</abbr></span>
<span class="9025329384100691402" onmouseenter="enter('9025329384100691402');" onmouseout="out('9025329384100691402');" style="">  72  * to update a pending request, call {@link JobRequest#cancelAndEdit()} on the request, update your      </span>
<span class="4255783048529647648" onmouseenter="enter('4255783048529647648');" onmouseout="out('4255783048529647648');" style="">  73  * parameters and call {@link #schedule(JobRequest)} again.                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  74  *                                                                                                       </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  75  * @author rwondratschek                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  76  */                                                                                                      </span>
<span class="5961419711574156625" onmouseenter="enter('5961419711574156625');" onmouseout="out('5961419711574156625');" style="">  77 @SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;})                                                            </span>
<span class="7018978418900960228" onmouseenter="enter('7018978418900960228');" onmouseout="out('7018978418900960228');" style="">  78 public final class JobManager {                                                                          </span>
<span  style="">  79                                                                                                          </span>
<span class="3520531660951208009" onmouseenter="enter('3520531660951208009');" onmouseout="out('3520531660951208009');" style="">  80     private static final CatLog CAT = new JobCat(&quot;JobManager&quot;);                                          </span>
<span  style="">  81                                                                                                          </span>
<span class="-1763089954528142034" onmouseenter="enter('-1763089954528142034');" onmouseout="out('-1763089954528142034');" style="">  82     @SuppressLint(&quot;StaticFieldLeak&quot;)                                                                     </span>
<span class="2345214174664757365" onmouseenter="enter('2345214174664757365');" onmouseout="out('2345214174664757365');" style="">  83     private static volatile JobManager instance;                                                         </span>
<span  style="">  84                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  85     /**                                                                                                  </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style=""><abbr title="  86      * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.">  86      * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManagerðŸ”µ</abbr></span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style="">  87      * Calling it multiple times has not effect.                                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  88      *                                                                                                   </span>
<span class="-6445633007967545999" onmouseenter="enter('-6445633007967545999');" onmouseout="out('-6445633007967545999');" style="">  89      * @param context Any {@link Context} to instantiate the singleton object.                           </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style="">  90      * @return The new or existing singleton object.                                                     </span>
<span class="-616448082384168391" onmouseenter="enter('-616448082384168391');" onmouseout="out('-616448082384168391');" style="">  91      * @throws JobManagerCreateException When the singleton couldn&#x27;t be created.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  92      */                                                                                                  </span>
<span class="6511662216289603726" onmouseenter="enter('6511662216289603726');" onmouseout="out('6511662216289603726');" style="">  93     public static JobManager create(@NonNull Context context) throws JobManagerCreateException {         </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  94         if (instance == null) {                                                                          </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="">  95             synchronized (JobManager.class) {                                                            </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  96                 if (instance == null) {                                                                  </span>
<span class="6811984112992546303" onmouseenter="enter('6811984112992546303');" onmouseout="out('6811984112992546303');" style="">  97                     JobPreconditions.checkNotNull(context, &quot;Context cannot be null&quot;);                    </span>
<span  style="">  98                                                                                                          </span>
<span class="6972945546681644715" onmouseenter="enter('6972945546681644715');" onmouseout="out('6972945546681644715');" style="">  99                     if (context.getApplicationContext() != null) {                                       </span>
<span class="-3696159196193513250" onmouseenter="enter('-3696159196193513250');" onmouseout="out('-3696159196193513250');" style=""> 100                         // could be null in unit tests                                                   </span>
<span class="-8552478027030399605" onmouseenter="enter('-8552478027030399605');" onmouseout="out('-8552478027030399605');" style=""> 101                         context = context.getApplicationContext();                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102                     }                                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="-2875947678795724016" onmouseenter="enter('-2875947678795724016');" onmouseout="out('-2875947678795724016');" style=""> 104                     JobApi api = JobApi.getDefault(context);                                             </span>
<span class="-3252581931104434476" onmouseenter="enter('-3252581931104434476');" onmouseout="out('-3252581931104434476');" style=""> 105                     if (api == JobApi.V_14 &amp;&amp; !api.isSupported(context)) {                               </span>
<span class="7115145726178678648" onmouseenter="enter('7115145726178678648');" onmouseout="out('7115145726178678648');" style=""><abbr title=" 106                         throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any job&quot;);"> 106                         throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any jðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107                     }                                                                                    </span>
<span  style=""> 108                                                                                                          </span>
<span class="-4290512093989891792" onmouseenter="enter('-4290512093989891792');" onmouseout="out('-4290512093989891792');" style=""> 109                     instance = new JobManager(context);                                                  </span>
<span  style=""> 110                                                                                                          </span>
<span class="-2622774818034006582" onmouseenter="enter('-2622774818034006582');" onmouseout="out('-2622774818034006582');" style=""> 111                     if (!JobUtil.hasWakeLockPermission(context)) {                                       </span>
<span class="-8010640264736587724" onmouseenter="enter('-8010640264736587724');" onmouseout="out('-8010640264736587724');" style=""> 112                         CAT.w(&quot;No wake lock permission&quot;);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113                     }                                                                                    </span>
<span class="-1257055076440049017" onmouseenter="enter('-1257055076440049017');" onmouseout="out('-1257055076440049017');" style=""> 114                     if (!JobUtil.hasBootPermission(context)) {                                           </span>
<span class="-3463849244164419256" onmouseenter="enter('-3463849244164419256');" onmouseout="out('-3463849244164419256');" style=""> 115                         CAT.w(&quot;No boot permission&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116                     }                                                                                    </span>
<span  style=""> 117                                                                                                          </span>
<span class="-298879242901196544" onmouseenter="enter('-298879242901196544');" onmouseout="out('-298879242901196544');" style=""> 118                     sendAddJobCreatorIntent(context);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121         }                                                                                                </span>
<span  style=""> 122                                                                                                          </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 123         return instance;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124     }                                                                                                    </span>
<span  style=""> 125                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 126     /**                                                                                                  </span>
<span class="2059544594285879735" onmouseenter="enter('2059544594285879735');" onmouseout="out('2059544594285879735');" style=""> 127      * Ensure that you&#x27;ve called {@link #create(Context)} first. Otherwise this method                   </span>
<span class="6131845218035694611" onmouseenter="enter('6131845218035694611');" onmouseout="out('6131845218035694611');" style=""> 128      * throws an exception.                                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 129      *                                                                                                   </span>
<span class="8689695980946757454" onmouseenter="enter('8689695980946757454');" onmouseout="out('8689695980946757454');" style=""> 130      * @return The {@code JobManager} object.                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 131      */                                                                                                  </span>
<span class="-6227202692363172997" onmouseenter="enter('-6227202692363172997');" onmouseout="out('-6227202692363172997');" style=""> 132     public static JobManager instance() {                                                                </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 133         if (instance == null) {                                                                          </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 134             synchronized (JobManager.class) {                                                            </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 135                 if (instance == null) {                                                                  </span>
<span class="-8102219671165819564" onmouseenter="enter('-8102219671165819564');" onmouseout="out('-8102219671165819564');" style=""><abbr title=" 136                     throw new IllegalStateException(&quot;You need to call create() at least once to create the singleton&quot;);"> 136                     throw new IllegalStateException(&quot;You need to call create() at least once to create thðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139         }                                                                                                </span>
<span  style=""> 140                                                                                                          </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 141         return instance;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142     }                                                                                                    </span>
<span  style=""> 143                                                                                                          </span>
<span class="-2672328117217234149" onmouseenter="enter('-2672328117217234149');" onmouseout="out('-2672328117217234149');" style=""> 144     private final Context mContext;                                                                      </span>
<span class="-2528343327594372849" onmouseenter="enter('-2528343327594372849');" onmouseout="out('-2528343327594372849');" style=""> 145     private final JobCreatorHolder mJobCreatorHolder;                                                    </span>
<span class="3615767272528460384" onmouseenter="enter('3615767272528460384');" onmouseout="out('3615767272528460384');" style=""> 146     private final JobStorage mJobStorage;                                                                </span>
<span class="-2137608278905565132" onmouseenter="enter('-2137608278905565132');" onmouseout="out('-2137608278905565132');" style=""> 147     private final JobExecutor mJobExecutor;                                                              </span>
<span  style=""> 148                                                                                                          </span>
<span class="4607746124464513021" onmouseenter="enter('4607746124464513021');" onmouseout="out('4607746124464513021');" style=""> 149     private JobManager(Context context) {                                                                </span>
<span class="7260904205784329196" onmouseenter="enter('7260904205784329196');" onmouseout="out('7260904205784329196');" style=""> 150         mContext = context;                                                                              </span>
<span class="-4640032511311469580" onmouseenter="enter('-4640032511311469580');" onmouseout="out('-4640032511311469580');" style=""> 151         mJobCreatorHolder = new JobCreatorHolder();                                                      </span>
<span class="-4152760520829533840" onmouseenter="enter('-4152760520829533840');" onmouseout="out('-4152760520829533840');" style=""> 152         mJobStorage = new JobStorage(context);                                                           </span>
<span class="-8808166604100851616" onmouseenter="enter('-8808166604100851616');" onmouseout="out('-8808166604100851616');" style=""> 153         mJobExecutor = new JobExecutor();                                                                </span>
<span  style=""> 154                                                                                                          </span>
<span class="4004759904447840137" onmouseenter="enter('4004759904447840137');" onmouseout="out('4004759904447840137');" style=""> 155         JobRescheduleService.startService(mContext);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156     }                                                                                                    </span>
<span  style=""> 157                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 158     /**                                                                                                  </span>
<span class="4679140648952926498" onmouseenter="enter('4679140648952926498');" onmouseout="out('4679140648952926498');" style=""> 159      * Schedule a request which will be executed in the future. If you want to update an existing        </span>
<span class="-6474852299073293749" onmouseenter="enter('-6474852299073293749');" onmouseout="out('-6474852299073293749');" style=""> 160      * {@link JobRequest}, call {@link JobRequest#cancelAndEdit()}, update your parameters and call      </span>
<span class="-6365815971422533220" onmouseenter="enter('-6365815971422533220');" onmouseout="out('-6365815971422533220');" style=""> 161      * this method again. Calling this method with the same request multiple times without cancelling    </span>
<span class="1286211055587698364" onmouseenter="enter('1286211055587698364');" onmouseout="out('1286211055587698364');" style=""> 162      * it is idempotent.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 163      *                                                                                                   </span>
<span class="-8259863996068047826" onmouseenter="enter('-8259863996068047826');" onmouseout="out('-8259863996068047826');" style=""> 164      * @param request The {@link JobRequest} which will run in the future.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 165      */                                                                                                  </span>
<span class="2776768223143191424" onmouseenter="enter('2776768223143191424');" onmouseout="out('2776768223143191424');" style=""> 166     public void schedule(@NonNull JobRequest request) {                                                  </span>
<span class="-7795555679296930499" onmouseenter="enter('-7795555679296930499');" onmouseout="out('-7795555679296930499');" style=""> 167         if (mJobCreatorHolder.isEmpty()) {                                                               </span>
<span class="4846992933241026765" onmouseenter="enter('4846992933241026765');" onmouseout="out('4846992933241026765');" style=""><abbr title=" 168             CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will be executed&quot;);"> 168             CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job neðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169         }                                                                                                </span>
<span  style=""> 170                                                                                                          </span>
<span class="4582221295713266952" onmouseenter="enter('4582221295713266952');" onmouseout="out('4582221295713266952');" style=""> 171         if (request.getScheduledAt() &gt; 0) {                                                              </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 172             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173         }                                                                                                </span>
<span  style=""> 174                                                                                                          </span>
<span class="-8632893038712403625" onmouseenter="enter('-8632893038712403625');" onmouseout="out('-8632893038712403625');" style=""> 175         if (request.isUpdateCurrent()) {                                                                 </span>
<span class="-9112990761468512458" onmouseenter="enter('-9112990761468512458');" onmouseout="out('-9112990761468512458');" style=""> 176             cancelAllForTag(request.getTag());                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177         }                                                                                                </span>
<span  style=""> 178                                                                                                          </span>
<span class="-1056428182754675341" onmouseenter="enter('-1056428182754675341');" onmouseout="out('-1056428182754675341');" style=""> 179         JobProxy.Common.cleanUpOrphanedJob(mContext, request.getJobId());                                </span>
<span  style=""> 180                                                                                                          </span>
<span class="-5307853377216076341" onmouseenter="enter('-5307853377216076341');" onmouseout="out('-5307853377216076341');" style=""> 181         JobApi jobApi = request.getJobApi();                                                             </span>
<span class="-5710733141355361029" onmouseenter="enter('-5710733141355361029');" onmouseout="out('-5710733141355361029');" style=""> 182         boolean periodic = request.isPeriodic();                                                         </span>
<span class="2465709902581257276" onmouseenter="enter('2465709902581257276');" onmouseout="out('2465709902581257276');" style=""><abbr title=" 183         boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getIntervalMs();"> 183         boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getInteðŸ”µ</abbr></span>
<span  style=""> 184                                                                                                          </span>
<span class="5525198511073900031" onmouseenter="enter('5525198511073900031');" onmouseout="out('5525198511073900031');" style=""> 185         request.setScheduledAt(System.currentTimeMillis());                                              </span>
<span class="-2755250820141061807" onmouseenter="enter('-2755250820141061807');" onmouseout="out('-2755250820141061807');" style=""> 186         request.setFlexSupport(flexSupport);                                                             </span>
<span class="160746343038222394" onmouseenter="enter('160746343038222394');" onmouseout="out('160746343038222394');" style=""> 187         mJobStorage.put(request);                                                                        </span>
<span  style=""> 188                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 189         try {                                                                                            </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 190             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 191             return;                                                                                      </span>
<span class="-9018827707372380454" onmouseenter="enter('-9018827707372380454');" onmouseout="out('-9018827707372380454');" style=""> 192         } catch (JobProxyIllegalStateException e) {                                                      </span>
<span class="-6428914854727195541" onmouseenter="enter('-6428914854727195541');" onmouseout="out('-6428914854727195541');" style=""> 193             // try again below, the other cases stop                                                     </span>
<span  style=""> 194                                                                                                          </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 195         } catch (Exception e) {                                                                          </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 196             // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later     </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 197             mJobStorage.remove(request);                                                                 </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 198             throw e;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199         }                                                                                                </span>
<span  style=""> 200                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 201         try {                                                                                            </span>
<span class="-7578368306347675070" onmouseenter="enter('-7578368306347675070');" onmouseout="out('-7578368306347675070');" style=""> 202             // try to reload the proxy                                                                   </span>
<span class="-5086845168082246693" onmouseenter="enter('-5086845168082246693');" onmouseout="out('-5086845168082246693');" style=""> 203             jobApi.invalidateCachedProxy();                                                              </span>
<span  style=""> 204                                                                                                          </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 205             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 206             return;                                                                                      </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 207         } catch (Exception e) {                                                                          </span>
<span class="-1234430113803617617" onmouseenter="enter('-1234430113803617617');" onmouseout="out('-1234430113803617617');" style=""> 208             if (jobApi == JobApi.V_14 || jobApi == JobApi.V_19) {                                        </span>
<span class="-2235730211123031862" onmouseenter="enter('-2235730211123031862');" onmouseout="out('-2235730211123031862');" style=""> 209                 // at this stage we cannot do anything                                                   </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 210                 mJobStorage.remove(request);                                                             </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 211                 throw e;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 212             } else {                                                                                     </span>
<span class="-2742910027983126651" onmouseenter="enter('-2742910027983126651');" onmouseout="out('-2742910027983126651');" style=""><abbr title=" 213                 jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last time"> 213                 jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215         }                                                                                                </span>
<span  style=""> 216                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 217         try {                                                                                            </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style=""> 218             scheduleWithApi(request, jobApi, periodic, flexSupport);                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 219         } catch (Exception e) {                                                                          </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 220             // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later     </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 221             mJobStorage.remove(request);                                                                 </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 222             throw e;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="363014575014708523" onmouseenter="enter('363014575014708523');" onmouseout="out('363014575014708523');" style=""><abbr title=" 226     private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupport) {"> 226     private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupportðŸ”µ</abbr></span>
<span class="-5212932452371522440" onmouseenter="enter('-5212932452371522440');" onmouseout="out('-5212932452371522440');" style=""> 227         JobProxy proxy = getJobProxy(jobApi);                                                            </span>
<span class="7876141546147703421" onmouseenter="enter('7876141546147703421');" onmouseout="out('7876141546147703421');" style=""> 228         if (periodic) {                                                                                  </span>
<span class="-1055856358312839038" onmouseenter="enter('-1055856358312839038');" onmouseout="out('-1055856358312839038');" style=""> 229             if (flexSupport) {                                                                           </span>
<span class="-6103196782000436732" onmouseenter="enter('-6103196782000436732');" onmouseout="out('-6103196782000436732');" style=""> 230                 proxy.plantPeriodicFlexSupport(request);                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 231             } else {                                                                                     </span>
<span class="7433992315357383214" onmouseenter="enter('7433992315357383214');" onmouseout="out('7433992315357383214');" style=""> 232                 proxy.plantPeriodic(request);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 234         } else {                                                                                         </span>
<span class="-3061275110112395435" onmouseenter="enter('-3061275110112395435');" onmouseout="out('-3061275110112395435');" style=""> 235             proxy.plantOneOff(request);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 239     /**                                                                                                  </span>
<span class="3064960884120212514" onmouseenter="enter('3064960884120212514');" onmouseout="out('3064960884120212514');" style=""> 240      * @param jobId The unique ID of the pending {@link JobRequest}.                                     </span>
<span class="6469387229254162696" onmouseenter="enter('6469387229254162696');" onmouseout="out('6469387229254162696');" style=""> 241      * @return The {@link JobRequest} if it&#x27;s pending or {@code null} otherwise.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 242      */                                                                                                  </span>
<span class="4530850340944779402" onmouseenter="enter('4530850340944779402');" onmouseout="out('4530850340944779402');" style=""> 243     public JobRequest getJobRequest(int jobId) {                                                         </span>
<span class="-7252995828425525073" onmouseenter="enter('-7252995828425525073');" onmouseout="out('-7252995828425525073');" style=""> 244         JobRequest request = getJobRequest(jobId, false);                                                </span>
<span class="-8112354260220160123" onmouseenter="enter('-8112354260220160123');" onmouseout="out('-8112354260220160123');" style=""><abbr title=" 245         if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 245         if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatforðŸ”µ</abbr></span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 246             getJobStorage().remove(request);                                                             </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 247             return null;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 248         } else {                                                                                         </span>
<span class="-1057636993633179522" onmouseenter="enter('-1057636993633179522');" onmouseout="out('-1057636993633179522');" style=""> 249             return request;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251     }                                                                                                    </span>
<span  style=""> 252                                                                                                          </span>
<span class="-7845197049665414638" onmouseenter="enter('-7845197049665414638');" onmouseout="out('-7845197049665414638');" style=""> 253     /*package*/ JobRequest getJobRequest(int jobId, boolean includeStarted) {                            </span>
<span class="-5531317873884629325" onmouseenter="enter('-5531317873884629325');" onmouseout="out('-5531317873884629325');" style=""> 254         JobRequest jobRequest = mJobStorage.get(jobId);                                                  </span>
<span class="-6202240476544038016" onmouseenter="enter('-6202240476544038016');" onmouseout="out('-6202240476544038016');" style=""> 255         if (!includeStarted &amp;&amp; jobRequest != null &amp;&amp; jobRequest.isStarted()) {                           </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 256             return null;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 257         } else {                                                                                         </span>
<span class="1321635456186586623" onmouseenter="enter('1321635456186586623');" onmouseout="out('1321635456186586623');" style=""> 258             return jobRequest;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260     }                                                                                                    </span>
<span  style=""> 261                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 262     /**                                                                                                  </span>
<span class="-2795365204268997935" onmouseenter="enter('-2795365204268997935');" onmouseout="out('-2795365204268997935');" style=""> 263      * @return A duplicate {@link Set} containing all pending JobRequests or an empty set.               </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 264      * Never returns {@code null}. The set may be modified without direct effects to the actual          </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 265      * backing store.                                                                                    </span>
<span class="-6719692607126398741" onmouseenter="enter('-6719692607126398741');" onmouseout="out('-6719692607126398741');" style=""> 266      * @see #getJobRequest(int)                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 267      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 268     @NonNull                                                                                             </span>
<span class="-904804239476561306" onmouseenter="enter('-904804239476561306');" onmouseout="out('-904804239476561306');" style=""> 269     public Set&lt;JobRequest&gt; getAllJobRequests() {                                                         </span>
<span class="-4056537523809507073" onmouseenter="enter('-4056537523809507073');" onmouseout="out('-4056537523809507073');" style=""> 270         return getAllJobRequests(null, false, true);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271     }                                                                                                    </span>
<span  style=""> 272                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 273     /**                                                                                                  </span>
<span class="-150075778014394998" onmouseenter="enter('-150075778014394998');" onmouseout="out('-150075778014394998');" style=""> 274      * @param tag The tag of the pending requests.                                                       </span>
<span class="-9117837997679760057" onmouseenter="enter('-9117837997679760057');" onmouseout="out('-9117837997679760057');" style=""> 275      * @return A duplicate {@link Set} containing all pending JobRequests associated with this           </span>
<span class="-7265545497128514879" onmouseenter="enter('-7265545497128514879');" onmouseout="out('-7265545497128514879');" style=""> 276      * {@code tag} or an empty set. Never returns {@code null}. The set may be modified without          </span>
<span class="227177932876004689" onmouseenter="enter('227177932876004689');" onmouseout="out('227177932876004689');" style=""> 277      * direct effects to the actual backing store.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 278      */                                                                                                  </span>
<span class="7606149447514232888" onmouseenter="enter('7606149447514232888');" onmouseout="out('7606149447514232888');" style=""> 279     public Set&lt;JobRequest&gt; getAllJobRequestsForTag(@NonNull String tag) {                                </span>
<span class="-1680391097053339067" onmouseenter="enter('-1680391097053339067');" onmouseout="out('-1680391097053339067');" style=""> 280         return getAllJobRequests(tag, false, true);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281     }                                                                                                    </span>
<span  style=""> 282                                                                                                          </span>
<span class="6408193287731579769" onmouseenter="enter('6408193287731579769');" onmouseout="out('6408193287731579769');" style=""><abbr title=" 283     /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cleanUpTransient) {"> 283     /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cðŸ”µ</abbr></span>
<span class="-3391880267753682379" onmouseenter="enter('-3391880267753682379');" onmouseout="out('-3391880267753682379');" style=""> 284         Set&lt;JobRequest&gt; requests = mJobStorage.getAllJobRequests(tag, includeStarted);                   </span>
<span  style=""> 285                                                                                                          </span>
<span class="-8631483291416443164" onmouseenter="enter('-8631483291416443164');" onmouseout="out('-8631483291416443164');" style=""> 286         if (cleanUpTransient) {                                                                          </span>
<span class="-7058077327815782771" onmouseenter="enter('-7058077327815782771');" onmouseout="out('-7058077327815782771');" style=""> 287             Iterator&lt;JobRequest&gt; iterator = requests.iterator();                                         </span>
<span class="977968488612897428" onmouseenter="enter('977968488612897428');" onmouseout="out('977968488612897428');" style=""> 288             while (iterator.hasNext()) {                                                                 </span>
<span class="-4417243110705220216" onmouseenter="enter('-4417243110705220216');" onmouseout="out('-4417243110705220216');" style=""> 289                 JobRequest request = iterator.next();                                                    </span>
<span class="-6106673260388651439" onmouseenter="enter('-6106673260388651439');" onmouseout="out('-6106673260388651439');" style=""><abbr title=" 290                 if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 290                 if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobSchedulðŸ”µ</abbr></span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 291                     mJobStorage.remove(request);                                                         </span>
<span class="-6215380074365660212" onmouseenter="enter('-6215380074365660212');" onmouseout="out('-6215380074365660212');" style=""> 292                     iterator.remove();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295         }                                                                                                </span>
<span  style=""> 296                                                                                                          </span>
<span class="-5077199918271732388" onmouseenter="enter('-5077199918271732388');" onmouseout="out('-5077199918271732388');" style=""> 297         return requests;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298     }                                                                                                    </span>
<span  style=""> 299                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 300     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 301      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="7788897207505020184" onmouseenter="enter('7788897207505020184');" onmouseout="out('7788897207505020184');" style=""> 302      * restored after the app has launched.                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 303      *                                                                                                   </span>
<span class="-477643776901211056" onmouseenter="enter('-477643776901211056');" onmouseout="out('-477643776901211056');" style=""> 304      * @param jobId The unique ID of the running or finished {@link Job}.                                </span>
<span class="3270382225864694524" onmouseenter="enter('3270382225864694524');" onmouseout="out('3270382225864694524');" style=""> 305      * @return The {@link Job} if it&#x27;s running or has been finished and is still cached. Returns         </span>
<span class="-6075858023683971376" onmouseenter="enter('-6075858023683971376');" onmouseout="out('-6075858023683971376');" style=""> 306      * {@code null} otherwise.                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 307      */                                                                                                  </span>
<span class="-8891493209915902483" onmouseenter="enter('-8891493209915902483');" onmouseout="out('-8891493209915902483');" style=""> 308     public Job getJob(int jobId) {                                                                       </span>
<span class="-4499975465953320235" onmouseenter="enter('-4499975465953320235');" onmouseout="out('-4499975465953320235');" style=""> 309         return mJobExecutor.getJob(jobId);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310     }                                                                                                    </span>
<span  style=""> 311                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 312     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 313      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 314      * restored after the app has relaunched.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 315      *                                                                                                   </span>
<span class="6351768175198237647" onmouseenter="enter('6351768175198237647');" onmouseout="out('6351768175198237647');" style=""> 316      * @return A duplicate {@link Set} containing all running and cached finished jobs or an empty set.  </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 317      * Never returns {@code null}. The set may be modified without direct effects to the actual          </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 318      * backing store.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 319      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 320     @NonNull                                                                                             </span>
<span class="8418659341190675341" onmouseenter="enter('8418659341190675341');" onmouseout="out('8418659341190675341');" style=""> 321     public Set&lt;Job&gt; getAllJobs() {                                                                       </span>
<span class="-7361375259582502195" onmouseenter="enter('-7361375259582502195');" onmouseout="out('-7361375259582502195');" style=""> 322         return mJobExecutor.getAllJobs();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323     }                                                                                                    </span>
<span  style=""> 324                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 325     /**                                                                                                  </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 326      * Jobs are cached in memory even if they already have finished. But finished jobs are never         </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 327      * restored after the app has relaunched.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 328      *                                                                                                   </span>
<span class="2906193900356196417" onmouseenter="enter('2906193900356196417');" onmouseout="out('2906193900356196417');" style=""> 329      * @param tag The tag of the running or finished jobs.                                               </span>
<span class="8402316346887233918" onmouseenter="enter('8402316346887233918');" onmouseout="out('8402316346887233918');" style=""> 330      * @return A duplicate {@link Set} containing all running and cached finished jobs associated with   </span>
<span class="-1417987523275095960" onmouseenter="enter('-1417987523275095960');" onmouseout="out('-1417987523275095960');" style=""> 331      * this tag or an empty set. Never returns {@code null}. The set may be modified without direct      </span>
<span class="7642857653547301659" onmouseenter="enter('7642857653547301659');" onmouseout="out('7642857653547301659');" style=""> 332      * effects to the actual backing store.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 333      */                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 334     @NonNull                                                                                             </span>
<span class="-1926037323071405748" onmouseenter="enter('-1926037323071405748');" onmouseout="out('-1926037323071405748');" style=""> 335     public Set&lt;Job&gt; getAllJobsForTag(@NonNull String tag) {                                              </span>
<span class="-2996654579181227013" onmouseenter="enter('-2996654579181227013');" onmouseout="out('-2996654579181227013');" style=""> 336         return mJobExecutor.getAllJobsForTag(tag);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337     }                                                                                                    </span>
<span  style=""> 338                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 339     /**                                                                                                  </span>
<span class="-6103119810253935707" onmouseenter="enter('-6103119810253935707');" onmouseout="out('-6103119810253935707');" style=""> 340      * Cancel either the pending {@link JobRequest} or the running {@link Job}.                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 341      *                                                                                                   </span>
<span class="3580206770342842161" onmouseenter="enter('3580206770342842161');" onmouseout="out('3580206770342842161');" style=""> 342      * @param jobId The unique ID of the {@link JobRequest} or running {@link Job}.                      </span>
<span class="-3440894550164723212" onmouseenter="enter('-3440894550164723212');" onmouseout="out('-3440894550164723212');" style=""> 343      * @return {@code true} if a request or job were found and canceled.                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 344      */                                                                                                  </span>
<span class="4673154767055309132" onmouseenter="enter('4673154767055309132');" onmouseout="out('4673154767055309132');" style=""> 345     public boolean cancel(int jobId) {                                                                   </span>
<span class="5725682512990717913" onmouseenter="enter('5725682512990717913');" onmouseout="out('5725682512990717913');" style=""> 346         // call both methods                                                                             </span>
<span class="-1940195083171434309" onmouseenter="enter('-1940195083171434309');" onmouseout="out('-1940195083171434309');" style=""> 347         boolean result = cancelInner(getJobRequest(jobId, true)) | cancelInner(getJob(jobId));           </span>
<span class="-3607491956005698732" onmouseenter="enter('-3607491956005698732');" onmouseout="out('-3607491956005698732');" style=""> 348         JobProxy.Common.cleanUpOrphanedJob(mContext, jobId); // do this as well, just in case            </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 349         return result;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350     }                                                                                                    </span>
<span  style=""> 351                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 352     /**                                                                                                  </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 353      * Cancel all pending JobRequests and running jobs.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 354      *                                                                                                   </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 355      * @return The count of canceled requests and running jobs.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 356      */                                                                                                  </span>
<span class="8727086670966112864" onmouseenter="enter('8727086670966112864');" onmouseout="out('8727086670966112864');" style=""> 357     public int cancelAll() {                                                                             </span>
<span class="5548992301459760488" onmouseenter="enter('5548992301459760488');" onmouseout="out('5548992301459760488');" style=""> 358         return cancelAllInner(null);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359     }                                                                                                    </span>
<span  style=""> 360                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 361     /**                                                                                                  </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 362      * Cancel all pending JobRequests and running jobs.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 363      *                                                                                                   </span>
<span class="6528904863027268115" onmouseenter="enter('6528904863027268115');" onmouseout="out('6528904863027268115');" style=""> 364      * @param tag The tag of the pending job requests and running jobs.                                  </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 365      * @return The count of canceled requests and running jobs.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 366      */                                                                                                  </span>
<span class="5906534252688636933" onmouseenter="enter('5906534252688636933');" onmouseout="out('5906534252688636933');" style=""> 367     public int cancelAllForTag(@NonNull String tag) {                                                    </span>
<span class="-6560658895372623261" onmouseenter="enter('-6560658895372623261');" onmouseout="out('-6560658895372623261');" style=""> 368         return cancelAllInner(tag);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369     }                                                                                                    </span>
<span  style=""> 370                                                                                                          </span>
<span class="7928609490831193515" onmouseenter="enter('7928609490831193515');" onmouseout="out('7928609490831193515');" style=""> 371     private boolean cancelInner(@Nullable JobRequest request) {                                          </span>
<span class="-5752363771942989481" onmouseenter="enter('-5752363771942989481');" onmouseout="out('-5752363771942989481');" style=""> 372         if (request != null) {                                                                           </span>
<span class="-1957380641916611906" onmouseenter="enter('-1957380641916611906');" onmouseout="out('-1957380641916611906');" style=""> 373             CAT.i(&quot;Found pending job %s, canceling&quot;, request);                                           </span>
<span class="-3145854089324021214" onmouseenter="enter('-3145854089324021214');" onmouseout="out('-3145854089324021214');" style=""> 374             getJobProxy(request.getJobApi()).cancel(request.getJobId());                                 </span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 375             getJobStorage().remove(request);                                                             </span>
<span class="2741448270392278661" onmouseenter="enter('2741448270392278661');" onmouseout="out('2741448270392278661');" style=""> 376             request.setScheduledAt(0); // reset value                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 377             return true;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 378         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 379             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381     }                                                                                                    </span>
<span  style=""> 382                                                                                                          </span>
<span class="-2812357644034813946" onmouseenter="enter('-2812357644034813946');" onmouseout="out('-2812357644034813946');" style=""> 383     private boolean cancelInner(@Nullable Job job) {                                                     </span>
<span class="-5589369764618585430" onmouseenter="enter('-5589369764618585430');" onmouseout="out('-5589369764618585430');" style=""> 384         if (job != null &amp;&amp; !job.isFinished() &amp;&amp; !job.isCanceled()) {                                     </span>
<span class="-8982583685600169823" onmouseenter="enter('-8982583685600169823');" onmouseout="out('-8982583685600169823');" style=""> 385             CAT.i(&quot;Cancel running %s&quot;, job);                                                             </span>
<span class="4461932157820875057" onmouseenter="enter('4461932157820875057');" onmouseout="out('4461932157820875057');" style=""> 386             job.cancel(true);                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 387             return true;                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 388         } else {                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 389             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391     }                                                                                                    </span>
<span  style=""> 392                                                                                                          </span>
<span class="7007551180782804914" onmouseenter="enter('7007551180782804914');" onmouseout="out('7007551180782804914');" style=""> 393     private synchronized int cancelAllInner(@Nullable String tag) {                                      </span>
<span class="5445881552498440941" onmouseenter="enter('5445881552498440941');" onmouseout="out('5445881552498440941');" style=""> 394         int canceled = 0;                                                                                </span>
<span  style=""> 395                                                                                                          </span>
<span class="3905651976412403334" onmouseenter="enter('3905651976412403334');" onmouseout="out('3905651976412403334');" style=""> 396         Set&lt;JobRequest&gt; requests = getAllJobRequests(tag, true, false);                                  </span>
<span class="9124327587248213004" onmouseenter="enter('9124327587248213004');" onmouseout="out('9124327587248213004');" style=""> 397         for (JobRequest request : requests) {                                                            </span>
<span class="46316550467126677" onmouseenter="enter('46316550467126677');" onmouseout="out('46316550467126677');" style=""> 398             if (cancelInner(request)) {                                                                  </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 399                 canceled++;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401         }                                                                                                </span>
<span  style=""> 402                                                                                                          </span>
<span class="-155981268798468651" onmouseenter="enter('-155981268798468651');" onmouseout="out('-155981268798468651');" style=""> 403         //noinspection ConstantConditions                                                                </span>
<span class="-6218879424337666353" onmouseenter="enter('-6218879424337666353');" onmouseout="out('-6218879424337666353');" style=""> 404         Set&lt;Job&gt; jobs = TextUtils.isEmpty(tag) ? getAllJobs() : getAllJobsForTag(tag);                   </span>
<span class="977767777964782313" onmouseenter="enter('977767777964782313');" onmouseout="out('977767777964782313');" style=""> 405         for (Job job : jobs) {                                                                           </span>
<span class="-2976205724987486146" onmouseenter="enter('-2976205724987486146');" onmouseout="out('-2976205724987486146');" style=""> 406             if (cancelInner(job)) {                                                                      </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 407                 canceled++;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409         }                                                                                                </span>
<span class="-2118177486513212743" onmouseenter="enter('-2118177486513212743');" onmouseout="out('-2118177486513212743');" style=""> 410         return canceled;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411     }                                                                                                    </span>
<span  style=""> 412                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 413     /**                                                                                                  </span>
<span class="6798512724525576867" onmouseenter="enter('6798512724525576867');" onmouseout="out('6798512724525576867');" style=""> 414      * Registers this instance to create jobs for a specific tag. It&#x27;s possible to have multiple         </span>
<span class="-8744317698350024298" onmouseenter="enter('-8744317698350024298');" onmouseout="out('-8744317698350024298');" style=""> 415      * {@link JobCreator}s with a first come first serve order.                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 416      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 417      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 418      */                                                                                                  </span>
<span class="-2491458967670828165" onmouseenter="enter('-2491458967670828165');" onmouseout="out('-2491458967670828165');" style=""> 419     public void addJobCreator(JobCreator jobCreator) {                                                   </span>
<span class="4475667171028624254" onmouseenter="enter('4475667171028624254');" onmouseout="out('4475667171028624254');" style=""> 420         mJobCreatorHolder.addJobCreator(jobCreator);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421     }                                                                                                    </span>
<span  style=""> 422                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 423     /**                                                                                                  </span>
<span class="-4564346032900638715" onmouseenter="enter('-4564346032900638715');" onmouseout="out('-4564346032900638715');" style=""> 424      * Remove the mapping to stop it from creating new jobs.                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 425      *                                                                                                   </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 426      * @param jobCreator The mapping between a specific job tag and the job class.                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 427      */                                                                                                  </span>
<span class="-6484177490967554570" onmouseenter="enter('-6484177490967554570');" onmouseout="out('-6484177490967554570');" style=""> 428     public void removeJobCreator(JobCreator jobCreator) {                                                </span>
<span class="-539536155610817324" onmouseenter="enter('-539536155610817324');" onmouseout="out('-539536155610817324');" style=""> 429         mJobCreatorHolder.removeJobCreator(jobCreator);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 430     }                                                                                                    </span>
<span  style=""> 431                                                                                                          </span>
<span class="-9025857433666575285" onmouseenter="enter('-9025857433666575285');" onmouseout="out('-9025857433666575285');" style=""> 432     /*package*/ JobStorage getJobStorage() {                                                             </span>
<span class="7567809637669260331" onmouseenter="enter('7567809637669260331');" onmouseout="out('7567809637669260331');" style=""> 433         return mJobStorage;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434     }                                                                                                    </span>
<span  style=""> 435                                                                                                          </span>
<span class="7576466200489518989" onmouseenter="enter('7576466200489518989');" onmouseout="out('7576466200489518989');" style=""> 436     /*package*/ JobExecutor getJobExecutor() {                                                           </span>
<span class="-1765880259966525073" onmouseenter="enter('-1765880259966525073');" onmouseout="out('-1765880259966525073');" style=""> 437         return mJobExecutor;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438     }                                                                                                    </span>
<span  style=""> 439                                                                                                          </span>
<span class="6727805992909117493" onmouseenter="enter('6727805992909117493');" onmouseout="out('6727805992909117493');" style=""> 440     /*package*/ JobCreatorHolder getJobCreatorHolder() {                                                 </span>
<span class="-3612182450615984670" onmouseenter="enter('-3612182450615984670');" onmouseout="out('-3612182450615984670');" style=""> 441         return mJobCreatorHolder;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 442     }                                                                                                    </span>
<span  style=""> 443                                                                                                          </span>
<span class="6908334764837028449" onmouseenter="enter('6908334764837028449');" onmouseout="out('6908334764837028449');" style=""> 444     /*package*/ Context getContext() {                                                                   </span>
<span class="5958236384696658256" onmouseenter="enter('5958236384696658256');" onmouseout="out('5958236384696658256');" style=""> 445         return mContext;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 446     }                                                                                                    </span>
<span  style=""> 447                                                                                                          </span>
<span class="4070471043727310040" onmouseenter="enter('4070471043727310040');" onmouseout="out('4070471043727310040');" style=""> 448     /*package*/ void destroy() {                                                                         </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 449         synchronized (JobManager.class) {                                                                </span>
<span class="4675221880685402786" onmouseenter="enter('4675221880685402786');" onmouseout="out('4675221880685402786');" style=""> 450             instance = null;                                                                             </span>
<span class="-4915935391363161906" onmouseenter="enter('-4915935391363161906');" onmouseout="out('-4915935391363161906');" style=""> 451             for (JobApi api : JobApi.values()) {                                                         </span>
<span class="1605566681993962517" onmouseenter="enter('1605566681993962517');" onmouseout="out('1605566681993962517');" style=""> 452                 api.invalidateCachedProxy();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455     }                                                                                                    </span>
<span  style=""> 456                                                                                                          </span>
<span  style=""> 457                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 458 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="4824166657412608889" onmouseenter="enter('4824166657412608889');" onmouseout="out('4824166657412608889');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 459     /*package*/ JobProxy getJobProxy(JobRequest request) {                                               </span>
<span class="-2965969964131507785" onmouseenter="enter('-2965969964131507785');" onmouseout="out('-2965969964131507785');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 460         return getJobProxy(request.getJobApi());                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 461     }                                                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 462                                                                                                          </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 463     private JobProxy getJobProxy(JobApi api) {                                                           </span>
<span class="-5205823727772511113" onmouseenter="enter('-5205823727772511113');" onmouseout="out('-5205823727772511113');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 464         return api.getProxy(mContext);                                                                   </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 465                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 466 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 467 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 467 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 468 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 469                                                                                                          </span>
<span class="1598412430599932326" onmouseenter="enter('1598412430599932326');" onmouseout="out('1598412430599932326');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 470     /*package*/ JobProxy getJobProxy(JobApi api) {                                                       </span>
<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 471         return api.getCachedProxy(mContext);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 472     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 473                                                                                                          </span>
<span class="5819839472839663113" onmouseenter="enter('5819839472839663113');" onmouseout="out('5819839472839663113');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 474     // TODO: extract this class so that settings can be changed before the JobManager has been created   </span>
<span class="-3926233336101017429" onmouseenter="enter('-3926233336101017429');" onmouseout="out('-3926233336101017429');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 475     public final class Config {                                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 476                                                                                                          </span>
<span class="4478366925575527288" onmouseenter="enter('4478366925575527288');" onmouseout="out('4478366925575527288');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 477         private boolean mGcmEnabled;                                                                     </span>
<span class="3222940311196365219" onmouseenter="enter('3222940311196365219');" onmouseout="out('3222940311196365219');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 478         private boolean mAllowSmallerIntervals;                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 479                                                                                                          </span>
<span class="1352959930409426534" onmouseenter="enter('1352959930409426534');" onmouseout="out('1352959930409426534');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 480         private Config() {                                                                               </span>
<span class="-5278119484705127312" onmouseenter="enter('-5278119484705127312');" onmouseout="out('-5278119484705127312');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 481             mGcmEnabled = true;                                                                          </span>
<span class="5402993595528484637" onmouseenter="enter('5402993595528484637');" onmouseout="out('5402993595528484637');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 482             mAllowSmallerIntervals = false;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 483         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 484                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 485         /**                                                                                              </span>
<span class="-2537676166129027872" onmouseenter="enter('-2537676166129027872');" onmouseout="out('-2537676166129027872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 486          * @return Whether logging is enabled for this library. The default value is {@code true}.       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 487          */                                                                                              </span>
<span class="-2746772116937722358" onmouseenter="enter('-2746772116937722358');" onmouseout="out('-2746772116937722358');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 488         public boolean isVerbose() {                                                                     </span>
<span class="2727400873410512568" onmouseenter="enter('2727400873410512568');" onmouseout="out('2727400873410512568');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 489             return JobCat.isLogcatEnabled();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 490         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 491                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 492         /**                                                                                              </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 493          * Global switch to enable or disable logging.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 494          *                                                                                               </span>
<span class="2326612315460832419" onmouseenter="enter('2326612315460832419');" onmouseout="out('2326612315460832419');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 495          * @param verbose Whether or not to print all log messages. The default value is {@code true}.   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 496          */                                                                                              </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 497         public void setVerbose(boolean verbose) {                                                        </span>
<span class="6809609309523734693" onmouseenter="enter('6809609309523734693');" onmouseout="out('6809609309523734693');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 498             JobCat.setLogcatEnabled(verbose);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 499         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 500                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 501         /**                                                                                              </span>
<span class="2860743404166892430" onmouseenter="enter('2860743404166892430');" onmouseout="out('2860743404166892430');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 502          * @return Whether the GCM API is enabled. The API is only used if the required class dependency </span>
<span class="-1416738499443842717" onmouseenter="enter('-1416738499443842717');" onmouseout="out('-1416738499443842717');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 503          * is found, the Google Play Services are available and this setting is {@code true}. The default</span>
<span class="8764218728113319363" onmouseenter="enter('8764218728113319363');" onmouseout="out('8764218728113319363');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 504          * value is {@code true}.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 505          */                                                                                              </span>
<span class="-7429757744208332908" onmouseenter="enter('-7429757744208332908');" onmouseout="out('-7429757744208332908');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 506         public boolean isGcmApiEnabled() {                                                               </span>
<span class="6191343166635185115" onmouseenter="enter('6191343166635185115');" onmouseout="out('6191343166635185115');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 507             return mGcmEnabled;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 508         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 509                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 510         /**                                                                                              </span>
<span class="-9047021064026521936" onmouseenter="enter('-9047021064026521936');" onmouseout="out('-9047021064026521936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 511          * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} will"> 511          * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} wiðŸ”µ</abbr></span>
<span class="8823200755718979838" onmouseenter="enter('8823200755718979838');" onmouseout="out('8823200755718979838');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 512          * be used for Android 4 devices in all cases.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 513          *                                                                                               </span>
<span class="7265088581003835852" onmouseenter="enter('7265088581003835852');" onmouseout="out('7265088581003835852');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 514          * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only used,"> 514          * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only usðŸ”µ</abbr></span>
<span class="2664427863390598737" onmouseenter="enter('2664427863390598737');" onmouseout="out('2664427863390598737');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 515          *                if the required class dependency is found, the Google Play Services are available"> 515          *                if the required class dependency is found, the Google Play Services are availabðŸ”µ</abbr></span>
<span class="-9202610048813496906" onmouseenter="enter('-9202610048813496906');" onmouseout="out('-9202610048813496906');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 516          *                and this setting is {@code true}. The default value is {@code true}.           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 517          */                                                                                              </span>
<span class="3131865423967228821" onmouseenter="enter('3131865423967228821');" onmouseout="out('3131865423967228821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 518         public void setGcmApiEnabled(boolean enabled) {                                                  </span>
<span class="-7781929993252071383" onmouseenter="enter('-7781929993252071383');" onmouseout="out('-7781929993252071383');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 519             if (enabled == mGcmEnabled) {                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 520                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 521             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 522                                                                                                          </span>
<span class="1819590405292556164" onmouseenter="enter('1819590405292556164');" onmouseout="out('1819590405292556164');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 523             mGcmEnabled = enabled;                                                                       </span>
<span class="8012018722923764134" onmouseenter="enter('8012018722923764134');" onmouseout="out('8012018722923764134');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 524             if (enabled) {                                                                               </span>
<span class="-6729800039701270501" onmouseenter="enter('-6729800039701270501');" onmouseout="out('-6729800039701270501');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 525                 JobApi defaultApi = JobApi.getDefault(mContext, true);                                   </span>
<span class="-6209625822862365404" onmouseenter="enter('-6209625822862365404');" onmouseout="out('-6209625822862365404');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 526                 if (!defaultApi.equals(getApi())) {                                                      </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 527                     setJobProxy(defaultApi);                                                             </span>
<span class="2000942638680471923" onmouseenter="enter('2000942638680471923');" onmouseout="out('2000942638680471923');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 528                     CAT.i(&quot;Changed default proxy to %s after enabled the GCM API&quot;, defaultApi);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 529                 }                                                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 530             } else {                                                                                     </span>
<span class="5144537794263672794" onmouseenter="enter('5144537794263672794');" onmouseout="out('5144537794263672794');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 531                 JobApi defaultApi = JobApi.getDefault(mContext, false);                                  </span>
<span class="1139195568582208331" onmouseenter="enter('1139195568582208331');" onmouseout="out('1139195568582208331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 532                 if (JobApi.GCM == getApi()) {                                                            </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 533                     setJobProxy(defaultApi);                                                             </span>
<span class="-6137765879787410515" onmouseenter="enter('-6137765879787410515');" onmouseout="out('-6137765879787410515');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 534                     CAT.i(&quot;Changed default proxy to %s after disabling the GCM API&quot;, defaultApi);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 535                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 536             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 537         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 538                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 539         /**                                                                                              </span>
<span class="4313118545757178652" onmouseenter="enter('4313118545757178652');" onmouseout="out('4313118545757178652');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 540          * Checks whether a smaller interval and flex are allowed for periodic jobs. That&#x27;s helpful      </span>
<span class="-5286604884073347043" onmouseenter="enter('-5286604884073347043');" onmouseout="out('-5286604884073347043');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 541          * for testing purposes.                                                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 542          *                                                                                               </span>
<span class="-3308748460175563567" onmouseenter="enter('-3308748460175563567');" onmouseout="out('-3308748460175563567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 543          * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jobs"> 543          * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jðŸ”µ</abbr></span>
<span class="4784110824834161936" onmouseenter="enter('4784110824834161936');" onmouseout="out('4784110824834161936');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 544          * are allowed. The default value is {@code false}.                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 545          */                                                                                              </span>
<span class="-3838585999741719363" onmouseenter="enter('-3838585999741719363');" onmouseout="out('-3838585999741719363');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 546         public boolean isAllowSmallerIntervalsForMarshmallow() {                                         </span>
<span class="1030055021778218024" onmouseenter="enter('1030055021778218024');" onmouseout="out('1030055021778218024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 547             return mAllowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N;              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 548         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 549                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 550         /**                                                                                              </span>
<span class="-1869290568894580964" onmouseenter="enter('-1869290568894580964');" onmouseout="out('-1869290568894580964');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 551          * Option to override the minimum period and minimum flex for periodic jobs. This is useful for testing"> 551          * Option to override the minimum period and minimum flex for periodic jobs. This is useful for tðŸ”µ</abbr></span>
<span class="-8595186122126529146" onmouseenter="enter('-8595186122126529146');" onmouseout="out('-8595186122126529146');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 552          * purposes. This method only works for Android M and earlier. Later versions throw an exception.</span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 553          *                                                                                               </span>
<span class="-1416855746077376306" onmouseenter="enter('-1416855746077376306');" onmouseout="out('-1416855746077376306');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 554          * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are allowed"> 554          * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are aðŸ”µ</abbr></span>
<span class="7958399044345871138" onmouseenter="enter('7958399044345871138');" onmouseout="out('7958399044345871138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 555          *                              for periodic jobs are allowed. The default value is {@code false}."> 555          *                              for periodic jobs are allowed. The default value is {@code false}ðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 556          */                                                                                              </span>
<span class="-2190831914101150490" onmouseenter="enter('-2190831914101150490');" onmouseout="out('-2190831914101150490');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 557         public void setAllowSmallerIntervalsForMarshmallow(boolean allowSmallerIntervals) {              </span>
<span class="-8519533053547672810" onmouseenter="enter('-8519533053547672810');" onmouseout="out('-8519533053547672810');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 558             if (allowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {               </span>
<span class="-3520998319495876499" onmouseenter="enter('-3520998319495876499');" onmouseout="out('-3520998319495876499');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 559                 throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlier&quot;);"> 559                 throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 560             }                                                                                            </span>
<span class="-280008161972170539" onmouseenter="enter('-280008161972170539');" onmouseout="out('-280008161972170539');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 561             mAllowSmallerIntervals = allowSmallerIntervals;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 562         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 563                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 564 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565     }                                                                                                    </span>
<span  style=""> 566                                                                                                          </span>
<span class="198676935402196211" onmouseenter="enter('198676935402196211');" onmouseout="out('198676935402196211');" style=""> 567     private static void sendAddJobCreatorIntent(@NonNull Context context) {                              </span>
<span class="-5610909263414778784" onmouseenter="enter('-5610909263414778784');" onmouseout="out('-5610909263414778784');" style=""> 568         Intent intent = new Intent(JobCreator.ACTION_ADD_JOB_CREATOR);                                   </span>
<span class="1726009622345607958" onmouseenter="enter('1726009622345607958');" onmouseout="out('1726009622345607958');" style=""> 569         List&lt;ResolveInfo&gt; resolveInfos = context.getPackageManager().queryBroadcastReceivers(intent, 0); </span>
<span class="1528436296094400725" onmouseenter="enter('1528436296094400725');" onmouseout="out('1528436296094400725');" style=""> 570         String myPackage = context.getPackageName();                                                     </span>
<span  style=""> 571                                                                                                          </span>
<span class="-3902911217867890027" onmouseenter="enter('-3902911217867890027');" onmouseout="out('-3902911217867890027');" style=""> 572         for (ResolveInfo resolveInfo : resolveInfos) {                                                   </span>
<span class="5367414755120464835" onmouseenter="enter('5367414755120464835');" onmouseout="out('5367414755120464835');" style=""> 573             ActivityInfo activityInfo = resolveInfo.activityInfo;                                        </span>
<span class="3799375487777701963" onmouseenter="enter('3799375487777701963');" onmouseout="out('3799375487777701963');" style=""><abbr title=" 574             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageName)"> 574             if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageNaðŸ”µ</abbr></span>
<span class="1474928284409433713" onmouseenter="enter('1474928284409433713');" onmouseout="out('1474928284409433713');" style=""> 575                     || TextUtils.isEmpty(activityInfo.name)) {                                           </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 576                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577             }                                                                                            </span>
<span  style=""> 578                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 579             try {                                                                                        </span>
<span class="-3119421487431756924" onmouseenter="enter('-3119421487431756924');" onmouseout="out('-3119421487431756924');" style=""> 580                 JobCreator.AddJobCreatorReceiver receiver =                                              </span>
<span class="462433870860114552" onmouseenter="enter('462433870860114552');" onmouseout="out('462433870860114552');" style=""><abbr title=" 581                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance();"> 581                         (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance()ðŸ”µ</abbr></span>
<span  style=""> 582                                                                                                          </span>
<span class="2828831418149522046" onmouseenter="enter('2828831418149522046');" onmouseout="out('2828831418149522046');" style=""> 583                 receiver.addJobCreator(context, instance);                                               </span>
<span class="8538742657781196138" onmouseenter="enter('8538742657781196138');" onmouseout="out('8538742657781196138');" style=""> 584             } catch (Exception ignored) {                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 585             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 587     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588 }                                                                                                        </span>













































































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-8822900351790619766" onmouseenter="enter('-8822900351790619766');" onmouseout="out('-8822900351790619766');" style="">   2   * Copyright 2007-present Evernote Corporation.                                                                   </span>
<span class="-2278367542838177584" onmouseenter="enter('-2278367542838177584');" onmouseout="out('-2278367542838177584');" style="">   3   * All rights reserved.                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   4   *                                                                                                                </span>
<span class="181301442133285836" onmouseenter="enter('181301442133285836');" onmouseout="out('181301442133285836');" style="">   5   * Redistribution and use in source and binary forms, with or without modification,                               </span>
<span class="-5073197948967426970" onmouseenter="enter('-5073197948967426970');" onmouseout="out('-5073197948967426970');" style="">   6   * are permitted provided that the following conditions are met:                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="8127251449117563942" onmouseenter="enter('8127251449117563942');" onmouseout="out('8127251449117563942');" style="">   8   * 1. Redistributions of source code must retain the above copyright notice, this                                 </span>
<span class="-1473911044945790828" onmouseenter="enter('-1473911044945790828');" onmouseout="out('-1473911044945790828');" style="">   9   *    list of conditions and the following disclaimer.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  10   *                                                                                                                </span>
<span class="4835137028529553232" onmouseenter="enter('4835137028529553232');" onmouseout="out('4835137028529553232');" style="">  11   * 2. Redistributions in binary form must reproduce the above copyright notice,                                   </span>
<span class="-1312443230807442131" onmouseenter="enter('-1312443230807442131');" onmouseout="out('-1312443230807442131');" style="">  12   *    this list of conditions and the following disclaimer in the documentation                                   </span>
<span class="-2067912076149043179" onmouseenter="enter('-2067912076149043179');" onmouseout="out('-2067912076149043179');" style="">  13   *    and/or other materials provided with the distribution.                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  14   *                                                                                                                </span>
<span class="-7721941782677048447" onmouseenter="enter('-7721941782677048447');" onmouseout="out('-7721941782677048447');" style="">  15   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND                                </span>
<span class="-5124048439450882348" onmouseenter="enter('-5124048439450882348');" onmouseout="out('-5124048439450882348');" style="">  16   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED                                  </span>
<span class="2277289959795125050" onmouseenter="enter('2277289959795125050');" onmouseout="out('2277289959795125050');" style="">  17   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.                             </span>
<span class="4422846307625339339" onmouseenter="enter('4422846307625339339');" onmouseout="out('4422846307625339339');" style="">  18   * IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,                                </span>
<span class="9023453646714579255" onmouseenter="enter('9023453646714579255');" onmouseout="out('9023453646714579255');" style="">  19   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                                 </span>
<span class="2153827234735713132" onmouseenter="enter('2153827234735713132');" onmouseout="out('2153827234735713132');" style="">  20   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,                                  </span>
<span class="5782830561991082866" onmouseenter="enter('5782830561991082866');" onmouseout="out('5782830561991082866');" style="">  21   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF                                </span>
<span class="-2513683953102966204" onmouseenter="enter('-2513683953102966204');" onmouseout="out('-2513683953102966204');" style="">  22   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE                                </span>
<span class="-6562574984275957691" onmouseenter="enter('-6562574984275957691');" onmouseout="out('-6562574984275957691');" style="">  23   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF                                      </span>
<span class="505998933154990042" onmouseenter="enter('505998933154990042');" onmouseout="out('505998933154990042');" style="">  24   * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  25   */                                                                                                               </span>
<span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">  26  package com.evernote.android.job;                                                                                 </span>
<span  style="">  27                                                                                                                    </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  28  import android.annotation.SuppressLint;                                                                           </span>
<span class="-5000705225306926876" onmouseenter="enter('-5000705225306926876');" onmouseout="out('-5000705225306926876');" style="">  29  import android.app.AlarmManager;                                                                                  </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  30  import android.app.Application;                                                                                   </span>
<span class="5270908961524689324" onmouseenter="enter('5270908961524689324');" onmouseout="out('5270908961524689324');" style="">  31  import android.app.job.JobScheduler;                                                                              </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  32  import android.content.Context;                                                                                   </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  33  import android.content.Intent;                                                                                    </span>
<span class="-9183914406029598577" onmouseenter="enter('-9183914406029598577');" onmouseout="out('-9183914406029598577');" style="">  34  import android.content.pm.ActivityInfo;                                                                           </span>
<span class="8582326229770324815" onmouseenter="enter('8582326229770324815');" onmouseout="out('8582326229770324815');" style="">  35  import android.content.pm.ResolveInfo;                                                                            </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  36 -import android.os.Build;                                                                                          </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="">  37  import android.support.annotation.NonNull;                                                                        </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  38  import android.support.annotation.Nullable;                                                                       </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  39  import android.text.TextUtils;                                                                                    </span>
<span  style="">  40                                                                                                                    </span>
<span class="-2629940017315809162" onmouseenter="enter('-2629940017315809162');" onmouseout="out('-2629940017315809162');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -import com.evernote.android.job.util.JobApi;                                                                      </span>
<span class="-5245147800812157155" onmouseenter="enter('-5245147800812157155');" onmouseout="out('-5245147800812157155');" style="">  42  import com.evernote.android.job.util.JobCat;                                                                      </span>
<span class="-826132384971399644" onmouseenter="enter('-826132384971399644');" onmouseout="out('-826132384971399644');" style="">  43  import com.evernote.android.job.util.JobPreconditions;                                                            </span>
<span class="2270421051523495577" onmouseenter="enter('2270421051523495577');" onmouseout="out('2270421051523495577');" style="">  44  import com.evernote.android.job.util.JobUtil;                                                                     </span>
<span class="2610792870634489402" onmouseenter="enter('2610792870634489402');" onmouseout="out('2610792870634489402');" style="">  45  import com.google.android.gms.gcm.GcmNetworkManager;                                                              </span>
<span  style="">  46                                                                                                                    </span>
<span class="4887698622156748971" onmouseenter="enter('4887698622156748971');" onmouseout="out('4887698622156748971');" style="">  47  import net.vrallev.android.cat.CatLog;                                                                            </span>
<span  style="">  48                                                                                                                    </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  50  import java.util.List;                                                                                            </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  51  import java.util.Set;                                                                                             </span>
<span  style="">  52                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  53  /**                                                                                                               </span>
<span class="-3987124458399388632" onmouseenter="enter('-3987124458399388632');" onmouseout="out('-3987124458399388632');" style="">  54   * Entry point for scheduling jobs. Depending on the platform and SDK version it uses different APIs              </span>
<span class="-6457039888363773075" onmouseenter="enter('-6457039888363773075');" onmouseout="out('-6457039888363773075');" style="">  55   * to schedule jobs. The {@link JobScheduler} is preferred, if the OS is running Lollipop or above.               </span>
<span class="1317690140072514139" onmouseenter="enter('1317690140072514139');" onmouseout="out('1317690140072514139');" style="">  56   * Otherwise it uses the {@link AlarmManager} as fallback. It&#x27;s also possible to use the                          </span>
<span class="-333444572732918259" onmouseenter="enter('-333444572732918259');" onmouseout="out('-333444572732918259');" style="">  57   * {@link GcmNetworkManager}, if the manager can be found in your classpath, the Google Play Services             </span>
<span class="7456927466396325536" onmouseenter="enter('7456927466396325536');" onmouseout="out('7456927466396325536');" style="">  58   * are installed and the service was added in the manifest. Take a look at the                                    </span>
<span class="-661926363358722632" onmouseenter="enter('-661926363358722632');" onmouseout="out('-661926363358722632');" style="">  59   * &lt;a href=&quot;https://github.com/evernote/android-job#using-the-gcmnetworkmanager&quot;&gt;README&lt;/a&gt; for more              </span>
<span class="5031988837793579218" onmouseenter="enter('5031988837793579218');" onmouseout="out('5031988837793579218');" style="">  60   * help.                                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  61   *                                                                                                                </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  62   * &lt;br&gt;                                                                                                           </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  63   * &lt;br&gt;                                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  64   *                                                                                                                </span>
<span class="6647253766349486920" onmouseenter="enter('6647253766349486920');" onmouseout="out('6647253766349486920');" style="">  65   * Before you can use the {@code JobManager} you must call {@link #create(Context)} first and add a               </span>
<span class="620399288182599016" onmouseenter="enter('620399288182599016');" onmouseout="out('620399288182599016');" style="">  66   * {@link JobCreator} to map tags to your desired jobs with {@link #addJobCreator(JobCreator)}.                   </span>
<span class="78491231019337072" onmouseenter="enter('78491231019337072');" onmouseout="out('78491231019337072');" style="">  67   * It&#x27;s recommended to do this in the {@link Application#onCreate()} method.                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  68   *                                                                                                                </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  69   * &lt;br&gt;                                                                                                           </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  70   * &lt;br&gt;                                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  71   *                                                                                                                </span>
<span class="465581383228119772" onmouseenter="enter('465581383228119772');" onmouseout="out('465581383228119772');" style="">  72   * In order to schedule a job you must extend the {@link Job} class. A {@link Job} is a simple class              </span>
<span class="-5578672729222728640" onmouseenter="enter('-5578672729222728640');" onmouseout="out('-5578672729222728640');" style="">  73   * with one abstract method which is invoked on a background thread. Thus a {@link Job}                           </span>
<span class="-516129769413704155" onmouseenter="enter('-516129769413704155');" onmouseout="out('-516129769413704155');" style="">  74   * doesn&#x27;t need to be registered in the manifest. Create a {@link JobRequest} with the corresponding              </span>
<span class="-2509011543823050913" onmouseenter="enter('-2509011543823050913');" onmouseout="out('-2509011543823050913');" style="">  75   * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If you want    </span>
<span class="9025329384100691402" onmouseenter="enter('9025329384100691402');" onmouseout="out('9025329384100691402');" style="">  76   * to update a pending request, call {@link JobRequest#cancelAndEdit()} on the request, update your               </span>
<span class="4255783048529647648" onmouseenter="enter('4255783048529647648');" onmouseout="out('4255783048529647648');" style="">  77   * parameters and call {@link #schedule(JobRequest)} again.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  78   *                                                                                                                </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  79   * @author rwondratschek                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  80   */                                                                                                               </span>
<span class="5961419711574156625" onmouseenter="enter('5961419711574156625');" onmouseout="out('5961419711574156625');" style="">  81  @SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;})                                                                     </span>
<span class="7018978418900960228" onmouseenter="enter('7018978418900960228');" onmouseout="out('7018978418900960228');" style="">  82  public final class JobManager {                                                                                   </span>
<span  style="">  83                                                                                                                    </span>
<span class="3520531660951208009" onmouseenter="enter('3520531660951208009');" onmouseout="out('3520531660951208009');" style="">  84      private static final CatLog CAT = new JobCat(&quot;JobManager&quot;);                                                   </span>
<span  style="">  85                                                                                                                    </span>
<span class="-1763089954528142034" onmouseenter="enter('-1763089954528142034');" onmouseout="out('-1763089954528142034');" style="">  86      @SuppressLint(&quot;StaticFieldLeak&quot;)                                                                              </span>
<span class="2345214174664757365" onmouseenter="enter('2345214174664757365');" onmouseout="out('2345214174664757365');" style="">  87      private static volatile JobManager instance;                                                                  </span>
<span  style="">  88                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  89      /**                                                                                                           </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style="">  90       * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.       </span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style="">  91       * Calling it multiple times has not effect.                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  92       *                                                                                                            </span>
<span class="-6445633007967545999" onmouseenter="enter('-6445633007967545999');" onmouseout="out('-6445633007967545999');" style="">  93       * @param context Any {@link Context} to instantiate the singleton object.                                    </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style="">  94       * @return The new or existing singleton object.                                                              </span>
<span class="-616448082384168391" onmouseenter="enter('-616448082384168391');" onmouseout="out('-616448082384168391');" style="">  95       * @throws JobManagerCreateException When the singleton couldn&#x27;t be created.                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  96       */                                                                                                           </span>
<span class="6511662216289603726" onmouseenter="enter('6511662216289603726');" onmouseout="out('6511662216289603726');" style="">  97      public static JobManager create(@NonNull Context context) throws JobManagerCreateException {                  </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  98          if (instance == null) {                                                                                   </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="">  99              synchronized (JobManager.class) {                                                                     </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 100                  if (instance == null) {                                                                           </span>
<span class="6811984112992546303" onmouseenter="enter('6811984112992546303');" onmouseout="out('6811984112992546303');" style=""> 101                      JobPreconditions.checkNotNull(context, &quot;Context cannot be null&quot;);                             </span>
<span  style=""> 102                                                                                                                    </span>
<span class="6972945546681644715" onmouseenter="enter('6972945546681644715');" onmouseout="out('6972945546681644715');" style=""> 103                      if (context.getApplicationContext() != null) {                                                </span>
<span class="-3696159196193513250" onmouseenter="enter('-3696159196193513250');" onmouseout="out('-3696159196193513250');" style=""> 104                          // could be null in unit tests                                                            </span>
<span class="-8552478027030399605" onmouseenter="enter('-8552478027030399605');" onmouseout="out('-8552478027030399605');" style=""> 105                          context = context.getApplicationContext();                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106                      }                                                                                             </span>
<span  style=""> 107                                                                                                                    </span>
<span class="-2875947678795724016" onmouseenter="enter('-2875947678795724016');" onmouseout="out('-2875947678795724016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +                    JobApi api = JobApi.getDefault(context);                                                      </span>
<span class="-3252581931104434476" onmouseenter="enter('-3252581931104434476');" onmouseout="out('-3252581931104434476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +                    if (api == JobApi.V_14 &amp;&amp; !api.isSupported(context)) {                                        </span>
<span class="7115145726178678648" onmouseenter="enter('7115145726178678648');" onmouseout="out('7115145726178678648');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +                        throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any job&quot;);    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +                    }                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +                                                                                                                  </span>
<span class="-4290512093989891792" onmouseenter="enter('-4290512093989891792');" onmouseout="out('-4290512093989891792');" style=""> 113                      instance = new JobManager(context);                                                           </span>
<span  style=""> 114                                                                                                                    </span>
<span class="-2622774818034006582" onmouseenter="enter('-2622774818034006582');" onmouseout="out('-2622774818034006582');" style=""> 115                      if (!JobUtil.hasWakeLockPermission(context)) {                                                </span>
<span class="-8010640264736587724" onmouseenter="enter('-8010640264736587724');" onmouseout="out('-8010640264736587724');" style=""> 116                          CAT.w(&quot;No wake lock permission&quot;);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117                      }                                                                                             </span>
<span class="-1257055076440049017" onmouseenter="enter('-1257055076440049017');" onmouseout="out('-1257055076440049017');" style=""> 118                      if (!JobUtil.hasBootPermission(context)) {                                                    </span>
<span class="-3463849244164419256" onmouseenter="enter('-3463849244164419256');" onmouseout="out('-3463849244164419256');" style=""> 119                          CAT.w(&quot;No boot permission&quot;);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120                      }                                                                                             </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-298879242901196544" onmouseenter="enter('-298879242901196544');" onmouseout="out('-298879242901196544');" style=""> 122                      sendAddJobCreatorIntent(context);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125          }                                                                                                         </span>
<span  style=""> 126                                                                                                                    </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 127          return instance;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128      }                                                                                                             </span>
<span  style=""> 129                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 130      /**                                                                                                           </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 131 -     * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.       </span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 132 -     * Calling it multiple times has not effect.                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 133 -     *                                                                                                            </span>
<span class="-6145945938924480962" onmouseenter="enter('-6145945938924480962');" onmouseout="out('-6145945938924480962');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -     * @param context    Any {@link Context} to instantiate the singleton object.                                 </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -     * @param jobCreator The mapping between a specific job tag and the job class.                                </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -     * @return The new or existing singleton object.                                                              </span>
<span class="736736397367217085" onmouseenter="enter('736736397367217085');" onmouseout="out('736736397367217085');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -     * @deprecated Use {@link #create(Context)} instead and call {@link #addJobCreator(JobCreator)} after that.   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 138 -     */                                                                                                           </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -    @Deprecated                                                                                                   </span>
<span class="-4785317473857395076" onmouseenter="enter('-4785317473857395076');" onmouseout="out('-4785317473857395076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -    public static JobManager create(Context context, JobCreator jobCreator) {                                     </span>
<span class="2961349495085069076" onmouseenter="enter('2961349495085069076');" onmouseout="out('2961349495085069076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -        boolean addJobCreator;                                                                                    </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -        synchronized (JobManager.class) {                                                                         </span>
<span class="-6724001001052700501" onmouseenter="enter('-6724001001052700501');" onmouseout="out('-6724001001052700501');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -            addJobCreator = instance == null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -                                                                                                                  </span>
<span class="-3198886707997034498" onmouseenter="enter('-3198886707997034498');" onmouseout="out('-3198886707997034498');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -        create(context);                                                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -                                                                                                                  </span>
<span class="-8597192965345425088" onmouseenter="enter('-8597192965345425088');" onmouseout="out('-8597192965345425088');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -        if (addJobCreator) {                                                                                      </span>
<span class="-7398081347388012149" onmouseenter="enter('-7398081347388012149');" onmouseout="out('-7398081347388012149');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -            instance.addJobCreator(jobCreator);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 150 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -                                                                                                                  </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -        return instance;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -    /**                                                                                                           </span>
<span class="2059544594285879735" onmouseenter="enter('2059544594285879735');" onmouseout="out('2059544594285879735');" style=""> 156       * Ensure that you&#x27;ve called {@link #create(Context)} first. Otherwise this method                            </span>
<span class="6131845218035694611" onmouseenter="enter('6131845218035694611');" onmouseout="out('6131845218035694611');" style=""> 157       * throws an exception.                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 158       *                                                                                                            </span>
<span class="8689695980946757454" onmouseenter="enter('8689695980946757454');" onmouseout="out('8689695980946757454');" style=""> 159       * @return The {@code JobManager} object.                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 160       */                                                                                                           </span>
<span class="-6227202692363172997" onmouseenter="enter('-6227202692363172997');" onmouseout="out('-6227202692363172997');" style=""> 161      public static JobManager instance() {                                                                         </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 162          if (instance == null) {                                                                                   </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 163              synchronized (JobManager.class) {                                                                     </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 164                  if (instance == null) {                                                                           </span>
<span class="-8102219671165819564" onmouseenter="enter('-8102219671165819564');" onmouseout="out('-8102219671165819564');" style=""><abbr title=" 165                      throw new IllegalStateException(&quot;You need to call create() at least once to create the singleton&quot;);"> 165                      throw new IllegalStateException(&quot;You need to call create() at least once to create the singletðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168          }                                                                                                         </span>
<span  style=""> 169                                                                                                                    </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 170          return instance;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span  style=""> 172                                                                                                                    </span>
<span class="-2672328117217234149" onmouseenter="enter('-2672328117217234149');" onmouseout="out('-2672328117217234149');" style=""> 173      private final Context mContext;                                                                               </span>
<span class="-2528343327594372849" onmouseenter="enter('-2528343327594372849');" onmouseout="out('-2528343327594372849');" style=""> 174      private final JobCreatorHolder mJobCreatorHolder;                                                             </span>
<span class="3615767272528460384" onmouseenter="enter('3615767272528460384');" onmouseout="out('3615767272528460384');" style=""> 175      private final JobStorage mJobStorage;                                                                         </span>
<span class="-2137608278905565132" onmouseenter="enter('-2137608278905565132');" onmouseout="out('-2137608278905565132');" style=""> 176      private final JobExecutor mJobExecutor;                                                                       </span>
<span class="6413842119275717567" onmouseenter="enter('6413842119275717567');" onmouseout="out('6413842119275717567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -    private final Config mConfig;                                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 178 -                                                                                                                  </span>
<span class="6700752069135036510" onmouseenter="enter('6700752069135036510');" onmouseout="out('6700752069135036510');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 179 -    private JobApi mApi;                                                                                          </span>
<span  style=""> 180                                                                                                                    </span>
<span class="4607746124464513021" onmouseenter="enter('4607746124464513021');" onmouseout="out('4607746124464513021');" style=""> 181      private JobManager(Context context) {                                                                         </span>
<span class="7260904205784329196" onmouseenter="enter('7260904205784329196');" onmouseout="out('7260904205784329196');" style=""> 182          mContext = context;                                                                                       </span>
<span class="-4640032511311469580" onmouseenter="enter('-4640032511311469580');" onmouseout="out('-4640032511311469580');" style=""> 183          mJobCreatorHolder = new JobCreatorHolder();                                                               </span>
<span class="-4152760520829533840" onmouseenter="enter('-4152760520829533840');" onmouseout="out('-4152760520829533840');" style=""> 184          mJobStorage = new JobStorage(context);                                                                    </span>
<span class="-8808166604100851616" onmouseenter="enter('-8808166604100851616');" onmouseout="out('-8808166604100851616');" style=""> 185          mJobExecutor = new JobExecutor();                                                                         </span>
<span class="-269224586815229164" onmouseenter="enter('-269224586815229164');" onmouseout="out('-269224586815229164');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 186 -        mConfig = new Config();                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 187 -                                                                                                                  </span>
<span class="1700690099100084003" onmouseenter="enter('1700690099100084003');" onmouseout="out('1700690099100084003');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 188 -        JobApi api = JobApi.getDefault(mContext, mConfig.isGcmApiEnabled());                                      </span>
<span class="5703873911050762050" onmouseenter="enter('5703873911050762050');" onmouseout="out('5703873911050762050');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 189 -        if (api == JobApi.V_14 &amp;&amp; !api.isSupported(mContext)) {                                                   </span>
<span class="7115145726178678648" onmouseenter="enter('7115145726178678648');" onmouseout="out('7115145726178678648');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 190 -            throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any job&quot;);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 191 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 192 -                                                                                                                  </span>
<span class="-861197700706537144" onmouseenter="enter('-861197700706537144');" onmouseout="out('-861197700706537144');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 193 -        setJobProxy(api);                                                                                         </span>
<span  style=""> 194                                                                                                                    </span>
<span class="4004759904447840137" onmouseenter="enter('4004759904447840137');" onmouseout="out('4004759904447840137');" style=""> 195          JobRescheduleService.startService(mContext);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 196 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 197 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 198 -    /**                                                                                                           </span>
<span class="-2333516481115667517" onmouseenter="enter('-2333516481115667517');" onmouseout="out('-2333516481115667517');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 199 -     * @return The current configuration for the job manager.                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 200 -     */                                                                                                           </span>
<span class="7325271861755578433" onmouseenter="enter('7325271861755578433');" onmouseout="out('7325271861755578433');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 201 -    public Config getConfig() {                                                                                   </span>
<span class="-7756481640167229217" onmouseenter="enter('-7756481640167229217');" onmouseout="out('-7756481640167229217');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -        return mConfig;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 203 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -                                                                                                                  </span>
<span class="3525394931999142379" onmouseenter="enter('3525394931999142379');" onmouseout="out('3525394931999142379');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 205 -    private void setJobProxy(JobApi api) {                                                                        </span>
<span class="-2983568284528358908" onmouseenter="enter('-2983568284528358908');" onmouseout="out('-2983568284528358908');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 206 -        mApi = api;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207      }                                                                                                             </span>
<span  style=""> 208                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 209      /**                                                                                                           </span>
<span class="4679140648952926498" onmouseenter="enter('4679140648952926498');" onmouseout="out('4679140648952926498');" style=""> 210       * Schedule a request which will be executed in the future. If you want to update an existing                 </span>
<span class="-6474852299073293749" onmouseenter="enter('-6474852299073293749');" onmouseout="out('-6474852299073293749');" style=""> 211       * {@link JobRequest}, call {@link JobRequest#cancelAndEdit()}, update your parameters and call               </span>
<span class="-6365815971422533220" onmouseenter="enter('-6365815971422533220');" onmouseout="out('-6365815971422533220');" style=""> 212       * this method again. Calling this method with the same request multiple times without cancelling             </span>
<span class="1286211055587698364" onmouseenter="enter('1286211055587698364');" onmouseout="out('1286211055587698364');" style=""> 213       * it is idempotent.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 214       *                                                                                                            </span>
<span class="-8259863996068047826" onmouseenter="enter('-8259863996068047826');" onmouseout="out('-8259863996068047826');" style=""> 215       * @param request The {@link JobRequest} which will run in the future.                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 216       */                                                                                                           </span>
<span class="2776768223143191424" onmouseenter="enter('2776768223143191424');" onmouseout="out('2776768223143191424');" style=""> 217      public void schedule(@NonNull JobRequest request) {                                                           </span>
<span class="-7795555679296930499" onmouseenter="enter('-7795555679296930499');" onmouseout="out('-7795555679296930499');" style=""> 218          if (mJobCreatorHolder.isEmpty()) {                                                                        </span>
<span class="4846992933241026765" onmouseenter="enter('4846992933241026765');" onmouseout="out('4846992933241026765');" style=""><abbr title=" 219              CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will be executed&quot;);"> 219              CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220          }                                                                                                         </span>
<span  style=""> 221                                                                                                                    </span>
<span class="4582221295713266952" onmouseenter="enter('4582221295713266952');" onmouseout="out('4582221295713266952');" style=""> 222          if (request.getScheduledAt() &gt; 0) {                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 223              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224          }                                                                                                         </span>
<span  style=""> 225                                                                                                                    </span>
<span class="-8632893038712403625" onmouseenter="enter('-8632893038712403625');" onmouseout="out('-8632893038712403625');" style=""> 226          if (request.isUpdateCurrent()) {                                                                          </span>
<span class="-9112990761468512458" onmouseenter="enter('-9112990761468512458');" onmouseout="out('-9112990761468512458');" style=""> 227              cancelAllForTag(request.getTag());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228          }                                                                                                         </span>
<span  style=""> 229                                                                                                                    </span>
<span class="-1056428182754675341" onmouseenter="enter('-1056428182754675341');" onmouseout="out('-1056428182754675341');" style=""> 230          JobProxy.Common.cleanUpOrphanedJob(mContext, request.getJobId());                                         </span>
<span  style=""> 231                                                                                                                    </span>
<span class="-5307853377216076341" onmouseenter="enter('-5307853377216076341');" onmouseout="out('-5307853377216076341');" style=""> 232          JobApi jobApi = request.getJobApi();                                                                      </span>
<span class="-5710733141355361029" onmouseenter="enter('-5710733141355361029');" onmouseout="out('-5710733141355361029');" style=""> 233          boolean periodic = request.isPeriodic();                                                                  </span>
<span class="2465709902581257276" onmouseenter="enter('2465709902581257276');" onmouseout="out('2465709902581257276');" style=""> 234          boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getIntervalMs();</span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 235 -                                                                                                                  </span>
<span class="-3429721628817359517" onmouseenter="enter('-3429721628817359517');" onmouseout="out('-3429721628817359517');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 236 -        if (jobApi == JobApi.GCM &amp;&amp; !mConfig.isGcmApiEnabled()) {                                                 </span>
<span class="6542896443959617788" onmouseenter="enter('6542896443959617788');" onmouseout="out('6542896443959617788');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 237 -            // shouldn&#x27;t happen                                                                                   </span>
<span class="2334534478293560871" onmouseenter="enter('2334534478293560871');" onmouseout="out('2334534478293560871');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 238 -            CAT.w(&quot;GCM API disabled, but used nonetheless&quot;);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 239 -        }                                                                                                         </span>
<span  style=""> 240                                                                                                                    </span>
<span class="5525198511073900031" onmouseenter="enter('5525198511073900031');" onmouseout="out('5525198511073900031');" style=""> 241          request.setScheduledAt(System.currentTimeMillis());                                                       </span>
<span class="-2755250820141061807" onmouseenter="enter('-2755250820141061807');" onmouseout="out('-2755250820141061807');" style=""> 242          request.setFlexSupport(flexSupport);                                                                      </span>
<span class="160746343038222394" onmouseenter="enter('160746343038222394');" onmouseout="out('160746343038222394');" style=""> 243          mJobStorage.put(request);                                                                                 </span>
<span  style=""> 244                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 245          try {                                                                                                     </span>
<span class="-5212932452371522440" onmouseenter="enter('-5212932452371522440');" onmouseout="out('-5212932452371522440');" style=""> 246              JobProxy proxy = getJobProxy(jobApi);                                                                 </span>
<span class="7876141546147703421" onmouseenter="enter('7876141546147703421');" onmouseout="out('7876141546147703421');" style=""> 247              if (periodic) {                                                                                       </span>
<span class="-1055856358312839038" onmouseenter="enter('-1055856358312839038');" onmouseout="out('-1055856358312839038');" style=""> 248                  if (flexSupport) {                                                                                </span>
<span class="-6103196782000436732" onmouseenter="enter('-6103196782000436732');" onmouseout="out('-6103196782000436732');" style=""> 249                      proxy.plantPeriodicFlexSupport(request);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 250                  } else {                                                                                          </span>
<span class="7433992315357383214" onmouseenter="enter('7433992315357383214');" onmouseout="out('7433992315357383214');" style=""> 251                      proxy.plantPeriodic(request);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252                  }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 253              } else {                                                                                              </span>
<span class="-3061275110112395435" onmouseenter="enter('-3061275110112395435');" onmouseout="out('-3061275110112395435');" style=""> 254                  proxy.plantOneOff(request);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255              }                                                                                                     </span>





<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 256          } catch (Exception e) {                                                                                   </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 257              // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later              </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 258              mJobStorage.remove(request);                                                                          </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 259              throw e;                                                                                              </span>





































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261      }                                                                                                             </span>
<span  style=""> 262                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 263      /**                                                                                                           </span>
<span class="3064960884120212514" onmouseenter="enter('3064960884120212514');" onmouseout="out('3064960884120212514');" style=""> 264       * @param jobId The unique ID of the pending {@link JobRequest}.                                              </span>
<span class="6469387229254162696" onmouseenter="enter('6469387229254162696');" onmouseout="out('6469387229254162696');" style=""> 265       * @return The {@link JobRequest} if it&#x27;s pending or {@code null} otherwise.                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 266       */                                                                                                           </span>
<span class="4530850340944779402" onmouseenter="enter('4530850340944779402');" onmouseout="out('4530850340944779402');" style=""> 267      public JobRequest getJobRequest(int jobId) {                                                                  </span>
<span class="-5857636161752714598" onmouseenter="enter('-5857636161752714598');" onmouseout="out('-5857636161752714598');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -        return getJobRequest(jobId, false);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 269 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 270 -                                                                                                                  </span>
<span class="2500160411663795262" onmouseenter="enter('2500160411663795262');" onmouseout="out('2500160411663795262');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 271 -    /*package*/ JobRequest getJobRequest(int jobId, boolean includeTransient) {                                   </span>
<span class="-7252995828425525073" onmouseenter="enter('-7252995828425525073');" onmouseout="out('-7252995828425525073');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 272 +        JobRequest request = getJobRequest(jobId, false);                                                         </span>
<span class="-8112354260220160123" onmouseenter="enter('-8112354260220160123');" onmouseout="out('-8112354260220160123');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 273 +        if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 273 +        if (request != null &amp;&amp; request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobSchedðŸ”µ</abbr></span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 274 +            getJobStorage().remove(request);                                                                      </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 275 +            return null;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +        } else {                                                                                                  </span>
<span class="-1057636993633179522" onmouseenter="enter('-1057636993633179522');" onmouseout="out('-1057636993633179522');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +            return request;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +                                                                                                                  </span>
<span class="-7845197049665414638" onmouseenter="enter('-7845197049665414638');" onmouseout="out('-7845197049665414638');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +    /*package*/ JobRequest getJobRequest(int jobId, boolean includeStarted) {                                     </span>
<span class="-5531317873884629325" onmouseenter="enter('-5531317873884629325');" onmouseout="out('-5531317873884629325');" style=""> 282          JobRequest jobRequest = mJobStorage.get(jobId);                                                           </span>
<span class="5129448474101956706" onmouseenter="enter('5129448474101956706');" onmouseout="out('5129448474101956706');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 283 -        if (!includeTransient &amp;&amp; jobRequest != null &amp;&amp; jobRequest.isTransient()) {                                </span>
<span class="-6202240476544038016" onmouseenter="enter('-6202240476544038016');" onmouseout="out('-6202240476544038016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +        if (!includeStarted &amp;&amp; jobRequest != null &amp;&amp; jobRequest.isStarted()) {                                    </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 285              return null;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 286          } else {                                                                                                  </span>
<span class="1321635456186586623" onmouseenter="enter('1321635456186586623');" onmouseout="out('1321635456186586623');" style=""> 287              return jobRequest;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289      }                                                                                                             </span>
<span  style=""> 290                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 291      /**                                                                                                           </span>
<span class="-2795365204268997935" onmouseenter="enter('-2795365204268997935');" onmouseout="out('-2795365204268997935');" style=""> 292       * @return A duplicate {@link Set} containing all pending JobRequests or an empty set.                        </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 293       * Never returns {@code null}. The set may be modified without direct effects to the actual                   </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 294       * backing store.                                                                                             </span>
<span class="-6719692607126398741" onmouseenter="enter('-6719692607126398741');" onmouseout="out('-6719692607126398741');" style=""> 295       * @see #getJobRequest(int)                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 296       */                                                                                                           </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 297      @NonNull                                                                                                      </span>
<span class="-904804239476561306" onmouseenter="enter('-904804239476561306');" onmouseout="out('-904804239476561306');" style=""> 298      public Set&lt;JobRequest&gt; getAllJobRequests() {                                                                  </span>
<span class="-1407601823679785908" onmouseenter="enter('-1407601823679785908');" onmouseout="out('-1407601823679785908');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 299 -        return mJobStorage.getAllJobRequests(null, false);                                                        </span>
<span class="-4056537523809507073" onmouseenter="enter('-4056537523809507073');" onmouseout="out('-4056537523809507073');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 300 +        return getAllJobRequests(null, false, true);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301      }                                                                                                             </span>
<span  style=""> 302                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 303      /**                                                                                                           </span>
<span class="-150075778014394998" onmouseenter="enter('-150075778014394998');" onmouseout="out('-150075778014394998');" style=""> 304       * @param tag The tag of the pending requests.                                                                </span>
<span class="-9117837997679760057" onmouseenter="enter('-9117837997679760057');" onmouseout="out('-9117837997679760057');" style=""> 305       * @return A duplicate {@link Set} containing all pending JobRequests associated with this                    </span>
<span class="-7265545497128514879" onmouseenter="enter('-7265545497128514879');" onmouseout="out('-7265545497128514879');" style=""> 306       * {@code tag} or an empty set. Never returns {@code null}. The set may be modified without                   </span>
<span class="227177932876004689" onmouseenter="enter('227177932876004689');" onmouseout="out('227177932876004689');" style=""> 307       * direct effects to the actual backing store.                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 308       */                                                                                                           </span>
<span class="7606149447514232888" onmouseenter="enter('7606149447514232888');" onmouseout="out('7606149447514232888');" style=""> 309      public Set&lt;JobRequest&gt; getAllJobRequestsForTag(@NonNull String tag) {                                         </span>
<span class="6816289723485096017" onmouseenter="enter('6816289723485096017');" onmouseout="out('6816289723485096017');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 310 -        return mJobStorage.getAllJobRequests(tag, false);                                                         </span>
<span class="-1680391097053339067" onmouseenter="enter('-1680391097053339067');" onmouseout="out('-1680391097053339067');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 311 +        return getAllJobRequests(tag, false, true);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 312 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 313 +                                                                                                                  </span>
<span class="6408193287731579769" onmouseenter="enter('6408193287731579769');" onmouseout="out('6408193287731579769');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 314 +    /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cleanUpTransient) {"> 314 +    /*package*/ Set&lt;JobRequest&gt; getAllJobRequests(@Nullable String tag, boolean includeStarted, boolean cleanUpTraðŸ”µ</abbr></span>
<span class="-3391880267753682379" onmouseenter="enter('-3391880267753682379');" onmouseout="out('-3391880267753682379');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 315 +        Set&lt;JobRequest&gt; requests = mJobStorage.getAllJobRequests(tag, includeStarted);                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 316 +                                                                                                                  </span>
<span class="-8631483291416443164" onmouseenter="enter('-8631483291416443164');" onmouseout="out('-8631483291416443164');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 317 +        if (cleanUpTransient) {                                                                                   </span>
<span class="-7058077327815782771" onmouseenter="enter('-7058077327815782771');" onmouseout="out('-7058077327815782771');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 318 +            Iterator&lt;JobRequest&gt; iterator = requests.iterator();                                                  </span>
<span class="977968488612897428" onmouseenter="enter('977968488612897428');" onmouseout="out('977968488612897428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 319 +            while (iterator.hasNext()) {                                                                          </span>
<span class="-4417243110705220216" onmouseenter="enter('-4417243110705220216');" onmouseout="out('-4417243110705220216');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 320 +                JobRequest request = iterator.next();                                                             </span>
<span class="-6106673260388651439" onmouseenter="enter('-6106673260388651439');" onmouseout="out('-6106673260388651439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 321 +                if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(request)) {"> 321 +                if (request.isTransient() &amp;&amp; !request.getJobApi().getProxy(mContext).isPlatformJobScheduled(requesðŸ”µ</abbr></span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +                    mJobStorage.remove(request);                                                                  </span>
<span class="-6215380074365660212" onmouseenter="enter('-6215380074365660212');" onmouseout="out('-6215380074365660212');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 323 +                    iterator.remove();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 324 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 325 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 326 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 327 +                                                                                                                  </span>
<span class="-5077199918271732388" onmouseenter="enter('-5077199918271732388');" onmouseout="out('-5077199918271732388');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 328 +        return requests;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329      }                                                                                                             </span>
<span  style=""> 330                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 331      /**                                                                                                           </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 332       * Jobs are cached in memory even if they already have finished. But finished jobs are never                  </span>
<span class="7788897207505020184" onmouseenter="enter('7788897207505020184');" onmouseout="out('7788897207505020184');" style=""> 333       * restored after the app has launched.                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 334       *                                                                                                            </span>
<span class="-477643776901211056" onmouseenter="enter('-477643776901211056');" onmouseout="out('-477643776901211056');" style=""> 335       * @param jobId The unique ID of the running or finished {@link Job}.                                         </span>
<span class="3270382225864694524" onmouseenter="enter('3270382225864694524');" onmouseout="out('3270382225864694524');" style=""> 336       * @return The {@link Job} if it&#x27;s running or has been finished and is still cached. Returns                  </span>
<span class="-6075858023683971376" onmouseenter="enter('-6075858023683971376');" onmouseout="out('-6075858023683971376');" style=""> 337       * {@code null} otherwise.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 338       */                                                                                                           </span>
<span class="-8891493209915902483" onmouseenter="enter('-8891493209915902483');" onmouseout="out('-8891493209915902483');" style=""> 339      public Job getJob(int jobId) {                                                                                </span>
<span class="-4499975465953320235" onmouseenter="enter('-4499975465953320235');" onmouseout="out('-4499975465953320235');" style=""> 340          return mJobExecutor.getJob(jobId);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341      }                                                                                                             </span>
<span  style=""> 342                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 343      /**                                                                                                           </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 344       * Jobs are cached in memory even if they already have finished. But finished jobs are never                  </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 345       * restored after the app has relaunched.                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 346       *                                                                                                            </span>
<span class="6351768175198237647" onmouseenter="enter('6351768175198237647');" onmouseout="out('6351768175198237647');" style=""> 347       * @return A duplicate {@link Set} containing all running and cached finished jobs or an empty set.           </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 348       * Never returns {@code null}. The set may be modified without direct effects to the actual                   </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 349       * backing store.                                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 350       */                                                                                                           </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 351      @NonNull                                                                                                      </span>
<span class="8418659341190675341" onmouseenter="enter('8418659341190675341');" onmouseout="out('8418659341190675341');" style=""> 352      public Set&lt;Job&gt; getAllJobs() {                                                                                </span>
<span class="-7361375259582502195" onmouseenter="enter('-7361375259582502195');" onmouseout="out('-7361375259582502195');" style=""> 353          return mJobExecutor.getAllJobs();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354      }                                                                                                             </span>
<span  style=""> 355                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 356      /**                                                                                                           </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 357       * Jobs are cached in memory even if they already have finished. But finished jobs are never                  </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 358       * restored after the app has relaunched.                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 359       *                                                                                                            </span>
<span class="2906193900356196417" onmouseenter="enter('2906193900356196417');" onmouseout="out('2906193900356196417');" style=""> 360       * @param tag The tag of the running or finished jobs.                                                        </span>
<span class="8402316346887233918" onmouseenter="enter('8402316346887233918');" onmouseout="out('8402316346887233918');" style=""> 361       * @return A duplicate {@link Set} containing all running and cached finished jobs associated with            </span>
<span class="-1417987523275095960" onmouseenter="enter('-1417987523275095960');" onmouseout="out('-1417987523275095960');" style=""> 362       * this tag or an empty set. Never returns {@code null}. The set may be modified without direct               </span>
<span class="7642857653547301659" onmouseenter="enter('7642857653547301659');" onmouseout="out('7642857653547301659');" style=""> 363       * effects to the actual backing store.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 364       */                                                                                                           </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 365      @NonNull                                                                                                      </span>
<span class="-1926037323071405748" onmouseenter="enter('-1926037323071405748');" onmouseout="out('-1926037323071405748');" style=""> 366      public Set&lt;Job&gt; getAllJobsForTag(@NonNull String tag) {                                                       </span>
<span class="-2996654579181227013" onmouseenter="enter('-2996654579181227013');" onmouseout="out('-2996654579181227013');" style=""> 367          return mJobExecutor.getAllJobsForTag(tag);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 368 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 369 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 370 -    /**                                                                                                           </span>
<span class="2587937291576680177" onmouseenter="enter('2587937291576680177');" onmouseout="out('2587937291576680177');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 371 -     * &lt;b&gt;WARNING:&lt;/b&gt; You shouldn&#x27;t call this method. It only exists for testing and debugging                   </span>
<span class="-9167558756008145831" onmouseenter="enter('-9167558756008145831');" onmouseout="out('-9167558756008145831');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 372 -     * purposes. The {@link JobManager} automatically decides which API suits best for a {@link Job}.             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 373 -     *                                                                                                            </span>
<span class="-4351993449750147189" onmouseenter="enter('-4351993449750147189');" onmouseout="out('-4351993449750147189');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 374 -     * @param api The {@link JobApi} which will be used for future scheduled JobRequests.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 375 -     */                                                                                                           </span>
<span class="345020057247547493" onmouseenter="enter('345020057247547493');" onmouseout="out('345020057247547493');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 376 -    public void forceApi(@NonNull JobApi api) {                                                                   </span>
<span class="-5644628693159332596" onmouseenter="enter('-5644628693159332596');" onmouseout="out('-5644628693159332596');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 377 -        setJobProxy(JobPreconditions.checkNotNull(api));                                                          </span>
<span class="-5704814919429376990" onmouseenter="enter('-5704814919429376990');" onmouseout="out('-5704814919429376990');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 378 -        CAT.w(&quot;Changed API to %s&quot;, api);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 379 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 380 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 381 -    /**                                                                                                           </span>
<span class="-6921464371717990912" onmouseenter="enter('-6921464371717990912');" onmouseout="out('-6921464371717990912');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 382 -     * &lt;b&gt;WARNING:&lt;/b&gt; Don&#x27;t rely your logic on a specific {@link JobApi}. You shouldn&#x27;t be worrying              </span>
<span class="1400609579600531809" onmouseenter="enter('1400609579600531809');" onmouseout="out('1400609579600531809');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 383 -     * about it.                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 384 -     *                                                                                                            </span>
<span class="8744593103372264720" onmouseenter="enter('8744593103372264720');" onmouseout="out('8744593103372264720');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 385 -     * @return The current {@link JobApi} which will be used for future schedules JobRequests.                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 386 -     */                                                                                                           </span>
<span class="5860151052892177460" onmouseenter="enter('5860151052892177460');" onmouseout="out('5860151052892177460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 387 -    public JobApi getApi() {                                                                                      </span>
<span class="-6211835887782715687" onmouseenter="enter('-6211835887782715687');" onmouseout="out('-6211835887782715687');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 388 -        return mApi;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389      }                                                                                                             </span>
<span  style=""> 390                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 391      /**                                                                                                           </span>
<span class="-6103119810253935707" onmouseenter="enter('-6103119810253935707');" onmouseout="out('-6103119810253935707');" style=""> 392       * Cancel either the pending {@link JobRequest} or the running {@link Job}.                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 393       *                                                                                                            </span>
<span class="3580206770342842161" onmouseenter="enter('3580206770342842161');" onmouseout="out('3580206770342842161');" style=""> 394       * @param jobId The unique ID of the {@link JobRequest} or running {@link Job}.                               </span>
<span class="-3440894550164723212" onmouseenter="enter('-3440894550164723212');" onmouseout="out('-3440894550164723212');" style=""> 395       * @return {@code true} if a request or job were found and canceled.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 396       */                                                                                                           </span>
<span class="4673154767055309132" onmouseenter="enter('4673154767055309132');" onmouseout="out('4673154767055309132');" style=""> 397      public boolean cancel(int jobId) {                                                                            </span>
<span class="5725682512990717913" onmouseenter="enter('5725682512990717913');" onmouseout="out('5725682512990717913');" style=""> 398          // call both methods                                                                                      </span>
<span class="-1940195083171434309" onmouseenter="enter('-1940195083171434309');" onmouseout="out('-1940195083171434309');" style=""> 399          boolean result = cancelInner(getJobRequest(jobId, true)) | cancelInner(getJob(jobId));                    </span>
<span class="-3607491956005698732" onmouseenter="enter('-3607491956005698732');" onmouseout="out('-3607491956005698732');" style=""> 400          JobProxy.Common.cleanUpOrphanedJob(mContext, jobId); // do this as well, just in case                     </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 401          return result;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402      }                                                                                                             </span>
<span  style=""> 403                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 404      /**                                                                                                           </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 405       * Cancel all pending JobRequests and running jobs.                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 406       *                                                                                                            </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 407       * @return The count of canceled requests and running jobs.                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 408       */                                                                                                           </span>
<span class="8727086670966112864" onmouseenter="enter('8727086670966112864');" onmouseout="out('8727086670966112864');" style=""> 409      public int cancelAll() {                                                                                      </span>
<span class="5548992301459760488" onmouseenter="enter('5548992301459760488');" onmouseout="out('5548992301459760488');" style=""> 410          return cancelAllInner(null);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411      }                                                                                                             </span>
<span  style=""> 412                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 413      /**                                                                                                           </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 414       * Cancel all pending JobRequests and running jobs.                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 415       *                                                                                                            </span>
<span class="6528904863027268115" onmouseenter="enter('6528904863027268115');" onmouseout="out('6528904863027268115');" style=""> 416       * @param tag The tag of the pending job requests and running jobs.                                           </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 417       * @return The count of canceled requests and running jobs.                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 418       */                                                                                                           </span>
<span class="5906534252688636933" onmouseenter="enter('5906534252688636933');" onmouseout="out('5906534252688636933');" style=""> 419      public int cancelAllForTag(@NonNull String tag) {                                                             </span>
<span class="-6560658895372623261" onmouseenter="enter('-6560658895372623261');" onmouseout="out('-6560658895372623261');" style=""> 420          return cancelAllInner(tag);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421      }                                                                                                             </span>
<span  style=""> 422                                                                                                                    </span>
<span class="7928609490831193515" onmouseenter="enter('7928609490831193515');" onmouseout="out('7928609490831193515');" style=""> 423      private boolean cancelInner(@Nullable JobRequest request) {                                                   </span>
<span class="-5752363771942989481" onmouseenter="enter('-5752363771942989481');" onmouseout="out('-5752363771942989481');" style=""> 424          if (request != null) {                                                                                    </span>
<span class="-1957380641916611906" onmouseenter="enter('-1957380641916611906');" onmouseout="out('-1957380641916611906');" style=""> 425              CAT.i(&quot;Found pending job %s, canceling&quot;, request);                                                    </span>
<span class="5476226419543857215" onmouseenter="enter('5476226419543857215');" onmouseout="out('5476226419543857215');" style=""> 426              getJobProxy(request).cancel(request.getJobId());                                                      </span>

<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 427              getJobStorage().remove(request);                                                                      </span>
<span class="2741448270392278661" onmouseenter="enter('2741448270392278661');" onmouseout="out('2741448270392278661');" style=""> 428              request.setScheduledAt(0); // reset value                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 429              return true;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 430          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 431              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433      }                                                                                                             </span>
<span  style=""> 434                                                                                                                    </span>
<span class="-2812357644034813946" onmouseenter="enter('-2812357644034813946');" onmouseout="out('-2812357644034813946');" style=""> 435      private boolean cancelInner(@Nullable Job job) {                                                              </span>
<span class="-5589369764618585430" onmouseenter="enter('-5589369764618585430');" onmouseout="out('-5589369764618585430');" style=""> 436          if (job != null &amp;&amp; !job.isFinished() &amp;&amp; !job.isCanceled()) {                                              </span>
<span class="-8982583685600169823" onmouseenter="enter('-8982583685600169823');" onmouseout="out('-8982583685600169823');" style=""> 437              CAT.i(&quot;Cancel running %s&quot;, job);                                                                      </span>
<span class="4461932157820875057" onmouseenter="enter('4461932157820875057');" onmouseout="out('4461932157820875057');" style=""> 438              job.cancel(true);                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 439              return true;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 440          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 441              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 442          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443      }                                                                                                             </span>
<span  style=""> 444                                                                                                                    </span>
<span class="7007551180782804914" onmouseenter="enter('7007551180782804914');" onmouseout="out('7007551180782804914');" style=""> 445      private synchronized int cancelAllInner(@Nullable String tag) {                                               </span>
<span class="5445881552498440941" onmouseenter="enter('5445881552498440941');" onmouseout="out('5445881552498440941');" style=""> 446          int canceled = 0;                                                                                         </span>
<span  style=""> 447                                                                                                                    </span>
<span class="-8365356409485725420" onmouseenter="enter('-8365356409485725420');" onmouseout="out('-8365356409485725420');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 448 -        Set&lt;JobRequest&gt; requests = mJobStorage.getAllJobRequests(tag, true);                                      </span>
<span class="3905651976412403334" onmouseenter="enter('3905651976412403334');" onmouseout="out('3905651976412403334');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 449 +        Set&lt;JobRequest&gt; requests = getAllJobRequests(tag, true, false);                                           </span>
<span class="9124327587248213004" onmouseenter="enter('9124327587248213004');" onmouseout="out('9124327587248213004');" style=""> 450          for (JobRequest request : requests) {                                                                     </span>
<span class="46316550467126677" onmouseenter="enter('46316550467126677');" onmouseout="out('46316550467126677');" style=""> 451              if (cancelInner(request)) {                                                                           </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 452                  canceled++;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454          }                                                                                                         </span>
<span  style=""> 455                                                                                                                    </span>
<span class="-155981268798468651" onmouseenter="enter('-155981268798468651');" onmouseout="out('-155981268798468651');" style=""> 456          //noinspection ConstantConditions                                                                         </span>
<span class="-6218879424337666353" onmouseenter="enter('-6218879424337666353');" onmouseout="out('-6218879424337666353');" style=""> 457          Set&lt;Job&gt; jobs = TextUtils.isEmpty(tag) ? getAllJobs() : getAllJobsForTag(tag);                            </span>
<span class="977767777964782313" onmouseenter="enter('977767777964782313');" onmouseout="out('977767777964782313');" style=""> 458          for (Job job : jobs) {                                                                                    </span>
<span class="-2976205724987486146" onmouseenter="enter('-2976205724987486146');" onmouseout="out('-2976205724987486146');" style=""> 459              if (cancelInner(job)) {                                                                               </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 460                  canceled++;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 462          }                                                                                                         </span>
<span class="-2118177486513212743" onmouseenter="enter('-2118177486513212743');" onmouseout="out('-2118177486513212743');" style=""> 463          return canceled;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 464      }                                                                                                             </span>
<span  style=""> 465                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 466      /**                                                                                                           </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 467 -     * Global switch to enable or disable logging.                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 468 -     *                                                                                                            </span>
<span class="4771316842434194261" onmouseenter="enter('4771316842434194261');" onmouseout="out('4771316842434194261');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 469 -     * @param verbose Whether or not to print log messages.                                                       </span>
<span class="6912080662004435371" onmouseenter="enter('6912080662004435371');" onmouseout="out('6912080662004435371');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 470 -     * @deprecated Use {@link Config#setVerbose(boolean)} instead.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 471 -     */                                                                                                           </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 472 -    @Deprecated                                                                                                   </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 473 -    public void setVerbose(boolean verbose) {                                                                     </span>
<span class="-1748325686137947820" onmouseenter="enter('-1748325686137947820');" onmouseout="out('-1748325686137947820');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 474 -        mConfig.setVerbose(verbose);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 475 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 476 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 477 -    /**                                                                                                           </span>
<span class="6798512724525576867" onmouseenter="enter('6798512724525576867');" onmouseout="out('6798512724525576867');" style=""> 478       * Registers this instance to create jobs for a specific tag. It&#x27;s possible to have multiple                  </span>
<span class="-8744317698350024298" onmouseenter="enter('-8744317698350024298');" onmouseout="out('-8744317698350024298');" style=""> 479       * {@link JobCreator}s with a first come first serve order.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 480       *                                                                                                            </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 481       * @param jobCreator The mapping between a specific job tag and the job class.                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 482       */                                                                                                           </span>
<span class="-2491458967670828165" onmouseenter="enter('-2491458967670828165');" onmouseout="out('-2491458967670828165');" style=""> 483      public void addJobCreator(JobCreator jobCreator) {                                                            </span>
<span class="4475667171028624254" onmouseenter="enter('4475667171028624254');" onmouseout="out('4475667171028624254');" style=""> 484          mJobCreatorHolder.addJobCreator(jobCreator);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 485      }                                                                                                             </span>
<span  style=""> 486                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 487      /**                                                                                                           </span>
<span class="-4564346032900638715" onmouseenter="enter('-4564346032900638715');" onmouseout="out('-4564346032900638715');" style=""> 488       * Remove the mapping to stop it from creating new jobs.                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 489       *                                                                                                            </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 490       * @param jobCreator The mapping between a specific job tag and the job class.                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 491       */                                                                                                           </span>
<span class="-6484177490967554570" onmouseenter="enter('-6484177490967554570');" onmouseout="out('-6484177490967554570');" style=""> 492      public void removeJobCreator(JobCreator jobCreator) {                                                         </span>
<span class="-539536155610817324" onmouseenter="enter('-539536155610817324');" onmouseout="out('-539536155610817324');" style=""> 493          mJobCreatorHolder.removeJobCreator(jobCreator);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494      }                                                                                                             </span>
<span  style=""> 495                                                                                                                    </span>
<span class="-9025857433666575285" onmouseenter="enter('-9025857433666575285');" onmouseout="out('-9025857433666575285');" style=""> 496      /*package*/ JobStorage getJobStorage() {                                                                      </span>
<span class="7567809637669260331" onmouseenter="enter('7567809637669260331');" onmouseout="out('7567809637669260331');" style=""> 497          return mJobStorage;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 498      }                                                                                                             </span>
<span  style=""> 499                                                                                                                    </span>
<span class="7576466200489518989" onmouseenter="enter('7576466200489518989');" onmouseout="out('7576466200489518989');" style=""> 500      /*package*/ JobExecutor getJobExecutor() {                                                                    </span>
<span class="-1765880259966525073" onmouseenter="enter('-1765880259966525073');" onmouseout="out('-1765880259966525073');" style=""> 501          return mJobExecutor;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 502      }                                                                                                             </span>
<span  style=""> 503                                                                                                                    </span>
<span class="6727805992909117493" onmouseenter="enter('6727805992909117493');" onmouseout="out('6727805992909117493');" style=""> 504      /*package*/ JobCreatorHolder getJobCreatorHolder() {                                                          </span>
<span class="-3612182450615984670" onmouseenter="enter('-3612182450615984670');" onmouseout="out('-3612182450615984670');" style=""> 505          return mJobCreatorHolder;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506      }                                                                                                             </span>
<span  style=""> 507                                                                                                                    </span>
<span class="6908334764837028449" onmouseenter="enter('6908334764837028449');" onmouseout="out('6908334764837028449');" style=""> 508      /*package*/ Context getContext() {                                                                            </span>
<span class="5958236384696658256" onmouseenter="enter('5958236384696658256');" onmouseout="out('5958236384696658256');" style=""> 509          return mContext;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 510      }                                                                                                             </span>
<span  style=""> 511                                                                                                                    </span>
<span class="4070471043727310040" onmouseenter="enter('4070471043727310040');" onmouseout="out('4070471043727310040');" style=""> 512      /*package*/ void destroy() {                                                                                  </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 513          synchronized (JobManager.class) {                                                                         </span>
<span class="4675221880685402786" onmouseenter="enter('4675221880685402786');" onmouseout="out('4675221880685402786');" style=""> 514              instance = null;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 516      }                                                                                                             </span>
<span  style=""> 517                                                                                                                    </span>
<span class="4824166657412608889" onmouseenter="enter('4824166657412608889');" onmouseout="out('4824166657412608889');" style=""> 518      /*package*/ JobProxy getJobProxy(JobRequest request) {                                                        </span>
<span class="-2965969964131507785" onmouseenter="enter('-2965969964131507785');" onmouseout="out('-2965969964131507785');" style=""> 519          return getJobProxy(request.getJobApi());                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520      }                                                                                                             </span>
<span  style=""> 521                                                                                                                    </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style=""> 522      private JobProxy getJobProxy(JobApi api) {                                                                    </span>







<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 523 -        return api.getCachedProxy(mContext);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 524 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 525 -                                                                                                                  </span>
<span class="5819839472839663113" onmouseenter="enter('5819839472839663113');" onmouseout="out('5819839472839663113');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 526 -    // TODO: extract this class so that settings can be changed before the JobManager has been created            </span>
<span class="-3926233336101017429" onmouseenter="enter('-3926233336101017429');" onmouseout="out('-3926233336101017429');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 527 -    public final class Config {                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 528 -                                                                                                                  </span>
<span class="4478366925575527288" onmouseenter="enter('4478366925575527288');" onmouseout="out('4478366925575527288');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 529 -        private boolean mGcmEnabled;                                                                              </span>
<span class="3222940311196365219" onmouseenter="enter('3222940311196365219');" onmouseout="out('3222940311196365219');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 530 -        private boolean mAllowSmallerIntervals;                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 531 -                                                                                                                  </span>
<span class="1352959930409426534" onmouseenter="enter('1352959930409426534');" onmouseout="out('1352959930409426534');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 532 -        private Config() {                                                                                        </span>
<span class="-5278119484705127312" onmouseenter="enter('-5278119484705127312');" onmouseout="out('-5278119484705127312');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 533 -            mGcmEnabled = true;                                                                                   </span>
<span class="5402993595528484637" onmouseenter="enter('5402993595528484637');" onmouseout="out('5402993595528484637');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 534 -            mAllowSmallerIntervals = false;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 535 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 536 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 537 -        /**                                                                                                       </span>
<span class="-2537676166129027872" onmouseenter="enter('-2537676166129027872');" onmouseout="out('-2537676166129027872');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 538 -         * @return Whether logging is enabled for this library. The default value is {@code true}.                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 539 -         */                                                                                                       </span>
<span class="-2746772116937722358" onmouseenter="enter('-2746772116937722358');" onmouseout="out('-2746772116937722358');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 540 -        public boolean isVerbose() {                                                                              </span>
<span class="2727400873410512568" onmouseenter="enter('2727400873410512568');" onmouseout="out('2727400873410512568');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 541 -            return JobCat.isLogcatEnabled();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 542 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 543 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 544 -        /**                                                                                                       </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 545 -         * Global switch to enable or disable logging.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 546 -         *                                                                                                        </span>
<span class="2326612315460832419" onmouseenter="enter('2326612315460832419');" onmouseout="out('2326612315460832419');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 547 -         * @param verbose Whether or not to print all log messages. The default value is {@code true}.            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 548 -         */                                                                                                       </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 549 -        public void setVerbose(boolean verbose) {                                                                 </span>
<span class="6809609309523734693" onmouseenter="enter('6809609309523734693');" onmouseout="out('6809609309523734693');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 550 -            JobCat.setLogcatEnabled(verbose);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 551 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 552 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 553 -        /**                                                                                                       </span>
<span class="2860743404166892430" onmouseenter="enter('2860743404166892430');" onmouseout="out('2860743404166892430');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 554 -         * @return Whether the GCM API is enabled. The API is only used if the required class dependency          </span>
<span class="-1416738499443842717" onmouseenter="enter('-1416738499443842717');" onmouseout="out('-1416738499443842717');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 555 -         * is found, the Google Play Services are available and this setting is {@code true}. The default         </span>
<span class="8764218728113319363" onmouseenter="enter('8764218728113319363');" onmouseout="out('8764218728113319363');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 556 -         * value is {@code true}.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 557 -         */                                                                                                       </span>
<span class="-7429757744208332908" onmouseenter="enter('-7429757744208332908');" onmouseout="out('-7429757744208332908');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 558 -        public boolean isGcmApiEnabled() {                                                                        </span>
<span class="6191343166635185115" onmouseenter="enter('6191343166635185115');" onmouseout="out('6191343166635185115');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 559 -            return mGcmEnabled;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 560 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 561 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 562 -        /**                                                                                                       </span>
<span class="-9047021064026521936" onmouseenter="enter('-9047021064026521936');" onmouseout="out('-9047021064026521936');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 563 -         * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} will       </span>
<span class="8823200755718979838" onmouseenter="enter('8823200755718979838');" onmouseout="out('8823200755718979838');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 564 -         * be used for Android 4 devices in all cases.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 565 -         *                                                                                                        </span>
<span class="7265088581003835852" onmouseenter="enter('7265088581003835852');" onmouseout="out('7265088581003835852');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 566 -         * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only used,      </span>
<span class="2664427863390598737" onmouseenter="enter('2664427863390598737');" onmouseout="out('2664427863390598737');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 567 -         *                if the required class dependency is found, the Google Play Services are available       </span>
<span class="-9202610048813496906" onmouseenter="enter('-9202610048813496906');" onmouseout="out('-9202610048813496906');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 568 -         *                and this setting is {@code true}. The default value is {@code true}.                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 569 -         */                                                                                                       </span>
<span class="3131865423967228821" onmouseenter="enter('3131865423967228821');" onmouseout="out('3131865423967228821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 570 -        public void setGcmApiEnabled(boolean enabled) {                                                           </span>
<span class="-7781929993252071383" onmouseenter="enter('-7781929993252071383');" onmouseout="out('-7781929993252071383');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 571 -            if (enabled == mGcmEnabled) {                                                                         </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 572 -                return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 573 -            }                                                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 574 -                                                                                                                  </span>
<span class="1819590405292556164" onmouseenter="enter('1819590405292556164');" onmouseout="out('1819590405292556164');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 575 -            mGcmEnabled = enabled;                                                                                </span>
<span class="8012018722923764134" onmouseenter="enter('8012018722923764134');" onmouseout="out('8012018722923764134');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 576 -            if (enabled) {                                                                                        </span>
<span class="-6729800039701270501" onmouseenter="enter('-6729800039701270501');" onmouseout="out('-6729800039701270501');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 577 -                JobApi defaultApi = JobApi.getDefault(mContext, true);                                            </span>
<span class="-6209625822862365404" onmouseenter="enter('-6209625822862365404');" onmouseout="out('-6209625822862365404');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 578 -                if (!defaultApi.equals(getApi())) {                                                               </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 579 -                    setJobProxy(defaultApi);                                                                      </span>
<span class="2000942638680471923" onmouseenter="enter('2000942638680471923');" onmouseout="out('2000942638680471923');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 580 -                    CAT.i(&quot;Changed default proxy to %s after enabled the GCM API&quot;, defaultApi);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 581 -                }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 582 -            } else {                                                                                              </span>
<span class="5144537794263672794" onmouseenter="enter('5144537794263672794');" onmouseout="out('5144537794263672794');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 583 -                JobApi defaultApi = JobApi.getDefault(mContext, false);                                           </span>
<span class="1139195568582208331" onmouseenter="enter('1139195568582208331');" onmouseout="out('1139195568582208331');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 584 -                if (JobApi.GCM == getApi()) {                                                                     </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 585 -                    setJobProxy(defaultApi);                                                                      </span>
<span class="-6137765879787410515" onmouseenter="enter('-6137765879787410515');" onmouseout="out('-6137765879787410515');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 586 -                    CAT.i(&quot;Changed default proxy to %s after disabling the GCM API&quot;, defaultApi);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 587 -                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 588 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 589 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 590 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 591 -        /**                                                                                                       </span>
<span class="4313118545757178652" onmouseenter="enter('4313118545757178652');" onmouseout="out('4313118545757178652');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 592 -         * Checks whether a smaller interval and flex are allowed for periodic jobs. That&#x27;s helpful               </span>
<span class="-5286604884073347043" onmouseenter="enter('-5286604884073347043');" onmouseout="out('-5286604884073347043');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 593 -         * for testing purposes.                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 594 -         *                                                                                                        </span>
<span class="-3308748460175563567" onmouseenter="enter('-3308748460175563567');" onmouseout="out('-3308748460175563567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 595 -         * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jobs      </span>
<span class="4784110824834161936" onmouseenter="enter('4784110824834161936');" onmouseout="out('4784110824834161936');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 596 -         * are allowed. The default value is {@code false}.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 597 -         */                                                                                                       </span>
<span class="-3838585999741719363" onmouseenter="enter('-3838585999741719363');" onmouseout="out('-3838585999741719363');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 598 -        public boolean isAllowSmallerIntervalsForMarshmallow() {                                                  </span>
<span class="1030055021778218024" onmouseenter="enter('1030055021778218024');" onmouseout="out('1030055021778218024');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 599 -            return mAllowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 600 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 601 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 602 -        /**                                                                                                       </span>
<span class="-1869290568894580964" onmouseenter="enter('-1869290568894580964');" onmouseout="out('-1869290568894580964');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 603 -         * Option to override the minimum period and minimum flex for periodic jobs. This is useful for testing   </span>
<span class="-8595186122126529146" onmouseenter="enter('-8595186122126529146');" onmouseout="out('-8595186122126529146');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 604 -         * purposes. This method only works for Android M and earlier. Later versions throw an exception.         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 605 -         *                                                                                                        </span>
<span class="-1416855746077376306" onmouseenter="enter('-1416855746077376306');" onmouseout="out('-1416855746077376306');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 606 -         * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are allowed   </span>
<span class="7958399044345871138" onmouseenter="enter('7958399044345871138');" onmouseout="out('7958399044345871138');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 607 -         *                              for periodic jobs are allowed. The default value is {@code false}.        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 608 -         */                                                                                                       </span>
<span class="-2190831914101150490" onmouseenter="enter('-2190831914101150490');" onmouseout="out('-2190831914101150490');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 609 -        public void setAllowSmallerIntervalsForMarshmallow(boolean allowSmallerIntervals) {                       </span>
<span class="-8519533053547672810" onmouseenter="enter('-8519533053547672810');" onmouseout="out('-8519533053547672810');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 610 -            if (allowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {                        </span>
<span class="-3520998319495876499" onmouseenter="enter('-3520998319495876499');" onmouseout="out('-3520998319495876499');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 611 -                throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlier&quot;);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 612 -            }                                                                                                     </span>
<span class="-280008161972170539" onmouseenter="enter('-280008161972170539');" onmouseout="out('-280008161972170539');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 613 -            mAllowSmallerIntervals = allowSmallerIntervals;                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 614 -        }                                                                                                         </span>
<span class="-5205823727772511113" onmouseenter="enter('-5205823727772511113');" onmouseout="out('-5205823727772511113');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 615 +        return api.getProxy(mContext);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 616      }                                                                                                             </span>
<span  style=""> 617                                                                                                                    </span>
<span class="198676935402196211" onmouseenter="enter('198676935402196211');" onmouseout="out('198676935402196211');" style=""> 618      private static void sendAddJobCreatorIntent(@NonNull Context context) {                                       </span>
<span class="-5610909263414778784" onmouseenter="enter('-5610909263414778784');" onmouseout="out('-5610909263414778784');" style=""> 619          Intent intent = new Intent(JobCreator.ACTION_ADD_JOB_CREATOR);                                            </span>
<span class="1726009622345607958" onmouseenter="enter('1726009622345607958');" onmouseout="out('1726009622345607958');" style=""> 620          List&lt;ResolveInfo&gt; resolveInfos = context.getPackageManager().queryBroadcastReceivers(intent, 0);          </span>
<span class="1528436296094400725" onmouseenter="enter('1528436296094400725');" onmouseout="out('1528436296094400725');" style=""> 621          String myPackage = context.getPackageName();                                                              </span>
<span  style=""> 622                                                                                                                    </span>
<span class="-3902911217867890027" onmouseenter="enter('-3902911217867890027');" onmouseout="out('-3902911217867890027');" style=""> 623          for (ResolveInfo resolveInfo : resolveInfos) {                                                            </span>
<span class="5367414755120464835" onmouseenter="enter('5367414755120464835');" onmouseout="out('5367414755120464835');" style=""> 624              ActivityInfo activityInfo = resolveInfo.activityInfo;                                                 </span>
<span class="3799375487777701963" onmouseenter="enter('3799375487777701963');" onmouseout="out('3799375487777701963');" style=""> 625              if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageName)      </span>
<span class="1474928284409433713" onmouseenter="enter('1474928284409433713');" onmouseout="out('1474928284409433713');" style=""> 626                      || TextUtils.isEmpty(activityInfo.name)) {                                                    </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 627                  continue;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 628              }                                                                                                     </span>
<span  style=""> 629                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 630              try {                                                                                                 </span>
<span class="-3119421487431756924" onmouseenter="enter('-3119421487431756924');" onmouseout="out('-3119421487431756924');" style=""> 631                  JobCreator.AddJobCreatorReceiver receiver =                                                       </span>
<span class="462433870860114552" onmouseenter="enter('462433870860114552');" onmouseout="out('462433870860114552');" style=""> 632                          (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance();        </span>
<span  style=""> 633                                                                                                                    </span>
<span class="2828831418149522046" onmouseenter="enter('2828831418149522046');" onmouseout="out('2828831418149522046');" style=""> 634                  receiver.addJobCreator(context, instance);                                                        </span>
<span class="8538742657781196138" onmouseenter="enter('8538742657781196138');" onmouseout="out('8538742657781196138');" style=""> 635              } catch (Exception ignored) {                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 636              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 637          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 639  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-8822900351790619766" onmouseenter="enter('-8822900351790619766');" onmouseout="out('-8822900351790619766');" style="">   2   * Copyright 2007-present Evernote Corporation.                                                                   </span>
<span class="-2278367542838177584" onmouseenter="enter('-2278367542838177584');" onmouseout="out('-2278367542838177584');" style="">   3   * All rights reserved.                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   4   *                                                                                                                </span>
<span class="181301442133285836" onmouseenter="enter('181301442133285836');" onmouseout="out('181301442133285836');" style="">   5   * Redistribution and use in source and binary forms, with or without modification,                               </span>
<span class="-5073197948967426970" onmouseenter="enter('-5073197948967426970');" onmouseout="out('-5073197948967426970');" style="">   6   * are permitted provided that the following conditions are met:                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="8127251449117563942" onmouseenter="enter('8127251449117563942');" onmouseout="out('8127251449117563942');" style="">   8   * 1. Redistributions of source code must retain the above copyright notice, this                                 </span>
<span class="-1473911044945790828" onmouseenter="enter('-1473911044945790828');" onmouseout="out('-1473911044945790828');" style="">   9   *    list of conditions and the following disclaimer.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  10   *                                                                                                                </span>
<span class="4835137028529553232" onmouseenter="enter('4835137028529553232');" onmouseout="out('4835137028529553232');" style="">  11   * 2. Redistributions in binary form must reproduce the above copyright notice,                                   </span>
<span class="-1312443230807442131" onmouseenter="enter('-1312443230807442131');" onmouseout="out('-1312443230807442131');" style="">  12   *    this list of conditions and the following disclaimer in the documentation                                   </span>
<span class="-2067912076149043179" onmouseenter="enter('-2067912076149043179');" onmouseout="out('-2067912076149043179');" style="">  13   *    and/or other materials provided with the distribution.                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  14   *                                                                                                                </span>
<span class="-7721941782677048447" onmouseenter="enter('-7721941782677048447');" onmouseout="out('-7721941782677048447');" style="">  15   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND                                </span>
<span class="-5124048439450882348" onmouseenter="enter('-5124048439450882348');" onmouseout="out('-5124048439450882348');" style="">  16   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED                                  </span>
<span class="2277289959795125050" onmouseenter="enter('2277289959795125050');" onmouseout="out('2277289959795125050');" style="">  17   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.                             </span>
<span class="4422846307625339339" onmouseenter="enter('4422846307625339339');" onmouseout="out('4422846307625339339');" style="">  18   * IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,                                </span>
<span class="9023453646714579255" onmouseenter="enter('9023453646714579255');" onmouseout="out('9023453646714579255');" style="">  19   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                                 </span>
<span class="2153827234735713132" onmouseenter="enter('2153827234735713132');" onmouseout="out('2153827234735713132');" style="">  20   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,                                  </span>
<span class="5782830561991082866" onmouseenter="enter('5782830561991082866');" onmouseout="out('5782830561991082866');" style="">  21   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF                                </span>
<span class="-2513683953102966204" onmouseenter="enter('-2513683953102966204');" onmouseout="out('-2513683953102966204');" style="">  22   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE                                </span>
<span class="-6562574984275957691" onmouseenter="enter('-6562574984275957691');" onmouseout="out('-6562574984275957691');" style="">  23   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF                                      </span>
<span class="505998933154990042" onmouseenter="enter('505998933154990042');" onmouseout="out('505998933154990042');" style="">  24   * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  25   */                                                                                                               </span>
<span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">  26  package com.evernote.android.job;                                                                                 </span>
<span  style="">  27                                                                                                                    </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  28  import android.annotation.SuppressLint;                                                                           </span>
<span class="-5000705225306926876" onmouseenter="enter('-5000705225306926876');" onmouseout="out('-5000705225306926876');" style="">  29  import android.app.AlarmManager;                                                                                  </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  30  import android.app.Application;                                                                                   </span>
<span class="5270908961524689324" onmouseenter="enter('5270908961524689324');" onmouseout="out('5270908961524689324');" style="">  31  import android.app.job.JobScheduler;                                                                              </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  32  import android.content.Context;                                                                                   </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  33  import android.content.Intent;                                                                                    </span>
<span class="-9183914406029598577" onmouseenter="enter('-9183914406029598577');" onmouseout="out('-9183914406029598577');" style="">  34  import android.content.pm.ActivityInfo;                                                                           </span>
<span class="8582326229770324815" onmouseenter="enter('8582326229770324815');" onmouseout="out('8582326229770324815');" style="">  35  import android.content.pm.ResolveInfo;                                                                            </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  36  import android.os.Build;                                                                                          </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="">  37  import android.support.annotation.NonNull;                                                                        </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  38  import android.support.annotation.Nullable;                                                                       </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  39  import android.text.TextUtils;                                                                                    </span>
<span  style="">  40                                                                                                                    </span>
<span class="-2629940017315809162" onmouseenter="enter('-2629940017315809162');" onmouseout="out('-2629940017315809162');" style="">  41  import com.evernote.android.job.util.JobApi;                                                                      </span>
<span class="-5245147800812157155" onmouseenter="enter('-5245147800812157155');" onmouseout="out('-5245147800812157155');" style="">  42  import com.evernote.android.job.util.JobCat;                                                                      </span>
<span class="-826132384971399644" onmouseenter="enter('-826132384971399644');" onmouseout="out('-826132384971399644');" style="">  43  import com.evernote.android.job.util.JobPreconditions;                                                            </span>
<span class="2270421051523495577" onmouseenter="enter('2270421051523495577');" onmouseout="out('2270421051523495577');" style="">  44  import com.evernote.android.job.util.JobUtil;                                                                     </span>
<span class="2610792870634489402" onmouseenter="enter('2610792870634489402');" onmouseout="out('2610792870634489402');" style="">  45  import com.google.android.gms.gcm.GcmNetworkManager;                                                              </span>
<span  style="">  46                                                                                                                    </span>
<span class="4887698622156748971" onmouseenter="enter('4887698622156748971');" onmouseout="out('4887698622156748971');" style="">  47  import net.vrallev.android.cat.CatLog;                                                                            </span>
<span  style="">  48                                                                                                                    </span>

<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  49  import java.util.List;                                                                                            </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  50  import java.util.Set;                                                                                             </span>
<span  style="">  51                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  52  /**                                                                                                               </span>
<span class="-3987124458399388632" onmouseenter="enter('-3987124458399388632');" onmouseout="out('-3987124458399388632');" style="">  53   * Entry point for scheduling jobs. Depending on the platform and SDK version it uses different APIs              </span>
<span class="-6457039888363773075" onmouseenter="enter('-6457039888363773075');" onmouseout="out('-6457039888363773075');" style="">  54   * to schedule jobs. The {@link JobScheduler} is preferred, if the OS is running Lollipop or above.               </span>
<span class="1317690140072514139" onmouseenter="enter('1317690140072514139');" onmouseout="out('1317690140072514139');" style="">  55   * Otherwise it uses the {@link AlarmManager} as fallback. It&#x27;s also possible to use the                          </span>
<span class="-333444572732918259" onmouseenter="enter('-333444572732918259');" onmouseout="out('-333444572732918259');" style="">  56   * {@link GcmNetworkManager}, if the manager can be found in your classpath, the Google Play Services             </span>
<span class="7456927466396325536" onmouseenter="enter('7456927466396325536');" onmouseout="out('7456927466396325536');" style="">  57   * are installed and the service was added in the manifest. Take a look at the                                    </span>
<span class="-661926363358722632" onmouseenter="enter('-661926363358722632');" onmouseout="out('-661926363358722632');" style="">  58   * &lt;a href=&quot;https://github.com/evernote/android-job#using-the-gcmnetworkmanager&quot;&gt;README&lt;/a&gt; for more              </span>
<span class="5031988837793579218" onmouseenter="enter('5031988837793579218');" onmouseout="out('5031988837793579218');" style="">  59   * help.                                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  60   *                                                                                                                </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  61   * &lt;br&gt;                                                                                                           </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  62   * &lt;br&gt;                                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  63   *                                                                                                                </span>
<span class="6647253766349486920" onmouseenter="enter('6647253766349486920');" onmouseout="out('6647253766349486920');" style="">  64   * Before you can use the {@code JobManager} you must call {@link #create(Context)} first and add a               </span>
<span class="620399288182599016" onmouseenter="enter('620399288182599016');" onmouseout="out('620399288182599016');" style="">  65   * {@link JobCreator} to map tags to your desired jobs with {@link #addJobCreator(JobCreator)}.                   </span>
<span class="78491231019337072" onmouseenter="enter('78491231019337072');" onmouseout="out('78491231019337072');" style="">  66   * It&#x27;s recommended to do this in the {@link Application#onCreate()} method.                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  67   *                                                                                                                </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  68   * &lt;br&gt;                                                                                                           </span>
<span class="7712563830620261391" onmouseenter="enter('7712563830620261391');" onmouseout="out('7712563830620261391');" style="">  69   * &lt;br&gt;                                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  70   *                                                                                                                </span>
<span class="465581383228119772" onmouseenter="enter('465581383228119772');" onmouseout="out('465581383228119772');" style="">  71   * In order to schedule a job you must extend the {@link Job} class. A {@link Job} is a simple class              </span>
<span class="-5578672729222728640" onmouseenter="enter('-5578672729222728640');" onmouseout="out('-5578672729222728640');" style="">  72   * with one abstract method which is invoked on a background thread. Thus a {@link Job}                           </span>
<span class="-516129769413704155" onmouseenter="enter('-516129769413704155');" onmouseout="out('-516129769413704155');" style="">  73   * doesn&#x27;t need to be registered in the manifest. Create a {@link JobRequest} with the corresponding              </span>
<span class="-2509011543823050913" onmouseenter="enter('-2509011543823050913');" onmouseout="out('-2509011543823050913');" style="">  74   * {@link JobRequest.Builder}, set your desired parameters and call {@link #schedule(JobRequest)}. If you want    </span>
<span class="9025329384100691402" onmouseenter="enter('9025329384100691402');" onmouseout="out('9025329384100691402');" style="">  75   * to update a pending request, call {@link JobRequest#cancelAndEdit()} on the request, update your               </span>
<span class="4255783048529647648" onmouseenter="enter('4255783048529647648');" onmouseout="out('4255783048529647648');" style="">  76   * parameters and call {@link #schedule(JobRequest)} again.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  77   *                                                                                                                </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  78   * @author rwondratschek                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  79   */                                                                                                               </span>
<span class="5961419711574156625" onmouseenter="enter('5961419711574156625');" onmouseout="out('5961419711574156625');" style="">  80  @SuppressWarnings({&quot;unused&quot;, &quot;WeakerAccess&quot;})                                                                     </span>
<span class="7018978418900960228" onmouseenter="enter('7018978418900960228');" onmouseout="out('7018978418900960228');" style="">  81  public final class JobManager {                                                                                   </span>
<span  style="">  82                                                                                                                    </span>
<span class="3520531660951208009" onmouseenter="enter('3520531660951208009');" onmouseout="out('3520531660951208009');" style="">  83      private static final CatLog CAT = new JobCat(&quot;JobManager&quot;);                                                   </span>
<span  style="">  84                                                                                                                    </span>
<span class="-1763089954528142034" onmouseenter="enter('-1763089954528142034');" onmouseout="out('-1763089954528142034');" style="">  85      @SuppressLint(&quot;StaticFieldLeak&quot;)                                                                              </span>
<span class="2345214174664757365" onmouseenter="enter('2345214174664757365');" onmouseout="out('2345214174664757365');" style="">  86      private static volatile JobManager instance;                                                                  </span>
<span  style="">  87                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  88      /**                                                                                                           </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style="">  89       * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.       </span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style="">  90       * Calling it multiple times has not effect.                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  91       *                                                                                                            </span>
<span class="-6445633007967545999" onmouseenter="enter('-6445633007967545999');" onmouseout="out('-6445633007967545999');" style="">  92       * @param context Any {@link Context} to instantiate the singleton object.                                    </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style="">  93       * @return The new or existing singleton object.                                                              </span>
<span class="-616448082384168391" onmouseenter="enter('-616448082384168391');" onmouseout="out('-616448082384168391');" style="">  94       * @throws JobManagerCreateException When the singleton couldn&#x27;t be created.                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  95       */                                                                                                           </span>
<span class="6511662216289603726" onmouseenter="enter('6511662216289603726');" onmouseout="out('6511662216289603726');" style="">  96      public static JobManager create(@NonNull Context context) throws JobManagerCreateException {                  </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  97          if (instance == null) {                                                                                   </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style="">  98              synchronized (JobManager.class) {                                                                     </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style="">  99                  if (instance == null) {                                                                           </span>
<span class="6811984112992546303" onmouseenter="enter('6811984112992546303');" onmouseout="out('6811984112992546303');" style=""> 100                      JobPreconditions.checkNotNull(context, &quot;Context cannot be null&quot;);                             </span>
<span  style=""> 101                                                                                                                    </span>
<span class="6972945546681644715" onmouseenter="enter('6972945546681644715');" onmouseout="out('6972945546681644715');" style=""> 102                      if (context.getApplicationContext() != null) {                                                </span>
<span class="-3696159196193513250" onmouseenter="enter('-3696159196193513250');" onmouseout="out('-3696159196193513250');" style=""> 103                          // could be null in unit tests                                                            </span>
<span class="-8552478027030399605" onmouseenter="enter('-8552478027030399605');" onmouseout="out('-8552478027030399605');" style=""> 104                          context = context.getApplicationContext();                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105                      }                                                                                             </span>
<span  style=""> 106                                                                                                                    </span>





<span class="-4290512093989891792" onmouseenter="enter('-4290512093989891792');" onmouseout="out('-4290512093989891792');" style=""> 107                      instance = new JobManager(context);                                                           </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-2622774818034006582" onmouseenter="enter('-2622774818034006582');" onmouseout="out('-2622774818034006582');" style=""> 109                      if (!JobUtil.hasWakeLockPermission(context)) {                                                </span>
<span class="-8010640264736587724" onmouseenter="enter('-8010640264736587724');" onmouseout="out('-8010640264736587724');" style=""> 110                          CAT.w(&quot;No wake lock permission&quot;);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111                      }                                                                                             </span>
<span class="-1257055076440049017" onmouseenter="enter('-1257055076440049017');" onmouseout="out('-1257055076440049017');" style=""> 112                      if (!JobUtil.hasBootPermission(context)) {                                                    </span>
<span class="-3463849244164419256" onmouseenter="enter('-3463849244164419256');" onmouseout="out('-3463849244164419256');" style=""> 113                          CAT.w(&quot;No boot permission&quot;);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114                      }                                                                                             </span>
<span  style=""> 115                                                                                                                    </span>
<span class="-298879242901196544" onmouseenter="enter('-298879242901196544');" onmouseout="out('-298879242901196544');" style=""> 116                      sendAddJobCreatorIntent(context);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119          }                                                                                                         </span>
<span  style=""> 120                                                                                                                    </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 121          return instance;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122      }                                                                                                             </span>
<span  style=""> 123                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 124      /**                                                                                                           </span>
<span class="5614409711612489982" onmouseenter="enter('5614409711612489982');" onmouseout="out('5614409711612489982');" style=""> 125       * Initializes the singleton. It&#x27;s necessary to call this function before using the {@code JobManager}.       </span>
<span class="7867562665515201953" onmouseenter="enter('7867562665515201953');" onmouseout="out('7867562665515201953');" style=""> 126       * Calling it multiple times has not effect.                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 127       *                                                                                                            </span>
<span class="-6145945938924480962" onmouseenter="enter('-6145945938924480962');" onmouseout="out('-6145945938924480962');" style=""> 128       * @param context    Any {@link Context} to instantiate the singleton object.                                 </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 129       * @param jobCreator The mapping between a specific job tag and the job class.                                </span>
<span class="8093851278403152206" onmouseenter="enter('8093851278403152206');" onmouseout="out('8093851278403152206');" style=""> 130       * @return The new or existing singleton object.                                                              </span>
<span class="736736397367217085" onmouseenter="enter('736736397367217085');" onmouseout="out('736736397367217085');" style=""> 131       * @deprecated Use {@link #create(Context)} instead and call {@link #addJobCreator(JobCreator)} after that.   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 132       */                                                                                                           </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 133      @Deprecated                                                                                                   </span>
<span class="-4785317473857395076" onmouseenter="enter('-4785317473857395076');" onmouseout="out('-4785317473857395076');" style=""> 134      public static JobManager create(Context context, JobCreator jobCreator) {                                     </span>
<span class="2961349495085069076" onmouseenter="enter('2961349495085069076');" onmouseout="out('2961349495085069076');" style=""> 135          boolean addJobCreator;                                                                                    </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 136          synchronized (JobManager.class) {                                                                         </span>
<span class="-6724001001052700501" onmouseenter="enter('-6724001001052700501');" onmouseout="out('-6724001001052700501');" style=""> 137              addJobCreator = instance == null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138          }                                                                                                         </span>
<span  style=""> 139                                                                                                                    </span>
<span class="-3198886707997034498" onmouseenter="enter('-3198886707997034498');" onmouseout="out('-3198886707997034498');" style=""> 140          create(context);                                                                                          </span>
<span  style=""> 141                                                                                                                    </span>
<span class="-8597192965345425088" onmouseenter="enter('-8597192965345425088');" onmouseout="out('-8597192965345425088');" style=""> 142          if (addJobCreator) {                                                                                      </span>
<span class="-7398081347388012149" onmouseenter="enter('-7398081347388012149');" onmouseout="out('-7398081347388012149');" style=""> 143              instance.addJobCreator(jobCreator);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144          }                                                                                                         </span>
<span  style=""> 145                                                                                                                    </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 146          return instance;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147      }                                                                                                             </span>
<span  style=""> 148                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 149      /**                                                                                                           </span>
<span class="2059544594285879735" onmouseenter="enter('2059544594285879735');" onmouseout="out('2059544594285879735');" style=""> 150       * Ensure that you&#x27;ve called {@link #create(Context)} first. Otherwise this method                            </span>
<span class="6131845218035694611" onmouseenter="enter('6131845218035694611');" onmouseout="out('6131845218035694611');" style=""> 151       * throws an exception.                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 152       *                                                                                                            </span>
<span class="8689695980946757454" onmouseenter="enter('8689695980946757454');" onmouseout="out('8689695980946757454');" style=""> 153       * @return The {@code JobManager} object.                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 154       */                                                                                                           </span>
<span class="-6227202692363172997" onmouseenter="enter('-6227202692363172997');" onmouseout="out('-6227202692363172997');" style=""> 155      public static JobManager instance() {                                                                         </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 156          if (instance == null) {                                                                                   </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 157              synchronized (JobManager.class) {                                                                     </span>
<span class="-2802766618581615140" onmouseenter="enter('-2802766618581615140');" onmouseout="out('-2802766618581615140');" style=""> 158                  if (instance == null) {                                                                           </span>
<span class="-8102219671165819564" onmouseenter="enter('-8102219671165819564');" onmouseout="out('-8102219671165819564');" style=""><abbr title=" 159                      throw new IllegalStateException(&quot;You need to call create() at least once to create the singleton&quot;);"> 159                      throw new IllegalStateException(&quot;You need to call create() at least once to create the singletðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162          }                                                                                                         </span>
<span  style=""> 163                                                                                                                    </span>
<span class="4536392404528694633" onmouseenter="enter('4536392404528694633');" onmouseout="out('4536392404528694633');" style=""> 164          return instance;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165      }                                                                                                             </span>
<span  style=""> 166                                                                                                                    </span>
<span class="-2672328117217234149" onmouseenter="enter('-2672328117217234149');" onmouseout="out('-2672328117217234149');" style=""> 167      private final Context mContext;                                                                               </span>
<span class="-2528343327594372849" onmouseenter="enter('-2528343327594372849');" onmouseout="out('-2528343327594372849');" style=""> 168      private final JobCreatorHolder mJobCreatorHolder;                                                             </span>
<span class="3615767272528460384" onmouseenter="enter('3615767272528460384');" onmouseout="out('3615767272528460384');" style=""> 169      private final JobStorage mJobStorage;                                                                         </span>
<span class="-2137608278905565132" onmouseenter="enter('-2137608278905565132');" onmouseout="out('-2137608278905565132');" style=""> 170      private final JobExecutor mJobExecutor;                                                                       </span>
<span class="6413842119275717567" onmouseenter="enter('6413842119275717567');" onmouseout="out('6413842119275717567');" style=""> 171      private final Config mConfig;                                                                                 </span>
<span  style=""> 172                                                                                                                    </span>
<span class="6700752069135036510" onmouseenter="enter('6700752069135036510');" onmouseout="out('6700752069135036510');" style=""> 173      private JobApi mApi;                                                                                          </span>
<span  style=""> 174                                                                                                                    </span>
<span class="4607746124464513021" onmouseenter="enter('4607746124464513021');" onmouseout="out('4607746124464513021');" style=""> 175      private JobManager(Context context) {                                                                         </span>
<span class="7260904205784329196" onmouseenter="enter('7260904205784329196');" onmouseout="out('7260904205784329196');" style=""> 176          mContext = context;                                                                                       </span>
<span class="-4640032511311469580" onmouseenter="enter('-4640032511311469580');" onmouseout="out('-4640032511311469580');" style=""> 177          mJobCreatorHolder = new JobCreatorHolder();                                                               </span>
<span class="-4152760520829533840" onmouseenter="enter('-4152760520829533840');" onmouseout="out('-4152760520829533840');" style=""> 178          mJobStorage = new JobStorage(context);                                                                    </span>
<span class="-8808166604100851616" onmouseenter="enter('-8808166604100851616');" onmouseout="out('-8808166604100851616');" style=""> 179          mJobExecutor = new JobExecutor();                                                                         </span>
<span class="-269224586815229164" onmouseenter="enter('-269224586815229164');" onmouseout="out('-269224586815229164');" style=""> 180          mConfig = new Config();                                                                                   </span>
<span  style=""> 181                                                                                                                    </span>
<span class="1700690099100084003" onmouseenter="enter('1700690099100084003');" onmouseout="out('1700690099100084003');" style=""> 182          JobApi api = JobApi.getDefault(mContext, mConfig.isGcmApiEnabled());                                      </span>
<span class="5703873911050762050" onmouseenter="enter('5703873911050762050');" onmouseout="out('5703873911050762050');" style=""> 183          if (api == JobApi.V_14 &amp;&amp; !api.isSupported(mContext)) {                                                   </span>
<span class="7115145726178678648" onmouseenter="enter('7115145726178678648');" onmouseout="out('7115145726178678648');" style=""> 184              throw new JobManagerCreateException(&quot;All APIs are disabled, cannot schedule any job&quot;);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185          }                                                                                                         </span>
<span  style=""> 186                                                                                                                    </span>
<span class="-861197700706537144" onmouseenter="enter('-861197700706537144');" onmouseout="out('-861197700706537144');" style=""> 187          setJobProxy(api);                                                                                         </span>
<span  style=""> 188                                                                                                                    </span>
<span class="4004759904447840137" onmouseenter="enter('4004759904447840137');" onmouseout="out('4004759904447840137');" style=""> 189          JobRescheduleService.startService(mContext);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190      }                                                                                                             </span>
<span  style=""> 191                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 192      /**                                                                                                           </span>
<span class="-2333516481115667517" onmouseenter="enter('-2333516481115667517');" onmouseout="out('-2333516481115667517');" style=""> 193       * @return The current configuration for the job manager.                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 194       */                                                                                                           </span>
<span class="7325271861755578433" onmouseenter="enter('7325271861755578433');" onmouseout="out('7325271861755578433');" style=""> 195      public Config getConfig() {                                                                                   </span>
<span class="-7756481640167229217" onmouseenter="enter('-7756481640167229217');" onmouseout="out('-7756481640167229217');" style=""> 196          return mConfig;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197      }                                                                                                             </span>
<span  style=""> 198                                                                                                                    </span>
<span class="3525394931999142379" onmouseenter="enter('3525394931999142379');" onmouseout="out('3525394931999142379');" style=""> 199      private void setJobProxy(JobApi api) {                                                                        </span>
<span class="-2983568284528358908" onmouseenter="enter('-2983568284528358908');" onmouseout="out('-2983568284528358908');" style=""> 200          mApi = api;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201      }                                                                                                             </span>
<span  style=""> 202                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 203      /**                                                                                                           </span>
<span class="4679140648952926498" onmouseenter="enter('4679140648952926498');" onmouseout="out('4679140648952926498');" style=""> 204       * Schedule a request which will be executed in the future. If you want to update an existing                 </span>
<span class="-6474852299073293749" onmouseenter="enter('-6474852299073293749');" onmouseout="out('-6474852299073293749');" style=""> 205       * {@link JobRequest}, call {@link JobRequest#cancelAndEdit()}, update your parameters and call               </span>
<span class="-6365815971422533220" onmouseenter="enter('-6365815971422533220');" onmouseout="out('-6365815971422533220');" style=""> 206       * this method again. Calling this method with the same request multiple times without cancelling             </span>
<span class="1286211055587698364" onmouseenter="enter('1286211055587698364');" onmouseout="out('1286211055587698364');" style=""> 207       * it is idempotent.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 208       *                                                                                                            </span>
<span class="-8259863996068047826" onmouseenter="enter('-8259863996068047826');" onmouseout="out('-8259863996068047826');" style=""> 209       * @param request The {@link JobRequest} which will run in the future.                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 210       */                                                                                                           </span>
<span class="2776768223143191424" onmouseenter="enter('2776768223143191424');" onmouseout="out('2776768223143191424');" style=""> 211      public void schedule(@NonNull JobRequest request) {                                                           </span>
<span class="-7795555679296930499" onmouseenter="enter('-7795555679296930499');" onmouseout="out('-7795555679296930499');" style=""> 212          if (mJobCreatorHolder.isEmpty()) {                                                                        </span>
<span class="4846992933241026765" onmouseenter="enter('4846992933241026765');" onmouseout="out('4846992933241026765');" style=""><abbr title=" 213              CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will be executed&quot;);"> 213              CAT.w(&quot;you haven&#x27;t registered a JobCreator with addJobCreator(), it&#x27;s likely that your job never will ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214          }                                                                                                         </span>
<span  style=""> 215                                                                                                                    </span>
<span class="4582221295713266952" onmouseenter="enter('4582221295713266952');" onmouseout="out('4582221295713266952');" style=""> 216          if (request.getScheduledAt() &gt; 0) {                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 217              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218          }                                                                                                         </span>
<span  style=""> 219                                                                                                                    </span>
<span class="-8632893038712403625" onmouseenter="enter('-8632893038712403625');" onmouseout="out('-8632893038712403625');" style=""> 220          if (request.isUpdateCurrent()) {                                                                          </span>
<span class="-9112990761468512458" onmouseenter="enter('-9112990761468512458');" onmouseout="out('-9112990761468512458');" style=""> 221              cancelAllForTag(request.getTag());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222          }                                                                                                         </span>
<span  style=""> 223                                                                                                                    </span>
<span class="-1056428182754675341" onmouseenter="enter('-1056428182754675341');" onmouseout="out('-1056428182754675341');" style=""> 224          JobProxy.Common.cleanUpOrphanedJob(mContext, request.getJobId());                                         </span>
<span  style=""> 225                                                                                                                    </span>
<span class="-5307853377216076341" onmouseenter="enter('-5307853377216076341');" onmouseout="out('-5307853377216076341');" style=""> 226          JobApi jobApi = request.getJobApi();                                                                      </span>
<span class="-5710733141355361029" onmouseenter="enter('-5710733141355361029');" onmouseout="out('-5710733141355361029');" style=""> 227          boolean periodic = request.isPeriodic();                                                                  </span>
<span class="2465709902581257276" onmouseenter="enter('2465709902581257276');" onmouseout="out('2465709902581257276');" style=""> 228          boolean flexSupport = periodic &amp;&amp; jobApi.isFlexSupport() &amp;&amp; request.getFlexMs() &lt; request.getIntervalMs();</span>
<span  style=""> 229                                                                                                                    </span>
<span class="-3429721628817359517" onmouseenter="enter('-3429721628817359517');" onmouseout="out('-3429721628817359517');" style=""> 230          if (jobApi == JobApi.GCM &amp;&amp; !mConfig.isGcmApiEnabled()) {                                                 </span>
<span class="6542896443959617788" onmouseenter="enter('6542896443959617788');" onmouseout="out('6542896443959617788');" style=""> 231              // shouldn&#x27;t happen                                                                                   </span>
<span class="2334534478293560871" onmouseenter="enter('2334534478293560871');" onmouseout="out('2334534478293560871');" style=""> 232              CAT.w(&quot;GCM API disabled, but used nonetheless&quot;);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233          }                                                                                                         </span>
<span  style=""> 234                                                                                                                    </span>
<span class="5525198511073900031" onmouseenter="enter('5525198511073900031');" onmouseout="out('5525198511073900031');" style=""> 235          request.setScheduledAt(System.currentTimeMillis());                                                       </span>
<span class="-2755250820141061807" onmouseenter="enter('-2755250820141061807');" onmouseout="out('-2755250820141061807');" style=""> 236          request.setFlexSupport(flexSupport);                                                                      </span>
<span class="160746343038222394" onmouseenter="enter('160746343038222394');" onmouseout="out('160746343038222394');" style=""> 237          mJobStorage.put(request);                                                                                 </span>
<span  style=""> 238                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 239          try {                                                                                                     </span>
<span class="-5212932452371522440" onmouseenter="enter('-5212932452371522440');" onmouseout="out('-5212932452371522440');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 240 -            JobProxy proxy = getJobProxy(jobApi);                                                                 </span>
<span class="7876141546147703421" onmouseenter="enter('7876141546147703421');" onmouseout="out('7876141546147703421');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 241 -            if (periodic) {                                                                                       </span>
<span class="-1055856358312839038" onmouseenter="enter('-1055856358312839038');" onmouseout="out('-1055856358312839038');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 242 -                if (flexSupport) {                                                                                </span>
<span class="-6103196782000436732" onmouseenter="enter('-6103196782000436732');" onmouseout="out('-6103196782000436732');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 243 -                    proxy.plantPeriodicFlexSupport(request);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 244 -                } else {                                                                                          </span>
<span class="7433992315357383214" onmouseenter="enter('7433992315357383214');" onmouseout="out('7433992315357383214');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 245 -                    proxy.plantPeriodic(request);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 246 -                }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 247 -            } else {                                                                                              </span>
<span class="-3061275110112395435" onmouseenter="enter('-3061275110112395435');" onmouseout="out('-3061275110112395435');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 248 -                proxy.plantOneOff(request);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 249 -            }                                                                                                     </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 250 +            scheduleWithApi(request, jobApi, periodic, flexSupport);                                              </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 251 +            return;                                                                                               </span>
<span class="-9018827707372380454" onmouseenter="enter('-9018827707372380454');" onmouseout="out('-9018827707372380454');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 252 +        } catch (JobProxyIllegalStateException e) {                                                               </span>
<span class="-6428914854727195541" onmouseenter="enter('-6428914854727195541');" onmouseout="out('-6428914854727195541');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 253 +            // try again below, the other cases stop                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 254 +                                                                                                                  </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 255          } catch (Exception e) {                                                                                   </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style=""> 256              // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later              </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style=""> 257              mJobStorage.remove(request);                                                                          </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style=""> 258              throw e;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 259 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 261 +        try {                                                                                                     </span>
<span class="-7578368306347675070" onmouseenter="enter('-7578368306347675070');" onmouseout="out('-7578368306347675070');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 262 +            // try to reload the proxy                                                                            </span>
<span class="-5086845168082246693" onmouseenter="enter('-5086845168082246693');" onmouseout="out('-5086845168082246693');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 263 +            jobApi.invalidateCachedProxy();                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 264 +                                                                                                                  </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 265 +            scheduleWithApi(request, jobApi, periodic, flexSupport);                                              </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 266 +            return;                                                                                               </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 267 +        } catch (Exception e) {                                                                                   </span>
<span class="-1234430113803617617" onmouseenter="enter('-1234430113803617617');" onmouseout="out('-1234430113803617617');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 268 +            if (jobApi == JobApi.V_14 || jobApi == JobApi.V_19) {                                                 </span>
<span class="-2235730211123031862" onmouseenter="enter('-2235730211123031862');" onmouseout="out('-2235730211123031862');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 269 +                // at this stage we cannot do anything                                                            </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 270 +                mJobStorage.remove(request);                                                                      </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 271 +                throw e;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 272 +            } else {                                                                                              </span>
<span class="-2742910027983126651" onmouseenter="enter('-2742910027983126651');" onmouseout="out('-2742910027983126651');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 273 +                jobApi = JobApi.V_19.isSupported(mContext) ? JobApi.V_19 : JobApi.V_14; // try one last time      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 274 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 275 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +        try {                                                                                                     </span>
<span class="-6881618748514265426" onmouseenter="enter('-6881618748514265426');" onmouseout="out('-6881618748514265426');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +            scheduleWithApi(request, jobApi, periodic, flexSupport);                                              </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +        } catch (Exception e) {                                                                                   </span>
<span class="4734706951916172250" onmouseenter="enter('4734706951916172250');" onmouseout="out('4734706951916172250');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +            // if something fails, don&#x27;t keep the job in the database, it would be rescheduled later              </span>
<span class="-7627488734795181565" onmouseenter="enter('-7627488734795181565');" onmouseout="out('-7627488734795181565');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +            mJobStorage.remove(request);                                                                          </span>
<span class="-2532054300390783036" onmouseenter="enter('-2532054300390783036');" onmouseout="out('-2532054300390783036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 282 +            throw e;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +                                                                                                                  </span>
<span class="363014575014708523" onmouseenter="enter('363014575014708523');" onmouseout="out('363014575014708523');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +    private void scheduleWithApi(JobRequest request, JobApi jobApi, boolean periodic, boolean flexSupport) {      </span>
<span class="-5212932452371522440" onmouseenter="enter('-5212932452371522440');" onmouseout="out('-5212932452371522440');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +        JobProxy proxy = getJobProxy(jobApi);                                                                     </span>
<span class="7876141546147703421" onmouseenter="enter('7876141546147703421');" onmouseout="out('7876141546147703421');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +        if (periodic) {                                                                                           </span>
<span class="-1055856358312839038" onmouseenter="enter('-1055856358312839038');" onmouseout="out('-1055856358312839038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 289 +            if (flexSupport) {                                                                                    </span>
<span class="-6103196782000436732" onmouseenter="enter('-6103196782000436732');" onmouseout="out('-6103196782000436732');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 290 +                proxy.plantPeriodicFlexSupport(request);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +            } else {                                                                                              </span>
<span class="7433992315357383214" onmouseenter="enter('7433992315357383214');" onmouseout="out('7433992315357383214');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +                proxy.plantPeriodic(request);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 293 +            }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 294 +        } else {                                                                                                  </span>
<span class="-3061275110112395435" onmouseenter="enter('-3061275110112395435');" onmouseout="out('-3061275110112395435');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 295 +            proxy.plantOneOff(request);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297      }                                                                                                             </span>
<span  style=""> 298                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 299      /**                                                                                                           </span>
<span class="3064960884120212514" onmouseenter="enter('3064960884120212514');" onmouseout="out('3064960884120212514');" style=""> 300       * @param jobId The unique ID of the pending {@link JobRequest}.                                              </span>
<span class="6469387229254162696" onmouseenter="enter('6469387229254162696');" onmouseout="out('6469387229254162696');" style=""> 301       * @return The {@link JobRequest} if it&#x27;s pending or {@code null} otherwise.                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 302       */                                                                                                           </span>
<span class="4530850340944779402" onmouseenter="enter('4530850340944779402');" onmouseout="out('4530850340944779402');" style=""> 303      public JobRequest getJobRequest(int jobId) {                                                                  </span>
<span class="-5857636161752714598" onmouseenter="enter('-5857636161752714598');" onmouseout="out('-5857636161752714598');" style=""> 304          return getJobRequest(jobId, false);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305      }                                                                                                             </span>
<span  style=""> 306                                                                                                                    </span>
<span class="2500160411663795262" onmouseenter="enter('2500160411663795262');" onmouseout="out('2500160411663795262');" style=""> 307      /*package*/ JobRequest getJobRequest(int jobId, boolean includeTransient) {                                   </span>










<span class="-5531317873884629325" onmouseenter="enter('-5531317873884629325');" onmouseout="out('-5531317873884629325');" style=""> 308          JobRequest jobRequest = mJobStorage.get(jobId);                                                           </span>
<span class="5129448474101956706" onmouseenter="enter('5129448474101956706');" onmouseout="out('5129448474101956706');" style=""> 309          if (!includeTransient &amp;&amp; jobRequest != null &amp;&amp; jobRequest.isTransient()) {                                </span>

<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 310              return null;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 311          } else {                                                                                                  </span>
<span class="1321635456186586623" onmouseenter="enter('1321635456186586623');" onmouseout="out('1321635456186586623');" style=""> 312              return jobRequest;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314      }                                                                                                             </span>
<span  style=""> 315                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 316      /**                                                                                                           </span>
<span class="-2795365204268997935" onmouseenter="enter('-2795365204268997935');" onmouseout="out('-2795365204268997935');" style=""> 317       * @return A duplicate {@link Set} containing all pending JobRequests or an empty set.                        </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 318       * Never returns {@code null}. The set may be modified without direct effects to the actual                   </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 319       * backing store.                                                                                             </span>
<span class="-6719692607126398741" onmouseenter="enter('-6719692607126398741');" onmouseout="out('-6719692607126398741');" style=""> 320       * @see #getJobRequest(int)                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 321       */                                                                                                           </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 322      @NonNull                                                                                                      </span>
<span class="-904804239476561306" onmouseenter="enter('-904804239476561306');" onmouseout="out('-904804239476561306');" style=""> 323      public Set&lt;JobRequest&gt; getAllJobRequests() {                                                                  </span>
<span class="-1407601823679785908" onmouseenter="enter('-1407601823679785908');" onmouseout="out('-1407601823679785908');" style=""> 324          return mJobStorage.getAllJobRequests(null, false);                                                        </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325      }                                                                                                             </span>
<span  style=""> 326                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 327      /**                                                                                                           </span>
<span class="-150075778014394998" onmouseenter="enter('-150075778014394998');" onmouseout="out('-150075778014394998');" style=""> 328       * @param tag The tag of the pending requests.                                                                </span>
<span class="-9117837997679760057" onmouseenter="enter('-9117837997679760057');" onmouseout="out('-9117837997679760057');" style=""> 329       * @return A duplicate {@link Set} containing all pending JobRequests associated with this                    </span>
<span class="-7265545497128514879" onmouseenter="enter('-7265545497128514879');" onmouseout="out('-7265545497128514879');" style=""> 330       * {@code tag} or an empty set. Never returns {@code null}. The set may be modified without                   </span>
<span class="227177932876004689" onmouseenter="enter('227177932876004689');" onmouseout="out('227177932876004689');" style=""> 331       * direct effects to the actual backing store.                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 332       */                                                                                                           </span>
<span class="7606149447514232888" onmouseenter="enter('7606149447514232888');" onmouseout="out('7606149447514232888');" style=""> 333      public Set&lt;JobRequest&gt; getAllJobRequestsForTag(@NonNull String tag) {                                         </span>
<span class="6816289723485096017" onmouseenter="enter('6816289723485096017');" onmouseout="out('6816289723485096017');" style=""> 334          return mJobStorage.getAllJobRequests(tag, false);                                                         </span>


















<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335      }                                                                                                             </span>
<span  style=""> 336                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 337      /**                                                                                                           </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 338       * Jobs are cached in memory even if they already have finished. But finished jobs are never                  </span>
<span class="7788897207505020184" onmouseenter="enter('7788897207505020184');" onmouseout="out('7788897207505020184');" style=""> 339       * restored after the app has launched.                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 340       *                                                                                                            </span>
<span class="-477643776901211056" onmouseenter="enter('-477643776901211056');" onmouseout="out('-477643776901211056');" style=""> 341       * @param jobId The unique ID of the running or finished {@link Job}.                                         </span>
<span class="3270382225864694524" onmouseenter="enter('3270382225864694524');" onmouseout="out('3270382225864694524');" style=""> 342       * @return The {@link Job} if it&#x27;s running or has been finished and is still cached. Returns                  </span>
<span class="-6075858023683971376" onmouseenter="enter('-6075858023683971376');" onmouseout="out('-6075858023683971376');" style=""> 343       * {@code null} otherwise.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 344       */                                                                                                           </span>
<span class="-8891493209915902483" onmouseenter="enter('-8891493209915902483');" onmouseout="out('-8891493209915902483');" style=""> 345      public Job getJob(int jobId) {                                                                                </span>
<span class="-4499975465953320235" onmouseenter="enter('-4499975465953320235');" onmouseout="out('-4499975465953320235');" style=""> 346          return mJobExecutor.getJob(jobId);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347      }                                                                                                             </span>
<span  style=""> 348                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 349      /**                                                                                                           </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 350       * Jobs are cached in memory even if they already have finished. But finished jobs are never                  </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 351       * restored after the app has relaunched.                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 352       *                                                                                                            </span>
<span class="6351768175198237647" onmouseenter="enter('6351768175198237647');" onmouseout="out('6351768175198237647');" style=""> 353       * @return A duplicate {@link Set} containing all running and cached finished jobs or an empty set.           </span>
<span class="911800492342275754" onmouseenter="enter('911800492342275754');" onmouseout="out('911800492342275754');" style=""> 354       * Never returns {@code null}. The set may be modified without direct effects to the actual                   </span>
<span class="-8051612462045751841" onmouseenter="enter('-8051612462045751841');" onmouseout="out('-8051612462045751841');" style=""> 355       * backing store.                                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 356       */                                                                                                           </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 357      @NonNull                                                                                                      </span>
<span class="8418659341190675341" onmouseenter="enter('8418659341190675341');" onmouseout="out('8418659341190675341');" style=""> 358      public Set&lt;Job&gt; getAllJobs() {                                                                                </span>
<span class="-7361375259582502195" onmouseenter="enter('-7361375259582502195');" onmouseout="out('-7361375259582502195');" style=""> 359          return mJobExecutor.getAllJobs();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360      }                                                                                                             </span>
<span  style=""> 361                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 362      /**                                                                                                           </span>
<span class="-742481993267597138" onmouseenter="enter('-742481993267597138');" onmouseout="out('-742481993267597138');" style=""> 363       * Jobs are cached in memory even if they already have finished. But finished jobs are never                  </span>
<span class="-6138475204601884951" onmouseenter="enter('-6138475204601884951');" onmouseout="out('-6138475204601884951');" style=""> 364       * restored after the app has relaunched.                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 365       *                                                                                                            </span>
<span class="2906193900356196417" onmouseenter="enter('2906193900356196417');" onmouseout="out('2906193900356196417');" style=""> 366       * @param tag The tag of the running or finished jobs.                                                        </span>
<span class="8402316346887233918" onmouseenter="enter('8402316346887233918');" onmouseout="out('8402316346887233918');" style=""> 367       * @return A duplicate {@link Set} containing all running and cached finished jobs associated with            </span>
<span class="-1417987523275095960" onmouseenter="enter('-1417987523275095960');" onmouseout="out('-1417987523275095960');" style=""> 368       * this tag or an empty set. Never returns {@code null}. The set may be modified without direct               </span>
<span class="7642857653547301659" onmouseenter="enter('7642857653547301659');" onmouseout="out('7642857653547301659');" style=""> 369       * effects to the actual backing store.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 370       */                                                                                                           </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 371      @NonNull                                                                                                      </span>
<span class="-1926037323071405748" onmouseenter="enter('-1926037323071405748');" onmouseout="out('-1926037323071405748');" style=""> 372      public Set&lt;Job&gt; getAllJobsForTag(@NonNull String tag) {                                                       </span>
<span class="-2996654579181227013" onmouseenter="enter('-2996654579181227013');" onmouseout="out('-2996654579181227013');" style=""> 373          return mJobExecutor.getAllJobsForTag(tag);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374      }                                                                                                             </span>
<span  style=""> 375                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 376      /**                                                                                                           </span>
<span class="2587937291576680177" onmouseenter="enter('2587937291576680177');" onmouseout="out('2587937291576680177');" style=""> 377       * &lt;b&gt;WARNING:&lt;/b&gt; You shouldn&#x27;t call this method. It only exists for testing and debugging                   </span>
<span class="-9167558756008145831" onmouseenter="enter('-9167558756008145831');" onmouseout="out('-9167558756008145831');" style=""> 378       * purposes. The {@link JobManager} automatically decides which API suits best for a {@link Job}.             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 379       *                                                                                                            </span>
<span class="-4351993449750147189" onmouseenter="enter('-4351993449750147189');" onmouseout="out('-4351993449750147189');" style=""> 380       * @param api The {@link JobApi} which will be used for future scheduled JobRequests.                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 381       */                                                                                                           </span>
<span class="345020057247547493" onmouseenter="enter('345020057247547493');" onmouseout="out('345020057247547493');" style=""> 382      public void forceApi(@NonNull JobApi api) {                                                                   </span>
<span class="-5644628693159332596" onmouseenter="enter('-5644628693159332596');" onmouseout="out('-5644628693159332596');" style=""> 383          setJobProxy(JobPreconditions.checkNotNull(api));                                                          </span>
<span class="-5704814919429376990" onmouseenter="enter('-5704814919429376990');" onmouseout="out('-5704814919429376990');" style=""> 384          CAT.w(&quot;Changed API to %s&quot;, api);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385      }                                                                                                             </span>
<span  style=""> 386                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 387      /**                                                                                                           </span>
<span class="-6921464371717990912" onmouseenter="enter('-6921464371717990912');" onmouseout="out('-6921464371717990912');" style=""> 388       * &lt;b&gt;WARNING:&lt;/b&gt; Don&#x27;t rely your logic on a specific {@link JobApi}. You shouldn&#x27;t be worrying              </span>
<span class="1400609579600531809" onmouseenter="enter('1400609579600531809');" onmouseout="out('1400609579600531809');" style=""> 389       * about it.                                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 390       *                                                                                                            </span>
<span class="8744593103372264720" onmouseenter="enter('8744593103372264720');" onmouseout="out('8744593103372264720');" style=""> 391       * @return The current {@link JobApi} which will be used for future schedules JobRequests.                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 392       */                                                                                                           </span>
<span class="5860151052892177460" onmouseenter="enter('5860151052892177460');" onmouseout="out('5860151052892177460');" style=""> 393      public JobApi getApi() {                                                                                      </span>
<span class="-6211835887782715687" onmouseenter="enter('-6211835887782715687');" onmouseout="out('-6211835887782715687');" style=""> 394          return mApi;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395      }                                                                                                             </span>
<span  style=""> 396                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 397      /**                                                                                                           </span>
<span class="-6103119810253935707" onmouseenter="enter('-6103119810253935707');" onmouseout="out('-6103119810253935707');" style=""> 398       * Cancel either the pending {@link JobRequest} or the running {@link Job}.                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 399       *                                                                                                            </span>
<span class="3580206770342842161" onmouseenter="enter('3580206770342842161');" onmouseout="out('3580206770342842161');" style=""> 400       * @param jobId The unique ID of the {@link JobRequest} or running {@link Job}.                               </span>
<span class="-3440894550164723212" onmouseenter="enter('-3440894550164723212');" onmouseout="out('-3440894550164723212');" style=""> 401       * @return {@code true} if a request or job were found and canceled.                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 402       */                                                                                                           </span>
<span class="4673154767055309132" onmouseenter="enter('4673154767055309132');" onmouseout="out('4673154767055309132');" style=""> 403      public boolean cancel(int jobId) {                                                                            </span>
<span class="5725682512990717913" onmouseenter="enter('5725682512990717913');" onmouseout="out('5725682512990717913');" style=""> 404          // call both methods                                                                                      </span>
<span class="-1940195083171434309" onmouseenter="enter('-1940195083171434309');" onmouseout="out('-1940195083171434309');" style=""> 405          boolean result = cancelInner(getJobRequest(jobId, true)) | cancelInner(getJob(jobId));                    </span>
<span class="-3607491956005698732" onmouseenter="enter('-3607491956005698732');" onmouseout="out('-3607491956005698732');" style=""> 406          JobProxy.Common.cleanUpOrphanedJob(mContext, jobId); // do this as well, just in case                     </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 407          return result;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408      }                                                                                                             </span>
<span  style=""> 409                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 410      /**                                                                                                           </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 411       * Cancel all pending JobRequests and running jobs.                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 412       *                                                                                                            </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 413       * @return The count of canceled requests and running jobs.                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 414       */                                                                                                           </span>
<span class="8727086670966112864" onmouseenter="enter('8727086670966112864');" onmouseout="out('8727086670966112864');" style=""> 415      public int cancelAll() {                                                                                      </span>
<span class="5548992301459760488" onmouseenter="enter('5548992301459760488');" onmouseout="out('5548992301459760488');" style=""> 416          return cancelAllInner(null);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 417      }                                                                                                             </span>
<span  style=""> 418                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 419      /**                                                                                                           </span>
<span class="-7049920386625805739" onmouseenter="enter('-7049920386625805739');" onmouseout="out('-7049920386625805739');" style=""> 420       * Cancel all pending JobRequests and running jobs.                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 421       *                                                                                                            </span>
<span class="6528904863027268115" onmouseenter="enter('6528904863027268115');" onmouseout="out('6528904863027268115');" style=""> 422       * @param tag The tag of the pending job requests and running jobs.                                           </span>
<span class="-3201814537701248302" onmouseenter="enter('-3201814537701248302');" onmouseout="out('-3201814537701248302');" style=""> 423       * @return The count of canceled requests and running jobs.                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 424       */                                                                                                           </span>
<span class="5906534252688636933" onmouseenter="enter('5906534252688636933');" onmouseout="out('5906534252688636933');" style=""> 425      public int cancelAllForTag(@NonNull String tag) {                                                             </span>
<span class="-6560658895372623261" onmouseenter="enter('-6560658895372623261');" onmouseout="out('-6560658895372623261');" style=""> 426          return cancelAllInner(tag);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 427      }                                                                                                             </span>
<span  style=""> 428                                                                                                                    </span>
<span class="7928609490831193515" onmouseenter="enter('7928609490831193515');" onmouseout="out('7928609490831193515');" style=""> 429      private boolean cancelInner(@Nullable JobRequest request) {                                                   </span>
<span class="-5752363771942989481" onmouseenter="enter('-5752363771942989481');" onmouseout="out('-5752363771942989481');" style=""> 430          if (request != null) {                                                                                    </span>
<span class="-1957380641916611906" onmouseenter="enter('-1957380641916611906');" onmouseout="out('-1957380641916611906');" style=""> 431              CAT.i(&quot;Found pending job %s, canceling&quot;, request);                                                    </span>
<span class="5476226419543857215" onmouseenter="enter('5476226419543857215');" onmouseout="out('5476226419543857215');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 432 -            getJobProxy(request).cancel(request.getJobId());                                                      </span>
<span class="-3145854089324021214" onmouseenter="enter('-3145854089324021214');" onmouseout="out('-3145854089324021214');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 433 +            getJobProxy(request.getJobApi()).cancel(request.getJobId());                                          </span>
<span class="5066495103070808531" onmouseenter="enter('5066495103070808531');" onmouseout="out('5066495103070808531');" style=""> 434              getJobStorage().remove(request);                                                                      </span>
<span class="2741448270392278661" onmouseenter="enter('2741448270392278661');" onmouseout="out('2741448270392278661');" style=""> 435              request.setScheduledAt(0); // reset value                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 436              return true;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 437          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 438              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440      }                                                                                                             </span>
<span  style=""> 441                                                                                                                    </span>
<span class="-2812357644034813946" onmouseenter="enter('-2812357644034813946');" onmouseout="out('-2812357644034813946');" style=""> 442      private boolean cancelInner(@Nullable Job job) {                                                              </span>
<span class="-5589369764618585430" onmouseenter="enter('-5589369764618585430');" onmouseout="out('-5589369764618585430');" style=""> 443          if (job != null &amp;&amp; !job.isFinished() &amp;&amp; !job.isCanceled()) {                                              </span>
<span class="-8982583685600169823" onmouseenter="enter('-8982583685600169823');" onmouseout="out('-8982583685600169823');" style=""> 444              CAT.i(&quot;Cancel running %s&quot;, job);                                                                      </span>
<span class="4461932157820875057" onmouseenter="enter('4461932157820875057');" onmouseout="out('4461932157820875057');" style=""> 445              job.cancel(true);                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 446              return true;                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 447          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 448              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450      }                                                                                                             </span>
<span  style=""> 451                                                                                                                    </span>
<span class="7007551180782804914" onmouseenter="enter('7007551180782804914');" onmouseout="out('7007551180782804914');" style=""> 452      private synchronized int cancelAllInner(@Nullable String tag) {                                               </span>
<span class="5445881552498440941" onmouseenter="enter('5445881552498440941');" onmouseout="out('5445881552498440941');" style=""> 453          int canceled = 0;                                                                                         </span>
<span  style=""> 454                                                                                                                    </span>
<span class="-8365356409485725420" onmouseenter="enter('-8365356409485725420');" onmouseout="out('-8365356409485725420');" style=""> 455          Set&lt;JobRequest&gt; requests = mJobStorage.getAllJobRequests(tag, true);                                      </span>

<span class="9124327587248213004" onmouseenter="enter('9124327587248213004');" onmouseout="out('9124327587248213004');" style=""> 456          for (JobRequest request : requests) {                                                                     </span>
<span class="46316550467126677" onmouseenter="enter('46316550467126677');" onmouseout="out('46316550467126677');" style=""> 457              if (cancelInner(request)) {                                                                           </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 458                  canceled++;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 460          }                                                                                                         </span>
<span  style=""> 461                                                                                                                    </span>
<span class="-155981268798468651" onmouseenter="enter('-155981268798468651');" onmouseout="out('-155981268798468651');" style=""> 462          //noinspection ConstantConditions                                                                         </span>
<span class="-6218879424337666353" onmouseenter="enter('-6218879424337666353');" onmouseout="out('-6218879424337666353');" style=""> 463          Set&lt;Job&gt; jobs = TextUtils.isEmpty(tag) ? getAllJobs() : getAllJobsForTag(tag);                            </span>
<span class="977767777964782313" onmouseenter="enter('977767777964782313');" onmouseout="out('977767777964782313');" style=""> 464          for (Job job : jobs) {                                                                                    </span>
<span class="-2976205724987486146" onmouseenter="enter('-2976205724987486146');" onmouseout="out('-2976205724987486146');" style=""> 465              if (cancelInner(job)) {                                                                               </span>
<span class="2734925614455740750" onmouseenter="enter('2734925614455740750');" onmouseout="out('2734925614455740750');" style=""> 466                  canceled++;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468          }                                                                                                         </span>
<span class="-2118177486513212743" onmouseenter="enter('-2118177486513212743');" onmouseout="out('-2118177486513212743');" style=""> 469          return canceled;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 470      }                                                                                                             </span>
<span  style=""> 471                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 472      /**                                                                                                           </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style=""> 473       * Global switch to enable or disable logging.                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 474       *                                                                                                            </span>
<span class="4771316842434194261" onmouseenter="enter('4771316842434194261');" onmouseout="out('4771316842434194261');" style=""> 475       * @param verbose Whether or not to print log messages.                                                       </span>
<span class="6912080662004435371" onmouseenter="enter('6912080662004435371');" onmouseout="out('6912080662004435371');" style=""> 476       * @deprecated Use {@link Config#setVerbose(boolean)} instead.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 477       */                                                                                                           </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 478      @Deprecated                                                                                                   </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style=""> 479      public void setVerbose(boolean verbose) {                                                                     </span>
<span class="-1748325686137947820" onmouseenter="enter('-1748325686137947820');" onmouseout="out('-1748325686137947820');" style=""> 480          mConfig.setVerbose(verbose);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481      }                                                                                                             </span>
<span  style=""> 482                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 483      /**                                                                                                           </span>
<span class="6798512724525576867" onmouseenter="enter('6798512724525576867');" onmouseout="out('6798512724525576867');" style=""> 484       * Registers this instance to create jobs for a specific tag. It&#x27;s possible to have multiple                  </span>
<span class="-8744317698350024298" onmouseenter="enter('-8744317698350024298');" onmouseout="out('-8744317698350024298');" style=""> 485       * {@link JobCreator}s with a first come first serve order.                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 486       *                                                                                                            </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 487       * @param jobCreator The mapping between a specific job tag and the job class.                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 488       */                                                                                                           </span>
<span class="-2491458967670828165" onmouseenter="enter('-2491458967670828165');" onmouseout="out('-2491458967670828165');" style=""> 489      public void addJobCreator(JobCreator jobCreator) {                                                            </span>
<span class="4475667171028624254" onmouseenter="enter('4475667171028624254');" onmouseout="out('4475667171028624254');" style=""> 490          mJobCreatorHolder.addJobCreator(jobCreator);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491      }                                                                                                             </span>
<span  style=""> 492                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 493      /**                                                                                                           </span>
<span class="-4564346032900638715" onmouseenter="enter('-4564346032900638715');" onmouseout="out('-4564346032900638715');" style=""> 494       * Remove the mapping to stop it from creating new jobs.                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 495       *                                                                                                            </span>
<span class="2454240262797687088" onmouseenter="enter('2454240262797687088');" onmouseout="out('2454240262797687088');" style=""> 496       * @param jobCreator The mapping between a specific job tag and the job class.                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 497       */                                                                                                           </span>
<span class="-6484177490967554570" onmouseenter="enter('-6484177490967554570');" onmouseout="out('-6484177490967554570');" style=""> 498      public void removeJobCreator(JobCreator jobCreator) {                                                         </span>
<span class="-539536155610817324" onmouseenter="enter('-539536155610817324');" onmouseout="out('-539536155610817324');" style=""> 499          mJobCreatorHolder.removeJobCreator(jobCreator);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 500      }                                                                                                             </span>
<span  style=""> 501                                                                                                                    </span>
<span class="-9025857433666575285" onmouseenter="enter('-9025857433666575285');" onmouseout="out('-9025857433666575285');" style=""> 502      /*package*/ JobStorage getJobStorage() {                                                                      </span>
<span class="7567809637669260331" onmouseenter="enter('7567809637669260331');" onmouseout="out('7567809637669260331');" style=""> 503          return mJobStorage;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504      }                                                                                                             </span>
<span  style=""> 505                                                                                                                    </span>
<span class="7576466200489518989" onmouseenter="enter('7576466200489518989');" onmouseout="out('7576466200489518989');" style=""> 506      /*package*/ JobExecutor getJobExecutor() {                                                                    </span>
<span class="-1765880259966525073" onmouseenter="enter('-1765880259966525073');" onmouseout="out('-1765880259966525073');" style=""> 507          return mJobExecutor;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508      }                                                                                                             </span>
<span  style=""> 509                                                                                                                    </span>
<span class="6727805992909117493" onmouseenter="enter('6727805992909117493');" onmouseout="out('6727805992909117493');" style=""> 510      /*package*/ JobCreatorHolder getJobCreatorHolder() {                                                          </span>
<span class="-3612182450615984670" onmouseenter="enter('-3612182450615984670');" onmouseout="out('-3612182450615984670');" style=""> 511          return mJobCreatorHolder;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 512      }                                                                                                             </span>
<span  style=""> 513                                                                                                                    </span>
<span class="6908334764837028449" onmouseenter="enter('6908334764837028449');" onmouseout="out('6908334764837028449');" style=""> 514      /*package*/ Context getContext() {                                                                            </span>
<span class="5958236384696658256" onmouseenter="enter('5958236384696658256');" onmouseout="out('5958236384696658256');" style=""> 515          return mContext;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 516      }                                                                                                             </span>
<span  style=""> 517                                                                                                                    </span>
<span class="4070471043727310040" onmouseenter="enter('4070471043727310040');" onmouseout="out('4070471043727310040');" style=""> 518      /*package*/ void destroy() {                                                                                  </span>
<span class="2803057386834283182" onmouseenter="enter('2803057386834283182');" onmouseout="out('2803057386834283182');" style=""> 519          synchronized (JobManager.class) {                                                                         </span>
<span class="4675221880685402786" onmouseenter="enter('4675221880685402786');" onmouseout="out('4675221880685402786');" style=""> 520              instance = null;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 521 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 522 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 523 -                                                                                                                  </span>
<span class="4824166657412608889" onmouseenter="enter('4824166657412608889');" onmouseout="out('4824166657412608889');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 524 -    /*package*/ JobProxy getJobProxy(JobRequest request) {                                                        </span>
<span class="-2965969964131507785" onmouseenter="enter('-2965969964131507785');" onmouseout="out('-2965969964131507785');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 525 -        return getJobProxy(request.getJobApi());                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 526 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 527 -                                                                                                                  </span>
<span class="-2367498766146014384" onmouseenter="enter('-2367498766146014384');" onmouseout="out('-2367498766146014384');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 528 -    private JobProxy getJobProxy(JobApi api) {                                                                    </span>
<span class="-4915935391363161906" onmouseenter="enter('-4915935391363161906');" onmouseout="out('-4915935391363161906');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 529 +            for (JobApi api : JobApi.values()) {                                                                  </span>
<span class="1605566681993962517" onmouseenter="enter('1605566681993962517');" onmouseout="out('1605566681993962517');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 530 +                api.invalidateCachedProxy();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 531 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 532 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 533 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 534 +                                                                                                                  </span>
<span class="1598412430599932326" onmouseenter="enter('1598412430599932326');" onmouseout="out('1598412430599932326');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 535 +    /*package*/ JobProxy getJobProxy(JobApi api) {                                                                </span>
<span class="2047823700052405240" onmouseenter="enter('2047823700052405240');" onmouseout="out('2047823700052405240');" style=""> 536          return api.getCachedProxy(mContext);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 537      }                                                                                                             </span>
<span  style=""> 538                                                                                                                    </span>
<span class="5819839472839663113" onmouseenter="enter('5819839472839663113');" onmouseout="out('5819839472839663113');" style=""> 539      // TODO: extract this class so that settings can be changed before the JobManager has been created            </span>
<span class="-3926233336101017429" onmouseenter="enter('-3926233336101017429');" onmouseout="out('-3926233336101017429');" style=""> 540      public final class Config {                                                                                   </span>
<span  style=""> 541                                                                                                                    </span>
<span class="4478366925575527288" onmouseenter="enter('4478366925575527288');" onmouseout="out('4478366925575527288');" style=""> 542          private boolean mGcmEnabled;                                                                              </span>
<span class="3222940311196365219" onmouseenter="enter('3222940311196365219');" onmouseout="out('3222940311196365219');" style=""> 543          private boolean mAllowSmallerIntervals;                                                                   </span>
<span  style=""> 544                                                                                                                    </span>
<span class="1352959930409426534" onmouseenter="enter('1352959930409426534');" onmouseout="out('1352959930409426534');" style=""> 545          private Config() {                                                                                        </span>
<span class="-5278119484705127312" onmouseenter="enter('-5278119484705127312');" onmouseout="out('-5278119484705127312');" style=""> 546              mGcmEnabled = true;                                                                                   </span>
<span class="5402993595528484637" onmouseenter="enter('5402993595528484637');" onmouseout="out('5402993595528484637');" style=""> 547              mAllowSmallerIntervals = false;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 548          }                                                                                                         </span>
<span  style=""> 549                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 550          /**                                                                                                       </span>
<span class="-2537676166129027872" onmouseenter="enter('-2537676166129027872');" onmouseout="out('-2537676166129027872');" style=""> 551           * @return Whether logging is enabled for this library. The default value is {@code true}.                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 552           */                                                                                                       </span>
<span class="-2746772116937722358" onmouseenter="enter('-2746772116937722358');" onmouseout="out('-2746772116937722358');" style=""> 553          public boolean isVerbose() {                                                                              </span>
<span class="2727400873410512568" onmouseenter="enter('2727400873410512568');" onmouseout="out('2727400873410512568');" style=""> 554              return JobCat.isLogcatEnabled();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555          }                                                                                                         </span>
<span  style=""> 556                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 557          /**                                                                                                       </span>
<span class="-8163094480016512846" onmouseenter="enter('-8163094480016512846');" onmouseout="out('-8163094480016512846');" style=""> 558           * Global switch to enable or disable logging.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 559           *                                                                                                        </span>
<span class="2326612315460832419" onmouseenter="enter('2326612315460832419');" onmouseout="out('2326612315460832419');" style=""> 560           * @param verbose Whether or not to print all log messages. The default value is {@code true}.            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 561           */                                                                                                       </span>
<span class="7767764125718425859" onmouseenter="enter('7767764125718425859');" onmouseout="out('7767764125718425859');" style=""> 562          public void setVerbose(boolean verbose) {                                                                 </span>
<span class="6809609309523734693" onmouseenter="enter('6809609309523734693');" onmouseout="out('6809609309523734693');" style=""> 563              JobCat.setLogcatEnabled(verbose);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 564          }                                                                                                         </span>
<span  style=""> 565                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 566          /**                                                                                                       </span>
<span class="2860743404166892430" onmouseenter="enter('2860743404166892430');" onmouseout="out('2860743404166892430');" style=""> 567           * @return Whether the GCM API is enabled. The API is only used if the required class dependency          </span>
<span class="-1416738499443842717" onmouseenter="enter('-1416738499443842717');" onmouseout="out('-1416738499443842717');" style=""> 568           * is found, the Google Play Services are available and this setting is {@code true}. The default         </span>
<span class="8764218728113319363" onmouseenter="enter('8764218728113319363');" onmouseout="out('8764218728113319363');" style=""> 569           * value is {@code true}.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 570           */                                                                                                       </span>
<span class="-7429757744208332908" onmouseenter="enter('-7429757744208332908');" onmouseout="out('-7429757744208332908');" style=""> 571          public boolean isGcmApiEnabled() {                                                                        </span>
<span class="6191343166635185115" onmouseenter="enter('6191343166635185115');" onmouseout="out('6191343166635185115');" style=""> 572              return mGcmEnabled;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573          }                                                                                                         </span>
<span  style=""> 574                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 575          /**                                                                                                       </span>
<span class="-9047021064026521936" onmouseenter="enter('-9047021064026521936');" onmouseout="out('-9047021064026521936');" style=""> 576           * Programmatic switch to disable the GCM API. If {@code false}, then the {@link AlarmManager} will       </span>
<span class="8823200755718979838" onmouseenter="enter('8823200755718979838');" onmouseout="out('8823200755718979838');" style=""> 577           * be used for Android 4 devices in all cases.                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 578           *                                                                                                        </span>
<span class="7265088581003835852" onmouseenter="enter('7265088581003835852');" onmouseout="out('7265088581003835852');" style=""> 579           * @param enabled Whether the GCM API should be enabled or disabled. Note that the API is only used,      </span>
<span class="2664427863390598737" onmouseenter="enter('2664427863390598737');" onmouseout="out('2664427863390598737');" style=""> 580           *                if the required class dependency is found, the Google Play Services are available       </span>
<span class="-9202610048813496906" onmouseenter="enter('-9202610048813496906');" onmouseout="out('-9202610048813496906');" style=""> 581           *                and this setting is {@code true}. The default value is {@code true}.                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 582           */                                                                                                       </span>
<span class="3131865423967228821" onmouseenter="enter('3131865423967228821');" onmouseout="out('3131865423967228821');" style=""> 583          public void setGcmApiEnabled(boolean enabled) {                                                           </span>
<span class="-7781929993252071383" onmouseenter="enter('-7781929993252071383');" onmouseout="out('-7781929993252071383');" style=""> 584              if (enabled == mGcmEnabled) {                                                                         </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 585                  return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586              }                                                                                                     </span>
<span  style=""> 587                                                                                                                    </span>
<span class="1819590405292556164" onmouseenter="enter('1819590405292556164');" onmouseout="out('1819590405292556164');" style=""> 588              mGcmEnabled = enabled;                                                                                </span>
<span class="8012018722923764134" onmouseenter="enter('8012018722923764134');" onmouseout="out('8012018722923764134');" style=""> 589              if (enabled) {                                                                                        </span>
<span class="-6729800039701270501" onmouseenter="enter('-6729800039701270501');" onmouseout="out('-6729800039701270501');" style=""> 590                  JobApi defaultApi = JobApi.getDefault(mContext, true);                                            </span>
<span class="-6209625822862365404" onmouseenter="enter('-6209625822862365404');" onmouseout="out('-6209625822862365404');" style=""> 591                  if (!defaultApi.equals(getApi())) {                                                               </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style=""> 592                      setJobProxy(defaultApi);                                                                      </span>
<span class="2000942638680471923" onmouseenter="enter('2000942638680471923');" onmouseout="out('2000942638680471923');" style=""> 593                      CAT.i(&quot;Changed default proxy to %s after enabled the GCM API&quot;, defaultApi);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594                  }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 595              } else {                                                                                              </span>
<span class="5144537794263672794" onmouseenter="enter('5144537794263672794');" onmouseout="out('5144537794263672794');" style=""> 596                  JobApi defaultApi = JobApi.getDefault(mContext, false);                                           </span>
<span class="1139195568582208331" onmouseenter="enter('1139195568582208331');" onmouseout="out('1139195568582208331');" style=""> 597                  if (JobApi.GCM == getApi()) {                                                                     </span>
<span class="-3203420885708564108" onmouseenter="enter('-3203420885708564108');" onmouseout="out('-3203420885708564108');" style=""> 598                      setJobProxy(defaultApi);                                                                      </span>
<span class="-6137765879787410515" onmouseenter="enter('-6137765879787410515');" onmouseout="out('-6137765879787410515');" style=""> 599                      CAT.i(&quot;Changed default proxy to %s after disabling the GCM API&quot;, defaultApi);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 600                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 601              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 602          }                                                                                                         </span>
<span  style=""> 603                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 604          /**                                                                                                       </span>
<span class="4313118545757178652" onmouseenter="enter('4313118545757178652');" onmouseout="out('4313118545757178652');" style=""> 605           * Checks whether a smaller interval and flex are allowed for periodic jobs. That&#x27;s helpful               </span>
<span class="-5286604884073347043" onmouseenter="enter('-5286604884073347043');" onmouseout="out('-5286604884073347043');" style=""> 606           * for testing purposes.                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 607           *                                                                                                        </span>
<span class="-3308748460175563567" onmouseenter="enter('-3308748460175563567');" onmouseout="out('-3308748460175563567');" style=""> 608           * @return Whether a smaller interval and flex than the minimum values are allowed for periodic jobs      </span>
<span class="4784110824834161936" onmouseenter="enter('4784110824834161936');" onmouseout="out('4784110824834161936');" style=""> 609           * are allowed. The default value is {@code false}.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 610           */                                                                                                       </span>
<span class="-3838585999741719363" onmouseenter="enter('-3838585999741719363');" onmouseout="out('-3838585999741719363');" style=""> 611          public boolean isAllowSmallerIntervalsForMarshmallow() {                                                  </span>
<span class="1030055021778218024" onmouseenter="enter('1030055021778218024');" onmouseout="out('1030055021778218024');" style=""> 612              return mAllowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613          }                                                                                                         </span>
<span  style=""> 614                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 615          /**                                                                                                       </span>
<span class="-1869290568894580964" onmouseenter="enter('-1869290568894580964');" onmouseout="out('-1869290568894580964');" style=""> 616           * Option to override the minimum period and minimum flex for periodic jobs. This is useful for testing   </span>
<span class="-8595186122126529146" onmouseenter="enter('-8595186122126529146');" onmouseout="out('-8595186122126529146');" style=""> 617           * purposes. This method only works for Android M and earlier. Later versions throw an exception.         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 618           *                                                                                                        </span>
<span class="-1416855746077376306" onmouseenter="enter('-1416855746077376306');" onmouseout="out('-1416855746077376306');" style=""> 619           * @param allowSmallerIntervals Whether a smaller interval and flex than the minimum values are allowed   </span>
<span class="7958399044345871138" onmouseenter="enter('7958399044345871138');" onmouseout="out('7958399044345871138');" style=""> 620           *                              for periodic jobs are allowed. The default value is {@code false}.        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 621           */                                                                                                       </span>
<span class="-2190831914101150490" onmouseenter="enter('-2190831914101150490');" onmouseout="out('-2190831914101150490');" style=""> 622          public void setAllowSmallerIntervalsForMarshmallow(boolean allowSmallerIntervals) {                       </span>
<span class="-8519533053547672810" onmouseenter="enter('-8519533053547672810');" onmouseout="out('-8519533053547672810');" style=""> 623              if (allowSmallerIntervals &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {                        </span>
<span class="-3520998319495876499" onmouseenter="enter('-3520998319495876499');" onmouseout="out('-3520998319495876499');" style=""> 624                  throw new IllegalStateException(&quot;This method is only allowed to call on Android M or earlier&quot;);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 625              }                                                                                                     </span>
<span class="-280008161972170539" onmouseenter="enter('-280008161972170539');" onmouseout="out('-280008161972170539');" style=""> 626              mAllowSmallerIntervals = allowSmallerIntervals;                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 627          }                                                                                                         </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 628      }                                                                                                             </span>
<span  style=""> 629                                                                                                                    </span>
<span class="198676935402196211" onmouseenter="enter('198676935402196211');" onmouseout="out('198676935402196211');" style=""> 630      private static void sendAddJobCreatorIntent(@NonNull Context context) {                                       </span>
<span class="-5610909263414778784" onmouseenter="enter('-5610909263414778784');" onmouseout="out('-5610909263414778784');" style=""> 631          Intent intent = new Intent(JobCreator.ACTION_ADD_JOB_CREATOR);                                            </span>
<span class="1726009622345607958" onmouseenter="enter('1726009622345607958');" onmouseout="out('1726009622345607958');" style=""> 632          List&lt;ResolveInfo&gt; resolveInfos = context.getPackageManager().queryBroadcastReceivers(intent, 0);          </span>
<span class="1528436296094400725" onmouseenter="enter('1528436296094400725');" onmouseout="out('1528436296094400725');" style=""> 633          String myPackage = context.getPackageName();                                                              </span>
<span  style=""> 634                                                                                                                    </span>
<span class="-3902911217867890027" onmouseenter="enter('-3902911217867890027');" onmouseout="out('-3902911217867890027');" style=""> 635          for (ResolveInfo resolveInfo : resolveInfos) {                                                            </span>
<span class="5367414755120464835" onmouseenter="enter('5367414755120464835');" onmouseout="out('5367414755120464835');" style=""> 636              ActivityInfo activityInfo = resolveInfo.activityInfo;                                                 </span>
<span class="3799375487777701963" onmouseenter="enter('3799375487777701963');" onmouseout="out('3799375487777701963');" style=""> 637              if (activityInfo == null || activityInfo.exported || !myPackage.equals(activityInfo.packageName)      </span>
<span class="1474928284409433713" onmouseenter="enter('1474928284409433713');" onmouseout="out('1474928284409433713');" style=""> 638                      || TextUtils.isEmpty(activityInfo.name)) {                                                    </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 639                  continue;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640              }                                                                                                     </span>
<span  style=""> 641                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 642              try {                                                                                                 </span>
<span class="-3119421487431756924" onmouseenter="enter('-3119421487431756924');" onmouseout="out('-3119421487431756924');" style=""> 643                  JobCreator.AddJobCreatorReceiver receiver =                                                       </span>
<span class="462433870860114552" onmouseenter="enter('462433870860114552');" onmouseout="out('462433870860114552');" style=""> 644                          (JobCreator.AddJobCreatorReceiver) Class.forName(activityInfo.name).newInstance();        </span>
<span  style=""> 645                                                                                                                    </span>
<span class="2828831418149522046" onmouseenter="enter('2828831418149522046');" onmouseout="out('2828831418149522046');" style=""> 646                  receiver.addJobCreator(context, instance);                                                        </span>
<span class="8538742657781196138" onmouseenter="enter('8538742657781196138');" onmouseout="out('8538742657781196138');" style=""> 647              } catch (Exception ignored) {                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 649          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 651  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            