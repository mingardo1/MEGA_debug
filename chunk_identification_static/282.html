<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>282</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    282
                    <a href="281.html">prev</a>
                    <a href="283.html">next</a>
                    <a href="282_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_a7cd7082e498c729c448f021ebf72d3234bc2186_Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;a7cd7082e498c729c448f021ebf72d3234bc2186:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;a7cd7082e498c729c448f021ebf72d3234bc2186^1:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;a7cd7082e498c729c448f021ebf72d3234bc2186^2:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;e8c0cc6eb145965734732c7ccbf4c00c49ed6e23:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [j], [s]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3 import android.app.ActionBar;                                                                            </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12 import android.os.AsyncTask;                                                                             </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16 import android.preference.PreferenceManager;                                                             </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="">  17 import android.support.v4.app.ActionBarDrawerToggle;                                                     </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18 import android.support.v4.widget.DrawerLayout;                                                           </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  19 import android.text.Spannable;                                                                           </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  20 import android.text.SpannableString;                                                                     </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  21 import android.text.TextUtils;                                                                           </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  23 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  24 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  25 import android.view.View;                                                                                </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  26 import android.view.Window;                                                                              </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  27 import android.widget.AdapterView;                                                                       </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  28 import android.widget.ListView;                                                                          </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  29 import android.widget.SearchView;                                                                        </span>
<span  style="">  30                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  31 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  32 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-944063965786230400" onmouseenter="enter('-944063965786230400');" onmouseout="out('-944063965786230400');" style="">  34 import com.automattic.simplenote.utils.StrUtils;                                                         </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  35 import com.automattic.simplenote.utils.TagsAdapter;                                                      </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  36 import com.automattic.simplenote.utils.ThemeUtils;                                                       </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  37 import com.automattic.simplenote.widgets.TypefaceSpan;                                                   </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  38 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="">  39 import com.google.android.gms.analytics.HitBuilders;                                                     </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="">  40 import com.google.android.gms.analytics.Tracker;                                                         </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  41 import com.simperium.Simperium;                                                                          </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  42 import com.simperium.android.LoginActivity;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  43 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  44 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  45 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  46 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  47 import com.simperium.client.User;                                                                        </span>
<span  style="">  48                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  49 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  50 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  51 import java.util.List;                                                                                   </span>
<span  style="">  52                                                                                                          </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  53 public class NotesActivity extends Activity implements                                                   </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  54         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  54         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarCo🔵</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  55         Bucket.Listener&lt;Note&gt; {                                                                          </span>
<span  style="">  56                                                                                                          </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  57     private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                  </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  58     private String mTabletSearchQuery;                                                                   </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  59     private UndoBarController mUndoBarController;                                                        </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  60     private SearchView mSearchView;                                                                      </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  61     private MenuItem mSearchMenuItem;                                                                    </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  62     private NoteListFragment mNoteListFragment;                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  63     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  64     private Note mCurrentNote;                                                                           </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  65     protected Bucket&lt;Note&gt; mNotesBucket;                                                                 </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  66     protected Bucket&lt;Tag&gt; mTagsBucket;                                                                   </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  67     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  68     private ActionBar mActionBar;                                                                        </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  69     private MenuItem mEmptyTrashMenuItem;                                                                </span>
<span  style="">  70                                                                                                          </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  71     // Menu drawer                                                                                       </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  72     private DrawerLayout mDrawerLayout;                                                                  </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  73     private ListView mDrawerList;                                                                        </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  74     private ActionBarDrawerToggle mDrawerToggle;                                                         </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  75     private TagsAdapter mTagsAdapter;                                                                    </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  76     private TagsAdapter.TagMenuItem mSelectedTag;                                                        </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  77     private CharSequence mActionBarTitle;                                                                </span>
<span  style="">  78                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  79     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  80     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  81                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  82     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  83     private Tracker mTracker;                                                                            </span>
<span  style="">  84                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  85     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  86     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style="">  87         requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                     </span>
<span  style="">  88                                                                                                          </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  89         ThemeUtils.setTheme(this);                                                                       </span>
<span  style="">  90                                                                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  91         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  92         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span  style="">  93                                                                                                          </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  94         if (mNotesBucket == null)                                                                        </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  95             mNotesBucket = currentApp.getNotesBucket();                                                  </span>
<span  style="">  96                                                                                                          </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style="">  97         if (mTagsBucket == null)                                                                         </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  98             mTagsBucket = currentApp.getTagsBucket();                                                    </span>
<span  style="">  99                                                                                                          </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 100         setContentView(R.layout.activity_notes);                                                         </span>
<span  style=""> 101                                                                                                          </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style=""> 102         mTracker = currentApp.getTracker();                                                              </span>
<span  style=""> 103                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 104         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 105             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 106             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 107             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 108             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 109         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 110             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span  style=""> 112                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 113         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 114         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 115                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 116                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 117             mIsLargeScreen = true;                                                                       </span>
<span  style=""> 118                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 119             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 120                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 120                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOT🔵</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 121             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 122                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 123                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125         }                                                                                                </span>
<span  style=""> 126                                                                                                          </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 127         // Set up the menu drawer                                                                        </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 128         mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                 </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 129         mDrawerList = (ListView) findViewById(R.id.left_drawer);                                         </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 130         mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                              </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 131         mDrawerList.setAdapter(mTagsAdapter);                                                            </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 132         // Set the list&#x27;s click listener                                                                 </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 133         mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                               </span>
<span  style=""> 134                                                                                                          </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 135         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 136             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 137                                                                                                          </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 138         // enable ActionBar app icon to behave as action to toggle nav drawer                            </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 139         mActionBar = getActionBar();                                                                     </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 140         mActionBar.setDisplayHomeAsUpEnabled(true);                                                      </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 141         mActionBar.setHomeButtonEnabled(true);                                                           </span>
<span  style=""> 142                                                                                                          </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style=""> 143         // ActionBarDrawerToggle ties together the the proper interactions                               </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style=""> 144         // between the sliding drawer and the action bar app icon                                        </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 145         mDrawerToggle = new ActionBarDrawerToggle(                                                       </span>
<span class="6637960409383215658" onmouseenter="enter('6637960409383215658');" onmouseout="out('6637960409383215658');" style=""> 146                 this,                                                                                    </span>
<span class="-8227012410899353971" onmouseenter="enter('-8227012410899353971');" onmouseout="out('-8227012410899353971');" style=""> 147                 mDrawerLayout,                                                                           </span>
<span class="4784234801981494438" onmouseenter="enter('4784234801981494438');" onmouseout="out('4784234801981494438');" style=""> 148                 R.drawable.ic_drawer,                                                                    </span>
<span class="4434560209470776563" onmouseenter="enter('4434560209470776563');" onmouseout="out('4434560209470776563');" style=""> 149                 R.string.open_drawer,                                                                    </span>
<span class="3720432804702294397" onmouseenter="enter('3720432804702294397');" onmouseout="out('3720432804702294397');" style=""> 150                 R.string.close_drawer                                                                    </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 151         ) {                                                                                              </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 152             public void onDrawerClosed(View view) {                                                      </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 153                 setTitle(mActionBarTitle);                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 154                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155             }                                                                                            </span>
<span  style=""> 156                                                                                                          </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 157             public void onDrawerOpened(View drawerView) {                                                </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 158                 setTitleWithCustomFont(getString(R.string.app_name));                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 159                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 161         };                                                                                               </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 162         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 163                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 164         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 165                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 166         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 167             // Create the welcome note                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 168             try {                                                                                        </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 169                 Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                            </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 170                 welcomeNote.setCreationDate(Calendar.getInstance());                                     </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 171                 welcomeNote.setModificationDate(welcomeNote.getCreationDate());                          </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 172                 welcomeNote.setContent(getString(R.string.welcome_note));                                </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 173                 welcomeNote.getTitle();                                                                  </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 174                 welcomeNote.save();                                                                      </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 175             } catch (BucketObjectNameInvalid e) {                                                        </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 176                 // this won&#x27;t happen because welcome-android is a valid name                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177             }                                                                                            </span>
<span  style=""> 178                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 179             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 180             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 181             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 182             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183         }                                                                                                </span>
<span  style=""> 184                                                                                                          </span>
<span class="-3973020471851195567" onmouseenter="enter('-3973020471851195567');" onmouseout="out('-3973020471851195567');" style=""> 185         if (getIntent().hasExtra(Intent.EXTRA_TEXT)) {                                                   </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 186             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 187             Intent intent = getIntent();                                                                 </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 188             String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 189             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span  style=""> 190                                                                                                          </span>
<span class="-6063041749906307244" onmouseenter="enter('-6063041749906307244');" onmouseout="out('-6063041749906307244');" style=""><abbr title=" 191             // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice search"> 191             // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice sear🔵</abbr></span>
<span class="3780323002084962910" onmouseenter="enter('3780323002084962910');" onmouseout="out('3780323002084962910');" style=""> 192             String intentAction = StrUtils.notNullStr(intent.getAction());                               </span>
<span class="1976466884174990859" onmouseenter="enter('1976466884174990859');" onmouseout="out('1976466884174990859');" style=""> 193             boolean isVoiceShare = intentAction.equals(&quot;com.google.android.gm.action.AUTO_SEND&quot;);        </span>
<span class="-5148640268413147948" onmouseenter="enter('-5148640268413147948');" onmouseout="out('-5148640268413147948');" style=""> 194             if (!TextUtils.isEmpty(text)) {                                                              </span>
<span class="-8584705149148376076" onmouseenter="enter('-8584705149148376076');" onmouseout="out('-8584705149148376076');" style=""> 195                 if (!TextUtils.isEmpty(subject) &amp;&amp; !isVoiceShare) {                                      </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 196                     text = subject + &quot;\n\n&quot; + text;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197                 }                                                                                        </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 198                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 199                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 200                 note.setModificationDate(note.getCreationDate());                                        </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 201                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 202                 note.save();                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 203                 setCurrentNote(note);                                                                    </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 204 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="2824799874346616967" onmouseenter="enter('2824799874346616967');" onmouseout="out('2824799874346616967');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 205                 if (!isVoiceShare) {                                                                     </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 206                     mShouldSelectNewNote = true;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 207                 }                                                                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 208                                                                                                          </span>
<span class="3391683012983349906" onmouseenter="enter('3391683012983349906');" onmouseout="out('3391683012983349906');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 209                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;external_share&quot;, null);"> 209                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;extern🔵</abbr></span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 210 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 211                 setCurrentNote(note);                                                                    </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 212                 mShouldSelectNewNote = true;                                                             </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 213                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 214             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 215         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 216         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 217         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 218         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 219     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 220                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 221     @Override                                                                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 222 =======                                                                                                  </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 223                 mShouldSelectNewNote = true;                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228                                 .setLabel(&quot;external_share&quot;)                                              </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230                 );                                                                                       </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 231 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 234         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 235         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 236         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 239     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 240     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 241         super.onResume();                                                                                </span>
<span  style=""> 242                                                                                                          </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 243         // Ensure user has valid authorization                                                           </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 244         if (userAuthenticationIsInvalid())                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 245             startLoginActivity(true);                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 247         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 248         mTagsBucket.start();                                                                             </span>
<span  style=""> 249                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 250         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 251         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 252         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 253         mTagsBucket.addListener(mTagsMenuUpdater);                                                       </span>
<span  style=""> 254                                                                                                          </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 255         updateNavigationDrawerItems();                                                                   </span>
<span  style=""> 256                                                                                                          </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 257         // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 258         Simplenote currentApp = (Simplenote)getApplication();                                            </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 259         if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {             </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 260             if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                          </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 261                 mSelectedTag = null;                                                                     </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 262                 mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264         }                                                                                                </span>
<span  style=""> 265                                                                                                          </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 266         setSelectedTagActive();                                                                          </span>
<span  style=""> 267                                                                                                          </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 268         if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                              </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 269             onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                  </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 270             mShouldSelectNewNote = false;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272     }                                                                                                    </span>
<span  style=""> 273                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 274     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 275     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 276         super.onPause();                                                                                 </span>
<span  style=""> 277                                                                                                          </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 278         mTagsBucket.removeListener(mTagsMenuUpdater);                                                    </span>
<span  style=""> 279                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 280         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 281         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 282         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283     }                                                                                                    </span>
<span  style=""> 284                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 285     @Override                                                                                            </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 286     public void setTitle(CharSequence title) {                                                           </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 287         mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                  </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 288         setTitleWithCustomFont(mActionBarTitle);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289     }                                                                                                    </span>
<span  style=""> 290                                                                                                          </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 291     private void setTitleWithCustomFont(CharSequence title) {                                            </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 292         // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                     </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 293         if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))               </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 294                 &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                            </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 295             mActionBar.setTitle(title);                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 296             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span  style=""> 298                                                                                                          </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 299         SpannableString s = new SpannableString(title);                                                  </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 300         s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                 </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 301                 Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                     </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 302         mActionBar.setTitle(s);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303     }                                                                                                    </span>
<span  style=""> 304                                                                                                          </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 305     private void updateNavigationDrawerItems() {                                                         </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 306         Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                    </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 307         mTagsAdapter.changeCursor(tagCursor);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308     }                                                                                                    </span>
<span  style=""> 309                                                                                                          </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 310     private void setSelectedTagActive() {                                                                </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 311         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 312             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 313                                                                                                          </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 314         setTitle(mSelectedTag.name);                                                                     </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 315         mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316     }                                                                                                    </span>
<span  style=""> 317                                                                                                          </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 318     // Enable or disable the trash action bar button depending on if there are deleted notes or not      </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 319     public void updateTrashMenuItem() {                                                                  </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 320         if (mEmptyTrashMenuItem == null)                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 321             return;                                                                                      </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 322         // Disable the trash icon if there are no notes trashed.                                         </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 323         Simplenote application = (Simplenote) getApplication();                                          </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 324         Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                          </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 325         Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                 </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 326         if (query.count() == 0) {                                                                        </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 327             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                        </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 328             mEmptyTrashMenuItem.setEnabled(false);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 329         } else {                                                                                         </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 330             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                 </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 331             mEmptyTrashMenuItem.setEnabled(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333     }                                                                                                    </span>
<span  style=""> 334                                                                                                          </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 335     /* The click listener for ListView in the navigation drawer */                                       </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 336     private class DrawerItemClickListener implements ListView.OnItemClickListener {                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 337         @Override                                                                                        </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 338         public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {               </span>
<span  style=""> 339                                                                                                          </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 340             mSelectedTag = mTagsAdapter.getItem(position);                                               </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 341             checkEmptyListText(false);                                                                   </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 342             // Update checked item in navigation drawer and close it                                     </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 343             setSelectedTagActive();                                                                      </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 344             mDrawerLayout.closeDrawer(mDrawerList);                                                      </span>
<span  style=""> 345                                                                                                          </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 346             // Disable long press on notes if we&#x27;re viewing the trash                                    </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 347             if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                             </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 348                 getNoteListFragment().getListView().setLongClickable(false);                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 349             } else {                                                                                     </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 350                 getNoteListFragment().getListView().setLongClickable(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351             }                                                                                            </span>
<span  style=""> 352                                                                                                          </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 353             getNoteListFragment().refreshListFromNavSelect();                                            </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style=""> 354             if (position &gt; 1) {                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 355                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 356                         new HitBuilders.EventBuilder()                                                   </span>
<span class="8481659063908705476" onmouseenter="enter('8481659063908705476');" onmouseout="out('8481659063908705476');" style=""> 357                                 .setCategory(&quot;tag&quot;)                                                      </span>
<span class="8346922369884657540" onmouseenter="enter('8346922369884657540');" onmouseout="out('8346922369884657540');" style=""> 358                                 .setAction(&quot;viewed_notes_for_tag&quot;)                                       </span>
<span class="3304544329017779656" onmouseenter="enter('3304544329017779656');" onmouseout="out('3304544329017779656');" style=""> 359                                 .setLabel(&quot;selected_tag_in_navigation_drawer&quot;)                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 360                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 361                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364     }                                                                                                    </span>
<span  style=""> 365                                                                                                          </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 366     public TagsAdapter.TagMenuItem getSelectedTag() {                                                    </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 367         return mSelectedTag;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368     }                                                                                                    </span>
<span  style=""> 369                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 370     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 371         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 372         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 373         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 374         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 375         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 376         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377     }                                                                                                    </span>
<span  style=""> 378                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 379     /**                                                                                                  </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 380      * Checks for a previously valid user that is now not authenticated                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 381      *                                                                                                   </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 382      * @return true if user has invalid authorization                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 383      */                                                                                                  </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 384     private boolean userAuthenticationIsInvalid() {                                                      </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 385         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 386         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 387         User user = simperium.getUser();                                                                 </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 388         return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389     }                                                                                                    </span>
<span  style=""> 390                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 391     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 392         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393     }                                                                                                    </span>
<span  style=""> 394                                                                                                          </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 395     // received a change from the network, refresh the list                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 396     @Override                                                                                            </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 397     public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 398         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 399             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 400             public void run() {                                                                          </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 401                 if (type == Bucket.ChangeType.INDEX)                                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 402                     setProgressBarIndeterminateVisibility(false);                                        </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 403                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 405         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406     }                                                                                                    </span>
<span  style=""> 407                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 408     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 409     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 410         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 411             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 412             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 413                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 415         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416     }                                                                                                    </span>
<span  style=""> 417                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 418     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 419     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 420         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 421             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 422             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 423                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 425         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426     }                                                                                                    </span>
<span  style=""> 427                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 428     @Override                                                                                            </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 429     public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                   </span>
<span  style=""> 430                                                                                                          </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 431         // noop, NoteEditorFragment will handle this                                                     </span>
<span  style=""> 432                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433     }                                                                                                    </span>
<span  style=""> 434                                                                                                          </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 435     // Tags bucket listener                                                                              </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 436     private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                         </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 437         void updateNavigationDrawer() {                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 438             runOnUiThread(new Runnable() {                                                               </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 439                 public void run() {                                                                      </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 440                     updateNavigationDrawerItems();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 442             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443         }                                                                                                </span>
<span  style=""> 444                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 445         @Override                                                                                        </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 446         public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                          </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 447             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448         }                                                                                                </span>
<span  style=""> 449                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 450         @Override                                                                                        </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 451         public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                        </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 452             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453         }                                                                                                </span>
<span  style=""> 454                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 455         @Override                                                                                        </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 456         public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 457             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458         }                                                                                                </span>
<span  style=""> 459                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 460         @Override                                                                                        </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 461         public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                               </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 462             // noop                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 464     };                                                                                                   </span>
<span  style=""> 465                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 466     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 467         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468     }                                                                                                    </span>
<span  style=""> 469                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 470     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 471     public NoteListFragment getNoteListFragment() {                                                      </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 472         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 473     }                                                                                                    </span>
<span  style=""> 474                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 475     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 476     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 477         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 478         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 479         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span  style=""> 480                                                                                                          </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 481         boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 483         // restore the search query if on a landscape tablet                                             </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 484         String searchQuery = null;                                                                       </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 485         if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                             </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 486             searchQuery = mSearchView.getQuery().toString();                                             </span>
<span  style=""> 487                                                                                                          </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 488         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 489         mSearchView = (SearchView) mSearchMenuItem.getActionView();                                      </span>
<span  style=""> 490                                                                                                          </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style=""> 491         // Set a custom search view drawable                                                             </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style=""><abbr title=" 492         int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 492         int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plat🔵</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style=""> 493         View searchPlate = mSearchView.findViewById(searchPlateId);                                      </span>
<span class="1726784060196981125" onmouseenter="enter('1726784060196981125');" onmouseout="out('1726784060196981125');" style=""> 494         if (searchPlate != null)                                                                         </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style=""> 495             searchPlate.setBackgroundResource(R.drawable.search_view_selector);                          </span>
<span  style=""> 496                                                                                                          </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 497         if (!TextUtils.isEmpty(searchQuery)) {                                                           </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 498             mSearchView.setQuery(searchQuery, false);                                                    </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 499             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 500         }                                                                                                </span>
<span  style=""> 501                                                                                                          </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 502         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 503             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 504             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 505                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 506                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 508                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509             }                                                                                            </span>
<span  style=""> 510                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 511             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 512             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 513                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 514                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515             }                                                                                            </span>
<span  style=""> 516                                                                                                          </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 517         });                                                                                              </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 518         mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 519             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 520             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 521                 checkEmptyListText(true);                                                                </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 522                 getNoteListFragment().hideWelcomeView();                                                 </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 523                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 524                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 525                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="626103863736809870" onmouseenter="enter('626103863736809870');" onmouseout="out('626103863736809870');" style=""> 526                                 .setAction(&quot;searched_notes&quot;)                                             </span>
<span class="-330726872802111023" onmouseenter="enter('-330726872802111023');" onmouseout="out('-330726872802111023');" style=""> 527                                 .setLabel(&quot;action_bar_search_tap&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 528                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 529                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 530                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531             }                                                                                            </span>
<span  style=""> 532                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 533             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 534             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 535                 // Show all notes again                                                                  </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 536                 mTabletSearchQuery = &quot;&quot;;                                                                 </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 537                 mSearchView.setQuery(&quot;&quot;, false);                                                         </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 538                 checkEmptyListText(false);                                                               </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 539                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 540                 getNoteListFragment().setWelcomeViewVisibility();                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 541                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 542             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 543         });                                                                                              </span>
<span  style=""> 544                                                                                                          </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 545         mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 546             @Override                                                                                    </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 547             public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 548                 if (!mSearchMenuItem.isActionViewExpanded())                                             </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 549                     showDetailPlaceholder();                                                             </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 550                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 551             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 552         });                                                                                              </span>
<span  style=""> 553                                                                                                          </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 554         // Restore the search query on landscape tablets                                                 </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 555         if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                        </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 556             mSearchView.setQuery(mTabletSearchQuery, false);                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 557             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 558             mSearchView.clearFocus();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559         }                                                                                                </span>
<span  style=""> 560                                                                                                          </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 561         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 562         menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());     </span>
<span  style=""> 563                                                                                                          </span>
<span  style=""> 564                                                                                                          </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 565         MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 566         if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                            </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 567             trashItem.setTitle(R.string.undelete);                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 568         else                                                                                             </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 569             trashItem.setTitle(R.string.delete);                                                         </span>
<span  style=""> 570                                                                                                          </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 571         if (isLargeScreenLandscape()) {                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 572             menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 573             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 574             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 575             if (mCurrentNote != null) {                                                                  </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 576                 menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                  </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 577                 trashItem.setVisible(true);                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 578             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 579                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 580                 trashItem.setVisible(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 582             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 583             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 584         } else {                                                                                         </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 585             menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 586             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 587             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 588             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 589             trashItem.setVisible(false);                                                                 </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 590             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 591             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 592         }                                                                                                </span>
<span  style=""> 593                                                                                                          </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 594         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 595         if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                 </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 596             mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                  </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 597             mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                 </span>
<span  style=""> 598                                                                                                          </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 599             updateTrashMenuItem();                                                                       </span>
<span  style=""> 600                                                                                                          </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 601             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 602             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 603             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 604         }                                                                                                </span>
<span  style=""> 605                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 606         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 607     }                                                                                                    </span>
<span  style=""> 608                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 609     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 610     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 611         if (mDrawerToggle.onOptionsItemSelected(item)) {                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 612             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613         }                                                                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 614         switch (item.getItemId()) {                                                                      </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 615             case R.id.menu_preferences:                                                                  </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 616                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 616                 // nbradbury - use startActivityForResult so onActivityResult can detect when user return🔵</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 617                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 618                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 619                 return true;                                                                             </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 620             case R.id.menu_sign_in:                                                                      </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 621                 startLoginActivity(true);                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 622                 return true;                                                                             </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 623             case R.id.menu_edit_tags:                                                                    </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 624                 Intent editTagsIntent = new Intent(this, TagsListActivity.class);                        </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 625                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 626                 return true;                                                                             </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 627             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 628                 getNoteListFragment().addNote();                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 629                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 630                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 631                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style=""> 632                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-5729747077358951321" onmouseenter="enter('-5729747077358951321');" onmouseout="out('-5729747077358951321');" style=""> 633                                 .setLabel(&quot;action_bar_button&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 634                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 635                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 636                 return true;                                                                             </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 637             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 638                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 639                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 640                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 641                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 642                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 642                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.sha🔵</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 643                     mTracker.send(                                                                       </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 644                             new HitBuilders.EventBuilder()                                               </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 645                                     .setCategory(&quot;note&quot;)                                                 </span>
<span class="2679386718058736721" onmouseenter="enter('2679386718058736721');" onmouseout="out('2679386718058736721');" style=""> 646                                     .setAction(&quot;shared_note&quot;)                                            </span>
<span class="-1410195237862732008" onmouseenter="enter('-1410195237862732008');" onmouseout="out('-1410195237862732008');" style=""> 647                                     .setLabel(&quot;action_bar_share_button&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 648                                     .build()                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 649                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 651                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 652             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 653                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 654                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 655                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 656                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 657                         mCurrentNote.save();                                                             </span>
<span  style=""> 658                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 659                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 660                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 661                             deletedNoteIds.add(mCurrentNote.getSimperiumKey());                          </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 662                             mUndoBarController.setDeletedNoteIds(deletedNoteIds);                        </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 663                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 663                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)🔵</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 664                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 665                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 666                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="4820706573643207865" onmouseenter="enter('4820706573643207865');" onmouseout="out('4820706573643207865');" style=""> 667                                             .setAction(&quot;deleted_note&quot;)                                   </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 668                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 669                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 670                             );                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 671                         } else {                                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 672                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 673                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 674                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="2059499498727930378" onmouseenter="enter('2059499498727930378');" onmouseout="out('2059499498727930378');" style=""> 675                                             .setAction(&quot;restored_note&quot;)                                  </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 676                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 677                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 678                             );                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 679                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 680                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 681                     }                                                                                    </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 682                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 683                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 684                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 685                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 686                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 687                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 688                 return true;                                                                             </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 689             case R.id.menu_empty_trash:                                                                  </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 690                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span  style=""> 691                                                                                                          </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 692                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 693                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 694                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 695                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 696                         new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 697                         mTracker.send(                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 698                                 new HitBuilders.EventBuilder()                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 699                                         .setCategory(&quot;note&quot;)                                             </span>
<span class="-2680943831319396023" onmouseenter="enter('-2680943831319396023');" onmouseout="out('-2680943831319396023');" style=""> 700                                         .setAction(&quot;trash_emptied&quot;)                                      </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 701                                         .setLabel(&quot;overflow_menu&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 702                                         .build()                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 703                         );                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 704                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 705                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 706                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 707                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 708                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 710                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 711                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 712                 return true;                                                                             </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 713             case android.R.id.home:                                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 714                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 715                 return true;                                                                             </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 716             default:                                                                                     </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 717                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 719     }                                                                                                    </span>
<span  style=""> 720                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 721     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 722      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 723      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 724      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 725     @Override                                                                                            </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 726     public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                      </span>
<span  style=""> 727                                                                                                          </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 728         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 729             // Launch the editor activity                                                                </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 730             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 731             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 732             arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                </span>
<span  style=""> 733                                                                                                          </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 734             if (matchOffsets != null)                                                                    </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 735                 arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                 </span>
<span  style=""> 736                                                                                                          </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 737             Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                          </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 738             editNoteIntent.putExtras(arguments);                                                         </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 739             startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 740         } else {                                                                                         </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 741             mNoteEditorFragment.setIsNewNote(isNew);                                                     </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 742             mNoteEditorFragment.setNote(noteID, matchOffsets);                                           </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 743             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 744             if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                            </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 745                 mTabletSearchQuery = mSearchView.getQuery().toString();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 746             }                                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 747             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 748         }                                                                                                </span>
<span  style=""> 749                                                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 750         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 751                 new HitBuilders.EventBuilder()                                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 752                         .setCategory(&quot;note&quot;)                                                             </span>
<span class="6000477303386997874" onmouseenter="enter('6000477303386997874');" onmouseout="out('6000477303386997874');" style=""> 753                         .setAction(&quot;viewed_note&quot;)                                                        </span>
<span class="1163867920053876079" onmouseenter="enter('1163867920053876079');" onmouseout="out('1163867920053876079');" style=""> 754                         .setLabel(&quot;note_list_row_tap&quot;)                                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 755                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 756         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 757     }                                                                                                    </span>
<span  style=""> 758                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 759     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 760     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 761         // New account created                                                                           </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 762         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 763                 new HitBuilders.EventBuilder()                                                           </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 764                         .setCategory(&quot;user&quot;)                                                             </span>
<span class="5573993830327845759" onmouseenter="enter('5573993830327845759');" onmouseout="out('5573993830327845759');" style=""> 765                         .setAction(&quot;new_account_created&quot;)                                                </span>
<span class="4433740048768960557" onmouseenter="enter('4433740048768960557');" onmouseout="out('4433740048768960557');" style=""> 766                         .setLabel(&quot;account_created_from_login_activity&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 767                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 768         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 769     }                                                                                                    </span>
<span  style=""> 770                                                                                                          </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 771     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 772         switch (status) {                                                                                </span>
<span  style=""> 773                                                                                                          </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 774             // successfully used access token to connect to simperium bucket                             </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 775             case AUTHORIZED:                                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 776                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 777                         new HitBuilders.EventBuilder()                                                   </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 778                                 .setCategory(&quot;user&quot;)                                                     </span>
<span class="5534638609849263164" onmouseenter="enter('5534638609849263164');" onmouseout="out('5534638609849263164');" style=""> 779                                 .setAction(&quot;signed_in&quot;)                                                  </span>
<span class="-5175523424458894281" onmouseenter="enter('-5175523424458894281');" onmouseout="out('-5175523424458894281');" style=""> 780                                 .setLabel(&quot;signed_in_from_login_activity&quot;)                               </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 781                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 782                 );                                                                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 783                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 784                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 785                     public void run() {                                                                  </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 786                         if (!mNotesBucket.hasChangeVersion()) {                                          </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 787                             setProgressBarIndeterminateVisibility(true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 788                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 789                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 790                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 791                 break;                                                                                   </span>
<span  style=""> 792                                                                                                          </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 793             // NOT_AUTHORIZED means we attempted to connect but the token was not valid                  </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 794             case NOT_AUTHORIZED:                                                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 795                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 796                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 797                     public void run() {                                                                  </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 798                         startLoginActivity(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 799                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 800                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 801                 break;                                                                                   </span>
<span  style=""> 802                                                                                                          </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 803             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 803             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in 🔵</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 804             case UNKNOWN:                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 805                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 806         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 807     }                                                                                                    </span>
<span  style=""> 808                                                                                                          </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 809     public void startLoginActivity(boolean signInFirst) {                                                </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 810         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 811         if (signInFirst)                                                                                 </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 812             loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                               </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 813         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 814     }                                                                                                    </span>
<span  style=""> 815                                                                                                          </span>
<span  style=""> 816                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 817     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 818     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 819         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 820         switch (requestCode) {                                                                           </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 821             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 822                 if (ThemeUtils.themeWasChanged(data)) {                                                  </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 823                     // Restart this activity to apply the new theme                                      </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 824                     recreate();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 825                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 826                 }                                                                                        </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 827                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 827                 // nbradbury - refresh note list when user returns from preferences (in case they changed🔵</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 828                 invalidateOptionsMenu();                                                                 </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 829                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 830                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 831                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 832                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 833                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 834                 break;                                                                                   </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 835             case Simplenote.INTENT_EDIT_NOTE:                                                            </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""><abbr title=" 836                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {"> 836                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID))🔵</abbr></span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 837                     String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                     </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 838                     if (noteId != null) {                                                                </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 839                         List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                           </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 840                         deletedNoteIds.add(noteId);                                                      </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 841                         mUndoBarController.setDeletedNoteIds(deletedNoteIds);                            </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 842                         mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 843                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 844                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 845                 break;                                                                                   </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 846             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 847                 invalidateOptionsMenu();                                                                 </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 848                 if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {           </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 849                     finish();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 850                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 851                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 852         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 853     }                                                                                                    </span>
<span  style=""> 854                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 855     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 856     public void onUndo(Parcelable p) {                                                                   </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 857         List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                            </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 858         if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                      </span>
<span  style=""> 859                                                                                                          </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 860             for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                              </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 861                 Note deletedNote = null;                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 862                 try {                                                                                    </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 863                     deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                               </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 864                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 865                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 866                 }                                                                                        </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 867                 if (deletedNote != null) {                                                               </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 868                     deletedNote.setDeleted(false);                                                       </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 869                     deletedNote.setModificationDate(Calendar.getInstance());                             </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 870                     deletedNote.save();                                                                  </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 871                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 872                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 873                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 874                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 875                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 876                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 877             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 878         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 879     }                                                                                                    </span>
<span  style=""> 880                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 881     @Override                                                                                            </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 882     protected void onPostCreate(Bundle savedInstanceState) {                                             </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 883         super.onPostCreate(savedInstanceState);                                                          </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 884         // Sync the toggle state after onRestoreInstanceState has occurred.                              </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 885         mDrawerToggle.syncState();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 886     }                                                                                                    </span>
<span  style=""> 887                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 888     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 889     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 890         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 891                                                                                                          </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 892         mDrawerToggle.onConfigurationChanged(newConfig);                                                 </span>
<span  style=""> 893                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 894         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 895             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 896                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 897                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 898                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 899                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 900                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 901                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 902                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 903                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 904                 if (mCurrentNote != null)                                                                </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 905                     onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 906                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 907                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 908                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 909                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 910                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 911             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 911             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment🔵</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 912                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 913                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 914                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 915                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 916                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 917                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 918                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 919                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 920                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 921                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 922                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 923                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 924                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 925                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 926                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 927                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 928             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 929         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 930     }                                                                                                    </span>
<span  style=""> 931                                                                                                          </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 932     public void checkEmptyListText(boolean isSearch) {                                                   </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 933         if (isSearch) {                                                                                  </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 934             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 934             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;🔵</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 935             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 936         } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                          </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 937             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 937             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;🔵</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 938             mTracker.send(                                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 939                     new HitBuilders.EventBuilder()                                                       </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 940                             .setCategory(&quot;user&quot;)                                                         </span>
<span class="7358311356460723849" onmouseenter="enter('7358311356460723849');" onmouseout="out('7358311356460723849');" style=""> 941                             .setAction(&quot;viewed_trash&quot;)                                                   </span>
<span class="-6195956401694955402" onmouseenter="enter('-6195956401694955402');" onmouseout="out('-6195956401694955402');" style=""> 942                             .setLabel(&quot;trash_filter_selected&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 943                             .build()                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 944             );                                                                                           </span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 945             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 946         } else {                                                                                         </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 947             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 947             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;🔵</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 948             getNoteListFragment().setEmptyListViewClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 949         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 950     }                                                                                                    </span>
<span  style=""> 951                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 952     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 953         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 954             mCurrentNote = null;                                                                         </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 955             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 956             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 957         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 958     }                                                                                                    </span>
<span  style=""> 959                                                                                                          </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 960     public void stopListeningToNotesBucket() {                                                           </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 961         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 962         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 963         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 964     }                                                                                                    </span>
<span  style=""> 965                                                                                                          </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 966     public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                           </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 967         if (mUndoBarController != null) {                                                                </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 968             mUndoBarController.setDeletedNoteIds(noteIds);                                               </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 969             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 969             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_note🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 970         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 971     }                                                                                                    </span>
<span  style=""> 972                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 973     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span  style=""> 974                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 975         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 976         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 977             Simplenote application = (Simplenote) getApplication();                                      </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 978             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 979             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 980             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 981             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 982                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 983             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 984             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 985         }                                                                                                </span>
<span  style=""> 986                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 987         @Override                                                                                        </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 988         protected void onPostExecute(Void nada) {                                                        </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 989             showDetailPlaceholder();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 990         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 991     }                                                                                                    </span>
<span  style=""> 992                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 993 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3 import android.app.ActionBar;                                                                            </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12 import android.os.AsyncTask;                                                                             </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16 import android.preference.PreferenceManager;                                                             </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="">  17 import android.support.v4.app.ActionBarDrawerToggle;                                                     </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18 import android.support.v4.widget.DrawerLayout;                                                           </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  19 import android.text.Spannable;                                                                           </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  20 import android.text.SpannableString;                                                                     </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  21 import android.text.TextUtils;                                                                           </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  23 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  24 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  25 import android.view.View;                                                                                </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  26 import android.view.Window;                                                                              </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  27 import android.widget.AdapterView;                                                                       </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  28 import android.widget.ListView;                                                                          </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  29 import android.widget.SearchView;                                                                        </span>
<span  style="">  30                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  31 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  32 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-944063965786230400" onmouseenter="enter('-944063965786230400');" onmouseout="out('-944063965786230400');" style="">  34 import com.automattic.simplenote.utils.StrUtils;                                                         </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  35 import com.automattic.simplenote.utils.TagsAdapter;                                                      </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  36 import com.automattic.simplenote.utils.ThemeUtils;                                                       </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  37 import com.automattic.simplenote.widgets.TypefaceSpan;                                                   </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  38 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="">  39 import com.google.android.gms.analytics.HitBuilders;                                                     </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="">  40 import com.google.android.gms.analytics.Tracker;                                                         </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  41 import com.simperium.Simperium;                                                                          </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  42 import com.simperium.android.LoginActivity;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  43 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  44 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  45 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  46 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  47 import com.simperium.client.User;                                                                        </span>
<span  style="">  48                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  49 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  50 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  51 import java.util.List;                                                                                   </span>
<span  style="">  52                                                                                                          </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  53 public class NotesActivity extends Activity implements                                                   </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  54         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  54         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarCo🔵</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  55         Bucket.Listener&lt;Note&gt; {                                                                          </span>
<span  style="">  56                                                                                                          </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  57     private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                  </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  58     private String mTabletSearchQuery;                                                                   </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  59     private UndoBarController mUndoBarController;                                                        </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  60     private SearchView mSearchView;                                                                      </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  61     private MenuItem mSearchMenuItem;                                                                    </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  62     private NoteListFragment mNoteListFragment;                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  63     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  64     private Note mCurrentNote;                                                                           </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  65     protected Bucket&lt;Note&gt; mNotesBucket;                                                                 </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  66     protected Bucket&lt;Tag&gt; mTagsBucket;                                                                   </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  67     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  68     private ActionBar mActionBar;                                                                        </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  69     private MenuItem mEmptyTrashMenuItem;                                                                </span>
<span  style="">  70                                                                                                          </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  71     // Menu drawer                                                                                       </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  72     private DrawerLayout mDrawerLayout;                                                                  </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  73     private ListView mDrawerList;                                                                        </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  74     private ActionBarDrawerToggle mDrawerToggle;                                                         </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  75     private TagsAdapter mTagsAdapter;                                                                    </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  76     private TagsAdapter.TagMenuItem mSelectedTag;                                                        </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  77     private CharSequence mActionBarTitle;                                                                </span>
<span  style="">  78                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  79     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  80     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  81                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  82     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  83     private Tracker mTracker;                                                                            </span>
<span  style="">  84                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  85     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  86     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style="">  87         requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                     </span>
<span  style="">  88                                                                                                          </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  89         ThemeUtils.setTheme(this);                                                                       </span>
<span  style="">  90                                                                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  91         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  92         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span  style="">  93                                                                                                          </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  94         if (mNotesBucket == null)                                                                        </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  95             mNotesBucket = currentApp.getNotesBucket();                                                  </span>
<span  style="">  96                                                                                                          </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style="">  97         if (mTagsBucket == null)                                                                         </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  98             mTagsBucket = currentApp.getTagsBucket();                                                    </span>
<span  style="">  99                                                                                                          </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 100         setContentView(R.layout.activity_notes);                                                         </span>
<span  style=""> 101                                                                                                          </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style=""> 102         mTracker = currentApp.getTracker();                                                              </span>
<span  style=""> 103                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 104         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 105             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 106             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 107             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 108             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 109         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 110             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span  style=""> 112                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 113         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 114         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 115                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 116                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 117             mIsLargeScreen = true;                                                                       </span>
<span  style=""> 118                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 119             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 120                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 120                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOT🔵</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 121             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 122                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 123                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125         }                                                                                                </span>
<span  style=""> 126                                                                                                          </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 127         // Set up the menu drawer                                                                        </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 128         mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                 </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 129         mDrawerList = (ListView) findViewById(R.id.left_drawer);                                         </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 130         mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                              </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 131         mDrawerList.setAdapter(mTagsAdapter);                                                            </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 132         // Set the list&#x27;s click listener                                                                 </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 133         mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                               </span>
<span  style=""> 134                                                                                                          </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 135         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 136             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 137                                                                                                          </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 138         // enable ActionBar app icon to behave as action to toggle nav drawer                            </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 139         mActionBar = getActionBar();                                                                     </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 140         mActionBar.setDisplayHomeAsUpEnabled(true);                                                      </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 141         mActionBar.setHomeButtonEnabled(true);                                                           </span>
<span  style=""> 142                                                                                                          </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style=""> 143         // ActionBarDrawerToggle ties together the the proper interactions                               </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style=""> 144         // between the sliding drawer and the action bar app icon                                        </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 145         mDrawerToggle = new ActionBarDrawerToggle(                                                       </span>
<span class="6637960409383215658" onmouseenter="enter('6637960409383215658');" onmouseout="out('6637960409383215658');" style=""> 146                 this,                                                                                    </span>
<span class="-8227012410899353971" onmouseenter="enter('-8227012410899353971');" onmouseout="out('-8227012410899353971');" style=""> 147                 mDrawerLayout,                                                                           </span>
<span class="4784234801981494438" onmouseenter="enter('4784234801981494438');" onmouseout="out('4784234801981494438');" style=""> 148                 R.drawable.ic_drawer,                                                                    </span>
<span class="4434560209470776563" onmouseenter="enter('4434560209470776563');" onmouseout="out('4434560209470776563');" style=""> 149                 R.string.open_drawer,                                                                    </span>
<span class="3720432804702294397" onmouseenter="enter('3720432804702294397');" onmouseout="out('3720432804702294397');" style=""> 150                 R.string.close_drawer                                                                    </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 151         ) {                                                                                              </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 152             public void onDrawerClosed(View view) {                                                      </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 153                 setTitle(mActionBarTitle);                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 154                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155             }                                                                                            </span>
<span  style=""> 156                                                                                                          </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 157             public void onDrawerOpened(View drawerView) {                                                </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 158                 setTitleWithCustomFont(getString(R.string.app_name));                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 159                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 161         };                                                                                               </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 162         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 163                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 164         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 165                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 166         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 167             // Create the welcome note                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 168             try {                                                                                        </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 169                 Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                            </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 170                 welcomeNote.setCreationDate(Calendar.getInstance());                                     </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 171                 welcomeNote.setModificationDate(welcomeNote.getCreationDate());                          </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 172                 welcomeNote.setContent(getString(R.string.welcome_note));                                </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 173                 welcomeNote.getTitle();                                                                  </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 174                 welcomeNote.save();                                                                      </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 175             } catch (BucketObjectNameInvalid e) {                                                        </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 176                 // this won&#x27;t happen because welcome-android is a valid name                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177             }                                                                                            </span>
<span  style=""> 178                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 179             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 180             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 181             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 182             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183         }                                                                                                </span>
<span  style=""> 184                                                                                                          </span>
<span class="-3973020471851195567" onmouseenter="enter('-3973020471851195567');" onmouseout="out('-3973020471851195567');" style=""> 185         if (getIntent().hasExtra(Intent.EXTRA_TEXT)) {                                                   </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 186             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 187             Intent intent = getIntent();                                                                 </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 188             String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 189             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span  style=""> 190                                                                                                          </span>
<span class="-6063041749906307244" onmouseenter="enter('-6063041749906307244');" onmouseout="out('-6063041749906307244');" style=""><abbr title=" 191             // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice search"> 191             // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice sear🔵</abbr></span>
<span class="3780323002084962910" onmouseenter="enter('3780323002084962910');" onmouseout="out('3780323002084962910');" style=""> 192             String intentAction = StrUtils.notNullStr(intent.getAction());                               </span>
<span class="1976466884174990859" onmouseenter="enter('1976466884174990859');" onmouseout="out('1976466884174990859');" style=""> 193             boolean isVoiceShare = intentAction.equals(&quot;com.google.android.gm.action.AUTO_SEND&quot;);        </span>
<span class="-5148640268413147948" onmouseenter="enter('-5148640268413147948');" onmouseout="out('-5148640268413147948');" style=""> 194             if (!TextUtils.isEmpty(text)) {                                                              </span>
<span class="-8584705149148376076" onmouseenter="enter('-8584705149148376076');" onmouseout="out('-8584705149148376076');" style=""> 195                 if (!TextUtils.isEmpty(subject) &amp;&amp; !isVoiceShare) {                                      </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 196                     text = subject + &quot;\n\n&quot; + text;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197                 }                                                                                        </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 198                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 199                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 200                 note.setModificationDate(note.getCreationDate());                                        </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 201                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 202                 note.save();                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 203                 setCurrentNote(note);                                                                    </span>
<span class="2824799874346616967" onmouseenter="enter('2824799874346616967');" onmouseout="out('2824799874346616967');" style=""> 204                 if (!isVoiceShare) {                                                                     </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 205                 mShouldSelectNewNote = true;                                                             </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 206 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 207                 }                                                                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 208                                                                                                          </span>
<span class="3391683012983349906" onmouseenter="enter('3391683012983349906');" onmouseout="out('3391683012983349906');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 209                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;external_share&quot;, null);"> 209                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;extern🔵</abbr></span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 210 ||||||| BASE                                                                                             </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 211                 mShouldSelectNewNote = true;                                                             </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 212                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 213             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 214         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 215         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 216         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 217         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 218     }                                                                                                    </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 219 =======                                                                                                  </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 221                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 223                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224                                 .setLabel(&quot;external_share&quot;)                                              </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226                 );                                                                                       </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 227 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 230         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 231         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 232         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233     }                                                                                                    </span>
<span  style=""> 234                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 235     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 236     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 237         super.onResume();                                                                                </span>
<span  style=""> 238                                                                                                          </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 239         // Ensure user has valid authorization                                                           </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 240         if (userAuthenticationIsInvalid())                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 241             startLoginActivity(true);                                                                    </span>
<span  style=""> 242                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 243         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 244         mTagsBucket.start();                                                                             </span>
<span  style=""> 245                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 246         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 247         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 248         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 249         mTagsBucket.addListener(mTagsMenuUpdater);                                                       </span>
<span  style=""> 250                                                                                                          </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 251         updateNavigationDrawerItems();                                                                   </span>
<span  style=""> 252                                                                                                          </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 253         // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 254         Simplenote currentApp = (Simplenote)getApplication();                                            </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 255         if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {             </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 256             if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                          </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 257                 mSelectedTag = null;                                                                     </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 258                 mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260         }                                                                                                </span>
<span  style=""> 261                                                                                                          </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 262         setSelectedTagActive();                                                                          </span>
<span  style=""> 263                                                                                                          </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 264         if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                              </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 265             onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                  </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 266             mShouldSelectNewNote = false;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268     }                                                                                                    </span>
<span  style=""> 269                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 270     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 271     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 272         super.onPause();                                                                                 </span>
<span  style=""> 273                                                                                                          </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 274         mTagsBucket.removeListener(mTagsMenuUpdater);                                                    </span>
<span  style=""> 275                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 276         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 277         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 278         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279     }                                                                                                    </span>
<span  style=""> 280                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 281     @Override                                                                                            </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 282     public void setTitle(CharSequence title) {                                                           </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 283         mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                  </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 284         setTitleWithCustomFont(mActionBarTitle);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285     }                                                                                                    </span>
<span  style=""> 286                                                                                                          </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 287     private void setTitleWithCustomFont(CharSequence title) {                                            </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 288         // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                     </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 289         if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))               </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 290                 &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                            </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 291             mActionBar.setTitle(title);                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 292             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span  style=""> 294                                                                                                          </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 295         SpannableString s = new SpannableString(title);                                                  </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 296         s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                 </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 297                 Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                     </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 298         mActionBar.setTitle(s);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299     }                                                                                                    </span>
<span  style=""> 300                                                                                                          </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 301     private void updateNavigationDrawerItems() {                                                         </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 302         Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                    </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 303         mTagsAdapter.changeCursor(tagCursor);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304     }                                                                                                    </span>
<span  style=""> 305                                                                                                          </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 306     private void setSelectedTagActive() {                                                                </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 307         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 308             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 309                                                                                                          </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 310         setTitle(mSelectedTag.name);                                                                     </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 311         mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312     }                                                                                                    </span>
<span  style=""> 313                                                                                                          </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 314     // Enable or disable the trash action bar button depending on if there are deleted notes or not      </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 315     public void updateTrashMenuItem() {                                                                  </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 316         if (mEmptyTrashMenuItem == null)                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 317             return;                                                                                      </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 318         // Disable the trash icon if there are no notes trashed.                                         </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 319         Simplenote application = (Simplenote) getApplication();                                          </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 320         Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                          </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 321         Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                 </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 322         if (query.count() == 0) {                                                                        </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 323             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                        </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 324             mEmptyTrashMenuItem.setEnabled(false);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 325         } else {                                                                                         </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 326             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                 </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 327             mEmptyTrashMenuItem.setEnabled(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329     }                                                                                                    </span>
<span  style=""> 330                                                                                                          </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 331     /* The click listener for ListView in the navigation drawer */                                       </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 332     private class DrawerItemClickListener implements ListView.OnItemClickListener {                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 333         @Override                                                                                        </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 334         public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {               </span>
<span  style=""> 335                                                                                                          </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 336             mSelectedTag = mTagsAdapter.getItem(position);                                               </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 337             checkEmptyListText(false);                                                                   </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 338             // Update checked item in navigation drawer and close it                                     </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 339             setSelectedTagActive();                                                                      </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 340             mDrawerLayout.closeDrawer(mDrawerList);                                                      </span>
<span  style=""> 341                                                                                                          </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 342             // Disable long press on notes if we&#x27;re viewing the trash                                    </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 343             if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                             </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 344                 getNoteListFragment().getListView().setLongClickable(false);                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 345             } else {                                                                                     </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 346                 getNoteListFragment().getListView().setLongClickable(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347             }                                                                                            </span>
<span  style=""> 348                                                                                                          </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 349             getNoteListFragment().refreshListFromNavSelect();                                            </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style=""> 350             if (position &gt; 1) {                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 351                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 352                         new HitBuilders.EventBuilder()                                                   </span>
<span class="8481659063908705476" onmouseenter="enter('8481659063908705476');" onmouseout="out('8481659063908705476');" style=""> 353                                 .setCategory(&quot;tag&quot;)                                                      </span>
<span class="8346922369884657540" onmouseenter="enter('8346922369884657540');" onmouseout="out('8346922369884657540');" style=""> 354                                 .setAction(&quot;viewed_notes_for_tag&quot;)                                       </span>
<span class="3304544329017779656" onmouseenter="enter('3304544329017779656');" onmouseout="out('3304544329017779656');" style=""> 355                                 .setLabel(&quot;selected_tag_in_navigation_drawer&quot;)                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 356                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 357                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360     }                                                                                                    </span>
<span  style=""> 361                                                                                                          </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 362     public TagsAdapter.TagMenuItem getSelectedTag() {                                                    </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 363         return mSelectedTag;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364     }                                                                                                    </span>
<span  style=""> 365                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 366     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 367         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 368         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 369         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 370         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 371         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 372         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span  style=""> 374                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 375     /**                                                                                                  </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 376      * Checks for a previously valid user that is now not authenticated                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 377      *                                                                                                   </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 378      * @return true if user has invalid authorization                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 379      */                                                                                                  </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 380     private boolean userAuthenticationIsInvalid() {                                                      </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 381         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 382         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 383         User user = simperium.getUser();                                                                 </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 384         return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385     }                                                                                                    </span>
<span  style=""> 386                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 387     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 388         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389     }                                                                                                    </span>
<span  style=""> 390                                                                                                          </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 391     // received a change from the network, refresh the list                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 392     @Override                                                                                            </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 393     public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 394         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 395             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 396             public void run() {                                                                          </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 397                 if (type == Bucket.ChangeType.INDEX)                                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 398                     setProgressBarIndeterminateVisibility(false);                                        </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 399                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 401         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402     }                                                                                                    </span>
<span  style=""> 403                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 404     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 405     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 406         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 407             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 408             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 409                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 411         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412     }                                                                                                    </span>
<span  style=""> 413                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 414     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 415     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 416         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 417             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 418             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 419                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 421         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422     }                                                                                                    </span>
<span  style=""> 423                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 424     @Override                                                                                            </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 425     public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                   </span>
<span  style=""> 426                                                                                                          </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 427         // noop, NoteEditorFragment will handle this                                                     </span>
<span  style=""> 428                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429     }                                                                                                    </span>
<span  style=""> 430                                                                                                          </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 431     // Tags bucket listener                                                                              </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 432     private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                         </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 433         void updateNavigationDrawer() {                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 434             runOnUiThread(new Runnable() {                                                               </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 435                 public void run() {                                                                      </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 436                     updateNavigationDrawerItems();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 438             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439         }                                                                                                </span>
<span  style=""> 440                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 441         @Override                                                                                        </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 442         public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                          </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 443             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444         }                                                                                                </span>
<span  style=""> 445                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 446         @Override                                                                                        </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 447         public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                        </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 448             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449         }                                                                                                </span>
<span  style=""> 450                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 451         @Override                                                                                        </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 452         public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 453             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454         }                                                                                                </span>
<span  style=""> 455                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 456         @Override                                                                                        </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 457         public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                               </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 458             // noop                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 460     };                                                                                                   </span>
<span  style=""> 461                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 462     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 463         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 464     }                                                                                                    </span>
<span  style=""> 465                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 466     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 467     public NoteListFragment getNoteListFragment() {                                                      </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 468         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469     }                                                                                                    </span>
<span  style=""> 470                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 471     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 472     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 473         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 474         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 475         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span  style=""> 476                                                                                                          </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 477         boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                    </span>
<span  style=""> 478                                                                                                          </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 479         // restore the search query if on a landscape tablet                                             </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 480         String searchQuery = null;                                                                       </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 481         if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                             </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 482             searchQuery = mSearchView.getQuery().toString();                                             </span>
<span  style=""> 483                                                                                                          </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 484         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 485         mSearchView = (SearchView) mSearchMenuItem.getActionView();                                      </span>
<span  style=""> 486                                                                                                          </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style=""> 487         // Set a custom search view drawable                                                             </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style=""><abbr title=" 488         int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 488         int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plat🔵</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style=""> 489         View searchPlate = mSearchView.findViewById(searchPlateId);                                      </span>
<span class="1726784060196981125" onmouseenter="enter('1726784060196981125');" onmouseout="out('1726784060196981125');" style=""> 490         if (searchPlate != null)                                                                         </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style=""> 491             searchPlate.setBackgroundResource(R.drawable.search_view_selector);                          </span>
<span  style=""> 492                                                                                                          </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 493         if (!TextUtils.isEmpty(searchQuery)) {                                                           </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 494             mSearchView.setQuery(searchQuery, false);                                                    </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 495             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496         }                                                                                                </span>
<span  style=""> 497                                                                                                          </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 498         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 499             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 500             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 501                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 502                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 504                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505             }                                                                                            </span>
<span  style=""> 506                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 507             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 508             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 509                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 510                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511             }                                                                                            </span>
<span  style=""> 512                                                                                                          </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 513         });                                                                                              </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 514         mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 515             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 516             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 517                 checkEmptyListText(true);                                                                </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 518                 getNoteListFragment().hideWelcomeView();                                                 </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 519                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 520                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 521                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="626103863736809870" onmouseenter="enter('626103863736809870');" onmouseout="out('626103863736809870');" style=""> 522                                 .setAction(&quot;searched_notes&quot;)                                             </span>
<span class="-330726872802111023" onmouseenter="enter('-330726872802111023');" onmouseout="out('-330726872802111023');" style=""> 523                                 .setLabel(&quot;action_bar_search_tap&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 524                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 525                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 526                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 527             }                                                                                            </span>
<span  style=""> 528                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 529             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 530             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 531                 // Show all notes again                                                                  </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 532                 mTabletSearchQuery = &quot;&quot;;                                                                 </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 533                 mSearchView.setQuery(&quot;&quot;, false);                                                         </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 534                 checkEmptyListText(false);                                                               </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 535                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 536                 getNoteListFragment().setWelcomeViewVisibility();                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 537                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 538             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 539         });                                                                                              </span>
<span  style=""> 540                                                                                                          </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 541         mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 542             @Override                                                                                    </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 543             public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 544                 if (!mSearchMenuItem.isActionViewExpanded())                                             </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 545                     showDetailPlaceholder();                                                             </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 546                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 547             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 548         });                                                                                              </span>
<span  style=""> 549                                                                                                          </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 550         // Restore the search query on landscape tablets                                                 </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 551         if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                        </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 552             mSearchView.setQuery(mTabletSearchQuery, false);                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 553             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 554             mSearchView.clearFocus();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555         }                                                                                                </span>
<span  style=""> 556                                                                                                          </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 557         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 558         menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());     </span>
<span  style=""> 559                                                                                                          </span>
<span  style=""> 560                                                                                                          </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 561         MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 562         if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                            </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 563             trashItem.setTitle(R.string.undelete);                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 564         else                                                                                             </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 565             trashItem.setTitle(R.string.delete);                                                         </span>
<span  style=""> 566                                                                                                          </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 567         if (isLargeScreenLandscape()) {                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 568             menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 569             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 570             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 571             if (mCurrentNote != null) {                                                                  </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 572                 menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                  </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 573                 trashItem.setVisible(true);                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 574             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 575                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 576                 trashItem.setVisible(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 578             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 579             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 580         } else {                                                                                         </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 581             menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 582             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 583             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 584             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 585             trashItem.setVisible(false);                                                                 </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 586             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 587             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588         }                                                                                                </span>
<span  style=""> 589                                                                                                          </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 590         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 591         if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                 </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 592             mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                  </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 593             mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                 </span>
<span  style=""> 594                                                                                                          </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 595             updateTrashMenuItem();                                                                       </span>
<span  style=""> 596                                                                                                          </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 597             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 598             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 599             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 600         }                                                                                                </span>
<span  style=""> 601                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 602         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 603     }                                                                                                    </span>
<span  style=""> 604                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 605     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 606     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 607         if (mDrawerToggle.onOptionsItemSelected(item)) {                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 608             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609         }                                                                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 610         switch (item.getItemId()) {                                                                      </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 611             case R.id.menu_preferences:                                                                  </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 612                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 612                 // nbradbury - use startActivityForResult so onActivityResult can detect when user return🔵</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 613                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 614                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 615                 return true;                                                                             </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 616             case R.id.menu_sign_in:                                                                      </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 617                 startLoginActivity(true);                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 618                 return true;                                                                             </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 619             case R.id.menu_edit_tags:                                                                    </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 620                 Intent editTagsIntent = new Intent(this, TagsListActivity.class);                        </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 621                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 622                 return true;                                                                             </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 623             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 624                 getNoteListFragment().addNote();                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 625                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 626                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 627                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style=""> 628                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-5729747077358951321" onmouseenter="enter('-5729747077358951321');" onmouseout="out('-5729747077358951321');" style=""> 629                                 .setLabel(&quot;action_bar_button&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 630                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 631                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 632                 return true;                                                                             </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 633             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 634                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 635                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 636                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 637                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 638                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 638                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.sha🔵</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 639                     mTracker.send(                                                                       </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 640                             new HitBuilders.EventBuilder()                                               </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 641                                     .setCategory(&quot;note&quot;)                                                 </span>
<span class="2679386718058736721" onmouseenter="enter('2679386718058736721');" onmouseout="out('2679386718058736721');" style=""> 642                                     .setAction(&quot;shared_note&quot;)                                            </span>
<span class="-1410195237862732008" onmouseenter="enter('-1410195237862732008');" onmouseout="out('-1410195237862732008');" style=""> 643                                     .setLabel(&quot;action_bar_share_button&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 644                                     .build()                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 645                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 646                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 647                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 648             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 649                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 650                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 651                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 652                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 653                         mCurrentNote.save();                                                             </span>
<span  style=""> 654                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 655                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 656                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 657                             deletedNoteIds.add(mCurrentNote.getSimperiumKey());                          </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 658                             mUndoBarController.setDeletedNoteIds(deletedNoteIds);                        </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 659                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 659                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)🔵</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 660                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 661                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 662                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="4820706573643207865" onmouseenter="enter('4820706573643207865');" onmouseout="out('4820706573643207865');" style=""> 663                                             .setAction(&quot;deleted_note&quot;)                                   </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 664                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 665                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 666                             );                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 667                         } else {                                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 668                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 669                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 670                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="2059499498727930378" onmouseenter="enter('2059499498727930378');" onmouseout="out('2059499498727930378');" style=""> 671                                             .setAction(&quot;restored_note&quot;)                                  </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 672                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 673                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 674                             );                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 676                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677                     }                                                                                    </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 678                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 679                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 680                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 681                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 682                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 683                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 684                 return true;                                                                             </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 685             case R.id.menu_empty_trash:                                                                  </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 686                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span  style=""> 687                                                                                                          </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 688                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 689                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 690                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 691                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 692                         new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 693                         mTracker.send(                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 694                                 new HitBuilders.EventBuilder()                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 695                                         .setCategory(&quot;note&quot;)                                             </span>
<span class="-2680943831319396023" onmouseenter="enter('-2680943831319396023');" onmouseout="out('-2680943831319396023');" style=""> 696                                         .setAction(&quot;trash_emptied&quot;)                                      </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 697                                         .setLabel(&quot;overflow_menu&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 698                                         .build()                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 699                         );                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 701                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 702                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 703                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 704                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 705                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 706                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 707                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 708                 return true;                                                                             </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 709             case android.R.id.home:                                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 710                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 711                 return true;                                                                             </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 712             default:                                                                                     </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 713                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 714         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 715     }                                                                                                    </span>
<span  style=""> 716                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 717     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 718      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 719      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 720      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 721     @Override                                                                                            </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 722     public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                      </span>
<span  style=""> 723                                                                                                          </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 724         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 725             // Launch the editor activity                                                                </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 726             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 727             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 728             arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                </span>
<span  style=""> 729                                                                                                          </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 730             if (matchOffsets != null)                                                                    </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 731                 arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                 </span>
<span  style=""> 732                                                                                                          </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 733             Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                          </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 734             editNoteIntent.putExtras(arguments);                                                         </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 735             startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 736         } else {                                                                                         </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 737             mNoteEditorFragment.setIsNewNote(isNew);                                                     </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 738             mNoteEditorFragment.setNote(noteID, matchOffsets);                                           </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 739             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 740             if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                            </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 741                 mTabletSearchQuery = mSearchView.getQuery().toString();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742             }                                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 743             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 744         }                                                                                                </span>
<span  style=""> 745                                                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 746         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 747                 new HitBuilders.EventBuilder()                                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 748                         .setCategory(&quot;note&quot;)                                                             </span>
<span class="6000477303386997874" onmouseenter="enter('6000477303386997874');" onmouseout="out('6000477303386997874');" style=""> 749                         .setAction(&quot;viewed_note&quot;)                                                        </span>
<span class="1163867920053876079" onmouseenter="enter('1163867920053876079');" onmouseout="out('1163867920053876079');" style=""> 750                         .setLabel(&quot;note_list_row_tap&quot;)                                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 751                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 752         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 753     }                                                                                                    </span>
<span  style=""> 754                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 755     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 756     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 757         // New account created                                                                           </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 758         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 759                 new HitBuilders.EventBuilder()                                                           </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 760                         .setCategory(&quot;user&quot;)                                                             </span>
<span class="5573993830327845759" onmouseenter="enter('5573993830327845759');" onmouseout="out('5573993830327845759');" style=""> 761                         .setAction(&quot;new_account_created&quot;)                                                </span>
<span class="4433740048768960557" onmouseenter="enter('4433740048768960557');" onmouseout="out('4433740048768960557');" style=""> 762                         .setLabel(&quot;account_created_from_login_activity&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 763                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 764         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 765     }                                                                                                    </span>
<span  style=""> 766                                                                                                          </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 767     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 768         switch (status) {                                                                                </span>
<span  style=""> 769                                                                                                          </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 770             // successfully used access token to connect to simperium bucket                             </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 771             case AUTHORIZED:                                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 772                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 773                         new HitBuilders.EventBuilder()                                                   </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 774                                 .setCategory(&quot;user&quot;)                                                     </span>
<span class="5534638609849263164" onmouseenter="enter('5534638609849263164');" onmouseout="out('5534638609849263164');" style=""> 775                                 .setAction(&quot;signed_in&quot;)                                                  </span>
<span class="-5175523424458894281" onmouseenter="enter('-5175523424458894281');" onmouseout="out('-5175523424458894281');" style=""> 776                                 .setLabel(&quot;signed_in_from_login_activity&quot;)                               </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 777                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 778                 );                                                                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 779                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 780                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 781                     public void run() {                                                                  </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 782                         if (!mNotesBucket.hasChangeVersion()) {                                          </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 783                             setProgressBarIndeterminateVisibility(true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 784                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 785                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 786                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 787                 break;                                                                                   </span>
<span  style=""> 788                                                                                                          </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 789             // NOT_AUTHORIZED means we attempted to connect but the token was not valid                  </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 790             case NOT_AUTHORIZED:                                                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 791                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 792                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 793                     public void run() {                                                                  </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 794                         startLoginActivity(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 795                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 796                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 797                 break;                                                                                   </span>
<span  style=""> 798                                                                                                          </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 799             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 799             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in 🔵</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 800             case UNKNOWN:                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 801                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 802         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803     }                                                                                                    </span>
<span  style=""> 804                                                                                                          </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 805     public void startLoginActivity(boolean signInFirst) {                                                </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 806         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 807         if (signInFirst)                                                                                 </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 808             loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                               </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 809         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 810     }                                                                                                    </span>
<span  style=""> 811                                                                                                          </span>
<span  style=""> 812                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 813     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 814     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 815         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 816         switch (requestCode) {                                                                           </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 817             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 818                 if (ThemeUtils.themeWasChanged(data)) {                                                  </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 819                     // Restart this activity to apply the new theme                                      </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 820                     recreate();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 821                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 822                 }                                                                                        </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 823                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 823                 // nbradbury - refresh note list when user returns from preferences (in case they changed🔵</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 824                 invalidateOptionsMenu();                                                                 </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 825                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 826                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 827                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 828                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 829                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 830                 break;                                                                                   </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 831             case Simplenote.INTENT_EDIT_NOTE:                                                            </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""><abbr title=" 832                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {"> 832                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID))🔵</abbr></span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 833                     String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                     </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 834                     if (noteId != null) {                                                                </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 835                         List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                           </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 836                         deletedNoteIds.add(noteId);                                                      </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 837                         mUndoBarController.setDeletedNoteIds(deletedNoteIds);                            </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 838                         mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 839                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 840                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 841                 break;                                                                                   </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 842             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 843                 invalidateOptionsMenu();                                                                 </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 844                 if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {           </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 845                     finish();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 846                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 847                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 848         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 849     }                                                                                                    </span>
<span  style=""> 850                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 851     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 852     public void onUndo(Parcelable p) {                                                                   </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 853         List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                            </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 854         if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                      </span>
<span  style=""> 855                                                                                                          </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 856             for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                              </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 857                 Note deletedNote = null;                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 858                 try {                                                                                    </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 859                     deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                               </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 860                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 861                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 862                 }                                                                                        </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 863                 if (deletedNote != null) {                                                               </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 864                     deletedNote.setDeleted(false);                                                       </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 865                     deletedNote.setModificationDate(Calendar.getInstance());                             </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 866                     deletedNote.save();                                                                  </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 867                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 868                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 869                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 870                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 871                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 872                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 873             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 874         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 875     }                                                                                                    </span>
<span  style=""> 876                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 877     @Override                                                                                            </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 878     protected void onPostCreate(Bundle savedInstanceState) {                                             </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 879         super.onPostCreate(savedInstanceState);                                                          </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 880         // Sync the toggle state after onRestoreInstanceState has occurred.                              </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 881         mDrawerToggle.syncState();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 882     }                                                                                                    </span>
<span  style=""> 883                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 884     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 885     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 886         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 887                                                                                                          </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 888         mDrawerToggle.onConfigurationChanged(newConfig);                                                 </span>
<span  style=""> 889                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 890         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 891             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 892                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 893                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 894                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 895                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 896                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 897                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 898                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 899                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 900                 if (mCurrentNote != null)                                                                </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 901                     onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 902                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 903                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 904                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 905                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 906                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 907             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 907             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment🔵</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 908                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 909                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 910                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 911                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 912                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 913                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 914                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 915                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 916                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 917                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 918                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 919                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 920                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 921                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 922                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 923                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 924             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 925         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 926     }                                                                                                    </span>
<span  style=""> 927                                                                                                          </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 928     public void checkEmptyListText(boolean isSearch) {                                                   </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 929         if (isSearch) {                                                                                  </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 930             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 930             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;🔵</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 931             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 932         } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                          </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 933             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 933             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;🔵</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 934             mTracker.send(                                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 935                     new HitBuilders.EventBuilder()                                                       </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 936                             .setCategory(&quot;user&quot;)                                                         </span>
<span class="7358311356460723849" onmouseenter="enter('7358311356460723849');" onmouseout="out('7358311356460723849');" style=""> 937                             .setAction(&quot;viewed_trash&quot;)                                                   </span>
<span class="-6195956401694955402" onmouseenter="enter('-6195956401694955402');" onmouseout="out('-6195956401694955402');" style=""> 938                             .setLabel(&quot;trash_filter_selected&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 939                             .build()                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 940             );                                                                                           </span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 941             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 942         } else {                                                                                         </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 943             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 943             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;🔵</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 944             getNoteListFragment().setEmptyListViewClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 945         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 946     }                                                                                                    </span>
<span  style=""> 947                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 948     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 949         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 950             mCurrentNote = null;                                                                         </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 951             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 952             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 953         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 954     }                                                                                                    </span>
<span  style=""> 955                                                                                                          </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 956     public void stopListeningToNotesBucket() {                                                           </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 957         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 958         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 959         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 960     }                                                                                                    </span>
<span  style=""> 961                                                                                                          </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 962     public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                           </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 963         if (mUndoBarController != null) {                                                                </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 964             mUndoBarController.setDeletedNoteIds(noteIds);                                               </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 965             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 965             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_note🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 966         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 967     }                                                                                                    </span>
<span  style=""> 968                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 969     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span  style=""> 970                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 971         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 972         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 973             Simplenote application = (Simplenote) getApplication();                                      </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 974             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 975             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 976             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 977             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 978                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 979             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 980             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 981         }                                                                                                </span>
<span  style=""> 982                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 983         @Override                                                                                        </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 984         protected void onPostExecute(Void nada) {                                                        </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 985             showDetailPlaceholder();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 986         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 987     }                                                                                                    </span>
<span  style=""> 988                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 989 }                                                                                                        </span>


</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3 import android.app.ActionBar;                                                                            </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12 import android.os.AsyncTask;                                                                             </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16 import android.preference.PreferenceManager;                                                             </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="">  17 import android.support.v4.app.ActionBarDrawerToggle;                                                     </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18 import android.support.v4.widget.DrawerLayout;                                                           </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  19 import android.text.Spannable;                                                                           </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  20 import android.text.SpannableString;                                                                     </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  21 import android.text.TextUtils;                                                                           </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  23 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  24 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  25 import android.view.View;                                                                                </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  26 import android.view.Window;                                                                              </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  27 import android.widget.AdapterView;                                                                       </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  28 import android.widget.ListView;                                                                          </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  29 import android.widget.SearchView;                                                                        </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  30 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  31 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  32 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-944063965786230400" onmouseenter="enter('-944063965786230400');" onmouseout="out('-944063965786230400');" style="">  33 import com.automattic.simplenote.utils.StrUtils;                                                         </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  34 import com.automattic.simplenote.utils.TagsAdapter;                                                      </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  35 import com.automattic.simplenote.utils.ThemeUtils;                                                       </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  36 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  37 import com.automattic.simplenote.widgets.TypefaceSpan;                                                   </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="">  38 import com.google.android.gms.analytics.HitBuilders;                                                     </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="">  39 import com.google.android.gms.analytics.Tracker;                                                         </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  40 import com.simperium.Simperium;                                                                          </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  41 import com.simperium.android.LoginActivity;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  42 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  43 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  44 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  45 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  46 import com.simperium.client.User;                                                                        </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  47 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  48 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  49 import java.util.List;                                                                                   </span>
<span  style="">  50                                                                                                          </span>
<span  style="">  51                                                                                                          </span>
<span class="1488360614654608674" onmouseenter="enter('1488360614654608674');" onmouseout="out('1488360614654608674');" style=""><abbr title="  52 public class NotesActivity extends Activity implements NoteListFragment.Callbacks , User.StatusChangeListener , Simperium.OnUserCreatedListener , UndoBarController.UndoListener , Bucket.Listener&lt;Note&gt; {">  52 public class NotesActivity extends Activity implements NoteListFragment.Callbacks , User.StatusChangeList🔵</abbr></span>
<span class="8116785100819994127" onmouseenter="enter('8116785100819994127');" onmouseout="out('8116785100819994127');" style="">  53     private boolean mIsLargeScreen;                                                                      </span>
<span  style="">  54                                                                                                          </span>
<span class="-24985701792273083" onmouseenter="enter('-24985701792273083');" onmouseout="out('-24985701792273083');" style="">  55     private boolean mIsLandscape;                                                                        </span>
<span  style="">  56                                                                                                          </span>
<span class="1185672530966312670" onmouseenter="enter('1185672530966312670');" onmouseout="out('1185672530966312670');" style="">  57     private boolean mShouldSelectNewNote;                                                                </span>
<span  style="">  58                                                                                                          </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  59     private String mTabletSearchQuery;                                                                   </span>
<span  style="">  60                                                                                                          </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  61     private UndoBarController mUndoBarController;                                                        </span>
<span  style="">  62                                                                                                          </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  63     private SearchView mSearchView;                                                                      </span>
<span  style="">  64                                                                                                          </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  65     private MenuItem mSearchMenuItem;                                                                    </span>
<span  style="">  66                                                                                                          </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  67     private NoteListFragment mNoteListFragment;                                                          </span>
<span  style="">  68                                                                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  69     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span  style="">  70                                                                                                          </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  71     private Note mCurrentNote;                                                                           </span>
<span  style="">  72                                                                                                          </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  73     protected Bucket&lt;Note&gt; mNotesBucket;                                                                 </span>
<span  style="">  74                                                                                                          </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  75     protected Bucket&lt;Tag&gt; mTagsBucket;                                                                   </span>
<span  style="">  76                                                                                                          </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  77     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span  style="">  78                                                                                                          </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  79     private ActionBar mActionBar;                                                                        </span>
<span  style="">  80                                                                                                          </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  81     private MenuItem mEmptyTrashMenuItem;                                                                </span>
<span  style="">  82                                                                                                          </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  83     // Menu drawer                                                                                       </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  84     // Menu drawer                                                                                       </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  85     private DrawerLayout mDrawerLayout;                                                                  </span>
<span  style="">  86                                                                                                          </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  87     private ListView mDrawerList;                                                                        </span>
<span  style="">  88                                                                                                          </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  89     private ActionBarDrawerToggle mDrawerToggle;                                                         </span>
<span  style="">  90                                                                                                          </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  91     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  92                                                                                                          </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  93     private TagsAdapter.TagMenuItem mSelectedTag;                                                        </span>
<span  style="">  94                                                                                                          </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  95     private CharSequence mActionBarTitle;                                                                </span>
<span  style="">  96                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  97     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span  style="">  98                                                                                                          </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  99     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style=""> 100                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style=""> 101     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style=""> 102     private Tracker mTracker;                                                                            </span>
<span  style=""> 103                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 104     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style=""> 105     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style=""> 106         requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                     </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style=""> 107         ThemeUtils.setTheme(this);                                                                       </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style=""> 108         super.onCreate(savedInstanceState);                                                              </span>
<span class="4097965836923357921" onmouseenter="enter('4097965836923357921');" onmouseout="out('4097965836923357921');" style=""> 109         Simplenote currentApp = ((Simplenote) (getApplication()));                                       </span>
<span class="-1395249362299135241" onmouseenter="enter('-1395249362299135241');" onmouseout="out('-1395249362299135241');" style=""> 110         if (mNotesBucket == null) {                                                                      </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style=""> 111             mNotesBucket = currentApp.getNotesBucket();                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112         }                                                                                                </span>
<span class="5886683886278058584" onmouseenter="enter('5886683886278058584');" onmouseout="out('5886683886278058584');" style=""> 113         if (mTagsBucket == null) {                                                                       </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style=""> 114             mTagsBucket = currentApp.getTagsBucket();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115         }                                                                                                </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 116         setContentView(R.layout.activity_notes);                                                         </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style=""> 117         mTracker = currentApp.getTracker();                                                              </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 118         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 119             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 120             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 121             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 122             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 123         } else {                                                                                         </span>
<span class="-4900089213236808262" onmouseenter="enter('-4900089213236808262');" onmouseout="out('-4900089213236808262');" style=""><abbr title=" 124             mNoteListFragment = ((NoteListFragment) (getFragmentManager().findFragmentByTag(TAG_NOTE_LIST)));"> 124             mNoteListFragment = ((NoteListFragment) (getFragmentManager().findFragmentByTag(TAG_NOTE_LIST🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125         }                                                                                                </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 126         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-8721219501871150618" onmouseenter="enter('-8721219501871150618');" onmouseout="out('-8721219501871150618');" style=""><abbr title=" 127         if ((config.screenLayout &amp; Configuration.SCREENLAYOUT_SIZE_MASK) &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {"> 127         if ((config.screenLayout &amp; Configuration.SCREENLAYOUT_SIZE_MASK) &gt;= Configuration.SCREENLAYOUT_SI🔵</abbr></span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 128             mIsLargeScreen = true;                                                                       </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 129             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="59253763086957638" onmouseenter="enter('59253763086957638');" onmouseout="out('59253763086957638');" style=""><abbr title=" 130                 mNoteEditorFragment = ((NoteEditorFragment) (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)));"> 130                 mNoteEditorFragment = ((NoteEditorFragment) (getFragmentManager().findFragmentByTag(TAG_N🔵</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 131             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 132                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 133                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135         }                                                                                                </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 136         // Set up the menu drawer                                                                        </span>
<span class="7150100903702584969" onmouseenter="enter('7150100903702584969');" onmouseout="out('7150100903702584969');" style=""> 137         mDrawerLayout = ((DrawerLayout) (findViewById(R.id.drawer_layout)));                             </span>
<span class="-6172545527803374386" onmouseenter="enter('-6172545527803374386');" onmouseout="out('-6172545527803374386');" style=""> 138         mDrawerList = ((ListView) (findViewById(R.id.left_drawer)));                                     </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 139         mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                              </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 140         mDrawerList.setAdapter(mTagsAdapter);                                                            </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 141         // Set the list&#x27;s click listener                                                                 </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 142         mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                               </span>
<span class="7904014187661699133" onmouseenter="enter('7904014187661699133');" onmouseout="out('7904014187661699133');" style=""> 143         if (mSelectedTag == null) {                                                                      </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 144             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145         }                                                                                                </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 146         // enable ActionBar app icon to behave as action to toggle nav drawer                            </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 147         mActionBar = getActionBar();                                                                     </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 148         mActionBar.setDisplayHomeAsUpEnabled(true);                                                      </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 149         mActionBar.setHomeButtonEnabled(true);                                                           </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style=""> 150         // ActionBarDrawerToggle ties together the the proper interactions                               </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style=""> 151         // between the sliding drawer and the action bar app icon                                        </span>
<span class="4850560175741711622" onmouseenter="enter('4850560175741711622');" onmouseout="out('4850560175741711622');" style=""><abbr title=" 152         mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout, R.drawable.ic_drawer, R.string.open_drawer, R.string.close_drawer) {"> 152         mDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout, R.drawable.ic_drawer, R.string.ope🔵</abbr></span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 153             public void onDrawerClosed(View view) {                                                      </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 154                 setTitle(mActionBarTitle);                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 155                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156             }                                                                                            </span>
<span  style=""> 157                                                                                                          </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 158             public void onDrawerOpened(View drawerView) {                                                </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 159                 setTitleWithCustomFont(getString(R.string.app_name));                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 160                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 162         };                                                                                               </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 163         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 164         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 165         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 166             // Create the welcome note                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 167             try {                                                                                        </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 168                 Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                            </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 169                 welcomeNote.setCreationDate(Calendar.getInstance());                                     </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 170                 welcomeNote.setModificationDate(welcomeNote.getCreationDate());                          </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 171                 welcomeNote.setContent(getString(R.string.welcome_note));                                </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 172                 welcomeNote.getTitle();                                                                  </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 173                 welcomeNote.save();                                                                      </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 174             } catch (BucketObjectNameInvalid e) {                                                        </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 175                 // this won&#x27;t happen because welcome-android is a valid name                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176             }                                                                                            </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 177             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 178             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 179             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 180             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181         }                                                                                                </span>
<span class="-3973020471851195567" onmouseenter="enter('-3973020471851195567');" onmouseout="out('-3973020471851195567');" style=""> 182         if (getIntent().hasExtra(Intent.EXTRA_TEXT)) {                                                   </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 183             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 184             Intent intent = getIntent();                                                                 </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 185             String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 186             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="-6063041749906307244" onmouseenter="enter('-6063041749906307244');" onmouseout="out('-6063041749906307244');" style=""><abbr title=" 187             // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice search"> 187             // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice sear🔵</abbr></span>
<span class="3780323002084962910" onmouseenter="enter('3780323002084962910');" onmouseout="out('3780323002084962910');" style=""> 188             String intentAction = StrUtils.notNullStr(intent.getAction());                               </span>
<span class="1976466884174990859" onmouseenter="enter('1976466884174990859');" onmouseout="out('1976466884174990859');" style=""> 189             boolean isVoiceShare = intentAction.equals(&quot;com.google.android.gm.action.AUTO_SEND&quot;);        </span>
<span class="-5148640268413147948" onmouseenter="enter('-5148640268413147948');" onmouseout="out('-5148640268413147948');" style=""> 190             if (!TextUtils.isEmpty(text)) {                                                              </span>
<span class="4746374267213153238" onmouseenter="enter('4746374267213153238');" onmouseout="out('4746374267213153238');" style=""> 191                 if ((!TextUtils.isEmpty(subject)) &amp;&amp; (!isVoiceShare)) {                                  </span>
<span class="-5208424688455351951" onmouseenter="enter('-5208424688455351951');" onmouseout="out('-5208424688455351951');" style=""> 192                     text = (subject + &quot;\n\n&quot;) + text;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193                 }                                                                                        </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 194                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 195                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 196                 note.setModificationDate(note.getCreationDate());                                        </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 197                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 198                 note.save();                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 199                 setCurrentNote(note);                                                                    </span>
<span class="2824799874346616967" onmouseenter="enter('2824799874346616967');" onmouseout="out('2824799874346616967');" style=""> 200                 if (!isVoiceShare) {                                                                     </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 201                     mShouldSelectNewNote = true;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202                 }                                                                                        </span>
<span  style=""> 203                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 204 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="3391683012983349906" onmouseenter="enter('3391683012983349906');" onmouseout="out('3391683012983349906');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 205                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;external_share&quot;, null);"> 205                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;extern🔵</abbr></span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 206                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 207 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 208 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 208 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 209 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210                                                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 212                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 214                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 215                                 .setLabel(&quot;external_share&quot;)                                              </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217                 );                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 218                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 219 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 222         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 223         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 224         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 227     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 228     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 229         super.onResume();                                                                                </span>
<span  style=""> 230                                                                                                          </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 231         // Ensure user has valid authorization                                                           </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 232         if (userAuthenticationIsInvalid())                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 233             startLoginActivity(true);                                                                    </span>
<span  style=""> 234                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 235         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 236         mTagsBucket.start();                                                                             </span>
<span  style=""> 237                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 238         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 239         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 240         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 241         mTagsBucket.addListener(mTagsMenuUpdater);                                                       </span>
<span  style=""> 242                                                                                                          </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 243         updateNavigationDrawerItems();                                                                   </span>
<span  style=""> 244                                                                                                          </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 245         // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 246         Simplenote currentApp = (Simplenote)getApplication();                                            </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 247         if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {             </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 248             if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                          </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 249                 mSelectedTag = null;                                                                     </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 250                 mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252         }                                                                                                </span>
<span  style=""> 253                                                                                                          </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 254         setSelectedTagActive();                                                                          </span>
<span  style=""> 255                                                                                                          </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 256         if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                              </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 257             onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                  </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 258             mShouldSelectNewNote = false;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260     }                                                                                                    </span>
<span  style=""> 261                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 262     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 263     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 264         super.onPause();                                                                                 </span>
<span  style=""> 265                                                                                                          </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 266         mTagsBucket.removeListener(mTagsMenuUpdater);                                                    </span>
<span  style=""> 267                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 268         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 269         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 270         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271     }                                                                                                    </span>
<span  style=""> 272                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 273     @Override                                                                                            </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 274     public void setTitle(CharSequence title) {                                                           </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 275         mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                  </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 276         setTitleWithCustomFont(mActionBarTitle);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277     }                                                                                                    </span>
<span  style=""> 278                                                                                                          </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 279     private void setTitleWithCustomFont(CharSequence title) {                                            </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 280         // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                     </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 281         if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))               </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 282                 &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                            </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 283             mActionBar.setTitle(title);                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 284             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285         }                                                                                                </span>
<span  style=""> 286                                                                                                          </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 287         SpannableString s = new SpannableString(title);                                                  </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 288         s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                 </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 289                 Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                     </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 290         mActionBar.setTitle(s);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291     }                                                                                                    </span>
<span  style=""> 292                                                                                                          </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 293     private void updateNavigationDrawerItems() {                                                         </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 294         Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                    </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 295         mTagsAdapter.changeCursor(tagCursor);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296     }                                                                                                    </span>
<span  style=""> 297                                                                                                          </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 298     private void setSelectedTagActive() {                                                                </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 299         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 300             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 301                                                                                                          </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 302         setTitle(mSelectedTag.name);                                                                     </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 303         mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304     }                                                                                                    </span>
<span  style=""> 305                                                                                                          </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 306     // Enable or disable the trash action bar button depending on if there are deleted notes or not      </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 307     public void updateTrashMenuItem() {                                                                  </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 308         if (mEmptyTrashMenuItem == null)                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 309             return;                                                                                      </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 310         // Disable the trash icon if there are no notes trashed.                                         </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 311         Simplenote application = (Simplenote) getApplication();                                          </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 312         Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                          </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 313         Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                 </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 314         if (query.count() == 0) {                                                                        </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 315             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                        </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 316             mEmptyTrashMenuItem.setEnabled(false);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 317         } else {                                                                                         </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 318             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                 </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 319             mEmptyTrashMenuItem.setEnabled(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span  style=""> 322                                                                                                          </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 323     /* The click listener for ListView in the navigation drawer */                                       </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 324     private class DrawerItemClickListener implements ListView.OnItemClickListener {                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 325         @Override                                                                                        </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 326         public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {               </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 327             mSelectedTag = mTagsAdapter.getItem(position);                                               </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 328             checkEmptyListText(false);                                                                   </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 329             // Update checked item in navigation drawer and close it                                     </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 330             setSelectedTagActive();                                                                      </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 331             mDrawerLayout.closeDrawer(mDrawerList);                                                      </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 332             // Disable long press on notes if we&#x27;re viewing the trash                                    </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 333             if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                             </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 334                 getNoteListFragment().getListView().setLongClickable(false);                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 335             } else {                                                                                     </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 336                 getNoteListFragment().getListView().setLongClickable(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337             }                                                                                            </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 338             getNoteListFragment().refreshListFromNavSelect();                                            </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style=""> 339             if (position &gt; 1) {                                                                          </span>
<span class="-5701201932390367450" onmouseenter="enter('-5701201932390367450');" onmouseout="out('-5701201932390367450');" style=""><abbr title=" 340                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;tag&quot;).setAction(&quot;viewed_notes_for_tag&quot;).setLabel(&quot;selected_tag_in_navigation_drawer&quot;).build());"> 340                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;tag&quot;).setAction(&quot;viewed_notes_f🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343     }                                                                                                    </span>
<span  style=""> 344                                                                                                          </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 345     public TagsAdapter.TagMenuItem getSelectedTag() {                                                    </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 346         return mSelectedTag;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347     }                                                                                                    </span>
<span  style=""> 348                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 349     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 350         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 351         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 352         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 353         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 354         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 355         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356     }                                                                                                    </span>
<span  style=""> 357                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 358     /**                                                                                                  </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 359      * Checks for a previously valid user that is now not authenticated                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 360      *                                                                                                   </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 361      * @return true if user has invalid authorization                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 362      */                                                                                                  </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 363     private boolean userAuthenticationIsInvalid() {                                                      </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 364         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 365         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 366         User user = simperium.getUser();                                                                 </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 367         return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368     }                                                                                                    </span>
<span  style=""> 369                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 370     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 371         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372     }                                                                                                    </span>
<span  style=""> 373                                                                                                          </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 374     // received a change from the network, refresh the list                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 375     @Override                                                                                            </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 376     public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 377         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 378             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 379             public void run() {                                                                          </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 380                 if (type == Bucket.ChangeType.INDEX)                                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 381                     setProgressBarIndeterminateVisibility(false);                                        </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 382                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 384         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385     }                                                                                                    </span>
<span  style=""> 386                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 387     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 388     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 389         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 390             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 391             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 392                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 394         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395     }                                                                                                    </span>
<span  style=""> 396                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 397     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 398     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 399         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 400             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 401             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 402                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 404         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405     }                                                                                                    </span>
<span  style=""> 406                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 407     @Override                                                                                            </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 408     public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                   </span>
<span  style=""> 409                                                                                                          </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 410         // noop, NoteEditorFragment will handle this                                                     </span>
<span  style=""> 411                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412     }                                                                                                    </span>
<span  style=""> 413                                                                                                          </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 414     // Tags bucket listener                                                                              </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 415     // Tags bucket listener                                                                              </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 416     private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                         </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 417         void updateNavigationDrawer() {                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 418             runOnUiThread(new Runnable() {                                                               </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 419                 public void run() {                                                                      </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 420                     updateNavigationDrawerItems();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 422             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423         }                                                                                                </span>
<span  style=""> 424                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 425         @Override                                                                                        </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 426         public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                          </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 427             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428         }                                                                                                </span>
<span  style=""> 429                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 430         @Override                                                                                        </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 431         public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                        </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 432             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433         }                                                                                                </span>
<span  style=""> 434                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 435         @Override                                                                                        </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 436         public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 437             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438         }                                                                                                </span>
<span  style=""> 439                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 440         @Override                                                                                        </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 441         public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                               </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 442             // noop                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 444     };                                                                                                   </span>
<span  style=""> 445                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 446     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 447         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448     }                                                                                                    </span>
<span  style=""> 449                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 450     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 451     public NoteListFragment getNoteListFragment() {                                                      </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 452         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453     }                                                                                                    </span>
<span  style=""> 454                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 455     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 456     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 457         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 458         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 459         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 460         boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                    </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 461         // restore the search query if on a landscape tablet                                             </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 462         String searchQuery = null;                                                                       </span>
<span class="-5857103858596653514" onmouseenter="enter('-5857103858596653514');" onmouseout="out('-5857103858596653514');" style=""> 463         if (isLargeScreenLandscape() &amp;&amp; (mSearchView != null)) {                                         </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 464             searchQuery = mSearchView.getQuery().toString();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465         }                                                                                                </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 466         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="3272437102001460651" onmouseenter="enter('3272437102001460651');" onmouseout="out('3272437102001460651');" style=""> 467         mSearchView = ((SearchView) (mSearchMenuItem.getActionView()));                                  </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style=""> 468         // Set a custom search view drawable                                                             </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style=""><abbr title=" 469         int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 469         int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plat🔵</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style=""> 470         View searchPlate = mSearchView.findViewById(searchPlateId);                                      </span>
<span class="4164071180470848699" onmouseenter="enter('4164071180470848699');" onmouseout="out('4164071180470848699');" style=""> 471         if (searchPlate != null) {                                                                       </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style=""> 472             searchPlate.setBackgroundResource(R.drawable.search_view_selector);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 473         }                                                                                                </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 474         if (!TextUtils.isEmpty(searchQuery)) {                                                           </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 475             mSearchView.setQuery(searchQuery, false);                                                    </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 476             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 477         }                                                                                                </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 478         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 479             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 480             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 481                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 482                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 484                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 485             }                                                                                            </span>
<span  style=""> 486                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 487             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 488             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 489                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 490                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 492         });                                                                                              </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 493         mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 494             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 495             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 496                 checkEmptyListText(true);                                                                </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 497                 getNoteListFragment().hideWelcomeView();                                                 </span>
<span class="532907680402524417" onmouseenter="enter('532907680402524417');" onmouseout="out('532907680402524417');" style=""><abbr title=" 498                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;searched_notes&quot;).setLabel(&quot;action_bar_search_tap&quot;).build());"> 498                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;searched_note🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 499                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 500             }                                                                                            </span>
<span  style=""> 501                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 502             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 503             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 504                 // Show all notes again                                                                  </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 505                 mTabletSearchQuery = &quot;&quot;;                                                                 </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 506                 mSearchView.setQuery(&quot;&quot;, false);                                                         </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 507                 checkEmptyListText(false);                                                               </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 508                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 509                 getNoteListFragment().setWelcomeViewVisibility();                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 510                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 512         });                                                                                              </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 513         mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 514             @Override                                                                                    </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 515             public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="3606845470861323221" onmouseenter="enter('3606845470861323221');" onmouseout="out('3606845470861323221');" style=""> 516                 if (!mSearchMenuItem.isActionViewExpanded()) {                                           </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 517                     showDetailPlaceholder();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518                 }                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 519                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 521         });                                                                                              </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 522         // Restore the search query on landscape tablets                                                 </span>
<span class="3294827609454567092" onmouseenter="enter('3294827609454567092');" onmouseout="out('3294827609454567092');" style=""> 523         if (isLargeScreenLandscape() &amp;&amp; (!TextUtils.isEmpty(mTabletSearchQuery))) {                      </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 524             mSearchView.setQuery(mTabletSearchQuery, false);                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 525             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 526             mSearchView.clearFocus();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 527         }                                                                                                </span>
<span class="4097965836923357921" onmouseenter="enter('4097965836923357921');" onmouseout="out('4097965836923357921');" style=""> 528         Simplenote currentApp = ((Simplenote) (getApplication()));                                       </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 529         menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());     </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 530         MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                </span>
<span class="7981805915062927604" onmouseenter="enter('7981805915062927604');" onmouseout="out('7981805915062927604');" style=""> 531         if ((mCurrentNote != null) &amp;&amp; mCurrentNote.isDeleted()) {                                        </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 532             trashItem.setTitle(R.string.undelete);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 533         } else {                                                                                         </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 534             trashItem.setTitle(R.string.delete);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 535         }                                                                                                </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 536         if (isLargeScreenLandscape()) {                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 537             menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 538             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 539             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 540             if (mCurrentNote != null) {                                                                  </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 541                 menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                  </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 542                 trashItem.setVisible(true);                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 543             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 544                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 545                 trashItem.setVisible(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 546             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 547             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 548             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 549         } else {                                                                                         </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 550             menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 551             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 552             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 553             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 554             trashItem.setVisible(false);                                                                 </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 555             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 556             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 557         }                                                                                                </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 558         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 559         if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                 </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 560             mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                  </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 561             mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                 </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 562             updateTrashMenuItem();                                                                       </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 563             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 564             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 565             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 566         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 567         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568     }                                                                                                    </span>
<span  style=""> 569                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 570     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 571     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 572         if (mDrawerToggle.onOptionsItemSelected(item)) {                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 573             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574         }                                                                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 575         switch (item.getItemId()) {                                                                      </span>
<span class="-5055644811283604841" onmouseenter="enter('-5055644811283604841');" onmouseout="out('-5055644811283604841');" style=""> 576             case R.id.menu_preferences :                                                                 </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 577                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 577                 // nbradbury - use startActivityForResult so onActivityResult can detect when user return🔵</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 578                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 579                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 580                 return true;                                                                             </span>
<span class="-2319704929653943740" onmouseenter="enter('-2319704929653943740');" onmouseout="out('-2319704929653943740');" style=""> 581             case R.id.menu_sign_in :                                                                     </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 582                 startLoginActivity(true);                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 583                 return true;                                                                             </span>
<span class="1042804872057263675" onmouseenter="enter('1042804872057263675');" onmouseout="out('1042804872057263675');" style=""> 584             case R.id.menu_edit_tags :                                                                   </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 585                 Intent editTagsIntent = new Intent(this, TagsListActivity.class);                        </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 586                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 587                 return true;                                                                             </span>
<span class="4873114744139951215" onmouseenter="enter('4873114744139951215');" onmouseout="out('4873114744139951215');" style=""> 588             case R.id.menu_create_note :                                                                 </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 589                 getNoteListFragment().addNote();                                                         </span>
<span class="7341368113931464349" onmouseenter="enter('7341368113931464349');" onmouseout="out('7341368113931464349');" style=""><abbr title=" 590                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;create_note&quot;).setLabel(&quot;action_bar_button&quot;).build());"> 590                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;create_note&quot;)🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 591                 return true;                                                                             </span>
<span class="-4929350896823615772" onmouseenter="enter('-4929350896823615772');" onmouseout="out('-4929350896823615772');" style=""> 592             case R.id.menu_share :                                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 593                 if (mCurrentNote != null) {                                                              </span>
<span class="2351823289576090125" onmouseenter="enter('2351823289576090125');" onmouseout="out('2351823289576090125');" style=""> 594                     Intent shareIntent = new Intent(Intent.ACTION_SEND);                                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 595                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 596                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 597                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 597                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.sha🔵</abbr></span>
<span class="-6023974736626738641" onmouseenter="enter('-6023974736626738641');" onmouseout="out('-6023974736626738641');" style=""><abbr title=" 598                     mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;shared_note&quot;).setLabel(&quot;action_bar_share_button&quot;).build());"> 598                     mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;shared_no🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 599                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 600                 return true;                                                                             </span>
<span class="4085560905623289311" onmouseenter="enter('4085560905623289311');" onmouseout="out('4085560905623289311');" style=""> 601             case R.id.menu_delete :                                                                      </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 602                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 603                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 604                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 605                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 606                         mCurrentNote.save();                                                             </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 607                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 608                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 609                             deletedNoteIds.add(mCurrentNote.getSimperiumKey());                          </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 610                             mUndoBarController.setDeletedNoteIds(deletedNoteIds);                        </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 611                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 611                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)🔵</abbr></span>
<span class="707283825480925922" onmouseenter="enter('707283825480925922');" onmouseout="out('707283825480925922');" style=""><abbr title=" 612                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;deleted_note&quot;).setLabel(&quot;overflow_menu&quot;).build());"> 612                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;d🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 613                         } else {                                                                         </span>
<span class="-2255747906187631825" onmouseenter="enter('-2255747906187631825');" onmouseout="out('-2255747906187631825');" style=""><abbr title=" 614                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;restored_note&quot;).setLabel(&quot;overflow_menu&quot;).build());"> 614                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;r🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 615                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 616                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 617                     }                                                                                    </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 618                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 619                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 620                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 621                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 622                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 623                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 624                 return true;                                                                             </span>
<span class="2574119336327208433" onmouseenter="enter('2574119336327208433');" onmouseout="out('2574119336327208433');" style=""> 625             case R.id.menu_empty_trash :                                                                 </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 626                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 627                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 628                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 629                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 630                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 631                         new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);          </span>
<span class="-8539540474049676307" onmouseenter="enter('-8539540474049676307');" onmouseout="out('-8539540474049676307');" style=""><abbr title=" 632                         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;trash_emptied&quot;).setLabel(&quot;overflow_menu&quot;).build());"> 632                         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;trash🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 633                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 634                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 635                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 636                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 637                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 639                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 640                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 641                 return true;                                                                             </span>
<span class="-1147335564575759755" onmouseenter="enter('-1147335564575759755');" onmouseout="out('-1147335564575759755');" style=""> 642             case android.R.id.home :                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 643                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 644                 return true;                                                                             </span>
<span class="3050734735710613783" onmouseenter="enter('3050734735710613783');" onmouseout="out('3050734735710613783');" style=""> 645             default :                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 646                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 647         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648     }                                                                                                    </span>
<span  style=""> 649                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 650     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 651      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 652      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 653      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 654     @Override                                                                                            </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 655     public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                      </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 656         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 657             // Launch the editor activity                                                                </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 658             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 659             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 660             arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                </span>
<span class="-7566474685196195951" onmouseenter="enter('-7566474685196195951');" onmouseout="out('-7566474685196195951');" style=""> 661             if (matchOffsets != null) {                                                                  </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 662                 arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663             }                                                                                            </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 664             Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                          </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 665             editNoteIntent.putExtras(arguments);                                                         </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 666             startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 667         } else {                                                                                         </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 668             mNoteEditorFragment.setIsNewNote(isNew);                                                     </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 669             mNoteEditorFragment.setNote(noteID, matchOffsets);                                           </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 670             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-6511901160538592247" onmouseenter="enter('-6511901160538592247');" onmouseout="out('-6511901160538592247');" style=""> 671             if ((mSearchView != null) &amp;&amp; (mSearchView.getQuery().length() &gt; 0)) {                        </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 672                 mTabletSearchQuery = mSearchView.getQuery().toString();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 673             }                                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 674             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675         }                                                                                                </span>
<span class="-4564216319929588783" onmouseenter="enter('-4564216319929588783');" onmouseout="out('-4564216319929588783');" style=""><abbr title=" 676         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;viewed_note&quot;).setLabel(&quot;note_list_row_tap&quot;).build());"> 676         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;viewed_note&quot;).setLabe🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677     }                                                                                                    </span>
<span  style=""> 678                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 679     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 680     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 681         // New account created                                                                           </span>
<span class="-6561148211415741377" onmouseenter="enter('-6561148211415741377');" onmouseout="out('-6561148211415741377');" style=""><abbr title=" 682         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;new_account_created&quot;).setLabel(&quot;account_created_from_login_activity&quot;).build());"> 682         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;new_account_created&quot;)🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 683     }                                                                                                    </span>
<span  style=""> 684                                                                                                          </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 685     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 686         switch (status) {                                                                                </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 687             // successfully used access token to connect to simperium bucket                             </span>
<span class="8530657123535022875" onmouseenter="enter('8530657123535022875');" onmouseout="out('8530657123535022875');" style=""> 688             case AUTHORIZED :                                                                            </span>
<span class="2156428351969481188" onmouseenter="enter('2156428351969481188');" onmouseout="out('2156428351969481188');" style=""><abbr title=" 689                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;signed_in&quot;).setLabel(&quot;signed_in_from_login_activity&quot;).build());"> 689                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;signed_in&quot;).s🔵</abbr></span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 690                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 691                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 692                     public void run() {                                                                  </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 693                         if (!mNotesBucket.hasChangeVersion()) {                                          </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 694                             setProgressBarIndeterminateVisibility(true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 697                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 698                 break;                                                                                   </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 699             // NOT_AUTHORIZED means we attempted to connect but the token was not valid                  </span>
<span class="-3012977817220663920" onmouseenter="enter('-3012977817220663920');" onmouseout="out('-3012977817220663920');" style=""> 700             case NOT_AUTHORIZED :                                                                        </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 701                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 702                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 703                     public void run() {                                                                  </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 704                         startLoginActivity(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 705                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 706                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 707                 break;                                                                                   </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 708                 // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 708                 // Default starting state of User, don&#x27;t do anything we allow use of app while not signed🔵</abbr></span>
<span class="6174632715204271229" onmouseenter="enter('6174632715204271229');" onmouseout="out('6174632715204271229');" style=""> 709             case UNKNOWN :                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 710                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 711         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 712     }                                                                                                    </span>
<span  style=""> 713                                                                                                          </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 714     public void startLoginActivity(boolean signInFirst) {                                                </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 715         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 716         if (signInFirst)                                                                                 </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 717             loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                               </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 718         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 719     }                                                                                                    </span>
<span  style=""> 720                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 721     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 722     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 723         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 724         switch (requestCode) {                                                                           </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 725             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 726                 if (ThemeUtils.themeWasChanged(data)) {                                                  </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 727                     // Restart this activity to apply the new theme                                      </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 728                     recreate();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 729                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 730                 }                                                                                        </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 731                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 731                 // nbradbury - refresh note list when user returns from preferences (in case they changed🔵</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 732                 invalidateOptionsMenu();                                                                 </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 733                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 734                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 735                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 736                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 737                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 738                 break;                                                                                   </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 739             case Simplenote.INTENT_EDIT_NOTE:                                                            </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""><abbr title=" 740                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {"> 740                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID))🔵</abbr></span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 741                     String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                     </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 742                     if (noteId != null) {                                                                </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 743                         List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                           </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 744                         deletedNoteIds.add(noteId);                                                      </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 745                         mUndoBarController.setDeletedNoteIds(deletedNoteIds);                            </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 746                         mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 747                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 748                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 749                 break;                                                                                   </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 750             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 751                 invalidateOptionsMenu();                                                                 </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 752                 if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {           </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 753                     finish();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 754                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 755                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 756         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 757     }                                                                                                    </span>
<span  style=""> 758                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 759     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 760     public void onUndo(Parcelable p) {                                                                   </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 761         List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                            </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 762         if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                      </span>
<span  style=""> 763                                                                                                          </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 764             for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                              </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 765                 Note deletedNote = null;                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 766                 try {                                                                                    </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 767                     deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                               </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 768                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 769                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 770                 }                                                                                        </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 771                 if (deletedNote != null) {                                                               </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 772                     deletedNote.setDeleted(false);                                                       </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 773                     deletedNote.setModificationDate(Calendar.getInstance());                             </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 774                     deletedNote.save();                                                                  </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 775                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 776                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 777                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 778                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 779                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 780                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 781             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 782         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 783     }                                                                                                    </span>
<span  style=""> 784                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 785     @Override                                                                                            </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 786     protected void onPostCreate(Bundle savedInstanceState) {                                             </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 787         super.onPostCreate(savedInstanceState);                                                          </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 788         // Sync the toggle state after onRestoreInstanceState has occurred.                              </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 789         mDrawerToggle.syncState();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 790     }                                                                                                    </span>
<span  style=""> 791                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 792     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 793     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 794         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 795                                                                                                          </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 796         mDrawerToggle.onConfigurationChanged(newConfig);                                                 </span>
<span  style=""> 797                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 798         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 799             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 800                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 801                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 802                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 803                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 804                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 805                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 806                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 807                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 808                 if (mCurrentNote != null)                                                                </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 809                     onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 810                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 811                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 812                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 813                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 814                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 815             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 815             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment🔵</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 816                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 817                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 818                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 819                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 820                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 821                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 822                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 823                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 824                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 825                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 826                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 827                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 828                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 829                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 830                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 831                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 832             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 833         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 834     }                                                                                                    </span>
<span  style=""> 835                                                                                                          </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 836     public void checkEmptyListText(boolean isSearch) {                                                   </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 837         if (isSearch) {                                                                                  </span>
<span class="-3939719737472060201" onmouseenter="enter('-3939719737472060201');" onmouseout="out('-3939719737472060201');" style=""><abbr title=" 838             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found)) + &quot;&lt;/strong&gt;&quot;);"> 838             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found)) +🔵</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 839             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 840         } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                          </span>
<span class="-1916371577987904015" onmouseenter="enter('-1916371577987904015');" onmouseout="out('-1916371577987904015');" style=""><abbr title=" 841             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty)) + &quot;&lt;/strong&gt;&quot;);"> 841             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty)) +🔵</abbr></span>
<span class="-5043343125166379994" onmouseenter="enter('-5043343125166379994');" onmouseout="out('-5043343125166379994');" style=""><abbr title=" 842             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;viewed_trash&quot;).setLabel(&quot;trash_filter_selected&quot;).build());"> 842             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;viewed_trash&quot;).se🔵</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 843             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 844         } else {                                                                                         </span>
<span class="-1146433742164721318" onmouseenter="enter('-1146433742164721318');" onmouseout="out('-1146433742164721318');" style=""><abbr title=" 845             getNoteListFragment().setEmptyListMessage(((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here)) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot;) + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 845             getNoteListFragment().setEmptyListMessage(((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here)) +🔵</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 846             getNoteListFragment().setEmptyListViewClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 848     }                                                                                                    </span>
<span  style=""> 849                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 850     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 851         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 852             mCurrentNote = null;                                                                         </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 853             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 854             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 855         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 856     }                                                                                                    </span>
<span  style=""> 857                                                                                                          </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 858     public void stopListeningToNotesBucket() {                                                           </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 859         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 860         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 861         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 862     }                                                                                                    </span>
<span  style=""> 863                                                                                                          </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 864     public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                           </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 865         if (mUndoBarController != null) {                                                                </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 866             mUndoBarController.setDeletedNoteIds(noteIds);                                               </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 867             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 867             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_note🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 868         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 869     }                                                                                                    </span>
<span  style=""> 870                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 871     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 872         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 873         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="490992353589700684" onmouseenter="enter('490992353589700684');" onmouseout="out('490992353589700684');" style=""> 874             Simplenote application = ((Simplenote) (getApplication()));                                  </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 875             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 876             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 877             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 878             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 879                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 880             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 881             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 882         }                                                                                                </span>
<span  style=""> 883                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 884         @Override                                                                                        </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 885         protected void onPostExecute(Void nada) {                                                        </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 886             showDetailPlaceholder();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 887         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 888     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 889 }                                                                                                        </span>






































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3  import android.app.ActionBar;                                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5  import android.app.AlertDialog;                                                                                   </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6  import android.app.FragmentManager;                                                                               </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7  import android.app.FragmentTransaction;                                                                           </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10  import android.content.SharedPreferences;                                                                         </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11  import android.content.res.Configuration;                                                                         </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12  import android.os.AsyncTask;                                                                                      </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14  import android.os.Bundle;                                                                                         </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15  import android.os.Parcelable;                                                                                     </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16  import android.preference.PreferenceManager;                                                                      </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="">  17  import android.support.v4.app.ActionBarDrawerToggle;                                                              </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18  import android.support.v4.widget.DrawerLayout;                                                                    </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  19  import android.text.Spannable;                                                                                    </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  20  import android.text.SpannableString;                                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  21  import android.text.TextUtils;                                                                                    </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  23  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  24  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  25  import android.view.View;                                                                                         </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  26  import android.view.Window;                                                                                       </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  27  import android.widget.AdapterView;                                                                                </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  28  import android.widget.ListView;                                                                                   </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  29  import android.widget.SearchView;                                                                                 </span>
<span  style="">  30                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  31  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  32  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-944063965786230400" onmouseenter="enter('-944063965786230400');" onmouseout="out('-944063965786230400');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +import com.automattic.simplenote.utils.StrUtils;                                                                  </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  35  import com.automattic.simplenote.utils.TagsAdapter;                                                               </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  36  import com.automattic.simplenote.utils.ThemeUtils;                                                                </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  37  import com.automattic.simplenote.widgets.TypefaceSpan;                                                            </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  38  import com.automattic.simplenote.utils.UndoBarController;                                                         </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  39  import com.google.analytics.tracking.android.EasyTracker;                                                         </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  40  import com.google.analytics.tracking.android.Tracker;                                                             </span>


<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  41  import com.simperium.Simperium;                                                                                   </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  42  import com.simperium.android.LoginActivity;                                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  43  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  44  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  45  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  46  import com.simperium.client.Query;                                                                                </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  47  import com.simperium.client.User;                                                                                 </span>
<span  style="">  48                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  49  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  50  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  51  import java.util.List;                                                                                            </span>
<span  style="">  52                                                                                                                    </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  53  public class NotesActivity extends Activity implements                                                            </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  54          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  54          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.🔵</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  55          Bucket.Listener&lt;Note&gt; {                                                                                   </span>
<span  style="">  56                                                                                                                    </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  57      private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                           </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  58      private String mTabletSearchQuery;                                                                            </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  59      private UndoBarController mUndoBarController;                                                                 </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  60      private SearchView mSearchView;                                                                               </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  61      private MenuItem mSearchMenuItem;                                                                             </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  62      private NoteListFragment mNoteListFragment;                                                                   </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  63      private NoteEditorFragment mNoteEditorFragment;                                                               </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  64      private Note mCurrentNote;                                                                                    </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  65      protected Bucket&lt;Note&gt; mNotesBucket;                                                                          </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  66      protected Bucket&lt;Tag&gt; mTagsBucket;                                                                            </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  67      private int TRASH_SELECTED_ID = 1;                                                                            </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  68      private ActionBar mActionBar;                                                                                 </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  69      private MenuItem mEmptyTrashMenuItem;                                                                         </span>
<span  style="">  70                                                                                                                    </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  71      // Menu drawer                                                                                                </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  72      private DrawerLayout mDrawerLayout;                                                                           </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  73      private ListView mDrawerList;                                                                                 </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  74      private ActionBarDrawerToggle mDrawerToggle;                                                                  </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  75      private TagsAdapter mTagsAdapter;                                                                             </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  76      private TagsAdapter.TagMenuItem mSelectedTag;                                                                 </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  77      private CharSequence mActionBarTitle;                                                                         </span>
<span  style="">  78                                                                                                                    </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  79      public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                              </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  80      public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                          </span>
<span  style="">  81                                                                                                                    </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  82      // Google Analytics tracker                                                                                   </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  83      private Tracker mTracker;                                                                                     </span>
<span  style="">  84                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  85      @Override                                                                                                     </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  86      protected void onCreate(Bundle savedInstanceState) {                                                          </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style="">  87          requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                              </span>
<span  style="">  88                                                                                                                    </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  89          ThemeUtils.setTheme(this);                                                                                </span>
<span  style="">  90                                                                                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  91          super.onCreate(savedInstanceState);                                                                       </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  92          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span  style="">  93                                                                                                                    </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  94          if (mNotesBucket == null)                                                                                 </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  95              mNotesBucket = currentApp.getNotesBucket();                                                           </span>
<span  style="">  96                                                                                                                    </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style="">  97          if (mTagsBucket == null)                                                                                  </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  98              mTagsBucket = currentApp.getTagsBucket();                                                             </span>
<span  style="">  99                                                                                                                    </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 100          setContentView(R.layout.activity_notes);                                                                  </span>
<span  style=""> 101                                                                                                                    </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style=""> 102          EasyTracker.getInstance().activityStart(this);                                                            </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style=""> 103          mTracker = EasyTracker.getTracker();                                                                      </span>

<span  style=""> 104                                                                                                                    </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 105          if (savedInstanceState == null) {                                                                         </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 106              mNoteListFragment = new NoteListFragment();                                                           </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 107              FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();                    </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 108              fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);                </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 109              fragmentTransaction.commit();                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 110          } else {                                                                                                  </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 111              mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112          }                                                                                                         </span>
<span  style=""> 113                                                                                                                    </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 114          Configuration config = getBaseContext().getResources().getConfiguration();                                </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 115          if ((config.screenLayout                                                                                  </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 116                  &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                           </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 117                  &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                                       </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 118              mIsLargeScreen = true;                                                                                </span>
<span  style=""> 119                                                                                                                    </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 120              if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                                </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 121                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 121                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)🔵</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 122              } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 123                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 124                  addEditorFragment();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126          }                                                                                                         </span>
<span  style=""> 127                                                                                                                    </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 128          // Set up the menu drawer                                                                                 </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 129          mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                          </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 130          mDrawerList = (ListView) findViewById(R.id.left_drawer);                                                  </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 131          mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                                       </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 132          mDrawerList.setAdapter(mTagsAdapter);                                                                     </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 133          // Set the list&#x27;s click listener                                                                          </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 134          mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                                        </span>
<span  style=""> 135                                                                                                                    </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 136          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 137              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 138                                                                                                                    </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 139          // enable ActionBar app icon to behave as action to toggle nav drawer                                     </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 140          mActionBar = getActionBar();                                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 141          mActionBar.setDisplayHomeAsUpEnabled(true);                                                               </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 142          mActionBar.setHomeButtonEnabled(true);                                                                    </span>
<span  style=""> 143                                                                                                                    </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style=""> 144          // ActionBarDrawerToggle ties together the the proper interactions                                        </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style=""> 145          // between the sliding drawer and the action bar app icon                                                 </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 146          mDrawerToggle = new ActionBarDrawerToggle(                                                                </span>
<span class="6637960409383215658" onmouseenter="enter('6637960409383215658');" onmouseout="out('6637960409383215658');" style=""> 147                  this,                                                                                             </span>
<span class="-8227012410899353971" onmouseenter="enter('-8227012410899353971');" onmouseout="out('-8227012410899353971');" style=""> 148                  mDrawerLayout,                                                                                    </span>
<span class="4784234801981494438" onmouseenter="enter('4784234801981494438');" onmouseout="out('4784234801981494438');" style=""> 149                  R.drawable.ic_drawer,                                                                             </span>
<span class="4434560209470776563" onmouseenter="enter('4434560209470776563');" onmouseout="out('4434560209470776563');" style=""> 150                  R.string.open_drawer,                                                                             </span>
<span class="3720432804702294397" onmouseenter="enter('3720432804702294397');" onmouseout="out('3720432804702294397');" style=""> 151                  R.string.close_drawer                                                                             </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 152          ) {                                                                                                       </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 153              public void onDrawerClosed(View view) {                                                               </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 154                  setTitle(mActionBarTitle);                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 155                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156              }                                                                                                     </span>
<span  style=""> 157                                                                                                                    </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 158              public void onDrawerOpened(View drawerView) {                                                         </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 159                  setTitleWithCustomFont(getString(R.string.app_name));                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 160                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 162          };                                                                                                        </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 163          mDrawerLayout.setDrawerListener(mDrawerToggle);                                                           </span>
<span  style=""> 164                                                                                                                    </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 165          mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                             </span>
<span  style=""> 166                                                                                                                    </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 167          if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                                     </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 168              // Create the welcome note                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 169              try {                                                                                                 </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 170                  Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                     </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 171                  welcomeNote.setCreationDate(Calendar.getInstance());                                              </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 172                  welcomeNote.setModificationDate(welcomeNote.getCreationDate());                                   </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 173                  welcomeNote.setContent(getString(R.string.welcome_note));                                         </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 174                  welcomeNote.getTitle();                                                                           </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 175                  welcomeNote.save();                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 176              } catch (BucketObjectNameInvalid e) {                                                                 </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 177                  // this won&#x27;t happen because welcome-android is a valid name                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178              }                                                                                                     </span>
<span  style=""> 179                                                                                                                    </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 180              SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);                  </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 181              SharedPreferences.Editor editor = preferences.edit();                                                 </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 182              editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                                </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 183              editor.commit();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184          }                                                                                                         </span>
<span  style=""> 185                                                                                                                    </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 186 -        if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                                 </span>
<span class="-3973020471851195567" onmouseenter="enter('-3973020471851195567');" onmouseout="out('-3973020471851195567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +        if (getIntent().hasExtra(Intent.EXTRA_TEXT)) {                                                            </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 188              // Check share action                                                                                 </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 189              Intent intent = getIntent();                                                                          </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 190              String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                         </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 191              String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                               </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 192 -            if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                               </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 193 -                if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +                                                                                                                  </span>
<span class="-6063041749906307244" onmouseenter="enter('-6063041749906307244');" onmouseout="out('-6063041749906307244');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +            // Don&#x27;t add the &#x27;Note to self&#x27; subject or open the note if this was shared from a voice search       </span>
<span class="3780323002084962910" onmouseenter="enter('3780323002084962910');" onmouseout="out('3780323002084962910');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +            String intentAction = StrUtils.notNullStr(intent.getAction());                                        </span>
<span class="1976466884174990859" onmouseenter="enter('1976466884174990859');" onmouseout="out('1976466884174990859');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +            boolean isVoiceShare = intentAction.equals(&quot;com.google.android.gm.action.AUTO_SEND&quot;);                 </span>
<span class="-5148640268413147948" onmouseenter="enter('-5148640268413147948');" onmouseout="out('-5148640268413147948');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +            if (!TextUtils.isEmpty(text)) {                                                                       </span>
<span class="-8584705149148376076" onmouseenter="enter('-8584705149148376076');" onmouseout="out('-8584705149148376076');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +                if (!TextUtils.isEmpty(subject) &amp;&amp; !isVoiceShare) {                                               </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 200                      text = subject + &quot;\n\n&quot; + text;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                  }                                                                                                 </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 202                  Note note = mNotesBucket.newObject();                                                             </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 203                  note.setCreationDate(Calendar.getInstance());                                                     </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 204                  note.setModificationDate(note.getCreationDate());                                                 </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 205                  note.setContent(text);                                                                            </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 206                  note.save();                                                                                      </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 207                  setCurrentNote(note);                                                                             </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 208 -                mShouldSelectNewNote = true;                                                                      </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 209 -                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                                </span>
<span class="2824799874346616967" onmouseenter="enter('2824799874346616967');" onmouseout="out('2824799874346616967');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +                if (!isVoiceShare) {                                                                              </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 211 +                    mShouldSelectNewNote = true;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 212 +                }                                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 213 +                                                                                                                  </span>
<span class="3391683012983349906" onmouseenter="enter('3391683012983349906');" onmouseout="out('3391683012983349906');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 214 +                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;external_share&quot;, null);"> 214 +                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, isVoiceShare ? &quot;google_voice_command&quot; : &quot;external_share&quot;🔵</abbr></span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216          }                                                                                                         </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 217          currentApp.getSimperium().setOnUserCreatedListener(this);                                                 </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 218          currentApp.getSimperium().setUserStatusChangeListener(this);                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 219          setProgressBarIndeterminateVisibility(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span  style=""> 221                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222      @Override                                                                                                     </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 223      protected void onResume() {                                                                                   </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 224          super.onResume();                                                                                         </span>
<span  style=""> 225                                                                                                                    </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 226          // Ensure user has valid authorization                                                                    </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 227          if (userAuthenticationIsInvalid())                                                                        </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 228              startLoginActivity(true);                                                                             </span>
<span  style=""> 229                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 230          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 231          mTagsBucket.start();                                                                                      </span>
<span  style=""> 232                                                                                                                    </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 233          mNotesBucket.addOnNetworkChangeListener(this);                                                            </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 234          mNotesBucket.addOnSaveObjectListener(this);                                                               </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 235          mNotesBucket.addOnDeleteObjectListener(this);                                                             </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 236          mTagsBucket.addListener(mTagsMenuUpdater);                                                                </span>
<span  style=""> 237                                                                                                                    </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 238          updateNavigationDrawerItems();                                                                            </span>
<span  style=""> 239                                                                                                                    </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 240          // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection          </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 241          Simplenote currentApp = (Simplenote)getApplication();                                                     </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 242          if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {                      </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 243              if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                                   </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 244                  mSelectedTag = null;                                                                              </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 245                  mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247          }                                                                                                         </span>
<span  style=""> 248                                                                                                                    </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 249          setSelectedTagActive();                                                                                   </span>
<span  style=""> 250                                                                                                                    </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 251          if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                                       </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 252              onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                           </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 253              mShouldSelectNewNote = false;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255      }                                                                                                             </span>
<span  style=""> 256                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257      @Override                                                                                                     </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 258      protected void onPause() {                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 259          super.onPause();                                                                                          </span>
<span  style=""> 260                                                                                                                    </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 261          mTagsBucket.removeListener(mTagsMenuUpdater);                                                             </span>
<span  style=""> 262                                                                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 263          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 264          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 265          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266      }                                                                                                             </span>
<span  style=""> 267                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 268      @Override                                                                                                     </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 269      public void onStop() {                                                                                        </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 270          super.onStop();                                                                                           </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 271          EasyTracker.getInstance().activityStop(this);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272      }                                                                                                             </span>
<span  style=""> 273                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 274      @Override                                                                                                     </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 275      public void setTitle(CharSequence title) {                                                                    </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 276          mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                           </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 277          setTitleWithCustomFont(mActionBarTitle);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278      }                                                                                                             </span>
<span  style=""> 279                                                                                                                    </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 280      private void setTitleWithCustomFont(CharSequence title) {                                                     </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 281          // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                              </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 282          if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))                        </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 283                  &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                                     </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 284              mActionBar.setTitle(title);                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 285              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286          }                                                                                                         </span>
<span  style=""> 287                                                                                                                    </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 288          SpannableString s = new SpannableString(title);                                                           </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 289          s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                          </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 290                  Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                              </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 291          mActionBar.setTitle(s);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292      }                                                                                                             </span>
<span  style=""> 293                                                                                                                    </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 294      private void updateNavigationDrawerItems() {                                                                  </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 295          Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                             </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 296          mTagsAdapter.changeCursor(tagCursor);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297      }                                                                                                             </span>
<span  style=""> 298                                                                                                                    </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 299      private void setSelectedTagActive() {                                                                         </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 300          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 301              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 302                                                                                                                    </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 303          setTitle(mSelectedTag.name);                                                                              </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 304          mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305      }                                                                                                             </span>
<span  style=""> 306                                                                                                                    </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 307      // Enable or disable the trash action bar button depending on if there are deleted notes or not               </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 308      public void updateTrashMenuItem() {                                                                           </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 309          if (mEmptyTrashMenuItem == null)                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 310              return;                                                                                               </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 311          // Disable the trash icon if there are no notes trashed.                                                  </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 312          Simplenote application = (Simplenote) getApplication();                                                   </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 313          Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                                   </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 314          Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                          </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 315          if (query.count() == 0) {                                                                                 </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 316              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                                 </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 317              mEmptyTrashMenuItem.setEnabled(false);                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 318          } else {                                                                                                  </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 319              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                          </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 320              mEmptyTrashMenuItem.setEnabled(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322      }                                                                                                             </span>
<span  style=""> 323                                                                                                                    </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 324      /* The click listener for ListView in the navigation drawer */                                                </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 325      private class DrawerItemClickListener implements ListView.OnItemClickListener {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 326          @Override                                                                                                 </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 327          public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {                        </span>
<span  style=""> 328                                                                                                                    </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 329              mSelectedTag = mTagsAdapter.getItem(position);                                                        </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 330              checkEmptyListText(false);                                                                            </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 331              // Update checked item in navigation drawer and close it                                              </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 332              setSelectedTagActive();                                                                               </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 333              mDrawerLayout.closeDrawer(mDrawerList);                                                               </span>
<span  style=""> 334                                                                                                                    </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 335              // Disable long press on notes if we&#x27;re viewing the trash                                             </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 336              if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                      </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 337                  getNoteListFragment().getListView().setLongClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 338              } else {                                                                                              </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 339                  getNoteListFragment().getListView().setLongClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340              }                                                                                                     </span>
<span  style=""> 341                                                                                                                    </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 342              getNoteListFragment().refreshListFromNavSelect();                                                     </span>
<span class="-7917187965429903515" onmouseenter="enter('-7917187965429903515');" onmouseout="out('-7917187965429903515');" style=""> 343              if (position &gt; 1)                                                                                     </span>
<span class="7141105300359600542" onmouseenter="enter('7141105300359600542');" onmouseout="out('7141105300359600542');" style=""> 344                  mTracker.sendEvent(&quot;tag&quot;, &quot;viewed_notes_for_tag&quot;, &quot;selected_tag_in_navigation_drawer&quot;, null);     </span>









<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346      }                                                                                                             </span>
<span  style=""> 347                                                                                                                    </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 348      public TagsAdapter.TagMenuItem getSelectedTag() {                                                             </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 349          return mSelectedTag;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350      }                                                                                                             </span>
<span  style=""> 351                                                                                                                    </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 352      private void addEditorFragment() {                                                                            </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 353          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 354          FragmentTransaction ft = fm.beginTransaction();                                                           </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 355          mNoteEditorFragment = new NoteEditorFragment();                                                           </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 356          ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                                 </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 357          ft.commitAllowingStateLoss();                                                                             </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 358          fm.executePendingTransactions();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359      }                                                                                                             </span>
<span  style=""> 360                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 361      /**                                                                                                           </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 362       * Checks for a previously valid user that is now not authenticated                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 363       *                                                                                                            </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 364       * @return true if user has invalid authorization                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 365       */                                                                                                           </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 366      private boolean userAuthenticationIsInvalid() {                                                               </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 367          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 368          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 369          User user = simperium.getUser();                                                                          </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 370          return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371      }                                                                                                             </span>
<span  style=""> 372                                                                                                                    </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 373      public void setCurrentNote(Note note) {                                                                       </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 374          mCurrentNote = note;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375      }                                                                                                             </span>
<span  style=""> 376                                                                                                                    </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 377      // received a change from the network, refresh the list                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 378      @Override                                                                                                     </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 379      public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 380          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 381              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 382              public void run() {                                                                                   </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 383                  if (type == Bucket.ChangeType.INDEX)                                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 384                      setProgressBarIndeterminateVisibility(false);                                                 </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 385                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 387          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388      }                                                                                                             </span>
<span  style=""> 389                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 390      @Override                                                                                                     </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 391      public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 392          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 393              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 394              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 395                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 397          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398      }                                                                                                             </span>
<span  style=""> 399                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 400      @Override                                                                                                     </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 401      public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 402          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 403              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 404              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 405                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 407          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408      }                                                                                                             </span>
<span  style=""> 409                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 410      @Override                                                                                                     </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 411      public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                            </span>
<span  style=""> 412                                                                                                                    </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 413          // noop, NoteEditorFragment will handle this                                                              </span>
<span  style=""> 414                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415      }                                                                                                             </span>
<span  style=""> 416                                                                                                                    </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 417      // Tags bucket listener                                                                                       </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 418      private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                                  </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 419          void updateNavigationDrawer() {                                                                           </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 420              runOnUiThread(new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 421                  public void run() {                                                                               </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 422                      updateNavigationDrawerItems();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 424              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425          }                                                                                                         </span>
<span  style=""> 426                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 427          @Override                                                                                                 </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 428          public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 429              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 430          }                                                                                                         </span>
<span  style=""> 431                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 432          @Override                                                                                                 </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 433          public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                 </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 434              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 435          }                                                                                                         </span>
<span  style=""> 436                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 437          @Override                                                                                                 </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 438          public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                            </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 439              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440          }                                                                                                         </span>
<span  style=""> 441                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 442          @Override                                                                                                 </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 443          public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                        </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 444              // noop                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 446      };                                                                                                            </span>
<span  style=""> 447                                                                                                                    </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 448      public boolean isLargeScreenLandscape() {                                                                     </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 449          return mIsLargeScreen &amp;&amp; mIsLandscape;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450      }                                                                                                             </span>
<span  style=""> 451                                                                                                                    </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 452      // nbradbury 01-Apr-2013                                                                                      </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 453      public NoteListFragment getNoteListFragment() {                                                               </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 454          return mNoteListFragment;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455      }                                                                                                             </span>
<span  style=""> 456                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 457      @Override                                                                                                     </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 458      public boolean onCreateOptionsMenu(Menu menu) {                                                               </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 459          super.onCreateOptionsMenu(menu);                                                                          </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 460          MenuInflater inflater = getMenuInflater();                                                                </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 461          inflater.inflate(R.menu.notes_list, menu);                                                                </span>
<span  style=""> 462                                                                                                                    </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 463          boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                             </span>
<span  style=""> 464                                                                                                                    </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 465          // restore the search query if on a landscape tablet                                                      </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 466          String searchQuery = null;                                                                                </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 467          if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                                      </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 468              searchQuery = mSearchView.getQuery().toString();                                                      </span>
<span  style=""> 469                                                                                                                    </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 470          mSearchMenuItem = menu.findItem(R.id.menu_search);                                                        </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 471          mSearchView = (SearchView) mSearchMenuItem.getActionView();                                               </span>
<span  style=""> 472                                                                                                                    </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style=""> 473          // Set a custom search view drawable                                                                      </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style=""><abbr title=" 474          int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 474          int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null,🔵</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style=""> 475          View searchPlate = mSearchView.findViewById(searchPlateId);                                               </span>
<span class="1726784060196981125" onmouseenter="enter('1726784060196981125');" onmouseout="out('1726784060196981125');" style=""> 476          if (searchPlate != null)                                                                                  </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style=""> 477              searchPlate.setBackgroundResource(R.drawable.search_view_selector);                                   </span>
<span  style=""> 478                                                                                                                    </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 479          if (!TextUtils.isEmpty(searchQuery)) {                                                                    </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 480              mSearchView.setQuery(searchQuery, false);                                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 481              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482          }                                                                                                         </span>
<span  style=""> 483                                                                                                                    </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 484          mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 485              @Override                                                                                             </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 486              public boolean onQueryTextChange(String newText) {                                                    </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 487                  if (mSearchMenuItem.isActionViewExpanded()) {                                                     </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 488                      getNoteListFragment().searchNotes(newText);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 490                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491              }                                                                                                     </span>
<span  style=""> 492                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 493              @Override                                                                                             </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 494              public boolean onQueryTextSubmit(String queryText) {                                                  </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 495                  getNoteListFragment().searchNotes(queryText);                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 496                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497              }                                                                                                     </span>
<span  style=""> 498                                                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 499          });                                                                                                       </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 500          mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 501              @Override                                                                                             </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 502              public boolean onMenuItemActionExpand(MenuItem menuItem) {                                            </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 503                  checkEmptyListText(true);                                                                         </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 504                  getNoteListFragment().hideWelcomeView();                                                          </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 505                  mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);                      </span>







<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 506                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507              }                                                                                                     </span>
<span  style=""> 508                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 509              @Override                                                                                             </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 510              public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                          </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 511                  // Show all notes again                                                                           </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 512                  mTabletSearchQuery = &quot;&quot;;                                                                          </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 513                  mSearchView.setQuery(&quot;&quot;, false);                                                                  </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 514                  checkEmptyListText(false);                                                                        </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 515                  getNoteListFragment().clearSearch();                                                              </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 516                  getNoteListFragment().setWelcomeViewVisibility();                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 517                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 519          });                                                                                                       </span>
<span  style=""> 520                                                                                                                    </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 521          mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 522              @Override                                                                                             </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 523              public boolean onMenuItemClick(MenuItem item) {                                                       </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 524                  if (!mSearchMenuItem.isActionViewExpanded())                                                      </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 525                      showDetailPlaceholder();                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 526                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 527              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 528          });                                                                                                       </span>
<span  style=""> 529                                                                                                                    </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 530          // Restore the search query on landscape tablets                                                          </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 531          if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                                 </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 532              mSearchView.setQuery(mTabletSearchQuery, false);                                                      </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 533              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 534              mSearchView.clearFocus();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 535          }                                                                                                         </span>
<span  style=""> 536                                                                                                                    </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 537          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 538          menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());              </span>
<span  style=""> 539                                                                                                                    </span>
<span  style=""> 540                                                                                                                    </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 541          MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                         </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 542          if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                                     </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 543              trashItem.setTitle(R.string.undelete);                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 544          else                                                                                                      </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 545              trashItem.setTitle(R.string.delete);                                                                  </span>
<span  style=""> 546                                                                                                                    </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 547          if (isLargeScreenLandscape()) {                                                                           </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 548              menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 549              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 550              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 551              if (mCurrentNote != null) {                                                                           </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 552                  menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                           </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 553                  trashItem.setVisible(true);                                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 554              } else {                                                                                              </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 555                  menu.findItem(R.id.menu_share).setVisible(false);                                                 </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 556                  trashItem.setVisible(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 557              }                                                                                                     </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 558              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 559              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 560          } else {                                                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 561              menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 562              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 563              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 564              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 565              trashItem.setVisible(false);                                                                          </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 566              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 567              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568          }                                                                                                         </span>
<span  style=""> 569                                                                                                                    </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 570          // Are we looking at the trash? Adjust menu accordingly.                                                  </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 571          if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                          </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 572              mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                           </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 573              mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                          </span>
<span  style=""> 574                                                                                                                    </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 575              updateTrashMenuItem();                                                                                </span>
<span  style=""> 576                                                                                                                    </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 577              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 578              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 579              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 580          }                                                                                                         </span>
<span  style=""> 581                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 582          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 583      }                                                                                                             </span>
<span  style=""> 584                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 585      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 586      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 587          if (mDrawerToggle.onOptionsItemSelected(item)) {                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 588              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589          }                                                                                                         </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 590          switch (item.getItemId()) {                                                                               </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 591              case R.id.menu_preferences:                                                                           </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 592                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 592                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from pr🔵</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 593                  Intent i = new Intent(this, PreferencesActivity.class);                                           </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 594                  startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 595                  return true;                                                                                      </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 596              case R.id.menu_sign_in:                                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 597                  startLoginActivity(true);                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 598                  return true;                                                                                      </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 599              case R.id.menu_edit_tags:                                                                             </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 600                  Intent editTagsIntent = new Intent(this, TagsListActivity.class);                                 </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 601                  startActivity(editTagsIntent);                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 602                  return true;                                                                                      </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 603              case R.id.menu_create_note:                                                                           </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 604                  getNoteListFragment().addNote();                                                                  </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 605                  mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                             </span>







<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 606                  return true;                                                                                      </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 607              case R.id.menu_share:                                                                                 </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 608                  if (mCurrentNote != null) {                                                                       </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 609                      Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                          </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 610                      shareIntent.setType(&quot;text/plain&quot;);                                                            </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 611                      shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());           </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 612                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 612                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note))🔵</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 613                      mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);                   </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 614                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 615                  return true;                                                                                      </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 616              case R.id.menu_delete:                                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 617                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 618                      if (mCurrentNote != null) {                                                                   </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 619                          mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                                       </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 620                          mCurrentNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 621                          mCurrentNote.save();                                                                      </span>
<span  style=""> 622                                                                                                                    </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 623                          if (mCurrentNote.isDeleted()) {                                                           </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 624                              List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 625                              deletedNoteIds.add(mCurrentNote.getSimperiumKey());                                   </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 626                              mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                 </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 627                              mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);        </span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 628                              mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);                    </span>







<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 629                          } else {                                                                                  </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 630                              mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);                   </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 631                          }                                                                                         </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 632                          showDetailPlaceholder();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 633                      }                                                                                             </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 634                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 635                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 636                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 637                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 639                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 640                  return true;                                                                                      </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 641              case R.id.menu_empty_trash:                                                                           </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 642                  AlertDialog.Builder alert = new AlertDialog.Builder(this);                                        </span>
<span  style=""> 643                                                                                                                    </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 644                  alert.setTitle(R.string.empty_trash);                                                             </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 645                  alert.setMessage(R.string.confirm_empty_trash);                                                   </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 646                  alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {                     </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 647                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 648                          new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);                   </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 649                          mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);                       </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 651                  });                                                                                               </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 652                  alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 653                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 654                          // Do nothing, just closing the dialog                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 656                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 657                  alert.show();                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 658                  return true;                                                                                      </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 659              case android.R.id.home:                                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 660                  invalidateOptionsMenu();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 661                  return true;                                                                                      </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 662              default:                                                                                              </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 663                  return super.onOptionsItemSelected(item);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 664          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 665      }                                                                                                             </span>
<span  style=""> 666                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 667      /**                                                                                                           </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 668       * Callback method from {@link NoteListFragment.Callbacks} indicating that                                    </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 669       * the item with the given ID was selected.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 670       */                                                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 671      @Override                                                                                                     </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 672      public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                               </span>
<span  style=""> 673                                                                                                                    </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 674          if (!isLargeScreenLandscape()) {                                                                          </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 675              // Launch the editor activity                                                                         </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 676              Bundle arguments = new Bundle();                                                                      </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 677              arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                          </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 678              arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                         </span>
<span  style=""> 679                                                                                                                    </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 680              if (matchOffsets != null)                                                                             </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 681                  arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                          </span>
<span  style=""> 682                                                                                                                    </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 683              Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                                   </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 684              editNoteIntent.putExtras(arguments);                                                                  </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 685              startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 686          } else {                                                                                                  </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 687              mNoteEditorFragment.setIsNewNote(isNew);                                                              </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 688              mNoteEditorFragment.setNote(noteID, matchOffsets);                                                    </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 689              getNoteListFragment().setNoteSelected(noteID);                                                        </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 690              if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                                     </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 691                  mTabletSearchQuery = mSearchView.getQuery().toString();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692              }                                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 693              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694          }                                                                                                         </span>
<span  style=""> 695                                                                                                                    </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 696          mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                                     </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697      }                                                                                                             </span>
<span  style=""> 698                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 699      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 700      public void onUserCreated(User user) {                                                                        </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 701          // New account created                                                                                    </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 702          mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);           </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703      }                                                                                                             </span>
<span  style=""> 704                                                                                                                    </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 705      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 706          switch (status) {                                                                                         </span>
<span  style=""> 707                                                                                                                    </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 708              // successfully used access token to connect to simperium bucket                                      </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 709              case AUTHORIZED:                                                                                      </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 710                  mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);                   </span>







<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 711                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 712                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 713                      public void run() {                                                                           </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 714                          if (!mNotesBucket.hasChangeVersion()) {                                                   </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 715                              setProgressBarIndeterminateVisibility(true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 716                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 718                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 719                  break;                                                                                            </span>
<span  style=""> 720                                                                                                                    </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 721              // NOT_AUTHORIZED means we attempted to connect but the token was not valid                           </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 722              case NOT_AUTHORIZED:                                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 723                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 724                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 725                      public void run() {                                                                           </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 726                          startLoginActivity(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 728                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 729                  break;                                                                                            </span>
<span  style=""> 730                                                                                                                    </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 731              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 731              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t 🔵</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 732              case UNKNOWN:                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 733                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735      }                                                                                                             </span>
<span  style=""> 736                                                                                                                    </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 737      public void startLoginActivity(boolean signInFirst) {                                                         </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 738          Intent loginIntent = new Intent(this, LoginActivity.class);                                               </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 739          if (signInFirst)                                                                                          </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 740              loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                        </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 741          startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742      }                                                                                                             </span>
<span  style=""> 743                                                                                                                    </span>
<span  style=""> 744                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 745      @Override                                                                                                     </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 746      protected void onActivityResult(int requestCode, int resultCode, Intent data) {                               </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 747          super.onActivityResult(requestCode, resultCode, data);                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 748          switch (requestCode) {                                                                                    </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 749              case Simplenote.INTENT_PREFERENCES:                                                                   </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 750                  if (ThemeUtils.themeWasChanged(data)) {                                                           </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 751                      // Restart this activity to apply the new theme                                               </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 752                      recreate();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 753                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 754                  }                                                                                                 </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 755                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 755                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything🔵</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 756                  invalidateOptionsMenu();                                                                          </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 757                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 758                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 759                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 760                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 761                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 762                  break;                                                                                            </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 763              case Simplenote.INTENT_EDIT_NOTE:                                                                     </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""> 764                  if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {       </span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 765                      String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                              </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 766                      if (noteId != null) {                                                                         </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 767                          List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                    </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 768                          deletedNoteIds.add(noteId);                                                               </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 769                          mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                     </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 770                          mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 771                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 772                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 773                  break;                                                                                            </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 774              case Simperium.SIGNUP_SIGNIN_REQUEST:                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 775                  invalidateOptionsMenu();                                                                          </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 776                  if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {                    </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 777                      finish();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 778                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 779                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 780          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 781      }                                                                                                             </span>
<span  style=""> 782                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 783      @Override                                                                                                     </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 784      public void onUndo(Parcelable p) {                                                                            </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 785          List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                                     </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 786          if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                               </span>
<span  style=""> 787                                                                                                                    </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 788              for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                                       </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 789                  Note deletedNote = null;                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 790                  try {                                                                                             </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 791                      deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 792                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 793                      return;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 794                  }                                                                                                 </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 795                  if (deletedNote != null) {                                                                        </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 796                      deletedNote.setDeleted(false);                                                                </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 797                      deletedNote.setModificationDate(Calendar.getInstance());                                      </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 798                      deletedNote.save();                                                                           </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 799                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 800                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 801                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 802                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 804                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 805              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 806          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 807      }                                                                                                             </span>
<span  style=""> 808                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 809      @Override                                                                                                     </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 810      protected void onPostCreate(Bundle savedInstanceState) {                                                      </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 811          super.onPostCreate(savedInstanceState);                                                                   </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 812          // Sync the toggle state after onRestoreInstanceState has occurred.                                       </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 813          mDrawerToggle.syncState();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 814      }                                                                                                             </span>
<span  style=""> 815                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 816      @Override                                                                                                     </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 817      public void onConfigurationChanged(Configuration newConfig) {                                                 </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 818          super.onConfigurationChanged(newConfig);                                                                  </span>
<span  style=""> 819                                                                                                                    </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 820          mDrawerToggle.onConfigurationChanged(newConfig);                                                          </span>
<span  style=""> 821                                                                                                                    </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 822          if (mIsLargeScreen) {                                                                                     </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 823              if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                                   </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 824                  // Add the editor fragment                                                                        </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 825                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 826                  addEditorFragment();                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 827                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 828                      mNoteListFragment.setActivateOnItemClick(true);                                               </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 829                      mNoteListFragment.setDividerVisible(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 830                  }                                                                                                 </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 831                  // Select the current note on a tablet                                                            </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 832                  if (mCurrentNote != null)                                                                         </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 833                      onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                                  </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 834                  else {                                                                                            </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 835                      mNoteEditorFragment.setPlaceholderVisible(true);                                              </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 836                      mNoteListFragment.getListView().clearChoices();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 837                  }                                                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 838                  invalidateOptionsMenu();                                                                          </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 839              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 839              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null)🔵</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 840                  // Remove the editor fragment when rotating back to portrait                                      </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 841                  mIsLandscape = false;                                                                             </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 842                  mCurrentNote = null;                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 843                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 844                      mNoteListFragment.setActivateOnItemClick(false);                                              </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 845                      mNoteListFragment.setDividerVisible(false);                                                   </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 846                      mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                            </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 847                      mNoteListFragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 848                  }                                                                                                 </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 849                  FragmentManager fm = getFragmentManager();                                                        </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 850                  FragmentTransaction ft = fm.beginTransaction();                                                   </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 851                  ft.remove(mNoteEditorFragment);                                                                   </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 852                  mNoteEditorFragment = null;                                                                       </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 853                  ft.commitAllowingStateLoss();                                                                     </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 854                  fm.executePendingTransactions();                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 855                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 856              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 857          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 858      }                                                                                                             </span>
<span  style=""> 859                                                                                                                    </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 860      public void checkEmptyListText(boolean isSearch) {                                                            </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 861          if (isSearch) {                                                                                           </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 862              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 862              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;🔵</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 863              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 864          } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                   </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 865              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 865              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;🔵</abbr></span>
<span class="6910320161753486525" onmouseenter="enter('6910320161753486525');" onmouseout="out('6910320161753486525');" style=""> 866              EasyTracker.getTracker().sendEvent(&quot;note&quot;, &quot;viewed_trash&quot;, &quot;trash_filter_selected&quot;, null);            </span>







<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 867              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 868          } else {                                                                                                  </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 869              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 869              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;🔵</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 870              getNoteListFragment().setEmptyListViewClickable(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 871          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 872      }                                                                                                             </span>
<span  style=""> 873                                                                                                                    </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 874      public void showDetailPlaceholder() {                                                                         </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 875          if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                            </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 876              mCurrentNote = null;                                                                                  </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 877              mNoteEditorFragment.setPlaceholderVisible(true);                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 878              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 879          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 880      }                                                                                                             </span>
<span  style=""> 881                                                                                                                    </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 882      public void stopListeningToNotesBucket() {                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 883          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 884          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 885          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 886      }                                                                                                             </span>
<span  style=""> 887                                                                                                                    </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 888      public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                                    </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 889          if (mUndoBarController != null) {                                                                         </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 890              mUndoBarController.setDeletedNoteIds(noteIds);                                                        </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 891              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 891              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteId🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 892          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 893      }                                                                                                             </span>
<span  style=""> 894                                                                                                                    </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 895      private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                            </span>
<span  style=""> 896                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 897          @Override                                                                                                 </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 898          protected Void doInBackground(Void... voids) {                                                            </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 899              Simplenote application = (Simplenote) getApplication();                                               </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 900              Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                               </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 901              Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                      </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 902              Bucket.ObjectCursor c = query.execute();                                                              </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 903              while (c.moveToNext()) {                                                                              </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 904                  c.getObject().delete();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 905              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 906              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 907          }                                                                                                         </span>
<span  style=""> 908                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 909          @Override                                                                                                 </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 910          protected void onPostExecute(Void nada) {                                                                 </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 911              showDetailPlaceholder();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 912          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 913      }                                                                                                             </span>
<span  style=""> 914                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 915  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3  import android.app.ActionBar;                                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5  import android.app.AlertDialog;                                                                                   </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6  import android.app.FragmentManager;                                                                               </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7  import android.app.FragmentTransaction;                                                                           </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10  import android.content.SharedPreferences;                                                                         </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11  import android.content.res.Configuration;                                                                         </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12  import android.os.AsyncTask;                                                                                      </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14  import android.os.Bundle;                                                                                         </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15  import android.os.Parcelable;                                                                                     </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16  import android.preference.PreferenceManager;                                                                      </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="">  17  import android.support.v4.app.ActionBarDrawerToggle;                                                              </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18  import android.support.v4.widget.DrawerLayout;                                                                    </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  19  import android.text.Spannable;                                                                                    </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  20  import android.text.SpannableString;                                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  21  import android.text.TextUtils;                                                                                    </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  23  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  24  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  25  import android.view.View;                                                                                         </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  26  import android.view.Window;                                                                                       </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  27  import android.widget.AdapterView;                                                                                </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  28  import android.widget.ListView;                                                                                   </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  29  import android.widget.SearchView;                                                                                 </span>
<span  style="">  30                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  31  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  32  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>

<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  34  import com.automattic.simplenote.utils.TagsAdapter;                                                               </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  35  import com.automattic.simplenote.utils.ThemeUtils;                                                                </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  36  import com.automattic.simplenote.widgets.TypefaceSpan;                                                            </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  37  import com.automattic.simplenote.utils.UndoBarController;                                                         </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -import com.google.analytics.tracking.android.EasyTracker;                                                         </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -import com.google.analytics.tracking.android.Tracker;                                                             </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +import com.google.android.gms.analytics.HitBuilders;                                                              </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  41 +import com.google.android.gms.analytics.Tracker;                                                                  </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  42  import com.simperium.Simperium;                                                                                   </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  43  import com.simperium.android.LoginActivity;                                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  44  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  45  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  46  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  47  import com.simperium.client.Query;                                                                                </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  48  import com.simperium.client.User;                                                                                 </span>
<span  style="">  49                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  50  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  51  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52  import java.util.List;                                                                                            </span>
<span  style="">  53                                                                                                                    </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  54  public class NotesActivity extends Activity implements                                                            </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  55          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  55          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.🔵</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  56          Bucket.Listener&lt;Note&gt; {                                                                                   </span>
<span  style="">  57                                                                                                                    </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  58      private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                           </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  59      private String mTabletSearchQuery;                                                                            </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  60      private UndoBarController mUndoBarController;                                                                 </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  61      private SearchView mSearchView;                                                                               </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  62      private MenuItem mSearchMenuItem;                                                                             </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  63      private NoteListFragment mNoteListFragment;                                                                   </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  64      private NoteEditorFragment mNoteEditorFragment;                                                               </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  65      private Note mCurrentNote;                                                                                    </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  66      protected Bucket&lt;Note&gt; mNotesBucket;                                                                          </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  67      protected Bucket&lt;Tag&gt; mTagsBucket;                                                                            </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  68      private int TRASH_SELECTED_ID = 1;                                                                            </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  69      private ActionBar mActionBar;                                                                                 </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  70      private MenuItem mEmptyTrashMenuItem;                                                                         </span>
<span  style="">  71                                                                                                                    </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  72      // Menu drawer                                                                                                </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  73      private DrawerLayout mDrawerLayout;                                                                           </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  74      private ListView mDrawerList;                                                                                 </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  75      private ActionBarDrawerToggle mDrawerToggle;                                                                  </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  76      private TagsAdapter mTagsAdapter;                                                                             </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  77      private TagsAdapter.TagMenuItem mSelectedTag;                                                                 </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  78      private CharSequence mActionBarTitle;                                                                         </span>
<span  style="">  79                                                                                                                    </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  80      public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                              </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  81      public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                          </span>
<span  style="">  82                                                                                                                    </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  83      // Google Analytics tracker                                                                                   </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  84      private Tracker mTracker;                                                                                     </span>
<span  style="">  85                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  86      @Override                                                                                                     </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  87      protected void onCreate(Bundle savedInstanceState) {                                                          </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style="">  88          requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                              </span>
<span  style="">  89                                                                                                                    </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  90          ThemeUtils.setTheme(this);                                                                                </span>
<span  style="">  91                                                                                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  92          super.onCreate(savedInstanceState);                                                                       </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  93          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span  style="">  94                                                                                                                    </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  95          if (mNotesBucket == null)                                                                                 </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  96              mNotesBucket = currentApp.getNotesBucket();                                                           </span>
<span  style="">  97                                                                                                                    </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style="">  98          if (mTagsBucket == null)                                                                                  </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  99              mTagsBucket = currentApp.getTagsBucket();                                                             </span>
<span  style=""> 100                                                                                                                    </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 101          setContentView(R.layout.activity_notes);                                                                  </span>
<span  style=""> 102                                                                                                                    </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -        EasyTracker.getInstance().activityStart(this);                                                            </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -        mTracker = EasyTracker.getTracker();                                                                      </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +        mTracker = currentApp.getTracker();                                                                       </span>
<span  style=""> 106                                                                                                                    </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 107          if (savedInstanceState == null) {                                                                         </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 108              mNoteListFragment = new NoteListFragment();                                                           </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 109              FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();                    </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 110              fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);                </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 111              fragmentTransaction.commit();                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 112          } else {                                                                                                  </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 113              mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114          }                                                                                                         </span>
<span  style=""> 115                                                                                                                    </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 116          Configuration config = getBaseContext().getResources().getConfiguration();                                </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 117          if ((config.screenLayout                                                                                  </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 118                  &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                           </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 119                  &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                                       </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 120              mIsLargeScreen = true;                                                                                </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 122              if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                                </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 123                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 123                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)🔵</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 124              } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 125                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 126                  addEditorFragment();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128          }                                                                                                         </span>
<span  style=""> 129                                                                                                                    </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 130          // Set up the menu drawer                                                                                 </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 131          mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                          </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 132          mDrawerList = (ListView) findViewById(R.id.left_drawer);                                                  </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 133          mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                                       </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 134          mDrawerList.setAdapter(mTagsAdapter);                                                                     </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 135          // Set the list&#x27;s click listener                                                                          </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 136          mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                                        </span>
<span  style=""> 137                                                                                                                    </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 138          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 139              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 140                                                                                                                    </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 141          // enable ActionBar app icon to behave as action to toggle nav drawer                                     </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 142          mActionBar = getActionBar();                                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 143          mActionBar.setDisplayHomeAsUpEnabled(true);                                                               </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 144          mActionBar.setHomeButtonEnabled(true);                                                                    </span>
<span  style=""> 145                                                                                                                    </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style=""> 146          // ActionBarDrawerToggle ties together the the proper interactions                                        </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style=""> 147          // between the sliding drawer and the action bar app icon                                                 </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 148          mDrawerToggle = new ActionBarDrawerToggle(                                                                </span>
<span class="6637960409383215658" onmouseenter="enter('6637960409383215658');" onmouseout="out('6637960409383215658');" style=""> 149                  this,                                                                                             </span>
<span class="-8227012410899353971" onmouseenter="enter('-8227012410899353971');" onmouseout="out('-8227012410899353971');" style=""> 150                  mDrawerLayout,                                                                                    </span>
<span class="4784234801981494438" onmouseenter="enter('4784234801981494438');" onmouseout="out('4784234801981494438');" style=""> 151                  R.drawable.ic_drawer,                                                                             </span>
<span class="4434560209470776563" onmouseenter="enter('4434560209470776563');" onmouseout="out('4434560209470776563');" style=""> 152                  R.string.open_drawer,                                                                             </span>
<span class="3720432804702294397" onmouseenter="enter('3720432804702294397');" onmouseout="out('3720432804702294397');" style=""> 153                  R.string.close_drawer                                                                             </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 154          ) {                                                                                                       </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 155              public void onDrawerClosed(View view) {                                                               </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 156                  setTitle(mActionBarTitle);                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 157                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158              }                                                                                                     </span>
<span  style=""> 159                                                                                                                    </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 160              public void onDrawerOpened(View drawerView) {                                                         </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 161                  setTitleWithCustomFont(getString(R.string.app_name));                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 162                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 164          };                                                                                                        </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 165          mDrawerLayout.setDrawerListener(mDrawerToggle);                                                           </span>
<span  style=""> 166                                                                                                                    </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 167          mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                             </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 169          if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                                     </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 170              // Create the welcome note                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 171              try {                                                                                                 </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 172                  Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                     </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 173                  welcomeNote.setCreationDate(Calendar.getInstance());                                              </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 174                  welcomeNote.setModificationDate(welcomeNote.getCreationDate());                                   </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 175                  welcomeNote.setContent(getString(R.string.welcome_note));                                         </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 176                  welcomeNote.getTitle();                                                                           </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 177                  welcomeNote.save();                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 178              } catch (BucketObjectNameInvalid e) {                                                                 </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 179                  // this won&#x27;t happen because welcome-android is a valid name                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180              }                                                                                                     </span>
<span  style=""> 181                                                                                                                    </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 182              SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);                  </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 183              SharedPreferences.Editor editor = preferences.edit();                                                 </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 184              editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                                </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 185              editor.commit();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186          }                                                                                                         </span>
<span  style=""> 187                                                                                                                    </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 188          if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                                 </span>

<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 189              // Check share action                                                                                 </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 190              Intent intent = getIntent();                                                                          </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 191              String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                         </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 192              String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                               </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style=""> 193              if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                               </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style=""> 194                  if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                                     </span>






<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 195                      text = subject + &quot;\n\n&quot; + text;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196                  }                                                                                                 </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 197                  Note note = mNotesBucket.newObject();                                                             </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 198                  note.setCreationDate(Calendar.getInstance());                                                     </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 199                  note.setModificationDate(note.getCreationDate());                                                 </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 200                  note.setContent(text);                                                                            </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 201                  note.save();                                                                                      </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 202                  setCurrentNote(note);                                                                             </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 203                  mShouldSelectNewNote = true;                                                                      </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                                </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 207 +                                .setCategory(&quot;note&quot;)                                                              </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +                                .setAction(&quot;create_note&quot;)                                                         </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +                                .setLabel(&quot;external_share&quot;)                                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 211 +                );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213          }                                                                                                         </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 214          currentApp.getSimperium().setOnUserCreatedListener(this);                                                 </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 215          currentApp.getSimperium().setUserStatusChangeListener(this);                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 216          setProgressBarIndeterminateVisibility(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219      @Override                                                                                                     </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 220      protected void onResume() {                                                                                   </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 221          super.onResume();                                                                                         </span>
<span  style=""> 222                                                                                                                    </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 223          // Ensure user has valid authorization                                                                    </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 224          if (userAuthenticationIsInvalid())                                                                        </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 225              startLoginActivity(true);                                                                             </span>
<span  style=""> 226                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 227          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 228          mTagsBucket.start();                                                                                      </span>
<span  style=""> 229                                                                                                                    </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 230          mNotesBucket.addOnNetworkChangeListener(this);                                                            </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 231          mNotesBucket.addOnSaveObjectListener(this);                                                               </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 232          mNotesBucket.addOnDeleteObjectListener(this);                                                             </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 233          mTagsBucket.addListener(mTagsMenuUpdater);                                                                </span>
<span  style=""> 234                                                                                                                    </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 235          updateNavigationDrawerItems();                                                                            </span>
<span  style=""> 236                                                                                                                    </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 237          // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection          </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 238          Simplenote currentApp = (Simplenote)getApplication();                                                     </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 239          if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {                      </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 240              if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                                   </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 241                  mSelectedTag = null;                                                                              </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 242                  mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244          }                                                                                                         </span>
<span  style=""> 245                                                                                                                    </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 246          setSelectedTagActive();                                                                                   </span>
<span  style=""> 247                                                                                                                    </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 248          if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                                       </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 249              onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                           </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 250              mShouldSelectNewNote = false;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252      }                                                                                                             </span>
<span  style=""> 253                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 254      @Override                                                                                                     </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 255      protected void onPause() {                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 256          super.onPause();                                                                                          </span>
<span  style=""> 257                                                                                                                    </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 258          mTagsBucket.removeListener(mTagsMenuUpdater);                                                             </span>
<span  style=""> 259                                                                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 260          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 261          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 262          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 263 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 264 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 265 -    @Override                                                                                                     </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 266 -    public void onStop() {                                                                                        </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 267 -        super.onStop();                                                                                           </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -        EasyTracker.getInstance().activityStop(this);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269      }                                                                                                             </span>
<span  style=""> 270                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271      @Override                                                                                                     </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 272      public void setTitle(CharSequence title) {                                                                    </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 273          mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                           </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 274          setTitleWithCustomFont(mActionBarTitle);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275      }                                                                                                             </span>
<span  style=""> 276                                                                                                                    </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 277      private void setTitleWithCustomFont(CharSequence title) {                                                     </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 278          // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                              </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 279          if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))                        </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 280                  &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                                     </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 281              mActionBar.setTitle(title);                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 282              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283          }                                                                                                         </span>
<span  style=""> 284                                                                                                                    </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 285          SpannableString s = new SpannableString(title);                                                           </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 286          s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                          </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 287                  Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                              </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 288          mActionBar.setTitle(s);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289      }                                                                                                             </span>
<span  style=""> 290                                                                                                                    </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 291      private void updateNavigationDrawerItems() {                                                                  </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 292          Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                             </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 293          mTagsAdapter.changeCursor(tagCursor);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294      }                                                                                                             </span>
<span  style=""> 295                                                                                                                    </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 296      private void setSelectedTagActive() {                                                                         </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 297          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 298              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 299                                                                                                                    </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 300          setTitle(mSelectedTag.name);                                                                              </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 301          mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302      }                                                                                                             </span>
<span  style=""> 303                                                                                                                    </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 304      // Enable or disable the trash action bar button depending on if there are deleted notes or not               </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 305      public void updateTrashMenuItem() {                                                                           </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 306          if (mEmptyTrashMenuItem == null)                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 307              return;                                                                                               </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 308          // Disable the trash icon if there are no notes trashed.                                                  </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 309          Simplenote application = (Simplenote) getApplication();                                                   </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 310          Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                                   </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 311          Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                          </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 312          if (query.count() == 0) {                                                                                 </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 313              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                                 </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 314              mEmptyTrashMenuItem.setEnabled(false);                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 315          } else {                                                                                                  </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 316              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                          </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 317              mEmptyTrashMenuItem.setEnabled(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319      }                                                                                                             </span>
<span  style=""> 320                                                                                                                    </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 321      /* The click listener for ListView in the navigation drawer */                                                </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 322      private class DrawerItemClickListener implements ListView.OnItemClickListener {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 323          @Override                                                                                                 </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 324          public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {                        </span>
<span  style=""> 325                                                                                                                    </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 326              mSelectedTag = mTagsAdapter.getItem(position);                                                        </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 327              checkEmptyListText(false);                                                                            </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 328              // Update checked item in navigation drawer and close it                                              </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 329              setSelectedTagActive();                                                                               </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 330              mDrawerLayout.closeDrawer(mDrawerList);                                                               </span>
<span  style=""> 331                                                                                                                    </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 332              // Disable long press on notes if we&#x27;re viewing the trash                                             </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 333              if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                      </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 334                  getNoteListFragment().getListView().setLongClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 335              } else {                                                                                              </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 336                  getNoteListFragment().getListView().setLongClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337              }                                                                                                     </span>
<span  style=""> 338                                                                                                                    </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 339              getNoteListFragment().refreshListFromNavSelect();                                                     </span>
<span class="-7917187965429903515" onmouseenter="enter('-7917187965429903515');" onmouseout="out('-7917187965429903515');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 340 -            if (position &gt; 1)                                                                                     </span>
<span class="7141105300359600542" onmouseenter="enter('7141105300359600542');" onmouseout="out('7141105300359600542');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 341 -                mTracker.sendEvent(&quot;tag&quot;, &quot;viewed_notes_for_tag&quot;, &quot;selected_tag_in_navigation_drawer&quot;, null);     </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 342 +            if (position &gt; 1) {                                                                                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 343 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 344 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="8481659063908705476" onmouseenter="enter('8481659063908705476');" onmouseout="out('8481659063908705476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 345 +                                .setCategory(&quot;tag&quot;)                                                               </span>
<span class="8346922369884657540" onmouseenter="enter('8346922369884657540');" onmouseout="out('8346922369884657540');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 346 +                                .setAction(&quot;viewed_notes_for_tag&quot;)                                                </span>
<span class="3304544329017779656" onmouseenter="enter('3304544329017779656');" onmouseout="out('3304544329017779656');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 347 +                                .setLabel(&quot;selected_tag_in_navigation_drawer&quot;)                                    </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 348 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 349 +                );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 350 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352      }                                                                                                             </span>
<span  style=""> 353                                                                                                                    </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 354      public TagsAdapter.TagMenuItem getSelectedTag() {                                                             </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 355          return mSelectedTag;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356      }                                                                                                             </span>
<span  style=""> 357                                                                                                                    </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 358      private void addEditorFragment() {                                                                            </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 359          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 360          FragmentTransaction ft = fm.beginTransaction();                                                           </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 361          mNoteEditorFragment = new NoteEditorFragment();                                                           </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 362          ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                                 </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 363          ft.commitAllowingStateLoss();                                                                             </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 364          fm.executePendingTransactions();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365      }                                                                                                             </span>
<span  style=""> 366                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 367      /**                                                                                                           </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 368       * Checks for a previously valid user that is now not authenticated                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 369       *                                                                                                            </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 370       * @return true if user has invalid authorization                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 371       */                                                                                                           </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 372      private boolean userAuthenticationIsInvalid() {                                                               </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 373          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 374          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 375          User user = simperium.getUser();                                                                          </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 376          return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377      }                                                                                                             </span>
<span  style=""> 378                                                                                                                    </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 379      public void setCurrentNote(Note note) {                                                                       </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 380          mCurrentNote = note;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381      }                                                                                                             </span>
<span  style=""> 382                                                                                                                    </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 383      // received a change from the network, refresh the list                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 384      @Override                                                                                                     </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 385      public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 386          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 387              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 388              public void run() {                                                                                   </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 389                  if (type == Bucket.ChangeType.INDEX)                                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 390                      setProgressBarIndeterminateVisibility(false);                                                 </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 391                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 393          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394      }                                                                                                             </span>
<span  style=""> 395                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 396      @Override                                                                                                     </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 397      public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 398          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 399              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 400              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 401                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 403          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404      }                                                                                                             </span>
<span  style=""> 405                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 406      @Override                                                                                                     </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 407      public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 408          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 409              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 410              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 411                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 413          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414      }                                                                                                             </span>
<span  style=""> 415                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 416      @Override                                                                                                     </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 417      public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                            </span>
<span  style=""> 418                                                                                                                    </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 419          // noop, NoteEditorFragment will handle this                                                              </span>
<span  style=""> 420                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421      }                                                                                                             </span>
<span  style=""> 422                                                                                                                    </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 423      // Tags bucket listener                                                                                       </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 424      private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                                  </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 425          void updateNavigationDrawer() {                                                                           </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 426              runOnUiThread(new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 427                  public void run() {                                                                               </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 428                      updateNavigationDrawerItems();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 430              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431          }                                                                                                         </span>
<span  style=""> 432                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 433          @Override                                                                                                 </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 434          public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 435              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436          }                                                                                                         </span>
<span  style=""> 437                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 438          @Override                                                                                                 </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 439          public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                 </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 440              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441          }                                                                                                         </span>
<span  style=""> 442                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 443          @Override                                                                                                 </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 444          public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                            </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 445              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 446          }                                                                                                         </span>
<span  style=""> 447                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 448          @Override                                                                                                 </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 449          public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                        </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 450              // noop                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 452      };                                                                                                            </span>
<span  style=""> 453                                                                                                                    </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 454      public boolean isLargeScreenLandscape() {                                                                     </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 455          return mIsLargeScreen &amp;&amp; mIsLandscape;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456      }                                                                                                             </span>
<span  style=""> 457                                                                                                                    </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 458      // nbradbury 01-Apr-2013                                                                                      </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 459      public NoteListFragment getNoteListFragment() {                                                               </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 460          return mNoteListFragment;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461      }                                                                                                             </span>
<span  style=""> 462                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463      @Override                                                                                                     </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 464      public boolean onCreateOptionsMenu(Menu menu) {                                                               </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 465          super.onCreateOptionsMenu(menu);                                                                          </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 466          MenuInflater inflater = getMenuInflater();                                                                </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 467          inflater.inflate(R.menu.notes_list, menu);                                                                </span>
<span  style=""> 468                                                                                                                    </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 469          boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                             </span>
<span  style=""> 470                                                                                                                    </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 471          // restore the search query if on a landscape tablet                                                      </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 472          String searchQuery = null;                                                                                </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 473          if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                                      </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 474              searchQuery = mSearchView.getQuery().toString();                                                      </span>
<span  style=""> 475                                                                                                                    </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 476          mSearchMenuItem = menu.findItem(R.id.menu_search);                                                        </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 477          mSearchView = (SearchView) mSearchMenuItem.getActionView();                                               </span>
<span  style=""> 478                                                                                                                    </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style=""> 479          // Set a custom search view drawable                                                                      </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style=""><abbr title=" 480          int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 480          int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null,🔵</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style=""> 481          View searchPlate = mSearchView.findViewById(searchPlateId);                                               </span>
<span class="1726784060196981125" onmouseenter="enter('1726784060196981125');" onmouseout="out('1726784060196981125');" style=""> 482          if (searchPlate != null)                                                                                  </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style=""> 483              searchPlate.setBackgroundResource(R.drawable.search_view_selector);                                   </span>
<span  style=""> 484                                                                                                                    </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 485          if (!TextUtils.isEmpty(searchQuery)) {                                                                    </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 486              mSearchView.setQuery(searchQuery, false);                                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 487              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488          }                                                                                                         </span>
<span  style=""> 489                                                                                                                    </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 490          mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 491              @Override                                                                                             </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 492              public boolean onQueryTextChange(String newText) {                                                    </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 493                  if (mSearchMenuItem.isActionViewExpanded()) {                                                     </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 494                      getNoteListFragment().searchNotes(newText);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 496                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497              }                                                                                                     </span>
<span  style=""> 498                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 499              @Override                                                                                             </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 500              public boolean onQueryTextSubmit(String queryText) {                                                  </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 501                  getNoteListFragment().searchNotes(queryText);                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 502                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503              }                                                                                                     </span>
<span  style=""> 504                                                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 505          });                                                                                                       </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 506          mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 507              @Override                                                                                             </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 508              public boolean onMenuItemActionExpand(MenuItem menuItem) {                                            </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 509                  checkEmptyListText(true);                                                                         </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 510                  getNoteListFragment().hideWelcomeView();                                                          </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 511 -                mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);                      </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 512 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 513 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 514 +                                .setCategory(&quot;note&quot;)                                                              </span>
<span class="626103863736809870" onmouseenter="enter('626103863736809870');" onmouseout="out('626103863736809870');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 515 +                                .setAction(&quot;searched_notes&quot;)                                                      </span>
<span class="-330726872802111023" onmouseenter="enter('-330726872802111023');" onmouseout="out('-330726872802111023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 516 +                                .setLabel(&quot;action_bar_search_tap&quot;)                                                </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 517 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 518 +                );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 519                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520              }                                                                                                     </span>
<span  style=""> 521                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 522              @Override                                                                                             </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 523              public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                          </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 524                  // Show all notes again                                                                           </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 525                  mTabletSearchQuery = &quot;&quot;;                                                                          </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 526                  mSearchView.setQuery(&quot;&quot;, false);                                                                  </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 527                  checkEmptyListText(false);                                                                        </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 528                  getNoteListFragment().clearSearch();                                                              </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 529                  getNoteListFragment().setWelcomeViewVisibility();                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 530                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 532          });                                                                                                       </span>
<span  style=""> 533                                                                                                                    </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 534          mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 535              @Override                                                                                             </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 536              public boolean onMenuItemClick(MenuItem item) {                                                       </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 537                  if (!mSearchMenuItem.isActionViewExpanded())                                                      </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 538                      showDetailPlaceholder();                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 539                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 540              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 541          });                                                                                                       </span>
<span  style=""> 542                                                                                                                    </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 543          // Restore the search query on landscape tablets                                                          </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 544          if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                                 </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 545              mSearchView.setQuery(mTabletSearchQuery, false);                                                      </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 546              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 547              mSearchView.clearFocus();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 548          }                                                                                                         </span>
<span  style=""> 549                                                                                                                    </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 550          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 551          menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());              </span>
<span  style=""> 552                                                                                                                    </span>
<span  style=""> 553                                                                                                                    </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 554          MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                         </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 555          if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                                     </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 556              trashItem.setTitle(R.string.undelete);                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 557          else                                                                                                      </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 558              trashItem.setTitle(R.string.delete);                                                                  </span>
<span  style=""> 559                                                                                                                    </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 560          if (isLargeScreenLandscape()) {                                                                           </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 561              menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 562              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 563              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 564              if (mCurrentNote != null) {                                                                           </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 565                  menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                           </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 566                  trashItem.setVisible(true);                                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 567              } else {                                                                                              </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 568                  menu.findItem(R.id.menu_share).setVisible(false);                                                 </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 569                  trashItem.setVisible(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570              }                                                                                                     </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 571              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 572              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 573          } else {                                                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 574              menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 575              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 576              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 577              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 578              trashItem.setVisible(false);                                                                          </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 579              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 580              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581          }                                                                                                         </span>
<span  style=""> 582                                                                                                                    </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 583          // Are we looking at the trash? Adjust menu accordingly.                                                  </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 584          if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                          </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 585              mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                           </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 586              mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                          </span>
<span  style=""> 587                                                                                                                    </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 588              updateTrashMenuItem();                                                                                </span>
<span  style=""> 589                                                                                                                    </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 590              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 591              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 592              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593          }                                                                                                         </span>
<span  style=""> 594                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 595          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596      }                                                                                                             </span>
<span  style=""> 597                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 598      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 599      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 600          if (mDrawerToggle.onOptionsItemSelected(item)) {                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 601              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 602          }                                                                                                         </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 603          switch (item.getItemId()) {                                                                               </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 604              case R.id.menu_preferences:                                                                           </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 605                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 605                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from pr🔵</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 606                  Intent i = new Intent(this, PreferencesActivity.class);                                           </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 607                  startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 608                  return true;                                                                                      </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 609              case R.id.menu_sign_in:                                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 610                  startLoginActivity(true);                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 611                  return true;                                                                                      </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 612              case R.id.menu_edit_tags:                                                                             </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 613                  Intent editTagsIntent = new Intent(this, TagsListActivity.class);                                 </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 614                  startActivity(editTagsIntent);                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 615                  return true;                                                                                      </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 616              case R.id.menu_create_note:                                                                           </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 617                  getNoteListFragment().addNote();                                                                  </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 618 -                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 619 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 620 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 621 +                                .setCategory(&quot;note&quot;)                                                              </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 622 +                                .setAction(&quot;create_note&quot;)                                                         </span>
<span class="-5729747077358951321" onmouseenter="enter('-5729747077358951321');" onmouseout="out('-5729747077358951321');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 623 +                                .setLabel(&quot;action_bar_button&quot;)                                                    </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 624 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 625 +                );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 626                  return true;                                                                                      </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 627              case R.id.menu_share:                                                                                 </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 628                  if (mCurrentNote != null) {                                                                       </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 629                      Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                          </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 630                      shareIntent.setType(&quot;text/plain&quot;);                                                            </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 631                      shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());           </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 632                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 632                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note))🔵</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 633 -                    mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 634 +                    mTracker.send(                                                                                </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 635 +                            new HitBuilders.EventBuilder()                                                        </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 636 +                                    .setCategory(&quot;note&quot;)                                                          </span>
<span class="2679386718058736721" onmouseenter="enter('2679386718058736721');" onmouseout="out('2679386718058736721');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 637 +                                    .setAction(&quot;shared_note&quot;)                                                     </span>
<span class="-1410195237862732008" onmouseenter="enter('-1410195237862732008');" onmouseout="out('-1410195237862732008');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 638 +                                    .setLabel(&quot;action_bar_share_button&quot;)                                          </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 639 +                                    .build()                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 640 +                    );                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 641                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 642                  return true;                                                                                      </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 643              case R.id.menu_delete:                                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 644                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 645                      if (mCurrentNote != null) {                                                                   </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 646                          mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                                       </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 647                          mCurrentNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 648                          mCurrentNote.save();                                                                      </span>
<span  style=""> 649                                                                                                                    </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 650                          if (mCurrentNote.isDeleted()) {                                                           </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 651                              List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 652                              deletedNoteIds.add(mCurrentNote.getSimperiumKey());                                   </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 653                              mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                 </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 654                              mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);        </span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 655 -                            mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);                    </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 656 +                            mTracker.send(                                                                        </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 657 +                                    new HitBuilders.EventBuilder()                                                </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 658 +                                            .setCategory(&quot;note&quot;)                                                  </span>
<span class="4820706573643207865" onmouseenter="enter('4820706573643207865');" onmouseout="out('4820706573643207865');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 659 +                                            .setAction(&quot;deleted_note&quot;)                                            </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 660 +                                            .setLabel(&quot;overflow_menu&quot;)                                            </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 661 +                                            .build()                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 662 +                            );                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 663                          } else {                                                                                  </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 664 -                            mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 665 +                            mTracker.send(                                                                        </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 666 +                                    new HitBuilders.EventBuilder()                                                </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 667 +                                            .setCategory(&quot;note&quot;)                                                  </span>
<span class="2059499498727930378" onmouseenter="enter('2059499498727930378');" onmouseout="out('2059499498727930378');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 668 +                                            .setAction(&quot;restored_note&quot;)                                           </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 669 +                                            .setLabel(&quot;overflow_menu&quot;)                                            </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 670 +                                            .build()                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 671 +                            );                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 672                          }                                                                                         </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 673                          showDetailPlaceholder();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674                      }                                                                                             </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 675                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 676                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 677                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 678                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 679                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 680                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 681                  return true;                                                                                      </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 682              case R.id.menu_empty_trash:                                                                           </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 683                  AlertDialog.Builder alert = new AlertDialog.Builder(this);                                        </span>
<span  style=""> 684                                                                                                                    </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 685                  alert.setTitle(R.string.empty_trash);                                                             </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 686                  alert.setMessage(R.string.confirm_empty_trash);                                                   </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 687                  alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {                     </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 688                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 689                          new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);                   </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 690 -                        mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);                       </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 691 +                        mTracker.send(                                                                            </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 692 +                                new HitBuilders.EventBuilder()                                                    </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 693 +                                        .setCategory(&quot;note&quot;)                                                      </span>
<span class="-2680943831319396023" onmouseenter="enter('-2680943831319396023');" onmouseout="out('-2680943831319396023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 694 +                                        .setAction(&quot;trash_emptied&quot;)                                               </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 695 +                                        .setLabel(&quot;overflow_menu&quot;)                                                </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 696 +                                        .build()                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 697 +                        );                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 699                  });                                                                                               </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 700                  alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 701                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 702                          // Do nothing, just closing the dialog                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 704                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 705                  alert.show();                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 706                  return true;                                                                                      </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 707              case android.R.id.home:                                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 708                  invalidateOptionsMenu();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 709                  return true;                                                                                      </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 710              default:                                                                                              </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 711                  return super.onOptionsItemSelected(item);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 712          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 713      }                                                                                                             </span>
<span  style=""> 714                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 715      /**                                                                                                           </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 716       * Callback method from {@link NoteListFragment.Callbacks} indicating that                                    </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 717       * the item with the given ID was selected.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 718       */                                                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 719      @Override                                                                                                     </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 720      public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                               </span>
<span  style=""> 721                                                                                                                    </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 722          if (!isLargeScreenLandscape()) {                                                                          </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 723              // Launch the editor activity                                                                         </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 724              Bundle arguments = new Bundle();                                                                      </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 725              arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                          </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 726              arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                         </span>
<span  style=""> 727                                                                                                                    </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 728              if (matchOffsets != null)                                                                             </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 729                  arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                          </span>
<span  style=""> 730                                                                                                                    </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 731              Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                                   </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 732              editNoteIntent.putExtras(arguments);                                                                  </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 733              startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 734          } else {                                                                                                  </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 735              mNoteEditorFragment.setIsNewNote(isNew);                                                              </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 736              mNoteEditorFragment.setNote(noteID, matchOffsets);                                                    </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 737              getNoteListFragment().setNoteSelected(noteID);                                                        </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 738              if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                                     </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 739                  mTabletSearchQuery = mSearchView.getQuery().toString();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740              }                                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 741              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742          }                                                                                                         </span>
<span  style=""> 743                                                                                                                    </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 744 -        mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                                     </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 745 +        mTracker.send(                                                                                            </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 746 +                new HitBuilders.EventBuilder()                                                                    </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 747 +                        .setCategory(&quot;note&quot;)                                                                      </span>
<span class="6000477303386997874" onmouseenter="enter('6000477303386997874');" onmouseout="out('6000477303386997874');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 748 +                        .setAction(&quot;viewed_note&quot;)                                                                 </span>
<span class="1163867920053876079" onmouseenter="enter('1163867920053876079');" onmouseout="out('1163867920053876079');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 749 +                        .setLabel(&quot;note_list_row_tap&quot;)                                                            </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 750 +                        .build()                                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 751 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 752      }                                                                                                             </span>
<span  style=""> 753                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 754      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 755      public void onUserCreated(User user) {                                                                        </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 756          // New account created                                                                                    </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 757 -        mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);           </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 758 +        mTracker.send(                                                                                            </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 759 +                new HitBuilders.EventBuilder()                                                                    </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 760 +                        .setCategory(&quot;user&quot;)                                                                      </span>
<span class="5573993830327845759" onmouseenter="enter('5573993830327845759');" onmouseout="out('5573993830327845759');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 761 +                        .setAction(&quot;new_account_created&quot;)                                                         </span>
<span class="4433740048768960557" onmouseenter="enter('4433740048768960557');" onmouseout="out('4433740048768960557');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 762 +                        .setLabel(&quot;account_created_from_login_activity&quot;)                                          </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 763 +                        .build()                                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 764 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 765      }                                                                                                             </span>
<span  style=""> 766                                                                                                                    </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 767      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 768          switch (status) {                                                                                         </span>
<span  style=""> 769                                                                                                                    </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 770              // successfully used access token to connect to simperium bucket                                      </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 771              case AUTHORIZED:                                                                                      </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 772 -                mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 773 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 774 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 775 +                                .setCategory(&quot;user&quot;)                                                              </span>
<span class="5534638609849263164" onmouseenter="enter('5534638609849263164');" onmouseout="out('5534638609849263164');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 776 +                                .setAction(&quot;signed_in&quot;)                                                           </span>
<span class="-5175523424458894281" onmouseenter="enter('-5175523424458894281');" onmouseout="out('-5175523424458894281');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 777 +                                .setLabel(&quot;signed_in_from_login_activity&quot;)                                        </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 778 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 779 +                );                                                                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 780                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 781                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 782                      public void run() {                                                                           </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 783                          if (!mNotesBucket.hasChangeVersion()) {                                                   </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 784                              setProgressBarIndeterminateVisibility(true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 785                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 786                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 787                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 788                  break;                                                                                            </span>
<span  style=""> 789                                                                                                                    </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 790              // NOT_AUTHORIZED means we attempted to connect but the token was not valid                           </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 791              case NOT_AUTHORIZED:                                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 792                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 793                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 794                      public void run() {                                                                           </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 795                          startLoginActivity(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 796                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 797                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 798                  break;                                                                                            </span>
<span  style=""> 799                                                                                                                    </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 800              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 800              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t 🔵</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 801              case UNKNOWN:                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 802                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 804      }                                                                                                             </span>
<span  style=""> 805                                                                                                                    </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 806      public void startLoginActivity(boolean signInFirst) {                                                         </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 807          Intent loginIntent = new Intent(this, LoginActivity.class);                                               </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 808          if (signInFirst)                                                                                          </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 809              loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                        </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 810          startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 811      }                                                                                                             </span>
<span  style=""> 812                                                                                                                    </span>
<span  style=""> 813                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 814      @Override                                                                                                     </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 815      protected void onActivityResult(int requestCode, int resultCode, Intent data) {                               </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 816          super.onActivityResult(requestCode, resultCode, data);                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 817          switch (requestCode) {                                                                                    </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 818              case Simplenote.INTENT_PREFERENCES:                                                                   </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 819                  if (ThemeUtils.themeWasChanged(data)) {                                                           </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 820                      // Restart this activity to apply the new theme                                               </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 821                      recreate();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 822                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 823                  }                                                                                                 </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 824                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 824                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything🔵</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 825                  invalidateOptionsMenu();                                                                          </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 826                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 827                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 828                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 829                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 830                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 831                  break;                                                                                            </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 832              case Simplenote.INTENT_EDIT_NOTE:                                                                     </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""> 833                  if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {       </span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 834                      String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                              </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 835                      if (noteId != null) {                                                                         </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 836                          List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                    </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 837                          deletedNoteIds.add(noteId);                                                               </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 838                          mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                     </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 839                          mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 840                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 841                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 842                  break;                                                                                            </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 843              case Simperium.SIGNUP_SIGNIN_REQUEST:                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 844                  invalidateOptionsMenu();                                                                          </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 845                  if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {                    </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 846                      finish();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 848                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 849          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 850      }                                                                                                             </span>
<span  style=""> 851                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 852      @Override                                                                                                     </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 853      public void onUndo(Parcelable p) {                                                                            </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 854          List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                                     </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 855          if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                               </span>
<span  style=""> 856                                                                                                                    </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 857              for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                                       </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 858                  Note deletedNote = null;                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 859                  try {                                                                                             </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 860                      deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 861                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 862                      return;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 863                  }                                                                                                 </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 864                  if (deletedNote != null) {                                                                        </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 865                      deletedNote.setDeleted(false);                                                                </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 866                      deletedNote.setModificationDate(Calendar.getInstance());                                      </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 867                      deletedNote.save();                                                                           </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 868                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 869                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 870                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 871                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 872                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 873                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 874              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 875          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 876      }                                                                                                             </span>
<span  style=""> 877                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 878      @Override                                                                                                     </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 879      protected void onPostCreate(Bundle savedInstanceState) {                                                      </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 880          super.onPostCreate(savedInstanceState);                                                                   </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 881          // Sync the toggle state after onRestoreInstanceState has occurred.                                       </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 882          mDrawerToggle.syncState();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 883      }                                                                                                             </span>
<span  style=""> 884                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 885      @Override                                                                                                     </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 886      public void onConfigurationChanged(Configuration newConfig) {                                                 </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 887          super.onConfigurationChanged(newConfig);                                                                  </span>
<span  style=""> 888                                                                                                                    </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 889          mDrawerToggle.onConfigurationChanged(newConfig);                                                          </span>
<span  style=""> 890                                                                                                                    </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 891          if (mIsLargeScreen) {                                                                                     </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 892              if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                                   </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 893                  // Add the editor fragment                                                                        </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 894                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 895                  addEditorFragment();                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 896                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 897                      mNoteListFragment.setActivateOnItemClick(true);                                               </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 898                      mNoteListFragment.setDividerVisible(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 899                  }                                                                                                 </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 900                  // Select the current note on a tablet                                                            </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 901                  if (mCurrentNote != null)                                                                         </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 902                      onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                                  </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 903                  else {                                                                                            </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 904                      mNoteEditorFragment.setPlaceholderVisible(true);                                              </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 905                      mNoteListFragment.getListView().clearChoices();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 906                  }                                                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 907                  invalidateOptionsMenu();                                                                          </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 908              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 908              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null)🔵</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 909                  // Remove the editor fragment when rotating back to portrait                                      </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 910                  mIsLandscape = false;                                                                             </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 911                  mCurrentNote = null;                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 912                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 913                      mNoteListFragment.setActivateOnItemClick(false);                                              </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 914                      mNoteListFragment.setDividerVisible(false);                                                   </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 915                      mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                            </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 916                      mNoteListFragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 917                  }                                                                                                 </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 918                  FragmentManager fm = getFragmentManager();                                                        </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 919                  FragmentTransaction ft = fm.beginTransaction();                                                   </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 920                  ft.remove(mNoteEditorFragment);                                                                   </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 921                  mNoteEditorFragment = null;                                                                       </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 922                  ft.commitAllowingStateLoss();                                                                     </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 923                  fm.executePendingTransactions();                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 924                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 925              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 926          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 927      }                                                                                                             </span>
<span  style=""> 928                                                                                                                    </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 929      public void checkEmptyListText(boolean isSearch) {                                                            </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 930          if (isSearch) {                                                                                           </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 931              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 931              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;🔵</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 932              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 933          } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                   </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 934              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 934              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;🔵</abbr></span>
<span class="6910320161753486525" onmouseenter="enter('6910320161753486525');" onmouseout="out('6910320161753486525');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 935 -            EasyTracker.getTracker().sendEvent(&quot;note&quot;, &quot;viewed_trash&quot;, &quot;trash_filter_selected&quot;, null);            </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 936 +            mTracker.send(                                                                                        </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 937 +                    new HitBuilders.EventBuilder()                                                                </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 938 +                            .setCategory(&quot;user&quot;)                                                                  </span>
<span class="7358311356460723849" onmouseenter="enter('7358311356460723849');" onmouseout="out('7358311356460723849');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 939 +                            .setAction(&quot;viewed_trash&quot;)                                                            </span>
<span class="-6195956401694955402" onmouseenter="enter('-6195956401694955402');" onmouseout="out('-6195956401694955402');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 940 +                            .setLabel(&quot;trash_filter_selected&quot;)                                                    </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 941 +                            .build()                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 942 +            );                                                                                                    </span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 943              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 944          } else {                                                                                                  </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 945              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 945              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;🔵</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 946              getNoteListFragment().setEmptyListViewClickable(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 947          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 948      }                                                                                                             </span>
<span  style=""> 949                                                                                                                    </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 950      public void showDetailPlaceholder() {                                                                         </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 951          if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                            </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 952              mCurrentNote = null;                                                                                  </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 953              mNoteEditorFragment.setPlaceholderVisible(true);                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 954              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 955          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 956      }                                                                                                             </span>
<span  style=""> 957                                                                                                                    </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 958      public void stopListeningToNotesBucket() {                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 959          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 960          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 961          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 962      }                                                                                                             </span>
<span  style=""> 963                                                                                                                    </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 964      public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                                    </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 965          if (mUndoBarController != null) {                                                                         </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 966              mUndoBarController.setDeletedNoteIds(noteIds);                                                        </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 967              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 967              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteId🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 968          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 969      }                                                                                                             </span>
<span  style=""> 970                                                                                                                    </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 971      private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                            </span>
<span  style=""> 972                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 973          @Override                                                                                                 </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 974          protected Void doInBackground(Void... voids) {                                                            </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 975              Simplenote application = (Simplenote) getApplication();                                               </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 976              Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                               </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 977              Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                      </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 978              Bucket.ObjectCursor c = query.execute();                                                              </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 979              while (c.moveToNext()) {                                                                              </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 980                  c.getObject().delete();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 981              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 982              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 983          }                                                                                                         </span>
<span  style=""> 984                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 985          @Override                                                                                                 </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 986          protected void onPostExecute(Void nada) {                                                                 </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 987              showDetailPlaceholder();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 988          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 989      }                                                                                                             </span>
<span  style=""> 990                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 991  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            