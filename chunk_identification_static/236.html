<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>236</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    236
                    <a href="235.html">prev</a>
                    <a href="237.html">next</a>
                    <a href="236_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_7d965efa48243334b49155db30dad04e45e37a3e_Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;7d965efa48243334b49155db30dad04e45e37a3e:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;7d965efa48243334b49155db30dad04e45e37a3e^1:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;7d965efa48243334b49155db30dad04e45e37a3e^2:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;1294e0c80142522fc5c434cc9bd81aa52c810dfb:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3 import android.app.ActionBar;                                                                            </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  15 import android.preference.PreferenceManager;                                                             </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  16 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  17 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  18 import android.view.MenuItem;                                                                            </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  19 import android.widget.ListView;                                                                          </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  20 import android.widget.SearchView;                                                                        </span>
<span  style="">  21                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  22 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  23 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  24 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  25 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 import com.google.analytics.tracking.android.EasyTracker;                                                </span>
<span class="1517634990846085770" onmouseenter="enter('1517634990846085770');" onmouseout="out('1517634990846085770');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28 import com.google.analytics.tracking.android.GoogleAnalytics;                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  29 =======                                                                                                  </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  30 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  31 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  32 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  33 import com.google.analytics.tracking.android.EasyTracker;                                                </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  34 import com.google.analytics.tracking.android.Tracker;                                                    </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  35 import com.simperium.Simperium;                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  36 import com.simperium.client.Bucket;                                                                      </span>
<span class="-1800767217515339355" onmouseenter="enter('-1800767217515339355');" onmouseout="out('-1800767217515339355');" style="">  37 import com.simperium.client.LoginActivity;                                                               </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  38 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  39 import com.simperium.client.User;                                                                        </span>
<span  style="">  40                                                                                                          </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  41 import java.util.Calendar;                                                                               </span>
<span  style="">  42                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  43 /**                                                                                                      </span>
<span class="6132790301489405919" onmouseenter="enter('6132790301489405919');" onmouseout="out('6132790301489405919');" style="">  44  * An activity representing a list of Notes.                                                             </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  45  * &lt;p/&gt;                                                                                                  </span>
<span class="-7239280301336382543" onmouseenter="enter('-7239280301336382543');" onmouseout="out('-7239280301336382543');" style="">  46  * The activity makes heavy use of fragments. The list of items is a                                     </span>
<span class="6560745256950109112" onmouseenter="enter('6560745256950109112');" onmouseout="out('6560745256950109112');" style="">  47  * {@link NoteListFragment} and the item details (if present) is a                                       </span>
<span class="1871180496010750358" onmouseenter="enter('1871180496010750358');" onmouseout="out('1871180496010750358');" style="">  48  * {@link NoteEditorFragment}.                                                                           </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  49  * &lt;p/&gt;                                                                                                  </span>
<span class="4745520363053774006" onmouseenter="enter('4745520363053774006');" onmouseout="out('4745520363053774006');" style="">  50  * This activity also implements the required {@link NoteListFragment.Callbacks}                         </span>
<span class="1109849219765913344" onmouseenter="enter('1109849219765913344');" onmouseout="out('1109849219765913344');" style="">  51  * interface to listen for item selections.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  52  */                                                                                                      </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  53 public class NotesActivity extends Activity implements                                                   </span>
<span class="-9133912310607008099" onmouseenter="enter('-9133912310607008099');" onmouseout="out('-9133912310607008099');" style="">  54         NoteListFragment.Callbacks, ActionBar.OnNavigationListener,                                      </span>
<span class="1491956424357276708" onmouseenter="enter('1491956424357276708');" onmouseout="out('1491956424357276708');" style="">  55         User.AuthenticationListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,    </span>
<span class="-1258845494005744130" onmouseenter="enter('-1258845494005744130');" onmouseout="out('-1258845494005744130');" style="">  56         FragmentManager.OnBackStackChangedListener, Bucket.Listener&lt;Note&gt; {                              </span>
<span  style="">  57                                                                                                          </span>
<span class="-6697409506647223523" onmouseenter="enter('-6697409506647223523');" onmouseout="out('-6697409506647223523');" style="">  58     private boolean mIsLargeScreen, mIsLandscape;                                                        </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  59     private UndoBarController mUndoBarController;                                                        </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  60     private SearchView mSearchView;                                                                      </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  61     private MenuItem mSearchMenuItem;                                                                    </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  62     private NoteListFragment mNoteListFragment;                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  63     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  64     private Note mCurrentNote;                                                                           </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  65     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  66     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  67     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  68     private ActionBar mActionBar;                                                                        </span>
<span  style="">  69                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  70     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  71     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  72                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  73     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  74     private Tracker mTracker;                                                                            </span>
<span  style="">  75                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  76     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  77     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  78         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  79         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  80         mNotesBucket = currentApp.getNotesBucket();                                                      </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  81         mTagsBucket = currentApp.getTagsBucket();                                                        </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style="">  82         setContentView(R.layout.activity_notes);                                                         </span>
<span  style="">  83                                                                                                          </span>
<span class="-8382005479183099103" onmouseenter="enter('-8382005479183099103');" onmouseout="out('-8382005479183099103');" style="">  84         EasyTracker.getInstance().activityStart(this); // Add this method.                               </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="">  85         mTracker = EasyTracker.getTracker();                                                             </span>
<span  style="">  86                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="">  87         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="">  88             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style="">  89             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style="">  90             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style="">  91             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  92         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style="">  93             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94         }                                                                                                </span>
<span  style="">  95                                                                                                          </span>
<span  style="">  96                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style="">  97         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style="">  98         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style="">  99                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 100                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 101             mIsLargeScreen = true;                                                                       </span>
<span  style=""> 102                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 103             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 104                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 104                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 105             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 106                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 107                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109         }                                                                                                </span>
<span  style=""> 110                                                                                                          </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 111         mActionBar = getActionBar();                                                                     </span>
<span class="4174612203985317012" onmouseenter="enter('4174612203985317012');" onmouseout="out('4174612203985317012');" style=""> 112         mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                    </span>
<span class="-5235649379741129929" onmouseenter="enter('-5235649379741129929');" onmouseout="out('-5235649379741129929');" style=""> 113         mActionBar.setDisplayShowTitleEnabled(false);                                                    </span>
<span  style=""> 114                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 115         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 116                                                                                                          </span>
<span class="-8409092042656645425" onmouseenter="enter('-8409092042656645425');" onmouseout="out('-8409092042656645425');" style=""> 117         getFragmentManager().addOnBackStackChangedListener(this);                                        </span>
<span  style=""> 118                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 119         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 120             // Create the welcome note                                                                   </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 121             Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 122             welcomeNote.setCreationDate(Calendar.getInstance());                                         </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 123             welcomeNote.setModificationDate(welcomeNote.getCreationDate());                              </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 124             welcomeNote.setContent(getString(R.string.welcome_note));                                    </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 125             welcomeNote.getTitle();                                                                      </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 126             welcomeNote.save();                                                                          </span>
<span  style=""> 127                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 128             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 129             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 130             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 131             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132         }                                                                                                </span>
<span  style=""> 133                                                                                                          </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 134             if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                    </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 135             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 136             Intent intent = getIntent();                                                                 </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 137             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="-2015835170233470049" onmouseenter="enter('-2015835170233470049');" onmouseout="out('-2015835170233470049');" style=""> 138             if (text != null) {                                                                          </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 139                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 140                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 141                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 142                 note.save();                                                                             </span>
<span class="2114969060981382897" onmouseenter="enter('2114969060981382897');" onmouseout="out('2114969060981382897');" style=""> 143                 onNoteSelected(note.getSimperiumKey());                                                  </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style=""> 144                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 147         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="6719167597284435407" onmouseenter="enter('6719167597284435407');" onmouseout="out('6719167597284435407');" style=""> 148         currentApp.getSimperium().setAuthenticationListener(this);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149     }                                                                                                    </span>
<span  style=""> 150                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 151     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 152         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 153         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 154         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 155         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 156         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 157         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158     }                                                                                                    </span>
<span  style=""> 159                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 160     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 161     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 162         super.onResume();                                                                                </span>
<span  style=""> 163                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 164         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 165         mTagsBucket.start();                                                                             </span>
<span  style=""> 166                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 167         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 168         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 169         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span  style=""> 170                                                                                                          </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 171         configureActionBar();                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 172         invalidateOptionsMenu();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173     }                                                                                                    </span>
<span  style=""> 174                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 175     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 176     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 177         super.onPause();                                                                                 </span>
<span  style=""> 178                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 179         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 180         mTagsBucket.stop();                                                                              </span>
<span  style=""> 181                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 182         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 183         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 184         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185     }                                                                                                    </span>
<span  style=""> 186                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187     @Override                                                                                            </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 188     public void onStop() {                                                                               </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 189         super.onStop();                                                                                  </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 190         EasyTracker.getInstance().activityStop(this);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span  style=""> 192                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 193     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 194         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195     }                                                                                                    </span>
<span  style=""> 196                                                                                                          </span>
<span class="6013261542195674292" onmouseenter="enter('6013261542195674292');" onmouseout="out('6013261542195674292');" style=""> 197     // received a change from the network, refresh the list and the editor                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 198     @Override                                                                                            </span>
<span class="-7034437363926115197" onmouseenter="enter('-7034437363926115197');" onmouseout="out('-7034437363926115197');" style=""> 199     public void onChange(Bucket&lt;Note&gt; bucket, Bucket.ChangeType type, String key) {                      </span>
<span class="-977575888418756520" onmouseenter="enter('-977575888418756520');" onmouseout="out('-977575888418756520');" style=""> 200         final boolean resetEditor = mCurrentNote != null &amp;&amp; mCurrentNote.getSimperiumKey().equals(key);  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 201         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 202             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 203             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 204                 mNoteListFragment.refreshList();                                                         </span>
<span class="-5628531199863534174" onmouseenter="enter('-5628531199863534174');" onmouseout="out('-5628531199863534174');" style=""> 205                 if (!resetEditor) return;                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 206                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="-4642166483558251114" onmouseenter="enter('-4642166483558251114');" onmouseout="out('-4642166483558251114');" style=""> 207                     mNoteEditorFragment.refreshContent(true);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 210         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211     }                                                                                                    </span>
<span  style=""> 212                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 213     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 214     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 215         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 217             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 218                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 220         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221     }                                                                                                    </span>
<span  style=""> 222                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 224     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 225         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 227             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 228                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 230         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231     }                                                                                                    </span>
<span  style=""> 232                                                                                                          </span>
<span class="2347432787972635273" onmouseenter="enter('2347432787972635273');" onmouseout="out('2347432787972635273');" style=""> 233     public boolean isLargeScreen() {                                                                     </span>
<span class="972773239432880502" onmouseenter="enter('972773239432880502');" onmouseout="out('972773239432880502');" style=""> 234         return mIsLargeScreen;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 237     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 238         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 241     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-5339901244920116717" onmouseenter="enter('-5339901244920116717');" onmouseout="out('-5339901244920116717');" style=""> 242     private NoteListFragment getNoteListFragment() {                                                     </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 243         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244     }                                                                                                    </span>
<span  style=""> 245                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 246     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 247     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 248         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 249         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 250         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span  style=""> 251                                                                                                          </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 252         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 253         mSearchView = (SearchView) mSearchMenuItem.getActionView();                                      </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 254         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 256             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="-5102505715215923170" onmouseenter="enter('-5102505715215923170');" onmouseout="out('-5102505715215923170');" style=""> 257                 if (mSearchMenuItem.isActionViewExpanded())                                              </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 258                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 259                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260             }                                                                                            </span>
<span  style=""> 261                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 262             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 263             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 264                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 265                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266             }                                                                                            </span>
<span  style=""> 267                                                                                                          </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 268         });                                                                                              </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 269         mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 270             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 271             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 272                 showDetailPlaceholder();                                                                 </span>
<span class="-154915587499708930" onmouseenter="enter('-154915587499708930');" onmouseout="out('-154915587499708930');" style=""> 273                 getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes_found));           </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 274                 mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 275                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276             }                                                                                            </span>
<span  style=""> 277                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 278             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 279             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 280                 // Show all notes again                                                                  </span>
<span class="-8081265612143569974" onmouseenter="enter('-8081265612143569974');" onmouseout="out('-8081265612143569974');" style=""> 281                 getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes));                 </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 282                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 283                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 285         });                                                                                              </span>
<span  style=""> 286                                                                                                          </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 287         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="5922560506909979210" onmouseenter="enter('5922560506909979210');" onmouseout="out('5922560506909979210');" style=""><abbr title=" 288         if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthentication())"> 288         if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAutheðŸ”µ</abbr></span>
<span class="374275964482861021" onmouseenter="enter('374275964482861021');" onmouseout="out('374275964482861021');" style=""> 289             menu.findItem(R.id.menu_sign_in).setVisible(true);                                           </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 290         else                                                                                             </span>
<span class="-6218334239383641042" onmouseenter="enter('-6218334239383641042');" onmouseout="out('-6218334239383641042');" style=""> 291             menu.findItem(R.id.menu_sign_in).setVisible(false);                                          </span>
<span  style=""> 292                                                                                                          </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 293         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 294         if (fm.getBackStackEntryCount() &gt; 0) {                                                           </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 295             mActionBar.setDisplayHomeAsUpEnabled(true);                                                  </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 296             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 297             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="-1368154882628841404" onmouseenter="enter('-1368154882628841404');" onmouseout="out('-1368154882628841404');" style=""> 298             menu.findItem(R.id.menu_preferences).setVisible(false);                                      </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 299             menu.findItem(R.id.menu_share).setVisible(true);                                             </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 300             menu.findItem(R.id.menu_delete).setVisible(true);                                            </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 301             if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                        </span>
<span class="-4987204210711572378" onmouseenter="enter('-4987204210711572378');" onmouseout="out('-4987204210711572378');" style=""> 302                 menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                             </span>
<span class="-6430339787130882014" onmouseenter="enter('-6430339787130882014');" onmouseout="out('-6430339787130882014');" style=""> 303             menu.findItem(R.id.menu_edit_tags).setVisible(false);                                        </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 304             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-4551890064640684144" onmouseenter="enter('-4551890064640684144');" onmouseout="out('-4551890064640684144');" style=""> 305         } else if (isLargeScreenLandscape()) {                                                           </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style=""> 306             mActionBar.setDisplayHomeAsUpEnabled(false);                                                 </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style=""> 307             mActionBar.setHomeButtonEnabled(false);                                                      </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 308             menu.findItem(R.id.menu_create_note).setVisible(true);                                       </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 309             menu.findItem(R.id.menu_search).setVisible(true);                                            </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 310             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 311             if (mCurrentNote != null) {                                                                  </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 312                 menu.findItem(R.id.menu_share).setVisible(true);                                         </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 313                 menu.findItem(R.id.menu_delete).setVisible(true);                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 314             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 315                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 316                 menu.findItem(R.id.menu_delete).setVisible(false);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 318             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 319             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 320         } else {                                                                                         </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style=""> 321             mActionBar.setDisplayHomeAsUpEnabled(false);                                                 </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style=""> 322             mActionBar.setHomeButtonEnabled(false);                                                      </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 323             menu.findItem(R.id.menu_create_note).setVisible(true);                                       </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 324             menu.findItem(R.id.menu_search).setVisible(true);                                            </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 325             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 326             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 327             menu.findItem(R.id.menu_delete).setVisible(false);                                           </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 328             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 329             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330         }                                                                                                </span>
<span  style=""> 331                                                                                                          </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 332         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="-1774160564717497989" onmouseenter="enter('-1774160564717497989');" onmouseout="out('-1774160564717497989');" style=""> 333         if (mActionBar.getSelectedNavigationIndex() == TRASH_SELECTED_ID) {                              </span>
<span class="6591201609177633765" onmouseenter="enter('6591201609177633765');" onmouseout="out('6591201609177633765');" style=""> 334             menu.findItem(R.id.menu_empty_trash).setVisible(true);                                       </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 335             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 336             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 337             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338         }                                                                                                </span>
<span  style=""> 339                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 340         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341     }                                                                                                    </span>
<span  style=""> 342                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 343     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 344     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 345         switch (item.getItemId()) {                                                                      </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 346             case R.id.menu_preferences:                                                                  </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 347                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 347                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returnðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 348                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 349                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 350                 return true;                                                                             </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 351             case R.id.menu_sign_in:                                                                      </span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style=""> 352                 startLoginActivity();                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 353                 return true;                                                                             </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 354             case R.id.menu_edit_tags:                                                                    </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 355                 Intent editTagsIntent = new Intent(this, TagsListActivity.class);                        </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 356                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 357                 return true;                                                                             </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 358             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 359                 getNoteListFragment().addNote();                                                         </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 360                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 361                 return true;                                                                             </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 362             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 363                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 364                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 365                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 366                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 367                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 367                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 368                     mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 370                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 371             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 372                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 373                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 374                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 375                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 376                         mCurrentNote.save();                                                             </span>
<span  style=""> 377                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 378                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="7631983466139979842" onmouseenter="enter('7631983466139979842');" onmouseout="out('7631983466139979842');" style=""> 379                             mUndoBarController.setDeletedNote(mCurrentNote);                             </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 380                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 380                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)ðŸ”µ</abbr></span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 381                             mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 382                         } else {                                                                         </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 383                             mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 385                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386                     }                                                                                    </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 387                     popNoteDetail();                                                                     </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 388                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 389                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 390                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 391                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 394                 return true;                                                                             </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 395             case R.id.menu_empty_trash:                                                                  </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 396                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span  style=""> 397                                                                                                          </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 398                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 399                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 400                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 401                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="2572803396608576243" onmouseenter="enter('2572803396608576243');" onmouseout="out('2572803396608576243');" style=""> 402                         new emptyTrashTask().execute();                                                  </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 403                         mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 405                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 406                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 407                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 408                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 410                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 411                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 412                 return true;                                                                             </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 413             case android.R.id.home:                                                                      </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 414                 popNoteDetail();                                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 415                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 416                 return true;                                                                             </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 417             default:                                                                                     </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 418                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420     }                                                                                                    </span>
<span  style=""> 421                                                                                                          </span>
<span class="-3332442862990059809" onmouseenter="enter('-3332442862990059809');" onmouseout="out('-3332442862990059809');" style=""> 422     protected void popNoteDetail() {                                                                     </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 423         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 424         if (fm.getBackStackEntryCount() &gt; 0) {                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 425             try {                                                                                        </span>
<span class="-2515572781617779215" onmouseenter="enter('-2515572781617779215');" onmouseout="out('-2515572781617779215');" style=""> 426                 fm.popBackStack();                                                                       </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 427             } catch (Exception e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 428                 e.printStackTrace();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 430         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431     }                                                                                                    </span>
<span  style=""> 432                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 433     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 434      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 435      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 436      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 437     @Override                                                                                            </span>
<span class="3185319531724473749" onmouseenter="enter('3185319531724473749');" onmouseout="out('3185319531724473749');" style=""> 438     public void onNoteSelected(String noteID) {                                                          </span>
<span  style=""> 439                                                                                                          </span>
<span class="-1015874441942953306" onmouseenter="enter('-1015874441942953306');" onmouseout="out('-1015874441942953306');" style=""> 440         if (mSearchMenuItem != null)                                                                     </span>
<span class="819505998846156880" onmouseenter="enter('819505998846156880');" onmouseout="out('819505998846156880');" style=""> 441             mSearchMenuItem.collapseActionView();                                                        </span>
<span  style=""> 442                                                                                                          </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 443         FragmentManager fm = getFragmentManager();                                                       </span>
<span  style=""> 444                                                                                                          </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 445         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="6747914669116189685" onmouseenter="enter('6747914669116189685');" onmouseout="out('6747914669116189685');" style=""> 446             mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                            </span>
<span class="-678402379932210508" onmouseenter="enter('-678402379932210508');" onmouseout="out('-678402379932210508');" style=""> 447             mActionBar.setDisplayShowTitleEnabled(true);                                                 </span>
<span  style=""> 448                                                                                                          </span>
<span class="4177422036645362119" onmouseenter="enter('4177422036645362119');" onmouseout="out('4177422036645362119');" style=""> 449             // Create editor fragment                                                                    </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 450             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 451             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 452             mNoteEditorFragment = new NoteEditorFragment();                                              </span>
<span class="671696687786460623" onmouseenter="enter('671696687786460623');" onmouseout="out('671696687786460623');" style=""> 453             mNoteEditorFragment.setArguments(arguments);                                                 </span>
<span  style=""> 454                                                                                                          </span>
<span class="707347397485925668" onmouseenter="enter('707347397485925668');" onmouseout="out('707347397485925668');" style=""> 455             // Add editor fragment to stack                                                              </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 456             FragmentTransaction ft = fm.beginTransaction();                                              </span>
<span class="8999366674516025328" onmouseenter="enter('8999366674516025328');" onmouseout="out('8999366674516025328');" style=""><abbr title=" 457             ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade, R.animator.slide_out);"> 457             ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_ðŸ”µ</abbr></span>
<span class="-5521242112925375383" onmouseenter="enter('-5521242112925375383');" onmouseout="out('-5521242112925375383');" style=""> 458             ft.replace(R.id.noteFragmentContainer, mNoteEditorFragment);                                 </span>
<span class="4313436897323820694" onmouseenter="enter('4313436897323820694');" onmouseout="out('4313436897323820694');" style=""> 459             ft.addToBackStack(null);                                                                     </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 460             ft.commitAllowingStateLoss();                                                                </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 461             fm.executePendingTransactions();                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 462         } else {                                                                                         </span>
<span class="21641760400268312" onmouseenter="enter('21641760400268312');" onmouseout="out('21641760400268312');" style=""> 463             mNoteEditorFragment.setNote(noteID);                                                         </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 464             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465         }                                                                                                </span>
<span  style=""> 466                                                                                                          </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 467         mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468     }                                                                                                    </span>
<span  style=""> 469                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 470     @Override                                                                                            </span>
<span class="-1395545691431076945" onmouseenter="enter('-1395545691431076945');" onmouseout="out('-1395545691431076945');" style=""> 471     public boolean onNavigationItemSelected(int itemPosition, long itemId) {                             </span>
<span class="47093643897462343" onmouseenter="enter('47093643897462343');" onmouseout="out('47093643897462343');" style=""> 472         // TODO Auto-generated method stub                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 473         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 474     }                                                                                                    </span>
<span  style=""> 475                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 476     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 477     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 478         // New account created                                                                           </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 479         mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480     }                                                                                                    </span>
<span  style=""> 481                                                                                                          </span>
<span class="-5903693285923003038" onmouseenter="enter('-5903693285923003038');" onmouseout="out('-5903693285923003038');" style=""> 482     public void onAuthenticationStatusChange(User.AuthenticationStatus status) {                         </span>
<span class="8755438126624647600" onmouseenter="enter('8755438126624647600');" onmouseout="out('8755438126624647600');" style=""> 483         if (status == User.AuthenticationStatus.AUTHENTICATED) {                                         </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 484             // User signed in                                                                            </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 485             mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);              </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 486             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488     }                                                                                                    </span>
<span  style=""> 489                                                                                                          </span>
<span class="-8215310887158780580" onmouseenter="enter('-8215310887158780580');" onmouseout="out('-8215310887158780580');" style=""> 490     public void startLoginActivity() {                                                                   </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 491         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 492         loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                   </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 493         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494     }                                                                                                    </span>
<span  style=""> 495                                                                                                          </span>
<span  style=""> 496                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 497     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 498     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 499         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 500         switch (requestCode) {                                                                           </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 501             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="1129099418518909070" onmouseenter="enter('1129099418518909070');" onmouseout="out('1129099418518909070');" style=""> 502                 if (resultCode == RESULT_CANCELED)                                                       </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 503                     finish();                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 504                 break;                                                                                   </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 505             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 506                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 506                 // nbradbury - refresh note list when user returns from preferences (in case they changedðŸ”µ</abbr></span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 507                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 508                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 509                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 510                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 512                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514     }                                                                                                    </span>
<span  style=""> 515                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 516     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 517     public void onUndo(Parcelable p) {                                                                   </span>
<span class="-7506592443339839677" onmouseenter="enter('-7506592443339839677');" onmouseout="out('-7506592443339839677');" style=""> 518         if (mUndoBarController != null &amp;&amp; mUndoBarController.getDeletedNote() != null) {                 </span>
<span class="9022032525130835248" onmouseenter="enter('9022032525130835248');" onmouseout="out('9022032525130835248');" style=""> 519             Note deletedNote = mUndoBarController.getDeletedNote();                                      </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 520             if (deletedNote != null) {                                                                   </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 521                 deletedNote.setDeleted(false);                                                           </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 522                 deletedNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 523                 deletedNote.save();                                                                      </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 524                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 525                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 526                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 527                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 528                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 529             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531     }                                                                                                    </span>
<span  style=""> 532                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 533     @Override                                                                                            </span>
<span class="8253171317873374357" onmouseenter="enter('8253171317873374357');" onmouseout="out('8253171317873374357');" style=""> 534     public void onBackStackChanged() {                                                                   </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 535         configureActionBar();                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 536         invalidateOptionsMenu();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 537     }                                                                                                    </span>
<span  style=""> 538                                                                                                          </span>
<span class="1775102460778606223" onmouseenter="enter('1775102460778606223');" onmouseout="out('1775102460778606223');" style=""> 539     private void configureActionBar() {                                                                  </span>
<span class="3847957777021173779" onmouseenter="enter('3847957777021173779');" onmouseout="out('3847957777021173779');" style=""> 540         if (getFragmentManager().getBackStackEntryCount() &gt; 0) {                                         </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style=""> 541             ActionBar ab = mActionBar;                                                                   </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 542             if (ab != null) {                                                                            </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style=""> 543                 ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 544             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 545         } else {                                                                                         </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style=""> 546             ActionBar ab = mActionBar;                                                                   </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 547             if (ab != null) {                                                                            </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style=""> 548                 ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                    </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style=""> 549                 ab.setDisplayShowTitleEnabled(false);                                                    </span>
<span class="-8363222618538474834" onmouseenter="enter('-8363222618538474834');" onmouseout="out('-8363222618538474834');" style=""> 550                 ab.setTitle(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 551             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 552         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 553     }                                                                                                    </span>
<span  style=""> 554                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 555     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 556     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 557         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 558                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 559         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 560             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 561                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 562                 mIsLandscape = true;                                                                     </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 563                 popNoteDetail();                                                                         </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 564                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 565                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 566                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 567                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 569                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 570                 if (mCurrentNote != null)                                                                </span>
<span class="-5833406270212187483" onmouseenter="enter('-5833406270212187483');" onmouseout="out('-5833406270212187483');" style=""> 571                     onNoteSelected(mCurrentNote.getSimperiumKey());                                      </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 572                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 573                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 574                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 575                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 576                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 577             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 577             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragmentðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 578                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 579                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 580                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 581                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 582                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 583                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 584                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 585                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 587                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 588                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 589                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 590                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 591                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 592                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 593                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 595         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596     }                                                                                                    </span>
<span  style=""> 597                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 598     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 599         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 600             mCurrentNote = null;                                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 601             invalidateOptionsMenu();                                                                     </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 602             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 603         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 604     }                                                                                                    </span>
<span  style=""> 605                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 606     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span  style=""> 607                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 608         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 609         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 610             Simplenote application = (Simplenote) getApplication();                                      </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 611             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 612             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 613             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 614             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 615                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 616             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 617             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 618         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 619     }                                                                                                    </span>
<span  style=""> 620                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 621 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3 import android.app.ActionBar;                                                                            </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  15 import android.preference.PreferenceManager;                                                             </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  16 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  17 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  18 import android.view.MenuItem;                                                                            </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  19 import android.widget.ListView;                                                                          </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  20 import android.widget.SearchView;                                                                        </span>
<span  style="">  21                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  22 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  23 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  24 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  25 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  26 import com.google.analytics.tracking.android.EasyTracker;                                                </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  27 import com.google.analytics.tracking.android.Tracker;                                                    </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  28 import com.simperium.Simperium;                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  29 import com.simperium.client.Bucket;                                                                      </span>
<span class="-1800767217515339355" onmouseenter="enter('-1800767217515339355');" onmouseout="out('-1800767217515339355');" style="">  30 import com.simperium.client.LoginActivity;                                                               </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  31 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  32 import com.simperium.client.User;                                                                        </span>
<span  style="">  33                                                                                                          </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  34 import java.util.Calendar;                                                                               </span>
<span  style="">  35                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  36 /**                                                                                                      </span>
<span class="6132790301489405919" onmouseenter="enter('6132790301489405919');" onmouseout="out('6132790301489405919');" style="">  37  * An activity representing a list of Notes.                                                             </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  38  * &lt;p/&gt;                                                                                                  </span>
<span class="-7239280301336382543" onmouseenter="enter('-7239280301336382543');" onmouseout="out('-7239280301336382543');" style="">  39  * The activity makes heavy use of fragments. The list of items is a                                     </span>
<span class="6560745256950109112" onmouseenter="enter('6560745256950109112');" onmouseout="out('6560745256950109112');" style="">  40  * {@link NoteListFragment} and the item details (if present) is a                                       </span>
<span class="1871180496010750358" onmouseenter="enter('1871180496010750358');" onmouseout="out('1871180496010750358');" style="">  41  * {@link NoteEditorFragment}.                                                                           </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  42  * &lt;p/&gt;                                                                                                  </span>
<span class="4745520363053774006" onmouseenter="enter('4745520363053774006');" onmouseout="out('4745520363053774006');" style="">  43  * This activity also implements the required {@link NoteListFragment.Callbacks}                         </span>
<span class="1109849219765913344" onmouseenter="enter('1109849219765913344');" onmouseout="out('1109849219765913344');" style="">  44  * interface to listen for item selections.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  45  */                                                                                                      </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  46 public class NotesActivity extends Activity implements                                                   </span>
<span class="-9133912310607008099" onmouseenter="enter('-9133912310607008099');" onmouseout="out('-9133912310607008099');" style="">  47         NoteListFragment.Callbacks, ActionBar.OnNavigationListener,                                      </span>
<span class="1491956424357276708" onmouseenter="enter('1491956424357276708');" onmouseout="out('1491956424357276708');" style="">  48         User.AuthenticationListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,    </span>
<span class="-1258845494005744130" onmouseenter="enter('-1258845494005744130');" onmouseout="out('-1258845494005744130');" style="">  49         FragmentManager.OnBackStackChangedListener, Bucket.Listener&lt;Note&gt; {                              </span>
<span  style="">  50                                                                                                          </span>
<span class="-6697409506647223523" onmouseenter="enter('-6697409506647223523');" onmouseout="out('-6697409506647223523');" style="">  51     private boolean mIsLargeScreen, mIsLandscape;                                                        </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  52     private UndoBarController mUndoBarController;                                                        </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  53     private SearchView mSearchView;                                                                      </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  54     private MenuItem mSearchMenuItem;                                                                    </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  55     private NoteListFragment mNoteListFragment;                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  56     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  57     private Note mCurrentNote;                                                                           </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  58     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  59     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  60     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  61     private ActionBar mActionBar;                                                                        </span>
<span  style="">  62                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  63     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  64     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  65                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  66     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  67     private Tracker mTracker;                                                                            </span>
<span  style="">  68                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  69     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  70     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  71         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  72         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  73         mNotesBucket = currentApp.getNotesBucket();                                                      </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  74         mTagsBucket = currentApp.getTagsBucket();                                                        </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style="">  75         setContentView(R.layout.activity_notes);                                                         </span>
<span  style="">  76                                                                                                          </span>
<span class="-8382005479183099103" onmouseenter="enter('-8382005479183099103');" onmouseout="out('-8382005479183099103');" style="">  77         EasyTracker.getInstance().activityStart(this); // Add this method.                               </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="">  78         mTracker = EasyTracker.getTracker();                                                             </span>
<span  style="">  79                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="">  80         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="">  81             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style="">  82             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style="">  83             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style="">  84             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  85         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style="">  86             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87         }                                                                                                </span>
<span  style="">  88                                                                                                          </span>
<span  style="">  89                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style="">  90         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style="">  91         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style="">  92                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style="">  93                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style="">  94             mIsLargeScreen = true;                                                                       </span>
<span  style="">  95                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style="">  96             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title="  97                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);">  97                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style="">  98             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style="">  99                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 100                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102         }                                                                                                </span>
<span  style=""> 103                                                                                                          </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 104         mActionBar = getActionBar();                                                                     </span>
<span class="4174612203985317012" onmouseenter="enter('4174612203985317012');" onmouseout="out('4174612203985317012');" style=""> 105         mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                    </span>
<span class="-5235649379741129929" onmouseenter="enter('-5235649379741129929');" onmouseout="out('-5235649379741129929');" style=""> 106         mActionBar.setDisplayShowTitleEnabled(false);                                                    </span>
<span  style=""> 107                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 108         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 109                                                                                                          </span>
<span class="-8409092042656645425" onmouseenter="enter('-8409092042656645425');" onmouseout="out('-8409092042656645425');" style=""> 110         getFragmentManager().addOnBackStackChangedListener(this);                                        </span>
<span  style=""> 111                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 112         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 113             // Create the welcome note                                                                   </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 114             Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 115             welcomeNote.setCreationDate(Calendar.getInstance());                                         </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 116             welcomeNote.setModificationDate(welcomeNote.getCreationDate());                              </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 117             welcomeNote.setContent(getString(R.string.welcome_note));                                    </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 118             welcomeNote.getTitle();                                                                      </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 119             welcomeNote.save();                                                                          </span>
<span  style=""> 120                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 121             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 122             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 123             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 124             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125         }                                                                                                </span>
<span  style=""> 126                                                                                                          </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 127             if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                    </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 128             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 129             Intent intent = getIntent();                                                                 </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 130             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="-2015835170233470049" onmouseenter="enter('-2015835170233470049');" onmouseout="out('-2015835170233470049');" style=""> 131             if (text != null) {                                                                          </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 132                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 133                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 134                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 135                 note.save();                                                                             </span>
<span class="2114969060981382897" onmouseenter="enter('2114969060981382897');" onmouseout="out('2114969060981382897');" style=""> 136                 onNoteSelected(note.getSimperiumKey());                                                  </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style=""> 137                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 140         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="6719167597284435407" onmouseenter="enter('6719167597284435407');" onmouseout="out('6719167597284435407');" style=""> 141         currentApp.getSimperium().setAuthenticationListener(this);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142     }                                                                                                    </span>
<span  style=""> 143                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 144     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 145         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 146         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 147         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 148         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 149         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 150         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151     }                                                                                                    </span>
<span  style=""> 152                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 154     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 155         super.onResume();                                                                                </span>
<span  style=""> 156                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 157         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 158         mTagsBucket.start();                                                                             </span>
<span  style=""> 159                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 160         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 161         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 162         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span  style=""> 163                                                                                                          </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 164         configureActionBar();                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 165         invalidateOptionsMenu();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 168     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 169     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 170         super.onPause();                                                                                 </span>
<span  style=""> 171                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 172         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 173         mTagsBucket.stop();                                                                              </span>
<span  style=""> 174                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 175         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 176         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 177         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178     }                                                                                                    </span>
<span  style=""> 179                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 180     @Override                                                                                            </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 181     public void onStop() {                                                                               </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 182         super.onStop();                                                                                  </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 183         EasyTracker.getInstance().activityStop(this);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184     }                                                                                                    </span>
<span  style=""> 185                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 186     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 187         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188     }                                                                                                    </span>
<span  style=""> 189                                                                                                          </span>
<span class="6013261542195674292" onmouseenter="enter('6013261542195674292');" onmouseout="out('6013261542195674292');" style=""> 190     // received a change from the network, refresh the list and the editor                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191     @Override                                                                                            </span>
<span class="-7034437363926115197" onmouseenter="enter('-7034437363926115197');" onmouseout="out('-7034437363926115197');" style=""> 192     public void onChange(Bucket&lt;Note&gt; bucket, Bucket.ChangeType type, String key) {                      </span>
<span class="-977575888418756520" onmouseenter="enter('-977575888418756520');" onmouseout="out('-977575888418756520');" style=""> 193         final boolean resetEditor = mCurrentNote != null &amp;&amp; mCurrentNote.getSimperiumKey().equals(key);  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 194         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 195             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 196             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 197                 mNoteListFragment.refreshList();                                                         </span>
<span class="-5628531199863534174" onmouseenter="enter('-5628531199863534174');" onmouseout="out('-5628531199863534174');" style=""> 198                 if (!resetEditor) return;                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 199                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="-4642166483558251114" onmouseenter="enter('-4642166483558251114');" onmouseout="out('-4642166483558251114');" style=""> 200                     mNoteEditorFragment.refreshContent(true);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 203         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204     }                                                                                                    </span>
<span  style=""> 205                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 207     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 208         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 209             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 210             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 211                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 213         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 217     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 218         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 220             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 221                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 223         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="2347432787972635273" onmouseenter="enter('2347432787972635273');" onmouseout="out('2347432787972635273');" style=""> 226     public boolean isLargeScreen() {                                                                     </span>
<span class="972773239432880502" onmouseenter="enter('972773239432880502');" onmouseout="out('972773239432880502');" style=""> 227         return mIsLargeScreen;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228     }                                                                                                    </span>
<span  style=""> 229                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 230     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 231         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232     }                                                                                                    </span>
<span  style=""> 233                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 234     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-5339901244920116717" onmouseenter="enter('-5339901244920116717');" onmouseout="out('-5339901244920116717');" style=""> 235     private NoteListFragment getNoteListFragment() {                                                     </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 236         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 239     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 240     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 241         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 242         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 243         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span  style=""> 244                                                                                                          </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 245         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 246         mSearchView = (SearchView) mSearchMenuItem.getActionView();                                      </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 247         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 248             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 249             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="-5102505715215923170" onmouseenter="enter('-5102505715215923170');" onmouseout="out('-5102505715215923170');" style=""> 250                 if (mSearchMenuItem.isActionViewExpanded())                                              </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 251                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 252                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253             }                                                                                            </span>
<span  style=""> 254                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 256             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 257                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 258                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259             }                                                                                            </span>
<span  style=""> 260                                                                                                          </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 261         });                                                                                              </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 262         mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 263             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 264             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 265                 showDetailPlaceholder();                                                                 </span>
<span class="-154915587499708930" onmouseenter="enter('-154915587499708930');" onmouseout="out('-154915587499708930');" style=""> 266                 getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes_found));           </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 267                 mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 268                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269             }                                                                                            </span>
<span  style=""> 270                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 272             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 273                 // Show all notes again                                                                  </span>
<span class="-8081265612143569974" onmouseenter="enter('-8081265612143569974');" onmouseout="out('-8081265612143569974');" style=""> 274                 getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes));                 </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 275                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 276                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 278         });                                                                                              </span>
<span  style=""> 279                                                                                                          </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 280         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="5922560506909979210" onmouseenter="enter('5922560506909979210');" onmouseout="out('5922560506909979210');" style=""><abbr title=" 281         if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthentication())"> 281         if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAutheðŸ”µ</abbr></span>
<span class="374275964482861021" onmouseenter="enter('374275964482861021');" onmouseout="out('374275964482861021');" style=""> 282             menu.findItem(R.id.menu_sign_in).setVisible(true);                                           </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 283         else                                                                                             </span>
<span class="-6218334239383641042" onmouseenter="enter('-6218334239383641042');" onmouseout="out('-6218334239383641042');" style=""> 284             menu.findItem(R.id.menu_sign_in).setVisible(false);                                          </span>
<span  style=""> 285                                                                                                          </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 286         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 287         if (fm.getBackStackEntryCount() &gt; 0) {                                                           </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 288             mActionBar.setDisplayHomeAsUpEnabled(true);                                                  </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 289             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 290             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="-1368154882628841404" onmouseenter="enter('-1368154882628841404');" onmouseout="out('-1368154882628841404');" style=""> 291             menu.findItem(R.id.menu_preferences).setVisible(false);                                      </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 292             menu.findItem(R.id.menu_share).setVisible(true);                                             </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 293             menu.findItem(R.id.menu_delete).setVisible(true);                                            </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 294             if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                        </span>
<span class="-4987204210711572378" onmouseenter="enter('-4987204210711572378');" onmouseout="out('-4987204210711572378');" style=""> 295                 menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                             </span>
<span class="-6430339787130882014" onmouseenter="enter('-6430339787130882014');" onmouseout="out('-6430339787130882014');" style=""> 296             menu.findItem(R.id.menu_edit_tags).setVisible(false);                                        </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 297             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-4551890064640684144" onmouseenter="enter('-4551890064640684144');" onmouseout="out('-4551890064640684144');" style=""> 298         } else if (isLargeScreenLandscape()) {                                                           </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style=""> 299             mActionBar.setDisplayHomeAsUpEnabled(false);                                                 </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style=""> 300             mActionBar.setHomeButtonEnabled(false);                                                      </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 301             menu.findItem(R.id.menu_create_note).setVisible(true);                                       </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 302             menu.findItem(R.id.menu_search).setVisible(true);                                            </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 303             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 304             if (mCurrentNote != null) {                                                                  </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 305                 menu.findItem(R.id.menu_share).setVisible(true);                                         </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 306                 menu.findItem(R.id.menu_delete).setVisible(true);                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 307             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 308                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 309                 menu.findItem(R.id.menu_delete).setVisible(false);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 311             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 312             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 313         } else {                                                                                         </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style=""> 314             mActionBar.setDisplayHomeAsUpEnabled(false);                                                 </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style=""> 315             mActionBar.setHomeButtonEnabled(false);                                                      </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 316             menu.findItem(R.id.menu_create_note).setVisible(true);                                       </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 317             menu.findItem(R.id.menu_search).setVisible(true);                                            </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 318             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 319             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 320             menu.findItem(R.id.menu_delete).setVisible(false);                                           </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 321             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 322             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323         }                                                                                                </span>
<span  style=""> 324                                                                                                          </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 325         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="-1774160564717497989" onmouseenter="enter('-1774160564717497989');" onmouseout="out('-1774160564717497989');" style=""> 326         if (mActionBar.getSelectedNavigationIndex() == TRASH_SELECTED_ID) {                              </span>
<span class="6591201609177633765" onmouseenter="enter('6591201609177633765');" onmouseout="out('6591201609177633765');" style=""> 327             menu.findItem(R.id.menu_empty_trash).setVisible(true);                                       </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 328             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 329             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 330             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331         }                                                                                                </span>
<span  style=""> 332                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 333         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334     }                                                                                                    </span>
<span  style=""> 335                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 336     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 337     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 338         switch (item.getItemId()) {                                                                      </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 339             case R.id.menu_preferences:                                                                  </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 340                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 340                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returnðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 341                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 342                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 343                 return true;                                                                             </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 344             case R.id.menu_sign_in:                                                                      </span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style=""> 345                 startLoginActivity();                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 346                 return true;                                                                             </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 347             case R.id.menu_edit_tags:                                                                    </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 348                 Intent editTagsIntent = new Intent(this, TagsListActivity.class);                        </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 349                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 350                 return true;                                                                             </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 351             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 352                 getNoteListFragment().addNote();                                                         </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 353                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 354                 return true;                                                                             </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 355             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 356                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 357                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 358                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 359                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 360                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 360                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 361                     mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 363                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 364             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 365                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 366                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 367                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 368                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 369                         mCurrentNote.save();                                                             </span>
<span  style=""> 370                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 371                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="7631983466139979842" onmouseenter="enter('7631983466139979842');" onmouseout="out('7631983466139979842');" style=""> 372                             mUndoBarController.setDeletedNote(mCurrentNote);                             </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 373                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 373                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)ðŸ”µ</abbr></span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 374                             mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 375                         } else {                                                                         </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 376                             mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 378                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379                     }                                                                                    </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 380                     popNoteDetail();                                                                     </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 381                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 382                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 383                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 384                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 387                 return true;                                                                             </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 388             case R.id.menu_empty_trash:                                                                  </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 389                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span  style=""> 390                                                                                                          </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 391                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 392                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 393                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 394                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="2572803396608576243" onmouseenter="enter('2572803396608576243');" onmouseout="out('2572803396608576243');" style=""> 395                         new emptyTrashTask().execute();                                                  </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 396                         mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 398                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 399                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 400                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 401                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 403                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 404                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 405                 return true;                                                                             </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 406             case android.R.id.home:                                                                      </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 407                 popNoteDetail();                                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 408                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 409                 return true;                                                                             </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 410             default:                                                                                     </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 411                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413     }                                                                                                    </span>
<span  style=""> 414                                                                                                          </span>
<span class="-3332442862990059809" onmouseenter="enter('-3332442862990059809');" onmouseout="out('-3332442862990059809');" style=""> 415     protected void popNoteDetail() {                                                                     </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 416         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 417         if (fm.getBackStackEntryCount() &gt; 0) {                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 418             try {                                                                                        </span>
<span class="-2515572781617779215" onmouseenter="enter('-2515572781617779215');" onmouseout="out('-2515572781617779215');" style=""> 419                 fm.popBackStack();                                                                       </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 420             } catch (Exception e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 421                 e.printStackTrace();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424     }                                                                                                    </span>
<span  style=""> 425                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 426     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 427      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 428      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 429      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 430     @Override                                                                                            </span>
<span class="3185319531724473749" onmouseenter="enter('3185319531724473749');" onmouseout="out('3185319531724473749');" style=""> 431     public void onNoteSelected(String noteID) {                                                          </span>
<span  style=""> 432                                                                                                          </span>
<span class="-1015874441942953306" onmouseenter="enter('-1015874441942953306');" onmouseout="out('-1015874441942953306');" style=""> 433         if (mSearchMenuItem != null)                                                                     </span>
<span class="819505998846156880" onmouseenter="enter('819505998846156880');" onmouseout="out('819505998846156880');" style=""> 434             mSearchMenuItem.collapseActionView();                                                        </span>
<span  style=""> 435                                                                                                          </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 436         FragmentManager fm = getFragmentManager();                                                       </span>
<span  style=""> 437                                                                                                          </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 438         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="6747914669116189685" onmouseenter="enter('6747914669116189685');" onmouseout="out('6747914669116189685');" style=""> 439             mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                            </span>
<span class="-678402379932210508" onmouseenter="enter('-678402379932210508');" onmouseout="out('-678402379932210508');" style=""> 440             mActionBar.setDisplayShowTitleEnabled(true);                                                 </span>
<span  style=""> 441                                                                                                          </span>
<span class="4177422036645362119" onmouseenter="enter('4177422036645362119');" onmouseout="out('4177422036645362119');" style=""> 442             // Create editor fragment                                                                    </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 443             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 444             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 445             mNoteEditorFragment = new NoteEditorFragment();                                              </span>
<span class="671696687786460623" onmouseenter="enter('671696687786460623');" onmouseout="out('671696687786460623');" style=""> 446             mNoteEditorFragment.setArguments(arguments);                                                 </span>
<span  style=""> 447                                                                                                          </span>
<span class="707347397485925668" onmouseenter="enter('707347397485925668');" onmouseout="out('707347397485925668');" style=""> 448             // Add editor fragment to stack                                                              </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 449             FragmentTransaction ft = fm.beginTransaction();                                              </span>
<span class="8999366674516025328" onmouseenter="enter('8999366674516025328');" onmouseout="out('8999366674516025328');" style=""><abbr title=" 450             ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade, R.animator.slide_out);"> 450             ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_ðŸ”µ</abbr></span>
<span class="-5521242112925375383" onmouseenter="enter('-5521242112925375383');" onmouseout="out('-5521242112925375383');" style=""> 451             ft.replace(R.id.noteFragmentContainer, mNoteEditorFragment);                                 </span>
<span class="4313436897323820694" onmouseenter="enter('4313436897323820694');" onmouseout="out('4313436897323820694');" style=""> 452             ft.addToBackStack(null);                                                                     </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 453             ft.commitAllowingStateLoss();                                                                </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 454             fm.executePendingTransactions();                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 455         } else {                                                                                         </span>
<span class="21641760400268312" onmouseenter="enter('21641760400268312');" onmouseout="out('21641760400268312');" style=""> 456             mNoteEditorFragment.setNote(noteID);                                                         </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 457             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458         }                                                                                                </span>
<span  style=""> 459                                                                                                          </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 460         mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461     }                                                                                                    </span>
<span  style=""> 462                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463     @Override                                                                                            </span>
<span class="-1395545691431076945" onmouseenter="enter('-1395545691431076945');" onmouseout="out('-1395545691431076945');" style=""> 464     public boolean onNavigationItemSelected(int itemPosition, long itemId) {                             </span>
<span class="47093643897462343" onmouseenter="enter('47093643897462343');" onmouseout="out('47093643897462343');" style=""> 465         // TODO Auto-generated method stub                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 466         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467     }                                                                                                    </span>
<span  style=""> 468                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 469     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 470     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 471         // New account created                                                                           </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 472         mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 473     }                                                                                                    </span>
<span  style=""> 474                                                                                                          </span>
<span class="-5903693285923003038" onmouseenter="enter('-5903693285923003038');" onmouseout="out('-5903693285923003038');" style=""> 475     public void onAuthenticationStatusChange(User.AuthenticationStatus status) {                         </span>
<span class="8755438126624647600" onmouseenter="enter('8755438126624647600');" onmouseout="out('8755438126624647600');" style=""> 476         if (status == User.AuthenticationStatus.AUTHENTICATED) {                                         </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 477             // User signed in                                                                            </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 478             mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);              </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 479             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="-8215310887158780580" onmouseenter="enter('-8215310887158780580');" onmouseout="out('-8215310887158780580');" style=""> 483     public void startLoginActivity() {                                                                   </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 484         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 485         loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                   </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 486         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487     }                                                                                                    </span>
<span  style=""> 488                                                                                                          </span>
<span  style=""> 489                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 490     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 491     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 492         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 493         switch (requestCode) {                                                                           </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 494             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="1129099418518909070" onmouseenter="enter('1129099418518909070');" onmouseout="out('1129099418518909070');" style=""> 495                 if (resultCode == RESULT_CANCELED)                                                       </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 496                     finish();                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 497                 break;                                                                                   </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 498             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 499                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 499                 // nbradbury - refresh note list when user returns from preferences (in case they changedðŸ”µ</abbr></span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 500                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 501                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 502                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 503                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 505                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507     }                                                                                                    </span>
<span  style=""> 508                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 509     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 510     public void onUndo(Parcelable p) {                                                                   </span>
<span class="-7506592443339839677" onmouseenter="enter('-7506592443339839677');" onmouseout="out('-7506592443339839677');" style=""> 511         if (mUndoBarController != null &amp;&amp; mUndoBarController.getDeletedNote() != null) {                 </span>
<span class="9022032525130835248" onmouseenter="enter('9022032525130835248');" onmouseout="out('9022032525130835248');" style=""> 512             Note deletedNote = mUndoBarController.getDeletedNote();                                      </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 513             if (deletedNote != null) {                                                                   </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 514                 deletedNote.setDeleted(false);                                                           </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 515                 deletedNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 516                 deletedNote.save();                                                                      </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 517                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 518                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 519                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 520                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 521                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 524     }                                                                                                    </span>
<span  style=""> 525                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 526     @Override                                                                                            </span>
<span class="8253171317873374357" onmouseenter="enter('8253171317873374357');" onmouseout="out('8253171317873374357');" style=""> 527     public void onBackStackChanged() {                                                                   </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 528         configureActionBar();                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 529         invalidateOptionsMenu();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530     }                                                                                                    </span>
<span  style=""> 531                                                                                                          </span>
<span class="1775102460778606223" onmouseenter="enter('1775102460778606223');" onmouseout="out('1775102460778606223');" style=""> 532     private void configureActionBar() {                                                                  </span>
<span class="3847957777021173779" onmouseenter="enter('3847957777021173779');" onmouseout="out('3847957777021173779');" style=""> 533         if (getFragmentManager().getBackStackEntryCount() &gt; 0) {                                         </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style=""> 534             ActionBar ab = mActionBar;                                                                   </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 535             if (ab != null) {                                                                            </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style=""> 536                 ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 537             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 538         } else {                                                                                         </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style=""> 539             ActionBar ab = mActionBar;                                                                   </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 540             if (ab != null) {                                                                            </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style=""> 541                 ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                    </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style=""> 542                 ab.setDisplayShowTitleEnabled(false);                                                    </span>
<span class="-8363222618538474834" onmouseenter="enter('-8363222618538474834');" onmouseout="out('-8363222618538474834');" style=""> 543                 ab.setTitle(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 544             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 545         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 546     }                                                                                                    </span>
<span  style=""> 547                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 548     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 549     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 550         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 551                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 552         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 553             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 554                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 555                 mIsLandscape = true;                                                                     </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 556                 popNoteDetail();                                                                         </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 557                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 558                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 559                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 560                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 561                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 562                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 563                 if (mCurrentNote != null)                                                                </span>
<span class="-5833406270212187483" onmouseenter="enter('-5833406270212187483');" onmouseout="out('-5833406270212187483');" style=""> 564                     onNoteSelected(mCurrentNote.getSimperiumKey());                                      </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 565                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 566                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 567                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 569                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 570             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 570             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragmentðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 571                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 572                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 573                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 574                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 575                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 576                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 577                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 578                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 579                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 580                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 581                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 582                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 583                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 584                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 585                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 586                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 587             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589     }                                                                                                    </span>
<span  style=""> 590                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 591     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 592         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 593             mCurrentNote = null;                                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 594             invalidateOptionsMenu();                                                                     </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 595             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 597     }                                                                                                    </span>
<span  style=""> 598                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 599     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span  style=""> 600                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 601         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 602         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 603             Simplenote application = (Simplenote) getApplication();                                      </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 604             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 605             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 606             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 607             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 608                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 610             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 611         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612     }                                                                                                    </span>
<span  style=""> 613                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 614 }                                                                                                        </span>





</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3 import android.app.ActionBar;                                                                            </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  15 import android.preference.PreferenceManager;                                                             </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  16 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  17 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  18 import android.view.MenuItem;                                                                            </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  19 import android.widget.ListView;                                                                          </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  20 import android.widget.SearchView;                                                                        </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  21 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  22 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  23 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  24 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  25 import com.google.analytics.tracking.android.EasyTracker;                                                </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  26 import com.google.analytics.tracking.android.Tracker;                                                    </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  27 import com.simperium.Simperium;                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  28 import com.simperium.client.Bucket;                                                                      </span>
<span class="-1800767217515339355" onmouseenter="enter('-1800767217515339355');" onmouseout="out('-1800767217515339355');" style="">  29 import com.simperium.client.LoginActivity;                                                               </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  30 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  31 import com.simperium.client.User;                                                                        </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  32 import java.util.Calendar;                                                                               </span>
<span  style="">  33                                                                                                          </span>
<span  style="">  34                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  35 /**                                                                                                      </span>
<span class="6132790301489405919" onmouseenter="enter('6132790301489405919');" onmouseout="out('6132790301489405919');" style="">  36  * An activity representing a list of Notes.                                                             </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  37  * &lt;p/&gt;                                                                                                  </span>
<span class="-7239280301336382543" onmouseenter="enter('-7239280301336382543');" onmouseout="out('-7239280301336382543');" style="">  38  * The activity makes heavy use of fragments. The list of items is a                                     </span>
<span class="6560745256950109112" onmouseenter="enter('6560745256950109112');" onmouseout="out('6560745256950109112');" style="">  39  * {@link NoteListFragment} and the item details (if present) is a                                       </span>
<span class="1871180496010750358" onmouseenter="enter('1871180496010750358');" onmouseout="out('1871180496010750358');" style="">  40  * {@link NoteEditorFragment}.                                                                           </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  41  * &lt;p/&gt;                                                                                                  </span>
<span class="4745520363053774006" onmouseenter="enter('4745520363053774006');" onmouseout="out('4745520363053774006');" style="">  42  * This activity also implements the required {@link NoteListFragment.Callbacks}                         </span>
<span class="1109849219765913344" onmouseenter="enter('1109849219765913344');" onmouseout="out('1109849219765913344');" style="">  43  * interface to listen for item selections.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  44  */                                                                                                      </span>
<span class="6345554560777811439" onmouseenter="enter('6345554560777811439');" onmouseout="out('6345554560777811439');" style=""><abbr title="  45 public class NotesActivity extends Activity implements NoteListFragment.Callbacks , ActionBar.OnNavigationListener , User.AuthenticationListener , Simperium.OnUserCreatedListener , UndoBarController.UndoListener , FragmentManager.OnBackStackChangedListener , Bucket.Listener&lt;Note&gt; {">  45 public class NotesActivity extends Activity implements NoteListFragment.Callbacks , ActionBar.OnNavigatioðŸ”µ</abbr></span>
<span class="8116785100819994127" onmouseenter="enter('8116785100819994127');" onmouseout="out('8116785100819994127');" style="">  46     private boolean mIsLargeScreen;                                                                      </span>
<span  style="">  47                                                                                                          </span>
<span class="-24985701792273083" onmouseenter="enter('-24985701792273083');" onmouseout="out('-24985701792273083');" style="">  48     private boolean mIsLandscape;                                                                        </span>
<span  style="">  49                                                                                                          </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  50     private UndoBarController mUndoBarController;                                                        </span>
<span  style="">  51                                                                                                          </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  52     private SearchView mSearchView;                                                                      </span>
<span  style="">  53                                                                                                          </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  54     private MenuItem mSearchMenuItem;                                                                    </span>
<span  style="">  55                                                                                                          </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  56     private NoteListFragment mNoteListFragment;                                                          </span>
<span  style="">  57                                                                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  58     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span  style="">  59                                                                                                          </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  60     private Note mCurrentNote;                                                                           </span>
<span  style="">  61                                                                                                          </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  62     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span  style="">  63                                                                                                          </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  64     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span  style="">  65                                                                                                          </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  66     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span  style="">  67                                                                                                          </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  68     private ActionBar mActionBar;                                                                        </span>
<span  style="">  69                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  70     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span  style="">  71                                                                                                          </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  72     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  73                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  74     // Google Analytics tracker                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  75     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  76     private Tracker mTracker;                                                                            </span>
<span  style="">  77                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  78     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  79     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  80         super.onCreate(savedInstanceState);                                                              </span>
<span class="4097965836923357921" onmouseenter="enter('4097965836923357921');" onmouseout="out('4097965836923357921');" style="">  81         Simplenote currentApp = ((Simplenote) (getApplication()));                                       </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  82         mNotesBucket = currentApp.getNotesBucket();                                                      </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  83         mTagsBucket = currentApp.getTagsBucket();                                                        </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style="">  84         setContentView(R.layout.activity_notes);                                                         </span>
<span class="2230417032237929541" onmouseenter="enter('2230417032237929541');" onmouseout="out('2230417032237929541');" style="">  85         EasyTracker.getInstance().activityStart(this);// Add this method.                                </span>
<span  style="">  86                                                                                                          </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="">  87         mTracker = EasyTracker.getTracker();                                                             </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="">  88         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="">  89             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style="">  90             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style="">  91             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style="">  92             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  93         } else {                                                                                         </span>
<span class="-4900089213236808262" onmouseenter="enter('-4900089213236808262');" onmouseout="out('-4900089213236808262');" style=""><abbr title="  94             mNoteListFragment = ((NoteListFragment) (getFragmentManager().findFragmentByTag(TAG_NOTE_LIST)));">  94             mNoteListFragment = ((NoteListFragment) (getFragmentManager().findFragmentByTag(TAG_NOTE_LISTðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95         }                                                                                                </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style="">  96         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-8721219501871150618" onmouseenter="enter('-8721219501871150618');" onmouseout="out('-8721219501871150618');" style=""><abbr title="  97         if ((config.screenLayout &amp; Configuration.SCREENLAYOUT_SIZE_MASK) &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {">  97         if ((config.screenLayout &amp; Configuration.SCREENLAYOUT_SIZE_MASK) &gt;= Configuration.SCREENLAYOUT_SIðŸ”µ</abbr></span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style="">  98             mIsLargeScreen = true;                                                                       </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style="">  99             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="59253763086957638" onmouseenter="enter('59253763086957638');" onmouseout="out('59253763086957638');" style=""><abbr title=" 100                 mNoteEditorFragment = ((NoteEditorFragment) (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)));"> 100                 mNoteEditorFragment = ((NoteEditorFragment) (getFragmentManager().findFragmentByTag(TAG_NðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 101             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 102                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 103                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105         }                                                                                                </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 106         mActionBar = getActionBar();                                                                     </span>
<span class="4174612203985317012" onmouseenter="enter('4174612203985317012');" onmouseout="out('4174612203985317012');" style=""> 107         mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                    </span>
<span class="-5235649379741129929" onmouseenter="enter('-5235649379741129929');" onmouseout="out('-5235649379741129929');" style=""> 108         mActionBar.setDisplayShowTitleEnabled(false);                                                    </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 109         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span class="-8409092042656645425" onmouseenter="enter('-8409092042656645425');" onmouseout="out('-8409092042656645425');" style=""> 110         getFragmentManager().addOnBackStackChangedListener(this);                                        </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 111         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 112             // Create the welcome note                                                                   </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 113             Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 114             welcomeNote.setCreationDate(Calendar.getInstance());                                         </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 115             welcomeNote.setModificationDate(welcomeNote.getCreationDate());                              </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 116             welcomeNote.setContent(getString(R.string.welcome_note));                                    </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 117             welcomeNote.getTitle();                                                                      </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 118             welcomeNote.save();                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 119             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 120             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 121             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 122             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123         }                                                                                                </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 124         if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                        </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 125             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 126             Intent intent = getIntent();                                                                 </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 127             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="-2015835170233470049" onmouseenter="enter('-2015835170233470049');" onmouseout="out('-2015835170233470049');" style=""> 128             if (text != null) {                                                                          </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 129                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 130                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 131                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 132                 note.save();                                                                             </span>
<span class="2114969060981382897" onmouseenter="enter('2114969060981382897');" onmouseout="out('2114969060981382897');" style=""> 133                 onNoteSelected(note.getSimperiumKey());                                                  </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style=""> 134                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 137         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="6719167597284435407" onmouseenter="enter('6719167597284435407');" onmouseout="out('6719167597284435407');" style=""> 138         currentApp.getSimperium().setAuthenticationListener(this);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139     }                                                                                                    </span>
<span  style=""> 140                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 141     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 142         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 143         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 144         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 145         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 146         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 147         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148     }                                                                                                    </span>
<span  style=""> 149                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 150     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 151     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 152         super.onResume();                                                                                </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 153         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 154         mTagsBucket.start();                                                                             </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 155         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 156         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 157         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 158         configureActionBar();                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 159         invalidateOptionsMenu();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160     }                                                                                                    </span>
<span  style=""> 161                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 162     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 163     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 164         super.onPause();                                                                                 </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 165         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 166         mTagsBucket.stop();                                                                              </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 167         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 168         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 169         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170     }                                                                                                    </span>
<span  style=""> 171                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172     @Override                                                                                            </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 173     public void onStop() {                                                                               </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 174         super.onStop();                                                                                  </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 175         EasyTracker.getInstance().activityStop(this);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span  style=""> 177                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 178     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 179         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180     }                                                                                                    </span>
<span  style=""> 181                                                                                                          </span>
<span class="6013261542195674292" onmouseenter="enter('6013261542195674292');" onmouseout="out('6013261542195674292');" style=""> 182     // received a change from the network, refresh the list and the editor                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183     @Override                                                                                            </span>
<span class="-7034437363926115197" onmouseenter="enter('-7034437363926115197');" onmouseout="out('-7034437363926115197');" style=""> 184     public void onChange(Bucket&lt;Note&gt; bucket, Bucket.ChangeType type, String key) {                      </span>
<span class="2025716034513029033" onmouseenter="enter('2025716034513029033');" onmouseout="out('2025716034513029033');" style=""> 185         final boolean resetEditor = (mCurrentNote != null) &amp;&amp; mCurrentNote.getSimperiumKey().equals(key);</span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 186         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 188             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 189                 mNoteListFragment.refreshList();                                                         </span>
<span class="1760056765449806899" onmouseenter="enter('1760056765449806899');" onmouseout="out('1760056765449806899');" style=""> 190                 if (!resetEditor) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 191                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192                 }                                                                                        </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 193                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="-4642166483558251114" onmouseenter="enter('-4642166483558251114');" onmouseout="out('-4642166483558251114');" style=""> 194                     mNoteEditorFragment.refreshContent(true);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 197         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 201     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 202         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 203             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 204             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 205                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 207         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 210     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 211     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 212         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 213             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 214             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 215                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 217         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span  style=""> 219                                                                                                          </span>
<span class="2347432787972635273" onmouseenter="enter('2347432787972635273');" onmouseout="out('2347432787972635273');" style=""> 220     public boolean isLargeScreen() {                                                                     </span>
<span class="972773239432880502" onmouseenter="enter('972773239432880502');" onmouseout="out('972773239432880502');" style=""> 221         return mIsLargeScreen;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span  style=""> 223                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 224     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 225         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226     }                                                                                                    </span>
<span  style=""> 227                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 228     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-5339901244920116717" onmouseenter="enter('-5339901244920116717');" onmouseout="out('-5339901244920116717');" style=""> 229     private NoteListFragment getNoteListFragment() {                                                     </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 230         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231     }                                                                                                    </span>
<span  style=""> 232                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 233     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 234     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 235         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 236         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 237         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 238         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="3272437102001460651" onmouseenter="enter('3272437102001460651');" onmouseout="out('3272437102001460651');" style=""> 239         mSearchView = ((SearchView) (mSearchMenuItem.getActionView()));                                  </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 240         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 241             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 242             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 243                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 244                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 246                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247             }                                                                                            </span>
<span  style=""> 248                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 249             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 250             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 251                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 252                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 254         });                                                                                              </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 255         mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 257             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 258                 showDetailPlaceholder();                                                                 </span>
<span class="-154915587499708930" onmouseenter="enter('-154915587499708930');" onmouseout="out('-154915587499708930');" style=""> 259                 getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes_found));           </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 260                 mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 261                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262             }                                                                                            </span>
<span  style=""> 263                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 265             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 266                 // Show all notes again                                                                  </span>
<span class="-8081265612143569974" onmouseenter="enter('-8081265612143569974');" onmouseout="out('-8081265612143569974');" style=""> 267                 getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes));                 </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 268                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 269                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 271         });                                                                                              </span>
<span class="4097965836923357921" onmouseenter="enter('4097965836923357921');" onmouseout="out('4097965836923357921');" style=""> 272         Simplenote currentApp = ((Simplenote) (getApplication()));                                       </span>
<span class="3069030169919257989" onmouseenter="enter('3069030169919257989');" onmouseout="out('3069030169919257989');" style=""><abbr title=" 273         if ((currentApp.getSimperium().getUser() == null) || currentApp.getSimperium().getUser().needsAuthentication()) {"> 273         if ((currentApp.getSimperium().getUser() == null) || currentApp.getSimperium().getUser().needsAutðŸ”µ</abbr></span>
<span class="374275964482861021" onmouseenter="enter('374275964482861021');" onmouseout="out('374275964482861021');" style=""> 274             menu.findItem(R.id.menu_sign_in).setVisible(true);                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 275         } else {                                                                                         </span>
<span class="-6218334239383641042" onmouseenter="enter('-6218334239383641042');" onmouseout="out('-6218334239383641042');" style=""> 276             menu.findItem(R.id.menu_sign_in).setVisible(false);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277         }                                                                                                </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 278         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 279         if (fm.getBackStackEntryCount() &gt; 0) {                                                           </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 280             mActionBar.setDisplayHomeAsUpEnabled(true);                                                  </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 281             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 282             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="-1368154882628841404" onmouseenter="enter('-1368154882628841404');" onmouseout="out('-1368154882628841404');" style=""> 283             menu.findItem(R.id.menu_preferences).setVisible(false);                                      </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 284             menu.findItem(R.id.menu_share).setVisible(true);                                             </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 285             menu.findItem(R.id.menu_delete).setVisible(true);                                            </span>
<span class="7981805915062927604" onmouseenter="enter('7981805915062927604');" onmouseout="out('7981805915062927604');" style=""> 286             if ((mCurrentNote != null) &amp;&amp; mCurrentNote.isDeleted()) {                                    </span>
<span class="-4987204210711572378" onmouseenter="enter('-4987204210711572378');" onmouseout="out('-4987204210711572378');" style=""> 287                 menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288             }                                                                                            </span>
<span class="-6430339787130882014" onmouseenter="enter('-6430339787130882014');" onmouseout="out('-6430339787130882014');" style=""> 289             menu.findItem(R.id.menu_edit_tags).setVisible(false);                                        </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 290             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-4551890064640684144" onmouseenter="enter('-4551890064640684144');" onmouseout="out('-4551890064640684144');" style=""> 291         } else if (isLargeScreenLandscape()) {                                                           </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style=""> 292             mActionBar.setDisplayHomeAsUpEnabled(false);                                                 </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style=""> 293             mActionBar.setHomeButtonEnabled(false);                                                      </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 294             menu.findItem(R.id.menu_create_note).setVisible(true);                                       </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 295             menu.findItem(R.id.menu_search).setVisible(true);                                            </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 296             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 297             if (mCurrentNote != null) {                                                                  </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 298                 menu.findItem(R.id.menu_share).setVisible(true);                                         </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 299                 menu.findItem(R.id.menu_delete).setVisible(true);                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 300             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 301                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 302                 menu.findItem(R.id.menu_delete).setVisible(false);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 304             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 305             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 306         } else {                                                                                         </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style=""> 307             mActionBar.setDisplayHomeAsUpEnabled(false);                                                 </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style=""> 308             mActionBar.setHomeButtonEnabled(false);                                                      </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 309             menu.findItem(R.id.menu_create_note).setVisible(true);                                       </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 310             menu.findItem(R.id.menu_search).setVisible(true);                                            </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 311             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 312             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 313             menu.findItem(R.id.menu_delete).setVisible(false);                                           </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 314             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 315             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316         }                                                                                                </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 317         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="-1774160564717497989" onmouseenter="enter('-1774160564717497989');" onmouseout="out('-1774160564717497989');" style=""> 318         if (mActionBar.getSelectedNavigationIndex() == TRASH_SELECTED_ID) {                              </span>
<span class="6591201609177633765" onmouseenter="enter('6591201609177633765');" onmouseout="out('6591201609177633765');" style=""> 319             menu.findItem(R.id.menu_empty_trash).setVisible(true);                                       </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 320             menu.findItem(R.id.menu_create_note).setVisible(false);                                      </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 321             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 322             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 324         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span  style=""> 326                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 327     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 328     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 329         switch (item.getItemId()) {                                                                      </span>
<span class="-5055644811283604841" onmouseenter="enter('-5055644811283604841');" onmouseout="out('-5055644811283604841');" style=""> 330             case R.id.menu_preferences :                                                                 </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 331                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 331                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returnðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 332                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 333                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 334                 return true;                                                                             </span>
<span class="-2319704929653943740" onmouseenter="enter('-2319704929653943740');" onmouseout="out('-2319704929653943740');" style=""> 335             case R.id.menu_sign_in :                                                                     </span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style=""> 336                 startLoginActivity();                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 337                 return true;                                                                             </span>
<span class="1042804872057263675" onmouseenter="enter('1042804872057263675');" onmouseout="out('1042804872057263675');" style=""> 338             case R.id.menu_edit_tags :                                                                   </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 339                 Intent editTagsIntent = new Intent(this, TagsListActivity.class);                        </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 340                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 341                 return true;                                                                             </span>
<span class="4873114744139951215" onmouseenter="enter('4873114744139951215');" onmouseout="out('4873114744139951215');" style=""> 342             case R.id.menu_create_note :                                                                 </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 343                 getNoteListFragment().addNote();                                                         </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 344                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 345                 return true;                                                                             </span>
<span class="-4929350896823615772" onmouseenter="enter('-4929350896823615772');" onmouseout="out('-4929350896823615772');" style=""> 346             case R.id.menu_share :                                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 347                 if (mCurrentNote != null) {                                                              </span>
<span class="2351823289576090125" onmouseenter="enter('2351823289576090125');" onmouseout="out('2351823289576090125');" style=""> 348                     Intent shareIntent = new Intent(Intent.ACTION_SEND);                                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 349                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 350                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 351                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 351                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 352                     mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 354                 return true;                                                                             </span>
<span class="4085560905623289311" onmouseenter="enter('4085560905623289311');" onmouseout="out('4085560905623289311');" style=""> 355             case R.id.menu_delete :                                                                      </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 356                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 357                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 358                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 359                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 360                         mCurrentNote.save();                                                             </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 361                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="7631983466139979842" onmouseenter="enter('7631983466139979842');" onmouseout="out('7631983466139979842');" style=""> 362                             mUndoBarController.setDeletedNote(mCurrentNote);                             </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 363                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 363                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)ðŸ”µ</abbr></span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 364                             mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 365                         } else {                                                                         </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 366                             mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 368                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369                     }                                                                                    </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 370                     popNoteDetail();                                                                     </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 371                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 372                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 373                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 374                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 377                 return true;                                                                             </span>
<span class="2574119336327208433" onmouseenter="enter('2574119336327208433');" onmouseout="out('2574119336327208433');" style=""> 378             case R.id.menu_empty_trash :                                                                 </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 379                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 380                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 381                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 382                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 383                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="2572803396608576243" onmouseenter="enter('2572803396608576243');" onmouseout="out('2572803396608576243');" style=""> 384                         new emptyTrashTask().execute();                                                  </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 385                         mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 387                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 388                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 389                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 390                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 392                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 393                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 394                 return true;                                                                             </span>
<span class="-1147335564575759755" onmouseenter="enter('-1147335564575759755');" onmouseout="out('-1147335564575759755');" style=""> 395             case android.R.id.home :                                                                     </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 396                 popNoteDetail();                                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 397                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 398                 return true;                                                                             </span>
<span class="3050734735710613783" onmouseenter="enter('3050734735710613783');" onmouseout="out('3050734735710613783');" style=""> 399             default :                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 400                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402     }                                                                                                    </span>
<span  style=""> 403                                                                                                          </span>
<span class="-3332442862990059809" onmouseenter="enter('-3332442862990059809');" onmouseout="out('-3332442862990059809');" style=""> 404     protected void popNoteDetail() {                                                                     </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 405         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 406         if (fm.getBackStackEntryCount() &gt; 0) {                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 407             try {                                                                                        </span>
<span class="-2515572781617779215" onmouseenter="enter('-2515572781617779215');" onmouseout="out('-2515572781617779215');" style=""> 408                 fm.popBackStack();                                                                       </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 409             } catch (Exception e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 410                 e.printStackTrace();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413     }                                                                                                    </span>
<span  style=""> 414                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 415     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 416      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 417      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 418      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 419     @Override                                                                                            </span>
<span class="3185319531724473749" onmouseenter="enter('3185319531724473749');" onmouseout="out('3185319531724473749');" style=""> 420     public void onNoteSelected(String noteID) {                                                          </span>
<span class="4489961935151968207" onmouseenter="enter('4489961935151968207');" onmouseout="out('4489961935151968207');" style=""> 421         if (mSearchMenuItem != null) {                                                                   </span>
<span class="819505998846156880" onmouseenter="enter('819505998846156880');" onmouseout="out('819505998846156880');" style=""> 422             mSearchMenuItem.collapseActionView();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423         }                                                                                                </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 424         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 425         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="6747914669116189685" onmouseenter="enter('6747914669116189685');" onmouseout="out('6747914669116189685');" style=""> 426             mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                            </span>
<span class="-678402379932210508" onmouseenter="enter('-678402379932210508');" onmouseout="out('-678402379932210508');" style=""> 427             mActionBar.setDisplayShowTitleEnabled(true);                                                 </span>
<span class="4177422036645362119" onmouseenter="enter('4177422036645362119');" onmouseout="out('4177422036645362119');" style=""> 428             // Create editor fragment                                                                    </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 429             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 430             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 431             mNoteEditorFragment = new NoteEditorFragment();                                              </span>
<span class="671696687786460623" onmouseenter="enter('671696687786460623');" onmouseout="out('671696687786460623');" style=""> 432             mNoteEditorFragment.setArguments(arguments);                                                 </span>
<span class="707347397485925668" onmouseenter="enter('707347397485925668');" onmouseout="out('707347397485925668');" style=""> 433             // Add editor fragment to stack                                                              </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 434             FragmentTransaction ft = fm.beginTransaction();                                              </span>
<span class="8999366674516025328" onmouseenter="enter('8999366674516025328');" onmouseout="out('8999366674516025328');" style=""><abbr title=" 435             ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade, R.animator.slide_out);"> 435             ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_ðŸ”µ</abbr></span>
<span class="-5521242112925375383" onmouseenter="enter('-5521242112925375383');" onmouseout="out('-5521242112925375383');" style=""> 436             ft.replace(R.id.noteFragmentContainer, mNoteEditorFragment);                                 </span>
<span class="4313436897323820694" onmouseenter="enter('4313436897323820694');" onmouseout="out('4313436897323820694');" style=""> 437             ft.addToBackStack(null);                                                                     </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 438             ft.commitAllowingStateLoss();                                                                </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 439             fm.executePendingTransactions();                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 440         } else {                                                                                         </span>
<span class="21641760400268312" onmouseenter="enter('21641760400268312');" onmouseout="out('21641760400268312');" style=""> 441             mNoteEditorFragment.setNote(noteID);                                                         </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 442             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443         }                                                                                                </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 444         mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445     }                                                                                                    </span>
<span  style=""> 446                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 447     @Override                                                                                            </span>
<span class="-1395545691431076945" onmouseenter="enter('-1395545691431076945');" onmouseout="out('-1395545691431076945');" style=""> 448     public boolean onNavigationItemSelected(int itemPosition, long itemId) {                             </span>
<span class="47093643897462343" onmouseenter="enter('47093643897462343');" onmouseout="out('47093643897462343');" style=""> 449         // TODO Auto-generated method stub                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 450         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451     }                                                                                                    </span>
<span  style=""> 452                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 453     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 454     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 455         // New account created                                                                           </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 456         mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 457     }                                                                                                    </span>
<span  style=""> 458                                                                                                          </span>
<span class="-5903693285923003038" onmouseenter="enter('-5903693285923003038');" onmouseout="out('-5903693285923003038');" style=""> 459     public void onAuthenticationStatusChange(User.AuthenticationStatus status) {                         </span>
<span class="8755438126624647600" onmouseenter="enter('8755438126624647600');" onmouseout="out('8755438126624647600');" style=""> 460         if (status == User.AuthenticationStatus.AUTHENTICATED) {                                         </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 461             // User signed in                                                                            </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 462             mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);              </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 463             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 464         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465     }                                                                                                    </span>
<span  style=""> 466                                                                                                          </span>
<span class="-8215310887158780580" onmouseenter="enter('-8215310887158780580');" onmouseout="out('-8215310887158780580');" style=""> 467     public void startLoginActivity() {                                                                   </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 468         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 469         loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                   </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 470         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471     }                                                                                                    </span>
<span  style=""> 472                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 473     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 474     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 475         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 476         switch (requestCode) {                                                                           </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 477             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="1129099418518909070" onmouseenter="enter('1129099418518909070');" onmouseout="out('1129099418518909070');" style=""> 478                 if (resultCode == RESULT_CANCELED)                                                       </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 479                     finish();                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 480                 break;                                                                                   </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 481             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 482                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 482                 // nbradbury - refresh note list when user returns from preferences (in case they changedðŸ”µ</abbr></span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 483                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 484                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 485                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 486                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 488                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490     }                                                                                                    </span>
<span  style=""> 491                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 492     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 493     public void onUndo(Parcelable p) {                                                                   </span>
<span class="-7506592443339839677" onmouseenter="enter('-7506592443339839677');" onmouseout="out('-7506592443339839677');" style=""> 494         if (mUndoBarController != null &amp;&amp; mUndoBarController.getDeletedNote() != null) {                 </span>
<span class="9022032525130835248" onmouseenter="enter('9022032525130835248');" onmouseout="out('9022032525130835248');" style=""> 495             Note deletedNote = mUndoBarController.getDeletedNote();                                      </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 496             if (deletedNote != null) {                                                                   </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 497                 deletedNote.setDeleted(false);                                                           </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 498                 deletedNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 499                 deletedNote.save();                                                                      </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 500                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 501                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 502                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 503                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507     }                                                                                                    </span>
<span  style=""> 508                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 509     @Override                                                                                            </span>
<span class="8253171317873374357" onmouseenter="enter('8253171317873374357');" onmouseout="out('8253171317873374357');" style=""> 510     public void onBackStackChanged() {                                                                   </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 511         configureActionBar();                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 512         invalidateOptionsMenu();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513     }                                                                                                    </span>
<span  style=""> 514                                                                                                          </span>
<span class="1775102460778606223" onmouseenter="enter('1775102460778606223');" onmouseout="out('1775102460778606223');" style=""> 515     private void configureActionBar() {                                                                  </span>
<span class="3847957777021173779" onmouseenter="enter('3847957777021173779');" onmouseout="out('3847957777021173779');" style=""> 516         if (getFragmentManager().getBackStackEntryCount() &gt; 0) {                                         </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style=""> 517             ActionBar ab = mActionBar;                                                                   </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 518             if (ab != null) {                                                                            </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style=""> 519                 ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 521         } else {                                                                                         </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style=""> 522             ActionBar ab = mActionBar;                                                                   </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 523             if (ab != null) {                                                                            </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style=""> 524                 ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                    </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style=""> 525                 ab.setDisplayShowTitleEnabled(false);                                                    </span>
<span class="-8363222618538474834" onmouseenter="enter('-8363222618538474834');" onmouseout="out('-8363222618538474834');" style=""> 526                 ab.setTitle(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 527             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 528         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 529     }                                                                                                    </span>
<span  style=""> 530                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 531     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 532     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 533         super.onConfigurationChanged(newConfig);                                                         </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 534         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 535             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 536                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 537                 mIsLandscape = true;                                                                     </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 538                 popNoteDetail();                                                                         </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 539                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 540                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 541                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 542                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 543                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 544                 // Select the current note on a tablet                                                   </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 545                 if (mCurrentNote != null) {                                                              </span>
<span class="-5833406270212187483" onmouseenter="enter('-5833406270212187483');" onmouseout="out('-5833406270212187483');" style=""> 546                     onNoteSelected(mCurrentNote.getSimperiumKey());                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 547                 } else {                                                                                 </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 548                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 549                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 551                 invalidateOptionsMenu();                                                                 </span>
<span class="1053611769689074391" onmouseenter="enter('1053611769689074391');" onmouseout="out('1053611769689074391');" style=""><abbr title=" 552             } else if ((newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) &amp;&amp; (mNoteEditorFragment != null)) {"> 552             } else if ((newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) &amp;&amp; (mNoteEditorFragmðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 553                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 554                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 555                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 556                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 557                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 558                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 559                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 560                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 561                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 562                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 563                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 564                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 565                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 566                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 567                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 568                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 571     }                                                                                                    </span>
<span  style=""> 572                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 573     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 574         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 575             mCurrentNote = null;                                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 576             invalidateOptionsMenu();                                                                     </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 577             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 579     }                                                                                                    </span>
<span  style=""> 580                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 581     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 582         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 583         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="490992353589700684" onmouseenter="enter('490992353589700684');" onmouseout="out('490992353589700684');" style=""> 584             Simplenote application = ((Simplenote) (getApplication()));                                  </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 585             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 586             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 587             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 588             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 589                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 590             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 591             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 592         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594 }                                                                                                        </span>

























</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3  import android.app.ActionBar;                                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5  import android.app.AlertDialog;                                                                                   </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6  import android.app.FragmentManager;                                                                               </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7  import android.app.FragmentTransaction;                                                                           </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9  import android.content.Intent;                                                                                    </span>

<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  10  import android.content.res.Configuration;                                                                         </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  11  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  12  import android.os.Bundle;                                                                                         </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  13  import android.os.Parcelable;                                                                                     </span>

<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  14  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  15  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  16  import android.view.MenuItem;                                                                                     </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  17  import android.widget.ListView;                                                                                   </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  18  import android.widget.SearchView;                                                                                 </span>
<span  style="">  19                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  20  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  21 +import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  22  import com.automattic.simplenote.utils.UndoBarController;                                                         </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  23  import com.google.analytics.tracking.android.EasyTracker;                                                         </span>
<span class="1517634990846085770" onmouseenter="enter('1517634990846085770');" onmouseout="out('1517634990846085770');" style="">  24  import com.google.analytics.tracking.android.GoogleAnalytics;                                                     </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  25  import com.google.analytics.tracking.android.Tracker;                                                             </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  26  import com.simperium.Simperium;                                                                                   </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  27  import com.simperium.client.Bucket;                                                                               </span>
<span class="-1800767217515339355" onmouseenter="enter('-1800767217515339355');" onmouseout="out('-1800767217515339355');" style="">  28  import com.simperium.client.LoginActivity;                                                                        </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  29  import com.simperium.client.Query;                                                                                </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  30  import com.simperium.client.User;                                                                                 </span>
<span  style="">  31                                                                                                                    </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  32  import java.util.Calendar;                                                                                        </span>
<span  style="">  33                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  34  /**                                                                                                               </span>
<span class="6132790301489405919" onmouseenter="enter('6132790301489405919');" onmouseout="out('6132790301489405919');" style="">  35   * An activity representing a list of Notes.                                                                      </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  36   * &lt;p/&gt;                                                                                                           </span>
<span class="-7239280301336382543" onmouseenter="enter('-7239280301336382543');" onmouseout="out('-7239280301336382543');" style="">  37   * The activity makes heavy use of fragments. The list of items is a                                              </span>
<span class="6560745256950109112" onmouseenter="enter('6560745256950109112');" onmouseout="out('6560745256950109112');" style="">  38   * {@link NoteListFragment} and the item details (if present) is a                                                </span>
<span class="1871180496010750358" onmouseenter="enter('1871180496010750358');" onmouseout="out('1871180496010750358');" style="">  39   * {@link NoteEditorFragment}.                                                                                    </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  40   * &lt;p/&gt;                                                                                                           </span>
<span class="4745520363053774006" onmouseenter="enter('4745520363053774006');" onmouseout="out('4745520363053774006');" style="">  41   * This activity also implements the required {@link NoteListFragment.Callbacks}                                  </span>
<span class="1109849219765913344" onmouseenter="enter('1109849219765913344');" onmouseout="out('1109849219765913344');" style="">  42   * interface to listen for item selections.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  43   */                                                                                                               </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  44  public class NotesActivity extends Activity implements                                                            </span>
<span class="-9133912310607008099" onmouseenter="enter('-9133912310607008099');" onmouseout="out('-9133912310607008099');" style="">  45          NoteListFragment.Callbacks, ActionBar.OnNavigationListener,                                               </span>
<span class="1491956424357276708" onmouseenter="enter('1491956424357276708');" onmouseout="out('1491956424357276708');" style="">  46          User.AuthenticationListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,             </span>
<span class="-1258845494005744130" onmouseenter="enter('-1258845494005744130');" onmouseout="out('-1258845494005744130');" style="">  47          FragmentManager.OnBackStackChangedListener, Bucket.Listener&lt;Note&gt; {                                       </span>
<span  style="">  48                                                                                                                    </span>
<span class="-6697409506647223523" onmouseenter="enter('-6697409506647223523');" onmouseout="out('-6697409506647223523');" style="">  49      private boolean mIsLargeScreen, mIsLandscape;                                                                 </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  50      private UndoBarController mUndoBarController;                                                                 </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  51      private SearchView mSearchView;                                                                               </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  52      private MenuItem mSearchMenuItem;                                                                             </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  53      private NoteListFragment mNoteListFragment;                                                                   </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  54      private NoteEditorFragment mNoteEditorFragment;                                                               </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  55      private Note mCurrentNote;                                                                                    </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  56      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +    private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  58      private int TRASH_SELECTED_ID = 1;                                                                            </span>

<span  style="">  59                                                                                                                    </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  60      public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                              </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  61      public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                          </span>
<span  style="">  62                                                                                                                    </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  63      // Google Analytics tracker                                                                                   </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  64      private Tracker mTracker;                                                                                     </span>
<span  style="">  65                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  66      @Override                                                                                                     </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  67      protected void onCreate(Bundle savedInstanceState) {                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  68          super.onCreate(savedInstanceState);                                                                       </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  69          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  70          mNotesBucket = currentApp.getNotesBucket();                                                               </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +        mTagsBucket = currentApp.getTagsBucket();                                                                 </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style="">  72          setContentView(R.layout.activity_notes);                                                                  </span>



<span  style="">  73                                                                                                                    </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="">  74          if (savedInstanceState == null) {                                                                         </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="">  75              mNoteListFragment = new NoteListFragment();                                                           </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style="">  76              FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();                    </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style="">  77              fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);                </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style="">  78              fragmentTransaction.commit();                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  79          } else {                                                                                                  </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style="">  80              mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81          }                                                                                                         </span>
<span  style="">  82                                                                                                                    </span>
<span  style="">  83                                                                                                                    </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style="">  84          Configuration config = getBaseContext().getResources().getConfiguration();                                </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style="">  85          if ((config.screenLayout                                                                                  </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style="">  86                  &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                           </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style="">  87                  &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                                       </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style="">  88              mIsLargeScreen = true;                                                                                </span>
<span  style="">  89                                                                                                                    </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style="">  90              if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                                </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title="  91                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);">  91                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)ðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style="">  92              } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style="">  93                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style="">  94                  addEditorFragment();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96          }                                                                                                         </span>
<span  style="">  97                                                                                                                    </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style="">  98          ActionBar ab = getActionBar();                                                                            </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style="">  99          ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                                     </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style=""> 100          ab.setDisplayShowTitleEnabled(false);                                                                     </span>



<span  style=""> 101                                                                                                                    </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 102          mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                             </span>
<span  style=""> 103                                                                                                                    </span>
<span class="-8409092042656645425" onmouseenter="enter('-8409092042656645425');" onmouseout="out('-8409092042656645425');" style=""> 104          getFragmentManager().addOnBackStackChangedListener(this);                                                 </span>
<span  style=""> 105                                                                                                                    </span>
<span class="-222835269025556576" onmouseenter="enter('-222835269025556576');" onmouseout="out('-222835269025556576');" style=""><abbr title=" 106          if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthentication()) {"> 106          if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthenticationðŸ”µ</abbr></span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style=""> 107              startLoginActivity();                                                                                 </span>
<span class="4028285061480532077" onmouseenter="enter('4028285061480532077');" onmouseout="out('4028285061480532077');" style=""> 108          } else if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                          </span>
















<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 109              // Check share action                                                                                 </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 110              Intent intent = getIntent();                                                                          </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 111              String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                               </span>
<span class="-2015835170233470049" onmouseenter="enter('-2015835170233470049');" onmouseout="out('-2015835170233470049');" style=""> 112              if (text != null) {                                                                                   </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 113                  Note note = mNotesBucket.newObject();                                                             </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 114                  note.setCreationDate(Calendar.getInstance());                                                     </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 115                  note.setContent(text);                                                                            </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 116                  note.save();                                                                                      </span>
<span class="3261444814181063809" onmouseenter="enter('3261444814181063809');" onmouseout="out('3261444814181063809');" style=""> 117                  onNoteSelected(note);                                                                             </span>

<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style=""> 118                  mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120          }                                                                                                         </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 121          currentApp.getSimperium().setOnUserCreatedListener(this);                                                 </span>
<span class="6719167597284435407" onmouseenter="enter('6719167597284435407');" onmouseout="out('6719167597284435407');" style=""> 122          currentApp.getSimperium().setAuthenticationListener(this);                                                </span>
<span  style=""> 123                                                                                                                    </span>
<span class="-8382005479183099103" onmouseenter="enter('-8382005479183099103');" onmouseout="out('-8382005479183099103');" style=""> 124          EasyTracker.getInstance().activityStart(this); // Add this method.                                        </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style=""> 125          mTracker = EasyTracker.getTracker();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126      }                                                                                                             </span>
<span  style=""> 127                                                                                                                    </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 128      private void addEditorFragment() {                                                                            </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 129          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 130          FragmentTransaction ft = fm.beginTransaction();                                                           </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 131          mNoteEditorFragment = new NoteEditorFragment();                                                           </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 132          ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                                 </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 133          ft.commitAllowingStateLoss();                                                                             </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 134          fm.executePendingTransactions();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135      }                                                                                                             </span>
<span  style=""> 136                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 137      @Override                                                                                                     </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 138      protected void onResume() {                                                                                   </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 139          super.onResume();                                                                                         </span>
<span  style=""> 140                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +        mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +        mTagsBucket.start();                                                                                      </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +                                                                                                                  </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 144          mNotesBucket.addOnNetworkChangeListener(this);                                                            </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 145          mNotesBucket.addOnSaveObjectListener(this);                                                               </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 146          mNotesBucket.addOnDeleteObjectListener(this);                                                             </span>
<span  style=""> 147                                                                                                                    </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 148          configureActionBar();                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 149          invalidateOptionsMenu();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150      }                                                                                                             </span>
<span  style=""> 151                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 152      @Override                                                                                                     </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 153      protected void onPause() {                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 154          super.onPause();                                                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +                                                                                                                  </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +        mNotesBucket.stop();                                                                                      </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +        mTagsBucket.stop();                                                                                       </span>
<span  style=""> 158                                                                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 159          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 160          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 161          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162      }                                                                                                             </span>
<span  style=""> 163                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 164      @Override                                                                                                     </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 165      public void onStop() {                                                                                        </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 166          super.onStop();                                                                                           </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 167          EasyTracker.getInstance().activityStop(this);                                                             </span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168      }                                                                                                             </span>
<span  style=""> 169                                                                                                                    </span>
<span class="6013261542195674292" onmouseenter="enter('6013261542195674292');" onmouseout="out('6013261542195674292');" style=""> 170      // received a change from the network, refresh the list and the editor                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171      @Override                                                                                                     </span>
<span class="-7034437363926115197" onmouseenter="enter('-7034437363926115197');" onmouseout="out('-7034437363926115197');" style=""> 172      public void onChange(Bucket&lt;Note&gt; bucket, Bucket.ChangeType type, String key) {                               </span>
<span class="-977575888418756520" onmouseenter="enter('-977575888418756520');" onmouseout="out('-977575888418756520');" style=""> 173          final boolean resetEditor = mCurrentNote != null &amp;&amp; mCurrentNote.getSimperiumKey().equals(key);           </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 174          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 175              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 176              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 177                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-5628531199863534174" onmouseenter="enter('-5628531199863534174');" onmouseout="out('-5628531199863534174');" style=""> 178                  if (!resetEditor) return;                                                                         </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 179                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="8663910938664704007" onmouseenter="enter('8663910938664704007');" onmouseout="out('8663910938664704007');" style=""> 180                      mNoteEditorFragment.refreshContent();                                                         </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 183          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184      }                                                                                                             </span>
<span  style=""> 185                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 186      @Override                                                                                                     </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 187      public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 188          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 190              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 191                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 193          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196      @Override                                                                                                     </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 197      public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 198          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 200              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 201                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 203          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204      }                                                                                                             </span>
<span  style=""> 205                                                                                                                    </span>
<span class="2347432787972635273" onmouseenter="enter('2347432787972635273');" onmouseout="out('2347432787972635273');" style=""> 206      public boolean isLargeScreen() {                                                                              </span>
<span class="972773239432880502" onmouseenter="enter('972773239432880502');" onmouseout="out('972773239432880502');" style=""> 207          return mIsLargeScreen;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208      }                                                                                                             </span>
<span  style=""> 209                                                                                                                    </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 210      public boolean isLargeScreenLandscape() {                                                                     </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 211          return mIsLargeScreen &amp;&amp; mIsLandscape;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212      }                                                                                                             </span>
<span  style=""> 213                                                                                                                    </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 214      // nbradbury 01-Apr-2013                                                                                      </span>
<span class="-5339901244920116717" onmouseenter="enter('-5339901244920116717');" onmouseout="out('-5339901244920116717');" style=""> 215      private NoteListFragment getNoteListFragment() {                                                              </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 216          return mNoteListFragment;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219      @Override                                                                                                     </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 220      public boolean onCreateOptionsMenu(Menu menu) {                                                               </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 221          super.onCreateOptionsMenu(menu);                                                                          </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 222          MenuInflater inflater = getMenuInflater();                                                                </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 223          inflater.inflate(R.menu.notes_list, menu);                                                                </span>
<span  style=""> 224                                                                                                                    </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 225          mSearchMenuItem = menu.findItem(R.id.menu_search);                                                        </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 226          mSearchView = (SearchView) mSearchMenuItem.getActionView();                                               </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 227          mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 228              @Override                                                                                             </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 229              public boolean onQueryTextChange(String newText) {                                                    </span>
<span class="-5102505715215923170" onmouseenter="enter('-5102505715215923170');" onmouseout="out('-5102505715215923170');" style=""> 230                  if (mSearchMenuItem.isActionViewExpanded())                                                       </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 231                      getNoteListFragment().searchNotes(newText);                                                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 232                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233              }                                                                                                     </span>
<span  style=""> 234                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 235              @Override                                                                                             </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 236              public boolean onQueryTextSubmit(String queryText) {                                                  </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 237                  getNoteListFragment().searchNotes(queryText);                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 238                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239              }                                                                                                     </span>
<span  style=""> 240                                                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 241          });                                                                                                       </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 242          mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243              @Override                                                                                             </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 244              public boolean onMenuItemActionExpand(MenuItem menuItem) {                                            </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 245                  showDetailPlaceholder();                                                                          </span>
<span class="-154915587499708930" onmouseenter="enter('-154915587499708930');" onmouseout="out('-154915587499708930');" style=""> 246                  getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes_found));                    </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 247                  mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 248                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249              }                                                                                                     </span>
<span  style=""> 250                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251              @Override                                                                                             </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 252              public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                          </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 253                  // Show all notes again                                                                           </span>
<span class="-8081265612143569974" onmouseenter="enter('-8081265612143569974');" onmouseout="out('-8081265612143569974');" style=""> 254                  getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes));                          </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 255                  getNoteListFragment().clearSearch();                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 256                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 258          });                                                                                                       </span>
<span  style=""> 259                                                                                                                    </span>






<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 260          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 261          if (fm.getBackStackEntryCount() &gt; 0) {                                                                    </span>
<span class="5829390710798074684" onmouseenter="enter('5829390710798074684');" onmouseout="out('5829390710798074684');" style=""> 262              getActionBar().setDisplayHomeAsUpEnabled(true);                                                       </span>

<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 263              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 264              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="-1368154882628841404" onmouseenter="enter('-1368154882628841404');" onmouseout="out('-1368154882628841404');" style=""> 265              menu.findItem(R.id.menu_preferences).setVisible(false);                                               </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 266              menu.findItem(R.id.menu_share).setVisible(true);                                                      </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 267              menu.findItem(R.id.menu_delete).setVisible(true);                                                     </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 268              if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                                 </span>
<span class="-4987204210711572378" onmouseenter="enter('-4987204210711572378');" onmouseout="out('-4987204210711572378');" style=""> 269                  menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                                      </span>
<span class="-6430339787130882014" onmouseenter="enter('-6430339787130882014');" onmouseout="out('-6430339787130882014');" style=""> 270              menu.findItem(R.id.menu_edit_tags).setVisible(false);                                                 </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 271              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-4551890064640684144" onmouseenter="enter('-4551890064640684144');" onmouseout="out('-4551890064640684144');" style=""> 272          } else if (isLargeScreenLandscape()) {                                                                    </span>
<span class="289678094533348718" onmouseenter="enter('289678094533348718');" onmouseout="out('289678094533348718');" style=""> 273              getActionBar().setDisplayHomeAsUpEnabled(false);                                                      </span>
<span class="1853745780062589460" onmouseenter="enter('1853745780062589460');" onmouseout="out('1853745780062589460');" style=""> 274              getActionBar().setHomeButtonEnabled(false);                                                           </span>


<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 275              menu.findItem(R.id.menu_create_note).setVisible(true);                                                </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 276              menu.findItem(R.id.menu_search).setVisible(true);                                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 277              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 278              if (mCurrentNote != null) {                                                                           </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 279                  menu.findItem(R.id.menu_share).setVisible(true);                                                  </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 280                  menu.findItem(R.id.menu_delete).setVisible(true);                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 281              } else {                                                                                              </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 282                  menu.findItem(R.id.menu_share).setVisible(false);                                                 </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 283                  menu.findItem(R.id.menu_delete).setVisible(false);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284              }                                                                                                     </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 285              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 286              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 287          } else {                                                                                                  </span>
<span class="289678094533348718" onmouseenter="enter('289678094533348718');" onmouseout="out('289678094533348718');" style=""> 288              getActionBar().setDisplayHomeAsUpEnabled(false);                                                      </span>
<span class="1853745780062589460" onmouseenter="enter('1853745780062589460');" onmouseout="out('1853745780062589460');" style=""> 289              getActionBar().setHomeButtonEnabled(false);                                                           </span>


<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 290              menu.findItem(R.id.menu_create_note).setVisible(true);                                                </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 291              menu.findItem(R.id.menu_search).setVisible(true);                                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 292              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 293              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 294              menu.findItem(R.id.menu_delete).setVisible(false);                                                    </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 295              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 296              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297          }                                                                                                         </span>
<span  style=""> 298                                                                                                                    </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 299          // Are we looking at the trash? Adjust menu accordingly.                                                  </span>
<span class="-2039655164571663230" onmouseenter="enter('-2039655164571663230');" onmouseout="out('-2039655164571663230');" style=""> 300          if (getActionBar().getSelectedNavigationIndex() == TRASH_SELECTED_ID) {                                   </span>

<span class="6591201609177633765" onmouseenter="enter('6591201609177633765');" onmouseout="out('6591201609177633765');" style=""> 301              menu.findItem(R.id.menu_empty_trash).setVisible(true);                                                </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 302              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 303              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 304              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305          }                                                                                                         </span>
<span  style=""> 306                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 307          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308      }                                                                                                             </span>
<span  style=""> 309                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 310      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 311      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 312          switch (item.getItemId()) {                                                                               </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 313              case R.id.menu_preferences:                                                                           </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 314                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 314                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from prðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 315                  Intent i = new Intent(this, PreferencesActivity.class);                                           </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 316                  startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                         </span>



<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 317                  return true;                                                                                      </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 318              case R.id.menu_edit_tags:                                                                             </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 319                  Intent editTagsIntent = new Intent(this, TagsListActivity.class);                                 </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 320                  startActivity(editTagsIntent);                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 321                  return true;                                                                                      </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 322              case R.id.menu_create_note:                                                                           </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 323                  getNoteListFragment().addNote();                                                                  </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 324                  mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 325                  return true;                                                                                      </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 326              case R.id.menu_share:                                                                                 </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 327                  if (mCurrentNote != null) {                                                                       </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 328                      Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                          </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 329                      shareIntent.setType(&quot;text/plain&quot;);                                                            </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 330                      shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());           </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 331                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 331                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note))ðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 332                      mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 334                  return true;                                                                                      </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 335              case R.id.menu_delete:                                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 336                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 337                      if (mCurrentNote != null) {                                                                   </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 338                          mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                                       </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 339                          mCurrentNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 340                          mCurrentNote.save();                                                                      </span>
<span  style=""> 341                                                                                                                    </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 342                          if (mCurrentNote.isDeleted()) {                                                           </span>
<span class="7631983466139979842" onmouseenter="enter('7631983466139979842');" onmouseout="out('7631983466139979842');" style=""> 343                              mUndoBarController.setDeletedNote(mCurrentNote);                                      </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 344                              mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);        </span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 345                              mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 346                          } else {                                                                                  </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 347                              mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348                          }                                                                                         </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 349                          showDetailPlaceholder();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350                      }                                                                                             </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 351                      popNoteDetail();                                                                              </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 352                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 353                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 354                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 355                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 358                  return true;                                                                                      </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 359              case R.id.menu_empty_trash:                                                                           </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 360                  AlertDialog.Builder alert = new AlertDialog.Builder(this);                                        </span>
<span  style=""> 361                                                                                                                    </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 362                  alert.setTitle(R.string.empty_trash);                                                             </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 363                  alert.setMessage(R.string.confirm_empty_trash);                                                   </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 364                  alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {                     </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 365                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="2572803396608576243" onmouseenter="enter('2572803396608576243');" onmouseout="out('2572803396608576243');" style=""> 366                          new emptyTrashTask().execute();                                                           </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 367                          mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 369                  });                                                                                               </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 370                  alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 371                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 372                          // Do nothing, just closing the dialog                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 374                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 375                  alert.show();                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 376                  return true;                                                                                      </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 377              case android.R.id.home:                                                                               </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 378                  popNoteDetail();                                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 379                  invalidateOptionsMenu();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 380                  return true;                                                                                      </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 381              default:                                                                                              </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 382                  return super.onOptionsItemSelected(item);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384      }                                                                                                             </span>
<span  style=""> 385                                                                                                                    </span>
<span class="-3332442862990059809" onmouseenter="enter('-3332442862990059809');" onmouseout="out('-3332442862990059809');" style=""> 386      protected void popNoteDetail() {                                                                              </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 387          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 388          if (fm.getBackStackEntryCount() &gt; 0) {                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 389              try {                                                                                                 </span>
<span class="-2515572781617779215" onmouseenter="enter('-2515572781617779215');" onmouseout="out('-2515572781617779215');" style=""> 390                  fm.popBackStack();                                                                                </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 391              } catch (Exception e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 392                  e.printStackTrace();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395      }                                                                                                             </span>
<span  style=""> 396                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 397      /**                                                                                                           </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 398       * Callback method from {@link NoteListFragment.Callbacks} indicating that                                    </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 399       * the item with the given ID was selected.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 400       */                                                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 401      @Override                                                                                                     </span>
<span class="8807548683177961586" onmouseenter="enter('8807548683177961586');" onmouseout="out('8807548683177961586');" style=""> 402      public void onNoteSelected(Note note) {                                                                       </span>

<span  style=""> 403                                                                                                                    </span>
<span class="-1015874441942953306" onmouseenter="enter('-1015874441942953306');" onmouseout="out('-1015874441942953306');" style=""> 404          if (mSearchMenuItem != null)                                                                              </span>
<span class="819505998846156880" onmouseenter="enter('819505998846156880');" onmouseout="out('819505998846156880');" style=""> 405              mSearchMenuItem.collapseActionView();                                                                 </span>
<span  style=""> 406                                                                                                                    </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 407          mCurrentNote = note;                                                                                      </span>
<span class="-1999330653259432733" onmouseenter="enter('-1999330653259432733');" onmouseout="out('-1999330653259432733');" style=""> 408          String noteKey = note == null ? &quot;none&quot; : note.getSimperiumKey();                                          </span>
<span  style=""> 409                                                                                                                    </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 410          FragmentManager fm = getFragmentManager();                                                                </span>
<span  style=""> 411                                                                                                                    </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 412          if (!isLargeScreenLandscape()) {                                                                          </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style=""> 413              ActionBar ab = getActionBar();                                                                        </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style=""> 414              ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                             </span>
<span class="1917352750445860285" onmouseenter="enter('1917352750445860285');" onmouseout="out('1917352750445860285');" style=""> 415              ab.setDisplayShowTitleEnabled(true);                                                                  </span>


<span  style=""> 416                                                                                                                    </span>
<span class="4177422036645362119" onmouseenter="enter('4177422036645362119');" onmouseout="out('4177422036645362119');" style=""> 417              // Create editor fragment                                                                             </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 418              Bundle arguments = new Bundle();                                                                      </span>
<span class="1034672341892172757" onmouseenter="enter('1034672341892172757');" onmouseout="out('1034672341892172757');" style=""> 419              arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteKey);                                         </span>

<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 420              mNoteEditorFragment = new NoteEditorFragment();                                                       </span>
<span class="671696687786460623" onmouseenter="enter('671696687786460623');" onmouseout="out('671696687786460623');" style=""> 421              mNoteEditorFragment.setArguments(arguments);                                                          </span>
<span  style=""> 422                                                                                                                    </span>
<span class="707347397485925668" onmouseenter="enter('707347397485925668');" onmouseout="out('707347397485925668');" style=""> 423              // Add editor fragment to stack                                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 424              FragmentTransaction ft = fm.beginTransaction();                                                       </span>
<span class="8999366674516025328" onmouseenter="enter('8999366674516025328');" onmouseout="out('8999366674516025328');" style=""><abbr title=" 425              ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade, R.animator.slide_out);"> 425              ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade,ðŸ”µ</abbr></span>
<span class="-5521242112925375383" onmouseenter="enter('-5521242112925375383');" onmouseout="out('-5521242112925375383');" style=""> 426              ft.replace(R.id.noteFragmentContainer, mNoteEditorFragment);                                          </span>
<span class="4313436897323820694" onmouseenter="enter('4313436897323820694');" onmouseout="out('4313436897323820694');" style=""> 427              ft.addToBackStack(null);                                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 428              ft.commitAllowingStateLoss();                                                                         </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 429              fm.executePendingTransactions();                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 430          } else {                                                                                                  </span>
<span class="1730850319573723356" onmouseenter="enter('1730850319573723356');" onmouseout="out('1730850319573723356');" style=""> 431              mNoteEditorFragment.setNote(note);                                                                    </span>
<span class="2340058370398567170" onmouseenter="enter('2340058370398567170');" onmouseout="out('2340058370398567170');" style=""> 432              getNoteListFragment().setNoteSelected(note);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433          }                                                                                                         </span>
<span  style=""> 434                                                                                                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 435          invalidateOptionsMenu();                                                                                  </span>



<span  style=""> 436                                                                                                                    </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 437          mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438      }                                                                                                             </span>
<span  style=""> 439                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 440      @Override                                                                                                     </span>
<span class="-1395545691431076945" onmouseenter="enter('-1395545691431076945');" onmouseout="out('-1395545691431076945');" style=""> 441      public boolean onNavigationItemSelected(int itemPosition, long itemId) {                                      </span>
<span class="47093643897462343" onmouseenter="enter('47093643897462343');" onmouseout="out('47093643897462343');" style=""> 442          // TODO Auto-generated method stub                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 443          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444      }                                                                                                             </span>
<span  style=""> 445                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 446      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 447      public void onUserCreated(User user) {                                                                        </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 448          // New account created                                                                                    </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 449          mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450      }                                                                                                             </span>
<span  style=""> 451                                                                                                                    </span>
<span class="-5903693285923003038" onmouseenter="enter('-5903693285923003038');" onmouseout="out('-5903693285923003038');" style=""> 452      public void onAuthenticationStatusChange(User.AuthenticationStatus status) {                                  </span>
<span class="-5808161065660108884" onmouseenter="enter('-5808161065660108884');" onmouseout="out('-5808161065660108884');" style=""> 453          if (status == User.AuthenticationStatus.NOT_AUTHENTICATED) {                                              </span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style=""> 454              startLoginActivity();                                                                                 </span>
<span class="-6279693697292452070" onmouseenter="enter('-6279693697292452070');" onmouseout="out('-6279693697292452070');" style=""> 455          } else if (status == User.AuthenticationStatus.AUTHENTICATED) {                                           </span>

<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 456              // User signed in                                                                                     </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 457              mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);                       </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459      }                                                                                                             </span>
<span  style=""> 460                                                                                                                    </span>
<span class="-8215310887158780580" onmouseenter="enter('-8215310887158780580');" onmouseout="out('-8215310887158780580');" style=""> 461      public void startLoginActivity() {                                                                            </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 462          Intent loginIntent = new Intent(this, LoginActivity.class);                                               </span>

<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 463          startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 464      }                                                                                                             </span>
<span  style=""> 465                                                                                                                    </span>
<span  style=""> 466                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 467      @Override                                                                                                     </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 468      protected void onActivityResult(int requestCode, int resultCode, Intent data) {                               </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 469          super.onActivityResult(requestCode, resultCode, data);                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 470          switch (requestCode) {                                                                                    </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 471              case Simperium.SIGNUP_SIGNIN_REQUEST:                                                                 </span>
<span class="1129099418518909070" onmouseenter="enter('1129099418518909070');" onmouseout="out('1129099418518909070');" style=""> 472                  if (resultCode == RESULT_CANCELED)                                                                </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 473                      finish();                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 474                  break;                                                                                            </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 475              case Simplenote.INTENT_PREFERENCES:                                                                   </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 476                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 476                  // nbradbury - refresh note list when user returns from preferences (in case they changed anythingðŸ”µ</abbr></span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 477                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 478                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 479                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 480                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 482                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484      }                                                                                                             </span>
<span  style=""> 485                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 486      @Override                                                                                                     </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 487      public void onUndo(Parcelable p) {                                                                            </span>
<span class="-7506592443339839677" onmouseenter="enter('-7506592443339839677');" onmouseout="out('-7506592443339839677');" style=""> 488          if (mUndoBarController != null &amp;&amp; mUndoBarController.getDeletedNote() != null) {                          </span>
<span class="9022032525130835248" onmouseenter="enter('9022032525130835248');" onmouseout="out('9022032525130835248');" style=""> 489              Note deletedNote = mUndoBarController.getDeletedNote();                                               </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 490              if (deletedNote != null) {                                                                            </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 491                  deletedNote.setDeleted(false);                                                                    </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 492                  deletedNote.setModificationDate(Calendar.getInstance());                                          </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 493                  deletedNote.save();                                                                               </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 494                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 495                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 496                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 497                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 498                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 500          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 501      }                                                                                                             </span>
<span  style=""> 502                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 503      @Override                                                                                                     </span>
<span class="8253171317873374357" onmouseenter="enter('8253171317873374357');" onmouseout="out('8253171317873374357');" style=""> 504      public void onBackStackChanged() {                                                                            </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 505          configureActionBar();                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 506          invalidateOptionsMenu();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507      }                                                                                                             </span>
<span  style=""> 508                                                                                                                    </span>
<span class="1775102460778606223" onmouseenter="enter('1775102460778606223');" onmouseout="out('1775102460778606223');" style=""> 509      private void configureActionBar() {                                                                           </span>
<span class="3847957777021173779" onmouseenter="enter('3847957777021173779');" onmouseout="out('3847957777021173779');" style=""> 510          if (getFragmentManager().getBackStackEntryCount() &gt; 0) {                                                  </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style=""> 511              ActionBar ab = getActionBar();                                                                        </span>

<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 512              if (ab != null) {                                                                                     </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style=""> 513                  ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                         </span>
<span class="1917352750445860285" onmouseenter="enter('1917352750445860285');" onmouseout="out('1917352750445860285');" style=""> 514                  ab.setDisplayShowTitleEnabled(true);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 516          } else {                                                                                                  </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style=""> 517              ActionBar ab = getActionBar();                                                                        </span>

<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 518              if (ab != null) {                                                                                     </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style=""> 519                  ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                             </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style=""> 520                  ab.setDisplayShowTitleEnabled(false);                                                             </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 521              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523      }                                                                                                             </span>
<span  style=""> 524                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 525      @Override                                                                                                     </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 526      public void onConfigurationChanged(Configuration newConfig) {                                                 </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 527          super.onConfigurationChanged(newConfig);                                                                  </span>
<span  style=""> 528                                                                                                                    </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 529          if (mIsLargeScreen) {                                                                                     </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 530              if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                                   </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 531                  // Add the editor fragment                                                                        </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 532                  mIsLandscape = true;                                                                              </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 533                  popNoteDetail();                                                                                  </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 534                  addEditorFragment();                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 535                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 536                      mNoteListFragment.setActivateOnItemClick(true);                                               </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 537                      mNoteListFragment.setDividerVisible(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 538                  }                                                                                                 </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 539                  // Select the current note on a tablet                                                            </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 540                  if (mCurrentNote != null)                                                                         </span>
<span class="-4422152846940997833" onmouseenter="enter('-4422152846940997833');" onmouseout="out('-4422152846940997833');" style=""> 541                      onNoteSelected(mCurrentNote);                                                                 </span>

<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 542                  else {                                                                                            </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 543                      mNoteEditorFragment.setPlaceholderVisible(true);                                              </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 544                      mNoteListFragment.getListView().clearChoices();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 545                  }                                                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 546                  invalidateOptionsMenu();                                                                          </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 547              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 547              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null)ðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 548                  // Remove the editor fragment when rotating back to portrait                                      </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 549                  mIsLandscape = false;                                                                             </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 550                  mCurrentNote = null;                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 551                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 552                      mNoteListFragment.setActivateOnItemClick(false);                                              </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 553                      mNoteListFragment.setDividerVisible(false);                                                   </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 554                      mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                            </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 555                      mNoteListFragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 556                  }                                                                                                 </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 557                  FragmentManager fm = getFragmentManager();                                                        </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 558                  FragmentTransaction ft = fm.beginTransaction();                                                   </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 559                  ft.remove(mNoteEditorFragment);                                                                   </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 560                  mNoteEditorFragment = null;                                                                       </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 561                  ft.commitAllowingStateLoss();                                                                     </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 562                  fm.executePendingTransactions();                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 563                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 564              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 566      }                                                                                                             </span>
<span  style=""> 567                                                                                                                    </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 568      public void showDetailPlaceholder() {                                                                         </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 569          if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                            </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 570              mCurrentNote = null;                                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 571              invalidateOptionsMenu();                                                                              </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 572              mNoteEditorFragment.setPlaceholderVisible(true);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574      }                                                                                                             </span>
<span  style=""> 575                                                                                                                    </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 576      private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                            </span>
<span  style=""> 577                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 578          @Override                                                                                                 </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 579          protected Void doInBackground(Void... voids) {                                                            </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 580              Simplenote application = (Simplenote) getApplication();                                               </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 581              Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                               </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 582              Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                      </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 583              Bucket.ObjectCursor c = query.execute();                                                              </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 584              while (c.moveToNext()) {                                                                              </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 585                  c.getObject().delete();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 587              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589      }                                                                                                             </span>
<span  style=""> 590                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 591  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3  import android.app.ActionBar;                                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5  import android.app.AlertDialog;                                                                                   </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6  import android.app.FragmentManager;                                                                               </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7  import android.app.FragmentTransaction;                                                                           </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 +import android.content.SharedPreferences;                                                                         </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11  import android.content.res.Configuration;                                                                         </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13  import android.os.Bundle;                                                                                         </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14  import android.os.Parcelable;                                                                                     </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  15 +import android.preference.PreferenceManager;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  16  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  17  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  18  import android.view.MenuItem;                                                                                     </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  19  import android.widget.ListView;                                                                                   </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  20  import android.widget.SearchView;                                                                                 </span>
<span  style="">  21                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  22  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  24  import com.automattic.simplenote.utils.UndoBarController;                                                         </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  25  import com.google.analytics.tracking.android.EasyTracker;                                                         </span>
<span class="1517634990846085770" onmouseenter="enter('1517634990846085770');" onmouseout="out('1517634990846085770');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  26 -import com.google.analytics.tracking.android.GoogleAnalytics;                                                     </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  27  import com.google.analytics.tracking.android.Tracker;                                                             </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  28  import com.simperium.Simperium;                                                                                   </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  29  import com.simperium.client.Bucket;                                                                               </span>
<span class="-1800767217515339355" onmouseenter="enter('-1800767217515339355');" onmouseout="out('-1800767217515339355');" style="">  30  import com.simperium.client.LoginActivity;                                                                        </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  31  import com.simperium.client.Query;                                                                                </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  32  import com.simperium.client.User;                                                                                 </span>
<span  style="">  33                                                                                                                    </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  34  import java.util.Calendar;                                                                                        </span>
<span  style="">  35                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  36  /**                                                                                                               </span>
<span class="6132790301489405919" onmouseenter="enter('6132790301489405919');" onmouseout="out('6132790301489405919');" style="">  37   * An activity representing a list of Notes.                                                                      </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  38   * &lt;p/&gt;                                                                                                           </span>
<span class="-7239280301336382543" onmouseenter="enter('-7239280301336382543');" onmouseout="out('-7239280301336382543');" style="">  39   * The activity makes heavy use of fragments. The list of items is a                                              </span>
<span class="6560745256950109112" onmouseenter="enter('6560745256950109112');" onmouseout="out('6560745256950109112');" style="">  40   * {@link NoteListFragment} and the item details (if present) is a                                                </span>
<span class="1871180496010750358" onmouseenter="enter('1871180496010750358');" onmouseout="out('1871180496010750358');" style="">  41   * {@link NoteEditorFragment}.                                                                                    </span>
<span class="4294780129258405519" onmouseenter="enter('4294780129258405519');" onmouseout="out('4294780129258405519');" style="">  42   * &lt;p/&gt;                                                                                                           </span>
<span class="4745520363053774006" onmouseenter="enter('4745520363053774006');" onmouseout="out('4745520363053774006');" style="">  43   * This activity also implements the required {@link NoteListFragment.Callbacks}                                  </span>
<span class="1109849219765913344" onmouseenter="enter('1109849219765913344');" onmouseout="out('1109849219765913344');" style="">  44   * interface to listen for item selections.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  45   */                                                                                                               </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  46  public class NotesActivity extends Activity implements                                                            </span>
<span class="-9133912310607008099" onmouseenter="enter('-9133912310607008099');" onmouseout="out('-9133912310607008099');" style="">  47          NoteListFragment.Callbacks, ActionBar.OnNavigationListener,                                               </span>
<span class="1491956424357276708" onmouseenter="enter('1491956424357276708');" onmouseout="out('1491956424357276708');" style="">  48          User.AuthenticationListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,             </span>
<span class="-1258845494005744130" onmouseenter="enter('-1258845494005744130');" onmouseout="out('-1258845494005744130');" style="">  49          FragmentManager.OnBackStackChangedListener, Bucket.Listener&lt;Note&gt; {                                       </span>
<span  style="">  50                                                                                                                    </span>
<span class="-6697409506647223523" onmouseenter="enter('-6697409506647223523');" onmouseout="out('-6697409506647223523');" style="">  51      private boolean mIsLargeScreen, mIsLandscape;                                                                 </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  52      private UndoBarController mUndoBarController;                                                                 </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  53      private SearchView mSearchView;                                                                               </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  54      private MenuItem mSearchMenuItem;                                                                             </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  55      private NoteListFragment mNoteListFragment;                                                                   </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  56      private NoteEditorFragment mNoteEditorFragment;                                                               </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  57      private Note mCurrentNote;                                                                                    </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  58      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>

<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  59      private int TRASH_SELECTED_ID = 1;                                                                            </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +    private ActionBar mActionBar;                                                                                 </span>
<span  style="">  61                                                                                                                    </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  62      public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                              </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  63      public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                          </span>
<span  style="">  64                                                                                                                    </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  65      // Google Analytics tracker                                                                                   </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  66      private Tracker mTracker;                                                                                     </span>
<span  style="">  67                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  68      @Override                                                                                                     </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  69      protected void onCreate(Bundle savedInstanceState) {                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  70          super.onCreate(savedInstanceState);                                                                       </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  71          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  72          mNotesBucket = currentApp.getNotesBucket();                                                               </span>

<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style="">  73          setContentView(R.layout.activity_notes);                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +                                                                                                                  </span>
<span class="-8382005479183099103" onmouseenter="enter('-8382005479183099103');" onmouseout="out('-8382005479183099103');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  75 +        EasyTracker.getInstance().activityStart(this); // Add this method.                                        </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  76 +        mTracker = EasyTracker.getTracker();                                                                      </span>
<span  style="">  77                                                                                                                    </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="">  78          if (savedInstanceState == null) {                                                                         </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="">  79              mNoteListFragment = new NoteListFragment();                                                           </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style="">  80              FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();                    </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style="">  81              fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);                </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style="">  82              fragmentTransaction.commit();                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  83          } else {                                                                                                  </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style="">  84              mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85          }                                                                                                         </span>
<span  style="">  86                                                                                                                    </span>
<span  style="">  87                                                                                                                    </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style="">  88          Configuration config = getBaseContext().getResources().getConfiguration();                                </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style="">  89          if ((config.screenLayout                                                                                  </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style="">  90                  &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                           </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style="">  91                  &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                                       </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style="">  92              mIsLargeScreen = true;                                                                                </span>
<span  style="">  93                                                                                                                    </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style="">  94              if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                                </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title="  95                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);">  95                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)ðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style="">  96              } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style="">  97                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style="">  98                  addEditorFragment();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100          }                                                                                                         </span>
<span  style=""> 101                                                                                                                    </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 102 -        ActionBar ab = getActionBar();                                                                            </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -        ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                                     </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -        ab.setDisplayShowTitleEnabled(false);                                                                     </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +        mActionBar = getActionBar();                                                                              </span>
<span class="4174612203985317012" onmouseenter="enter('4174612203985317012');" onmouseout="out('4174612203985317012');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +        mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                             </span>
<span class="-5235649379741129929" onmouseenter="enter('-5235649379741129929');" onmouseout="out('-5235649379741129929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +        mActionBar.setDisplayShowTitleEnabled(false);                                                             </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 109          mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                             </span>
<span  style=""> 110                                                                                                                    </span>
<span class="-8409092042656645425" onmouseenter="enter('-8409092042656645425');" onmouseout="out('-8409092042656645425');" style=""> 111          getFragmentManager().addOnBackStackChangedListener(this);                                                 </span>
<span  style=""> 112                                                                                                                    </span>
<span class="-222835269025556576" onmouseenter="enter('-222835269025556576');" onmouseout="out('-222835269025556576');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 113 -        if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthentication()) {"> 113 -        if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthenticationðŸ”µ</abbr></span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 114 -            startLoginActivity();                                                                                 </span>
<span class="4028285061480532077" onmouseenter="enter('4028285061480532077');" onmouseout="out('4028285061480532077');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 115 -        } else if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +        if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                                     </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +            // Create the welcome note                                                                            </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +            Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                         </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +            welcomeNote.setCreationDate(Calendar.getInstance());                                                  </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +            welcomeNote.setModificationDate(welcomeNote.getCreationDate());                                       </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +            welcomeNote.setContent(getString(R.string.welcome_note));                                             </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +            welcomeNote.getTitle();                                                                               </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +            welcomeNote.save();                                                                                   </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +                                                                                                                  </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);                  </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +            SharedPreferences.Editor editor = preferences.edit();                                                 </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +            editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                                </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +            editor.commit();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +                                                                                                                  </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +            if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                             </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 132              // Check share action                                                                                 </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 133              Intent intent = getIntent();                                                                          </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 134              String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                               </span>
<span class="-2015835170233470049" onmouseenter="enter('-2015835170233470049');" onmouseout="out('-2015835170233470049');" style=""> 135              if (text != null) {                                                                                   </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 136                  Note note = mNotesBucket.newObject();                                                             </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 137                  note.setCreationDate(Calendar.getInstance());                                                     </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 138                  note.setContent(text);                                                                            </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 139                  note.save();                                                                                      </span>
<span class="3261444814181063809" onmouseenter="enter('3261444814181063809');" onmouseout="out('3261444814181063809');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -                onNoteSelected(note);                                                                             </span>
<span class="2114969060981382897" onmouseenter="enter('2114969060981382897');" onmouseout="out('2114969060981382897');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +                onNoteSelected(note.getSimperiumKey());                                                           </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style=""> 142                  mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144          }                                                                                                         </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 145          currentApp.getSimperium().setOnUserCreatedListener(this);                                                 </span>
<span class="6719167597284435407" onmouseenter="enter('6719167597284435407');" onmouseout="out('6719167597284435407');" style=""> 146          currentApp.getSimperium().setAuthenticationListener(this);                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -                                                                                                                  </span>
<span class="-8382005479183099103" onmouseenter="enter('-8382005479183099103');" onmouseout="out('-8382005479183099103');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -        EasyTracker.getInstance().activityStart(this); // Add this method.                                        </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -        mTracker = EasyTracker.getTracker();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150      }                                                                                                             </span>
<span  style=""> 151                                                                                                                    </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 152      private void addEditorFragment() {                                                                            </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 153          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 154          FragmentTransaction ft = fm.beginTransaction();                                                           </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 155          mNoteEditorFragment = new NoteEditorFragment();                                                           </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 156          ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                                 </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 157          ft.commitAllowingStateLoss();                                                                             </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 158          fm.executePendingTransactions();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159      }                                                                                                             </span>
<span  style=""> 160                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161      @Override                                                                                                     </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 162      protected void onResume() {                                                                                   </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 163          super.onResume();                                                                                         </span>
<span  style=""> 164                                                                                                                    </span>



<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 165          mNotesBucket.addOnNetworkChangeListener(this);                                                            </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 166          mNotesBucket.addOnSaveObjectListener(this);                                                               </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 167          mNotesBucket.addOnDeleteObjectListener(this);                                                             </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 169          configureActionBar();                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 170          invalidateOptionsMenu();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span  style=""> 172                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 173      @Override                                                                                                     </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 174      protected void onPause() {                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 175          super.onPause();                                                                                          </span>



<span  style=""> 176                                                                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 177          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 178          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 179          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180      }                                                                                                             </span>
<span  style=""> 181                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182      @Override                                                                                                     </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 183      public void onStop() {                                                                                        </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 184          super.onStop();                                                                                           </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 185          EasyTracker.getInstance().activityStop(this);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +                                                                                                                  </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +    public void setCurrentNote(Note note) {                                                                       </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +        mCurrentNote = note;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190      }                                                                                                             </span>
<span  style=""> 191                                                                                                                    </span>
<span class="6013261542195674292" onmouseenter="enter('6013261542195674292');" onmouseout="out('6013261542195674292');" style=""> 192      // received a change from the network, refresh the list and the editor                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 193      @Override                                                                                                     </span>
<span class="-7034437363926115197" onmouseenter="enter('-7034437363926115197');" onmouseout="out('-7034437363926115197');" style=""> 194      public void onChange(Bucket&lt;Note&gt; bucket, Bucket.ChangeType type, String key) {                               </span>
<span class="-977575888418756520" onmouseenter="enter('-977575888418756520');" onmouseout="out('-977575888418756520');" style=""> 195          final boolean resetEditor = mCurrentNote != null &amp;&amp; mCurrentNote.getSimperiumKey().equals(key);           </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 196          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 197              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 198              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 199                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-5628531199863534174" onmouseenter="enter('-5628531199863534174');" onmouseout="out('-5628531199863534174');" style=""> 200                  if (!resetEditor) return;                                                                         </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 201                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="8663910938664704007" onmouseenter="enter('8663910938664704007');" onmouseout="out('8663910938664704007');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -                    mNoteEditorFragment.refreshContent();                                                         </span>
<span class="-4642166483558251114" onmouseenter="enter('-4642166483558251114');" onmouseout="out('-4642166483558251114');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +                    mNoteEditorFragment.refreshContent(true);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 206          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207      }                                                                                                             </span>
<span  style=""> 208                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 209      @Override                                                                                                     </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 210      public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 211          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 212              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 213              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 214                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 216          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219      @Override                                                                                                     </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 220      public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 221          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 223              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 224                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 226          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227      }                                                                                                             </span>
<span  style=""> 228                                                                                                                    </span>
<span class="2347432787972635273" onmouseenter="enter('2347432787972635273');" onmouseout="out('2347432787972635273');" style=""> 229      public boolean isLargeScreen() {                                                                              </span>
<span class="972773239432880502" onmouseenter="enter('972773239432880502');" onmouseout="out('972773239432880502');" style=""> 230          return mIsLargeScreen;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231      }                                                                                                             </span>
<span  style=""> 232                                                                                                                    </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 233      public boolean isLargeScreenLandscape() {                                                                     </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 234          return mIsLargeScreen &amp;&amp; mIsLandscape;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235      }                                                                                                             </span>
<span  style=""> 236                                                                                                                    </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 237      // nbradbury 01-Apr-2013                                                                                      </span>
<span class="-5339901244920116717" onmouseenter="enter('-5339901244920116717');" onmouseout="out('-5339901244920116717');" style=""> 238      private NoteListFragment getNoteListFragment() {                                                              </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 239          return mNoteListFragment;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span  style=""> 241                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242      @Override                                                                                                     </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 243      public boolean onCreateOptionsMenu(Menu menu) {                                                               </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 244          super.onCreateOptionsMenu(menu);                                                                          </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 245          MenuInflater inflater = getMenuInflater();                                                                </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 246          inflater.inflate(R.menu.notes_list, menu);                                                                </span>
<span  style=""> 247                                                                                                                    </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 248          mSearchMenuItem = menu.findItem(R.id.menu_search);                                                        </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 249          mSearchView = (SearchView) mSearchMenuItem.getActionView();                                               </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 250          mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251              @Override                                                                                             </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 252              public boolean onQueryTextChange(String newText) {                                                    </span>
<span class="-5102505715215923170" onmouseenter="enter('-5102505715215923170');" onmouseout="out('-5102505715215923170');" style=""> 253                  if (mSearchMenuItem.isActionViewExpanded())                                                       </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 254                      getNoteListFragment().searchNotes(newText);                                                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 255                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256              }                                                                                                     </span>
<span  style=""> 257                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258              @Override                                                                                             </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 259              public boolean onQueryTextSubmit(String queryText) {                                                  </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 260                  getNoteListFragment().searchNotes(queryText);                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 261                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262              }                                                                                                     </span>
<span  style=""> 263                                                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 264          });                                                                                                       </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 265          mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 266              @Override                                                                                             </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 267              public boolean onMenuItemActionExpand(MenuItem menuItem) {                                            </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 268                  showDetailPlaceholder();                                                                          </span>
<span class="-154915587499708930" onmouseenter="enter('-154915587499708930');" onmouseout="out('-154915587499708930');" style=""> 269                  getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes_found));                    </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 270                  mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 271                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272              }                                                                                                     </span>
<span  style=""> 273                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 274              @Override                                                                                             </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 275              public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                          </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 276                  // Show all notes again                                                                           </span>
<span class="-8081265612143569974" onmouseenter="enter('-8081265612143569974');" onmouseout="out('-8081265612143569974');" style=""> 277                  getNoteListFragment().setEmptyListMessage(getString(R.string.no_notes));                          </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 278                  getNoteListFragment().clearSearch();                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 279                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 281          });                                                                                                       </span>
<span  style=""> 282                                                                                                                    </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +        Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="5922560506909979210" onmouseenter="enter('5922560506909979210');" onmouseout="out('5922560506909979210');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 284 +        if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthentication())"> 284 +        if (currentApp.getSimperium().getUser() == null || currentApp.getSimperium().getUser().needsAuthenticationðŸ”µ</abbr></span>
<span class="374275964482861021" onmouseenter="enter('374275964482861021');" onmouseout="out('374275964482861021');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +            menu.findItem(R.id.menu_sign_in).setVisible(true);                                                    </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +        else                                                                                                      </span>
<span class="-6218334239383641042" onmouseenter="enter('-6218334239383641042');" onmouseout="out('-6218334239383641042');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +            menu.findItem(R.id.menu_sign_in).setVisible(false);                                                   </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +                                                                                                                  </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 289          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 290          if (fm.getBackStackEntryCount() &gt; 0) {                                                                    </span>
<span class="5829390710798074684" onmouseenter="enter('5829390710798074684');" onmouseout="out('5829390710798074684');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 291 -            getActionBar().setDisplayHomeAsUpEnabled(true);                                                       </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +            mActionBar.setDisplayHomeAsUpEnabled(true);                                                           </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 293              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 294              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="-1368154882628841404" onmouseenter="enter('-1368154882628841404');" onmouseout="out('-1368154882628841404');" style=""> 295              menu.findItem(R.id.menu_preferences).setVisible(false);                                               </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 296              menu.findItem(R.id.menu_share).setVisible(true);                                                      </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 297              menu.findItem(R.id.menu_delete).setVisible(true);                                                     </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 298              if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                                 </span>
<span class="-4987204210711572378" onmouseenter="enter('-4987204210711572378');" onmouseout="out('-4987204210711572378');" style=""> 299                  menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                                      </span>
<span class="-6430339787130882014" onmouseenter="enter('-6430339787130882014');" onmouseout="out('-6430339787130882014');" style=""> 300              menu.findItem(R.id.menu_edit_tags).setVisible(false);                                                 </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 301              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-4551890064640684144" onmouseenter="enter('-4551890064640684144');" onmouseout="out('-4551890064640684144');" style=""> 302          } else if (isLargeScreenLandscape()) {                                                                    </span>
<span class="289678094533348718" onmouseenter="enter('289678094533348718');" onmouseout="out('289678094533348718');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 303 -            getActionBar().setDisplayHomeAsUpEnabled(false);                                                      </span>
<span class="1853745780062589460" onmouseenter="enter('1853745780062589460');" onmouseout="out('1853745780062589460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 304 -            getActionBar().setHomeButtonEnabled(false);                                                           </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +            mActionBar.setDisplayHomeAsUpEnabled(false);                                                          </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +            mActionBar.setHomeButtonEnabled(false);                                                               </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 307              menu.findItem(R.id.menu_create_note).setVisible(true);                                                </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 308              menu.findItem(R.id.menu_search).setVisible(true);                                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 309              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 310              if (mCurrentNote != null) {                                                                           </span>
<span class="-3663884463500741635" onmouseenter="enter('-3663884463500741635');" onmouseout="out('-3663884463500741635');" style=""> 311                  menu.findItem(R.id.menu_share).setVisible(true);                                                  </span>
<span class="4007689443259620324" onmouseenter="enter('4007689443259620324');" onmouseout="out('4007689443259620324');" style=""> 312                  menu.findItem(R.id.menu_delete).setVisible(true);                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 313              } else {                                                                                              </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 314                  menu.findItem(R.id.menu_share).setVisible(false);                                                 </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 315                  menu.findItem(R.id.menu_delete).setVisible(false);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316              }                                                                                                     </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 317              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 318              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 319          } else {                                                                                                  </span>
<span class="289678094533348718" onmouseenter="enter('289678094533348718');" onmouseout="out('289678094533348718');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 320 -            getActionBar().setDisplayHomeAsUpEnabled(false);                                                      </span>
<span class="1853745780062589460" onmouseenter="enter('1853745780062589460');" onmouseout="out('1853745780062589460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 321 -            getActionBar().setHomeButtonEnabled(false);                                                           </span>
<span class="-7747363301763677669" onmouseenter="enter('-7747363301763677669');" onmouseout="out('-7747363301763677669');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +            mActionBar.setDisplayHomeAsUpEnabled(false);                                                          </span>
<span class="-3875378784747587407" onmouseenter="enter('-3875378784747587407');" onmouseout="out('-3875378784747587407');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 323 +            mActionBar.setHomeButtonEnabled(false);                                                               </span>
<span class="7071562021909339207" onmouseenter="enter('7071562021909339207');" onmouseout="out('7071562021909339207');" style=""> 324              menu.findItem(R.id.menu_create_note).setVisible(true);                                                </span>
<span class="-1637225139766971644" onmouseenter="enter('-1637225139766971644');" onmouseout="out('-1637225139766971644');" style=""> 325              menu.findItem(R.id.menu_search).setVisible(true);                                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 326              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 327              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-3252391544455802340" onmouseenter="enter('-3252391544455802340');" onmouseout="out('-3252391544455802340');" style=""> 328              menu.findItem(R.id.menu_delete).setVisible(false);                                                    </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 329              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 330              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331          }                                                                                                         </span>
<span  style=""> 332                                                                                                                    </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 333          // Are we looking at the trash? Adjust menu accordingly.                                                  </span>
<span class="-2039655164571663230" onmouseenter="enter('-2039655164571663230');" onmouseout="out('-2039655164571663230');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 334 -        if (getActionBar().getSelectedNavigationIndex() == TRASH_SELECTED_ID) {                                   </span>
<span class="-1774160564717497989" onmouseenter="enter('-1774160564717497989');" onmouseout="out('-1774160564717497989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 335 +        if (mActionBar.getSelectedNavigationIndex() == TRASH_SELECTED_ID) {                                       </span>
<span class="6591201609177633765" onmouseenter="enter('6591201609177633765');" onmouseout="out('6591201609177633765');" style=""> 336              menu.findItem(R.id.menu_empty_trash).setVisible(true);                                                </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 337              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 338              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 339              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340          }                                                                                                         </span>
<span  style=""> 341                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 342          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343      }                                                                                                             </span>
<span  style=""> 344                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 345      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 346      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 347          switch (item.getItemId()) {                                                                               </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 348              case R.id.menu_preferences:                                                                           </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 349                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 349                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from prðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 350                  Intent i = new Intent(this, PreferencesActivity.class);                                           </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 351                  startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 352 +                return true;                                                                                      </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 353 +            case R.id.menu_sign_in:                                                                               </span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 354 +                startLoginActivity();                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 355                  return true;                                                                                      </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 356              case R.id.menu_edit_tags:                                                                             </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 357                  Intent editTagsIntent = new Intent(this, TagsListActivity.class);                                 </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 358                  startActivity(editTagsIntent);                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 359                  return true;                                                                                      </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 360              case R.id.menu_create_note:                                                                           </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 361                  getNoteListFragment().addNote();                                                                  </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 362                  mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 363                  return true;                                                                                      </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 364              case R.id.menu_share:                                                                                 </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 365                  if (mCurrentNote != null) {                                                                       </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 366                      Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                          </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 367                      shareIntent.setType(&quot;text/plain&quot;);                                                            </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 368                      shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());           </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 369                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 369                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note))ðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 370                      mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 372                  return true;                                                                                      </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 373              case R.id.menu_delete:                                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 374                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 375                      if (mCurrentNote != null) {                                                                   </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 376                          mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                                       </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 377                          mCurrentNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 378                          mCurrentNote.save();                                                                      </span>
<span  style=""> 379                                                                                                                    </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 380                          if (mCurrentNote.isDeleted()) {                                                           </span>
<span class="7631983466139979842" onmouseenter="enter('7631983466139979842');" onmouseout="out('7631983466139979842');" style=""> 381                              mUndoBarController.setDeletedNote(mCurrentNote);                                      </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 382                              mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);        </span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 383                              mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 384                          } else {                                                                                  </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 385                              mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386                          }                                                                                         </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 387                          showDetailPlaceholder();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388                      }                                                                                             </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 389                      popNoteDetail();                                                                              </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 390                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 391                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 392                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 393                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 396                  return true;                                                                                      </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 397              case R.id.menu_empty_trash:                                                                           </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 398                  AlertDialog.Builder alert = new AlertDialog.Builder(this);                                        </span>
<span  style=""> 399                                                                                                                    </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 400                  alert.setTitle(R.string.empty_trash);                                                             </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 401                  alert.setMessage(R.string.confirm_empty_trash);                                                   </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 402                  alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {                     </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 403                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="2572803396608576243" onmouseenter="enter('2572803396608576243');" onmouseout="out('2572803396608576243');" style=""> 404                          new emptyTrashTask().execute();                                                           </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 405                          mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 407                  });                                                                                               </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 408                  alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 409                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 410                          // Do nothing, just closing the dialog                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 412                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 413                  alert.show();                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 414                  return true;                                                                                      </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 415              case android.R.id.home:                                                                               </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 416                  popNoteDetail();                                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 417                  invalidateOptionsMenu();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 418                  return true;                                                                                      </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 419              default:                                                                                              </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 420                  return super.onOptionsItemSelected(item);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422      }                                                                                                             </span>
<span  style=""> 423                                                                                                                    </span>
<span class="-3332442862990059809" onmouseenter="enter('-3332442862990059809');" onmouseout="out('-3332442862990059809');" style=""> 424      protected void popNoteDetail() {                                                                              </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 425          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="3041644994968523685" onmouseenter="enter('3041644994968523685');" onmouseout="out('3041644994968523685');" style=""> 426          if (fm.getBackStackEntryCount() &gt; 0) {                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 427              try {                                                                                                 </span>
<span class="-2515572781617779215" onmouseenter="enter('-2515572781617779215');" onmouseout="out('-2515572781617779215');" style=""> 428                  fm.popBackStack();                                                                                </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 429              } catch (Exception e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 430                  e.printStackTrace();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433      }                                                                                                             </span>
<span  style=""> 434                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 435      /**                                                                                                           </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 436       * Callback method from {@link NoteListFragment.Callbacks} indicating that                                    </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 437       * the item with the given ID was selected.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 438       */                                                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 439      @Override                                                                                                     </span>
<span class="8807548683177961586" onmouseenter="enter('8807548683177961586');" onmouseout="out('8807548683177961586');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 440 -    public void onNoteSelected(Note note) {                                                                       </span>
<span class="3185319531724473749" onmouseenter="enter('3185319531724473749');" onmouseout="out('3185319531724473749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 441 +    public void onNoteSelected(String noteID) {                                                                   </span>
<span  style=""> 442                                                                                                                    </span>
<span class="-1015874441942953306" onmouseenter="enter('-1015874441942953306');" onmouseout="out('-1015874441942953306');" style=""> 443          if (mSearchMenuItem != null)                                                                              </span>
<span class="819505998846156880" onmouseenter="enter('819505998846156880');" onmouseout="out('819505998846156880');" style=""> 444              mSearchMenuItem.collapseActionView();                                                                 </span>
<span  style=""> 445                                                                                                                    </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 446 -        mCurrentNote = note;                                                                                      </span>
<span class="-1999330653259432733" onmouseenter="enter('-1999330653259432733');" onmouseout="out('-1999330653259432733');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 447 -        String noteKey = note == null ? &quot;none&quot; : note.getSimperiumKey();                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 448 -                                                                                                                  </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 449          FragmentManager fm = getFragmentManager();                                                                </span>
<span  style=""> 450                                                                                                                    </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 451          if (!isLargeScreenLandscape()) {                                                                          </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 452 -            ActionBar ab = getActionBar();                                                                        </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 453 -            ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                             </span>
<span class="1917352750445860285" onmouseenter="enter('1917352750445860285');" onmouseout="out('1917352750445860285');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 454 -            ab.setDisplayShowTitleEnabled(true);                                                                  </span>
<span class="6747914669116189685" onmouseenter="enter('6747914669116189685');" onmouseout="out('6747914669116189685');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 455 +            mActionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                     </span>
<span class="-678402379932210508" onmouseenter="enter('-678402379932210508');" onmouseout="out('-678402379932210508');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 456 +            mActionBar.setDisplayShowTitleEnabled(true);                                                          </span>
<span  style=""> 457                                                                                                                    </span>
<span class="4177422036645362119" onmouseenter="enter('4177422036645362119');" onmouseout="out('4177422036645362119');" style=""> 458              // Create editor fragment                                                                             </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 459              Bundle arguments = new Bundle();                                                                      </span>
<span class="1034672341892172757" onmouseenter="enter('1034672341892172757');" onmouseout="out('1034672341892172757');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 460 -            arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteKey);                                         </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 461 +            arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                          </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 462              mNoteEditorFragment = new NoteEditorFragment();                                                       </span>
<span class="671696687786460623" onmouseenter="enter('671696687786460623');" onmouseout="out('671696687786460623');" style=""> 463              mNoteEditorFragment.setArguments(arguments);                                                          </span>
<span  style=""> 464                                                                                                                    </span>
<span class="707347397485925668" onmouseenter="enter('707347397485925668');" onmouseout="out('707347397485925668');" style=""> 465              // Add editor fragment to stack                                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 466              FragmentTransaction ft = fm.beginTransaction();                                                       </span>
<span class="8999366674516025328" onmouseenter="enter('8999366674516025328');" onmouseout="out('8999366674516025328');" style=""><abbr title=" 467              ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade, R.animator.slide_out);"> 467              ft.setCustomAnimations(R.animator.slide_in, R.animator.zoom_in_and_fade, R.animator.zoom_out_and_fade,ðŸ”µ</abbr></span>
<span class="-5521242112925375383" onmouseenter="enter('-5521242112925375383');" onmouseout="out('-5521242112925375383');" style=""> 468              ft.replace(R.id.noteFragmentContainer, mNoteEditorFragment);                                          </span>
<span class="4313436897323820694" onmouseenter="enter('4313436897323820694');" onmouseout="out('4313436897323820694');" style=""> 469              ft.addToBackStack(null);                                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 470              ft.commitAllowingStateLoss();                                                                         </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 471              fm.executePendingTransactions();                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 472          } else {                                                                                                  </span>
<span class="1730850319573723356" onmouseenter="enter('1730850319573723356');" onmouseout="out('1730850319573723356');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 473 -            mNoteEditorFragment.setNote(note);                                                                    </span>
<span class="2340058370398567170" onmouseenter="enter('2340058370398567170');" onmouseout="out('2340058370398567170');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 474 -            getNoteListFragment().setNoteSelected(note);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 475 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 476 -                                                                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 477 -        invalidateOptionsMenu();                                                                                  </span>
<span class="21641760400268312" onmouseenter="enter('21641760400268312');" onmouseout="out('21641760400268312');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 478 +            mNoteEditorFragment.setNote(noteID);                                                                  </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 479 +            getNoteListFragment().setNoteSelected(noteID);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 480 +        }                                                                                                         </span>
<span  style=""> 481                                                                                                                    </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 482          mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483      }                                                                                                             </span>
<span  style=""> 484                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 485      @Override                                                                                                     </span>
<span class="-1395545691431076945" onmouseenter="enter('-1395545691431076945');" onmouseout="out('-1395545691431076945');" style=""> 486      public boolean onNavigationItemSelected(int itemPosition, long itemId) {                                      </span>
<span class="47093643897462343" onmouseenter="enter('47093643897462343');" onmouseout="out('47093643897462343');" style=""> 487          // TODO Auto-generated method stub                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 488          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489      }                                                                                                             </span>
<span  style=""> 490                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 491      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 492      public void onUserCreated(User user) {                                                                        </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 493          // New account created                                                                                    </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 494          mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495      }                                                                                                             </span>
<span  style=""> 496                                                                                                                    </span>
<span class="-5903693285923003038" onmouseenter="enter('-5903693285923003038');" onmouseout="out('-5903693285923003038');" style=""> 497      public void onAuthenticationStatusChange(User.AuthenticationStatus status) {                                  </span>
<span class="-5808161065660108884" onmouseenter="enter('-5808161065660108884');" onmouseout="out('-5808161065660108884');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 498 -        if (status == User.AuthenticationStatus.NOT_AUTHENTICATED) {                                              </span>
<span class="-8328412873133403131" onmouseenter="enter('-8328412873133403131');" onmouseout="out('-8328412873133403131');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 499 -            startLoginActivity();                                                                                 </span>
<span class="-6279693697292452070" onmouseenter="enter('-6279693697292452070');" onmouseout="out('-6279693697292452070');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 500 -        } else if (status == User.AuthenticationStatus.AUTHENTICATED) {                                           </span>
<span class="8755438126624647600" onmouseenter="enter('8755438126624647600');" onmouseout="out('8755438126624647600');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 501 +        if (status == User.AuthenticationStatus.AUTHENTICATED) {                                                  </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 502              // User signed in                                                                                     </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 503              mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);                       </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 504 +            invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506      }                                                                                                             </span>
<span  style=""> 507                                                                                                                    </span>
<span class="-8215310887158780580" onmouseenter="enter('-8215310887158780580');" onmouseout="out('-8215310887158780580');" style=""> 508      public void startLoginActivity() {                                                                            </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 509          Intent loginIntent = new Intent(this, LoginActivity.class);                                               </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 510 +        loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                            </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 511          startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 512      }                                                                                                             </span>
<span  style=""> 513                                                                                                                    </span>
<span  style=""> 514                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 515      @Override                                                                                                     </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 516      protected void onActivityResult(int requestCode, int resultCode, Intent data) {                               </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 517          super.onActivityResult(requestCode, resultCode, data);                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 518          switch (requestCode) {                                                                                    </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 519              case Simperium.SIGNUP_SIGNIN_REQUEST:                                                                 </span>
<span class="1129099418518909070" onmouseenter="enter('1129099418518909070');" onmouseout="out('1129099418518909070');" style=""> 520                  if (resultCode == RESULT_CANCELED)                                                                </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 521                      finish();                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 522                  break;                                                                                            </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 523              case Simplenote.INTENT_PREFERENCES:                                                                   </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 524                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 524                  // nbradbury - refresh note list when user returns from preferences (in case they changed anythingðŸ”µ</abbr></span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 525                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 526                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 527                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 528                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 529                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 530                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 532      }                                                                                                             </span>
<span  style=""> 533                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 534      @Override                                                                                                     </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 535      public void onUndo(Parcelable p) {                                                                            </span>
<span class="-7506592443339839677" onmouseenter="enter('-7506592443339839677');" onmouseout="out('-7506592443339839677');" style=""> 536          if (mUndoBarController != null &amp;&amp; mUndoBarController.getDeletedNote() != null) {                          </span>
<span class="9022032525130835248" onmouseenter="enter('9022032525130835248');" onmouseout="out('9022032525130835248');" style=""> 537              Note deletedNote = mUndoBarController.getDeletedNote();                                               </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 538              if (deletedNote != null) {                                                                            </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 539                  deletedNote.setDeleted(false);                                                                    </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 540                  deletedNote.setModificationDate(Calendar.getInstance());                                          </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 541                  deletedNote.save();                                                                               </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 542                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 543                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 544                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 545                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 546                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 547              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 548          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 549      }                                                                                                             </span>
<span  style=""> 550                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 551      @Override                                                                                                     </span>
<span class="8253171317873374357" onmouseenter="enter('8253171317873374357');" onmouseout="out('8253171317873374357');" style=""> 552      public void onBackStackChanged() {                                                                            </span>
<span class="-6903275099279630564" onmouseenter="enter('-6903275099279630564');" onmouseout="out('-6903275099279630564');" style=""> 553          configureActionBar();                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 554          invalidateOptionsMenu();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555      }                                                                                                             </span>
<span  style=""> 556                                                                                                                    </span>
<span class="1775102460778606223" onmouseenter="enter('1775102460778606223');" onmouseout="out('1775102460778606223');" style=""> 557      private void configureActionBar() {                                                                           </span>
<span class="3847957777021173779" onmouseenter="enter('3847957777021173779');" onmouseout="out('3847957777021173779');" style=""> 558          if (getFragmentManager().getBackStackEntryCount() &gt; 0) {                                                  </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 559 -            ActionBar ab = getActionBar();                                                                        </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 560 +            ActionBar ab = mActionBar;                                                                            </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 561              if (ab != null) {                                                                                     </span>
<span class="-8592019441220733748" onmouseenter="enter('-8592019441220733748');" onmouseout="out('-8592019441220733748');" style=""> 562                  ab.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);                                         </span>
<span class="1917352750445860285" onmouseenter="enter('1917352750445860285');" onmouseout="out('1917352750445860285');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 563 -                ab.setDisplayShowTitleEnabled(true);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 564              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 565          } else {                                                                                                  </span>
<span class="5849363495358730719" onmouseenter="enter('5849363495358730719');" onmouseout="out('5849363495358730719');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 566 -            ActionBar ab = getActionBar();                                                                        </span>
<span class="-2196936592400963080" onmouseenter="enter('-2196936592400963080');" onmouseout="out('-2196936592400963080');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 567 +            ActionBar ab = mActionBar;                                                                            </span>
<span class="-2315759892899240094" onmouseenter="enter('-2315759892899240094');" onmouseout="out('-2315759892899240094');" style=""> 568              if (ab != null) {                                                                                     </span>
<span class="5203179085163115250" onmouseenter="enter('5203179085163115250');" onmouseout="out('5203179085163115250');" style=""> 569                  ab.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);                                             </span>
<span class="8814622810399974270" onmouseenter="enter('8814622810399974270');" onmouseout="out('8814622810399974270');" style=""> 570                  ab.setDisplayShowTitleEnabled(false);                                                             </span>
<span class="-8363222618538474834" onmouseenter="enter('-8363222618538474834');" onmouseout="out('-8363222618538474834');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 571 +                ab.setTitle(&quot;&quot;);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574      }                                                                                                             </span>
<span  style=""> 575                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 576      @Override                                                                                                     </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 577      public void onConfigurationChanged(Configuration newConfig) {                                                 </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 578          super.onConfigurationChanged(newConfig);                                                                  </span>
<span  style=""> 579                                                                                                                    </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 580          if (mIsLargeScreen) {                                                                                     </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 581              if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                                   </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 582                  // Add the editor fragment                                                                        </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 583                  mIsLandscape = true;                                                                              </span>
<span class="4056397659745013285" onmouseenter="enter('4056397659745013285');" onmouseout="out('4056397659745013285');" style=""> 584                  popNoteDetail();                                                                                  </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 585                  addEditorFragment();                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 586                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 587                      mNoteListFragment.setActivateOnItemClick(true);                                               </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 588                      mNoteListFragment.setDividerVisible(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589                  }                                                                                                 </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 590                  // Select the current note on a tablet                                                            </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 591                  if (mCurrentNote != null)                                                                         </span>
<span class="-4422152846940997833" onmouseenter="enter('-4422152846940997833');" onmouseout="out('-4422152846940997833');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 592 -                    onNoteSelected(mCurrentNote);                                                                 </span>
<span class="-5833406270212187483" onmouseenter="enter('-5833406270212187483');" onmouseout="out('-5833406270212187483');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 593 +                    onNoteSelected(mCurrentNote.getSimperiumKey());                                               </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 594                  else {                                                                                            </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 595                      mNoteEditorFragment.setPlaceholderVisible(true);                                              </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 596                      mNoteListFragment.getListView().clearChoices();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 597                  }                                                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 598                  invalidateOptionsMenu();                                                                          </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 599              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 599              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null)ðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 600                  // Remove the editor fragment when rotating back to portrait                                      </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 601                  mIsLandscape = false;                                                                             </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 602                  mCurrentNote = null;                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 603                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 604                      mNoteListFragment.setActivateOnItemClick(false);                                              </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 605                      mNoteListFragment.setDividerVisible(false);                                                   </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 606                      mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                            </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 607                      mNoteListFragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608                  }                                                                                                 </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 609                  FragmentManager fm = getFragmentManager();                                                        </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 610                  FragmentTransaction ft = fm.beginTransaction();                                                   </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 611                  ft.remove(mNoteEditorFragment);                                                                   </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 612                  mNoteEditorFragment = null;                                                                       </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 613                  ft.commitAllowingStateLoss();                                                                     </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 614                  fm.executePendingTransactions();                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 615                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 616              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 617          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 618      }                                                                                                             </span>
<span  style=""> 619                                                                                                                    </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 620      public void showDetailPlaceholder() {                                                                         </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 621          if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                            </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 622              mCurrentNote = null;                                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 623              invalidateOptionsMenu();                                                                              </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 624              mNoteEditorFragment.setPlaceholderVisible(true);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 625          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 626      }                                                                                                             </span>
<span  style=""> 627                                                                                                                    </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 628      private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                            </span>
<span  style=""> 629                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 630          @Override                                                                                                 </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 631          protected Void doInBackground(Void... voids) {                                                            </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 632              Simplenote application = (Simplenote) getApplication();                                               </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 633              Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                               </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 634              Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                      </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 635              Bucket.ObjectCursor c = query.execute();                                                              </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 636              while (c.moveToNext()) {                                                                              </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 637                  c.getObject().delete();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 639              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 641      }                                                                                                             </span>
<span  style=""> 642                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 643  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            