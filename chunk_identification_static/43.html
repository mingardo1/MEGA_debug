<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>43</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    43
                    <a href="42.html">prev</a>
                    <a href="44.html">next</a>
                    <a href="43_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_425050c76a1d31f05dc4bdb210e13e931e2c01ff_Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;425050c76a1d31f05dc4bdb210e13e931e2c01ff:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;425050c76a1d31f05dc4bdb210e13e931e2c01ff^1:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;425050c76a1d31f05dc4bdb210e13e931e2c01ff^2:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;67f60111a7061fecb6de519ac2562187367d1b2c:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   5 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   6 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   7 import android.content.Intent;                                                                           </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8 import android.net.Uri;                                                                                  </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10 import android.os.Bundle;                                                                                </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11 import android.os.ParcelFileDescriptor;                                                                  </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12 import android.widget.Toast;                                                                             </span>
<span  style="">  13                                                                                                          </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  16 import androidx.core.app.ShareCompat;                                                                    </span>
<span class="5842151950717757009" onmouseenter="enter('5842151950717757009');" onmouseout="out('5842151950717757009');" style="">  17 import androidx.core.content.ContextCompat;                                                              </span>
<span class="3871271816129224755" onmouseenter="enter('3871271816129224755');" onmouseout="out('3871271816129224755');" style="">  18 import androidx.fragment.app.FragmentActivity;                                                           </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  19 import androidx.preference.ListPreference;                                                               </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  20 import androidx.preference.Preference;                                                                   </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  21 import androidx.preference.PreferenceFragmentCompat;                                                     </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  22 import androidx.preference.SwitchPreferenceCompat;                                                       </span>
<span  style="">  23                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  24 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="7695324246477815031" onmouseenter="enter('7695324246477815031');" onmouseout="out('7695324246477815031');" style="">  25 import com.automattic.simplenote.authentication.SimplenoteAuthenticationActivity;                        </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  26 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  27 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="-6579126909083142141" onmouseenter="enter('-6579126909083142141');" onmouseout="out('-6579126909083142141');" style="">  28 import com.automattic.simplenote.utils.AccountNetworkUtils;                                              </span>
<span class="-7647069095684996043" onmouseenter="enter('-7647069095684996043');" onmouseout="out('-7647069095684996043');" style="">  29 import com.automattic.simplenote.utils.AccountNetworkUtils.DeleteAccountRequestHandler;                  </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  30 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  31 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="3927304760801257382" onmouseenter="enter('3927304760801257382');" onmouseout="out('3927304760801257382');" style="">  32 import com.automattic.simplenote.utils.AuthUtils;                                                        </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  33 import com.automattic.simplenote.utils.BrowserUtils;                                                     </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  34 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="">  35 import com.automattic.simplenote.utils.DialogUtils;                                                      </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  36 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  37 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-8694742716172250276" onmouseenter="enter('-8694742716172250276');" onmouseout="out('-8694742716172250276');" style="">  38 import com.automattic.simplenote.utils.SimplenoteProgressDialogFragment;                                 </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  39 import com.simperium.Simperium;                                                                          </span>
<span class="8061185401310260696" onmouseenter="enter('8061185401310260696');" onmouseout="out('8061185401310260696');" style="">  40 import com.simperium.android.ProgressDialogFragment;                                                     </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  41 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  42 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  43 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  44 import com.simperium.client.User;                                                                        </span>
<span  style="">  45                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  46 import org.json.JSONArray;                                                                               </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  47 import org.json.JSONObject;                                                                              </span>
<span  style="">  48                                                                                                          </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  49 import java.io.FileOutputStream;                                                                         </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  50 import java.lang.ref.WeakReference;                                                                      </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  51 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  52 import java.util.Comparator;                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53 import java.util.List;                                                                                   </span>
<span  style="">  54                                                                                                          </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  55 import static android.app.Activity.RESULT_OK;                                                            </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  56 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span class="8826967329515035160" onmouseenter="enter('8826967329515035160');" onmouseout="out('8826967329515035160');" style="">  57 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING;                          </span>
<span class="-1682178856466576571" onmouseenter="enter('-1682178856466576571');" onmouseout="out('-1682178856466576571');" style="">  58 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING_LABEL;                    </span>
<span class="3295022017599403667" onmouseenter="enter('3295022017599403667');" onmouseout="out('3295022017599403667');" style="">  59 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING;                         </span>
<span class="-175775655276735749" onmouseenter="enter('-175775655276735749');" onmouseout="out('-175775655276735749');" style="">  60 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING_LABEL;                   </span>
<span class="-5373309715036096389" onmouseenter="enter('-5373309715036096389');" onmouseout="out('-5373309715036096389');" style="">  61 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING;                          </span>
<span class="-870579044833355009" onmouseenter="enter('-870579044833355009');" onmouseout="out('-870579044833355009');" style="">  62 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING_LABEL;                    </span>
<span class="-7837298184614781055" onmouseenter="enter('-7837298184614781055');" onmouseout="out('-7837298184614781055');" style="">  63 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING;                         </span>
<span class="9031990127045012175" onmouseenter="enter('9031990127045012175');" onmouseout="out('9031990127045012175');" style="">  64 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING_LABEL;                   </span>
<span class="2353849115484789575" onmouseenter="enter('2353849115484789575');" onmouseout="out('2353849115484789575');" style="">  65 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING;                         </span>
<span class="8859125948039467765" onmouseenter="enter('8859125948039467765');" onmouseout="out('8859125948039467765');" style="">  66 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING_LABEL;                   </span>
<span class="-7793424336450235488" onmouseenter="enter('-7793424336450235488');" onmouseout="out('-7793424336450235488');" style="">  67 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING;                        </span>
<span class="3117736445719959817" onmouseenter="enter('3117736445719959817');" onmouseout="out('3117736445719959817');" style="">  68 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING_LABEL;                  </span>
<span  style="">  69                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  70 /**                                                                                                      </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  71  * A simple {@link Fragment} subclass.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  72  */                                                                                                      </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style=""><abbr title="  73 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  73 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, S🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  74     public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                               </span>
<span  style="">  75                                                                                                          </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  76     private static final int REQUEST_EXPORT_DATA = 9001;                                                 </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  77     private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                             </span>
<span class="5428701190302531857" onmouseenter="enter('5428701190302531857');" onmouseout="out('5428701190302531857');" style="">  78     private static final int REQUEST_IMPORT_DATA = 9003;                                                 </span>
<span  style="">  79                                                                                                          </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  80     private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                      </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  81     private SwitchPreferenceCompat mAnalyticsSwitch;                                                     </span>
<span class="-2972309948934894211" onmouseenter="enter('-2972309948934894211');" onmouseout="out('-2972309948934894211');" style="">  82     private SimplenoteProgressDialogFragment mProgressDialogFragment;                                    </span>
<span  style="">  83                                                                                                          </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  84     public PreferencesFragment() {                                                                       </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  85         // Required empty public constructor                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86     }                                                                                                    </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88     @Override                                                                                            </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  89     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                         </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  90         addPreferencesFromResource(R.xml.preferences);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91     }                                                                                                    </span>
<span  style="">  92                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  94     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  95         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  96                                                                                                          </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  97         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                     </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  98         Simplenote currentApp = (Simplenote) getActivity().getApplication();                             </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  99         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style=""> 100         simperium.setUserStatusChangeListener(this);                                                     </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style=""> 101         simperium.setOnUserCreatedListener(this);                                                        </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style=""> 102         mPreferencesBucket = currentApp.getPreferencesBucket();                                          </span>
<span  style=""> 103                                                                                                          </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style=""> 104         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());               </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style=""> 105         if (simperium.needsAuthorization()) {                                                            </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style=""> 106             authenticatePreference.setTitle(R.string.log_in);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 107         } else {                                                                                         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 108             authenticatePreference.setTitle(R.string.log_out);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109         }                                                                                                </span>
<span  style=""> 110                                                                                                          </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style=""> 111         authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 112             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 113             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 114                 if (!isAdded()) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 115                     return false;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116                 }                                                                                        </span>
<span  style=""> 117                                                                                                          </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style=""> 118                 Simplenote currentApp = (Simplenote) getActivity().getApplication();                     </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 119                 if (currentApp.getSimperium().needsAuthorization()) {                                    </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""><abbr title=" 120                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);"> 120                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class🔵</abbr></span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 121                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 122                 } else {                                                                                 </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 123                     new LogOutTask(PreferencesFragment.this).execute();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 125                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 127         });                                                                                              </span>
<span  style=""> 128                                                                                                          </span>
<span class="2946900849266796620" onmouseenter="enter('2946900849266796620');" onmouseout="out('2946900849266796620');" style=""> 129         Preference deleteAppPreference = findPreference(&quot;pref_key_delete_account&quot;);                      </span>
<span class="-2350223962711597776" onmouseenter="enter('-2350223962711597776');" onmouseout="out('-2350223962711597776');" style=""> 130         deleteAppPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 131             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 132             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2781290625557367680" onmouseenter="enter('-2781290625557367680');" onmouseout="out('-2781290625557367680');" style=""> 133                 showDeleteAccountDialog();                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 134                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 136         });                                                                                              </span>
<span  style=""> 137                                                                                                          </span>
<span class="-8106343823043205231" onmouseenter="enter('-8106343823043205231');" onmouseout="out('-8106343823043205231');" style=""><abbr title=" 138         findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 138         findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 140             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 141                 try {                                                                                    </span>
<span class="-2711969911277073522" onmouseenter="enter('-2711969911277073522');" onmouseout="out('-2711969911277073522');" style=""><abbr title=" 142                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;);"> 142                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 143                 } catch (Exception e) {                                                                  </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style=""> 144                     toast(R.string.no_browser_available, Toast.LENGTH_LONG);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 146                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 148         });                                                                                              </span>
<span  style=""> 149                                                                                                          </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 150         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 150         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickL🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 151             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 152             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 153                 try {                                                                                    </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 154                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 155                 } catch (Exception e) {                                                                  </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style=""> 156                     toast(R.string.no_browser_available, Toast.LENGTH_LONG);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 158                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 160         });                                                                                              </span>
<span  style=""> 161                                                                                                          </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""><abbr title=" 162         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 162         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLis🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 163             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 164             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 165                 startActivity(new Intent(getActivity(), AboutActivity.class));                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 166                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 168         });                                                                                              </span>
<span  style=""> 169                                                                                                          </span>
<span class="-1307457492407505021" onmouseenter="enter('-1307457492407505021');" onmouseout="out('-1307457492407505021');" style=""><abbr title=" 170         findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 170         findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 172             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-6211373805165179522" onmouseenter="enter('-6211373805165179522');" onmouseout="out('-6211373805165179522');" style=""> 173                 Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);                                 </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 174                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="4423889240572822366" onmouseenter="enter('4423889240572822366');" onmouseout="out('4423889240572822366');" style=""> 175                 intent.setType(&quot;*/*&quot;);                                                                   </span>
<span class="6733339250899644961" onmouseenter="enter('6733339250899644961');" onmouseout="out('6733339250899644961');" style=""> 176                 intent.putExtra(Intent.EXTRA_MIME_TYPES, new String[]{&quot;text/*&quot;, &quot;application/json&quot;});    </span>
<span class="233539475142465633" onmouseenter="enter('233539475142465633');" onmouseout="out('233539475142465633');" style=""> 177                 startActivityForResult(intent, REQUEST_IMPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 178                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 180         });                                                                                              </span>
<span  style=""> 181                                                                                                          </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 182         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 182         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 184             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 185                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 186                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 187                 intent.setType(&quot;application/json&quot;);                                                      </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 188                 intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                    </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 189                 startActivityForResult(intent, REQUEST_EXPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 190                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 192         });                                                                                              </span>
<span  style=""> 193                                                                                                          </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 194         final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                     </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 195         themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 197             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 198                 updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 199                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200             }                                                                                            </span>
<span  style=""> 201                                                                                                          </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 202             private void updateTheme(Activity activity, int index) {                                     </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 203                 CharSequence[] entries = themePreference.getEntries();                                   </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 204                 themePreference.setSummary(entries[index]);                                              </span>
<span  style=""> 205                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 206                 AnalyticsTracker.track(                                                                  </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 207                         AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                    </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 208                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 209                         &quot;theme_preference&quot;                                                               </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 210                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 212         });                                                                                              </span>
<span  style=""> 213                                                                                                          </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 214         final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                             </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style=""> 215         stylePreference.setSummary(                                                                      </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style=""> 216             PrefUtils.isPremium(requireContext()) ?                                                      </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style=""> 217                 PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                              </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style=""> 218                 PrefUtils.getStyleNameDefault(requireContext())                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 219         );                                                                                               </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 220         stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 222             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 223                 startActivity(new Intent(requireContext(), StyleActivity.class));                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 224                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 226         });                                                                                              </span>
<span  style=""> 227                                                                                                          </span>
<span class="7183771711274333920" onmouseenter="enter('7183771711274333920');" onmouseout="out('7183771711274333920');" style=""> 228         final Preference membershipPreference = findPreference(&quot;pref_key_membership&quot;);                   </span>
<span class="-7419655243406727093" onmouseenter="enter('-7419655243406727093');" onmouseout="out('-7419655243406727093');" style=""> 229         membershipPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 231             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4755531410574606252" onmouseenter="enter('4755531410574606252');" onmouseout="out('4755531410574606252');" style=""> 232                 ((PreferencesActivity) requireActivity()).openBrowserForMembership(getView());           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 233                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 235         });                                                                                              </span>
<span  style=""> 236                                                                                                          </span>
<span class="5948357716640114915" onmouseenter="enter('5948357716640114915');" onmouseout="out('5948357716640114915');" style=""> 237         if (PrefUtils.isPremium(requireContext())) {                                                     </span>
<span class="-8263706598863184063" onmouseenter="enter('-8263706598863184063');" onmouseout="out('-8263706598863184063');" style=""> 238             membershipPreference.setLayoutResource(R.layout.preference_default);                         </span>
<span class="-6810727056863141958" onmouseenter="enter('-6810727056863141958');" onmouseout="out('-6810727056863141958');" style=""> 239             membershipPreference.setSummary(R.string.membership_premium);                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 240         } else {                                                                                         </span>
<span class="7955017533183298811" onmouseenter="enter('7955017533183298811');" onmouseout="out('7955017533183298811');" style=""> 241             membershipPreference.setLayoutResource(R.layout.preference_button);                          </span>
<span class="-1940646826107252258" onmouseenter="enter('-1940646826107252258');" onmouseout="out('-1940646826107252258');" style=""> 242             membershipPreference.setSummary(R.string.membership_free);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243         }                                                                                                </span>
<span  style=""> 244                                                                                                          </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 245         final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                 </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 246         sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 248             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 249                 int index = Integer.parseInt(newValue.toString());                                       </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 250                 CharSequence[] entries = sortPreference.getEntries();                                    </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 251                 sortPreference.setSummary(entries[index]);                                               </span>
<span  style=""> 252                                                                                                          </span>
<span class="129000644980271681" onmouseenter="enter('129000644980271681');" onmouseout="out('129000644980271681');" style=""> 253                 if (!sortPreference.getValue().equals(newValue)) {                                       </span>
<span class="8821509448547790359" onmouseenter="enter('8821509448547790359');" onmouseout="out('8821509448547790359');" style=""> 254                     switch (index) {                                                                     </span>
<span class="-2169261776148475044" onmouseenter="enter('-2169261776148475044');" onmouseout="out('-2169261776148475044');" style=""> 255                         case ALPHABETICAL_ASCENDING:                                                     </span>
<span class="-3317425248268570668" onmouseenter="enter('-3317425248268570668');" onmouseout="out('-3317425248268570668');" style=""> 256                             trackSortOrder(ALPHABETICAL_ASCENDING_LABEL);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 257                             break;                                                                       </span>
<span class="4310955617522252752" onmouseenter="enter('4310955617522252752');" onmouseout="out('4310955617522252752');" style=""> 258                         case ALPHABETICAL_DESCENDING:                                                    </span>
<span class="8357536101849916572" onmouseenter="enter('8357536101849916572');" onmouseout="out('8357536101849916572');" style=""> 259                             trackSortOrder(ALPHABETICAL_DESCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 260                             break;                                                                       </span>
<span class="-2064268994807656061" onmouseenter="enter('-2064268994807656061');" onmouseout="out('-2064268994807656061');" style=""> 261                         case DATE_CREATED_ASCENDING:                                                     </span>
<span class="-3680449299537315875" onmouseenter="enter('-3680449299537315875');" onmouseout="out('-3680449299537315875');" style=""> 262                             trackSortOrder(DATE_CREATED_ASCENDING_LABEL);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 263                             break;                                                                       </span>
<span class="-4952093231033435692" onmouseenter="enter('-4952093231033435692');" onmouseout="out('-4952093231033435692');" style=""> 264                         case DATE_CREATED_DESCENDING:                                                    </span>
<span class="-4025354653068339079" onmouseenter="enter('-4025354653068339079');" onmouseout="out('-4025354653068339079');" style=""> 265                             trackSortOrder(DATE_CREATED_DESCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 266                             break;                                                                       </span>
<span class="-9006552640903559872" onmouseenter="enter('-9006552640903559872');" onmouseout="out('-9006552640903559872');" style=""> 267                         case DATE_MODIFIED_ASCENDING:                                                    </span>
<span class="-3983368371522366244" onmouseenter="enter('-3983368371522366244');" onmouseout="out('-3983368371522366244');" style=""> 268                             trackSortOrder(DATE_MODIFIED_ASCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 269                             break;                                                                       </span>
<span class="-8243438149709409515" onmouseenter="enter('-8243438149709409515');" onmouseout="out('-8243438149709409515');" style=""> 270                         case DATE_MODIFIED_DESCENDING:                                                   </span>
<span class="-6491153765216744167" onmouseenter="enter('-6491153765216744167');" onmouseout="out('-6491153765216744167');" style=""> 271                             trackSortOrder(DATE_MODIFIED_DESCENDING_LABEL);                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 272                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274                 }                                                                                        </span>
<span  style=""> 275                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 276                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 278         });                                                                                              </span>
<span  style=""> 279                                                                                                          </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 280         SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);        </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 281         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 283             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 284                 if (((SwitchPreferenceCompat) preference).isChecked()) {                                 </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 285                     AnalyticsTracker.track(                                                              </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 286                             AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 287                             AnalyticsTracker.CATEGORY_USER,                                              </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 288                             &quot;condensed_list_preference&quot;                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 289                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290                 }                                                                                        </span>
<span  style=""> 291                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 292                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 294         });                                                                                              </span>
<span  style=""> 295                                                                                                          </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 296         // Add the hyperlink to the analytics summary                                                    </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 297         Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);    </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 298         String formattedSummary = String.format(                                                         </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 299                 getString(R.string.share_analytics_summary),                                             </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 300                 &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                           </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 301                 &quot;&lt;/a&gt;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 302         );                                                                                               </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 303         analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                    </span>
<span  style=""> 304                                                                                                          </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 305         mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                  </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 306         mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 307             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 308             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 309                 try {                                                                                    </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 310                     boolean isChecked = (boolean)newValue;                                               </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 311                     Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                  </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 312                     prefs.setAnalyticsEnabled(isChecked);                                                </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 313                     prefs.save();                                                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 314                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 315                     e.printStackTrace();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316                 }                                                                                        </span>
<span  style=""> 317                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 318                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 320         });                                                                                              </span>
<span  style=""> 321                                                                                                          </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 322         updateAnalyticsSwitchState();                                                                    </span>
<span  style=""> 323                                                                                                          </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""><abbr title=" 324         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 324         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 325             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 326             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style=""> 327                 startActivity(                                                                           </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style=""> 328                     ShareCompat.IntentBuilder.from(requireActivity())                                    </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style=""> 329                         .setText(AppLog.get())                                                           </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style=""> 330                         .setType(&quot;text/plain&quot;)                                                           </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style=""> 331                         .createChooserIntent()                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 332                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 333                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 335         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336     }                                                                                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="-1191373455187963152" onmouseenter="enter('-1191373455187963152');" onmouseout="out('-1191373455187963152');" style=""> 338     private void showProgressDialogDeleteAccount() {                                                     </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 339         FragmentActivity activity = getActivity();                                                       </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 340         if (activity == null) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 341             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342         }                                                                                                </span>
<span  style=""> 343                                                                                                          </span>
<span class="908378658564909306" onmouseenter="enter('908378658564909306');" onmouseout="out('908378658564909306');" style=""><abbr title=" 344         mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.requesting_message));"> 344         mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.request🔵</abbr></span>
<span class="-7015461328566138890" onmouseenter="enter('-7015461328566138890');" onmouseout="out('-7015461328566138890');" style=""> 345         mProgressDialogFragment.show(activity.getSupportFragmentManager(), ProgressDialogFragment.TAG);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346     }                                                                                                    </span>
<span  style=""> 347                                                                                                          </span>
<span class="-6444433115162797199" onmouseenter="enter('-6444433115162797199');" onmouseout="out('-6444433115162797199');" style=""> 348     private void closeProgressDialogDeleteAccount() {                                                    </span>
<span class="-5231919673723505361" onmouseenter="enter('-5231919673723505361');" onmouseout="out('-5231919673723505361');" style=""> 349         if (mProgressDialogFragment != null &amp;&amp; !mProgressDialogFragment.isHidden()) {                    </span>
<span class="4521774342365180283" onmouseenter="enter('4521774342365180283');" onmouseout="out('4521774342365180283');" style=""> 350             mProgressDialogFragment.dismiss();                                                           </span>
<span class="-5320112376977111528" onmouseenter="enter('-5320112376977111528');" onmouseout="out('-5320112376977111528');" style=""> 351             mProgressDialogFragment = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353     }                                                                                                    </span>
<span  style=""> 354                                                                                                          </span>
<span class="5272209026921050994" onmouseenter="enter('5272209026921050994');" onmouseout="out('5272209026921050994');" style=""> 355     private void showDeleteAccountDialog() {                                                             </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style=""> 356         Context context = getContext();                                                                  </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style=""> 357         if (context == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 358             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359         }                                                                                                </span>
<span  style=""> 360                                                                                                          </span>
<span class="6313083696990294907" onmouseenter="enter('6313083696990294907');" onmouseout="out('6313083696990294907');" style=""><abbr title=" 361         final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this);"> 361         final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this🔵</abbr></span>
<span  style=""> 362                                                                                                          </span>
<span class="1031729987205306789" onmouseenter="enter('1031729987205306789');" onmouseout="out('1031729987205306789');" style=""><abbr title=" 363         final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, R.style.Dialog))"> 363         final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, 🔵</abbr></span>
<span class="-1873798539673657377" onmouseenter="enter('-1873798539673657377');" onmouseout="out('-1873798539673657377');" style=""> 364                 .setTitle(R.string.delete_account)                                                       </span>
<span class="-386066277178615224" onmouseenter="enter('-386066277178615224');" onmouseout="out('-386066277178615224');" style=""> 365                 .setMessage(R.string.delete_account_message)                                             </span>
<span class="-8328819480399500830" onmouseenter="enter('-8328819480399500830');" onmouseout="out('-8328819480399500830');" style=""> 366                 .setPositiveButton(R.string.delete_account, new DialogInterface.OnClickListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 367                         @Override                                                                        </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 368                         public void onClick(DialogInterface dialogInterface, int i) {                    </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 369                             FragmentActivity activity = getActivity();                                   </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 370                             if (activity == null) {                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 371                                 return;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372                             }                                                                            </span>
<span  style=""> 373                                                                                                          </span>
<span class="6459977236903005106" onmouseenter="enter('6459977236903005106');" onmouseout="out('6459977236903005106');" style=""> 374                             showProgressDialogDeleteAccount();                                           </span>
<span  style=""> 375                                                                                                          </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style=""> 376                             Simplenote currentApp = (Simplenote) activity.getApplication();              </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 377                             Simperium simperium = currentApp.getSimperium();                             </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style=""> 378                             String userEmail = simperium.getUser().getEmail();                           </span>
<span class="1651381071182530529" onmouseenter="enter('1651381071182530529');" onmouseout="out('1651381071182530529');" style=""> 379                             String userToken = simperium.getUser().getAccessToken();                     </span>
<span  style=""> 380                                                                                                          </span>
<span class="3196843899819626389" onmouseenter="enter('3196843899819626389');" onmouseout="out('3196843899819626389');" style=""> 381                             // makeDeleteAccountRequest can throw an exception when it cannot build      </span>
<span class="768653677388483161" onmouseenter="enter('768653677388483161');" onmouseout="out('768653677388483161');" style=""> 382                             // the JSON object. In those cases, we show the error dialog since           </span>
<span class="1028851578837449957" onmouseenter="enter('1028851578837449957');" onmouseout="out('1028851578837449957');" style=""> 383                             // it can be related to memory constraints or something else that is         </span>
<span class="5336907060346624635" onmouseenter="enter('5336907060346624635');" onmouseout="out('5336907060346624635');" style=""> 384                             // just a transient fault                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 385                             try {                                                                        </span>
<span class="1030407728602517742" onmouseenter="enter('1030407728602517742');" onmouseout="out('1030407728602517742');" style=""> 386                                 AppLog.add(Type.ACCOUNT, &quot;Making request to delete account&quot;);            </span>
<span  style=""> 387                                                                                                          </span>
<span class="-7545959631891665838" onmouseenter="enter('-7545959631891665838');" onmouseout="out('-7545959631891665838');" style=""> 388                                 AccountNetworkUtils.makeDeleteAccountRequest(                            </span>
<span class="-5593225241325787649" onmouseenter="enter('-5593225241325787649');" onmouseout="out('-5593225241325787649');" style=""> 389                                         userEmail,                                                       </span>
<span class="-7456986882819251964" onmouseenter="enter('-7456986882819251964');" onmouseout="out('-7456986882819251964');" style=""> 390                                         userToken,                                                       </span>
<span class="-6992356639091573052" onmouseenter="enter('-6992356639091573052');" onmouseout="out('-6992356639091573052');" style=""> 391                                         deleteAccountHandler);                                           </span>
<span class="-8673390349745745141" onmouseenter="enter('-8673390349745745141');" onmouseout="out('-8673390349745745141');" style=""> 392                             } catch (IllegalArgumentException exception) {                               </span>
<span class="-5966064403349693580" onmouseenter="enter('-5966064403349693580');" onmouseout="out('-5966064403349693580');" style=""> 393                                 AppLog.add(Type.ACCOUNT, &quot;Error trying to make request &quot; +               </span>
<span class="6896797996484321928" onmouseenter="enter('6896797996484321928');" onmouseout="out('6896797996484321928');" style=""> 394                                         &quot;to delete account. Error: &quot; + exception.getMessage());          </span>
<span  style=""> 395                                                                                                          </span>
<span class="-6213194126034221756" onmouseenter="enter('-6213194126034221756');" onmouseout="out('-6213194126034221756');" style=""> 396                                 showDialogDeleteAccountError();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399                     }                                                                                    </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 400                 )                                                                                        </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 401                 .setNegativeButton(R.string.cancel, null)                                                </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 402                 .create();                                                                               </span>
<span  style=""> 403                                                                                                          </span>
<span class="5125198818275769351" onmouseenter="enter('5125198818275769351');" onmouseout="out('5125198818275769351');" style=""> 404         dialogDeleteAccount.setOnShowListener(new DialogInterface.OnShowListener() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 405             @Override                                                                                    </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 406             public void onShow(DialogInterface dialog) {                                                 </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 407                 FragmentActivity activity = getActivity();                                               </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 408                 if (activity == null) {                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 409                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410                 }                                                                                        </span>
<span  style=""> 411                                                                                                          </span>
<span class="1365403079202164871" onmouseenter="enter('1365403079202164871');" onmouseout="out('1365403079202164871');" style=""> 412                 int colorRed = ContextCompat.getColor(activity, R.color.text_button_red);                </span>
<span class="-3136107241359118707" onmouseenter="enter('-3136107241359118707');" onmouseout="out('-3136107241359118707');" style=""> 413                 dialogDeleteAccount                                                                      </span>
<span class="111291750922386792" onmouseenter="enter('111291750922386792');" onmouseout="out('111291750922386792');" style=""> 414                         .getButton(AlertDialog.BUTTON_POSITIVE)                                          </span>
<span class="-131849950832046769" onmouseenter="enter('-131849950832046769');" onmouseout="out('-131849950832046769');" style=""> 415                         .setTextColor(colorRed);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 417         });                                                                                              </span>
<span class="-8133600341455936609" onmouseenter="enter('-8133600341455936609');" onmouseout="out('-8133600341455936609');" style=""> 418         dialogDeleteAccount.show();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419     }                                                                                                    </span>
<span  style=""> 420                                                                                                          </span>
<span class="-4571070378142539494" onmouseenter="enter('-4571070378142539494');" onmouseout="out('-4571070378142539494');" style=""> 421     private void showDialogDeleteAccountError() {                                                        </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style=""> 422         Context context = getContext();                                                                  </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style=""> 423         if (context == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 424             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425         }                                                                                                </span>
<span  style=""> 426                                                                                                          </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style=""> 427         DialogUtils.showDialogWithEmail(                                                                 </span>
<span class="8707191112376903621" onmouseenter="enter('8707191112376903621');" onmouseout="out('8707191112376903621');" style=""> 428                 context,                                                                                 </span>
<span class="8499829491281829275" onmouseenter="enter('8499829491281829275');" onmouseout="out('8499829491281829275');" style=""> 429                 getString(R.string.error_ocurred_message)                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 430         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431     }                                                                                                    </span>
<span  style=""> 432                                                                                                          </span>
<span class="-7722414756461467859" onmouseenter="enter('-7722414756461467859');" onmouseout="out('-7722414756461467859');" style=""> 433     private void showDeleteAccountConfirmationDialog() {                                                 </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 434         FragmentActivity activity = getActivity();                                                       </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 435         if (activity == null) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 436             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437         }                                                                                                </span>
<span  style=""> 438                                                                                                          </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style=""> 439         Simplenote currentApp = (Simplenote) activity.getApplication();                                  </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 440         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style=""> 441         String userEmail = simperium.getUser().getEmail();                                               </span>
<span  style=""> 442                                                                                                          </span>
<span class="3621082773894450353" onmouseenter="enter('3621082773894450353');" onmouseout="out('3621082773894450353');" style=""> 443         AlertDialog dialogDeleteAccountConfirmation = new AlertDialog.Builder(                           </span>
<span class="7887587112328823469" onmouseenter="enter('7887587112328823469');" onmouseout="out('7887587112328823469');" style=""> 444                 new ContextThemeWrapper(activity, R.style.Dialog))                                       </span>
<span class="-8605297465257752598" onmouseenter="enter('-8605297465257752598');" onmouseout="out('-8605297465257752598');" style=""> 445                 .setTitle(R.string.request_received)                                                     </span>
<span class="-5099278043250121234" onmouseenter="enter('-5099278043250121234');" onmouseout="out('-5099278043250121234');" style=""> 446                 .setMessage(getString(R.string.account_deletion_message, userEmail))                     </span>
<span class="-5617878821115539617" onmouseenter="enter('-5617878821115539617');" onmouseout="out('-5617878821115539617');" style=""> 447                 .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 448                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 449                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-9058588631339612355" onmouseenter="enter('-9058588631339612355');" onmouseout="out('-9058588631339612355');" style=""> 450                                 dialogInterface.dismiss();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 452                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 453                 )                                                                                        </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 454                 .create();                                                                               </span>
<span  style=""> 455                                                                                                          </span>
<span class="5504919937204140474" onmouseenter="enter('5504919937204140474');" onmouseout="out('5504919937204140474');" style=""> 456         dialogDeleteAccountConfirmation.show();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 457     }                                                                                                    </span>
<span  style=""> 458                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 459     @Override                                                                                            </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 460     public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                   </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style=""> 461         if (resultCode != RESULT_OK || resultData == null) {                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 462             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463         }                                                                                                </span>
<span  style=""> 464                                                                                                          </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 465         if (resultData.getData() == null) {                                                              </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 466             toast(R.string.export_message_failure);                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 467             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468         }                                                                                                </span>
<span  style=""> 469                                                                                                          </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 470         switch (requestCode) {                                                                           </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 471             case REQUEST_EXPORT_DATA:                                                                    </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 472                 exportData(resultData.getData(), false);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 473                 break;                                                                                   </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 474             case REQUEST_EXPORT_UNSYNCED:                                                                </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 475                 exportData(resultData.getData(), true);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 476                 break;                                                                                   </span>
<span class="-81471314031648058" onmouseenter="enter('-81471314031648058');" onmouseout="out('-81471314031648058');" style=""> 477             case REQUEST_IMPORT_DATA:                                                                    </span>
<span class="-4840036634621538874" onmouseenter="enter('-4840036634621538874');" onmouseout="out('-4840036634621538874');" style=""> 478                 importData(resultData.getData());                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 479                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 483     private boolean hasUnsyncedNotes() {                                                                 </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 484         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 485         Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                         </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 486         Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 487         while (notesCursor.moveToNext()) {                                                               </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 488             Note note = notesCursor.getObject();                                                         </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 489             if (note.isNew() || note.isModified()) {                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 490                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492         }                                                                                                </span>
<span  style=""> 493                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 494         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495     }                                                                                                    </span>
<span  style=""> 496                                                                                                          </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 497     private void logOut() {                                                                              </span>
<span class="4969264094597597154" onmouseenter="enter('4969264094597597154');" onmouseout="out('4969264094597597154');" style=""> 498         AppLog.add(Type.ACTION, &quot;Tapped logout button (PreferencesFragment)&quot;);                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 499         AnalyticsTracker.track(                                                                          </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 500                 AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                   </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 501                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 502                 &quot;preferences_sign_out_button&quot;                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 503         );                                                                                               </span>
<span  style=""> 504                                                                                                          </span>
<span class="1334957593624703804" onmouseenter="enter('1334957593624703804');" onmouseout="out('1334957593624703804');" style=""> 505         AuthUtils.logOut((Simplenote) requireActivity().getApplication());                               </span>
<span  style=""> 506                                                                                                          </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 507         getActivity().finish();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508     }                                                                                                    </span>
<span  style=""> 509                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 510     @Override                                                                                            </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 511     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 512         if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                             </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 513             // User signed in                                                                            </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 514             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 515                 public void run() {                                                                      </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 516                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 517                     authenticatePreference.setTitle(R.string.log_out);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 519             });                                                                                          </span>
<span  style=""> 520                                                                                                          </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 521             Simplenote app = (Simplenote) getActivity().getApplication();                                </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 522             AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                   </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 523             CrashUtils.setCurrentUser(app.getSimperium().getUser());                                     </span>
<span  style=""> 524                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 525             AnalyticsTracker.track(                                                                      </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 526                     AnalyticsTracker.Stat.USER_SIGNED_IN,                                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 527                     AnalyticsTracker.CATEGORY_USER,                                                      </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 528                     &quot;signed_in_from_preferences_activity&quot;                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 529             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531     }                                                                                                    </span>
<span  style=""> 532                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 533     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 534     public void onUserCreated(User user) {                                                               </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 535         AnalyticsTracker.track(                                                                          </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 536                 AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                              </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 537                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 538                 &quot;account_created_from_preferences_activity&quot;                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 539         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 540     }                                                                                                    </span>
<span  style=""> 541                                                                                                          </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 542     private void exportData(Uri uri, boolean isUnsyncedNotes) {                                          </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 543         Simplenote currentApp = (Simplenote) requireActivity().getApplication();                         </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 544         Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                           </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 545         JSONObject account = new JSONObject();                                                           </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 546         Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                      </span>
<span  style=""> 547                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 548         try {                                                                                            </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 549             JSONArray activeNotes = new JSONArray();                                                     </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 550             JSONArray trashedNotes = new JSONArray();                                                    </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 551             Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 552                 @Override                                                                                </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 553                 public int compare(String text1, String text2) {                                         </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 554                     return text1.compareToIgnoreCase(text2);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 556             };                                                                                           </span>
<span  style=""> 557                                                                                                          </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 558             while (cursor.moveToNext()) {                                                                </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 559                 Note note = cursor.getObject();                                                          </span>
<span  style=""> 560                                                                                                          </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 561                 if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                            </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 562                     continue;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563                 }                                                                                        </span>
<span  style=""> 564                                                                                                          </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 565                 JSONObject noteJson = new JSONObject();                                                  </span>
<span  style=""> 566                                                                                                          </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 567                 noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                              </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 568                 noteJson.put(&quot;content&quot;, note.getContent());                                              </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 569                 noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                              </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 570                 noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                          </span>
<span  style=""> 571                                                                                                          </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 572                 if (note.isPinned()) {                                                                   </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 573                     noteJson.put(&quot;pinned&quot;, note.isPinned());                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574                 }                                                                                        </span>
<span  style=""> 575                                                                                                          </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 576                 if (note.isMarkdownEnabled()) {                                                          </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 577                     noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578                 }                                                                                        </span>
<span  style=""> 579                                                                                                          </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 580                 if (note.getTags().size() &gt; 0) {                                                         </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 581                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 582                     Collections.sort(tags, comparator);                                                  </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 583                     noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 584                 }                                                                                        </span>
<span  style=""> 585                                                                                                          </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 586                 if (!note.getPublishedUrl().isEmpty()) {                                                 </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 587                     noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588                 }                                                                                        </span>
<span  style=""> 589                                                                                                          </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 590                 if (note.isDeleted()) {                                                                  </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 591                     trashedNotes.put(noteJson);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 592                 } else {                                                                                 </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 593                     activeNotes.put(noteJson);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 595             }                                                                                            </span>
<span  style=""> 596                                                                                                          </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 597             account.put(&quot;activeNotes&quot;, activeNotes);                                                     </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 598             account.put(&quot;trashedNotes&quot;, trashedNotes);                                                   </span>
<span  style=""> 599                                                                                                          </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 600             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 600             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDes🔵</abbr></span>
<span  style=""> 601                                                                                                          </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 602             if (parcelFileDescriptor != null) {                                                          </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 603                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 603                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDesc🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 604                 fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());               </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 605                 parcelFileDescriptor.close();                                                            </span>
<span class="-5163295869402506431" onmouseenter="enter('-5163295869402506431');" onmouseout="out('-5163295869402506431');" style=""> 606                 toast(R.string.export_message_success);                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 607             } else {                                                                                     </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 608                 toast(R.string.export_message_failure);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609             }                                                                                            </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 610         } catch (Exception e) {                                                                          </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 611             toast(R.string.export_message_failure);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613     }                                                                                                    </span>
<span  style=""> 614                                                                                                          </span>
<span class="8996656533128946457" onmouseenter="enter('8996656533128946457');" onmouseout="out('8996656533128946457');" style=""> 615     private void importData(Uri uri) {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 616         try {                                                                                            </span>
<span class="-4975207088998145378" onmouseenter="enter('-4975207088998145378');" onmouseout="out('-4975207088998145378');" style=""> 617             Importer.fromUri(this, uri);                                                                 </span>
<span class="2688222850389673791" onmouseenter="enter('2688222850389673791');" onmouseout="out('2688222850389673791');" style=""> 618             toast(R.string.import_message_success);                                                      </span>
<span class="-6423378606562936098" onmouseenter="enter('-6423378606562936098');" onmouseout="out('-6423378606562936098');" style=""> 619         } catch (Importer.ImportException e) {                                                           </span>
<span class="3768483165101391011" onmouseenter="enter('3768483165101391011');" onmouseout="out('3768483165101391011');" style=""> 620             switch (e.getReason()) {                                                                     </span>
<span class="-6785574966030176200" onmouseenter="enter('-6785574966030176200');" onmouseout="out('-6785574966030176200');" style=""> 621                 case FileError:                                                                          </span>
<span class="4763134744303366290" onmouseenter="enter('4763134744303366290');" onmouseout="out('4763134744303366290');" style=""> 622                     toast(R.string.import_error_file);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 623                     break;                                                                               </span>
<span class="9095738891108111618" onmouseenter="enter('9095738891108111618');" onmouseout="out('9095738891108111618');" style=""> 624                 case ParseError:                                                                         </span>
<span class="4000639691905282270" onmouseenter="enter('4000639691905282270');" onmouseout="out('4000639691905282270');" style=""> 625                     toast(R.string.import_error_parse);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 626                     break;                                                                               </span>
<span class="8133851396074290830" onmouseenter="enter('8133851396074290830');" onmouseout="out('8133851396074290830');" style=""> 627                 case UnknownExportType:                                                                  </span>
<span class="7291299810987557925" onmouseenter="enter('7291299810987557925');" onmouseout="out('7291299810987557925');" style=""> 628                     toast(R.string.import_unknown);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 629                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 630             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 631         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 632     }                                                                                                    </span>
<span  style=""> 633                                                                                                          </span>
<span class="5764694736276201115" onmouseenter="enter('5764694736276201115');" onmouseout="out('5764694736276201115');" style=""> 634     private void trackSortOrder(String label) {                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 635         AnalyticsTracker.track(                                                                          </span>
<span class="7639205635699406797" onmouseenter="enter('7639205635699406797');" onmouseout="out('7639205635699406797');" style=""> 636             AnalyticsTracker.Stat.SETTINGS_SEARCH_SORT_MODE,                                             </span>
<span class="6687394886770621877" onmouseenter="enter('6687394886770621877');" onmouseout="out('6687394886770621877');" style=""> 637             AnalyticsTracker.CATEGORY_SETTING,                                                           </span>
<span class="-2717526105763398021" onmouseenter="enter('-2717526105763398021');" onmouseout="out('-2717526105763398021');" style=""> 638             label                                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 639         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640     }                                                                                                    </span>
<span  style=""> 641                                                                                                          </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 642     private void updateAnalyticsSwitchState() {                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 643         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 644             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 645             mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                    </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 646         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 647             // The preferences object doesn&#x27;t exist for this user yet, create it                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 648             try {                                                                                        </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 649                 Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 650                 prefs.setAnalyticsEnabled(true);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 651                 prefs.save();                                                                            </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 652             } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                  </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 653                 bucketObjectNameInvalid.printStackTrace();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 656     }                                                                                                    </span>
<span  style=""> 657                                                                                                          </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 658     private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                             </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 659         private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                        </span>
<span  style=""> 660                                                                                                          </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 661         LogOutTask(PreferencesFragment fragment) {                                                       </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 662             mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663         }                                                                                                </span>
<span  style=""> 664                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 665         @Override                                                                                        </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 666         protected Boolean doInBackground(Void... voids) {                                                </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 667             PreferencesFragment fragment = mPreferencesFragmentReference.get();                          </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 668             return fragment == null || fragment.hasUnsyncedNotes();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669         }                                                                                                </span>
<span  style=""> 670                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 671         @Override                                                                                        </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 672         protected void onPostExecute(Boolean hasUnsyncedNotes) {                                         </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 673             final PreferencesFragment fragment = mPreferencesFragmentReference.get();                    </span>
<span  style=""> 674                                                                                                          </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 675             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 676                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677             }                                                                                            </span>
<span  style=""> 678                                                                                                          </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 679             // Safety first! Check if any notes are unsynced and warn the user if so.                    </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 680             if (hasUnsyncedNotes) {                                                                      </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""><abbr title=" 681                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))"> 681                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog🔵</abbr></span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 682                     .setTitle(R.string.unsynced_notes)                                                   </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 683                     .setMessage(R.string.unsynced_notes_message)                                         </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 684                     .setPositiveButton(R.string.log_out_anyway,                                          </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 685                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 686                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 687                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 688                                 fragment.logOut();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 690                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 691                     )                                                                                    </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 692                     .setNeutralButton(R.string.export_unsynced_notes,                                    </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 693                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 694                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 695                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 696                                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 697                                 intent.addCategory(Intent.CATEGORY_OPENABLE);                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 698                                 intent.setType(&quot;application/json&quot;);                                      </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""><abbr title=" 699                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));"> 699                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_fi🔵</abbr></span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 700                                 fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 702                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 703                     )                                                                                    </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 704                     .setNegativeButton(R.string.cancel, null)                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 705                     .show();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 706             } else {                                                                                     </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 707                 fragment.logOut();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710     }                                                                                                    </span>
<span  style=""> 711                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 712 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-8416368629588420148" onmouseenter="enter('-8416368629588420148');" onmouseout="out('-8416368629588420148');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 713     static class DeleteAccountRequestHandlerImpl implements DeleteAccountRequestHandler {                </span>
<span class="-7627144928369588685" onmouseenter="enter('-7627144928369588685');" onmouseout="out('-7627144928369588685');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 714         final WeakReference&lt;PreferencesFragment&gt; preferencesFragment;                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 715                                                                                                          </span>
<span class="-646448777039145054" onmouseenter="enter('-646448777039145054');" onmouseout="out('-646448777039145054');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 716         DeleteAccountRequestHandlerImpl(PreferencesFragment fragment) {                                  </span>
<span class="3104220583348133430" onmouseenter="enter('3104220583348133430');" onmouseout="out('3104220583348133430');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 717             this.preferencesFragment = new WeakReference&lt;&gt;(fragment);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 718         }                                                                                                </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 719                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 720         @Override                                                                                        </span>
<span class="-1271212954815429882" onmouseenter="enter('-1271212954815429882');" onmouseout="out('-1271212954815429882');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 721         public void onSuccess() {                                                                        </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 722             final PreferencesFragment fragment = preferencesFragment.get();                              </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 723             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 724                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 725             }                                                                                            </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 726                                                                                                          </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 727             FragmentActivity activity = fragment.getActivity();                                          </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 728             if (activity == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 729                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 730             }                                                                                            </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 731                                                                                                          </span>
<span class="-6242454667579224576" onmouseenter="enter('-6242454667579224576');" onmouseout="out('-6242454667579224576');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 732             AppLog.add(Type.ACCOUNT, &quot;Request to delete account was successful&quot;);                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 733                                                                                                          </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 734             activity.runOnUiThread(new Runnable() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 735                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 736                 public void run() {                                                                      </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 737                     fragment.closeProgressDialogDeleteAccount();                                         </span>
<span class="-7768729803778858238" onmouseenter="enter('-7768729803778858238');" onmouseout="out('-7768729803778858238');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 738                     fragment.showDeleteAccountConfirmationDialog();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 739                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 740             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 741         }                                                                                                </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 742                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 743         @Override                                                                                        </span>
<span class="8947631172795368471" onmouseenter="enter('8947631172795368471');" onmouseout="out('8947631172795368471');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 744         public void onFailure() {                                                                        </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 745             final PreferencesFragment fragment = preferencesFragment.get();                              </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 746             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 747                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 748             }                                                                                            </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 749                                                                                                          </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 750             FragmentActivity activity = fragment.getActivity();                                          </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 751             if (activity == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 752                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 753             }                                                                                            </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 754                                                                                                          </span>
<span class="5786671387670425912" onmouseenter="enter('5786671387670425912');" onmouseout="out('5786671387670425912');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 755             AppLog.add(Type.ACCOUNT, &quot;Failure while calling server to delete account&quot;);                  </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 756                                                                                                          </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 757             activity.runOnUiThread(new Runnable() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 758                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 759                 public void run() {                                                                      </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 760                     fragment.closeProgressDialogDeleteAccount();                                         </span>
<span class="5909691904792777633" onmouseenter="enter('5909691904792777633');" onmouseout="out('5909691904792777633');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 761                     fragment.showDialogDeleteAccountError();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 762                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 763             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 764         }                                                                                                </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 765 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 766 =======                                                                                                  </span>
<span class="2871930843442460031" onmouseenter="enter('2871930843442460031');" onmouseout="out('2871930843442460031');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 767     private void toast(int stringId) {                                                                   </span>
<span class="-8691575717770343351" onmouseenter="enter('-8691575717770343351');" onmouseout="out('-8691575717770343351');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 768         toast(stringId, Toast.LENGTH_SHORT);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 769     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 770                                                                                                          </span>
<span class="-1402573872892647268" onmouseenter="enter('-1402573872892647268');" onmouseout="out('-1402573872892647268');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 771     private void toast(int stringId, int length) {                                                       </span>
<span class="-3128032619893084841" onmouseenter="enter('-3128032619893084841');" onmouseout="out('-3128032619893084841');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 772         Toast.makeText(requireContext(), getString(stringId), length).show();                            </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 773 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 774     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 775 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   5 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   6 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   7 import android.content.Intent;                                                                           </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8 import android.net.Uri;                                                                                  </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10 import android.os.Bundle;                                                                                </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11 import android.os.ParcelFileDescriptor;                                                                  </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12 import android.widget.Toast;                                                                             </span>
<span  style="">  13                                                                                                          </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  16 import androidx.core.app.ShareCompat;                                                                    </span>
<span class="5842151950717757009" onmouseenter="enter('5842151950717757009');" onmouseout="out('5842151950717757009');" style="">  17 import androidx.core.content.ContextCompat;                                                              </span>
<span class="3871271816129224755" onmouseenter="enter('3871271816129224755');" onmouseout="out('3871271816129224755');" style="">  18 import androidx.fragment.app.FragmentActivity;                                                           </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  19 import androidx.preference.ListPreference;                                                               </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  20 import androidx.preference.Preference;                                                                   </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  21 import androidx.preference.PreferenceFragmentCompat;                                                     </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  22 import androidx.preference.SwitchPreferenceCompat;                                                       </span>
<span  style="">  23                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  24 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="7695324246477815031" onmouseenter="enter('7695324246477815031');" onmouseout="out('7695324246477815031');" style="">  25 import com.automattic.simplenote.authentication.SimplenoteAuthenticationActivity;                        </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  26 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  27 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="-6579126909083142141" onmouseenter="enter('-6579126909083142141');" onmouseout="out('-6579126909083142141');" style="">  28 import com.automattic.simplenote.utils.AccountNetworkUtils;                                              </span>
<span class="-7647069095684996043" onmouseenter="enter('-7647069095684996043');" onmouseout="out('-7647069095684996043');" style="">  29 import com.automattic.simplenote.utils.AccountNetworkUtils.DeleteAccountRequestHandler;                  </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  30 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  31 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="3927304760801257382" onmouseenter="enter('3927304760801257382');" onmouseout="out('3927304760801257382');" style="">  32 import com.automattic.simplenote.utils.AuthUtils;                                                        </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  33 import com.automattic.simplenote.utils.BrowserUtils;                                                     </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  34 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="">  35 import com.automattic.simplenote.utils.DialogUtils;                                                      </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  36 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  37 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-8694742716172250276" onmouseenter="enter('-8694742716172250276');" onmouseout="out('-8694742716172250276');" style="">  38 import com.automattic.simplenote.utils.SimplenoteProgressDialogFragment;                                 </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  39 import com.simperium.Simperium;                                                                          </span>
<span class="8061185401310260696" onmouseenter="enter('8061185401310260696');" onmouseout="out('8061185401310260696');" style="">  40 import com.simperium.android.ProgressDialogFragment;                                                     </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  41 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  42 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  43 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  44 import com.simperium.client.User;                                                                        </span>
<span  style="">  45                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  46 import org.json.JSONArray;                                                                               </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  47 import org.json.JSONObject;                                                                              </span>
<span  style="">  48                                                                                                          </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  49 import java.io.FileOutputStream;                                                                         </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  50 import java.lang.ref.WeakReference;                                                                      </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  51 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  52 import java.util.Comparator;                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53 import java.util.List;                                                                                   </span>
<span  style="">  54                                                                                                          </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  55 import static android.app.Activity.RESULT_OK;                                                            </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  56 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span class="8826967329515035160" onmouseenter="enter('8826967329515035160');" onmouseout="out('8826967329515035160');" style="">  57 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING;                          </span>
<span class="-1682178856466576571" onmouseenter="enter('-1682178856466576571');" onmouseout="out('-1682178856466576571');" style="">  58 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING_LABEL;                    </span>
<span class="3295022017599403667" onmouseenter="enter('3295022017599403667');" onmouseout="out('3295022017599403667');" style="">  59 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING;                         </span>
<span class="-175775655276735749" onmouseenter="enter('-175775655276735749');" onmouseout="out('-175775655276735749');" style="">  60 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING_LABEL;                   </span>
<span class="-5373309715036096389" onmouseenter="enter('-5373309715036096389');" onmouseout="out('-5373309715036096389');" style="">  61 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING;                          </span>
<span class="-870579044833355009" onmouseenter="enter('-870579044833355009');" onmouseout="out('-870579044833355009');" style="">  62 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING_LABEL;                    </span>
<span class="-7837298184614781055" onmouseenter="enter('-7837298184614781055');" onmouseout="out('-7837298184614781055');" style="">  63 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING;                         </span>
<span class="9031990127045012175" onmouseenter="enter('9031990127045012175');" onmouseout="out('9031990127045012175');" style="">  64 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING_LABEL;                   </span>
<span class="2353849115484789575" onmouseenter="enter('2353849115484789575');" onmouseout="out('2353849115484789575');" style="">  65 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING;                         </span>
<span class="8859125948039467765" onmouseenter="enter('8859125948039467765');" onmouseout="out('8859125948039467765');" style="">  66 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING_LABEL;                   </span>
<span class="-7793424336450235488" onmouseenter="enter('-7793424336450235488');" onmouseout="out('-7793424336450235488');" style="">  67 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING;                        </span>
<span class="3117736445719959817" onmouseenter="enter('3117736445719959817');" onmouseout="out('3117736445719959817');" style="">  68 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING_LABEL;                  </span>
<span  style="">  69                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  70 /**                                                                                                      </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  71  * A simple {@link Fragment} subclass.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  72  */                                                                                                      </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style=""><abbr title="  73 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  73 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, S🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  74     public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                               </span>
<span  style="">  75                                                                                                          </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  76     private static final int REQUEST_EXPORT_DATA = 9001;                                                 </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  77     private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                             </span>
<span class="5428701190302531857" onmouseenter="enter('5428701190302531857');" onmouseout="out('5428701190302531857');" style="">  78     private static final int REQUEST_IMPORT_DATA = 9003;                                                 </span>
<span  style="">  79                                                                                                          </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  80     private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                      </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  81     private SwitchPreferenceCompat mAnalyticsSwitch;                                                     </span>
<span class="-2972309948934894211" onmouseenter="enter('-2972309948934894211');" onmouseout="out('-2972309948934894211');" style="">  82     private SimplenoteProgressDialogFragment mProgressDialogFragment;                                    </span>
<span  style="">  83                                                                                                          </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  84     public PreferencesFragment() {                                                                       </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  85         // Required empty public constructor                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86     }                                                                                                    </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88     @Override                                                                                            </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  89     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                         </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  90         addPreferencesFromResource(R.xml.preferences);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91     }                                                                                                    </span>
<span  style="">  92                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  94     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  95         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  96                                                                                                          </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  97         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                     </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  98         Simplenote currentApp = (Simplenote) getActivity().getApplication();                             </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  99         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style=""> 100         simperium.setUserStatusChangeListener(this);                                                     </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style=""> 101         simperium.setOnUserCreatedListener(this);                                                        </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style=""> 102         mPreferencesBucket = currentApp.getPreferencesBucket();                                          </span>
<span  style=""> 103                                                                                                          </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style=""> 104         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());               </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style=""> 105         if (simperium.needsAuthorization()) {                                                            </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style=""> 106             authenticatePreference.setTitle(R.string.log_in);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 107         } else {                                                                                         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 108             authenticatePreference.setTitle(R.string.log_out);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109         }                                                                                                </span>
<span  style=""> 110                                                                                                          </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style=""> 111         authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 112             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 113             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 114                 if (!isAdded()) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 115                     return false;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116                 }                                                                                        </span>
<span  style=""> 117                                                                                                          </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style=""> 118                 Simplenote currentApp = (Simplenote) getActivity().getApplication();                     </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 119                 if (currentApp.getSimperium().needsAuthorization()) {                                    </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""><abbr title=" 120                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);"> 120                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class🔵</abbr></span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 121                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 122                 } else {                                                                                 </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 123                     new LogOutTask(PreferencesFragment.this).execute();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 125                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 127         });                                                                                              </span>
<span  style=""> 128                                                                                                          </span>
<span class="2946900849266796620" onmouseenter="enter('2946900849266796620');" onmouseout="out('2946900849266796620');" style=""> 129         Preference deleteAppPreference = findPreference(&quot;pref_key_delete_account&quot;);                      </span>
<span class="-2350223962711597776" onmouseenter="enter('-2350223962711597776');" onmouseout="out('-2350223962711597776');" style=""> 130         deleteAppPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 131             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 132             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2781290625557367680" onmouseenter="enter('-2781290625557367680');" onmouseout="out('-2781290625557367680');" style=""> 133                 showDeleteAccountDialog();                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 134                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 136         });                                                                                              </span>
<span  style=""> 137                                                                                                          </span>
<span class="-8106343823043205231" onmouseenter="enter('-8106343823043205231');" onmouseout="out('-8106343823043205231');" style=""><abbr title=" 138         findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 138         findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 140             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 141                 try {                                                                                    </span>
<span class="-2711969911277073522" onmouseenter="enter('-2711969911277073522');" onmouseout="out('-2711969911277073522');" style=""><abbr title=" 142                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;);"> 142                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 143                 } catch (Exception e) {                                                                  </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style=""> 144                     toast(R.string.no_browser_available, Toast.LENGTH_LONG);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 146                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 148         });                                                                                              </span>
<span  style=""> 149                                                                                                          </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 150         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 150         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickL🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 151             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 152             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 153                 try {                                                                                    </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 154                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 155                 } catch (Exception e) {                                                                  </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style=""> 156                     toast(R.string.no_browser_available, Toast.LENGTH_LONG);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 158                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 160         });                                                                                              </span>
<span  style=""> 161                                                                                                          </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""><abbr title=" 162         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 162         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLis🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 163             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 164             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 165                 startActivity(new Intent(getActivity(), AboutActivity.class));                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 166                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 168         });                                                                                              </span>
<span  style=""> 169                                                                                                          </span>
<span class="-1307457492407505021" onmouseenter="enter('-1307457492407505021');" onmouseout="out('-1307457492407505021');" style=""><abbr title=" 170         findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 170         findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 172             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-6211373805165179522" onmouseenter="enter('-6211373805165179522');" onmouseout="out('-6211373805165179522');" style=""> 173                 Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);                                 </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 174                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="4423889240572822366" onmouseenter="enter('4423889240572822366');" onmouseout="out('4423889240572822366');" style=""> 175                 intent.setType(&quot;*/*&quot;);                                                                   </span>
<span class="6733339250899644961" onmouseenter="enter('6733339250899644961');" onmouseout="out('6733339250899644961');" style=""> 176                 intent.putExtra(Intent.EXTRA_MIME_TYPES, new String[]{&quot;text/*&quot;, &quot;application/json&quot;});    </span>
<span class="233539475142465633" onmouseenter="enter('233539475142465633');" onmouseout="out('233539475142465633');" style=""> 177                 startActivityForResult(intent, REQUEST_IMPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 178                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 180         });                                                                                              </span>
<span  style=""> 181                                                                                                          </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 182         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 182         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 184             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 185                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 186                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 187                 intent.setType(&quot;application/json&quot;);                                                      </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 188                 intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                    </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 189                 startActivityForResult(intent, REQUEST_EXPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 190                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 192         });                                                                                              </span>
<span  style=""> 193                                                                                                          </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 194         final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                     </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 195         themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 197             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 198                 updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 199                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200             }                                                                                            </span>
<span  style=""> 201                                                                                                          </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 202             private void updateTheme(Activity activity, int index) {                                     </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 203                 CharSequence[] entries = themePreference.getEntries();                                   </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 204                 themePreference.setSummary(entries[index]);                                              </span>
<span  style=""> 205                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 206                 AnalyticsTracker.track(                                                                  </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 207                         AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                    </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 208                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 209                         &quot;theme_preference&quot;                                                               </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 210                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 212         });                                                                                              </span>
<span  style=""> 213                                                                                                          </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 214         final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                             </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style=""> 215         stylePreference.setSummary(                                                                      </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style=""> 216             PrefUtils.isPremium(requireContext()) ?                                                      </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style=""> 217                 PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                              </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style=""> 218                 PrefUtils.getStyleNameDefault(requireContext())                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 219         );                                                                                               </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 220         stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 222             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 223                 startActivity(new Intent(requireContext(), StyleActivity.class));                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 224                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 226         });                                                                                              </span>
<span  style=""> 227                                                                                                          </span>
<span class="7183771711274333920" onmouseenter="enter('7183771711274333920');" onmouseout="out('7183771711274333920');" style=""> 228         final Preference membershipPreference = findPreference(&quot;pref_key_membership&quot;);                   </span>
<span class="-7419655243406727093" onmouseenter="enter('-7419655243406727093');" onmouseout="out('-7419655243406727093');" style=""> 229         membershipPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 231             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4755531410574606252" onmouseenter="enter('4755531410574606252');" onmouseout="out('4755531410574606252');" style=""> 232                 ((PreferencesActivity) requireActivity()).openBrowserForMembership(getView());           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 233                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 235         });                                                                                              </span>
<span  style=""> 236                                                                                                          </span>
<span class="5948357716640114915" onmouseenter="enter('5948357716640114915');" onmouseout="out('5948357716640114915');" style=""> 237         if (PrefUtils.isPremium(requireContext())) {                                                     </span>
<span class="-8263706598863184063" onmouseenter="enter('-8263706598863184063');" onmouseout="out('-8263706598863184063');" style=""> 238             membershipPreference.setLayoutResource(R.layout.preference_default);                         </span>
<span class="-6810727056863141958" onmouseenter="enter('-6810727056863141958');" onmouseout="out('-6810727056863141958');" style=""> 239             membershipPreference.setSummary(R.string.membership_premium);                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 240         } else {                                                                                         </span>
<span class="7955017533183298811" onmouseenter="enter('7955017533183298811');" onmouseout="out('7955017533183298811');" style=""> 241             membershipPreference.setLayoutResource(R.layout.preference_button);                          </span>
<span class="-1940646826107252258" onmouseenter="enter('-1940646826107252258');" onmouseout="out('-1940646826107252258');" style=""> 242             membershipPreference.setSummary(R.string.membership_free);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243         }                                                                                                </span>
<span  style=""> 244                                                                                                          </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 245         final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                 </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 246         sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 248             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 249                 int index = Integer.parseInt(newValue.toString());                                       </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 250                 CharSequence[] entries = sortPreference.getEntries();                                    </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 251                 sortPreference.setSummary(entries[index]);                                               </span>
<span  style=""> 252                                                                                                          </span>
<span class="129000644980271681" onmouseenter="enter('129000644980271681');" onmouseout="out('129000644980271681');" style=""> 253                 if (!sortPreference.getValue().equals(newValue)) {                                       </span>
<span class="8821509448547790359" onmouseenter="enter('8821509448547790359');" onmouseout="out('8821509448547790359');" style=""> 254                     switch (index) {                                                                     </span>
<span class="-2169261776148475044" onmouseenter="enter('-2169261776148475044');" onmouseout="out('-2169261776148475044');" style=""> 255                         case ALPHABETICAL_ASCENDING:                                                     </span>
<span class="-3317425248268570668" onmouseenter="enter('-3317425248268570668');" onmouseout="out('-3317425248268570668');" style=""> 256                             trackSortOrder(ALPHABETICAL_ASCENDING_LABEL);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 257                             break;                                                                       </span>
<span class="4310955617522252752" onmouseenter="enter('4310955617522252752');" onmouseout="out('4310955617522252752');" style=""> 258                         case ALPHABETICAL_DESCENDING:                                                    </span>
<span class="8357536101849916572" onmouseenter="enter('8357536101849916572');" onmouseout="out('8357536101849916572');" style=""> 259                             trackSortOrder(ALPHABETICAL_DESCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 260                             break;                                                                       </span>
<span class="-2064268994807656061" onmouseenter="enter('-2064268994807656061');" onmouseout="out('-2064268994807656061');" style=""> 261                         case DATE_CREATED_ASCENDING:                                                     </span>
<span class="-3680449299537315875" onmouseenter="enter('-3680449299537315875');" onmouseout="out('-3680449299537315875');" style=""> 262                             trackSortOrder(DATE_CREATED_ASCENDING_LABEL);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 263                             break;                                                                       </span>
<span class="-4952093231033435692" onmouseenter="enter('-4952093231033435692');" onmouseout="out('-4952093231033435692');" style=""> 264                         case DATE_CREATED_DESCENDING:                                                    </span>
<span class="-4025354653068339079" onmouseenter="enter('-4025354653068339079');" onmouseout="out('-4025354653068339079');" style=""> 265                             trackSortOrder(DATE_CREATED_DESCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 266                             break;                                                                       </span>
<span class="-9006552640903559872" onmouseenter="enter('-9006552640903559872');" onmouseout="out('-9006552640903559872');" style=""> 267                         case DATE_MODIFIED_ASCENDING:                                                    </span>
<span class="-3983368371522366244" onmouseenter="enter('-3983368371522366244');" onmouseout="out('-3983368371522366244');" style=""> 268                             trackSortOrder(DATE_MODIFIED_ASCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 269                             break;                                                                       </span>
<span class="-8243438149709409515" onmouseenter="enter('-8243438149709409515');" onmouseout="out('-8243438149709409515');" style=""> 270                         case DATE_MODIFIED_DESCENDING:                                                   </span>
<span class="-6491153765216744167" onmouseenter="enter('-6491153765216744167');" onmouseout="out('-6491153765216744167');" style=""> 271                             trackSortOrder(DATE_MODIFIED_DESCENDING_LABEL);                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 272                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274                 }                                                                                        </span>
<span  style=""> 275                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 276                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 278         });                                                                                              </span>
<span  style=""> 279                                                                                                          </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 280         SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);        </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 281         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 283             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 284                 if (((SwitchPreferenceCompat) preference).isChecked()) {                                 </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 285                     AnalyticsTracker.track(                                                              </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 286                             AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 287                             AnalyticsTracker.CATEGORY_USER,                                              </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 288                             &quot;condensed_list_preference&quot;                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 289                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290                 }                                                                                        </span>
<span  style=""> 291                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 292                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 294         });                                                                                              </span>
<span  style=""> 295                                                                                                          </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 296         // Add the hyperlink to the analytics summary                                                    </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 297         Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);    </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 298         String formattedSummary = String.format(                                                         </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 299                 getString(R.string.share_analytics_summary),                                             </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 300                 &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                           </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 301                 &quot;&lt;/a&gt;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 302         );                                                                                               </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 303         analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                    </span>
<span  style=""> 304                                                                                                          </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 305         mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                  </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 306         mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 307             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 308             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 309                 try {                                                                                    </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 310                     boolean isChecked = (boolean)newValue;                                               </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 311                     Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                  </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 312                     prefs.setAnalyticsEnabled(isChecked);                                                </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 313                     prefs.save();                                                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 314                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 315                     e.printStackTrace();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316                 }                                                                                        </span>
<span  style=""> 317                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 318                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 320         });                                                                                              </span>
<span  style=""> 321                                                                                                          </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 322         updateAnalyticsSwitchState();                                                                    </span>
<span  style=""> 323                                                                                                          </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""><abbr title=" 324         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 324         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 325             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 326             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style=""> 327                 startActivity(                                                                           </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style=""> 328                     ShareCompat.IntentBuilder.from(requireActivity())                                    </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style=""> 329                         .setText(AppLog.get())                                                           </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style=""> 330                         .setType(&quot;text/plain&quot;)                                                           </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style=""> 331                         .createChooserIntent()                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 332                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 333                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 335         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336     }                                                                                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="-1191373455187963152" onmouseenter="enter('-1191373455187963152');" onmouseout="out('-1191373455187963152');" style=""> 338     private void showProgressDialogDeleteAccount() {                                                     </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 339         FragmentActivity activity = getActivity();                                                       </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 340         if (activity == null) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 341             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342         }                                                                                                </span>
<span  style=""> 343                                                                                                          </span>
<span class="908378658564909306" onmouseenter="enter('908378658564909306');" onmouseout="out('908378658564909306');" style=""><abbr title=" 344         mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.requesting_message));"> 344         mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.request🔵</abbr></span>
<span class="-7015461328566138890" onmouseenter="enter('-7015461328566138890');" onmouseout="out('-7015461328566138890');" style=""> 345         mProgressDialogFragment.show(activity.getSupportFragmentManager(), ProgressDialogFragment.TAG);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346     }                                                                                                    </span>
<span  style=""> 347                                                                                                          </span>
<span class="-6444433115162797199" onmouseenter="enter('-6444433115162797199');" onmouseout="out('-6444433115162797199');" style=""> 348     private void closeProgressDialogDeleteAccount() {                                                    </span>
<span class="-5231919673723505361" onmouseenter="enter('-5231919673723505361');" onmouseout="out('-5231919673723505361');" style=""> 349         if (mProgressDialogFragment != null &amp;&amp; !mProgressDialogFragment.isHidden()) {                    </span>
<span class="4521774342365180283" onmouseenter="enter('4521774342365180283');" onmouseout="out('4521774342365180283');" style=""> 350             mProgressDialogFragment.dismiss();                                                           </span>
<span class="-5320112376977111528" onmouseenter="enter('-5320112376977111528');" onmouseout="out('-5320112376977111528');" style=""> 351             mProgressDialogFragment = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353     }                                                                                                    </span>
<span  style=""> 354                                                                                                          </span>
<span class="5272209026921050994" onmouseenter="enter('5272209026921050994');" onmouseout="out('5272209026921050994');" style=""> 355     private void showDeleteAccountDialog() {                                                             </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style=""> 356         Context context = getContext();                                                                  </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style=""> 357         if (context == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 358             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359         }                                                                                                </span>
<span  style=""> 360                                                                                                          </span>
<span class="6313083696990294907" onmouseenter="enter('6313083696990294907');" onmouseout="out('6313083696990294907');" style=""><abbr title=" 361         final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this);"> 361         final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this🔵</abbr></span>
<span  style=""> 362                                                                                                          </span>
<span class="1031729987205306789" onmouseenter="enter('1031729987205306789');" onmouseout="out('1031729987205306789');" style=""><abbr title=" 363         final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, R.style.Dialog))"> 363         final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, 🔵</abbr></span>
<span class="-1873798539673657377" onmouseenter="enter('-1873798539673657377');" onmouseout="out('-1873798539673657377');" style=""> 364                 .setTitle(R.string.delete_account)                                                       </span>
<span class="-386066277178615224" onmouseenter="enter('-386066277178615224');" onmouseout="out('-386066277178615224');" style=""> 365                 .setMessage(R.string.delete_account_message)                                             </span>
<span class="-8328819480399500830" onmouseenter="enter('-8328819480399500830');" onmouseout="out('-8328819480399500830');" style=""> 366                 .setPositiveButton(R.string.delete_account, new DialogInterface.OnClickListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 367                         @Override                                                                        </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 368                         public void onClick(DialogInterface dialogInterface, int i) {                    </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 369                             FragmentActivity activity = getActivity();                                   </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 370                             if (activity == null) {                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 371                                 return;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372                             }                                                                            </span>
<span  style=""> 373                                                                                                          </span>
<span class="6459977236903005106" onmouseenter="enter('6459977236903005106');" onmouseout="out('6459977236903005106');" style=""> 374                             showProgressDialogDeleteAccount();                                           </span>
<span  style=""> 375                                                                                                          </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style=""> 376                             Simplenote currentApp = (Simplenote) activity.getApplication();              </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 377                             Simperium simperium = currentApp.getSimperium();                             </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style=""> 378                             String userEmail = simperium.getUser().getEmail();                           </span>
<span class="1651381071182530529" onmouseenter="enter('1651381071182530529');" onmouseout="out('1651381071182530529');" style=""> 379                             String userToken = simperium.getUser().getAccessToken();                     </span>
<span  style=""> 380                                                                                                          </span>
<span class="3196843899819626389" onmouseenter="enter('3196843899819626389');" onmouseout="out('3196843899819626389');" style=""> 381                             // makeDeleteAccountRequest can throw an exception when it cannot build      </span>
<span class="768653677388483161" onmouseenter="enter('768653677388483161');" onmouseout="out('768653677388483161');" style=""> 382                             // the JSON object. In those cases, we show the error dialog since           </span>
<span class="1028851578837449957" onmouseenter="enter('1028851578837449957');" onmouseout="out('1028851578837449957');" style=""> 383                             // it can be related to memory constraints or something else that is         </span>
<span class="5336907060346624635" onmouseenter="enter('5336907060346624635');" onmouseout="out('5336907060346624635');" style=""> 384                             // just a transient fault                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 385                             try {                                                                        </span>
<span class="1030407728602517742" onmouseenter="enter('1030407728602517742');" onmouseout="out('1030407728602517742');" style=""> 386                                 AppLog.add(Type.ACCOUNT, &quot;Making request to delete account&quot;);            </span>
<span  style=""> 387                                                                                                          </span>
<span class="-7545959631891665838" onmouseenter="enter('-7545959631891665838');" onmouseout="out('-7545959631891665838');" style=""> 388                                 AccountNetworkUtils.makeDeleteAccountRequest(                            </span>
<span class="-5593225241325787649" onmouseenter="enter('-5593225241325787649');" onmouseout="out('-5593225241325787649');" style=""> 389                                         userEmail,                                                       </span>
<span class="-7456986882819251964" onmouseenter="enter('-7456986882819251964');" onmouseout="out('-7456986882819251964');" style=""> 390                                         userToken,                                                       </span>
<span class="-6992356639091573052" onmouseenter="enter('-6992356639091573052');" onmouseout="out('-6992356639091573052');" style=""> 391                                         deleteAccountHandler);                                           </span>
<span class="-8673390349745745141" onmouseenter="enter('-8673390349745745141');" onmouseout="out('-8673390349745745141');" style=""> 392                             } catch (IllegalArgumentException exception) {                               </span>
<span class="-5966064403349693580" onmouseenter="enter('-5966064403349693580');" onmouseout="out('-5966064403349693580');" style=""> 393                                 AppLog.add(Type.ACCOUNT, &quot;Error trying to make request &quot; +               </span>
<span class="6896797996484321928" onmouseenter="enter('6896797996484321928');" onmouseout="out('6896797996484321928');" style=""> 394                                         &quot;to delete account. Error: &quot; + exception.getMessage());          </span>
<span  style=""> 395                                                                                                          </span>
<span class="-6213194126034221756" onmouseenter="enter('-6213194126034221756');" onmouseout="out('-6213194126034221756');" style=""> 396                                 showDialogDeleteAccountError();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399                     }                                                                                    </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 400                 )                                                                                        </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 401                 .setNegativeButton(R.string.cancel, null)                                                </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 402                 .create();                                                                               </span>
<span  style=""> 403                                                                                                          </span>
<span class="5125198818275769351" onmouseenter="enter('5125198818275769351');" onmouseout="out('5125198818275769351');" style=""> 404         dialogDeleteAccount.setOnShowListener(new DialogInterface.OnShowListener() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 405             @Override                                                                                    </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 406             public void onShow(DialogInterface dialog) {                                                 </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 407                 FragmentActivity activity = getActivity();                                               </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 408                 if (activity == null) {                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 409                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410                 }                                                                                        </span>
<span  style=""> 411                                                                                                          </span>
<span class="1365403079202164871" onmouseenter="enter('1365403079202164871');" onmouseout="out('1365403079202164871');" style=""> 412                 int colorRed = ContextCompat.getColor(activity, R.color.text_button_red);                </span>
<span class="-3136107241359118707" onmouseenter="enter('-3136107241359118707');" onmouseout="out('-3136107241359118707');" style=""> 413                 dialogDeleteAccount                                                                      </span>
<span class="111291750922386792" onmouseenter="enter('111291750922386792');" onmouseout="out('111291750922386792');" style=""> 414                         .getButton(AlertDialog.BUTTON_POSITIVE)                                          </span>
<span class="-131849950832046769" onmouseenter="enter('-131849950832046769');" onmouseout="out('-131849950832046769');" style=""> 415                         .setTextColor(colorRed);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 417         });                                                                                              </span>
<span class="-8133600341455936609" onmouseenter="enter('-8133600341455936609');" onmouseout="out('-8133600341455936609');" style=""> 418         dialogDeleteAccount.show();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419     }                                                                                                    </span>
<span  style=""> 420                                                                                                          </span>
<span class="-4571070378142539494" onmouseenter="enter('-4571070378142539494');" onmouseout="out('-4571070378142539494');" style=""> 421     private void showDialogDeleteAccountError() {                                                        </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style=""> 422         Context context = getContext();                                                                  </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style=""> 423         if (context == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 424             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425         }                                                                                                </span>
<span  style=""> 426                                                                                                          </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style=""> 427         DialogUtils.showDialogWithEmail(                                                                 </span>
<span class="8707191112376903621" onmouseenter="enter('8707191112376903621');" onmouseout="out('8707191112376903621');" style=""> 428                 context,                                                                                 </span>
<span class="8499829491281829275" onmouseenter="enter('8499829491281829275');" onmouseout="out('8499829491281829275');" style=""> 429                 getString(R.string.error_ocurred_message)                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 430         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431     }                                                                                                    </span>
<span  style=""> 432                                                                                                          </span>
<span class="-7722414756461467859" onmouseenter="enter('-7722414756461467859');" onmouseout="out('-7722414756461467859');" style=""> 433     private void showDeleteAccountConfirmationDialog() {                                                 </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 434         FragmentActivity activity = getActivity();                                                       </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 435         if (activity == null) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 436             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437         }                                                                                                </span>
<span  style=""> 438                                                                                                          </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style=""> 439         Simplenote currentApp = (Simplenote) activity.getApplication();                                  </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 440         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style=""> 441         String userEmail = simperium.getUser().getEmail();                                               </span>
<span  style=""> 442                                                                                                          </span>
<span class="3621082773894450353" onmouseenter="enter('3621082773894450353');" onmouseout="out('3621082773894450353');" style=""> 443         AlertDialog dialogDeleteAccountConfirmation = new AlertDialog.Builder(                           </span>
<span class="7887587112328823469" onmouseenter="enter('7887587112328823469');" onmouseout="out('7887587112328823469');" style=""> 444                 new ContextThemeWrapper(activity, R.style.Dialog))                                       </span>
<span class="-8605297465257752598" onmouseenter="enter('-8605297465257752598');" onmouseout="out('-8605297465257752598');" style=""> 445                 .setTitle(R.string.request_received)                                                     </span>
<span class="-5099278043250121234" onmouseenter="enter('-5099278043250121234');" onmouseout="out('-5099278043250121234');" style=""> 446                 .setMessage(getString(R.string.account_deletion_message, userEmail))                     </span>
<span class="-5617878821115539617" onmouseenter="enter('-5617878821115539617');" onmouseout="out('-5617878821115539617');" style=""> 447                 .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 448                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 449                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-9058588631339612355" onmouseenter="enter('-9058588631339612355');" onmouseout="out('-9058588631339612355');" style=""> 450                                 dialogInterface.dismiss();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 452                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 453                 )                                                                                        </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 454                 .create();                                                                               </span>
<span  style=""> 455                                                                                                          </span>
<span class="5504919937204140474" onmouseenter="enter('5504919937204140474');" onmouseout="out('5504919937204140474');" style=""> 456         dialogDeleteAccountConfirmation.show();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 457     }                                                                                                    </span>
<span  style=""> 458                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 459     @Override                                                                                            </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 460     public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                   </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style=""> 461         if (resultCode != RESULT_OK || resultData == null) {                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 462             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463         }                                                                                                </span>
<span  style=""> 464                                                                                                          </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 465         if (resultData.getData() == null) {                                                              </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 466             toast(R.string.export_message_failure);                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 467             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468         }                                                                                                </span>
<span  style=""> 469                                                                                                          </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 470         switch (requestCode) {                                                                           </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 471             case REQUEST_EXPORT_DATA:                                                                    </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 472                 exportData(resultData.getData(), false);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 473                 break;                                                                                   </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 474             case REQUEST_EXPORT_UNSYNCED:                                                                </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 475                 exportData(resultData.getData(), true);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 476                 break;                                                                                   </span>
<span class="-81471314031648058" onmouseenter="enter('-81471314031648058');" onmouseout="out('-81471314031648058');" style=""> 477             case REQUEST_IMPORT_DATA:                                                                    </span>
<span class="-4840036634621538874" onmouseenter="enter('-4840036634621538874');" onmouseout="out('-4840036634621538874');" style=""> 478                 importData(resultData.getData());                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 479                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 483     private boolean hasUnsyncedNotes() {                                                                 </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 484         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 485         Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                         </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 486         Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 487         while (notesCursor.moveToNext()) {                                                               </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 488             Note note = notesCursor.getObject();                                                         </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 489             if (note.isNew() || note.isModified()) {                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 490                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492         }                                                                                                </span>
<span  style=""> 493                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 494         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495     }                                                                                                    </span>
<span  style=""> 496                                                                                                          </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 497     private void logOut() {                                                                              </span>
<span class="4969264094597597154" onmouseenter="enter('4969264094597597154');" onmouseout="out('4969264094597597154');" style=""> 498         AppLog.add(Type.ACTION, &quot;Tapped logout button (PreferencesFragment)&quot;);                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 499         AnalyticsTracker.track(                                                                          </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 500                 AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                   </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 501                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 502                 &quot;preferences_sign_out_button&quot;                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 503         );                                                                                               </span>
<span  style=""> 504                                                                                                          </span>
<span class="1334957593624703804" onmouseenter="enter('1334957593624703804');" onmouseout="out('1334957593624703804');" style=""> 505         AuthUtils.logOut((Simplenote) requireActivity().getApplication());                               </span>
<span  style=""> 506                                                                                                          </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 507         getActivity().finish();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508     }                                                                                                    </span>
<span  style=""> 509                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 510     @Override                                                                                            </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 511     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 512         if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                             </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 513             // User signed in                                                                            </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 514             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 515                 public void run() {                                                                      </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 516                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 517                     authenticatePreference.setTitle(R.string.log_out);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 519             });                                                                                          </span>
<span  style=""> 520                                                                                                          </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 521             Simplenote app = (Simplenote) getActivity().getApplication();                                </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 522             AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                   </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 523             CrashUtils.setCurrentUser(app.getSimperium().getUser());                                     </span>
<span  style=""> 524                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 525             AnalyticsTracker.track(                                                                      </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 526                     AnalyticsTracker.Stat.USER_SIGNED_IN,                                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 527                     AnalyticsTracker.CATEGORY_USER,                                                      </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 528                     &quot;signed_in_from_preferences_activity&quot;                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 529             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531     }                                                                                                    </span>
<span  style=""> 532                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 533     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 534     public void onUserCreated(User user) {                                                               </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 535         AnalyticsTracker.track(                                                                          </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 536                 AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                              </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 537                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 538                 &quot;account_created_from_preferences_activity&quot;                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 539         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 540     }                                                                                                    </span>
<span  style=""> 541                                                                                                          </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 542     private void exportData(Uri uri, boolean isUnsyncedNotes) {                                          </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 543         Simplenote currentApp = (Simplenote) requireActivity().getApplication();                         </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 544         Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                           </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 545         JSONObject account = new JSONObject();                                                           </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 546         Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                      </span>
<span  style=""> 547                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 548         try {                                                                                            </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 549             JSONArray activeNotes = new JSONArray();                                                     </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 550             JSONArray trashedNotes = new JSONArray();                                                    </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 551             Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 552                 @Override                                                                                </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 553                 public int compare(String text1, String text2) {                                         </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 554                     return text1.compareToIgnoreCase(text2);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 556             };                                                                                           </span>
<span  style=""> 557                                                                                                          </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 558             while (cursor.moveToNext()) {                                                                </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 559                 Note note = cursor.getObject();                                                          </span>
<span  style=""> 560                                                                                                          </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 561                 if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                            </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 562                     continue;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563                 }                                                                                        </span>
<span  style=""> 564                                                                                                          </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 565                 JSONObject noteJson = new JSONObject();                                                  </span>
<span  style=""> 566                                                                                                          </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 567                 noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                              </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 568                 noteJson.put(&quot;content&quot;, note.getContent());                                              </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 569                 noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                              </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 570                 noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                          </span>
<span  style=""> 571                                                                                                          </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 572                 if (note.isPinned()) {                                                                   </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 573                     noteJson.put(&quot;pinned&quot;, note.isPinned());                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574                 }                                                                                        </span>
<span  style=""> 575                                                                                                          </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 576                 if (note.isMarkdownEnabled()) {                                                          </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 577                     noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578                 }                                                                                        </span>
<span  style=""> 579                                                                                                          </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 580                 if (note.getTags().size() &gt; 0) {                                                         </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 581                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 582                     Collections.sort(tags, comparator);                                                  </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 583                     noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 584                 }                                                                                        </span>
<span  style=""> 585                                                                                                          </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 586                 if (!note.getPublishedUrl().isEmpty()) {                                                 </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 587                     noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588                 }                                                                                        </span>
<span  style=""> 589                                                                                                          </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 590                 if (note.isDeleted()) {                                                                  </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 591                     trashedNotes.put(noteJson);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 592                 } else {                                                                                 </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 593                     activeNotes.put(noteJson);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 595             }                                                                                            </span>
<span  style=""> 596                                                                                                          </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 597             account.put(&quot;activeNotes&quot;, activeNotes);                                                     </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 598             account.put(&quot;trashedNotes&quot;, trashedNotes);                                                   </span>
<span  style=""> 599                                                                                                          </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 600             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 600             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDes🔵</abbr></span>
<span  style=""> 601                                                                                                          </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 602             if (parcelFileDescriptor != null) {                                                          </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 603                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 603                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDesc🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 604                 fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());               </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 605                 parcelFileDescriptor.close();                                                            </span>
<span class="-5163295869402506431" onmouseenter="enter('-5163295869402506431');" onmouseout="out('-5163295869402506431');" style=""> 606                 toast(R.string.export_message_success);                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 607             } else {                                                                                     </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 608                 toast(R.string.export_message_failure);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609             }                                                                                            </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 610         } catch (Exception e) {                                                                          </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 611             toast(R.string.export_message_failure);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613     }                                                                                                    </span>
<span  style=""> 614                                                                                                          </span>
<span class="8996656533128946457" onmouseenter="enter('8996656533128946457');" onmouseout="out('8996656533128946457');" style=""> 615     private void importData(Uri uri) {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 616         try {                                                                                            </span>
<span class="-4975207088998145378" onmouseenter="enter('-4975207088998145378');" onmouseout="out('-4975207088998145378');" style=""> 617             Importer.fromUri(this, uri);                                                                 </span>
<span class="2688222850389673791" onmouseenter="enter('2688222850389673791');" onmouseout="out('2688222850389673791');" style=""> 618             toast(R.string.import_message_success);                                                      </span>
<span class="-6423378606562936098" onmouseenter="enter('-6423378606562936098');" onmouseout="out('-6423378606562936098');" style=""> 619         } catch (Importer.ImportException e) {                                                           </span>
<span class="3768483165101391011" onmouseenter="enter('3768483165101391011');" onmouseout="out('3768483165101391011');" style=""> 620             switch (e.getReason()) {                                                                     </span>
<span class="-6785574966030176200" onmouseenter="enter('-6785574966030176200');" onmouseout="out('-6785574966030176200');" style=""> 621                 case FileError:                                                                          </span>
<span class="4763134744303366290" onmouseenter="enter('4763134744303366290');" onmouseout="out('4763134744303366290');" style=""> 622                     toast(R.string.import_error_file);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 623                     break;                                                                               </span>
<span class="9095738891108111618" onmouseenter="enter('9095738891108111618');" onmouseout="out('9095738891108111618');" style=""> 624                 case ParseError:                                                                         </span>
<span class="4000639691905282270" onmouseenter="enter('4000639691905282270');" onmouseout="out('4000639691905282270');" style=""> 625                     toast(R.string.import_error_parse);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 626                     break;                                                                               </span>
<span class="8133851396074290830" onmouseenter="enter('8133851396074290830');" onmouseout="out('8133851396074290830');" style=""> 627                 case UnknownExportType:                                                                  </span>
<span class="7291299810987557925" onmouseenter="enter('7291299810987557925');" onmouseout="out('7291299810987557925');" style=""> 628                     toast(R.string.import_unknown);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 629                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 630             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 631         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 632     }                                                                                                    </span>
<span  style=""> 633                                                                                                          </span>
<span class="5764694736276201115" onmouseenter="enter('5764694736276201115');" onmouseout="out('5764694736276201115');" style=""> 634     private void trackSortOrder(String label) {                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 635         AnalyticsTracker.track(                                                                          </span>
<span class="7639205635699406797" onmouseenter="enter('7639205635699406797');" onmouseout="out('7639205635699406797');" style=""> 636             AnalyticsTracker.Stat.SETTINGS_SEARCH_SORT_MODE,                                             </span>
<span class="6687394886770621877" onmouseenter="enter('6687394886770621877');" onmouseout="out('6687394886770621877');" style=""> 637             AnalyticsTracker.CATEGORY_SETTING,                                                           </span>
<span class="-2717526105763398021" onmouseenter="enter('-2717526105763398021');" onmouseout="out('-2717526105763398021');" style=""> 638             label                                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 639         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640     }                                                                                                    </span>
<span  style=""> 641                                                                                                          </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 642     private void updateAnalyticsSwitchState() {                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 643         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 644             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 645             mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                    </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 646         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 647             // The preferences object doesn&#x27;t exist for this user yet, create it                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 648             try {                                                                                        </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 649                 Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 650                 prefs.setAnalyticsEnabled(true);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 651                 prefs.save();                                                                            </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 652             } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                  </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 653                 bucketObjectNameInvalid.printStackTrace();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 656     }                                                                                                    </span>
<span  style=""> 657                                                                                                          </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 658     private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                             </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 659         private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                        </span>
<span  style=""> 660                                                                                                          </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 661         LogOutTask(PreferencesFragment fragment) {                                                       </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 662             mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663         }                                                                                                </span>
<span  style=""> 664                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 665         @Override                                                                                        </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 666         protected Boolean doInBackground(Void... voids) {                                                </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 667             PreferencesFragment fragment = mPreferencesFragmentReference.get();                          </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 668             return fragment == null || fragment.hasUnsyncedNotes();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669         }                                                                                                </span>
<span  style=""> 670                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 671         @Override                                                                                        </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 672         protected void onPostExecute(Boolean hasUnsyncedNotes) {                                         </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 673             final PreferencesFragment fragment = mPreferencesFragmentReference.get();                    </span>
<span  style=""> 674                                                                                                          </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 675             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 676                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677             }                                                                                            </span>
<span  style=""> 678                                                                                                          </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 679             // Safety first! Check if any notes are unsynced and warn the user if so.                    </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 680             if (hasUnsyncedNotes) {                                                                      </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""><abbr title=" 681                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))"> 681                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog🔵</abbr></span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 682                     .setTitle(R.string.unsynced_notes)                                                   </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 683                     .setMessage(R.string.unsynced_notes_message)                                         </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 684                     .setPositiveButton(R.string.log_out_anyway,                                          </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 685                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 686                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 687                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 688                                 fragment.logOut();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 690                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 691                     )                                                                                    </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 692                     .setNeutralButton(R.string.export_unsynced_notes,                                    </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 693                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 694                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 695                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 696                                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 697                                 intent.addCategory(Intent.CATEGORY_OPENABLE);                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 698                                 intent.setType(&quot;application/json&quot;);                                      </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""><abbr title=" 699                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));"> 699                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_fi🔵</abbr></span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 700                                 fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 702                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 703                     )                                                                                    </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 704                     .setNegativeButton(R.string.cancel, null)                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 705                     .show();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 706             } else {                                                                                     </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 707                 fragment.logOut();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710     }                                                                                                    </span>
<span  style=""> 711                                                                                                          </span>
<span class="-8416368629588420148" onmouseenter="enter('-8416368629588420148');" onmouseout="out('-8416368629588420148');" style=""> 712     static class DeleteAccountRequestHandlerImpl implements DeleteAccountRequestHandler {                </span>
<span class="-7627144928369588685" onmouseenter="enter('-7627144928369588685');" onmouseout="out('-7627144928369588685');" style=""> 713         final WeakReference&lt;PreferencesFragment&gt; preferencesFragment;                                    </span>
<span  style=""> 714                                                                                                          </span>
<span class="-646448777039145054" onmouseenter="enter('-646448777039145054');" onmouseout="out('-646448777039145054');" style=""> 715         DeleteAccountRequestHandlerImpl(PreferencesFragment fragment) {                                  </span>
<span class="3104220583348133430" onmouseenter="enter('3104220583348133430');" onmouseout="out('3104220583348133430');" style=""> 716             this.preferencesFragment = new WeakReference&lt;&gt;(fragment);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717         }                                                                                                </span>
<span  style=""> 718                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 719         @Override                                                                                        </span>
<span class="-1271212954815429882" onmouseenter="enter('-1271212954815429882');" onmouseout="out('-1271212954815429882');" style=""> 720         public void onSuccess() {                                                                        </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style=""> 721             final PreferencesFragment fragment = preferencesFragment.get();                              </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 722             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 723                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 724             }                                                                                            </span>
<span  style=""> 725                                                                                                          </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style=""> 726             FragmentActivity activity = fragment.getActivity();                                          </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 727             if (activity == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 728                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 729             }                                                                                            </span>
<span  style=""> 730                                                                                                          </span>
<span class="-6242454667579224576" onmouseenter="enter('-6242454667579224576');" onmouseout="out('-6242454667579224576');" style=""> 731             AppLog.add(Type.ACCOUNT, &quot;Request to delete account was successful&quot;);                        </span>
<span  style=""> 732                                                                                                          </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style=""> 733             activity.runOnUiThread(new Runnable() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 734                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 735                 public void run() {                                                                      </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style=""> 736                     fragment.closeProgressDialogDeleteAccount();                                         </span>
<span class="-7768729803778858238" onmouseenter="enter('-7768729803778858238');" onmouseout="out('-7768729803778858238');" style=""> 737                     fragment.showDeleteAccountConfirmationDialog();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 738                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 739             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740         }                                                                                                </span>
<span  style=""> 741                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 742         @Override                                                                                        </span>
<span class="8947631172795368471" onmouseenter="enter('8947631172795368471');" onmouseout="out('8947631172795368471');" style=""> 743         public void onFailure() {                                                                        </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style=""> 744             final PreferencesFragment fragment = preferencesFragment.get();                              </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 745             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 746                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 747             }                                                                                            </span>
<span  style=""> 748                                                                                                          </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style=""> 749             FragmentActivity activity = fragment.getActivity();                                          </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 750             if (activity == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 751                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 752             }                                                                                            </span>
<span  style=""> 753                                                                                                          </span>
<span class="5786671387670425912" onmouseenter="enter('5786671387670425912');" onmouseout="out('5786671387670425912');" style=""> 754             AppLog.add(Type.ACCOUNT, &quot;Failure while calling server to delete account&quot;);                  </span>
<span  style=""> 755                                                                                                          </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style=""> 756             activity.runOnUiThread(new Runnable() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 757                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 758                 public void run() {                                                                      </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style=""> 759                     fragment.closeProgressDialogDeleteAccount();                                         </span>
<span class="5909691904792777633" onmouseenter="enter('5909691904792777633');" onmouseout="out('5909691904792777633');" style=""> 760                     fragment.showDialogDeleteAccountError();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 761                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 762             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 764     }                                                                                                    </span>
<span  style=""> 765                                                                                                          </span>
<span class="2871930843442460031" onmouseenter="enter('2871930843442460031');" onmouseout="out('2871930843442460031');" style=""> 766     private void toast(int stringId) {                                                                   </span>
<span class="-8691575717770343351" onmouseenter="enter('-8691575717770343351');" onmouseout="out('-8691575717770343351');" style=""> 767         toast(stringId, Toast.LENGTH_SHORT);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 768     }                                                                                                    </span>
<span  style=""> 769                                                                                                          </span>
<span class="-1402573872892647268" onmouseenter="enter('-1402573872892647268');" onmouseout="out('-1402573872892647268');" style=""> 770     private void toast(int stringId, int length) {                                                       </span>
<span class="-3128032619893084841" onmouseenter="enter('-3128032619893084841');" onmouseout="out('-3128032619893084841');" style=""> 771         Toast.makeText(requireContext(), getString(stringId), length).show();                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 772     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 773 }                                                                                                        </span>
</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   5 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   6 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   7 import android.content.Intent;                                                                           </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8 import android.net.Uri;                                                                                  </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10 import android.os.Bundle;                                                                                </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11 import android.os.ParcelFileDescriptor;                                                                  </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12 import android.widget.Toast;                                                                             </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  13 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  14 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  15 import androidx.core.app.ShareCompat;                                                                    </span>
<span class="5842151950717757009" onmouseenter="enter('5842151950717757009');" onmouseout="out('5842151950717757009');" style="">  16 import androidx.core.content.ContextCompat;                                                              </span>
<span class="3871271816129224755" onmouseenter="enter('3871271816129224755');" onmouseout="out('3871271816129224755');" style="">  17 import androidx.fragment.app.FragmentActivity;                                                           </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  18 import androidx.preference.ListPreference;                                                               </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  19 import androidx.preference.Preference;                                                                   </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  20 import androidx.preference.PreferenceFragmentCompat;                                                     </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  21 import androidx.preference.SwitchPreferenceCompat;                                                       </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="7695324246477815031" onmouseenter="enter('7695324246477815031');" onmouseout="out('7695324246477815031');" style="">  23 import com.automattic.simplenote.authentication.SimplenoteAuthenticationActivity;                        </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  25 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="-7647069095684996043" onmouseenter="enter('-7647069095684996043');" onmouseout="out('-7647069095684996043');" style="">  26 import com.automattic.simplenote.utils.AccountNetworkUtils.DeleteAccountRequestHandler;                  </span>
<span class="-6579126909083142141" onmouseenter="enter('-6579126909083142141');" onmouseout="out('-6579126909083142141');" style="">  27 import com.automattic.simplenote.utils.AccountNetworkUtils;                                              </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  28 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  29 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="3927304760801257382" onmouseenter="enter('3927304760801257382');" onmouseout="out('3927304760801257382');" style="">  30 import com.automattic.simplenote.utils.AuthUtils;                                                        </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  31 import com.automattic.simplenote.utils.BrowserUtils;                                                     </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  32 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="">  33 import com.automattic.simplenote.utils.DialogUtils;                                                      </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  34 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  35 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-8694742716172250276" onmouseenter="enter('-8694742716172250276');" onmouseout="out('-8694742716172250276');" style="">  36 import com.automattic.simplenote.utils.SimplenoteProgressDialogFragment;                                 </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  37 import com.simperium.Simperium;                                                                          </span>
<span class="8061185401310260696" onmouseenter="enter('8061185401310260696');" onmouseout="out('8061185401310260696');" style="">  38 import com.simperium.android.ProgressDialogFragment;                                                     </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  39 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  40 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  41 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  42 import com.simperium.client.User;                                                                        </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  43 import java.io.FileOutputStream;                                                                         </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  44 import java.lang.ref.WeakReference;                                                                      </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  45 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  46 import java.util.Comparator;                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  47 import java.util.List;                                                                                   </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  48 import org.json.JSONArray;                                                                               </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  49 import org.json.JSONObject;                                                                              </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  50 import static android.app.Activity.RESULT_OK;                                                            </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  51 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span class="8826967329515035160" onmouseenter="enter('8826967329515035160');" onmouseout="out('8826967329515035160');" style="">  52 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING;                          </span>
<span class="-1682178856466576571" onmouseenter="enter('-1682178856466576571');" onmouseout="out('-1682178856466576571');" style="">  53 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING_LABEL;                    </span>
<span class="3295022017599403667" onmouseenter="enter('3295022017599403667');" onmouseout="out('3295022017599403667');" style="">  54 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING;                         </span>
<span class="-175775655276735749" onmouseenter="enter('-175775655276735749');" onmouseout="out('-175775655276735749');" style="">  55 import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING_LABEL;                   </span>
<span class="-5373309715036096389" onmouseenter="enter('-5373309715036096389');" onmouseout="out('-5373309715036096389');" style="">  56 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING;                          </span>
<span class="-870579044833355009" onmouseenter="enter('-870579044833355009');" onmouseout="out('-870579044833355009');" style="">  57 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING_LABEL;                    </span>
<span class="-7837298184614781055" onmouseenter="enter('-7837298184614781055');" onmouseout="out('-7837298184614781055');" style="">  58 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING;                         </span>
<span class="9031990127045012175" onmouseenter="enter('9031990127045012175');" onmouseout="out('9031990127045012175');" style="">  59 import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING_LABEL;                   </span>
<span class="2353849115484789575" onmouseenter="enter('2353849115484789575');" onmouseout="out('2353849115484789575');" style="">  60 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING;                         </span>
<span class="8859125948039467765" onmouseenter="enter('8859125948039467765');" onmouseout="out('8859125948039467765');" style="">  61 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING_LABEL;                   </span>
<span class="-7793424336450235488" onmouseenter="enter('-7793424336450235488');" onmouseout="out('-7793424336450235488');" style="">  62 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING;                        </span>
<span class="3117736445719959817" onmouseenter="enter('3117736445719959817');" onmouseout="out('3117736445719959817');" style="">  63 import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING_LABEL;                  </span>
<span  style="">  64                                                                                                          </span>
<span  style="">  65                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  66 /**                                                                                                      </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  67  * A simple {@link Fragment} subclass.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  68  */                                                                                                      </span>
<span class="-7540062518027686993" onmouseenter="enter('-7540062518027686993');" onmouseout="out('-7540062518027686993');" style=""><abbr title="  69 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener , Simperium.OnUserCreatedListener {">  69 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener , 🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  70     public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                               </span>
<span  style="">  71                                                                                                          </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  72     private static final int REQUEST_EXPORT_DATA = 9001;                                                 </span>
<span  style="">  73                                                                                                          </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  74     private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                             </span>
<span  style="">  75                                                                                                          </span>
<span class="5428701190302531857" onmouseenter="enter('5428701190302531857');" onmouseout="out('5428701190302531857');" style="">  76     private static final int REQUEST_IMPORT_DATA = 9003;                                                 </span>
<span  style="">  77                                                                                                          </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  78     private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                      </span>
<span  style="">  79                                                                                                          </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  80     private SwitchPreferenceCompat mAnalyticsSwitch;                                                     </span>
<span  style="">  81                                                                                                          </span>
<span class="-2972309948934894211" onmouseenter="enter('-2972309948934894211');" onmouseout="out('-2972309948934894211');" style="">  82     private SimplenoteProgressDialogFragment mProgressDialogFragment;                                    </span>
<span  style="">  83                                                                                                          </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  84     public PreferencesFragment() {                                                                       </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  85         // Required empty public constructor                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86     }                                                                                                    </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88     @Override                                                                                            </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  89     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                         </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  90         addPreferencesFromResource(R.xml.preferences);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91     }                                                                                                    </span>
<span  style="">  92                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  94     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  95         super.onActivityCreated(savedInstanceState);                                                     </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  96         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                     </span>
<span class="4803144681849619263" onmouseenter="enter('4803144681849619263');" onmouseout="out('4803144681849619263');" style="">  97         Simplenote currentApp = ((Simplenote) (getActivity().getApplication()));                         </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  98         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  99         simperium.setUserStatusChangeListener(this);                                                     </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style=""> 100         simperium.setOnUserCreatedListener(this);                                                        </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style=""> 101         mPreferencesBucket = currentApp.getPreferencesBucket();                                          </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style=""> 102         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());               </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style=""> 103         if (simperium.needsAuthorization()) {                                                            </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style=""> 104             authenticatePreference.setTitle(R.string.log_in);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 105         } else {                                                                                         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 106             authenticatePreference.setTitle(R.string.log_out);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107         }                                                                                                </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style=""> 108         authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 109             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 110             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 111                 if (!isAdded()) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 112                     return false;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113                 }                                                                                        </span>
<span class="4803144681849619263" onmouseenter="enter('4803144681849619263');" onmouseout="out('4803144681849619263');" style=""> 114                 Simplenote currentApp = ((Simplenote) (getActivity().getApplication()));                 </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 115                 if (currentApp.getSimperium().needsAuthorization()) {                                    </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""><abbr title=" 116                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);"> 116                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class🔵</abbr></span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 117                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 118                 } else {                                                                                 </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 119                     new LogOutTask(PreferencesFragment.this).execute();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 121                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 123         });                                                                                              </span>
<span class="2946900849266796620" onmouseenter="enter('2946900849266796620');" onmouseout="out('2946900849266796620');" style=""> 124         Preference deleteAppPreference = findPreference(&quot;pref_key_delete_account&quot;);                      </span>
<span class="-2350223962711597776" onmouseenter="enter('-2350223962711597776');" onmouseout="out('-2350223962711597776');" style=""> 125         deleteAppPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 126             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 127             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2781290625557367680" onmouseenter="enter('-2781290625557367680');" onmouseout="out('-2781290625557367680');" style=""> 128                 showDeleteAccountDialog();                                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 129                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 131         });                                                                                              </span>
<span class="-8106343823043205231" onmouseenter="enter('-8106343823043205231');" onmouseout="out('-8106343823043205231');" style=""><abbr title=" 132         findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 132         findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 134             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 135                 try {                                                                                    </span>
<span class="-2711969911277073522" onmouseenter="enter('-2711969911277073522');" onmouseout="out('-2711969911277073522');" style=""><abbr title=" 136                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;);"> 136                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;🔵</abbr></span>
<span class="-3589222456918676513" onmouseenter="enter('-3589222456918676513');" onmouseout="out('-3589222456918676513');" style=""> 137                 } catch (java.lang.Exception e) {                                                        </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style=""> 138                     toast(R.string.no_browser_available, Toast.LENGTH_LONG);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 140                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 142         });                                                                                              </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 143         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 143         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickL🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 145             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 146                 try {                                                                                    </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 147                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);    </span>
<span class="-3589222456918676513" onmouseenter="enter('-3589222456918676513');" onmouseout="out('-3589222456918676513');" style=""> 148                 } catch (java.lang.Exception e) {                                                        </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style=""> 149                     toast(R.string.no_browser_available, Toast.LENGTH_LONG);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 151                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 153         });                                                                                              </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""><abbr title=" 154         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 154         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLis🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 155             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 156             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 157                 startActivity(new Intent(getActivity(), AboutActivity.class));                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 158                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 160         });                                                                                              </span>
<span class="-1307457492407505021" onmouseenter="enter('-1307457492407505021');" onmouseout="out('-1307457492407505021');" style=""><abbr title=" 161         findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 161         findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 162             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 163             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-6211373805165179522" onmouseenter="enter('-6211373805165179522');" onmouseout="out('-6211373805165179522');" style=""> 164                 Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);                                 </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 165                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="4423889240572822366" onmouseenter="enter('4423889240572822366');" onmouseout="out('4423889240572822366');" style=""> 166                 intent.setType(&quot;*/*&quot;);                                                                   </span>
<span class="5201313562486855680" onmouseenter="enter('5201313562486855680');" onmouseout="out('5201313562486855680');" style=""> 167                 intent.putExtra(Intent.EXTRA_MIME_TYPES, new String[]{ &quot;text/*&quot;, &quot;application/json&quot; });  </span>
<span class="233539475142465633" onmouseenter="enter('233539475142465633');" onmouseout="out('233539475142465633');" style=""> 168                 startActivityForResult(intent, REQUEST_IMPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 169                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 171         });                                                                                              </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 172         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 172         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 173             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 174             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 175                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 176                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 177                 intent.setType(&quot;application/json&quot;);                                                      </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 178                 intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                    </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 179                 startActivityForResult(intent, REQUEST_EXPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 180                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 182         });                                                                                              </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 183         final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                     </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 184         themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 186             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 187                 updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 188                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189             }                                                                                            </span>
<span  style=""> 190                                                                                                          </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 191             private void updateTheme(Activity activity, int index) {                                     </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 192                 CharSequence[] entries = themePreference.getEntries();                                   </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 193                 themePreference.setSummary(entries[index]);                                              </span>
<span class="-7480915350226764443" onmouseenter="enter('-7480915350226764443');" onmouseout="out('-7480915350226764443');" style=""><abbr title=" 194                 AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED, AnalyticsTracker.CATEGORY_USER, &quot;theme_preference&quot;);"> 194                 AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED, AnalyticsTracker.CAT🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 196         });                                                                                              </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 197         final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                             </span>
<span class="3428395501667720224" onmouseenter="enter('3428395501667720224');" onmouseout="out('3428395501667720224');" style=""><abbr title=" 198         stylePreference.setSummary(PrefUtils.isPremium(requireContext()) ? PrefUtils.getStyleNameFromIndexSelected(requireContext()) : PrefUtils.getStyleNameDefault(requireContext()));"> 198         stylePreference.setSummary(PrefUtils.isPremium(requireContext()) ? PrefUtils.getStyleNameFromInde🔵</abbr></span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 199         stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 201             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 202                 startActivity(new Intent(requireContext(), StyleActivity.class));                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 203                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 205         });                                                                                              </span>
<span class="7183771711274333920" onmouseenter="enter('7183771711274333920');" onmouseout="out('7183771711274333920');" style=""> 206         final Preference membershipPreference = findPreference(&quot;pref_key_membership&quot;);                   </span>
<span class="-7419655243406727093" onmouseenter="enter('-7419655243406727093');" onmouseout="out('-7419655243406727093');" style=""> 207         membershipPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 209             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="7024055657047669847" onmouseenter="enter('7024055657047669847');" onmouseout="out('7024055657047669847');" style=""> 210                 ((PreferencesActivity) (requireActivity())).openBrowserForMembership(getView());         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 211                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 213         });                                                                                              </span>
<span class="5948357716640114915" onmouseenter="enter('5948357716640114915');" onmouseout="out('5948357716640114915');" style=""> 214         if (PrefUtils.isPremium(requireContext())) {                                                     </span>
<span class="-8263706598863184063" onmouseenter="enter('-8263706598863184063');" onmouseout="out('-8263706598863184063');" style=""> 215             membershipPreference.setLayoutResource(R.layout.preference_default);                         </span>
<span class="-6810727056863141958" onmouseenter="enter('-6810727056863141958');" onmouseout="out('-6810727056863141958');" style=""> 216             membershipPreference.setSummary(R.string.membership_premium);                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 217         } else {                                                                                         </span>
<span class="7955017533183298811" onmouseenter="enter('7955017533183298811');" onmouseout="out('7955017533183298811');" style=""> 218             membershipPreference.setLayoutResource(R.layout.preference_button);                          </span>
<span class="-1940646826107252258" onmouseenter="enter('-1940646826107252258');" onmouseout="out('-1940646826107252258');" style=""> 219             membershipPreference.setSummary(R.string.membership_free);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 221         final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                 </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 222         sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 224             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 225                 int index = Integer.parseInt(newValue.toString());                                       </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 226                 CharSequence[] entries = sortPreference.getEntries();                                    </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 227                 sortPreference.setSummary(entries[index]);                                               </span>
<span class="129000644980271681" onmouseenter="enter('129000644980271681');" onmouseout="out('129000644980271681');" style=""> 228                 if (!sortPreference.getValue().equals(newValue)) {                                       </span>
<span class="8821509448547790359" onmouseenter="enter('8821509448547790359');" onmouseout="out('8821509448547790359');" style=""> 229                     switch (index) {                                                                     </span>
<span class="-3394461212407492598" onmouseenter="enter('-3394461212407492598');" onmouseout="out('-3394461212407492598');" style=""> 230                         case ALPHABETICAL_ASCENDING :                                                    </span>
<span class="-3317425248268570668" onmouseenter="enter('-3317425248268570668');" onmouseout="out('-3317425248268570668');" style=""> 231                             trackSortOrder(ALPHABETICAL_ASCENDING_LABEL);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 232                             break;                                                                       </span>
<span class="238316588963768385" onmouseenter="enter('238316588963768385');" onmouseout="out('238316588963768385');" style=""> 233                         case ALPHABETICAL_DESCENDING :                                                   </span>
<span class="8357536101849916572" onmouseenter="enter('8357536101849916572');" onmouseout="out('8357536101849916572');" style=""> 234                             trackSortOrder(ALPHABETICAL_DESCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 235                             break;                                                                       </span>
<span class="7499531768034147837" onmouseenter="enter('7499531768034147837');" onmouseout="out('7499531768034147837');" style=""> 236                         case DATE_CREATED_ASCENDING :                                                    </span>
<span class="-3680449299537315875" onmouseenter="enter('-3680449299537315875');" onmouseout="out('-3680449299537315875');" style=""> 237                             trackSortOrder(DATE_CREATED_ASCENDING_LABEL);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 238                             break;                                                                       </span>
<span class="5803976479983944717" onmouseenter="enter('5803976479983944717');" onmouseout="out('5803976479983944717');" style=""> 239                         case DATE_CREATED_DESCENDING :                                                   </span>
<span class="-4025354653068339079" onmouseenter="enter('-4025354653068339079');" onmouseout="out('-4025354653068339079');" style=""> 240                             trackSortOrder(DATE_CREATED_DESCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 241                             break;                                                                       </span>
<span class="-1424053568716728735" onmouseenter="enter('-1424053568716728735');" onmouseout="out('-1424053568716728735');" style=""> 242                         case DATE_MODIFIED_ASCENDING :                                                   </span>
<span class="-3983368371522366244" onmouseenter="enter('-3983368371522366244');" onmouseout="out('-3983368371522366244');" style=""> 243                             trackSortOrder(DATE_MODIFIED_ASCENDING_LABEL);                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 244                             break;                                                                       </span>
<span class="1129475277052296824" onmouseenter="enter('1129475277052296824');" onmouseout="out('1129475277052296824');" style=""> 245                         case DATE_MODIFIED_DESCENDING :                                                  </span>
<span class="-6491153765216744167" onmouseenter="enter('-6491153765216744167');" onmouseout="out('-6491153765216744167');" style=""> 246                             trackSortOrder(DATE_MODIFIED_DESCENDING_LABEL);                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 247                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 250                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 252         });                                                                                              </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 253         SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);        </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 254         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 256             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="-454987626601386721" onmouseenter="enter('-454987626601386721');" onmouseout="out('-454987626601386721');" style=""> 257                 if (((SwitchPreferenceCompat) (preference)).isChecked()) {                               </span>
<span class="-5939352487095839969" onmouseenter="enter('-5939352487095839969');" onmouseout="out('-5939352487095839969');" style=""><abbr title=" 258                     AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED, AnalyticsTracker.CATEGORY_USER, &quot;condensed_list_preference&quot;);"> 258                     AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED, Analyti🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 260                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 262         });                                                                                              </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 263         // Add the hyperlink to the analytics summary                                                    </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 264         Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);    </span>
<span class="6934693986878238280" onmouseenter="enter('6934693986878238280');" onmouseout="out('6934693986878238280');" style=""><abbr title=" 265         String formattedSummary = String.format(getString(R.string.share_analytics_summary), &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;, &quot;&lt;/a&gt;&quot;);"> 265         String formattedSummary = String.format(getString(R.string.share_analytics_summary), &quot;&lt;a href=\&quot;h🔵</abbr></span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 266         analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                    </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 267         mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                  </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 268         mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 270             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 271                 try {                                                                                    </span>
<span class="-218707031809364308" onmouseenter="enter('-218707031809364308');" onmouseout="out('-218707031809364308');" style=""> 272                     boolean isChecked = ((boolean) (newValue));                                          </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 273                     Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                  </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 274                     prefs.setAnalyticsEnabled(isChecked);                                                </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 275                     prefs.save();                                                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 276                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 277                     e.printStackTrace();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 279                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 281         });                                                                                              </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 282         updateAnalyticsSwitchState();                                                                    </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""><abbr title=" 283         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 283         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 284             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 285             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="2828990800263218622" onmouseenter="enter('2828990800263218622');" onmouseout="out('2828990800263218622');" style=""><abbr title=" 286                 startActivity(ShareCompat.IntentBuilder.from(requireActivity()).setText(AppLog.get()).setType(&quot;text/plain&quot;).createChooserIntent());"> 286                 startActivity(ShareCompat.IntentBuilder.from(requireActivity()).setText(AppLog.get()).set🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 287                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 289         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span  style=""> 291                                                                                                          </span>
<span class="-1191373455187963152" onmouseenter="enter('-1191373455187963152');" onmouseout="out('-1191373455187963152');" style=""> 292     private void showProgressDialogDeleteAccount() {                                                     </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 293         FragmentActivity activity = getActivity();                                                       </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 294         if (activity == null) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 295             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296         }                                                                                                </span>
<span  style=""> 297                                                                                                          </span>
<span class="908378658564909306" onmouseenter="enter('908378658564909306');" onmouseout="out('908378658564909306');" style=""><abbr title=" 298         mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.requesting_message));"> 298         mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.request🔵</abbr></span>
<span class="-7015461328566138890" onmouseenter="enter('-7015461328566138890');" onmouseout="out('-7015461328566138890');" style=""> 299         mProgressDialogFragment.show(activity.getSupportFragmentManager(), ProgressDialogFragment.TAG);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300     }                                                                                                    </span>
<span  style=""> 301                                                                                                          </span>
<span class="-6444433115162797199" onmouseenter="enter('-6444433115162797199');" onmouseout="out('-6444433115162797199');" style=""> 302     private void closeProgressDialogDeleteAccount() {                                                    </span>
<span class="-5231919673723505361" onmouseenter="enter('-5231919673723505361');" onmouseout="out('-5231919673723505361');" style=""> 303         if (mProgressDialogFragment != null &amp;&amp; !mProgressDialogFragment.isHidden()) {                    </span>
<span class="4521774342365180283" onmouseenter="enter('4521774342365180283');" onmouseout="out('4521774342365180283');" style=""> 304             mProgressDialogFragment.dismiss();                                                           </span>
<span class="-5320112376977111528" onmouseenter="enter('-5320112376977111528');" onmouseout="out('-5320112376977111528');" style=""> 305             mProgressDialogFragment = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307     }                                                                                                    </span>
<span  style=""> 308                                                                                                          </span>
<span class="5272209026921050994" onmouseenter="enter('5272209026921050994');" onmouseout="out('5272209026921050994');" style=""> 309     private void showDeleteAccountDialog() {                                                             </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style=""> 310         Context context = getContext();                                                                  </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style=""> 311         if (context == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 312             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313         }                                                                                                </span>
<span  style=""> 314                                                                                                          </span>
<span class="6313083696990294907" onmouseenter="enter('6313083696990294907');" onmouseout="out('6313083696990294907');" style=""><abbr title=" 315         final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this);"> 315         final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this🔵</abbr></span>
<span  style=""> 316                                                                                                          </span>
<span class="1031729987205306789" onmouseenter="enter('1031729987205306789');" onmouseout="out('1031729987205306789');" style=""><abbr title=" 317         final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, R.style.Dialog))"> 317         final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, 🔵</abbr></span>
<span class="-1873798539673657377" onmouseenter="enter('-1873798539673657377');" onmouseout="out('-1873798539673657377');" style=""> 318                 .setTitle(R.string.delete_account)                                                       </span>
<span class="-386066277178615224" onmouseenter="enter('-386066277178615224');" onmouseout="out('-386066277178615224');" style=""> 319                 .setMessage(R.string.delete_account_message)                                             </span>
<span class="-8328819480399500830" onmouseenter="enter('-8328819480399500830');" onmouseout="out('-8328819480399500830');" style=""> 320                 .setPositiveButton(R.string.delete_account, new DialogInterface.OnClickListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 321                         @Override                                                                        </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 322                         public void onClick(DialogInterface dialogInterface, int i) {                    </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 323                             FragmentActivity activity = getActivity();                                   </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 324                             if (activity == null) {                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 325                                 return;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326                             }                                                                            </span>
<span  style=""> 327                                                                                                          </span>
<span class="6459977236903005106" onmouseenter="enter('6459977236903005106');" onmouseout="out('6459977236903005106');" style=""> 328                             showProgressDialogDeleteAccount();                                           </span>
<span  style=""> 329                                                                                                          </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style=""> 330                             Simplenote currentApp = (Simplenote) activity.getApplication();              </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 331                             Simperium simperium = currentApp.getSimperium();                             </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style=""> 332                             String userEmail = simperium.getUser().getEmail();                           </span>
<span class="1651381071182530529" onmouseenter="enter('1651381071182530529');" onmouseout="out('1651381071182530529');" style=""> 333                             String userToken = simperium.getUser().getAccessToken();                     </span>
<span  style=""> 334                                                                                                          </span>
<span class="3196843899819626389" onmouseenter="enter('3196843899819626389');" onmouseout="out('3196843899819626389');" style=""> 335                             // makeDeleteAccountRequest can throw an exception when it cannot build      </span>
<span class="768653677388483161" onmouseenter="enter('768653677388483161');" onmouseout="out('768653677388483161');" style=""> 336                             // the JSON object. In those cases, we show the error dialog since           </span>
<span class="1028851578837449957" onmouseenter="enter('1028851578837449957');" onmouseout="out('1028851578837449957');" style=""> 337                             // it can be related to memory constraints or something else that is         </span>
<span class="5336907060346624635" onmouseenter="enter('5336907060346624635');" onmouseout="out('5336907060346624635');" style=""> 338                             // just a transient fault                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 339                             try {                                                                        </span>
<span class="1030407728602517742" onmouseenter="enter('1030407728602517742');" onmouseout="out('1030407728602517742');" style=""> 340                                 AppLog.add(Type.ACCOUNT, &quot;Making request to delete account&quot;);            </span>
<span  style=""> 341                                                                                                          </span>
<span class="-7545959631891665838" onmouseenter="enter('-7545959631891665838');" onmouseout="out('-7545959631891665838');" style=""> 342                                 AccountNetworkUtils.makeDeleteAccountRequest(                            </span>
<span class="-5593225241325787649" onmouseenter="enter('-5593225241325787649');" onmouseout="out('-5593225241325787649');" style=""> 343                                         userEmail,                                                       </span>
<span class="-7456986882819251964" onmouseenter="enter('-7456986882819251964');" onmouseout="out('-7456986882819251964');" style=""> 344                                         userToken,                                                       </span>
<span class="-6992356639091573052" onmouseenter="enter('-6992356639091573052');" onmouseout="out('-6992356639091573052');" style=""> 345                                         deleteAccountHandler);                                           </span>
<span class="-8673390349745745141" onmouseenter="enter('-8673390349745745141');" onmouseout="out('-8673390349745745141');" style=""> 346                             } catch (IllegalArgumentException exception) {                               </span>
<span class="-5966064403349693580" onmouseenter="enter('-5966064403349693580');" onmouseout="out('-5966064403349693580');" style=""> 347                                 AppLog.add(Type.ACCOUNT, &quot;Error trying to make request &quot; +               </span>
<span class="6896797996484321928" onmouseenter="enter('6896797996484321928');" onmouseout="out('6896797996484321928');" style=""> 348                                         &quot;to delete account. Error: &quot; + exception.getMessage());          </span>
<span  style=""> 349                                                                                                          </span>
<span class="-6213194126034221756" onmouseenter="enter('-6213194126034221756');" onmouseout="out('-6213194126034221756');" style=""> 350                                 showDialogDeleteAccountError();                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353                     }                                                                                    </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 354                 )                                                                                        </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 355                 .setNegativeButton(R.string.cancel, null)                                                </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 356                 .create();                                                                               </span>
<span  style=""> 357                                                                                                          </span>
<span class="5125198818275769351" onmouseenter="enter('5125198818275769351');" onmouseout="out('5125198818275769351');" style=""> 358         dialogDeleteAccount.setOnShowListener(new DialogInterface.OnShowListener() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 359             @Override                                                                                    </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 360             public void onShow(DialogInterface dialog) {                                                 </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 361                 FragmentActivity activity = getActivity();                                               </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 362                 if (activity == null) {                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 363                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364                 }                                                                                        </span>
<span  style=""> 365                                                                                                          </span>
<span class="1365403079202164871" onmouseenter="enter('1365403079202164871');" onmouseout="out('1365403079202164871');" style=""> 366                 int colorRed = ContextCompat.getColor(activity, R.color.text_button_red);                </span>
<span class="-3136107241359118707" onmouseenter="enter('-3136107241359118707');" onmouseout="out('-3136107241359118707');" style=""> 367                 dialogDeleteAccount                                                                      </span>
<span class="111291750922386792" onmouseenter="enter('111291750922386792');" onmouseout="out('111291750922386792');" style=""> 368                         .getButton(AlertDialog.BUTTON_POSITIVE)                                          </span>
<span class="-131849950832046769" onmouseenter="enter('-131849950832046769');" onmouseout="out('-131849950832046769');" style=""> 369                         .setTextColor(colorRed);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 371         });                                                                                              </span>
<span class="-8133600341455936609" onmouseenter="enter('-8133600341455936609');" onmouseout="out('-8133600341455936609');" style=""> 372         dialogDeleteAccount.show();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span  style=""> 374                                                                                                          </span>
<span class="-4571070378142539494" onmouseenter="enter('-4571070378142539494');" onmouseout="out('-4571070378142539494');" style=""> 375     private void showDialogDeleteAccountError() {                                                        </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style=""> 376         Context context = getContext();                                                                  </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style=""> 377         if (context == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 378             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379         }                                                                                                </span>
<span  style=""> 380                                                                                                          </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style=""> 381         DialogUtils.showDialogWithEmail(                                                                 </span>
<span class="8707191112376903621" onmouseenter="enter('8707191112376903621');" onmouseout="out('8707191112376903621');" style=""> 382                 context,                                                                                 </span>
<span class="8499829491281829275" onmouseenter="enter('8499829491281829275');" onmouseout="out('8499829491281829275');" style=""> 383                 getString(R.string.error_ocurred_message)                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 384         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385     }                                                                                                    </span>
<span  style=""> 386                                                                                                          </span>
<span class="-7722414756461467859" onmouseenter="enter('-7722414756461467859');" onmouseout="out('-7722414756461467859');" style=""> 387     private void showDeleteAccountConfirmationDialog() {                                                 </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style=""> 388         FragmentActivity activity = getActivity();                                                       </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 389         if (activity == null) {                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 390             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391         }                                                                                                </span>
<span  style=""> 392                                                                                                          </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style=""> 393         Simplenote currentApp = (Simplenote) activity.getApplication();                                  </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 394         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style=""> 395         String userEmail = simperium.getUser().getEmail();                                               </span>
<span  style=""> 396                                                                                                          </span>
<span class="3621082773894450353" onmouseenter="enter('3621082773894450353');" onmouseout="out('3621082773894450353');" style=""> 397         AlertDialog dialogDeleteAccountConfirmation = new AlertDialog.Builder(                           </span>
<span class="7887587112328823469" onmouseenter="enter('7887587112328823469');" onmouseout="out('7887587112328823469');" style=""> 398                 new ContextThemeWrapper(activity, R.style.Dialog))                                       </span>
<span class="-8605297465257752598" onmouseenter="enter('-8605297465257752598');" onmouseout="out('-8605297465257752598');" style=""> 399                 .setTitle(R.string.request_received)                                                     </span>
<span class="-5099278043250121234" onmouseenter="enter('-5099278043250121234');" onmouseout="out('-5099278043250121234');" style=""> 400                 .setMessage(getString(R.string.account_deletion_message, userEmail))                     </span>
<span class="-5617878821115539617" onmouseenter="enter('-5617878821115539617');" onmouseout="out('-5617878821115539617');" style=""> 401                 .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 402                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 403                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-9058588631339612355" onmouseenter="enter('-9058588631339612355');" onmouseout="out('-9058588631339612355');" style=""> 404                                 dialogInterface.dismiss();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 407                 )                                                                                        </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 408                 .create();                                                                               </span>
<span  style=""> 409                                                                                                          </span>
<span class="5504919937204140474" onmouseenter="enter('5504919937204140474');" onmouseout="out('5504919937204140474');" style=""> 410         dialogDeleteAccountConfirmation.show();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411     }                                                                                                    </span>
<span  style=""> 412                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 413     @Override                                                                                            </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 414     public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                   </span>
<span class="-3322721817516354188" onmouseenter="enter('-3322721817516354188');" onmouseout="out('-3322721817516354188');" style=""> 415         if ((resultCode != RESULT_OK) || (resultData == null)) {                                         </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 416             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 417         }                                                                                                </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 418         if (resultData.getData() == null) {                                                              </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 419             toast(R.string.export_message_failure);                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 420             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421         }                                                                                                </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 422         switch (requestCode) {                                                                           </span>
<span class="-1571847737265144189" onmouseenter="enter('-1571847737265144189');" onmouseout="out('-1571847737265144189');" style=""> 423             case REQUEST_EXPORT_DATA :                                                                   </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 424                 exportData(resultData.getData(), false);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 425                 break;                                                                                   </span>
<span class="-3656237994787483894" onmouseenter="enter('-3656237994787483894');" onmouseout="out('-3656237994787483894');" style=""> 426             case REQUEST_EXPORT_UNSYNCED :                                                               </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 427                 exportData(resultData.getData(), true);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 428                 break;                                                                                   </span>
<span class="-4236004650331169639" onmouseenter="enter('-4236004650331169639');" onmouseout="out('-4236004650331169639');" style=""> 429             case REQUEST_IMPORT_DATA :                                                                   </span>
<span class="-4840036634621538874" onmouseenter="enter('-4840036634621538874');" onmouseout="out('-4840036634621538874');" style=""> 430                 importData(resultData.getData());                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 431                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433     }                                                                                                    </span>
<span  style=""> 434                                                                                                          </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 435     private boolean hasUnsyncedNotes() {                                                                 </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 436         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 437         Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                         </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 438         Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 439         while (notesCursor.moveToNext()) {                                                               </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 440             Note note = notesCursor.getObject();                                                         </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 441             if (note.isNew() || note.isModified()) {                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 442                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444         }                                                                                                </span>
<span  style=""> 445                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 446         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 447     }                                                                                                    </span>
<span  style=""> 448                                                                                                          </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 449     private void logOut() {                                                                              </span>
<span class="4969264094597597154" onmouseenter="enter('4969264094597597154');" onmouseout="out('4969264094597597154');" style=""> 450         AppLog.add(Type.ACTION, &quot;Tapped logout button (PreferencesFragment)&quot;);                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 451         AnalyticsTracker.track(                                                                          </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 452                 AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                   </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 453                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 454                 &quot;preferences_sign_out_button&quot;                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 455         );                                                                                               </span>
<span  style=""> 456                                                                                                          </span>
<span class="1334957593624703804" onmouseenter="enter('1334957593624703804');" onmouseout="out('1334957593624703804');" style=""> 457         AuthUtils.logOut((Simplenote) requireActivity().getApplication());                               </span>
<span  style=""> 458                                                                                                          </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 459         getActivity().finish();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 460     }                                                                                                    </span>
<span  style=""> 461                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 462     @Override                                                                                            </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 463     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 464         if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                             </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 465             // User signed in                                                                            </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 466             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 467                 public void run() {                                                                      </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 468                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 469                     authenticatePreference.setTitle(R.string.log_out);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 470                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 471             });                                                                                          </span>
<span  style=""> 472                                                                                                          </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 473             Simplenote app = (Simplenote) getActivity().getApplication();                                </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 474             AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                   </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 475             CrashUtils.setCurrentUser(app.getSimperium().getUser());                                     </span>
<span  style=""> 476                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 477             AnalyticsTracker.track(                                                                      </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 478                     AnalyticsTracker.Stat.USER_SIGNED_IN,                                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 479                     AnalyticsTracker.CATEGORY_USER,                                                      </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 480                     &quot;signed_in_from_preferences_activity&quot;                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 481             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483     }                                                                                                    </span>
<span  style=""> 484                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 485     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 486     public void onUserCreated(User user) {                                                               </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 487         AnalyticsTracker.track(                                                                          </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 488                 AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                              </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 489                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 490                 &quot;account_created_from_preferences_activity&quot;                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 491         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492     }                                                                                                    </span>
<span  style=""> 493                                                                                                          </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 494     private void exportData(Uri uri, boolean isUnsyncedNotes) {                                          </span>
<span class="4122566193626969811" onmouseenter="enter('4122566193626969811');" onmouseout="out('4122566193626969811');" style=""> 495         Simplenote currentApp = ((Simplenote) (requireActivity().getApplication()));                     </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 496         Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                           </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 497         JSONObject account = new JSONObject();                                                           </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 498         Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 499         try {                                                                                            </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 500             JSONArray activeNotes = new JSONArray();                                                     </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 501             JSONArray trashedNotes = new JSONArray();                                                    </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 502             Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 503                 @Override                                                                                </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 504                 public int compare(String text1, String text2) {                                         </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 505                     return text1.compareToIgnoreCase(text2);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 507             };                                                                                           </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 508             while (cursor.moveToNext()) {                                                                </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 509                 Note note = cursor.getObject();                                                          </span>
<span class="7788088342901597139" onmouseenter="enter('7788088342901597139');" onmouseout="out('7788088342901597139');" style=""> 510                 if ((isUnsyncedNotes &amp;&amp; (!note.isNew())) &amp;&amp; (!note.isModified())) {                      </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 511                     continue;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 512                 }                                                                                        </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 513                 JSONObject noteJson = new JSONObject();                                                  </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 514                 noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                              </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 515                 noteJson.put(&quot;content&quot;, note.getContent());                                              </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 516                 noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                              </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 517                 noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                          </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 518                 if (note.isPinned()) {                                                                   </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 519                     noteJson.put(&quot;pinned&quot;, note.isPinned());                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520                 }                                                                                        </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 521                 if (note.isMarkdownEnabled()) {                                                          </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 522                     noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523                 }                                                                                        </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 524                 if (note.getTags().size() &gt; 0) {                                                         </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 525                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 526                     Collections.sort(tags, comparator);                                                  </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 527                     noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 528                 }                                                                                        </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 529                 if (!note.getPublishedUrl().isEmpty()) {                                                 </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 530                     noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531                 }                                                                                        </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 532                 if (note.isDeleted()) {                                                                  </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 533                     trashedNotes.put(noteJson);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 534                 } else {                                                                                 </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 535                     activeNotes.put(noteJson);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 536                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 537             }                                                                                            </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 538             account.put(&quot;activeNotes&quot;, activeNotes);                                                     </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 539             account.put(&quot;trashedNotes&quot;, trashedNotes);                                                   </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 540             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 540             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDes🔵</abbr></span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 541             if (parcelFileDescriptor != null) {                                                          </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 542                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 542                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDesc🔵</abbr></span>
<span class="7351126835159256201" onmouseenter="enter('7351126835159256201');" onmouseout="out('7351126835159256201');" style=""> 543                 fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;, &quot;/&quot;).getBytes());              </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 544                 parcelFileDescriptor.close();                                                            </span>
<span class="-5163295869402506431" onmouseenter="enter('-5163295869402506431');" onmouseout="out('-5163295869402506431');" style=""> 545                 toast(R.string.export_message_success);                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 546             } else {                                                                                     </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 547                 toast(R.string.export_message_failure);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 548             }                                                                                            </span>
<span class="-3589222456918676513" onmouseenter="enter('-3589222456918676513');" onmouseout="out('-3589222456918676513');" style=""> 549         } catch (java.lang.Exception e) {                                                                </span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style=""> 550             toast(R.string.export_message_failure);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 551         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 552     }                                                                                                    </span>
<span  style=""> 553                                                                                                          </span>
<span class="8996656533128946457" onmouseenter="enter('8996656533128946457');" onmouseout="out('8996656533128946457');" style=""> 554     private void importData(Uri uri) {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 555         try {                                                                                            </span>
<span class="-4975207088998145378" onmouseenter="enter('-4975207088998145378');" onmouseout="out('-4975207088998145378');" style=""> 556             Importer.fromUri(this, uri);                                                                 </span>
<span class="2688222850389673791" onmouseenter="enter('2688222850389673791');" onmouseout="out('2688222850389673791');" style=""> 557             toast(R.string.import_message_success);                                                      </span>
<span class="-6423378606562936098" onmouseenter="enter('-6423378606562936098');" onmouseout="out('-6423378606562936098');" style=""> 558         } catch (Importer.ImportException e) {                                                           </span>
<span class="3768483165101391011" onmouseenter="enter('3768483165101391011');" onmouseout="out('3768483165101391011');" style=""> 559             switch (e.getReason()) {                                                                     </span>
<span class="-6785574966030176200" onmouseenter="enter('-6785574966030176200');" onmouseout="out('-6785574966030176200');" style=""> 560                 case FileError:                                                                          </span>
<span class="4763134744303366290" onmouseenter="enter('4763134744303366290');" onmouseout="out('4763134744303366290');" style=""> 561                     toast(R.string.import_error_file);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 562                     break;                                                                               </span>
<span class="9095738891108111618" onmouseenter="enter('9095738891108111618');" onmouseout="out('9095738891108111618');" style=""> 563                 case ParseError:                                                                         </span>
<span class="4000639691905282270" onmouseenter="enter('4000639691905282270');" onmouseout="out('4000639691905282270');" style=""> 564                     toast(R.string.import_error_parse);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 565                     break;                                                                               </span>
<span class="8133851396074290830" onmouseenter="enter('8133851396074290830');" onmouseout="out('8133851396074290830');" style=""> 566                 case UnknownExportType:                                                                  </span>
<span class="7291299810987557925" onmouseenter="enter('7291299810987557925');" onmouseout="out('7291299810987557925');" style=""> 567                     toast(R.string.import_unknown);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 568                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 571     }                                                                                                    </span>
<span  style=""> 572                                                                                                          </span>
<span class="5764694736276201115" onmouseenter="enter('5764694736276201115');" onmouseout="out('5764694736276201115');" style=""> 573     private void trackSortOrder(String label) {                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 574         AnalyticsTracker.track(                                                                          </span>
<span class="7639205635699406797" onmouseenter="enter('7639205635699406797');" onmouseout="out('7639205635699406797');" style=""> 575             AnalyticsTracker.Stat.SETTINGS_SEARCH_SORT_MODE,                                             </span>
<span class="6687394886770621877" onmouseenter="enter('6687394886770621877');" onmouseout="out('6687394886770621877');" style=""> 576             AnalyticsTracker.CATEGORY_SETTING,                                                           </span>
<span class="-2717526105763398021" onmouseenter="enter('-2717526105763398021');" onmouseout="out('-2717526105763398021');" style=""> 577             label                                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 578         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 579     }                                                                                                    </span>
<span  style=""> 580                                                                                                          </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 581     private void updateAnalyticsSwitchState() {                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 582         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 583             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 584             mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                    </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 585         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 586             // The preferences object doesn&#x27;t exist for this user yet, create it                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 587             try {                                                                                        </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 588                 Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 589                 prefs.setAnalyticsEnabled(true);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 590                 prefs.save();                                                                            </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 591             } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                  </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 592                 bucketObjectNameInvalid.printStackTrace();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 595     }                                                                                                    </span>
<span  style=""> 596                                                                                                          </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 597     private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                             </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 598         private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                        </span>
<span  style=""> 599                                                                                                          </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 600         LogOutTask(PreferencesFragment fragment) {                                                       </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 601             mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 602         }                                                                                                </span>
<span  style=""> 603                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 604         @Override                                                                                        </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 605         protected Boolean doInBackground(Void... voids) {                                                </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 606             PreferencesFragment fragment = mPreferencesFragmentReference.get();                          </span>
<span class="3469476575903725482" onmouseenter="enter('3469476575903725482');" onmouseout="out('3469476575903725482');" style=""> 607             return (fragment == null) || fragment.hasUnsyncedNotes();                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608         }                                                                                                </span>
<span  style=""> 609                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 610         @Override                                                                                        </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 611         protected void onPostExecute(Boolean hasUnsyncedNotes) {                                         </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 612             final PreferencesFragment fragment = mPreferencesFragmentReference.get();                    </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 613             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 614                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 615             }                                                                                            </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 616             // Safety first! Check if any notes are unsynced and warn the user if so.                    </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 617             if (hasUnsyncedNotes) {                                                                      </span>
<span class="-4099391055340012505" onmouseenter="enter('-4099391055340012505');" onmouseout="out('-4099391055340012505');" style=""><abbr title=" 618                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog)).setTitle(R.string.unsynced_notes).setMessage(R.string.unsynced_notes_message).setPositiveButton(R.string.log_out_anyway, new DialogInterface.OnClickListener() {"> 618                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 619                     @Override                                                                            </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 620                     public void onClick(DialogInterface dialogInterface, int i) {                        </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 621                         fragment.logOut();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 622                     }                                                                                    </span>
<span class="6384606692944879421" onmouseenter="enter('6384606692944879421');" onmouseout="out('6384606692944879421');" style=""><abbr title=" 623                 }).setNeutralButton(R.string.export_unsynced_notes, new DialogInterface.OnClickListener() {"> 623                 }).setNeutralButton(R.string.export_unsynced_notes, new DialogInterface.OnClickListener()🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 624                     @Override                                                                            </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 625                     public void onClick(DialogInterface dialogInterface, int i) {                        </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 626                         Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                       </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 627                         intent.addCategory(Intent.CATEGORY_OPENABLE);                                    </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 628                         intent.setType(&quot;application/json&quot;);                                              </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""> 629                         intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));   </span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 630                         fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 631                     }                                                                                    </span>
<span class="-2680517860136966196" onmouseenter="enter('-2680517860136966196');" onmouseout="out('-2680517860136966196');" style=""> 632                 }).setNegativeButton(R.string.cancel, null).show();                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 633             } else {                                                                                     </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 634                 fragment.logOut();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 635             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 636         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 637     }                                                                                                    </span>
<span  style=""> 638                                                                                                          </span>
<span class="-8416368629588420148" onmouseenter="enter('-8416368629588420148');" onmouseout="out('-8416368629588420148');" style=""> 639     static class DeleteAccountRequestHandlerImpl implements DeleteAccountRequestHandler {                </span>
<span class="-7627144928369588685" onmouseenter="enter('-7627144928369588685');" onmouseout="out('-7627144928369588685');" style=""> 640         final WeakReference&lt;PreferencesFragment&gt; preferencesFragment;                                    </span>
<span  style=""> 641                                                                                                          </span>
<span class="-646448777039145054" onmouseenter="enter('-646448777039145054');" onmouseout="out('-646448777039145054');" style=""> 642         DeleteAccountRequestHandlerImpl(PreferencesFragment fragment) {                                  </span>
<span class="3104220583348133430" onmouseenter="enter('3104220583348133430');" onmouseout="out('3104220583348133430');" style=""> 643             this.preferencesFragment = new WeakReference&lt;&gt;(fragment);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 644         }                                                                                                </span>
<span  style=""> 645                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 646         @Override                                                                                        </span>
<span class="-1271212954815429882" onmouseenter="enter('-1271212954815429882');" onmouseout="out('-1271212954815429882');" style=""> 647         public void onSuccess() {                                                                        </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style=""> 648             final PreferencesFragment fragment = preferencesFragment.get();                              </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 649             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 650                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 651             }                                                                                            </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style=""> 652             FragmentActivity activity = fragment.getActivity();                                          </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 653             if (activity == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 654                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655             }                                                                                            </span>
<span class="-6242454667579224576" onmouseenter="enter('-6242454667579224576');" onmouseout="out('-6242454667579224576');" style=""> 656             AppLog.add(Type.ACCOUNT, &quot;Request to delete account was successful&quot;);                        </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style=""> 657             activity.runOnUiThread(new Runnable() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 658                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 659                 public void run() {                                                                      </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style=""> 660                     fragment.closeProgressDialogDeleteAccount();                                         </span>
<span class="-7768729803778858238" onmouseenter="enter('-7768729803778858238');" onmouseout="out('-7768729803778858238');" style=""> 661                     fragment.showDeleteAccountConfirmationDialog();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 662                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 663             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 664         }                                                                                                </span>
<span  style=""> 665                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 666         @Override                                                                                        </span>
<span class="8947631172795368471" onmouseenter="enter('8947631172795368471');" onmouseout="out('8947631172795368471');" style=""> 667         public void onFailure() {                                                                        </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style=""> 668             final PreferencesFragment fragment = preferencesFragment.get();                              </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 669             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 670                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 671             }                                                                                            </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style=""> 672             FragmentActivity activity = fragment.getActivity();                                          </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style=""> 673             if (activity == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 674                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675             }                                                                                            </span>
<span class="5786671387670425912" onmouseenter="enter('5786671387670425912');" onmouseout="out('5786671387670425912');" style=""> 676             AppLog.add(Type.ACCOUNT, &quot;Failure while calling server to delete account&quot;);                  </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style=""> 677             activity.runOnUiThread(new Runnable() {                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 678                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 679                 public void run() {                                                                      </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style=""> 680                     fragment.closeProgressDialogDeleteAccount();                                         </span>
<span class="5909691904792777633" onmouseenter="enter('5909691904792777633');" onmouseout="out('5909691904792777633');" style=""> 681                     fragment.showDialogDeleteAccountError();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 682                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 683             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 684         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 685     }                                                                                                    </span>
<span  style=""> 686                                                                                                          </span>
<span class="2871930843442460031" onmouseenter="enter('2871930843442460031');" onmouseout="out('2871930843442460031');" style=""> 687     private void toast(int stringId) {                                                                   </span>
<span class="-8691575717770343351" onmouseenter="enter('-8691575717770343351');" onmouseout="out('-8691575717770343351');" style=""> 688         toast(stringId, Toast.LENGTH_SHORT);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689     }                                                                                                    </span>
<span  style=""> 690                                                                                                          </span>
<span class="-1402573872892647268" onmouseenter="enter('-1402573872892647268');" onmouseout="out('-1402573872892647268');" style=""> 691     private void toast(int stringId, int length) {                                                       </span>
<span class="-3128032619893084841" onmouseenter="enter('-3128032619893084841');" onmouseout="out('-3128032619893084841');" style=""> 692         Toast.makeText(requireContext(), getString(stringId), length).show();                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694 }                                                                                                        </span>















































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3  import android.app.Activity;                                                                                      </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4  import android.app.Fragment;                                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   5 +import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   6  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   7  import android.content.Intent;                                                                                    </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8  import android.net.Uri;                                                                                           </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10  import android.os.Bundle;                                                                                         </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11  import android.os.ParcelFileDescriptor;                                                                           </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12  import android.widget.Toast;                                                                                      </span>
<span  style="">  13                                                                                                                    </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15  import androidx.appcompat.view.ContextThemeWrapper;                                                               </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  16  import androidx.core.app.ShareCompat;                                                                             </span>
<span class="5842151950717757009" onmouseenter="enter('5842151950717757009');" onmouseout="out('5842151950717757009');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  17 +import androidx.core.content.ContextCompat;                                                                       </span>
<span class="3871271816129224755" onmouseenter="enter('3871271816129224755');" onmouseout="out('3871271816129224755');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +import androidx.fragment.app.FragmentActivity;                                                                    </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  19  import androidx.preference.ListPreference;                                                                        </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  20  import androidx.preference.Preference;                                                                            </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  21  import androidx.preference.PreferenceFragmentCompat;                                                              </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  22  import androidx.preference.SwitchPreferenceCompat;                                                                </span>
<span  style="">  23                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  24  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="7695324246477815031" onmouseenter="enter('7695324246477815031');" onmouseout="out('7695324246477815031');" style="">  25  import com.automattic.simplenote.authentication.SimplenoteAuthenticationActivity;                                 </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  26  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  27  import com.automattic.simplenote.models.Preferences;                                                              </span>
<span class="-6579126909083142141" onmouseenter="enter('-6579126909083142141');" onmouseout="out('-6579126909083142141');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 +import com.automattic.simplenote.utils.AccountNetworkUtils;                                                       </span>
<span class="-7647069095684996043" onmouseenter="enter('-7647069095684996043');" onmouseout="out('-7647069095684996043');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +import com.automattic.simplenote.utils.AccountNetworkUtils.DeleteAccountRequestHandler;                           </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  30  import com.automattic.simplenote.utils.AppLog;                                                                    </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  31  import com.automattic.simplenote.utils.AppLog.Type;                                                               </span>
<span class="3927304760801257382" onmouseenter="enter('3927304760801257382');" onmouseout="out('3927304760801257382');" style="">  32  import com.automattic.simplenote.utils.AuthUtils;                                                                 </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  33  import com.automattic.simplenote.utils.BrowserUtils;                                                              </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  34  import com.automattic.simplenote.utils.CrashUtils;                                                                </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 +import com.automattic.simplenote.utils.DialogUtils;                                                               </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  36  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  37  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-8694742716172250276" onmouseenter="enter('-8694742716172250276');" onmouseout="out('-8694742716172250276');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  38 +import com.automattic.simplenote.utils.SimplenoteProgressDialogFragment;                                          </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  39  import com.simperium.Simperium;                                                                                   </span>
<span class="8061185401310260696" onmouseenter="enter('8061185401310260696');" onmouseout="out('8061185401310260696');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +import com.simperium.android.ProgressDialogFragment;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  41  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  42  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  43  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  44  import com.simperium.client.User;                                                                                 </span>
<span  style="">  45                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  46  import org.json.JSONArray;                                                                                        </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  47  import org.json.JSONObject;                                                                                       </span>
<span  style="">  48                                                                                                                    </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  49  import java.io.FileOutputStream;                                                                                  </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  50  import java.lang.ref.WeakReference;                                                                               </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  51  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  52  import java.util.Comparator;                                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53  import java.util.List;                                                                                            </span>
<span  style="">  54                                                                                                                    </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  55  import static android.app.Activity.RESULT_OK;                                                                     </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  56  import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                                </span>
<span class="8826967329515035160" onmouseenter="enter('8826967329515035160');" onmouseout="out('8826967329515035160');" style="">  57  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING;                                   </span>
<span class="-1682178856466576571" onmouseenter="enter('-1682178856466576571');" onmouseout="out('-1682178856466576571');" style="">  58  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING_LABEL;                             </span>
<span class="3295022017599403667" onmouseenter="enter('3295022017599403667');" onmouseout="out('3295022017599403667');" style="">  59  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING;                                  </span>
<span class="-175775655276735749" onmouseenter="enter('-175775655276735749');" onmouseout="out('-175775655276735749');" style="">  60  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING_LABEL;                            </span>
<span class="-5373309715036096389" onmouseenter="enter('-5373309715036096389');" onmouseout="out('-5373309715036096389');" style="">  61  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING;                                   </span>
<span class="-870579044833355009" onmouseenter="enter('-870579044833355009');" onmouseout="out('-870579044833355009');" style="">  62  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING_LABEL;                             </span>
<span class="-7837298184614781055" onmouseenter="enter('-7837298184614781055');" onmouseout="out('-7837298184614781055');" style="">  63  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING;                                  </span>
<span class="9031990127045012175" onmouseenter="enter('9031990127045012175');" onmouseout="out('9031990127045012175');" style="">  64  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING_LABEL;                            </span>
<span class="2353849115484789575" onmouseenter="enter('2353849115484789575');" onmouseout="out('2353849115484789575');" style="">  65  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING;                                  </span>
<span class="8859125948039467765" onmouseenter="enter('8859125948039467765');" onmouseout="out('8859125948039467765');" style="">  66  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING_LABEL;                            </span>
<span class="-7793424336450235488" onmouseenter="enter('-7793424336450235488');" onmouseout="out('-7793424336450235488');" style="">  67  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING;                                 </span>
<span class="3117736445719959817" onmouseenter="enter('3117736445719959817');" onmouseout="out('3117736445719959817');" style="">  68  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING_LABEL;                           </span>
<span  style="">  69                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  70  /**                                                                                                               </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  71   * A simple {@link Fragment} subclass.                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  72   */                                                                                                               </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style=""><abbr title="  73  public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  73  public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  74      public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                                        </span>
<span  style="">  75                                                                                                                    </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  76      private static final int REQUEST_EXPORT_DATA = 9001;                                                          </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  77      private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                                      </span>

<span  style="">  78                                                                                                                    </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  79      private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                               </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  80      private SwitchPreferenceCompat mAnalyticsSwitch;                                                              </span>
<span class="-2972309948934894211" onmouseenter="enter('-2972309948934894211');" onmouseout="out('-2972309948934894211');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  81 +    private SimplenoteProgressDialogFragment mProgressDialogFragment;                                             </span>
<span  style="">  82                                                                                                                    </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  83      public PreferencesFragment() {                                                                                </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  84          // Required empty public constructor                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85      }                                                                                                             </span>
<span  style="">  86                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  87      @Override                                                                                                     </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  88      public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                                  </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  89          addPreferencesFromResource(R.xml.preferences);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90      }                                                                                                             </span>
<span  style="">  91                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  92      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  93      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  94          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  95                                                                                                                    </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  96          Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                              </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  97          Simplenote currentApp = (Simplenote) getActivity().getApplication();                                      </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  98          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  99          simperium.setUserStatusChangeListener(this);                                                              </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style=""> 100          simperium.setOnUserCreatedListener(this);                                                                 </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style=""> 101          mPreferencesBucket = currentApp.getPreferencesBucket();                                                   </span>
<span  style=""> 102                                                                                                                    </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style=""> 103          authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());                        </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style=""> 104          if (simperium.needsAuthorization()) {                                                                     </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style=""> 105              authenticatePreference.setTitle(R.string.log_in);                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 106          } else {                                                                                                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 107              authenticatePreference.setTitle(R.string.log_out);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108          }                                                                                                         </span>
<span  style=""> 109                                                                                                                    </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style=""> 110          authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 112              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 113                  if (!isAdded()) {                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 114                      return false;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115                  }                                                                                                 </span>
<span  style=""> 116                                                                                                                    </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style=""> 117                  Simplenote currentApp = (Simplenote) getActivity().getApplication();                              </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 118                  if (currentApp.getSimperium().needsAuthorization()) {                                             </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""> 119                      Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);       </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 120                      startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 121                  } else {                                                                                          </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 122                      new LogOutTask(PreferencesFragment.this).execute();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +                return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +        });                                                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +                                                                                                                  </span>
<span class="2946900849266796620" onmouseenter="enter('2946900849266796620');" onmouseout="out('2946900849266796620');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +        Preference deleteAppPreference = findPreference(&quot;pref_key_delete_account&quot;);                               </span>
<span class="-2350223962711597776" onmouseenter="enter('-2350223962711597776');" onmouseout="out('-2350223962711597776');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +        deleteAppPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +            @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +            public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2781290625557367680" onmouseenter="enter('-2781290625557367680');" onmouseout="out('-2781290625557367680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +                showDeleteAccountDialog();                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 133                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 135          });                                                                                                       </span>
<span  style=""> 136                                                                                                                    </span>
<span class="-8106343823043205231" onmouseenter="enter('-8106343823043205231');" onmouseout="out('-8106343823043205231');" style=""> 137          findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 139              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 140                  try {                                                                                             </span>
<span class="-2711969911277073522" onmouseenter="enter('-2711969911277073522');" onmouseout="out('-2711969911277073522');" style=""> 141                      BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;);       </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 142                  } catch (Exception e) {                                                                           </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""> 143                      Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();       </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 145                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 147          });                                                                                                       </span>
<span  style=""> 148                                                                                                                    </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 149          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 149          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener()🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 150              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 151              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 152                  try {                                                                                             </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 153                      BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);             </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 154                  } catch (Exception e) {                                                                           </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""> 155                      Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();       </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 157                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 159          });                                                                                                       </span>
<span  style=""> 160                                                                                                                    </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""> 161          findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {</span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 162              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 163              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 164                  startActivity(new Intent(getActivity(), AboutActivity.class));                                    </span>












<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 165                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 167          });                                                                                                       </span>
<span  style=""> 168                                                                                                                    </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 169          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 169          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() 🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 171              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 172                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 173                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 174                  intent.setType(&quot;application/json&quot;);                                                               </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 175                  intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                             </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 176                  startActivityForResult(intent, REQUEST_EXPORT_DATA);                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 177                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 179          });                                                                                                       </span>
<span  style=""> 180                                                                                                                    </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 181          final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                              </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 182          themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 184              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 185                  updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 186                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187              }                                                                                                     </span>
<span  style=""> 188                                                                                                                    </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 189              private void updateTheme(Activity activity, int index) {                                              </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 190                  CharSequence[] entries = themePreference.getEntries();                                            </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 191                  themePreference.setSummary(entries[index]);                                                       </span>
<span  style=""> 192                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 193                  AnalyticsTracker.track(                                                                           </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 194                          AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                             </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 195                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 196                          &quot;theme_preference&quot;                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 197                  );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 199          });                                                                                                       </span>
<span  style=""> 200                                                                                                                    </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 201          final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                                      </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style=""> 202          stylePreference.setSummary(                                                                               </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style=""> 203              PrefUtils.isPremium(requireContext()) ?                                                               </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style=""> 204                  PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                                       </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style=""> 205                  PrefUtils.getStyleNameDefault(requireContext())                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 206          );                                                                                                        </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 207          stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 209              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 210                  startActivity(new Intent(requireContext(), StyleActivity.class));                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 211                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 213          });                                                                                                       </span>
<span  style=""> 214                                                                                                                    </span>
<span class="7183771711274333920" onmouseenter="enter('7183771711274333920');" onmouseout="out('7183771711274333920');" style=""> 215          final Preference membershipPreference = findPreference(&quot;pref_key_membership&quot;);                            </span>
<span class="-7419655243406727093" onmouseenter="enter('-7419655243406727093');" onmouseout="out('-7419655243406727093');" style=""> 216          membershipPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 218              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="4755531410574606252" onmouseenter="enter('4755531410574606252');" onmouseout="out('4755531410574606252');" style=""> 219                  ((PreferencesActivity) requireActivity()).openBrowserForMembership(getView());                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 220                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 222          });                                                                                                       </span>
<span  style=""> 223                                                                                                                    </span>
<span class="5948357716640114915" onmouseenter="enter('5948357716640114915');" onmouseout="out('5948357716640114915');" style=""> 224          if (PrefUtils.isPremium(requireContext())) {                                                              </span>
<span class="-8263706598863184063" onmouseenter="enter('-8263706598863184063');" onmouseout="out('-8263706598863184063');" style=""> 225              membershipPreference.setLayoutResource(R.layout.preference_default);                                  </span>
<span class="-6810727056863141958" onmouseenter="enter('-6810727056863141958');" onmouseout="out('-6810727056863141958');" style=""> 226              membershipPreference.setSummary(R.string.membership_premium);                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 227          } else {                                                                                                  </span>
<span class="7955017533183298811" onmouseenter="enter('7955017533183298811');" onmouseout="out('7955017533183298811');" style=""> 228              membershipPreference.setLayoutResource(R.layout.preference_button);                                   </span>
<span class="-1940646826107252258" onmouseenter="enter('-1940646826107252258');" onmouseout="out('-1940646826107252258');" style=""> 229              membershipPreference.setSummary(R.string.membership_free);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230          }                                                                                                         </span>
<span  style=""> 231                                                                                                                    </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 232          final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                          </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 233          sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 234              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 235              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 236                  int index = Integer.parseInt(newValue.toString());                                                </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 237                  CharSequence[] entries = sortPreference.getEntries();                                             </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 238                  sortPreference.setSummary(entries[index]);                                                        </span>
<span  style=""> 239                                                                                                                    </span>
<span class="129000644980271681" onmouseenter="enter('129000644980271681');" onmouseout="out('129000644980271681');" style=""> 240                  if (!sortPreference.getValue().equals(newValue)) {                                                </span>
<span class="8821509448547790359" onmouseenter="enter('8821509448547790359');" onmouseout="out('8821509448547790359');" style=""> 241                      switch (index) {                                                                              </span>
<span class="-2169261776148475044" onmouseenter="enter('-2169261776148475044');" onmouseout="out('-2169261776148475044');" style=""> 242                          case ALPHABETICAL_ASCENDING:                                                              </span>
<span class="-3317425248268570668" onmouseenter="enter('-3317425248268570668');" onmouseout="out('-3317425248268570668');" style=""> 243                              trackSortOrder(ALPHABETICAL_ASCENDING_LABEL);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 244                              break;                                                                                </span>
<span class="4310955617522252752" onmouseenter="enter('4310955617522252752');" onmouseout="out('4310955617522252752');" style=""> 245                          case ALPHABETICAL_DESCENDING:                                                             </span>
<span class="8357536101849916572" onmouseenter="enter('8357536101849916572');" onmouseout="out('8357536101849916572');" style=""> 246                              trackSortOrder(ALPHABETICAL_DESCENDING_LABEL);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 247                              break;                                                                                </span>
<span class="-2064268994807656061" onmouseenter="enter('-2064268994807656061');" onmouseout="out('-2064268994807656061');" style=""> 248                          case DATE_CREATED_ASCENDING:                                                              </span>
<span class="-3680449299537315875" onmouseenter="enter('-3680449299537315875');" onmouseout="out('-3680449299537315875');" style=""> 249                              trackSortOrder(DATE_CREATED_ASCENDING_LABEL);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 250                              break;                                                                                </span>
<span class="-4952093231033435692" onmouseenter="enter('-4952093231033435692');" onmouseout="out('-4952093231033435692');" style=""> 251                          case DATE_CREATED_DESCENDING:                                                             </span>
<span class="-4025354653068339079" onmouseenter="enter('-4025354653068339079');" onmouseout="out('-4025354653068339079');" style=""> 252                              trackSortOrder(DATE_CREATED_DESCENDING_LABEL);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 253                              break;                                                                                </span>
<span class="-9006552640903559872" onmouseenter="enter('-9006552640903559872');" onmouseout="out('-9006552640903559872');" style=""> 254                          case DATE_MODIFIED_ASCENDING:                                                             </span>
<span class="-3983368371522366244" onmouseenter="enter('-3983368371522366244');" onmouseout="out('-3983368371522366244');" style=""> 255                              trackSortOrder(DATE_MODIFIED_ASCENDING_LABEL);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 256                              break;                                                                                </span>
<span class="-8243438149709409515" onmouseenter="enter('-8243438149709409515');" onmouseout="out('-8243438149709409515');" style=""> 257                          case DATE_MODIFIED_DESCENDING:                                                            </span>
<span class="-6491153765216744167" onmouseenter="enter('-6491153765216744167');" onmouseout="out('-6491153765216744167');" style=""> 258                              trackSortOrder(DATE_MODIFIED_DESCENDING_LABEL);                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 259                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261                  }                                                                                                 </span>
<span  style=""> 262                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 263                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 265          });                                                                                                       </span>
<span  style=""> 266                                                                                                                    </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 267          SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);                 </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 268          switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269              @Override                                                                                             </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 270              public boolean onPreferenceChange(Preference preference, Object o) {                                  </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 271                  if (((SwitchPreferenceCompat) preference).isChecked()) {                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 272                      AnalyticsTracker.track(                                                                       </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 273                              AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 274                              AnalyticsTracker.CATEGORY_USER,                                                       </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 275                              &quot;condensed_list_preference&quot;                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 276                      );                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277                  }                                                                                                 </span>
<span  style=""> 278                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 279                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 281          });                                                                                                       </span>
<span  style=""> 282                                                                                                                    </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 283          // Add the hyperlink to the analytics summary                                                             </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 284          Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);             </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 285          String formattedSummary = String.format(                                                                  </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 286                  getString(R.string.share_analytics_summary),                                                      </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 287                  &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                                    </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 288                  &quot;&lt;/a&gt;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 289          );                                                                                                        </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 290          analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                             </span>
<span  style=""> 291                                                                                                                    </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 292          mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                           </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 293          mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 294              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 295              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 296                  try {                                                                                             </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 297                      boolean isChecked = (boolean)newValue;                                                        </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 298                      Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                           </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 299                      prefs.setAnalyticsEnabled(isChecked);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 300                      prefs.save();                                                                                 </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 301                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 302                      e.printStackTrace();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303                  }                                                                                                 </span>
<span  style=""> 304                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 305                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 307          });                                                                                                       </span>
<span  style=""> 308                                                                                                                    </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 309          updateAnalyticsSwitchState();                                                                             </span>
<span  style=""> 310                                                                                                                    </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""> 311          findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 312              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 313              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style=""> 314                  startActivity(                                                                                    </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style=""> 315                      ShareCompat.IntentBuilder.from(requireActivity())                                             </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style=""> 316                          .setText(AppLog.get())                                                                    </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style=""> 317                          .setType(&quot;text/plain&quot;)                                                                    </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style=""> 318                          .createChooserIntent()                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 319                  );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 320                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 322          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 323 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 324 +                                                                                                                  </span>
<span class="-1191373455187963152" onmouseenter="enter('-1191373455187963152');" onmouseout="out('-1191373455187963152');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 325 +    private void showProgressDialogDeleteAccount() {                                                              </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 326 +        FragmentActivity activity = getActivity();                                                                </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 327 +        if (activity == null) {                                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 328 +            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 329 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 330 +                                                                                                                  </span>
<span class="908378658564909306" onmouseenter="enter('908378658564909306');" onmouseout="out('908378658564909306');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 331 +        mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.requesting_message));"> 331 +        mProgressDialogFragment = SimplenoteProgressDialogFragment.newInstance(getString(R.string.requesting_messa🔵</abbr></span>
<span class="-7015461328566138890" onmouseenter="enter('-7015461328566138890');" onmouseout="out('-7015461328566138890');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 332 +        mProgressDialogFragment.show(activity.getSupportFragmentManager(), ProgressDialogFragment.TAG);           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 333 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 334 +                                                                                                                  </span>
<span class="-6444433115162797199" onmouseenter="enter('-6444433115162797199');" onmouseout="out('-6444433115162797199');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 335 +    private void closeProgressDialogDeleteAccount() {                                                             </span>
<span class="-5231919673723505361" onmouseenter="enter('-5231919673723505361');" onmouseout="out('-5231919673723505361');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 336 +        if (mProgressDialogFragment != null &amp;&amp; !mProgressDialogFragment.isHidden()) {                             </span>
<span class="4521774342365180283" onmouseenter="enter('4521774342365180283');" onmouseout="out('4521774342365180283');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 337 +            mProgressDialogFragment.dismiss();                                                                    </span>
<span class="-5320112376977111528" onmouseenter="enter('-5320112376977111528');" onmouseout="out('-5320112376977111528');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 338 +            mProgressDialogFragment = null;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 339 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 340 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 341 +                                                                                                                  </span>
<span class="5272209026921050994" onmouseenter="enter('5272209026921050994');" onmouseout="out('5272209026921050994');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 342 +    private void showDeleteAccountDialog() {                                                                      </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 343 +        Context context = getContext();                                                                           </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 344 +        if (context == null) {                                                                                    </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 345 +            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 346 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 347 +                                                                                                                  </span>
<span class="6313083696990294907" onmouseenter="enter('6313083696990294907');" onmouseout="out('6313083696990294907');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 348 +        final DeleteAccountRequestHandler deleteAccountHandler = new DeleteAccountRequestHandlerImpl(this);       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 349 +                                                                                                                  </span>
<span class="1031729987205306789" onmouseenter="enter('1031729987205306789');" onmouseout="out('1031729987205306789');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 350 +        final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, R.style.Dialog))"> 350 +        final AlertDialog dialogDeleteAccount = new AlertDialog.Builder(new ContextThemeWrapper(context, R.style.D🔵</abbr></span>
<span class="-1873798539673657377" onmouseenter="enter('-1873798539673657377');" onmouseout="out('-1873798539673657377');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 351 +                .setTitle(R.string.delete_account)                                                                </span>
<span class="-386066277178615224" onmouseenter="enter('-386066277178615224');" onmouseout="out('-386066277178615224');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 352 +                .setMessage(R.string.delete_account_message)                                                      </span>
<span class="-8328819480399500830" onmouseenter="enter('-8328819480399500830');" onmouseout="out('-8328819480399500830');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 353 +                .setPositiveButton(R.string.delete_account, new DialogInterface.OnClickListener() {               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 354 +                        @Override                                                                                 </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 355 +                        public void onClick(DialogInterface dialogInterface, int i) {                             </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 356 +                            FragmentActivity activity = getActivity();                                            </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 357 +                            if (activity == null) {                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 358 +                                return;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 359 +                            }                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 360 +                                                                                                                  </span>
<span class="6459977236903005106" onmouseenter="enter('6459977236903005106');" onmouseout="out('6459977236903005106');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 361 +                            showProgressDialogDeleteAccount();                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 362 +                                                                                                                  </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 363 +                            Simplenote currentApp = (Simplenote) activity.getApplication();                       </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 364 +                            Simperium simperium = currentApp.getSimperium();                                      </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 365 +                            String userEmail = simperium.getUser().getEmail();                                    </span>
<span class="1651381071182530529" onmouseenter="enter('1651381071182530529');" onmouseout="out('1651381071182530529');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 366 +                            String userToken = simperium.getUser().getAccessToken();                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 367 +                                                                                                                  </span>
<span class="3196843899819626389" onmouseenter="enter('3196843899819626389');" onmouseout="out('3196843899819626389');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 368 +                            // makeDeleteAccountRequest can throw an exception when it cannot build               </span>
<span class="768653677388483161" onmouseenter="enter('768653677388483161');" onmouseout="out('768653677388483161');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 369 +                            // the JSON object. In those cases, we show the error dialog since                    </span>
<span class="1028851578837449957" onmouseenter="enter('1028851578837449957');" onmouseout="out('1028851578837449957');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 370 +                            // it can be related to memory constraints or something else that is                  </span>
<span class="5336907060346624635" onmouseenter="enter('5336907060346624635');" onmouseout="out('5336907060346624635');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 371 +                            // just a transient fault                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 372 +                            try {                                                                                 </span>
<span class="1030407728602517742" onmouseenter="enter('1030407728602517742');" onmouseout="out('1030407728602517742');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 373 +                                AppLog.add(Type.ACCOUNT, &quot;Making request to delete account&quot;);                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 374 +                                                                                                                  </span>
<span class="-7545959631891665838" onmouseenter="enter('-7545959631891665838');" onmouseout="out('-7545959631891665838');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 375 +                                AccountNetworkUtils.makeDeleteAccountRequest(                                     </span>
<span class="-5593225241325787649" onmouseenter="enter('-5593225241325787649');" onmouseout="out('-5593225241325787649');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 376 +                                        userEmail,                                                                </span>
<span class="-7456986882819251964" onmouseenter="enter('-7456986882819251964');" onmouseout="out('-7456986882819251964');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 377 +                                        userToken,                                                                </span>
<span class="-6992356639091573052" onmouseenter="enter('-6992356639091573052');" onmouseout="out('-6992356639091573052');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 378 +                                        deleteAccountHandler);                                                    </span>
<span class="-8673390349745745141" onmouseenter="enter('-8673390349745745141');" onmouseout="out('-8673390349745745141');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 379 +                            } catch (IllegalArgumentException exception) {                                        </span>
<span class="-5966064403349693580" onmouseenter="enter('-5966064403349693580');" onmouseout="out('-5966064403349693580');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 380 +                                AppLog.add(Type.ACCOUNT, &quot;Error trying to make request &quot; +                        </span>
<span class="6896797996484321928" onmouseenter="enter('6896797996484321928');" onmouseout="out('6896797996484321928');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 381 +                                        &quot;to delete account. Error: &quot; + exception.getMessage());                   </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 382 +                                                                                                                  </span>
<span class="-6213194126034221756" onmouseenter="enter('-6213194126034221756');" onmouseout="out('-6213194126034221756');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 383 +                                showDialogDeleteAccountError();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 384 +                            }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 385 +                        }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 386 +                    }                                                                                             </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 387 +                )                                                                                                 </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 388 +                .setNegativeButton(R.string.cancel, null)                                                         </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 389 +                .create();                                                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 390 +                                                                                                                  </span>
<span class="5125198818275769351" onmouseenter="enter('5125198818275769351');" onmouseout="out('5125198818275769351');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 391 +        dialogDeleteAccount.setOnShowListener(new DialogInterface.OnShowListener() {                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 392 +            @Override                                                                                             </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 393 +            public void onShow(DialogInterface dialog) {                                                          </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 394 +                FragmentActivity activity = getActivity();                                                        </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 395 +                if (activity == null) {                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 396 +                    return;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 397 +                }                                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 398 +                                                                                                                  </span>
<span class="1365403079202164871" onmouseenter="enter('1365403079202164871');" onmouseout="out('1365403079202164871');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 399 +                int colorRed = ContextCompat.getColor(activity, R.color.text_button_red);                         </span>
<span class="-3136107241359118707" onmouseenter="enter('-3136107241359118707');" onmouseout="out('-3136107241359118707');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 400 +                dialogDeleteAccount                                                                               </span>
<span class="111291750922386792" onmouseenter="enter('111291750922386792');" onmouseout="out('111291750922386792');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 401 +                        .getButton(AlertDialog.BUTTON_POSITIVE)                                                   </span>
<span class="-131849950832046769" onmouseenter="enter('-131849950832046769');" onmouseout="out('-131849950832046769');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 402 +                        .setTextColor(colorRed);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 403 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 404 +        });                                                                                                       </span>
<span class="-8133600341455936609" onmouseenter="enter('-8133600341455936609');" onmouseout="out('-8133600341455936609');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 405 +        dialogDeleteAccount.show();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 406 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 407 +                                                                                                                  </span>
<span class="-4571070378142539494" onmouseenter="enter('-4571070378142539494');" onmouseout="out('-4571070378142539494');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 408 +    private void showDialogDeleteAccountError() {                                                                 </span>
<span class="6113650277062173680" onmouseenter="enter('6113650277062173680');" onmouseout="out('6113650277062173680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 409 +        Context context = getContext();                                                                           </span>
<span class="-5798460290753280091" onmouseenter="enter('-5798460290753280091');" onmouseout="out('-5798460290753280091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 410 +        if (context == null) {                                                                                    </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 411 +            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 412 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 413 +                                                                                                                  </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 414 +        DialogUtils.showDialogWithEmail(                                                                          </span>
<span class="8707191112376903621" onmouseenter="enter('8707191112376903621');" onmouseout="out('8707191112376903621');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 415 +                context,                                                                                          </span>
<span class="8499829491281829275" onmouseenter="enter('8499829491281829275');" onmouseout="out('8499829491281829275');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 416 +                getString(R.string.error_ocurred_message)                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 417 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 418 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 419 +                                                                                                                  </span>
<span class="-7722414756461467859" onmouseenter="enter('-7722414756461467859');" onmouseout="out('-7722414756461467859');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 420 +    private void showDeleteAccountConfirmationDialog() {                                                          </span>
<span class="4343120289681205406" onmouseenter="enter('4343120289681205406');" onmouseout="out('4343120289681205406');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 421 +        FragmentActivity activity = getActivity();                                                                </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 422 +        if (activity == null) {                                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 423 +            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 424 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 425 +                                                                                                                  </span>
<span class="7242324808524534407" onmouseenter="enter('7242324808524534407');" onmouseout="out('7242324808524534407');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 426 +        Simplenote currentApp = (Simplenote) activity.getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 427 +        Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="-1659981309625951680" onmouseenter="enter('-1659981309625951680');" onmouseout="out('-1659981309625951680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 428 +        String userEmail = simperium.getUser().getEmail();                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 429 +                                                                                                                  </span>
<span class="3621082773894450353" onmouseenter="enter('3621082773894450353');" onmouseout="out('3621082773894450353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 430 +        AlertDialog dialogDeleteAccountConfirmation = new AlertDialog.Builder(                                    </span>
<span class="7887587112328823469" onmouseenter="enter('7887587112328823469');" onmouseout="out('7887587112328823469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 431 +                new ContextThemeWrapper(activity, R.style.Dialog))                                                </span>
<span class="-8605297465257752598" onmouseenter="enter('-8605297465257752598');" onmouseout="out('-8605297465257752598');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 432 +                .setTitle(R.string.request_received)                                                              </span>
<span class="-5099278043250121234" onmouseenter="enter('-5099278043250121234');" onmouseout="out('-5099278043250121234');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 433 +                .setMessage(getString(R.string.account_deletion_message, userEmail))                              </span>
<span class="-5617878821115539617" onmouseenter="enter('-5617878821115539617');" onmouseout="out('-5617878821115539617');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 434 +                .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 435 +                            @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 436 +                            public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="-9058588631339612355" onmouseenter="enter('-9058588631339612355');" onmouseout="out('-9058588631339612355');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 437 +                                dialogInterface.dismiss();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 438 +                            }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 439 +                        }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 440 +                )                                                                                                 </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 441 +                .create();                                                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 442 +                                                                                                                  </span>
<span class="5504919937204140474" onmouseenter="enter('5504919937204140474');" onmouseout="out('5504919937204140474');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 443 +        dialogDeleteAccountConfirmation.show();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444      }                                                                                                             </span>
<span  style=""> 445                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 446      @Override                                                                                                     </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 447      public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                            </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style=""> 448          if (resultCode != RESULT_OK || resultData == null) {                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 449              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450          }                                                                                                         </span>
<span  style=""> 451                                                                                                                    </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 452          if (resultData.getData() == null) {                                                                       </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 453              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 453              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>

<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 454              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455          }                                                                                                         </span>
<span  style=""> 456                                                                                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 457          switch (requestCode) {                                                                                    </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 458              case REQUEST_EXPORT_DATA:                                                                             </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 459                  exportData(resultData.getData(), false);                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 460                  break;                                                                                            </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 461              case REQUEST_EXPORT_UNSYNCED:                                                                         </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 462                  exportData(resultData.getData(), true);                                                           </span>



<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 463                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 464          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465      }                                                                                                             </span>
<span  style=""> 466                                                                                                                    </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 467      private boolean hasUnsyncedNotes() {                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 468          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 469          Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                                  </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 470          Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                         </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 471          while (notesCursor.moveToNext()) {                                                                        </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 472              Note note = notesCursor.getObject();                                                                  </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 473              if (note.isNew() || note.isModified()) {                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 474                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 475              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476          }                                                                                                         </span>
<span  style=""> 477                                                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 478          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 479      }                                                                                                             </span>
<span  style=""> 480                                                                                                                    </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 481      private void logOut() {                                                                                       </span>
<span class="4969264094597597154" onmouseenter="enter('4969264094597597154');" onmouseout="out('4969264094597597154');" style=""> 482          AppLog.add(Type.ACTION, &quot;Tapped logout button (PreferencesFragment)&quot;);                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 483          AnalyticsTracker.track(                                                                                   </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 484                  AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                            </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 485                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 486                  &quot;preferences_sign_out_button&quot;                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 487          );                                                                                                        </span>
<span  style=""> 488                                                                                                                    </span>
<span class="1334957593624703804" onmouseenter="enter('1334957593624703804');" onmouseout="out('1334957593624703804');" style=""> 489          AuthUtils.logOut((Simplenote) requireActivity().getApplication());                                        </span>
<span  style=""> 490                                                                                                                    </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 491          getActivity().finish();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492      }                                                                                                             </span>
<span  style=""> 493                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 494      @Override                                                                                                     </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 495      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 496          if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                                      </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 497              // User signed in                                                                                     </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 498              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 499                  public void run() {                                                                               </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 500                      Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 501                      authenticatePreference.setTitle(R.string.log_out);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 502                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 503              });                                                                                                   </span>
<span  style=""> 504                                                                                                                    </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 505              Simplenote app = (Simplenote) getActivity().getApplication();                                         </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 506              AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                            </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 507              CrashUtils.setCurrentUser(app.getSimperium().getUser());                                              </span>
<span  style=""> 508                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 509              AnalyticsTracker.track(                                                                               </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 510                      AnalyticsTracker.Stat.USER_SIGNED_IN,                                                         </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 511                      AnalyticsTracker.CATEGORY_USER,                                                               </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 512                      &quot;signed_in_from_preferences_activity&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 513              );                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515      }                                                                                                             </span>
<span  style=""> 516                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 517      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 518      public void onUserCreated(User user) {                                                                        </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 519          AnalyticsTracker.track(                                                                                   </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 520                  AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 521                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 522                  &quot;account_created_from_preferences_activity&quot;                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 523          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 524      }                                                                                                             </span>
<span  style=""> 525                                                                                                                    </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 526      private void exportData(Uri uri, boolean isUnsyncedNotes) {                                                   </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 527          Simplenote currentApp = (Simplenote) requireActivity().getApplication();                                  </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 528          Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                                    </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 529          JSONObject account = new JSONObject();                                                                    </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 530          Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                               </span>
<span  style=""> 531                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 532          try {                                                                                                     </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 533              JSONArray activeNotes = new JSONArray();                                                              </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 534              JSONArray trashedNotes = new JSONArray();                                                             </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 535              Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 536                  @Override                                                                                         </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 537                  public int compare(String text1, String text2) {                                                  </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 538                      return text1.compareToIgnoreCase(text2);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 539                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 540              };                                                                                                    </span>
<span  style=""> 541                                                                                                                    </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 542              while (cursor.moveToNext()) {                                                                         </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 543                  Note note = cursor.getObject();                                                                   </span>
<span  style=""> 544                                                                                                                    </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 545                  if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                                     </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 546                      continue;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 547                  }                                                                                                 </span>
<span  style=""> 548                                                                                                                    </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 549                  JSONObject noteJson = new JSONObject();                                                           </span>
<span  style=""> 550                                                                                                                    </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 551                  noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                                       </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 552                  noteJson.put(&quot;content&quot;, note.getContent());                                                       </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 553                  noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                                       </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 554                  noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                                   </span>
<span  style=""> 555                                                                                                                    </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 556                  if (note.isPinned()) {                                                                            </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 557                      noteJson.put(&quot;pinned&quot;, note.isPinned());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 558                  }                                                                                                 </span>
<span  style=""> 559                                                                                                                    </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 560                  if (note.isMarkdownEnabled()) {                                                                   </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 561                      noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 562                  }                                                                                                 </span>
<span  style=""> 563                                                                                                                    </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 564                  if (note.getTags().size() &gt; 0) {                                                                  </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 565                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 566                      Collections.sort(tags, comparator);                                                           </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 567                      noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568                  }                                                                                                 </span>
<span  style=""> 569                                                                                                                    </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 570                  if (!note.getPublishedUrl().isEmpty()) {                                                          </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 571                      noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572                  }                                                                                                 </span>
<span  style=""> 573                                                                                                                    </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 574                  if (note.isDeleted()) {                                                                           </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 575                      trashedNotes.put(noteJson);                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 576                  } else {                                                                                          </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 577                      activeNotes.put(noteJson);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 579              }                                                                                                     </span>
<span  style=""> 580                                                                                                                    </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 581              account.put(&quot;activeNotes&quot;, activeNotes);                                                              </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 582              account.put(&quot;trashedNotes&quot;, trashedNotes);                                                            </span>
<span  style=""> 583                                                                                                                    </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 584              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 584              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(u🔵</abbr></span>
<span  style=""> 585                                                                                                                    </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 586              if (parcelFileDescriptor != null) {                                                                   </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 587                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 587                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor())🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 588                  fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());                        </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 589                  parcelFileDescriptor.close();                                                                     </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style=""><abbr title=" 590                  Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 590                  Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).s🔵</abbr></span>

<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 591              } else {                                                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 592                  Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 592                  Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).s🔵</abbr></span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593              }                                                                                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 594          } catch (Exception e) {                                                                                   </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 595              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 595              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>




















<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 597      }                                                                                                             </span>
<span  style=""> 598                                                                                                                    </span>
<span class="5764694736276201115" onmouseenter="enter('5764694736276201115');" onmouseout="out('5764694736276201115');" style=""> 599      private void trackSortOrder(String label) {                                                                   </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 600          AnalyticsTracker.track(                                                                                   </span>
<span class="7639205635699406797" onmouseenter="enter('7639205635699406797');" onmouseout="out('7639205635699406797');" style=""> 601              AnalyticsTracker.Stat.SETTINGS_SEARCH_SORT_MODE,                                                      </span>
<span class="6687394886770621877" onmouseenter="enter('6687394886770621877');" onmouseout="out('6687394886770621877');" style=""> 602              AnalyticsTracker.CATEGORY_SETTING,                                                                    </span>
<span class="-2717526105763398021" onmouseenter="enter('-2717526105763398021');" onmouseout="out('-2717526105763398021');" style=""> 603              label                                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 604          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 605      }                                                                                                             </span>
<span  style=""> 606                                                                                                                    </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 607      private void updateAnalyticsSwitchState() {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 608          try {                                                                                                     </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 609              Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                                   </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 610              mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                             </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 611          } catch (BucketObjectMissingException e) {                                                                </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 612              // The preferences object doesn&#x27;t exist for this user yet, create it                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 613              try {                                                                                                 </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 614                  Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                         </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 615                  prefs.setAnalyticsEnabled(true);                                                                  </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 616                  prefs.save();                                                                                     </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 617              } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                           </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 618                  bucketObjectNameInvalid.printStackTrace();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 619              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 620          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 621      }                                                                                                             </span>
<span  style=""> 622                                                                                                                    </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 623      private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                                      </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 624          private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                                 </span>
<span  style=""> 625                                                                                                                    </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 626          LogOutTask(PreferencesFragment fragment) {                                                                </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 627              mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 628          }                                                                                                         </span>
<span  style=""> 629                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 630          @Override                                                                                                 </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 631          protected Boolean doInBackground(Void... voids) {                                                         </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 632              PreferencesFragment fragment = mPreferencesFragmentReference.get();                                   </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 633              return fragment == null || fragment.hasUnsyncedNotes();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 634          }                                                                                                         </span>
<span  style=""> 635                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 636          @Override                                                                                                 </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 637          protected void onPostExecute(Boolean hasUnsyncedNotes) {                                                  </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 638              final PreferencesFragment fragment = mPreferencesFragmentReference.get();                             </span>
<span  style=""> 639                                                                                                                    </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 640              if (fragment == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 641                  return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 642              }                                                                                                     </span>
<span  style=""> 643                                                                                                                    </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 644              // Safety first! Check if any notes are unsynced and warn the user if so.                             </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 645              if (hasUnsyncedNotes) {                                                                               </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""> 646                  new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))       </span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 647                      .setTitle(R.string.unsynced_notes)                                                            </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 648                      .setMessage(R.string.unsynced_notes_message)                                                  </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 649                      .setPositiveButton(R.string.log_out_anyway,                                                   </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 650                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 651                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 652                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 653                                  fragment.logOut();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 656                      )                                                                                             </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 657                      .setNeutralButton(R.string.export_unsynced_notes,                                             </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 658                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 659                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 660                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 661                                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 662                                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 663                                  intent.setType(&quot;application/json&quot;);                                               </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""> 664                                  intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));    </span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 665                                  fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 666                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 668                      )                                                                                             </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 669                      .setNegativeButton(R.string.cancel, null)                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 670                      .show();                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 671              } else {                                                                                              </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 672                  fragment.logOut();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 673              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 676 +                                                                                                                  </span>
<span class="-8416368629588420148" onmouseenter="enter('-8416368629588420148');" onmouseout="out('-8416368629588420148');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 677 +    static class DeleteAccountRequestHandlerImpl implements DeleteAccountRequestHandler {                         </span>
<span class="-7627144928369588685" onmouseenter="enter('-7627144928369588685');" onmouseout="out('-7627144928369588685');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 678 +        final WeakReference&lt;PreferencesFragment&gt; preferencesFragment;                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 679 +                                                                                                                  </span>
<span class="-646448777039145054" onmouseenter="enter('-646448777039145054');" onmouseout="out('-646448777039145054');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 680 +        DeleteAccountRequestHandlerImpl(PreferencesFragment fragment) {                                           </span>
<span class="3104220583348133430" onmouseenter="enter('3104220583348133430');" onmouseout="out('3104220583348133430');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 681 +            this.preferencesFragment = new WeakReference&lt;&gt;(fragment);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 682 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 683 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 684 +        @Override                                                                                                 </span>
<span class="-1271212954815429882" onmouseenter="enter('-1271212954815429882');" onmouseout="out('-1271212954815429882');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 685 +        public void onSuccess() {                                                                                 </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 686 +            final PreferencesFragment fragment = preferencesFragment.get();                                       </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 687 +            if (fragment == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 688 +                return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 689 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 690 +                                                                                                                  </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 691 +            FragmentActivity activity = fragment.getActivity();                                                   </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 692 +            if (activity == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 693 +                return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 694 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 695 +                                                                                                                  </span>
<span class="-6242454667579224576" onmouseenter="enter('-6242454667579224576');" onmouseout="out('-6242454667579224576');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 696 +            AppLog.add(Type.ACCOUNT, &quot;Request to delete account was successful&quot;);                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 697 +                                                                                                                  </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 698 +            activity.runOnUiThread(new Runnable() {                                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 699 +                @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 700 +                public void run() {                                                                               </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 701 +                    fragment.closeProgressDialogDeleteAccount();                                                  </span>
<span class="-7768729803778858238" onmouseenter="enter('-7768729803778858238');" onmouseout="out('-7768729803778858238');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 702 +                    fragment.showDeleteAccountConfirmationDialog();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 703 +                }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 704 +            });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 705 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 706 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 707 +        @Override                                                                                                 </span>
<span class="8947631172795368471" onmouseenter="enter('8947631172795368471');" onmouseout="out('8947631172795368471');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 708 +        public void onFailure() {                                                                                 </span>
<span class="1537869040656699470" onmouseenter="enter('1537869040656699470');" onmouseout="out('1537869040656699470');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 709 +            final PreferencesFragment fragment = preferencesFragment.get();                                       </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 710 +            if (fragment == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 711 +                return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 712 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 713 +                                                                                                                  </span>
<span class="-1155301544955899202" onmouseenter="enter('-1155301544955899202');" onmouseout="out('-1155301544955899202');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 714 +            FragmentActivity activity = fragment.getActivity();                                                   </span>
<span class="-686470663642561295" onmouseenter="enter('-686470663642561295');" onmouseout="out('-686470663642561295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 715 +            if (activity == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 716 +                return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 717 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 718 +                                                                                                                  </span>
<span class="5786671387670425912" onmouseenter="enter('5786671387670425912');" onmouseout="out('5786671387670425912');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 719 +            AppLog.add(Type.ACCOUNT, &quot;Failure while calling server to delete account&quot;);                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 720 +                                                                                                                  </span>
<span class="-6490872555221564010" onmouseenter="enter('-6490872555221564010');" onmouseout="out('-6490872555221564010');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 721 +            activity.runOnUiThread(new Runnable() {                                                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 722 +                @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 723 +                public void run() {                                                                               </span>
<span class="3975191381390270230" onmouseenter="enter('3975191381390270230');" onmouseout="out('3975191381390270230');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 724 +                    fragment.closeProgressDialogDeleteAccount();                                                  </span>
<span class="5909691904792777633" onmouseenter="enter('5909691904792777633');" onmouseout="out('5909691904792777633');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 725 +                    fragment.showDialogDeleteAccountError();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 726 +                }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 727 +            });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 728 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 729 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 730  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3  import android.app.Activity;                                                                                      </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4  import android.app.Fragment;                                                                                      </span>

<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6  import android.content.Intent;                                                                                    </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   7  import android.net.Uri;                                                                                           </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   8  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   9  import android.os.Bundle;                                                                                         </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  10  import android.os.ParcelFileDescriptor;                                                                           </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  11  import android.widget.Toast;                                                                                      </span>
<span  style="">  12                                                                                                                    </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  13  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  14  import androidx.appcompat.view.ContextThemeWrapper;                                                               </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  15  import androidx.core.app.ShareCompat;                                                                             </span>


<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  16  import androidx.preference.ListPreference;                                                                        </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  17  import androidx.preference.Preference;                                                                            </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  18  import androidx.preference.PreferenceFragmentCompat;                                                              </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  19  import androidx.preference.SwitchPreferenceCompat;                                                                </span>
<span  style="">  20                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  21  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="7695324246477815031" onmouseenter="enter('7695324246477815031');" onmouseout="out('7695324246477815031');" style="">  22  import com.automattic.simplenote.authentication.SimplenoteAuthenticationActivity;                                 </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  23  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  24  import com.automattic.simplenote.models.Preferences;                                                              </span>


<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  25  import com.automattic.simplenote.utils.AppLog;                                                                    </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  26  import com.automattic.simplenote.utils.AppLog.Type;                                                               </span>
<span class="3927304760801257382" onmouseenter="enter('3927304760801257382');" onmouseout="out('3927304760801257382');" style="">  27  import com.automattic.simplenote.utils.AuthUtils;                                                                 </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  28  import com.automattic.simplenote.utils.BrowserUtils;                                                              </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  29  import com.automattic.simplenote.utils.CrashUtils;                                                                </span>

<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  30  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  31  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>

<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  32  import com.simperium.Simperium;                                                                                   </span>

<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  33  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  34  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  35  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  36  import com.simperium.client.User;                                                                                 </span>
<span  style="">  37                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  38  import org.json.JSONArray;                                                                                        </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  39  import org.json.JSONObject;                                                                                       </span>
<span  style="">  40                                                                                                                    </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  41  import java.io.FileOutputStream;                                                                                  </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  42  import java.lang.ref.WeakReference;                                                                               </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  43  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  44  import java.util.Comparator;                                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  45  import java.util.List;                                                                                            </span>
<span  style="">  46                                                                                                                    </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  47  import static android.app.Activity.RESULT_OK;                                                                     </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  48  import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                                </span>
<span class="8826967329515035160" onmouseenter="enter('8826967329515035160');" onmouseout="out('8826967329515035160');" style="">  49  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING;                                   </span>
<span class="-1682178856466576571" onmouseenter="enter('-1682178856466576571');" onmouseout="out('-1682178856466576571');" style="">  50  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_ASCENDING_LABEL;                             </span>
<span class="3295022017599403667" onmouseenter="enter('3295022017599403667');" onmouseout="out('3295022017599403667');" style="">  51  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING;                                  </span>
<span class="-175775655276735749" onmouseenter="enter('-175775655276735749');" onmouseout="out('-175775655276735749');" style="">  52  import static com.automattic.simplenote.utils.PrefUtils.ALPHABETICAL_DESCENDING_LABEL;                            </span>
<span class="-5373309715036096389" onmouseenter="enter('-5373309715036096389');" onmouseout="out('-5373309715036096389');" style="">  53  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING;                                   </span>
<span class="-870579044833355009" onmouseenter="enter('-870579044833355009');" onmouseout="out('-870579044833355009');" style="">  54  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_ASCENDING_LABEL;                             </span>
<span class="-7837298184614781055" onmouseenter="enter('-7837298184614781055');" onmouseout="out('-7837298184614781055');" style="">  55  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING;                                  </span>
<span class="9031990127045012175" onmouseenter="enter('9031990127045012175');" onmouseout="out('9031990127045012175');" style="">  56  import static com.automattic.simplenote.utils.PrefUtils.DATE_CREATED_DESCENDING_LABEL;                            </span>
<span class="2353849115484789575" onmouseenter="enter('2353849115484789575');" onmouseout="out('2353849115484789575');" style="">  57  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING;                                  </span>
<span class="8859125948039467765" onmouseenter="enter('8859125948039467765');" onmouseout="out('8859125948039467765');" style="">  58  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_ASCENDING_LABEL;                            </span>
<span class="-7793424336450235488" onmouseenter="enter('-7793424336450235488');" onmouseout="out('-7793424336450235488');" style="">  59  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING;                                 </span>
<span class="3117736445719959817" onmouseenter="enter('3117736445719959817');" onmouseout="out('3117736445719959817');" style="">  60  import static com.automattic.simplenote.utils.PrefUtils.DATE_MODIFIED_DESCENDING_LABEL;                           </span>
<span  style="">  61                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  62  /**                                                                                                               </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  63   * A simple {@link Fragment} subclass.                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  64   */                                                                                                               </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style=""><abbr title="  65  public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  65  public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  66      public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                                        </span>
<span  style="">  67                                                                                                                    </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  68      private static final int REQUEST_EXPORT_DATA = 9001;                                                          </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  69      private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                                      </span>
<span class="5428701190302531857" onmouseenter="enter('5428701190302531857');" onmouseout="out('5428701190302531857');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  70 +    private static final int REQUEST_IMPORT_DATA = 9003;                                                          </span>
<span  style="">  71                                                                                                                    </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  72      private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                               </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  73      private SwitchPreferenceCompat mAnalyticsSwitch;                                                              </span>

<span  style="">  74                                                                                                                    </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  75      public PreferencesFragment() {                                                                                </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  76          // Required empty public constructor                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77      }                                                                                                             </span>
<span  style="">  78                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  79      @Override                                                                                                     </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  80      public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                                  </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  81          addPreferencesFromResource(R.xml.preferences);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  82      }                                                                                                             </span>
<span  style="">  83                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  85      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  86          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  87                                                                                                                    </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  88          Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                              </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  89          Simplenote currentApp = (Simplenote) getActivity().getApplication();                                      </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  90          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  91          simperium.setUserStatusChangeListener(this);                                                              </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style="">  92          simperium.setOnUserCreatedListener(this);                                                                 </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style="">  93          mPreferencesBucket = currentApp.getPreferencesBucket();                                                   </span>
<span  style="">  94                                                                                                                    </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style="">  95          authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());                        </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style="">  96          if (simperium.needsAuthorization()) {                                                                     </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style="">  97              authenticatePreference.setTitle(R.string.log_in);                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  98          } else {                                                                                                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style="">  99              authenticatePreference.setTitle(R.string.log_out);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100          }                                                                                                         </span>
<span  style=""> 101                                                                                                                    </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style=""> 102          authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 103              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 104              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 105                  if (!isAdded()) {                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 106                      return false;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107                  }                                                                                                 </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style=""> 109                  Simplenote currentApp = (Simplenote) getActivity().getApplication();                              </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 110                  if (currentApp.getSimperium().needsAuthorization()) {                                             </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""> 111                      Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);       </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 112                      startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 113                  } else {                                                                                          </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 114                      new LogOutTask(PreferencesFragment.this).execute();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115                  }                                                                                                 </span>









<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 116                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 118          });                                                                                                       </span>
<span  style=""> 119                                                                                                                    </span>
<span class="-8106343823043205231" onmouseenter="enter('-8106343823043205231');" onmouseout="out('-8106343823043205231');" style=""> 120          findPreference(&quot;pref_key_help&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 121              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 122              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 123                  try {                                                                                             </span>
<span class="-2711969911277073522" onmouseenter="enter('-2711969911277073522');" onmouseout="out('-2711969911277073522');" style=""> 124                      BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;https://simplenote.com/help&quot;);       </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 125                  } catch (Exception e) {                                                                           </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -                    Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();       </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +                    toast(R.string.no_browser_available, Toast.LENGTH_LONG);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 129                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 131          });                                                                                                       </span>
<span  style=""> 132                                                                                                                    </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 133          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 133          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener()🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 135              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 136                  try {                                                                                             </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 137                      BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);             </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 138                  } catch (Exception e) {                                                                           </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -                    Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();       </span>
<span class="3013381737070970704" onmouseenter="enter('3013381737070970704');" onmouseout="out('3013381737070970704');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +                    toast(R.string.no_browser_available, Toast.LENGTH_LONG);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 142                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 144          });                                                                                                       </span>
<span  style=""> 145                                                                                                                    </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""> 146          findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {</span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 147              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 148              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 149                  startActivity(new Intent(getActivity(), AboutActivity.class));                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +                return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +        });                                                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +                                                                                                                  </span>
<span class="-1307457492407505021" onmouseenter="enter('-1307457492407505021');" onmouseout="out('-1307457492407505021');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 154 +        findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 154 +        findPreference(&quot;pref_key_import&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() 🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +            @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +            public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-6211373805165179522" onmouseenter="enter('-6211373805165179522');" onmouseout="out('-6211373805165179522');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);                                          </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +                intent.addCategory(Intent.CATEGORY_OPENABLE);                                                     </span>
<span class="4423889240572822366" onmouseenter="enter('4423889240572822366');" onmouseout="out('4423889240572822366');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +                intent.setType(&quot;*/*&quot;);                                                                            </span>
<span class="6733339250899644961" onmouseenter="enter('6733339250899644961');" onmouseout="out('6733339250899644961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +                intent.putExtra(Intent.EXTRA_MIME_TYPES, new String[]{&quot;text/*&quot;, &quot;application/json&quot;});             </span>
<span class="233539475142465633" onmouseenter="enter('233539475142465633');" onmouseout="out('233539475142465633');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +                startActivityForResult(intent, REQUEST_IMPORT_DATA);                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 162                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 164          });                                                                                                       </span>
<span  style=""> 165                                                                                                                    </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 166          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 166          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() 🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 167              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 168              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 169                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 170                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 171                  intent.setType(&quot;application/json&quot;);                                                               </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 172                  intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                             </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 173                  startActivityForResult(intent, REQUEST_EXPORT_DATA);                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 174                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 176          });                                                                                                       </span>
<span  style=""> 177                                                                                                                    </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 178          final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                              </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 179          themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 180              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 181              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 182                  updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 183                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184              }                                                                                                     </span>
<span  style=""> 185                                                                                                                    </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 186              private void updateTheme(Activity activity, int index) {                                              </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 187                  CharSequence[] entries = themePreference.getEntries();                                            </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 188                  themePreference.setSummary(entries[index]);                                                       </span>
<span  style=""> 189                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 190                  AnalyticsTracker.track(                                                                           </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 191                          AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                             </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 192                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 193                          &quot;theme_preference&quot;                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 194                  );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 196          });                                                                                                       </span>
<span  style=""> 197                                                                                                                    </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 198          final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                                      </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style=""> 199          stylePreference.setSummary(                                                                               </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style=""> 200              PrefUtils.isPremium(requireContext()) ?                                                               </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style=""> 201                  PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                                       </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style=""> 202                  PrefUtils.getStyleNameDefault(requireContext())                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 203          );                                                                                                        </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 204          stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 205              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 206              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 207                  startActivity(new Intent(requireContext(), StyleActivity.class));                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 208                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 210          });                                                                                                       </span>
<span  style=""> 211                                                                                                                    </span>
<span class="7183771711274333920" onmouseenter="enter('7183771711274333920');" onmouseout="out('7183771711274333920');" style=""> 212          final Preference membershipPreference = findPreference(&quot;pref_key_membership&quot;);                            </span>
<span class="-7419655243406727093" onmouseenter="enter('-7419655243406727093');" onmouseout="out('-7419655243406727093');" style=""> 213          membershipPreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 214              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 215              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="4755531410574606252" onmouseenter="enter('4755531410574606252');" onmouseout="out('4755531410574606252');" style=""> 216                  ((PreferencesActivity) requireActivity()).openBrowserForMembership(getView());                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 217                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 219          });                                                                                                       </span>
<span  style=""> 220                                                                                                                    </span>
<span class="5948357716640114915" onmouseenter="enter('5948357716640114915');" onmouseout="out('5948357716640114915');" style=""> 221          if (PrefUtils.isPremium(requireContext())) {                                                              </span>
<span class="-8263706598863184063" onmouseenter="enter('-8263706598863184063');" onmouseout="out('-8263706598863184063');" style=""> 222              membershipPreference.setLayoutResource(R.layout.preference_default);                                  </span>
<span class="-6810727056863141958" onmouseenter="enter('-6810727056863141958');" onmouseout="out('-6810727056863141958');" style=""> 223              membershipPreference.setSummary(R.string.membership_premium);                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 224          } else {                                                                                                  </span>
<span class="7955017533183298811" onmouseenter="enter('7955017533183298811');" onmouseout="out('7955017533183298811');" style=""> 225              membershipPreference.setLayoutResource(R.layout.preference_button);                                   </span>
<span class="-1940646826107252258" onmouseenter="enter('-1940646826107252258');" onmouseout="out('-1940646826107252258');" style=""> 226              membershipPreference.setSummary(R.string.membership_free);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227          }                                                                                                         </span>
<span  style=""> 228                                                                                                                    </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 229          final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                          </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 230          sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 231              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 232              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 233                  int index = Integer.parseInt(newValue.toString());                                                </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 234                  CharSequence[] entries = sortPreference.getEntries();                                             </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 235                  sortPreference.setSummary(entries[index]);                                                        </span>
<span  style=""> 236                                                                                                                    </span>
<span class="129000644980271681" onmouseenter="enter('129000644980271681');" onmouseout="out('129000644980271681');" style=""> 237                  if (!sortPreference.getValue().equals(newValue)) {                                                </span>
<span class="8821509448547790359" onmouseenter="enter('8821509448547790359');" onmouseout="out('8821509448547790359');" style=""> 238                      switch (index) {                                                                              </span>
<span class="-2169261776148475044" onmouseenter="enter('-2169261776148475044');" onmouseout="out('-2169261776148475044');" style=""> 239                          case ALPHABETICAL_ASCENDING:                                                              </span>
<span class="-3317425248268570668" onmouseenter="enter('-3317425248268570668');" onmouseout="out('-3317425248268570668');" style=""> 240                              trackSortOrder(ALPHABETICAL_ASCENDING_LABEL);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 241                              break;                                                                                </span>
<span class="4310955617522252752" onmouseenter="enter('4310955617522252752');" onmouseout="out('4310955617522252752');" style=""> 242                          case ALPHABETICAL_DESCENDING:                                                             </span>
<span class="8357536101849916572" onmouseenter="enter('8357536101849916572');" onmouseout="out('8357536101849916572');" style=""> 243                              trackSortOrder(ALPHABETICAL_DESCENDING_LABEL);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 244                              break;                                                                                </span>
<span class="-2064268994807656061" onmouseenter="enter('-2064268994807656061');" onmouseout="out('-2064268994807656061');" style=""> 245                          case DATE_CREATED_ASCENDING:                                                              </span>
<span class="-3680449299537315875" onmouseenter="enter('-3680449299537315875');" onmouseout="out('-3680449299537315875');" style=""> 246                              trackSortOrder(DATE_CREATED_ASCENDING_LABEL);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 247                              break;                                                                                </span>
<span class="-4952093231033435692" onmouseenter="enter('-4952093231033435692');" onmouseout="out('-4952093231033435692');" style=""> 248                          case DATE_CREATED_DESCENDING:                                                             </span>
<span class="-4025354653068339079" onmouseenter="enter('-4025354653068339079');" onmouseout="out('-4025354653068339079');" style=""> 249                              trackSortOrder(DATE_CREATED_DESCENDING_LABEL);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 250                              break;                                                                                </span>
<span class="-9006552640903559872" onmouseenter="enter('-9006552640903559872');" onmouseout="out('-9006552640903559872');" style=""> 251                          case DATE_MODIFIED_ASCENDING:                                                             </span>
<span class="-3983368371522366244" onmouseenter="enter('-3983368371522366244');" onmouseout="out('-3983368371522366244');" style=""> 252                              trackSortOrder(DATE_MODIFIED_ASCENDING_LABEL);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 253                              break;                                                                                </span>
<span class="-8243438149709409515" onmouseenter="enter('-8243438149709409515');" onmouseout="out('-8243438149709409515');" style=""> 254                          case DATE_MODIFIED_DESCENDING:                                                            </span>
<span class="-6491153765216744167" onmouseenter="enter('-6491153765216744167');" onmouseout="out('-6491153765216744167');" style=""> 255                              trackSortOrder(DATE_MODIFIED_DESCENDING_LABEL);                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 256                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258                  }                                                                                                 </span>
<span  style=""> 259                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 260                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 262          });                                                                                                       </span>
<span  style=""> 263                                                                                                                    </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 264          SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);                 </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 265          switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 266              @Override                                                                                             </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 267              public boolean onPreferenceChange(Preference preference, Object o) {                                  </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 268                  if (((SwitchPreferenceCompat) preference).isChecked()) {                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 269                      AnalyticsTracker.track(                                                                       </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 270                              AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 271                              AnalyticsTracker.CATEGORY_USER,                                                       </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 272                              &quot;condensed_list_preference&quot;                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 273                      );                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274                  }                                                                                                 </span>
<span  style=""> 275                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 276                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 278          });                                                                                                       </span>
<span  style=""> 279                                                                                                                    </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 280          // Add the hyperlink to the analytics summary                                                             </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 281          Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);             </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 282          String formattedSummary = String.format(                                                                  </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 283                  getString(R.string.share_analytics_summary),                                                      </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 284                  &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                                    </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 285                  &quot;&lt;/a&gt;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 286          );                                                                                                        </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 287          analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                             </span>
<span  style=""> 288                                                                                                                    </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 289          mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                           </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 290          mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 291              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 292              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 293                  try {                                                                                             </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 294                      boolean isChecked = (boolean)newValue;                                                        </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 295                      Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                           </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 296                      prefs.setAnalyticsEnabled(isChecked);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 297                      prefs.save();                                                                                 </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 298                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 299                      e.printStackTrace();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300                  }                                                                                                 </span>
<span  style=""> 301                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 302                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 304          });                                                                                                       </span>
<span  style=""> 305                                                                                                                    </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 306          updateAnalyticsSwitchState();                                                                             </span>
<span  style=""> 307                                                                                                                    </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""> 308          findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 309              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 310              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style=""> 311                  startActivity(                                                                                    </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style=""> 312                      ShareCompat.IntentBuilder.from(requireActivity())                                             </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style=""> 313                          .setText(AppLog.get())                                                                    </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style=""> 314                          .setType(&quot;text/plain&quot;)                                                                    </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style=""> 315                          .createChooserIntent()                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 316                  );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 317                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 319          });                                                                                                       </span>

























































































































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320      }                                                                                                             </span>
<span  style=""> 321                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 322      @Override                                                                                                     </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 323      public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                            </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style=""> 324          if (resultCode != RESULT_OK || resultData == null) {                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 325              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326          }                                                                                                         </span>
<span  style=""> 327                                                                                                                    </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 328          if (resultData.getData() == null) {                                                                       </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 329 -            Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 329 -            Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 330 +            toast(R.string.export_message_failure);                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 331              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332          }                                                                                                         </span>
<span  style=""> 333                                                                                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 334          switch (requestCode) {                                                                                    </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 335              case REQUEST_EXPORT_DATA:                                                                             </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 336                  exportData(resultData.getData(), false);                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 337                  break;                                                                                            </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 338              case REQUEST_EXPORT_UNSYNCED:                                                                         </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 339                  exportData(resultData.getData(), true);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 340 +                break;                                                                                            </span>
<span class="-81471314031648058" onmouseenter="enter('-81471314031648058');" onmouseout="out('-81471314031648058');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 341 +            case REQUEST_IMPORT_DATA:                                                                             </span>
<span class="-4840036634621538874" onmouseenter="enter('-4840036634621538874');" onmouseout="out('-4840036634621538874');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 342 +                importData(resultData.getData());                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 343                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345      }                                                                                                             </span>
<span  style=""> 346                                                                                                                    </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 347      private boolean hasUnsyncedNotes() {                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 348          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 349          Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                                  </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 350          Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                         </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 351          while (notesCursor.moveToNext()) {                                                                        </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 352              Note note = notesCursor.getObject();                                                                  </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 353              if (note.isNew() || note.isModified()) {                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 354                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356          }                                                                                                         </span>
<span  style=""> 357                                                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 358          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359      }                                                                                                             </span>
<span  style=""> 360                                                                                                                    </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 361      private void logOut() {                                                                                       </span>
<span class="4969264094597597154" onmouseenter="enter('4969264094597597154');" onmouseout="out('4969264094597597154');" style=""> 362          AppLog.add(Type.ACTION, &quot;Tapped logout button (PreferencesFragment)&quot;);                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 363          AnalyticsTracker.track(                                                                                   </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 364                  AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                            </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 365                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 366                  &quot;preferences_sign_out_button&quot;                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 367          );                                                                                                        </span>
<span  style=""> 368                                                                                                                    </span>
<span class="1334957593624703804" onmouseenter="enter('1334957593624703804');" onmouseout="out('1334957593624703804');" style=""> 369          AuthUtils.logOut((Simplenote) requireActivity().getApplication());                                        </span>
<span  style=""> 370                                                                                                                    </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 371          getActivity().finish();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372      }                                                                                                             </span>
<span  style=""> 373                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 374      @Override                                                                                                     </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 375      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 376          if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                                      </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 377              // User signed in                                                                                     </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 378              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 379                  public void run() {                                                                               </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 380                      Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 381                      authenticatePreference.setTitle(R.string.log_out);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 383              });                                                                                                   </span>
<span  style=""> 384                                                                                                                    </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 385              Simplenote app = (Simplenote) getActivity().getApplication();                                         </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 386              AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                            </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 387              CrashUtils.setCurrentUser(app.getSimperium().getUser());                                              </span>
<span  style=""> 388                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 389              AnalyticsTracker.track(                                                                               </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 390                      AnalyticsTracker.Stat.USER_SIGNED_IN,                                                         </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 391                      AnalyticsTracker.CATEGORY_USER,                                                               </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 392                      &quot;signed_in_from_preferences_activity&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 393              );                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395      }                                                                                                             </span>
<span  style=""> 396                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 397      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 398      public void onUserCreated(User user) {                                                                        </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 399          AnalyticsTracker.track(                                                                                   </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 400                  AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 401                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 402                  &quot;account_created_from_preferences_activity&quot;                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 403          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404      }                                                                                                             </span>
<span  style=""> 405                                                                                                                    </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 406      private void exportData(Uri uri, boolean isUnsyncedNotes) {                                                   </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 407          Simplenote currentApp = (Simplenote) requireActivity().getApplication();                                  </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 408          Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                                    </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 409          JSONObject account = new JSONObject();                                                                    </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 410          Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                               </span>
<span  style=""> 411                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 412          try {                                                                                                     </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 413              JSONArray activeNotes = new JSONArray();                                                              </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 414              JSONArray trashedNotes = new JSONArray();                                                             </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 415              Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 416                  @Override                                                                                         </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 417                  public int compare(String text1, String text2) {                                                  </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 418                      return text1.compareToIgnoreCase(text2);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 420              };                                                                                                    </span>
<span  style=""> 421                                                                                                                    </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 422              while (cursor.moveToNext()) {                                                                         </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 423                  Note note = cursor.getObject();                                                                   </span>
<span  style=""> 424                                                                                                                    </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 425                  if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                                     </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 426                      continue;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 427                  }                                                                                                 </span>
<span  style=""> 428                                                                                                                    </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 429                  JSONObject noteJson = new JSONObject();                                                           </span>
<span  style=""> 430                                                                                                                    </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 431                  noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                                       </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 432                  noteJson.put(&quot;content&quot;, note.getContent());                                                       </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 433                  noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                                       </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 434                  noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                                   </span>
<span  style=""> 435                                                                                                                    </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 436                  if (note.isPinned()) {                                                                            </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 437                      noteJson.put(&quot;pinned&quot;, note.isPinned());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438                  }                                                                                                 </span>
<span  style=""> 439                                                                                                                    </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 440                  if (note.isMarkdownEnabled()) {                                                                   </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 441                      noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 442                  }                                                                                                 </span>
<span  style=""> 443                                                                                                                    </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 444                  if (note.getTags().size() &gt; 0) {                                                                  </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 445                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 446                      Collections.sort(tags, comparator);                                                           </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 447                      noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448                  }                                                                                                 </span>
<span  style=""> 449                                                                                                                    </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 450                  if (!note.getPublishedUrl().isEmpty()) {                                                          </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 451                      noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 452                  }                                                                                                 </span>
<span  style=""> 453                                                                                                                    </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 454                  if (note.isDeleted()) {                                                                           </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 455                      trashedNotes.put(noteJson);                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 456                  } else {                                                                                          </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 457                      activeNotes.put(noteJson);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459              }                                                                                                     </span>
<span  style=""> 460                                                                                                                    </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 461              account.put(&quot;activeNotes&quot;, activeNotes);                                                              </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 462              account.put(&quot;trashedNotes&quot;, trashedNotes);                                                            </span>
<span  style=""> 463                                                                                                                    </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 464              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 464              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(u🔵</abbr></span>
<span  style=""> 465                                                                                                                    </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 466              if (parcelFileDescriptor != null) {                                                                   </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 467                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 467                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor())🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 468                  fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());                        </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 469                  parcelFileDescriptor.close();                                                                     </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 470 -                Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 470 -                Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).s🔵</abbr></span>
<span class="-5163295869402506431" onmouseenter="enter('-5163295869402506431');" onmouseout="out('-5163295869402506431');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 471 +                toast(R.string.export_message_success);                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 472              } else {                                                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 473 -                Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 473 -                Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).s🔵</abbr></span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 474 +                toast(R.string.export_message_failure);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 475              }                                                                                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 476          } catch (Exception e) {                                                                                   </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 477 -            Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 477 -            Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>
<span class="-7960473924724752478" onmouseenter="enter('-7960473924724752478');" onmouseout="out('-7960473924724752478');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 478 +            toast(R.string.export_message_failure);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 479 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 480 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 481 +                                                                                                                  </span>
<span class="8996656533128946457" onmouseenter="enter('8996656533128946457');" onmouseout="out('8996656533128946457');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 482 +    private void importData(Uri uri) {                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 483 +        try {                                                                                                     </span>
<span class="-4975207088998145378" onmouseenter="enter('-4975207088998145378');" onmouseout="out('-4975207088998145378');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 484 +            Importer.fromUri(this, uri);                                                                          </span>
<span class="2688222850389673791" onmouseenter="enter('2688222850389673791');" onmouseout="out('2688222850389673791');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 485 +            toast(R.string.import_message_success);                                                               </span>
<span class="-6423378606562936098" onmouseenter="enter('-6423378606562936098');" onmouseout="out('-6423378606562936098');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 486 +        } catch (Importer.ImportException e) {                                                                    </span>
<span class="3768483165101391011" onmouseenter="enter('3768483165101391011');" onmouseout="out('3768483165101391011');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 487 +            switch (e.getReason()) {                                                                              </span>
<span class="-6785574966030176200" onmouseenter="enter('-6785574966030176200');" onmouseout="out('-6785574966030176200');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 488 +                case FileError:                                                                                   </span>
<span class="4763134744303366290" onmouseenter="enter('4763134744303366290');" onmouseout="out('4763134744303366290');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 489 +                    toast(R.string.import_error_file);                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 490 +                    break;                                                                                        </span>
<span class="9095738891108111618" onmouseenter="enter('9095738891108111618');" onmouseout="out('9095738891108111618');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 491 +                case ParseError:                                                                                  </span>
<span class="4000639691905282270" onmouseenter="enter('4000639691905282270');" onmouseout="out('4000639691905282270');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 492 +                    toast(R.string.import_error_parse);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 493 +                    break;                                                                                        </span>
<span class="8133851396074290830" onmouseenter="enter('8133851396074290830');" onmouseout="out('8133851396074290830');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 494 +                case UnknownExportType:                                                                           </span>
<span class="7291299810987557925" onmouseenter="enter('7291299810987557925');" onmouseout="out('7291299810987557925');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 495 +                    toast(R.string.import_unknown);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 496 +                    break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 497 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 498          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499      }                                                                                                             </span>
<span  style=""> 500                                                                                                                    </span>
<span class="5764694736276201115" onmouseenter="enter('5764694736276201115');" onmouseout="out('5764694736276201115');" style=""> 501      private void trackSortOrder(String label) {                                                                   </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 502          AnalyticsTracker.track(                                                                                   </span>
<span class="7639205635699406797" onmouseenter="enter('7639205635699406797');" onmouseout="out('7639205635699406797');" style=""> 503              AnalyticsTracker.Stat.SETTINGS_SEARCH_SORT_MODE,                                                      </span>
<span class="6687394886770621877" onmouseenter="enter('6687394886770621877');" onmouseout="out('6687394886770621877');" style=""> 504              AnalyticsTracker.CATEGORY_SETTING,                                                                    </span>
<span class="-2717526105763398021" onmouseenter="enter('-2717526105763398021');" onmouseout="out('-2717526105763398021');" style=""> 505              label                                                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 506          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507      }                                                                                                             </span>
<span  style=""> 508                                                                                                                    </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 509      private void updateAnalyticsSwitchState() {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 510          try {                                                                                                     </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 511              Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                                   </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 512              mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                             </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 513          } catch (BucketObjectMissingException e) {                                                                </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 514              // The preferences object doesn&#x27;t exist for this user yet, create it                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 515              try {                                                                                                 </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 516                  Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                         </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 517                  prefs.setAnalyticsEnabled(true);                                                                  </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 518                  prefs.save();                                                                                     </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 519              } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                           </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 520                  bucketObjectNameInvalid.printStackTrace();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 521              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523      }                                                                                                             </span>
<span  style=""> 524                                                                                                                    </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 525      private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                                      </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 526          private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                                 </span>
<span  style=""> 527                                                                                                                    </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 528          LogOutTask(PreferencesFragment fragment) {                                                                </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 529              mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530          }                                                                                                         </span>
<span  style=""> 531                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 532          @Override                                                                                                 </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 533          protected Boolean doInBackground(Void... voids) {                                                         </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 534              PreferencesFragment fragment = mPreferencesFragmentReference.get();                                   </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 535              return fragment == null || fragment.hasUnsyncedNotes();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 536          }                                                                                                         </span>
<span  style=""> 537                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 538          @Override                                                                                                 </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 539          protected void onPostExecute(Boolean hasUnsyncedNotes) {                                                  </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 540              final PreferencesFragment fragment = mPreferencesFragmentReference.get();                             </span>
<span  style=""> 541                                                                                                                    </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 542              if (fragment == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 543                  return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 544              }                                                                                                     </span>
<span  style=""> 545                                                                                                                    </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 546              // Safety first! Check if any notes are unsynced and warn the user if so.                             </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 547              if (hasUnsyncedNotes) {                                                                               </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""> 548                  new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))       </span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 549                      .setTitle(R.string.unsynced_notes)                                                            </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 550                      .setMessage(R.string.unsynced_notes_message)                                                  </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 551                      .setPositiveButton(R.string.log_out_anyway,                                                   </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 552                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 553                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 554                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 555                                  fragment.logOut();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 556                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 557                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 558                      )                                                                                             </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 559                      .setNeutralButton(R.string.export_unsynced_notes,                                             </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 560                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 561                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 562                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 563                                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 564                                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 565                                  intent.setType(&quot;application/json&quot;);                                               </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""> 566                                  intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));    </span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 567                                  fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 570                      )                                                                                             </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 571                      .setNegativeButton(R.string.cancel, null)                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 572                      .show();                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 573              } else {                                                                                              </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 574                  fragment.logOut();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 575              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 576          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 578 +                                                                                                                  </span>
<span class="2871930843442460031" onmouseenter="enter('2871930843442460031');" onmouseout="out('2871930843442460031');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 579 +    private void toast(int stringId) {                                                                            </span>
<span class="-8691575717770343351" onmouseenter="enter('-8691575717770343351');" onmouseout="out('-8691575717770343351');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 580 +        toast(stringId, Toast.LENGTH_SHORT);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 581 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 582 +                                                                                                                  </span>
<span class="-1402573872892647268" onmouseenter="enter('-1402573872892647268');" onmouseout="out('-1402573872892647268');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 583 +    private void toast(int stringId, int length) {                                                                </span>
<span class="-3128032619893084841" onmouseenter="enter('-3128032619893084841');" onmouseout="out('-3128032619893084841');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 584 +        Toast.makeText(requireContext(), getString(stringId), length).show();                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 585 +    }                                                                                                             </span>














































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            