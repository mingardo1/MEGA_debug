<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>264</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    264
                    <a href="263.html">prev</a>
                    <a href="265.html">next</a>
                    <a href="264_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_f6b200b2a988ba1c8c9bdce1f9018ade9b322480_Simplenote/src/main/java/com/automattic/simplenote/models/Note.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;f6b200b2a988ba1c8c9bdce1f9018ade9b322480:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;f6b200b2a988ba1c8c9bdce1f9018ade9b322480^1:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;f6b200b2a988ba1c8c9bdce1f9018ade9b322480^2:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;9e22297053412e6b042d92d1d612bb91cc42a7e0:Simplenote/src/main/java/com/automattic/simplenote/models/Note.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [j]], subset: [[b], [j]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1 package com.automattic.simplenote.models;                                                                </span>
<span  style="">   2                                                                                                          </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   3 import android.content.Context;                                                                          </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">   4 import android.text.TextUtils;                                                                           </span>
<span  style="">   5                                                                                                          </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">   6 import com.automattic.simplenote.R;                                                                      </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">   7 import com.simperium.client.Bucket;                                                                      </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">   8 import com.simperium.client.BucketObject;                                                                </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">   9 import com.simperium.client.BucketSchema;                                                                </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  10 import com.simperium.client.Query;                                                                       </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  11 import com.simperium.client.Query.ComparisonType;                                                        </span>
<span  style="">  12                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  13 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  14 import org.json.JSONException;                                                                           </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  15 import org.json.JSONObject;                                                                              </span>
<span  style="">  16                                                                                                          </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  17 import java.text.DateFormat;                                                                             </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">  18 import java.text.SimpleDateFormat;                                                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  19 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  20 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  21 import java.util.List;                                                                                   </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">  22 import java.util.Locale;                                                                                 </span>
<span  style="">  23                                                                                                          </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  24 public class Note extends BucketObject {                                                                 </span>
<span  style="">  25 	                                                                                                        </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  26 	public static final String BUCKET_NAME=&quot;note&quot;;                                                          </span>
<span class="327825599558087652" onmouseenter="enter('327825599558087652');" onmouseout="out('327825599558087652');" style="">  27     public static final String MARKDOWN_TAG=&quot;markdown&quot;;                                                  </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  28     public static final String PINNED_TAG=&quot;pinned&quot;;                                                      </span>
<span class="-6422125408414574041" onmouseenter="enter('-6422125408414574041');" onmouseout="out('-6422125408414574041');" style="">  29     public static final String PUBLISHED_TAG=&quot;published&quot;;                                                </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  30     public static final String NEW_LINE=&quot;\n&quot;;                                                            </span>
<span  style="">  31                                                                                                          </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  32     private static final String BLANK_CONTENT=&quot;&quot;;                                                        </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  33     private static final String SPACE = &quot; &quot;;                                                             </span>
<span class="7999038666256371202" onmouseenter="enter('7999038666256371202');" onmouseout="out('7999038666256371202');" style="">  34     private static final int MAX_PREVIEW_CHARS = 300;                                                    </span>
<span  style="">  35                                                                                                          </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  36     public static final String CONTENT_PROPERTY=&quot;content&quot;;                                               </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  37     public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                     </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  38     public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                        </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  39     public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                    </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  40     public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                            </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  41     public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                            </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  42     public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                        </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  43     public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                               </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  44     public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                 </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  45     public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                              </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  46     public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                               </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  47     public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                           </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  48     public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                             </span>
<span class="1608351220765126281" onmouseenter="enter('1608351220765126281');" onmouseout="out('1608351220765126281');" style="">  49     public static final String MATCHED_TITLE_INDEX_NAME=&quot;matchedTitle&quot;;                                  </span>
<span class="-1584079946243370568" onmouseenter="enter('-1584079946243370568');" onmouseout="out('-1584079946243370568');" style="">  50     public static final String MATCHED_CONTENT_INDEX_NAME=&quot;matchedContent&quot;;                              </span>
<span class="5531379197968857197" onmouseenter="enter('5531379197968857197');" onmouseout="out('5531379197968857197');" style="">  51     public static final String PUBLISH_URL=&quot;http://simp.ly/publish/&quot;;                                    </span>
<span  style="">  52                                                                                                          </span>
<span class="2475488422216258991" onmouseenter="enter('2475488422216258991');" onmouseout="out('2475488422216258991');" style="">  53     static public final String[] FULL_TEXT_INDEXES = new String[]{                                       </span>
<span class="-4155540479552840166" onmouseenter="enter('-4155540479552840166');" onmouseout="out('-4155540479552840166');" style="">  54         Note.TITLE_INDEX_NAME, Note.CONTENT_PROPERTY };                                                  </span>
<span  style="">  55 	                                                                                                        </span>
<span class="6617027899127222559" onmouseenter="enter('6617027899127222559');" onmouseout="out('6617027899127222559');" style="">  56 	protected String mTitle = null;                                                                         </span>
<span class="-1758175371106332326" onmouseenter="enter('-1758175371106332326');" onmouseout="out('-1758175371106332326');" style="">  57 	protected String mContentPreview = null;                                                                </span>
<span  style="">  58                                                                                                          </span>
<span  style="">  59                                                                                                          </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  60 	public static class Schema extends BucketSchema&lt;Note&gt; {                                                 </span>
<span  style="">  61                                                                                                          </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  62         protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                   </span>
<span class="-8196684505127442187" onmouseenter="enter('-8196684505127442187');" onmouseout="out('-8196684505127442187');" style="">  63         protected static NoteFullTextIndexer sFullTextIndexer = new NoteFullTextIndexer();               </span>
<span  style="">  64                                                                                                          </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  65         public Schema(){                                                                                 </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  66             autoIndex();                                                                                 </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="">  67             addIndex(sNoteIndexer);                                                                      </span>
<span class="-3392547141042614111" onmouseenter="enter('-3392547141042614111');" onmouseout="out('-3392547141042614111');" style="">  68             setupFullTextIndex(sFullTextIndexer, NoteFullTextIndexer.INDEXES);                           </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  69             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-2554467534039091654" onmouseenter="enter('-2554467534039091654');" onmouseout="out('-2554467534039091654');" style="">  70             setDefault(SYSTEM_TAGS_PROPERTY, new JSONArray());                                           </span>
<span class="228359577715990029" onmouseenter="enter('228359577715990029');" onmouseout="out('228359577715990029');" style="">  71             setDefault(TAGS_PROPERTY, new JSONArray());                                                  </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  72             setDefault(DELETED_PROPERTY, false);                                                         </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  73             setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                          </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  74             setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75         }                                                                                                </span>
<span  style="">  76                                                                                                          </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  77         public String getRemoteName(){                                                                   </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  78             return Note.BUCKET_NAME;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79         }                                                                                                </span>
<span  style="">  80                                                                                                          </span>
<span class="-4946235729406468677" onmouseenter="enter('-4946235729406468677');" onmouseout="out('-4946235729406468677');" style="">  81         public Note build(String key, JSONObject properties) {                                           </span>
<span class="-2808542273143064496" onmouseenter="enter('-2808542273143064496');" onmouseout="out('-2808542273143064496');" style="">  82             return new Note(key, properties);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83         }                                                                                                </span>
<span  style="">  84                                                                                                          </span>
<span class="2318790323390762687" onmouseenter="enter('2318790323390762687');" onmouseout="out('2318790323390762687');" style="">  85         public void update(Note note, JSONObject properties) {                                           </span>
<span class="-3717338000153341316" onmouseenter="enter('-3717338000153341316');" onmouseout="out('-3717338000153341316');" style="">  86             note.setProperties(properties);                                                              </span>
<span class="-731284339738821488" onmouseenter="enter('-731284339738821488');" onmouseout="out('-731284339738821488');" style="">  87             note.mTitle = null;                                                                          </span>
<span class="6645980171711348815" onmouseenter="enter('6645980171711348815');" onmouseout="out('6645980171711348815');" style="">  88             note.mContentPreview = null;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90 	}                                                                                                       </span>
<span  style="">  91                                                                                                          </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  92     public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                              </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  93         return noteBucket.query()                                                                        </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  94                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95     }                                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  97     public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  98         return noteBucket.query()                                                                        </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style="">  99                 .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100     }                                                                                                    </span>
<span  style=""> 101                                                                                                          </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 102     public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 103         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 104                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 105                 .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106     }                                                                                                    </span>
<span  style=""> 107                                                                                                          </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 108     public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                             </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 109         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 110                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 111                 .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span  style=""> 114                                                                                                          </span>
<span class="767263449852825375" onmouseenter="enter('767263449852825375');" onmouseout="out('767263449852825375');" style=""> 115     public Note(String key) {                                                                            </span>
<span class="-8964647538928034033" onmouseenter="enter('-8964647538928034033');" onmouseout="out('-8964647538928034033');" style=""> 116         super(key, new JSONObject());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="8617384997772879313" onmouseenter="enter('8617384997772879313');" onmouseout="out('8617384997772879313');" style=""> 119     public Note(String key, JSONObject properties) {                                                     </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 120         super(key, properties);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121     }                                                                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="6373335669519535085" onmouseenter="enter('6373335669519535085');" onmouseout="out('6373335669519535085');" style=""> 123     protected void updateTitleAndPreview() {                                                             </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 124         // try to build a title and preview property out of content                                      </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 125         String content = getContent().trim();                                                            </span>
<span class="327463840444924073" onmouseenter="enter('327463840444924073');" onmouseout="out('327463840444924073');" style=""> 126         if (content.length() &gt; MAX_PREVIEW_CHARS) {                                                      </span>
<span class="-8480236902805956072" onmouseenter="enter('-8480236902805956072');" onmouseout="out('-8480236902805956072');" style=""> 127             content = content.substring(0, MAX_PREVIEW_CHARS - 1);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128         }                                                                                                </span>
<span  style=""> 129                                                                                                          </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 130         int firstNewLinePosition = content.indexOf(NEW_LINE);                                            </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 131         if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                   </span>
<span class="-397121944761876346" onmouseenter="enter('-397121944761876346');" onmouseout="out('-397121944761876346');" style=""> 132             mTitle = content.substring(0, firstNewLinePosition).trim();                                  </span>
<span  style=""> 133                                                                                                          </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 134             if (firstNewLinePosition &lt; content.length()) {                                               </span>
<span class="3544130446617579720" onmouseenter="enter('3544130446617579720');" onmouseout="out('3544130446617579720');" style=""> 135                 mContentPreview = content.substring(firstNewLinePosition, content.length());             </span>
<span class="-5260179913697335726" onmouseenter="enter('-5260179913697335726');" onmouseout="out('-5260179913697335726');" style=""><abbr title=" 136                 mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();"> 136                 mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137             }                                                                                            </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 138             else {                                                                                       </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 139                 mContentPreview = content;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141         }                                                                                                </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 142         else {                                                                                           </span>
<span class="6158164289681498296" onmouseenter="enter('6158164289681498296');" onmouseout="out('6158164289681498296');" style=""> 143             mTitle = content;                                                                            </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 144             mContentPreview = content;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147 	                                                                                                        </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 148 	public String getTitle() {                                                                              </span>
<span class="5880156293984643419" onmouseenter="enter('5880156293984643419');" onmouseout="out('5880156293984643419');" style=""> 149         if (mTitle == null) {                                                                            </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 150             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span class="-7721657982940010876" onmouseenter="enter('-7721657982940010876');" onmouseout="out('-7721657982940010876');" style=""> 152 		return mTitle;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153 	}                                                                                                       </span>
<span  style=""> 154                                                                                                          </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 155 	public String getContent() {                                                                            </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 156         Object content = getProperty(CONTENT_PROPERTY);                                                  </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 157         if (content == null) {                                                                           </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 158             return BLANK_CONTENT;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159         }                                                                                                </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 160         return (String) content;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161 	}                                                                                                       </span>
<span  style=""> 162                                                                                                          </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 163 	public void setContent(String content) {                                                                </span>
<span class="6017523628383929627" onmouseenter="enter('6017523628383929627');" onmouseout="out('6017523628383929627');" style=""> 164         mTitle = null;                                                                                   </span>
<span class="7468898004511818931" onmouseenter="enter('7468898004511818931');" onmouseout="out('7468898004511818931');" style=""> 165         mContentPreview = null;                                                                          </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 166         setProperty(CONTENT_PROPERTY, content);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167 	}                                                                                                       </span>
<span  style=""> 168 	                                                                                                        </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 169 	public String getContentPreview() {                                                                     </span>
<span class="-8081599038098376119" onmouseenter="enter('-8081599038098376119');" onmouseout="out('-8081599038098376119');" style=""> 170         if (mContentPreview == null) {                                                                   </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 171             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172         }                                                                                                </span>
<span class="-7686656279835722897" onmouseenter="enter('-7686656279835722897');" onmouseout="out('-7686656279835722897');" style=""> 173 		return mContentPreview;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174 	}                                                                                                       </span>
<span  style=""> 175                                                                                                          </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 176 	public Calendar getCreationDate() {                                                                     </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 177         return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178 	}                                                                                                       </span>
<span  style=""> 179                                                                                                          </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 180 	public void setCreationDate(Calendar creationDate) {                                                    </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 181         setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182 	}                                                                                                       </span>
<span  style=""> 183                                                                                                          </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 184 	public Calendar getModificationDate() {                                                                 </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 185         return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186 	}                                                                                                       </span>
<span  style=""> 187                                                                                                          </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 188 	public void setModificationDate(Calendar modificationDate) {                                            </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 189         setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190 	}                                                                                                       </span>
<span  style=""> 191                                                                                                          </span>
<span class="3367289575484325214" onmouseenter="enter('3367289575484325214');" onmouseout="out('3367289575484325214');" style=""> 192     public String getPublishedUrl() {                                                                    </span>
<span class="-6172413358098126997" onmouseenter="enter('-6172413358098126997');" onmouseout="out('-6172413358098126997');" style=""> 193         String urlCode = (String)getProperty(PUBLISH_URL_PROPERTY);                                      </span>
<span class="7900565639772953850" onmouseenter="enter('7900565639772953850');" onmouseout="out('7900565639772953850');" style=""> 194         if (TextUtils.isEmpty(urlCode)) {                                                                </span>
<span class="-8289946804601166879" onmouseenter="enter('-8289946804601166879');" onmouseout="out('-8289946804601166879');" style=""> 195             return &quot;&quot;;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196         }                                                                                                </span>
<span  style=""> 197                                                                                                          </span>
<span class="-8429126260993259062" onmouseenter="enter('-8429126260993259062');" onmouseout="out('-8429126260993259062');" style=""> 198         return PUBLISH_URL + urlCode;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span  style=""> 200                                                                                                          </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 201     public boolean hasTag(String tag){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 202         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 203         String tagLower = tag.toLowerCase();                                                             </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 204         for (String tagName : tags) {                                                                    </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 205             if (tagLower.equals(tagName.toLowerCase())) return true;                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 207         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 210     public boolean hasTag(Tag tag){                                                                      </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 211         return hasTag(tag.getSimperiumKey());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 214     public List&lt;String&gt; getTags() {                                                                      </span>
<span  style=""> 215                                                                                                          </span>
<span class="5046858882238824028" onmouseenter="enter('5046858882238824028');" onmouseout="out('5046858882238824028');" style=""> 216         JSONArray tags = (JSONArray) getProperty(TAGS_PROPERTY);                                         </span>
<span  style=""> 217                                                                                                          </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 218         if (tags == null) {                                                                              </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 219             tags = new JSONArray();                                                                      </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 220             setProperty(TAGS_PROPERTY, tags);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221         }                                                                                                </span>
<span  style=""> 222                                                                                                          </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 223         int length = tags.length();                                                                      </span>
<span  style=""> 224                                                                                                          </span>
<span class="-7737950325994950460" onmouseenter="enter('-7737950325994950460');" onmouseout="out('-7737950325994950460');" style=""> 225         List&lt;String&gt; tagList = new ArrayList&lt;&gt;(length);                                                  </span>
<span  style=""> 226                                                                                                          </span>
<span class="8256074331736484026" onmouseenter="enter('8256074331736484026');" onmouseout="out('8256074331736484026');" style=""> 227         if (length == 0) return tagList;                                                                 </span>
<span  style=""> 228                                                                                                          </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 229         for (int i=0; i&lt;length; i++) {                                                                   </span>
<span class="-8917993594954591540" onmouseenter="enter('-8917993594954591540');" onmouseout="out('-8917993594954591540');" style=""> 230             String tag = tags.optString(i);                                                              </span>
<span class="-1947204619891178088" onmouseenter="enter('-1947204619891178088');" onmouseout="out('-1947204619891178088');" style=""> 231             if (!tag.equals(&quot;&quot;))                                                                         </span>
<span class="2557583924535716267" onmouseenter="enter('2557583924535716267');" onmouseout="out('2557583924535716267');" style=""> 232                 tagList.add(tag);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233         }                                                                                                </span>
<span  style=""> 234                                                                                                          </span>
<span class="-3183448331203603949" onmouseenter="enter('-3183448331203603949');" onmouseout="out('-3183448331203603949');" style=""> 235         return tagList;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236     }                                                                                                    </span>
<span  style=""> 237                                                                                                          </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 238     public void setTags(List&lt;String&gt; tags) {                                                             </span>
<span class="-8982714688054322872" onmouseenter="enter('-8982714688054322872');" onmouseout="out('-8982714688054322872');" style=""> 239         setProperty(TAGS_PROPERTY, new JSONArray(tags));                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span  style=""> 241                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 242     /**                                                                                                  </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 243      * String of tags delimited by a space                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 244      */                                                                                                  </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 245     public CharSequence getTagString(){                                                                  </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 246         StringBuilder tagString = new StringBuilder();                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 247         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 248         for(String tag : tags){                                                                          </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 249             if (tagString.length() &gt; 0) {                                                                </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 250                 tagString.append(SPACE);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251             }                                                                                            </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 252             tagString.append(tag);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253         }                                                                                                </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 254         return tagString;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255     }                                                                                                    </span>
<span  style=""> 256                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 257     /**                                                                                                  </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 258      * Sets the note&#x27;s tags by providing it with a {@link String} of space                               </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 259      * seperated tags. Filters out duplicate tags.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 260      *                                                                                                   </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 261      * @param tagString a space delimited list of tags                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 262      */                                                                                                  </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 263     public void setTagString(String tagString){                                                          </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 264         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 265         tags.clear();                                                                                    </span>
<span  style=""> 266                                                                                                          </span>
<span class="7647632027089311583" onmouseenter="enter('7647632027089311583');" onmouseout="out('7647632027089311583');" style=""> 267         if (tagString == null) {                                                                         </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 268             setTags(tags);                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 269             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270         }                                                                                                </span>
<span  style=""> 271                                                                                                          </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 272         // Make sure string has a trailing space                                                         </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 273         if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))        </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 274             tagString = tagString + SPACE;                                                               </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 275         // for comparing case-insensitive strings, would like to find a way to                           </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 276         // do this without allocating a new list and strings                                             </span>
<span class="5881300344958500433" onmouseenter="enter('5881300344958500433');" onmouseout="out('5881300344958500433');" style=""> 277         List&lt;String&gt; tagsUpperCase = new ArrayList&lt;&gt;();                                                  </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 278         // remove all current tags                                                                       </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 279         int start = 0;                                                                                   </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 280         int next = -1;                                                                                   </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 281         String possible;                                                                                 </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 282         String possibleUpperCase;                                                                        </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 283         // search tag string for space characters and pull out individual tags                           </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 284         do {                                                                                             </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 285             next = tagString.indexOf(SPACE, start);                                                      </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 286             if (next &gt; start) {                                                                          </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 287                 possible = tagString.substring(start, next);                                             </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 288                 possibleUpperCase = possible.toUpperCase();                                              </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 289                 if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {             </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 290                     tagsUpperCase.add(possibleUpperCase);                                                </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 291                     tags.add(possible);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293             }                                                                                            </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 294             start = next + 1;                                                                            </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 295         } while(next &gt; -1);                                                                              </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 296         setTags(tags);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297     }                                                                                                    </span>
<span  style=""> 298                                                                                                          </span>
<span class="-2380080839978865436" onmouseenter="enter('-2380080839978865436');" onmouseout="out('-2380080839978865436');" style=""> 299     public JSONArray getSystemTags() {                                                                   </span>
<span class="1634689045753216867" onmouseenter="enter('1634689045753216867');" onmouseout="out('1634689045753216867');" style=""> 300         JSONArray tags = (JSONArray) getProperty(SYSTEM_TAGS_PROPERTY);                                  </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 301         if (tags == null) {                                                                              </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 302             tags = new JSONArray();                                                                      </span>
<span class="8109738276011217421" onmouseenter="enter('8109738276011217421');" onmouseout="out('8109738276011217421');" style=""> 303             setProperty(SYSTEM_TAGS_PROPERTY, tags);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304         }                                                                                                </span>
<span class="-7737333077028274174" onmouseenter="enter('-7737333077028274174');" onmouseout="out('-7737333077028274174');" style=""> 305         return tags;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306     }                                                                                                    </span>
<span  style=""> 307                                                                                                          </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 308 	public Boolean isDeleted() {                                                                            </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 309         Object deleted = getProperty(DELETED_PROPERTY);                                                  </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 310         if (deleted == null) {                                                                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 311             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312         }                                                                                                </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 313         if (deleted instanceof Boolean) {                                                                </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 314             return (Boolean) deleted;                                                                    </span>
<span class="501686333951387696" onmouseenter="enter('501686333951387696');" onmouseout="out('501686333951387696');" style=""> 315         } else                                                                                           </span>
<span class="2375816303299771461" onmouseenter="enter('2375816303299771461');" onmouseout="out('2375816303299771461');" style=""> 316             return deleted instanceof Number &amp;&amp; ((Number) deleted).intValue() != 0;                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317     }                                                                                                    </span>
<span  style=""> 318                                                                                                          </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 319     public void setDeleted(boolean deleted) {                                                            </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 320         setProperty(DELETED_PROPERTY, deleted);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span  style=""> 322                                                                                                          </span>
<span class="5985631777888601261" onmouseenter="enter('5985631777888601261');" onmouseout="out('5985631777888601261');" style=""> 323     public boolean isMarkdownEnabled() {                                                                 </span>
<span class="-5743540823315516839" onmouseenter="enter('-5743540823315516839');" onmouseout="out('-5743540823315516839');" style=""> 324         return hasSystemTag(MARKDOWN_TAG);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span  style=""> 326                                                                                                          </span>
<span class="-2232443542975324273" onmouseenter="enter('-2232443542975324273');" onmouseout="out('-2232443542975324273');" style=""> 327     public void setMarkdownEnabled(boolean isMarkdownEnabled) {                                          </span>
<span class="5908341161553131781" onmouseenter="enter('5908341161553131781');" onmouseout="out('5908341161553131781');" style=""> 328         if (isMarkdownEnabled) {                                                                         </span>
<span class="-7185185989369936008" onmouseenter="enter('-7185185989369936008');" onmouseout="out('-7185185989369936008');" style=""> 329             addSystemTag(MARKDOWN_TAG);                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 330         } else {                                                                                         </span>
<span class="1430034125671484052" onmouseenter="enter('1430034125671484052');" onmouseout="out('1430034125671484052');" style=""> 331             removeSystemTag(MARKDOWN_TAG);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333     }                                                                                                    </span>
<span  style=""> 334                                                                                                          </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 335     public boolean isPinned() {                                                                          </span>
<span class="7436893036029851482" onmouseenter="enter('7436893036029851482');" onmouseout="out('7436893036029851482');" style=""> 336         return hasSystemTag(PINNED_TAG);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337     }                                                                                                    </span>
<span  style=""> 338                                                                                                          </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 339     public void setPinned(boolean isPinned) {                                                            </span>
<span class="-8977010770732050857" onmouseenter="enter('-8977010770732050857');" onmouseout="out('-8977010770732050857');" style=""> 340         if (isPinned) {                                                                                  </span>
<span class="-705489752486798560" onmouseenter="enter('-705489752486798560');" onmouseout="out('-705489752486798560');" style=""> 341             addSystemTag(PINNED_TAG);                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342         } else {                                                                                         </span>
<span class="5010790157822780054" onmouseenter="enter('5010790157822780054');" onmouseout="out('5010790157822780054');" style=""> 343             removeSystemTag(PINNED_TAG);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345     }                                                                                                    </span>
<span  style=""> 346                                                                                                          </span>
<span class="5049304787018344959" onmouseenter="enter('5049304787018344959');" onmouseout="out('5049304787018344959');" style=""> 347     public boolean isPublished() {                                                                       </span>
<span class="-3313218062555121548" onmouseenter="enter('-3313218062555121548');" onmouseout="out('-3313218062555121548');" style=""> 348         return hasSystemTag(PUBLISHED_TAG) &amp;&amp; !TextUtils.isEmpty(getPublishedUrl());                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349     }                                                                                                    </span>
<span  style=""> 350                                                                                                          </span>
<span class="-1996001930026199474" onmouseenter="enter('-1996001930026199474');" onmouseout="out('-1996001930026199474');" style=""> 351     public void setPublished(boolean isPublished) {                                                      </span>
<span class="-214835194616400293" onmouseenter="enter('-214835194616400293');" onmouseout="out('-214835194616400293');" style=""> 352         if (isPublished) {                                                                               </span>
<span class="6614236660148008937" onmouseenter="enter('6614236660148008937');" onmouseout="out('6614236660148008937');" style=""> 353             addSystemTag(PUBLISHED_TAG);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 354         } else {                                                                                         </span>
<span class="-3125520029372940316" onmouseenter="enter('-3125520029372940316');" onmouseout="out('-3125520029372940316');" style=""> 355             removeSystemTag(PUBLISHED_TAG);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357     }                                                                                                    </span>
<span  style=""> 358                                                                                                          </span>
<span class="8481041411290642641" onmouseenter="enter('8481041411290642641');" onmouseout="out('8481041411290642641');" style=""> 359     private boolean hasSystemTag(String tag) {                                                           </span>
<span class="-1472869558903340894" onmouseenter="enter('-1472869558903340894');" onmouseout="out('-1472869558903340894');" style=""> 360         if (TextUtils.isEmpty(tag))                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 361             return false;                                                                                </span>
<span  style=""> 362                                                                                                          </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 363         JSONArray tags = getSystemTags();                                                                </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 364         int length = tags.length();                                                                      </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 365         for (int i=0; i&lt;length; i++) {                                                                   </span>
<span class="1029161545303231138" onmouseenter="enter('1029161545303231138');" onmouseout="out('1029161545303231138');" style=""> 366             if (tags.optString(i).equals(tag)) {                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 367                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369         }                                                                                                </span>
<span  style=""> 370                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 371         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372     }                                                                                                    </span>
<span  style=""> 373                                                                                                          </span>
<span class="-1886965851517885412" onmouseenter="enter('-1886965851517885412');" onmouseout="out('-1886965851517885412');" style=""> 374     private void addSystemTag(String tag) {                                                              </span>
<span class="-7266652503291305395" onmouseenter="enter('-7266652503291305395');" onmouseout="out('-7266652503291305395');" style=""> 375         if (TextUtils.isEmpty(tag)) {                                                                    </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 376             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377         }                                                                                                </span>
<span  style=""> 378                                                                                                          </span>
<span class="4034934261619610009" onmouseenter="enter('4034934261619610009');" onmouseout="out('4034934261619610009');" style=""> 379         // Ensure we don&#x27;t add the same tag again                                                        </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 380         if (!hasSystemTag(tag)) {                                                                        </span>
<span class="-2655750625237705417" onmouseenter="enter('-2655750625237705417');" onmouseout="out('-2655750625237705417');" style=""> 381             getSystemTags().put(tag);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383     }                                                                                                    </span>
<span  style=""> 384                                                                                                          </span>
<span class="-6272346588769055483" onmouseenter="enter('-6272346588769055483');" onmouseout="out('-6272346588769055483');" style=""> 385     private void removeSystemTag(String tag) {                                                           </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 386         if (!hasSystemTag(tag)) {                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 387             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388         }                                                                                                </span>
<span  style=""> 389                                                                                                          </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 390         JSONArray tags = getSystemTags();                                                                </span>
<span class="6472000112597211426" onmouseenter="enter('6472000112597211426');" onmouseout="out('6472000112597211426');" style=""> 391         JSONArray newTags = new JSONArray();                                                             </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 392         int length = tags.length();                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 393         try {                                                                                            </span>
<span class="6908715651536326362" onmouseenter="enter('6908715651536326362');" onmouseout="out('6908715651536326362');" style=""> 394             for (int i = 0; i &lt; length; i++) {                                                           </span>
<span class="5751642819386913624" onmouseenter="enter('5751642819386913624');" onmouseout="out('5751642819386913624');" style=""> 395                 Object val = tags.get(i);                                                                </span>
<span class="7076458285668173093" onmouseenter="enter('7076458285668173093');" onmouseout="out('7076458285668173093');" style=""> 396                 if (!val.equals(tag))                                                                    </span>
<span class="-6329059091210941964" onmouseenter="enter('-6329059091210941964');" onmouseout="out('-6329059091210941964');" style=""> 397                     newTags.put(val);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398             }                                                                                            </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 399         } catch (JSONException e) {                                                                      </span>
<span class="4377813279323840039" onmouseenter="enter('4377813279323840039');" onmouseout="out('4377813279323840039');" style=""> 400             // could not update pinned setting                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401         }                                                                                                </span>
<span  style=""> 402                                                                                                          </span>
<span class="8301502673130902229" onmouseenter="enter('8301502673130902229');" onmouseout="out('8301502673130902229');" style=""> 403         setProperty(SYSTEM_TAGS_PROPERTY, newTags);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404     }                                                                                                    </span>
<span  style=""> 405                                                                                                          </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 406     public static String dateString(Number time, boolean useShortFormat, Context context){               </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 407         Calendar c = numberToDate(time);                                                                 </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 408         return dateString(c, useShortFormat, context);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409     }                                                                                                    </span>
<span  style=""> 410                                                                                                          </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 411 	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                  </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 412 		int year, month, day;                                                                                  </span>
<span  style=""> 413                                                                                                          </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 414 		String time, date, retVal;                                                                             </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 415 		time = date = &quot;&quot;;                                                                                      </span>
<span  style=""> 416                                                                                                          </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 417 		Calendar diff = Calendar.getInstance();                                                                </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 418 		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                    </span>
<span  style=""> 419                                                                                                          </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 420 		year = diff.get(Calendar.YEAR);                                                                        </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 421 		month = diff.get(Calendar.MONTH);                                                                      </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 422 		day = diff.get(Calendar.DAY_OF_MONTH);                                                                 </span>
<span  style=""> 423                                                                                                          </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 424 		diff.setTimeInMillis(0); // starting time                                                              </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 425 		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                               </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 426 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 426 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(CalendðŸ”µ</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 427 			date = context.getResources().getString(R.string.today);                                              </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 428 			if (useShortFormat)                                                                                   </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 429 				retVal = time;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 430 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 431 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 432 		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {   </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 433 			date = context.getResources().getString(R.string.yesterday);                                          </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 434 			if (useShortFormat)                                                                                   </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 435 				retVal = date;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 436 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 437 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 438 		} else {                                                                                               </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 439 			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                 </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 440 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441 		}                                                                                                      </span>
<span  style=""> 442                                                                                                          </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 443 		return retVal;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444 	}                                                                                                       </span>
<span  style=""> 445                                                                                                          </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 446     public static Calendar numberToDate(Number time){                                                    </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 447         Calendar date = Calendar.getInstance();                                                          </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 448         if (time != null) {                                                                              </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 449             // Flick Note uses millisecond resolution timestamps Simplenote expects seconds              </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 450             // since we only deal with create and modify timestamps, they should all have occured        </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 451             // at the present time or in the past.                                                       </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 452             float now = date.getTimeInMillis()/1000;                                                     </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 453             float magnitude = time.floatValue()/now;                                                     </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 454             if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                          </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 455             date.setTimeInMillis(time.longValue()*1000);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 457         return date;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458     }                                                                                                    </span>
<span  style=""> 459                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 460     /**                                                                                                  </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 461      * Check if the note has any changes                                                                 </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 462      * @param content the new note content                                                               </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 463      * @param tagString space separated tags                                                             </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 464      * @param isPinned note is pinned                                                                    </span>
<span class="-1154760621356330740" onmouseenter="enter('-1154760621356330740');" onmouseout="out('-1154760621356330740');" style=""> 465      * @param isMarkdownEnabled note has markdown enabled                                                </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 466      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 467      */                                                                                                  </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 468 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 469     public boolean hasChanges(String content, String tagString, boolean isPinned) {                      </span>
<span class="-2663050792284716023" onmouseenter="enter('-2663050792284716023');" onmouseout="out('-2663050792284716023');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 470         return !(content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()));"> 470         return !(content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(thiðŸ”µ</abbr></span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 471 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 472      * @param isPinned note is pinned                                                                    </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 473      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 474      */                                                                                                  </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 475     public boolean hasChanges(String content, String tagString, boolean isPinned) {                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 476                                                                                                          </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 477         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 477         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getðŸ”µ</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 478             return false;                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 479         else                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 480             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 481     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 482 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 483 =======                                                                                                  </span>
<span class="8766619927564191135" onmouseenter="enter('8766619927564191135');" onmouseout="out('8766619927564191135');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 484     public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnabled) {"> 484     public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnablðŸ”µ</abbr></span>
<span class="-8752168499945681469" onmouseenter="enter('-8752168499945681469');" onmouseout="out('-8752168499945681469');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 485         return !content.equals(this.getContent())                                                        </span>
<span class="361029725350182512" onmouseenter="enter('361029725350182512');" onmouseout="out('361029725350182512');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 486             || !tagString.equals(this.getTagString().toString())                                         </span>
<span class="-3256796514842471479" onmouseenter="enter('-3256796514842471479');" onmouseout="out('-3256796514842471479');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 487             || this.isPinned() != isPinned                                                               </span>
<span class="8343748346738214390" onmouseenter="enter('8343748346738214390');" onmouseout="out('8343748346738214390');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 488             || this.isMarkdownEnabled() != isMarkdownEnabled;                                            </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 489 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491 }                                                                                                        </span></pre></td>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1 package com.automattic.simplenote.models;                                                                </span>
<span  style="">   2                                                                                                          </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   3 import android.content.Context;                                                                          </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">   4 import android.text.TextUtils;                                                                           </span>
<span  style="">   5                                                                                                          </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">   6 import com.automattic.simplenote.R;                                                                      </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">   7 import com.simperium.client.Bucket;                                                                      </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">   8 import com.simperium.client.BucketObject;                                                                </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">   9 import com.simperium.client.BucketSchema;                                                                </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  10 import com.simperium.client.Query;                                                                       </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  11 import com.simperium.client.Query.ComparisonType;                                                        </span>
<span  style="">  12                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  13 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  14 import org.json.JSONException;                                                                           </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  15 import org.json.JSONObject;                                                                              </span>
<span  style="">  16                                                                                                          </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  17 import java.text.DateFormat;                                                                             </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">  18 import java.text.SimpleDateFormat;                                                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  19 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  20 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  21 import java.util.List;                                                                                   </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">  22 import java.util.Locale;                                                                                 </span>
<span  style="">  23                                                                                                          </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  24 public class Note extends BucketObject {                                                                 </span>
<span  style="">  25                                                                                                          </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  26 	public static final String BUCKET_NAME=&quot;note&quot;;                                                          </span>
<span class="327825599558087652" onmouseenter="enter('327825599558087652');" onmouseout="out('327825599558087652');" style="">  27     public static final String MARKDOWN_TAG=&quot;markdown&quot;;                                                  </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  28     public static final String PINNED_TAG=&quot;pinned&quot;;                                                      </span>
<span class="-6422125408414574041" onmouseenter="enter('-6422125408414574041');" onmouseout="out('-6422125408414574041');" style="">  29     public static final String PUBLISHED_TAG=&quot;published&quot;;                                                </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  30     public static final String NEW_LINE=&quot;\n&quot;;                                                            </span>
<span  style="">  31                                                                                                          </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  32     private static final String BLANK_CONTENT=&quot;&quot;;                                                        </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  33     private static final String SPACE = &quot; &quot;;                                                             </span>
<span class="7999038666256371202" onmouseenter="enter('7999038666256371202');" onmouseout="out('7999038666256371202');" style="">  34     private static final int MAX_PREVIEW_CHARS = 300;                                                    </span>
<span  style="">  35                                                                                                          </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  36     public static final String CONTENT_PROPERTY=&quot;content&quot;;                                               </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  37     public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                     </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  38     public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                        </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  39     public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                    </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  40     public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                            </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  41     public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                            </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  42     public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                        </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  43     public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                               </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  44     public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                 </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  45     public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                              </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  46     public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                               </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  47     public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                           </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  48     public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                             </span>
<span class="1608351220765126281" onmouseenter="enter('1608351220765126281');" onmouseout="out('1608351220765126281');" style="">  49     public static final String MATCHED_TITLE_INDEX_NAME=&quot;matchedTitle&quot;;                                  </span>
<span class="-1584079946243370568" onmouseenter="enter('-1584079946243370568');" onmouseout="out('-1584079946243370568');" style="">  50     public static final String MATCHED_CONTENT_INDEX_NAME=&quot;matchedContent&quot;;                              </span>
<span class="5531379197968857197" onmouseenter="enter('5531379197968857197');" onmouseout="out('5531379197968857197');" style="">  51     public static final String PUBLISH_URL=&quot;http://simp.ly/publish/&quot;;                                    </span>
<span  style="">  52                                                                                                          </span>
<span class="2475488422216258991" onmouseenter="enter('2475488422216258991');" onmouseout="out('2475488422216258991');" style="">  53     static public final String[] FULL_TEXT_INDEXES = new String[]{                                       </span>
<span class="-4155540479552840166" onmouseenter="enter('-4155540479552840166');" onmouseout="out('-4155540479552840166');" style="">  54         Note.TITLE_INDEX_NAME, Note.CONTENT_PROPERTY };                                                  </span>
<span  style="">  55                                                                                                          </span>
<span class="6617027899127222559" onmouseenter="enter('6617027899127222559');" onmouseout="out('6617027899127222559');" style="">  56 	protected String mTitle = null;                                                                         </span>
<span class="-1758175371106332326" onmouseenter="enter('-1758175371106332326');" onmouseout="out('-1758175371106332326');" style="">  57 	protected String mContentPreview = null;                                                                </span>
<span  style="">  58                                                                                                          </span>
<span  style="">  59                                                                                                          </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  60 	public static class Schema extends BucketSchema&lt;Note&gt; {                                                 </span>
<span  style="">  61                                                                                                          </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  62         protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                   </span>
<span class="-8196684505127442187" onmouseenter="enter('-8196684505127442187');" onmouseout="out('-8196684505127442187');" style="">  63         protected static NoteFullTextIndexer sFullTextIndexer = new NoteFullTextIndexer();               </span>
<span  style="">  64                                                                                                          </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  65         public Schema(){                                                                                 </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  66             autoIndex();                                                                                 </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="">  67             addIndex(sNoteIndexer);                                                                      </span>
<span class="-3392547141042614111" onmouseenter="enter('-3392547141042614111');" onmouseout="out('-3392547141042614111');" style="">  68             setupFullTextIndex(sFullTextIndexer, NoteFullTextIndexer.INDEXES);                           </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  69             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-2554467534039091654" onmouseenter="enter('-2554467534039091654');" onmouseout="out('-2554467534039091654');" style="">  70             setDefault(SYSTEM_TAGS_PROPERTY, new JSONArray());                                           </span>
<span class="228359577715990029" onmouseenter="enter('228359577715990029');" onmouseout="out('228359577715990029');" style="">  71             setDefault(TAGS_PROPERTY, new JSONArray());                                                  </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  72             setDefault(DELETED_PROPERTY, false);                                                         </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  73             setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                          </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  74             setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75         }                                                                                                </span>
<span  style="">  76                                                                                                          </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  77         public String getRemoteName(){                                                                   </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  78             return Note.BUCKET_NAME;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79         }                                                                                                </span>
<span  style="">  80                                                                                                          </span>
<span class="-4946235729406468677" onmouseenter="enter('-4946235729406468677');" onmouseout="out('-4946235729406468677');" style="">  81         public Note build(String key, JSONObject properties) {                                           </span>
<span class="-2808542273143064496" onmouseenter="enter('-2808542273143064496');" onmouseout="out('-2808542273143064496');" style="">  82             return new Note(key, properties);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83         }                                                                                                </span>
<span  style="">  84                                                                                                          </span>
<span class="2318790323390762687" onmouseenter="enter('2318790323390762687');" onmouseout="out('2318790323390762687');" style="">  85         public void update(Note note, JSONObject properties) {                                           </span>
<span class="-3717338000153341316" onmouseenter="enter('-3717338000153341316');" onmouseout="out('-3717338000153341316');" style="">  86             note.setProperties(properties);                                                              </span>
<span class="-731284339738821488" onmouseenter="enter('-731284339738821488');" onmouseout="out('-731284339738821488');" style="">  87             note.mTitle = null;                                                                          </span>
<span class="6645980171711348815" onmouseenter="enter('6645980171711348815');" onmouseout="out('6645980171711348815');" style="">  88             note.mContentPreview = null;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90 	}                                                                                                       </span>
<span  style="">  91                                                                                                          </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  92     public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                              </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  93         return noteBucket.query()                                                                        </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  94                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95     }                                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  97     public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  98         return noteBucket.query()                                                                        </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style="">  99                 .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100     }                                                                                                    </span>
<span  style=""> 101                                                                                                          </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 102     public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 103         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 104                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 105                 .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106     }                                                                                                    </span>
<span  style=""> 107                                                                                                          </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 108     public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                             </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 109         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 110                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 111                 .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span  style=""> 114                                                                                                          </span>
<span class="767263449852825375" onmouseenter="enter('767263449852825375');" onmouseout="out('767263449852825375');" style=""> 115     public Note(String key) {                                                                            </span>
<span class="-8964647538928034033" onmouseenter="enter('-8964647538928034033');" onmouseout="out('-8964647538928034033');" style=""> 116         super(key, new JSONObject());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="8617384997772879313" onmouseenter="enter('8617384997772879313');" onmouseout="out('8617384997772879313');" style=""> 119     public Note(String key, JSONObject properties) {                                                     </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 120         super(key, properties);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121     }                                                                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="6373335669519535085" onmouseenter="enter('6373335669519535085');" onmouseout="out('6373335669519535085');" style=""> 123     protected void updateTitleAndPreview() {                                                             </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 124         // try to build a title and preview property out of content                                      </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 125         String content = getContent().trim();                                                            </span>
<span class="327463840444924073" onmouseenter="enter('327463840444924073');" onmouseout="out('327463840444924073');" style=""> 126         if (content.length() &gt; MAX_PREVIEW_CHARS) {                                                      </span>
<span class="-8480236902805956072" onmouseenter="enter('-8480236902805956072');" onmouseout="out('-8480236902805956072');" style=""> 127             content = content.substring(0, MAX_PREVIEW_CHARS - 1);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128         }                                                                                                </span>
<span  style=""> 129                                                                                                          </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 130         int firstNewLinePosition = content.indexOf(NEW_LINE);                                            </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 131         if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                   </span>
<span class="-397121944761876346" onmouseenter="enter('-397121944761876346');" onmouseout="out('-397121944761876346');" style=""> 132             mTitle = content.substring(0, firstNewLinePosition).trim();                                  </span>
<span  style=""> 133                                                                                                          </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 134             if (firstNewLinePosition &lt; content.length()) {                                               </span>
<span class="3544130446617579720" onmouseenter="enter('3544130446617579720');" onmouseout="out('3544130446617579720');" style=""> 135                 mContentPreview = content.substring(firstNewLinePosition, content.length());             </span>
<span class="-5260179913697335726" onmouseenter="enter('-5260179913697335726');" onmouseout="out('-5260179913697335726');" style=""><abbr title=" 136                 mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();"> 136                 mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137             }                                                                                            </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 138             else {                                                                                       </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 139                 mContentPreview = content;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141         }                                                                                                </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 142         else {                                                                                           </span>
<span class="6158164289681498296" onmouseenter="enter('6158164289681498296');" onmouseout="out('6158164289681498296');" style=""> 143             mTitle = content;                                                                            </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 144             mContentPreview = content;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147                                                                                                          </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 148 	public String getTitle() {                                                                              </span>
<span class="5880156293984643419" onmouseenter="enter('5880156293984643419');" onmouseout="out('5880156293984643419');" style=""> 149         if (mTitle == null) {                                                                            </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 150             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span class="-7721657982940010876" onmouseenter="enter('-7721657982940010876');" onmouseout="out('-7721657982940010876');" style=""> 152 		return mTitle;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153 	}                                                                                                       </span>
<span  style=""> 154                                                                                                          </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 155 	public String getContent() {                                                                            </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 156         Object content = getProperty(CONTENT_PROPERTY);                                                  </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 157         if (content == null) {                                                                           </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 158             return BLANK_CONTENT;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159         }                                                                                                </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 160         return (String) content;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161 	}                                                                                                       </span>
<span  style=""> 162                                                                                                          </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 163 	public void setContent(String content) {                                                                </span>
<span class="6017523628383929627" onmouseenter="enter('6017523628383929627');" onmouseout="out('6017523628383929627');" style=""> 164         mTitle = null;                                                                                   </span>
<span class="7468898004511818931" onmouseenter="enter('7468898004511818931');" onmouseout="out('7468898004511818931');" style=""> 165         mContentPreview = null;                                                                          </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 166         setProperty(CONTENT_PROPERTY, content);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167 	}                                                                                                       </span>
<span  style=""> 168                                                                                                          </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 169 	public String getContentPreview() {                                                                     </span>
<span class="-8081599038098376119" onmouseenter="enter('-8081599038098376119');" onmouseout="out('-8081599038098376119');" style=""> 170         if (mContentPreview == null) {                                                                   </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 171             updateTitleAndPreview();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172         }                                                                                                </span>
<span class="-7686656279835722897" onmouseenter="enter('-7686656279835722897');" onmouseout="out('-7686656279835722897');" style=""> 173 		return mContentPreview;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174 	}                                                                                                       </span>
<span  style=""> 175                                                                                                          </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 176 	public Calendar getCreationDate() {                                                                     </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 177         return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178 	}                                                                                                       </span>
<span  style=""> 179                                                                                                          </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 180 	public void setCreationDate(Calendar creationDate) {                                                    </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 181         setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182 	}                                                                                                       </span>
<span  style=""> 183                                                                                                          </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 184 	public Calendar getModificationDate() {                                                                 </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 185         return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186 	}                                                                                                       </span>
<span  style=""> 187                                                                                                          </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 188 	public void setModificationDate(Calendar modificationDate) {                                            </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 189         setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190 	}                                                                                                       </span>
<span  style=""> 191                                                                                                          </span>
<span class="3367289575484325214" onmouseenter="enter('3367289575484325214');" onmouseout="out('3367289575484325214');" style=""> 192     public String getPublishedUrl() {                                                                    </span>
<span class="-6172413358098126997" onmouseenter="enter('-6172413358098126997');" onmouseout="out('-6172413358098126997');" style=""> 193         String urlCode = (String)getProperty(PUBLISH_URL_PROPERTY);                                      </span>
<span class="7900565639772953850" onmouseenter="enter('7900565639772953850');" onmouseout="out('7900565639772953850');" style=""> 194         if (TextUtils.isEmpty(urlCode)) {                                                                </span>
<span class="-8289946804601166879" onmouseenter="enter('-8289946804601166879');" onmouseout="out('-8289946804601166879');" style=""> 195             return &quot;&quot;;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196         }                                                                                                </span>
<span  style=""> 197                                                                                                          </span>
<span class="-8429126260993259062" onmouseenter="enter('-8429126260993259062');" onmouseout="out('-8429126260993259062');" style=""> 198         return PUBLISH_URL + urlCode;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span  style=""> 200                                                                                                          </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 201     public boolean hasTag(String tag){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 202         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 203         String tagLower = tag.toLowerCase();                                                             </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 204         for (String tagName : tags) {                                                                    </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 205             if (tagLower.equals(tagName.toLowerCase())) return true;                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 207         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 210     public boolean hasTag(Tag tag){                                                                      </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 211         return hasTag(tag.getSimperiumKey());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 214     public List&lt;String&gt; getTags() {                                                                      </span>
<span  style=""> 215                                                                                                          </span>
<span class="5046858882238824028" onmouseenter="enter('5046858882238824028');" onmouseout="out('5046858882238824028');" style=""> 216         JSONArray tags = (JSONArray) getProperty(TAGS_PROPERTY);                                         </span>
<span  style=""> 217                                                                                                          </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 218         if (tags == null) {                                                                              </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 219             tags = new JSONArray();                                                                      </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 220             setProperty(TAGS_PROPERTY, tags);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221         }                                                                                                </span>
<span  style=""> 222                                                                                                          </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 223         int length = tags.length();                                                                      </span>
<span  style=""> 224                                                                                                          </span>
<span class="-7737950325994950460" onmouseenter="enter('-7737950325994950460');" onmouseout="out('-7737950325994950460');" style=""> 225         List&lt;String&gt; tagList = new ArrayList&lt;&gt;(length);                                                  </span>
<span  style=""> 226                                                                                                          </span>
<span class="8256074331736484026" onmouseenter="enter('8256074331736484026');" onmouseout="out('8256074331736484026');" style=""> 227         if (length == 0) return tagList;                                                                 </span>
<span  style=""> 228                                                                                                          </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 229         for (int i=0; i&lt;length; i++) {                                                                   </span>
<span class="-8917993594954591540" onmouseenter="enter('-8917993594954591540');" onmouseout="out('-8917993594954591540');" style=""> 230             String tag = tags.optString(i);                                                              </span>
<span class="-1947204619891178088" onmouseenter="enter('-1947204619891178088');" onmouseout="out('-1947204619891178088');" style=""> 231             if (!tag.equals(&quot;&quot;))                                                                         </span>
<span class="2557583924535716267" onmouseenter="enter('2557583924535716267');" onmouseout="out('2557583924535716267');" style=""> 232                 tagList.add(tag);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233         }                                                                                                </span>
<span  style=""> 234                                                                                                          </span>
<span class="-3183448331203603949" onmouseenter="enter('-3183448331203603949');" onmouseout="out('-3183448331203603949');" style=""> 235         return tagList;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236     }                                                                                                    </span>
<span  style=""> 237                                                                                                          </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 238     public void setTags(List&lt;String&gt; tags) {                                                             </span>
<span class="-8982714688054322872" onmouseenter="enter('-8982714688054322872');" onmouseout="out('-8982714688054322872');" style=""> 239         setProperty(TAGS_PROPERTY, new JSONArray(tags));                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span  style=""> 241                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 242     /**                                                                                                  </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 243      * String of tags delimited by a space                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 244      */                                                                                                  </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 245     public CharSequence getTagString(){                                                                  </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 246         StringBuilder tagString = new StringBuilder();                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 247         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 248         for(String tag : tags){                                                                          </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 249             if (tagString.length() &gt; 0) {                                                                </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 250                 tagString.append(SPACE);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251             }                                                                                            </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 252             tagString.append(tag);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253         }                                                                                                </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 254         return tagString;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255     }                                                                                                    </span>
<span  style=""> 256                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 257     /**                                                                                                  </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 258      * Sets the note&#x27;s tags by providing it with a {@link String} of space                               </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 259      * seperated tags. Filters out duplicate tags.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 260      *                                                                                                   </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 261      * @param tagString a space delimited list of tags                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 262      */                                                                                                  </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 263     public void setTagString(String tagString){                                                          </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 264         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 265         tags.clear();                                                                                    </span>
<span  style=""> 266                                                                                                          </span>
<span class="7647632027089311583" onmouseenter="enter('7647632027089311583');" onmouseout="out('7647632027089311583');" style=""> 267         if (tagString == null) {                                                                         </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 268             setTags(tags);                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 269             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270         }                                                                                                </span>
<span  style=""> 271                                                                                                          </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 272         // Make sure string has a trailing space                                                         </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 273         if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))        </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 274             tagString = tagString + SPACE;                                                               </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 275         // for comparing case-insensitive strings, would like to find a way to                           </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 276         // do this without allocating a new list and strings                                             </span>
<span class="5881300344958500433" onmouseenter="enter('5881300344958500433');" onmouseout="out('5881300344958500433');" style=""> 277         List&lt;String&gt; tagsUpperCase = new ArrayList&lt;&gt;();                                                  </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 278         // remove all current tags                                                                       </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 279         int start = 0;                                                                                   </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 280         int next = -1;                                                                                   </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 281         String possible;                                                                                 </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 282         String possibleUpperCase;                                                                        </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 283         // search tag string for space characters and pull out individual tags                           </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 284         do {                                                                                             </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 285             next = tagString.indexOf(SPACE, start);                                                      </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 286             if (next &gt; start) {                                                                          </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 287                 possible = tagString.substring(start, next);                                             </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 288                 possibleUpperCase = possible.toUpperCase();                                              </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 289                 if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {             </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 290                     tagsUpperCase.add(possibleUpperCase);                                                </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 291                     tags.add(possible);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293             }                                                                                            </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 294             start = next + 1;                                                                            </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 295         } while(next &gt; -1);                                                                              </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 296         setTags(tags);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297     }                                                                                                    </span>
<span  style=""> 298                                                                                                          </span>
<span class="-2380080839978865436" onmouseenter="enter('-2380080839978865436');" onmouseout="out('-2380080839978865436');" style=""> 299     public JSONArray getSystemTags() {                                                                   </span>
<span class="1634689045753216867" onmouseenter="enter('1634689045753216867');" onmouseout="out('1634689045753216867');" style=""> 300         JSONArray tags = (JSONArray) getProperty(SYSTEM_TAGS_PROPERTY);                                  </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 301         if (tags == null) {                                                                              </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 302             tags = new JSONArray();                                                                      </span>
<span class="8109738276011217421" onmouseenter="enter('8109738276011217421');" onmouseout="out('8109738276011217421');" style=""> 303             setProperty(SYSTEM_TAGS_PROPERTY, tags);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304         }                                                                                                </span>
<span class="-7737333077028274174" onmouseenter="enter('-7737333077028274174');" onmouseout="out('-7737333077028274174');" style=""> 305         return tags;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306     }                                                                                                    </span>
<span  style=""> 307                                                                                                          </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 308 	public Boolean isDeleted() {                                                                            </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 309         Object deleted = getProperty(DELETED_PROPERTY);                                                  </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 310         if (deleted == null) {                                                                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 311             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312         }                                                                                                </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 313         if (deleted instanceof Boolean) {                                                                </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 314             return (Boolean) deleted;                                                                    </span>
<span class="501686333951387696" onmouseenter="enter('501686333951387696');" onmouseout="out('501686333951387696');" style=""> 315         } else                                                                                           </span>
<span class="2375816303299771461" onmouseenter="enter('2375816303299771461');" onmouseout="out('2375816303299771461');" style=""> 316             return deleted instanceof Number &amp;&amp; ((Number) deleted).intValue() != 0;                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317     }                                                                                                    </span>
<span  style=""> 318                                                                                                          </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 319     public void setDeleted(boolean deleted) {                                                            </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 320         setProperty(DELETED_PROPERTY, deleted);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span  style=""> 322                                                                                                          </span>
<span class="5985631777888601261" onmouseenter="enter('5985631777888601261');" onmouseout="out('5985631777888601261');" style=""> 323     public boolean isMarkdownEnabled() {                                                                 </span>
<span class="-5743540823315516839" onmouseenter="enter('-5743540823315516839');" onmouseout="out('-5743540823315516839');" style=""> 324         return hasSystemTag(MARKDOWN_TAG);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span  style=""> 326                                                                                                          </span>
<span class="-2232443542975324273" onmouseenter="enter('-2232443542975324273');" onmouseout="out('-2232443542975324273');" style=""> 327     public void setMarkdownEnabled(boolean isMarkdownEnabled) {                                          </span>
<span class="5908341161553131781" onmouseenter="enter('5908341161553131781');" onmouseout="out('5908341161553131781');" style=""> 328         if (isMarkdownEnabled) {                                                                         </span>
<span class="-7185185989369936008" onmouseenter="enter('-7185185989369936008');" onmouseout="out('-7185185989369936008');" style=""> 329             addSystemTag(MARKDOWN_TAG);                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 330         } else {                                                                                         </span>
<span class="1430034125671484052" onmouseenter="enter('1430034125671484052');" onmouseout="out('1430034125671484052');" style=""> 331             removeSystemTag(MARKDOWN_TAG);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333     }                                                                                                    </span>
<span  style=""> 334                                                                                                          </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 335     public boolean isPinned() {                                                                          </span>
<span class="7436893036029851482" onmouseenter="enter('7436893036029851482');" onmouseout="out('7436893036029851482');" style=""> 336         return hasSystemTag(PINNED_TAG);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337     }                                                                                                    </span>
<span  style=""> 338                                                                                                          </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 339     public void setPinned(boolean isPinned) {                                                            </span>
<span class="-8977010770732050857" onmouseenter="enter('-8977010770732050857');" onmouseout="out('-8977010770732050857');" style=""> 340         if (isPinned) {                                                                                  </span>
<span class="-705489752486798560" onmouseenter="enter('-705489752486798560');" onmouseout="out('-705489752486798560');" style=""> 341             addSystemTag(PINNED_TAG);                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342         } else {                                                                                         </span>
<span class="5010790157822780054" onmouseenter="enter('5010790157822780054');" onmouseout="out('5010790157822780054');" style=""> 343             removeSystemTag(PINNED_TAG);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345     }                                                                                                    </span>
<span  style=""> 346                                                                                                          </span>
<span class="5049304787018344959" onmouseenter="enter('5049304787018344959');" onmouseout="out('5049304787018344959');" style=""> 347     public boolean isPublished() {                                                                       </span>
<span class="-3313218062555121548" onmouseenter="enter('-3313218062555121548');" onmouseout="out('-3313218062555121548');" style=""> 348         return hasSystemTag(PUBLISHED_TAG) &amp;&amp; !TextUtils.isEmpty(getPublishedUrl());                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349     }                                                                                                    </span>
<span  style=""> 350                                                                                                          </span>
<span class="-1996001930026199474" onmouseenter="enter('-1996001930026199474');" onmouseout="out('-1996001930026199474');" style=""> 351     public void setPublished(boolean isPublished) {                                                      </span>
<span class="-214835194616400293" onmouseenter="enter('-214835194616400293');" onmouseout="out('-214835194616400293');" style=""> 352         if (isPublished) {                                                                               </span>
<span class="6614236660148008937" onmouseenter="enter('6614236660148008937');" onmouseout="out('6614236660148008937');" style=""> 353             addSystemTag(PUBLISHED_TAG);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 354         } else {                                                                                         </span>
<span class="-3125520029372940316" onmouseenter="enter('-3125520029372940316');" onmouseout="out('-3125520029372940316');" style=""> 355             removeSystemTag(PUBLISHED_TAG);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357     }                                                                                                    </span>
<span  style=""> 358                                                                                                          </span>
<span class="8481041411290642641" onmouseenter="enter('8481041411290642641');" onmouseout="out('8481041411290642641');" style=""> 359     private boolean hasSystemTag(String tag) {                                                           </span>
<span class="-1472869558903340894" onmouseenter="enter('-1472869558903340894');" onmouseout="out('-1472869558903340894');" style=""> 360         if (TextUtils.isEmpty(tag))                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 361             return false;                                                                                </span>
<span  style=""> 362                                                                                                          </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 363         JSONArray tags = getSystemTags();                                                                </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 364         int length = tags.length();                                                                      </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 365         for (int i=0; i&lt;length; i++) {                                                                   </span>
<span class="1029161545303231138" onmouseenter="enter('1029161545303231138');" onmouseout="out('1029161545303231138');" style=""> 366             if (tags.optString(i).equals(tag)) {                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 367                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369         }                                                                                                </span>
<span  style=""> 370                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 371         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372     }                                                                                                    </span>
<span  style=""> 373                                                                                                          </span>
<span class="-1886965851517885412" onmouseenter="enter('-1886965851517885412');" onmouseout="out('-1886965851517885412');" style=""> 374     private void addSystemTag(String tag) {                                                              </span>
<span class="-7266652503291305395" onmouseenter="enter('-7266652503291305395');" onmouseout="out('-7266652503291305395');" style=""> 375         if (TextUtils.isEmpty(tag)) {                                                                    </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 376             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377         }                                                                                                </span>
<span  style=""> 378                                                                                                          </span>
<span class="4034934261619610009" onmouseenter="enter('4034934261619610009');" onmouseout="out('4034934261619610009');" style=""> 379         // Ensure we don&#x27;t add the same tag again                                                        </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 380         if (!hasSystemTag(tag)) {                                                                        </span>
<span class="-2655750625237705417" onmouseenter="enter('-2655750625237705417');" onmouseout="out('-2655750625237705417');" style=""> 381             getSystemTags().put(tag);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383     }                                                                                                    </span>
<span  style=""> 384                                                                                                          </span>
<span class="-6272346588769055483" onmouseenter="enter('-6272346588769055483');" onmouseout="out('-6272346588769055483');" style=""> 385     private void removeSystemTag(String tag) {                                                           </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 386         if (!hasSystemTag(tag)) {                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 387             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388         }                                                                                                </span>
<span  style=""> 389                                                                                                          </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 390         JSONArray tags = getSystemTags();                                                                </span>
<span class="6472000112597211426" onmouseenter="enter('6472000112597211426');" onmouseout="out('6472000112597211426');" style=""> 391         JSONArray newTags = new JSONArray();                                                             </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 392         int length = tags.length();                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 393         try {                                                                                            </span>
<span class="6908715651536326362" onmouseenter="enter('6908715651536326362');" onmouseout="out('6908715651536326362');" style=""> 394             for (int i = 0; i &lt; length; i++) {                                                           </span>
<span class="5751642819386913624" onmouseenter="enter('5751642819386913624');" onmouseout="out('5751642819386913624');" style=""> 395                 Object val = tags.get(i);                                                                </span>
<span class="7076458285668173093" onmouseenter="enter('7076458285668173093');" onmouseout="out('7076458285668173093');" style=""> 396                 if (!val.equals(tag))                                                                    </span>
<span class="-6329059091210941964" onmouseenter="enter('-6329059091210941964');" onmouseout="out('-6329059091210941964');" style=""> 397                     newTags.put(val);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398             }                                                                                            </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 399         } catch (JSONException e) {                                                                      </span>
<span class="4377813279323840039" onmouseenter="enter('4377813279323840039');" onmouseout="out('4377813279323840039');" style=""> 400             // could not update pinned setting                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401         }                                                                                                </span>
<span  style=""> 402                                                                                                          </span>
<span class="8301502673130902229" onmouseenter="enter('8301502673130902229');" onmouseout="out('8301502673130902229');" style=""> 403         setProperty(SYSTEM_TAGS_PROPERTY, newTags);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404     }                                                                                                    </span>
<span  style=""> 405                                                                                                          </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 406     public static String dateString(Number time, boolean useShortFormat, Context context){               </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 407         Calendar c = numberToDate(time);                                                                 </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 408         return dateString(c, useShortFormat, context);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409     }                                                                                                    </span>
<span  style=""> 410                                                                                                          </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 411 	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                  </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 412 		int year, month, day;                                                                                  </span>
<span  style=""> 413                                                                                                          </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 414 		String time, date, retVal;                                                                             </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 415 		time = date = &quot;&quot;;                                                                                      </span>
<span  style=""> 416                                                                                                          </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 417 		Calendar diff = Calendar.getInstance();                                                                </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 418 		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                    </span>
<span  style=""> 419                                                                                                          </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 420 		year = diff.get(Calendar.YEAR);                                                                        </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 421 		month = diff.get(Calendar.MONTH);                                                                      </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 422 		day = diff.get(Calendar.DAY_OF_MONTH);                                                                 </span>
<span  style=""> 423                                                                                                          </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 424 		diff.setTimeInMillis(0); // starting time                                                              </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 425 		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                               </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 426 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 426 		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(CalendðŸ”µ</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 427 			date = context.getResources().getString(R.string.today);                                              </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 428 			if (useShortFormat)                                                                                   </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 429 				retVal = time;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 430 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 431 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 432 		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {   </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 433 			date = context.getResources().getString(R.string.yesterday);                                          </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 434 			if (useShortFormat)                                                                                   </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 435 				retVal = date;                                                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 436 			else                                                                                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 437 				retVal = date + &quot;, &quot; + time;                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 438 		} else {                                                                                               </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 439 			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                 </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 440 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441 		}                                                                                                      </span>
<span  style=""> 442                                                                                                          </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 443 		return retVal;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444 	}                                                                                                       </span>
<span  style=""> 445                                                                                                          </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 446     public static Calendar numberToDate(Number time){                                                    </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 447         Calendar date = Calendar.getInstance();                                                          </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 448         if (time != null) {                                                                              </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 449             // Flick Note uses millisecond resolution timestamps Simplenote expects seconds              </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 450             // since we only deal with create and modify timestamps, they should all have occured        </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 451             // at the present time or in the past.                                                       </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 452             float now = date.getTimeInMillis()/1000;                                                     </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 453             float magnitude = time.floatValue()/now;                                                     </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 454             if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                          </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 455             date.setTimeInMillis(time.longValue()*1000);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 457         return date;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458     }                                                                                                    </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 459 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 460 public boolean hasChanges(String content, String tagString, boolean isPinned) {                          </span>
<span class="-2663050792284716023" onmouseenter="enter('-2663050792284716023');" onmouseout="out('-2663050792284716023');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 461         return !(content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()));"> 461         return !(content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(thiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 462     }                                                                                                    </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 463 ||||||| BASE                                                                                             </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 464 public boolean hasChanges(String content, String tagString, boolean isPinned) {                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 465                                                                                                          </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 466         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 466         if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getðŸ”µ</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 467             return false;                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 468         else                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 469             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 470     }                                                                                                    </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 471 =======                                                                                                  </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 472 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 473                                                                                                          </span>
<span  style=""> 474                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 475     /**                                                                                                  </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 476      * Check if the note has any changes                                                                 </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 477      * @param content the new note content                                                               </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 478      * @param tagString space separated tags                                                             </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 479      * @param isPinned note is pinned                                                                    </span>
<span class="-1154760621356330740" onmouseenter="enter('-1154760621356330740');" onmouseout="out('-1154760621356330740');" style=""> 480      * @param isMarkdownEnabled note has markdown enabled                                                </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 481      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 482      */                                                                                                  </span>
<span class="8766619927564191135" onmouseenter="enter('8766619927564191135');" onmouseout="out('8766619927564191135');" style=""><abbr title=" 483     public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnabled) {"> 483     public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnablðŸ”µ</abbr></span>
<span class="-8752168499945681469" onmouseenter="enter('-8752168499945681469');" onmouseout="out('-8752168499945681469');" style=""> 484         return !content.equals(this.getContent())                                                        </span>
<span class="361029725350182512" onmouseenter="enter('361029725350182512');" onmouseout="out('361029725350182512');" style=""> 485             || !tagString.equals(this.getTagString().toString())                                         </span>
<span class="-3256796514842471479" onmouseenter="enter('-3256796514842471479');" onmouseout="out('-3256796514842471479');" style=""> 486             || this.isPinned() != isPinned                                                               </span>
<span class="8343748346738214390" onmouseenter="enter('8343748346738214390');" onmouseout="out('8343748346738214390');" style=""> 487             || this.isMarkdownEnabled() != isMarkdownEnabled;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489 }                                                                                                        </span>
</pre></td>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1 package com.automattic.simplenote.models;                                                                </span>
<span  style="">   2                                                                                                          </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   3 import android.content.Context;                                                                          </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">   4 import android.text.TextUtils;                                                                           </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">   5 import com.automattic.simplenote.R;                                                                      </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">   6 import com.simperium.client.Bucket;                                                                      </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">   7 import com.simperium.client.BucketObject;                                                                </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">   8 import com.simperium.client.BucketSchema;                                                                </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">   9 import com.simperium.client.Query.ComparisonType;                                                        </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  10 import com.simperium.client.Query;                                                                       </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  11 import java.text.DateFormat;                                                                             </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">  12 import java.text.SimpleDateFormat;                                                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  13 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  14 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  15 import java.util.List;                                                                                   </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">  16 import java.util.Locale;                                                                                 </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  17 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  18 import org.json.JSONException;                                                                           </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  19 import org.json.JSONObject;                                                                              </span>
<span  style="">  20                                                                                                          </span>
<span  style="">  21                                                                                                          </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  22 public class Note extends BucketObject {                                                                 </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  23 public static final String BUCKET_NAME=&quot;note&quot;;                                                           </span>
<span  style="">  24                                                                                                          </span>
<span class="327825599558087652" onmouseenter="enter('327825599558087652');" onmouseout="out('327825599558087652');" style="">  25     public static final String MARKDOWN_TAG=&quot;markdown&quot;;                                                  </span>
<span  style="">  26                                                                                                          </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  27     public static final String PINNED_TAG=&quot;pinned&quot;;                                                      </span>
<span  style="">  28                                                                                                          </span>
<span class="-6422125408414574041" onmouseenter="enter('-6422125408414574041');" onmouseout="out('-6422125408414574041');" style="">  29     public static final String PUBLISHED_TAG=&quot;published&quot;;                                                </span>
<span  style="">  30                                                                                                          </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  31     public static final String NEW_LINE=&quot;\n&quot;;                                                            </span>
<span  style="">  32                                                                                                          </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  33     private static final String BLANK_CONTENT=&quot;&quot;;                                                        </span>
<span  style="">  34                                                                                                          </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  35     private static final String SPACE = &quot; &quot;;                                                             </span>
<span  style="">  36                                                                                                          </span>
<span class="7999038666256371202" onmouseenter="enter('7999038666256371202');" onmouseout="out('7999038666256371202');" style="">  37     private static final int MAX_PREVIEW_CHARS = 300;                                                    </span>
<span  style="">  38                                                                                                          </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  39     public static final String CONTENT_PROPERTY=&quot;content&quot;;                                               </span>
<span  style="">  40                                                                                                          </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  41     public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                     </span>
<span  style="">  42                                                                                                          </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  43     public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                        </span>
<span  style="">  44                                                                                                          </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  45     public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                    </span>
<span  style="">  46                                                                                                          </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  47     public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                            </span>
<span  style="">  48                                                                                                          </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  49     public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                            </span>
<span  style="">  50                                                                                                          </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  51     public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                        </span>
<span  style="">  52                                                                                                          </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  53     public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                               </span>
<span  style="">  54                                                                                                          </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  55     public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                 </span>
<span  style="">  56                                                                                                          </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  57     public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                              </span>
<span  style="">  58                                                                                                          </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  59     public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                               </span>
<span  style="">  60                                                                                                          </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  61     public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                           </span>
<span  style="">  62                                                                                                          </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  63     public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                             </span>
<span  style="">  64                                                                                                          </span>
<span class="1608351220765126281" onmouseenter="enter('1608351220765126281');" onmouseout="out('1608351220765126281');" style="">  65     public static final String MATCHED_TITLE_INDEX_NAME=&quot;matchedTitle&quot;;                                  </span>
<span  style="">  66                                                                                                          </span>
<span class="-1584079946243370568" onmouseenter="enter('-1584079946243370568');" onmouseout="out('-1584079946243370568');" style="">  67     public static final String MATCHED_CONTENT_INDEX_NAME=&quot;matchedContent&quot;;                              </span>
<span  style="">  68                                                                                                          </span>
<span class="5531379197968857197" onmouseenter="enter('5531379197968857197');" onmouseout="out('5531379197968857197');" style="">  69     public static final String PUBLISH_URL=&quot;http://simp.ly/publish/&quot;;                                    </span>
<span  style="">  70                                                                                                          </span>
<span class="5924941881536215705" onmouseenter="enter('5924941881536215705');" onmouseout="out('5924941881536215705');" style=""><abbr title="  71     public static final String[] FULL_TEXT_INDEXES = new String[]{ Note.TITLE_INDEX_NAME, Note.CONTENT_PROPERTY };">  71     public static final String[] FULL_TEXT_INDEXES = new String[]{ Note.TITLE_INDEX_NAME, Note.CONTENT_PRðŸ”µ</abbr></span>
<span  style="">  72                                                                                                          </span>
<span class="6617027899127222559" onmouseenter="enter('6617027899127222559');" onmouseout="out('6617027899127222559');" style="">  73 protected String mTitle = null;                                                                          </span>
<span  style="">  74                                                                                                          </span>
<span class="-1758175371106332326" onmouseenter="enter('-1758175371106332326');" onmouseout="out('-1758175371106332326');" style="">  75 protected String mContentPreview = null;                                                                 </span>
<span  style="">  76                                                                                                          </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  77     public static class Schema extends BucketSchema&lt;Note&gt; {                                              </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  78         protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                   </span>
<span  style="">  79                                                                                                          </span>
<span class="-8196684505127442187" onmouseenter="enter('-8196684505127442187');" onmouseout="out('-8196684505127442187');" style="">  80         protected static NoteFullTextIndexer sFullTextIndexer = new NoteFullTextIndexer();               </span>
<span  style="">  81                                                                                                          </span>
<span class="-75865115147660663" onmouseenter="enter('-75865115147660663');" onmouseout="out('-75865115147660663');" style="">  82         public Schema() {                                                                                </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  83             autoIndex();                                                                                 </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="">  84             addIndex(sNoteIndexer);                                                                      </span>
<span class="-3392547141042614111" onmouseenter="enter('-3392547141042614111');" onmouseout="out('-3392547141042614111');" style="">  85             setupFullTextIndex(sFullTextIndexer, NoteFullTextIndexer.INDEXES);                           </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  86             setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                            </span>
<span class="-2554467534039091654" onmouseenter="enter('-2554467534039091654');" onmouseout="out('-2554467534039091654');" style="">  87             setDefault(SYSTEM_TAGS_PROPERTY, new JSONArray());                                           </span>
<span class="228359577715990029" onmouseenter="enter('228359577715990029');" onmouseout="out('228359577715990029');" style="">  88             setDefault(TAGS_PROPERTY, new JSONArray());                                                  </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  89             setDefault(DELETED_PROPERTY, false);                                                         </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  90             setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                          </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  91             setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92         }                                                                                                </span>
<span  style="">  93                                                                                                          </span>
<span class="1438294404599077665" onmouseenter="enter('1438294404599077665');" onmouseout="out('1438294404599077665');" style="">  94         public String getRemoteName() {                                                                  </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  95             return Note.BUCKET_NAME;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96         }                                                                                                </span>
<span  style="">  97                                                                                                          </span>
<span class="-4946235729406468677" onmouseenter="enter('-4946235729406468677');" onmouseout="out('-4946235729406468677');" style="">  98         public Note build(String key, JSONObject properties) {                                           </span>
<span class="-2808542273143064496" onmouseenter="enter('-2808542273143064496');" onmouseout="out('-2808542273143064496');" style="">  99             return new Note(key, properties);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100         }                                                                                                </span>
<span  style=""> 101                                                                                                          </span>
<span class="2318790323390762687" onmouseenter="enter('2318790323390762687');" onmouseout="out('2318790323390762687');" style=""> 102         public void update(Note note, JSONObject properties) {                                           </span>
<span class="-3717338000153341316" onmouseenter="enter('-3717338000153341316');" onmouseout="out('-3717338000153341316');" style=""> 103             note.setProperties(properties);                                                              </span>
<span class="-731284339738821488" onmouseenter="enter('-731284339738821488');" onmouseout="out('-731284339738821488');" style=""> 104             note.mTitle = null;                                                                          </span>
<span class="6645980171711348815" onmouseenter="enter('6645980171711348815');" onmouseout="out('6645980171711348815');" style=""> 105             note.mContentPreview = null;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107     }                                                                                                    </span>
<span  style=""> 108                                                                                                          </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style=""> 109     public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                              </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 110         return noteBucket.query()                                                                        </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style=""> 111                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style=""> 114     public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 115         return noteBucket.query()                                                                        </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style=""> 116                 .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 119     public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 120         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 121                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 122                 .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span  style=""> 124                                                                                                          </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 125     public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                             </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 126         return noteBucket.query()                                                                        </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 127                 .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                              </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 128                 .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129     }                                                                                                    </span>
<span  style=""> 130                                                                                                          </span>
<span class="767263449852825375" onmouseenter="enter('767263449852825375');" onmouseout="out('767263449852825375');" style=""> 131     public Note(String key) {                                                                            </span>
<span class="-8964647538928034033" onmouseenter="enter('-8964647538928034033');" onmouseout="out('-8964647538928034033');" style=""> 132         super(key, new JSONObject());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133     }                                                                                                    </span>
<span  style=""> 134                                                                                                          </span>
<span class="8617384997772879313" onmouseenter="enter('8617384997772879313');" onmouseout="out('8617384997772879313');" style=""> 135     public Note(String key, JSONObject properties) {                                                     </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 136         super(key, properties);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137     }                                                                                                    </span>
<span  style=""> 138                                                                                                          </span>
<span class="6373335669519535085" onmouseenter="enter('6373335669519535085');" onmouseout="out('6373335669519535085');" style=""> 139     protected void updateTitleAndPreview() {                                                             </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 140         // try to build a title and preview property out of content                                      </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 141         String content = getContent().trim();                                                            </span>
<span class="327463840444924073" onmouseenter="enter('327463840444924073');" onmouseout="out('327463840444924073');" style=""> 142         if (content.length() &gt; MAX_PREVIEW_CHARS) {                                                      </span>
<span class="-8480236902805956072" onmouseenter="enter('-8480236902805956072');" onmouseout="out('-8480236902805956072');" style=""> 143             content = content.substring(0, MAX_PREVIEW_CHARS - 1);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144         }                                                                                                </span>
<span  style=""> 145                                                                                                          </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 146         int firstNewLinePosition = content.indexOf(NEW_LINE);                                            </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 147         if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                   </span>
<span class="-397121944761876346" onmouseenter="enter('-397121944761876346');" onmouseout="out('-397121944761876346');" style=""> 148             mTitle = content.substring(0, firstNewLinePosition).trim();                                  </span>
<span  style=""> 149                                                                                                          </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 150             if (firstNewLinePosition &lt; content.length()) {                                               </span>
<span class="3544130446617579720" onmouseenter="enter('3544130446617579720');" onmouseout="out('3544130446617579720');" style=""> 151                 mContentPreview = content.substring(firstNewLinePosition, content.length());             </span>
<span class="-5260179913697335726" onmouseenter="enter('-5260179913697335726');" onmouseout="out('-5260179913697335726');" style=""><abbr title=" 152                 mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();"> 152                 mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153             }                                                                                            </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 154             else {                                                                                       </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 155                 mContentPreview = content;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157         }                                                                                                </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 158         else {                                                                                           </span>
<span class="6158164289681498296" onmouseenter="enter('6158164289681498296');" onmouseout="out('6158164289681498296');" style=""> 159             mTitle = content;                                                                            </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 160             mContentPreview = content;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162     }                                                                                                    </span>
<span  style=""> 163                                                                                                          </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 164 public String getTitle() {                                                                               </span>
<span class="5880156293984643419" onmouseenter="enter('5880156293984643419');" onmouseout="out('5880156293984643419');" style=""> 165        if (mTitle == null) {                                                                             </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 166            updateTitleAndPreview();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167        }                                                                                                 </span>
<span class="-7721657982940010876" onmouseenter="enter('-7721657982940010876');" onmouseout="out('-7721657982940010876');" style=""> 168 	return mTitle;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169 }                                                                                                        </span>
<span  style=""> 170                                                                                                          </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 171 public String getContent() {                                                                             </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 172        Object content = getProperty(CONTENT_PROPERTY);                                                   </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 173        if (content == null) {                                                                            </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 174            return BLANK_CONTENT;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175        }                                                                                                 </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 176        return (String) content;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177 }                                                                                                        </span>
<span  style=""> 178                                                                                                          </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 179 public void setContent(String content) {                                                                 </span>
<span class="6017523628383929627" onmouseenter="enter('6017523628383929627');" onmouseout="out('6017523628383929627');" style=""> 180        mTitle = null;                                                                                    </span>
<span class="7468898004511818931" onmouseenter="enter('7468898004511818931');" onmouseout="out('7468898004511818931');" style=""> 181        mContentPreview = null;                                                                           </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 182        setProperty(CONTENT_PROPERTY, content);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183 }                                                                                                        </span>
<span  style=""> 184                                                                                                          </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 185 public String getContentPreview() {                                                                      </span>
<span class="-8081599038098376119" onmouseenter="enter('-8081599038098376119');" onmouseout="out('-8081599038098376119');" style=""> 186        if (mContentPreview == null) {                                                                    </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 187            updateTitleAndPreview();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188        }                                                                                                 </span>
<span class="-7686656279835722897" onmouseenter="enter('-7686656279835722897');" onmouseout="out('-7686656279835722897');" style=""> 189 	return mContentPreview;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190 }                                                                                                        </span>
<span  style=""> 191                                                                                                          </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 192 public Calendar getCreationDate() {                                                                      </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 193        return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194 }                                                                                                        </span>
<span  style=""> 195                                                                                                          </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 196 public void setCreationDate(Calendar creationDate) {                                                     </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 197        setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198 }                                                                                                        </span>
<span  style=""> 199                                                                                                          </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 200 public Calendar getModificationDate() {                                                                  </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 201        return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202 }                                                                                                        </span>
<span  style=""> 203                                                                                                          </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 204 public void setModificationDate(Calendar modificationDate) {                                             </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 205        setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206 }                                                                                                        </span>
<span  style=""> 207                                                                                                          </span>
<span class="3367289575484325214" onmouseenter="enter('3367289575484325214');" onmouseout="out('3367289575484325214');" style=""> 208     public String getPublishedUrl() {                                                                    </span>
<span class="-6172413358098126997" onmouseenter="enter('-6172413358098126997');" onmouseout="out('-6172413358098126997');" style=""> 209         String urlCode = (String)getProperty(PUBLISH_URL_PROPERTY);                                      </span>
<span class="7900565639772953850" onmouseenter="enter('7900565639772953850');" onmouseout="out('7900565639772953850');" style=""> 210         if (TextUtils.isEmpty(urlCode)) {                                                                </span>
<span class="-8289946804601166879" onmouseenter="enter('-8289946804601166879');" onmouseout="out('-8289946804601166879');" style=""> 211             return &quot;&quot;;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212         }                                                                                                </span>
<span  style=""> 213                                                                                                          </span>
<span class="-8429126260993259062" onmouseenter="enter('-8429126260993259062');" onmouseout="out('-8429126260993259062');" style=""> 214         return PUBLISH_URL + urlCode;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span  style=""> 216                                                                                                          </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 217     public boolean hasTag(String tag){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 218         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 219         String tagLower = tag.toLowerCase();                                                             </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 220         for (String tagName : tags) {                                                                    </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 221             if (tagLower.equals(tagName.toLowerCase())) return true;                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 223         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 226     public boolean hasTag(Tag tag){                                                                      </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 227         return hasTag(tag.getSimperiumKey());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228     }                                                                                                    </span>
<span  style=""> 229                                                                                                          </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 230     public List&lt;String&gt; getTags() {                                                                      </span>
<span class="7604912507222916619" onmouseenter="enter('7604912507222916619');" onmouseout="out('7604912507222916619');" style=""> 231         JSONArray tags = ((JSONArray) (getProperty(TAGS_PROPERTY)));                                     </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 232         if (tags == null) {                                                                              </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 233             tags = new JSONArray();                                                                      </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 234             setProperty(TAGS_PROPERTY, tags);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235         }                                                                                                </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 236         int length = tags.length();                                                                      </span>
<span class="-7737950325994950460" onmouseenter="enter('-7737950325994950460');" onmouseout="out('-7737950325994950460');" style=""> 237         List&lt;String&gt; tagList = new ArrayList&lt;&gt;(length);                                                  </span>
<span class="4257610124864076025" onmouseenter="enter('4257610124864076025');" onmouseout="out('4257610124864076025');" style=""> 238         if (length == 0) {                                                                               </span>
<span class="-3183448331203603949" onmouseenter="enter('-3183448331203603949');" onmouseout="out('-3183448331203603949');" style=""> 239             return tagList;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240         }                                                                                                </span>
<span class="6908715651536326362" onmouseenter="enter('6908715651536326362');" onmouseout="out('6908715651536326362');" style=""> 241         for (int i = 0; i &lt; length; i++) {                                                               </span>
<span class="-8917993594954591540" onmouseenter="enter('-8917993594954591540');" onmouseout="out('-8917993594954591540');" style=""> 242             String tag = tags.optString(i);                                                              </span>
<span class="-3049181578755951086" onmouseenter="enter('-3049181578755951086');" onmouseout="out('-3049181578755951086');" style=""> 243             if (!tag.equals(&quot;&quot;)) {                                                                       </span>
<span class="2557583924535716267" onmouseenter="enter('2557583924535716267');" onmouseout="out('2557583924535716267');" style=""> 244                 tagList.add(tag);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246         }                                                                                                </span>
<span class="-3183448331203603949" onmouseenter="enter('-3183448331203603949');" onmouseout="out('-3183448331203603949');" style=""> 247         return tagList;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248     }                                                                                                    </span>
<span  style=""> 249                                                                                                          </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 250     public void setTags(List&lt;String&gt; tags) {                                                             </span>
<span class="-8982714688054322872" onmouseenter="enter('-8982714688054322872');" onmouseout="out('-8982714688054322872');" style=""> 251         setProperty(TAGS_PROPERTY, new JSONArray(tags));                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252     }                                                                                                    </span>
<span  style=""> 253                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 254     /**                                                                                                  </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 255      * String of tags delimited by a space                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 256      */                                                                                                  </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 257     public CharSequence getTagString(){                                                                  </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 258         StringBuilder tagString = new StringBuilder();                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 259         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 260         for(String tag : tags){                                                                          </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 261             if (tagString.length() &gt; 0) {                                                                </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 262                 tagString.append(SPACE);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263             }                                                                                            </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 264             tagString.append(tag);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265         }                                                                                                </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 266         return tagString;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span  style=""> 268                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 269     /**                                                                                                  </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 270      * Sets the note&#x27;s tags by providing it with a {@link String} of space                               </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 271      * seperated tags. Filters out duplicate tags.                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 272      *                                                                                                   </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 273      * @param tagString a space delimited list of tags                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 274      */                                                                                                  </span>
<span class="-7562161399809710400" onmouseenter="enter('-7562161399809710400');" onmouseout="out('-7562161399809710400');" style=""> 275     public void setTagString(String tagString) {                                                         </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 276         List&lt;String&gt; tags = getTags();                                                                   </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 277         tags.clear();                                                                                    </span>
<span class="7647632027089311583" onmouseenter="enter('7647632027089311583');" onmouseout="out('7647632027089311583');" style=""> 278         if (tagString == null) {                                                                         </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 279             setTags(tags);                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 280             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281         }                                                                                                </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 282         // Make sure string has a trailing space                                                         </span>
<span class="8939389089620494575" onmouseenter="enter('8939389089620494575');" onmouseout="out('8939389089620494575');" style=""> 283         if ((tagString.length() &gt; 1) &amp;&amp; (!tagString.substring(tagString.length() - 1).equals(SPACE))) {  </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 284             tagString = tagString + SPACE;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285         }                                                                                                </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 286         // for comparing case-insensitive strings, would like to find a way to                           </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 287         // do this without allocating a new list and strings                                             </span>
<span class="5881300344958500433" onmouseenter="enter('5881300344958500433');" onmouseout="out('5881300344958500433');" style=""> 288         List&lt;String&gt; tagsUpperCase = new ArrayList&lt;&gt;();                                                  </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 289         // remove all current tags                                                                       </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 290         int start = 0;                                                                                   </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 291         int next = -1;                                                                                   </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 292         String possible;                                                                                 </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 293         String possibleUpperCase;                                                                        </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 294         // search tag string for space characters and pull out individual tags                           </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 295         do {                                                                                             </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 296             next = tagString.indexOf(SPACE, start);                                                      </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 297             if (next &gt; start) {                                                                          </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 298                 possible = tagString.substring(start, next);                                             </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 299                 possibleUpperCase = possible.toUpperCase();                                              </span>
<span class="6839320511933409882" onmouseenter="enter('6839320511933409882');" onmouseout="out('6839320511933409882');" style=""> 300                 if ((!possible.equals(SPACE)) &amp;&amp; (!tagsUpperCase.contains(possibleUpperCase))) {         </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 301                     tagsUpperCase.add(possibleUpperCase);                                                </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 302                     tags.add(possible);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304             }                                                                                            </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 305             start = next + 1;                                                                            </span>
<span class="-4126578156631842150" onmouseenter="enter('-4126578156631842150');" onmouseout="out('-4126578156631842150');" style=""> 306         } while (next &gt; (-1) );                                                                          </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 307         setTags(tags);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308     }                                                                                                    </span>
<span  style=""> 309                                                                                                          </span>
<span class="-2380080839978865436" onmouseenter="enter('-2380080839978865436');" onmouseout="out('-2380080839978865436');" style=""> 310     public JSONArray getSystemTags() {                                                                   </span>
<span class="1634689045753216867" onmouseenter="enter('1634689045753216867');" onmouseout="out('1634689045753216867');" style=""> 311         JSONArray tags = (JSONArray) getProperty(SYSTEM_TAGS_PROPERTY);                                  </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 312         if (tags == null) {                                                                              </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 313             tags = new JSONArray();                                                                      </span>
<span class="8109738276011217421" onmouseenter="enter('8109738276011217421');" onmouseout="out('8109738276011217421');" style=""> 314             setProperty(SYSTEM_TAGS_PROPERTY, tags);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315         }                                                                                                </span>
<span class="-7737333077028274174" onmouseenter="enter('-7737333077028274174');" onmouseout="out('-7737333077028274174');" style=""> 316         return tags;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317     }                                                                                                    </span>
<span  style=""> 318                                                                                                          </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 319     public Boolean isDeleted() {                                                                         </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 320         Object deleted = getProperty(DELETED_PROPERTY);                                                  </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 321         if (deleted == null) {                                                                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 322             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323         }                                                                                                </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 324         if (deleted instanceof Boolean) {                                                                </span>
<span class="-8819612678345028356" onmouseenter="enter('-8819612678345028356');" onmouseout="out('-8819612678345028356');" style=""> 325             return ((Boolean) (deleted));                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 326         } else {                                                                                         </span>
<span class="-4628834776911079654" onmouseenter="enter('-4628834776911079654');" onmouseout="out('-4628834776911079654');" style=""> 327             return (deleted instanceof Number) &amp;&amp; (((Number) (deleted)).intValue() != 0);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329     }                                                                                                    </span>
<span  style=""> 330                                                                                                          </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 331     public void setDeleted(boolean deleted) {                                                            </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 332         setProperty(DELETED_PROPERTY, deleted);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333     }                                                                                                    </span>
<span  style=""> 334                                                                                                          </span>
<span class="5985631777888601261" onmouseenter="enter('5985631777888601261');" onmouseout="out('5985631777888601261');" style=""> 335     public boolean isMarkdownEnabled() {                                                                 </span>
<span class="-5743540823315516839" onmouseenter="enter('-5743540823315516839');" onmouseout="out('-5743540823315516839');" style=""> 336         return hasSystemTag(MARKDOWN_TAG);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337     }                                                                                                    </span>
<span  style=""> 338                                                                                                          </span>
<span class="-2232443542975324273" onmouseenter="enter('-2232443542975324273');" onmouseout="out('-2232443542975324273');" style=""> 339     public void setMarkdownEnabled(boolean isMarkdownEnabled) {                                          </span>
<span class="5908341161553131781" onmouseenter="enter('5908341161553131781');" onmouseout="out('5908341161553131781');" style=""> 340         if (isMarkdownEnabled) {                                                                         </span>
<span class="-7185185989369936008" onmouseenter="enter('-7185185989369936008');" onmouseout="out('-7185185989369936008');" style=""> 341             addSystemTag(MARKDOWN_TAG);                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342         } else {                                                                                         </span>
<span class="1430034125671484052" onmouseenter="enter('1430034125671484052');" onmouseout="out('1430034125671484052');" style=""> 343             removeSystemTag(MARKDOWN_TAG);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345     }                                                                                                    </span>
<span  style=""> 346                                                                                                          </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 347     public boolean isPinned() {                                                                          </span>
<span class="7436893036029851482" onmouseenter="enter('7436893036029851482');" onmouseout="out('7436893036029851482');" style=""> 348         return hasSystemTag(PINNED_TAG);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349     }                                                                                                    </span>
<span  style=""> 350                                                                                                          </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 351     public void setPinned(boolean isPinned) {                                                            </span>
<span class="-8977010770732050857" onmouseenter="enter('-8977010770732050857');" onmouseout="out('-8977010770732050857');" style=""> 352         if (isPinned) {                                                                                  </span>
<span class="-705489752486798560" onmouseenter="enter('-705489752486798560');" onmouseout="out('-705489752486798560');" style=""> 353             addSystemTag(PINNED_TAG);                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 354         } else {                                                                                         </span>
<span class="5010790157822780054" onmouseenter="enter('5010790157822780054');" onmouseout="out('5010790157822780054');" style=""> 355             removeSystemTag(PINNED_TAG);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357     }                                                                                                    </span>
<span  style=""> 358                                                                                                          </span>
<span class="5049304787018344959" onmouseenter="enter('5049304787018344959');" onmouseout="out('5049304787018344959');" style=""> 359     public boolean isPublished() {                                                                       </span>
<span class="-3313218062555121548" onmouseenter="enter('-3313218062555121548');" onmouseout="out('-3313218062555121548');" style=""> 360         return hasSystemTag(PUBLISHED_TAG) &amp;&amp; !TextUtils.isEmpty(getPublishedUrl());                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361     }                                                                                                    </span>
<span  style=""> 362                                                                                                          </span>
<span class="-1996001930026199474" onmouseenter="enter('-1996001930026199474');" onmouseout="out('-1996001930026199474');" style=""> 363     public void setPublished(boolean isPublished) {                                                      </span>
<span class="-214835194616400293" onmouseenter="enter('-214835194616400293');" onmouseout="out('-214835194616400293');" style=""> 364         if (isPublished) {                                                                               </span>
<span class="6614236660148008937" onmouseenter="enter('6614236660148008937');" onmouseout="out('6614236660148008937');" style=""> 365             addSystemTag(PUBLISHED_TAG);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 366         } else {                                                                                         </span>
<span class="-3125520029372940316" onmouseenter="enter('-3125520029372940316');" onmouseout="out('-3125520029372940316');" style=""> 367             removeSystemTag(PUBLISHED_TAG);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369     }                                                                                                    </span>
<span  style=""> 370                                                                                                          </span>
<span class="8481041411290642641" onmouseenter="enter('8481041411290642641');" onmouseout="out('8481041411290642641');" style=""> 371     private boolean hasSystemTag(String tag) {                                                           </span>
<span class="-1472869558903340894" onmouseenter="enter('-1472869558903340894');" onmouseout="out('-1472869558903340894');" style=""> 372         if (TextUtils.isEmpty(tag))                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 373             return false;                                                                                </span>
<span  style=""> 374                                                                                                          </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 375         JSONArray tags = getSystemTags();                                                                </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 376         int length = tags.length();                                                                      </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 377         for (int i=0; i&lt;length; i++) {                                                                   </span>
<span class="1029161545303231138" onmouseenter="enter('1029161545303231138');" onmouseout="out('1029161545303231138');" style=""> 378             if (tags.optString(i).equals(tag)) {                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 379                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381         }                                                                                                </span>
<span  style=""> 382                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 383         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384     }                                                                                                    </span>
<span  style=""> 385                                                                                                          </span>
<span class="-1886965851517885412" onmouseenter="enter('-1886965851517885412');" onmouseout="out('-1886965851517885412');" style=""> 386     private void addSystemTag(String tag) {                                                              </span>
<span class="-7266652503291305395" onmouseenter="enter('-7266652503291305395');" onmouseout="out('-7266652503291305395');" style=""> 387         if (TextUtils.isEmpty(tag)) {                                                                    </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 388             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389         }                                                                                                </span>
<span  style=""> 390                                                                                                          </span>
<span class="4034934261619610009" onmouseenter="enter('4034934261619610009');" onmouseout="out('4034934261619610009');" style=""> 391         // Ensure we don&#x27;t add the same tag again                                                        </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 392         if (!hasSystemTag(tag)) {                                                                        </span>
<span class="-2655750625237705417" onmouseenter="enter('-2655750625237705417');" onmouseout="out('-2655750625237705417');" style=""> 393             getSystemTags().put(tag);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395     }                                                                                                    </span>
<span  style=""> 396                                                                                                          </span>
<span class="-6272346588769055483" onmouseenter="enter('-6272346588769055483');" onmouseout="out('-6272346588769055483');" style=""> 397     private void removeSystemTag(String tag) {                                                           </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 398         if (!hasSystemTag(tag)) {                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 399             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400         }                                                                                                </span>
<span  style=""> 401                                                                                                          </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 402         JSONArray tags = getSystemTags();                                                                </span>
<span class="6472000112597211426" onmouseenter="enter('6472000112597211426');" onmouseout="out('6472000112597211426');" style=""> 403         JSONArray newTags = new JSONArray();                                                             </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 404         int length = tags.length();                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 405         try {                                                                                            </span>
<span class="6908715651536326362" onmouseenter="enter('6908715651536326362');" onmouseout="out('6908715651536326362');" style=""> 406             for (int i = 0; i &lt; length; i++) {                                                           </span>
<span class="5751642819386913624" onmouseenter="enter('5751642819386913624');" onmouseout="out('5751642819386913624');" style=""> 407                 Object val = tags.get(i);                                                                </span>
<span class="7076458285668173093" onmouseenter="enter('7076458285668173093');" onmouseout="out('7076458285668173093');" style=""> 408                 if (!val.equals(tag))                                                                    </span>
<span class="-6329059091210941964" onmouseenter="enter('-6329059091210941964');" onmouseout="out('-6329059091210941964');" style=""> 409                     newTags.put(val);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410             }                                                                                            </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 411         } catch (JSONException e) {                                                                      </span>
<span class="4377813279323840039" onmouseenter="enter('4377813279323840039');" onmouseout="out('4377813279323840039');" style=""> 412             // could not update pinned setting                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413         }                                                                                                </span>
<span  style=""> 414                                                                                                          </span>
<span class="8301502673130902229" onmouseenter="enter('8301502673130902229');" onmouseout="out('8301502673130902229');" style=""> 415         setProperty(SYSTEM_TAGS_PROPERTY, newTags);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416     }                                                                                                    </span>
<span  style=""> 417                                                                                                          </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 418     public static String dateString(Number time, boolean useShortFormat, Context context){               </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 419         Calendar c = numberToDate(time);                                                                 </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 420         return dateString(c, useShortFormat, context);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421     }                                                                                                    </span>
<span  style=""> 422                                                                                                          </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 423 public static String dateString(Calendar c, boolean useShortFormat, Context context) {                   </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 424 	int year, month, day;                                                                                   </span>
<span  style=""> 425                                                                                                          </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 426 	String time, date, retVal;                                                                              </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 427 	time = date = &quot;&quot;;                                                                                       </span>
<span  style=""> 428                                                                                                          </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 429 	Calendar diff = Calendar.getInstance();                                                                 </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 430 	diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                     </span>
<span  style=""> 431                                                                                                          </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 432 	year = diff.get(Calendar.YEAR);                                                                         </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 433 	month = diff.get(Calendar.MONTH);                                                                       </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 434 	day = diff.get(Calendar.DAY_OF_MONTH);                                                                  </span>
<span  style=""> 435                                                                                                          </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 436 	diff.setTimeInMillis(0); // starting time                                                               </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 437 	time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                                </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 438 	if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 438 	if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(CalendaðŸ”µ</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 439 		date = context.getResources().getString(R.string.today);                                               </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 440 		if (useShortFormat)                                                                                    </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 441 			retVal = time;                                                                                        </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 442 		else                                                                                                   </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 443 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 444 	} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {    </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 445 		date = context.getResources().getString(R.string.yesterday);                                           </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 446 		if (useShortFormat)                                                                                    </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 447 			retVal = date;                                                                                        </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 448 		else                                                                                                   </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 449 			retVal = date + &quot;, &quot; + time;                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 450 	} else {                                                                                                </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 451 		date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                  </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 452 		retVal = date + &quot;, &quot; + time;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453 	}                                                                                                       </span>
<span  style=""> 454                                                                                                          </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 455 	return retVal;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456 }                                                                                                        </span>
<span  style=""> 457                                                                                                          </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 458     public static Calendar numberToDate(Number time){                                                    </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 459         Calendar date = Calendar.getInstance();                                                          </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 460         if (time != null) {                                                                              </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 461             // Flick Note uses millisecond resolution timestamps Simplenote expects seconds              </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 462             // since we only deal with create and modify timestamps, they should all have occured        </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 463             // at the present time or in the past.                                                       </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 464             float now = date.getTimeInMillis()/1000;                                                     </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 465             float magnitude = time.floatValue()/now;                                                     </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 466             if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                          </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 467             date.setTimeInMillis(time.longValue()*1000);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468         }                                                                                                </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 469         return date;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 470     }                                                                                                    </span>
<span  style=""> 471                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 472     /**                                                                                                  </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 473      * Check if the note has any changes                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 474      *                                                                                                   </span>
<span class="58280437449117012" onmouseenter="enter('58280437449117012');" onmouseout="out('58280437449117012');" style=""> 475      * @param content                                                                                    </span>
<span class="2270636674354310558" onmouseenter="enter('2270636674354310558');" onmouseout="out('2270636674354310558');" style=""> 476      * 		the new note content                                                                            </span>
<span class="-1373819993935816490" onmouseenter="enter('-1373819993935816490');" onmouseout="out('-1373819993935816490');" style=""> 477      * @param tagString                                                                                  </span>
<span class="3194623345160487752" onmouseenter="enter('3194623345160487752');" onmouseout="out('3194623345160487752');" style=""> 478      * 		space separated tags                                                                            </span>
<span class="2619818050980319117" onmouseenter="enter('2619818050980319117');" onmouseout="out('2619818050980319117');" style=""> 479      * @param isPinned                                                                                   </span>
<span class="-3821516483955157356" onmouseenter="enter('-3821516483955157356');" onmouseout="out('-3821516483955157356');" style=""> 480      * 		note is pinned                                                                                  </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 481      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 482      * @return true if note has changes, false if it is unchanged.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 483      */                                                                                                  </span>
<span class="8766619927564191135" onmouseenter="enter('8766619927564191135');" onmouseout="out('8766619927564191135');" style=""><abbr title=" 484     public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnabled) {"> 484     public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnablðŸ”µ</abbr></span>
<span class="4357566189963201346" onmouseenter="enter('4357566189963201346');" onmouseout="out('4357566189963201346');" style=""><abbr title=" 485         return (((!content.equals(this.getContent())) || (!tagString.equals(this.getTagString().toString()))) || (this.isPinned() != isPinned)) || (this.isMarkdownEnabled() != isMarkdownEnabled);"> 485         return (((!content.equals(this.getContent())) || (!tagString.equals(this.getTagString().toString(ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487 }                                                                                                        </span>


</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1  package com.automattic.simplenote.models;                                                                         </span>
<span  style="">   2                                                                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   3  import android.content.Context;                                                                                   </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">   4  import android.text.TextUtils;                                                                                    </span>
<span  style="">   5                                                                                                                    </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">   6  import com.automattic.simplenote.R;                                                                               </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">   7  import com.simperium.client.Bucket;                                                                               </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">   8  import com.simperium.client.BucketObject;                                                                         </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">   9  import com.simperium.client.BucketSchema;                                                                         </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  10  import com.simperium.client.Query;                                                                                </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  11  import com.simperium.client.Query.ComparisonType;                                                                 </span>
<span  style="">  12                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  13  import org.json.JSONArray;                                                                                        </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  14  import org.json.JSONException;                                                                                    </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  15  import org.json.JSONObject;                                                                                       </span>
<span  style="">  16                                                                                                                    </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  17  import java.text.DateFormat;                                                                                      </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">  18  import java.text.SimpleDateFormat;                                                                                </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  19  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  20  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  21  import java.util.List;                                                                                            </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">  22  import java.util.Locale;                                                                                          </span>
<span  style="">  23                                                                                                                    </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  24  public class Note extends BucketObject {                                                                          </span>
<span  style="">  25                                                                                                                    </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  26  	public static final String BUCKET_NAME=&quot;note&quot;;                                                                   </span>

<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  27      public static final String PINNED_TAG=&quot;pinned&quot;;                                                               </span>
<span class="-6422125408414574041" onmouseenter="enter('-6422125408414574041');" onmouseout="out('-6422125408414574041');" style="">  28      public static final String PUBLISHED_TAG=&quot;published&quot;;                                                         </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  29      public static final String NEW_LINE=&quot;\n&quot;;                                                                     </span>
<span  style="">  30                                                                                                                    </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  31      private static final String BLANK_CONTENT=&quot;&quot;;                                                                 </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  32      private static final String SPACE = &quot; &quot;;                                                                      </span>
<span class="7999038666256371202" onmouseenter="enter('7999038666256371202');" onmouseout="out('7999038666256371202');" style="">  33      private static final int MAX_PREVIEW_CHARS = 300;                                                             </span>
<span  style="">  34                                                                                                                    </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  35      public static final String CONTENT_PROPERTY=&quot;content&quot;;                                                        </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  36      public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                              </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  37      public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                                 </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  38      public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                             </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  39      public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                                     </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  40      public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                                     </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  41      public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                                 </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  42      public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                                        </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  43      public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                          </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  44      public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                                       </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  45      public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                                        </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  46      public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                                    </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  47      public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                                      </span>
<span class="1608351220765126281" onmouseenter="enter('1608351220765126281');" onmouseout="out('1608351220765126281');" style="">  48      public static final String MATCHED_TITLE_INDEX_NAME=&quot;matchedTitle&quot;;                                           </span>
<span class="-1584079946243370568" onmouseenter="enter('-1584079946243370568');" onmouseout="out('-1584079946243370568');" style="">  49      public static final String MATCHED_CONTENT_INDEX_NAME=&quot;matchedContent&quot;;                                       </span>
<span class="5531379197968857197" onmouseenter="enter('5531379197968857197');" onmouseout="out('5531379197968857197');" style="">  50      public static final String PUBLISH_URL=&quot;http://simp.ly/publish/&quot;;                                             </span>
<span  style="">  51                                                                                                                    </span>
<span class="2475488422216258991" onmouseenter="enter('2475488422216258991');" onmouseout="out('2475488422216258991');" style="">  52      static public final String[] FULL_TEXT_INDEXES = new String[]{                                                </span>
<span class="-4155540479552840166" onmouseenter="enter('-4155540479552840166');" onmouseout="out('-4155540479552840166');" style="">  53          Note.TITLE_INDEX_NAME, Note.CONTENT_PROPERTY };                                                           </span>
<span  style="">  54                                                                                                                    </span>
<span class="6617027899127222559" onmouseenter="enter('6617027899127222559');" onmouseout="out('6617027899127222559');" style="">  55  	protected String mTitle = null;                                                                                  </span>
<span class="-1758175371106332326" onmouseenter="enter('-1758175371106332326');" onmouseout="out('-1758175371106332326');" style="">  56  	protected String mContentPreview = null;                                                                         </span>
<span  style="">  57                                                                                                                    </span>
<span  style="">  58                                                                                                                    </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  59  	public static class Schema extends BucketSchema&lt;Note&gt; {                                                          </span>
<span  style="">  60                                                                                                                    </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  61          protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                            </span>
<span class="-8196684505127442187" onmouseenter="enter('-8196684505127442187');" onmouseout="out('-8196684505127442187');" style="">  62          protected static NoteFullTextIndexer sFullTextIndexer = new NoteFullTextIndexer();                        </span>
<span  style="">  63                                                                                                                    </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  64          public Schema(){                                                                                          </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  65              autoIndex();                                                                                          </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="">  66              addIndex(sNoteIndexer);                                                                               </span>
<span class="-3392547141042614111" onmouseenter="enter('-3392547141042614111');" onmouseout="out('-3392547141042614111');" style="">  67              setupFullTextIndex(sFullTextIndexer, NoteFullTextIndexer.INDEXES);                                    </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  68              setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                                     </span>
<span class="-2554467534039091654" onmouseenter="enter('-2554467534039091654');" onmouseout="out('-2554467534039091654');" style="">  69              setDefault(SYSTEM_TAGS_PROPERTY, new JSONArray());                                                    </span>
<span class="228359577715990029" onmouseenter="enter('228359577715990029');" onmouseout="out('228359577715990029');" style="">  70              setDefault(TAGS_PROPERTY, new JSONArray());                                                           </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  71              setDefault(DELETED_PROPERTY, false);                                                                  </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  72              setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                                   </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  73              setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74          }                                                                                                         </span>
<span  style="">  75                                                                                                                    </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  76          public String getRemoteName(){                                                                            </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  77              return Note.BUCKET_NAME;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78          }                                                                                                         </span>
<span  style="">  79                                                                                                                    </span>
<span class="-4946235729406468677" onmouseenter="enter('-4946235729406468677');" onmouseout="out('-4946235729406468677');" style="">  80          public Note build(String key, JSONObject properties) {                                                    </span>
<span class="-2808542273143064496" onmouseenter="enter('-2808542273143064496');" onmouseout="out('-2808542273143064496');" style="">  81              return new Note(key, properties);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  82          }                                                                                                         </span>
<span  style="">  83                                                                                                                    </span>
<span class="2318790323390762687" onmouseenter="enter('2318790323390762687');" onmouseout="out('2318790323390762687');" style="">  84          public void update(Note note, JSONObject properties) {                                                    </span>
<span class="-3717338000153341316" onmouseenter="enter('-3717338000153341316');" onmouseout="out('-3717338000153341316');" style="">  85              note.setProperties(properties);                                                                       </span>
<span class="-731284339738821488" onmouseenter="enter('-731284339738821488');" onmouseout="out('-731284339738821488');" style="">  86              note.mTitle = null;                                                                                   </span>
<span class="6645980171711348815" onmouseenter="enter('6645980171711348815');" onmouseout="out('6645980171711348815');" style="">  87              note.mContentPreview = null;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89  	}                                                                                                                </span>
<span  style="">  90                                                                                                                    </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  91      public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  92          return noteBucket.query()                                                                                 </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  93                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94      }                                                                                                             </span>
<span  style="">  95                                                                                                                    </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  96      public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                                </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  97          return noteBucket.query()                                                                                 </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style="">  98                  .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99      }                                                                                                             </span>
<span  style=""> 100                                                                                                                    </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 101      public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                               </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 102          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 103                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 104                  .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105      }                                                                                                             </span>
<span  style=""> 106                                                                                                                    </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 107      public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 108          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 109                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 110                  .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111      }                                                                                                             </span>
<span  style=""> 112                                                                                                                    </span>
<span  style=""> 113                                                                                                                    </span>
<span class="767263449852825375" onmouseenter="enter('767263449852825375');" onmouseout="out('767263449852825375');" style=""> 114      public Note(String key) {                                                                                     </span>
<span class="-8964647538928034033" onmouseenter="enter('-8964647538928034033');" onmouseout="out('-8964647538928034033');" style=""> 115          super(key, new JSONObject());                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116      }                                                                                                             </span>
<span  style=""> 117                                                                                                                    </span>
<span class="8617384997772879313" onmouseenter="enter('8617384997772879313');" onmouseout="out('8617384997772879313');" style=""> 118      public Note(String key, JSONObject properties) {                                                              </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 119          super(key, properties);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120      }                                                                                                             </span>
<span  style=""> 121                                                                                                                    </span>
<span class="6373335669519535085" onmouseenter="enter('6373335669519535085');" onmouseout="out('6373335669519535085');" style=""> 122      protected void updateTitleAndPreview() {                                                                      </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 123          // try to build a title and preview property out of content                                               </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 124          String content = getContent().trim();                                                                     </span>
<span class="327463840444924073" onmouseenter="enter('327463840444924073');" onmouseout="out('327463840444924073');" style=""> 125          if (content.length() &gt; MAX_PREVIEW_CHARS) {                                                               </span>
<span class="-8480236902805956072" onmouseenter="enter('-8480236902805956072');" onmouseout="out('-8480236902805956072');" style=""> 126              content = content.substring(0, MAX_PREVIEW_CHARS - 1);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127          }                                                                                                         </span>
<span  style=""> 128                                                                                                                    </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 129          int firstNewLinePosition = content.indexOf(NEW_LINE);                                                     </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 130          if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                            </span>
<span class="-397121944761876346" onmouseenter="enter('-397121944761876346');" onmouseout="out('-397121944761876346');" style=""> 131              mTitle = content.substring(0, firstNewLinePosition).trim();                                           </span>
<span  style=""> 132                                                                                                                    </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 133              if (firstNewLinePosition &lt; content.length()) {                                                        </span>
<span class="3544130446617579720" onmouseenter="enter('3544130446617579720');" onmouseout="out('3544130446617579720');" style=""> 134                  mContentPreview = content.substring(firstNewLinePosition, content.length());                      </span>
<span class="-5260179913697335726" onmouseenter="enter('-5260179913697335726');" onmouseout="out('-5260179913697335726');" style=""> 135                  mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136              }                                                                                                     </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 137              else {                                                                                                </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 138                  mContentPreview = content;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140          }                                                                                                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 141          else {                                                                                                    </span>
<span class="6158164289681498296" onmouseenter="enter('6158164289681498296');" onmouseout="out('6158164289681498296');" style=""> 142              mTitle = content;                                                                                     </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 143              mContentPreview = content;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145      }                                                                                                             </span>
<span  style=""> 146                                                                                                                    </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 147  	public String getTitle() {                                                                                       </span>
<span class="5880156293984643419" onmouseenter="enter('5880156293984643419');" onmouseout="out('5880156293984643419');" style=""> 148          if (mTitle == null) {                                                                                     </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 149              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150          }                                                                                                         </span>
<span class="-7721657982940010876" onmouseenter="enter('-7721657982940010876');" onmouseout="out('-7721657982940010876');" style=""> 151  		return mTitle;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152  	}                                                                                                                </span>
<span  style=""> 153                                                                                                                    </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 154  	public String getContent() {                                                                                     </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 155          Object content = getProperty(CONTENT_PROPERTY);                                                           </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 156          if (content == null) {                                                                                    </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 157              return BLANK_CONTENT;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158          }                                                                                                         </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 159          return (String) content;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160  	}                                                                                                                </span>
<span  style=""> 161                                                                                                                    </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 162  	public void setContent(String content) {                                                                         </span>
<span class="6017523628383929627" onmouseenter="enter('6017523628383929627');" onmouseout="out('6017523628383929627');" style=""> 163          mTitle = null;                                                                                            </span>
<span class="7468898004511818931" onmouseenter="enter('7468898004511818931');" onmouseout="out('7468898004511818931');" style=""> 164          mContentPreview = null;                                                                                   </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 165          setProperty(CONTENT_PROPERTY, content);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166  	}                                                                                                                </span>
<span  style=""> 167                                                                                                                    </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 168  	public String getContentPreview() {                                                                              </span>
<span class="-8081599038098376119" onmouseenter="enter('-8081599038098376119');" onmouseout="out('-8081599038098376119');" style=""> 169          if (mContentPreview == null) {                                                                            </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 170              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171          }                                                                                                         </span>
<span class="-7686656279835722897" onmouseenter="enter('-7686656279835722897');" onmouseout="out('-7686656279835722897');" style=""> 172  		return mContentPreview;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173  	}                                                                                                                </span>
<span  style=""> 174                                                                                                                    </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 175  	public Calendar getCreationDate() {                                                                              </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 176          return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177  	}                                                                                                                </span>
<span  style=""> 178                                                                                                                    </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 179  	public void setCreationDate(Calendar creationDate) {                                                             </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 180          setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181  	}                                                                                                                </span>
<span  style=""> 182                                                                                                                    </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 183  	public Calendar getModificationDate() {                                                                          </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 184          return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185  	}                                                                                                                </span>
<span  style=""> 186                                                                                                                    </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 187  	public void setModificationDate(Calendar modificationDate) {                                                     </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 188          setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189  	}                                                                                                                </span>
<span  style=""> 190                                                                                                                    </span>
<span class="3367289575484325214" onmouseenter="enter('3367289575484325214');" onmouseout="out('3367289575484325214');" style=""> 191      public String getPublishedUrl() {                                                                             </span>
<span class="-6172413358098126997" onmouseenter="enter('-6172413358098126997');" onmouseout="out('-6172413358098126997');" style=""> 192          String urlCode = (String)getProperty(PUBLISH_URL_PROPERTY);                                               </span>
<span class="7900565639772953850" onmouseenter="enter('7900565639772953850');" onmouseout="out('7900565639772953850');" style=""> 193          if (TextUtils.isEmpty(urlCode)) {                                                                         </span>
<span class="-8289946804601166879" onmouseenter="enter('-8289946804601166879');" onmouseout="out('-8289946804601166879');" style=""> 194              return &quot;&quot;;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195          }                                                                                                         </span>
<span  style=""> 196                                                                                                                    </span>
<span class="-8429126260993259062" onmouseenter="enter('-8429126260993259062');" onmouseout="out('-8429126260993259062');" style=""> 197          return PUBLISH_URL + urlCode;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198      }                                                                                                             </span>
<span  style=""> 199                                                                                                                    </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 200      public boolean hasTag(String tag){                                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 201          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 202          String tagLower = tag.toLowerCase();                                                                      </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 203          for (String tagName : tags) {                                                                             </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 204              if (tagLower.equals(tagName.toLowerCase())) return true;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 206          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207      }                                                                                                             </span>
<span  style=""> 208                                                                                                                    </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 209      public boolean hasTag(Tag tag){                                                                               </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 210          return hasTag(tag.getSimperiumKey());                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211      }                                                                                                             </span>
<span  style=""> 212                                                                                                                    </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 213      public List&lt;String&gt; getTags() {                                                                               </span>
<span  style=""> 214                                                                                                                    </span>
<span class="5046858882238824028" onmouseenter="enter('5046858882238824028');" onmouseout="out('5046858882238824028');" style=""> 215          JSONArray tags = (JSONArray) getProperty(TAGS_PROPERTY);                                                  </span>
<span  style=""> 216                                                                                                                    </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 217          if (tags == null) {                                                                                       </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 218              tags = new JSONArray();                                                                               </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 219              setProperty(TAGS_PROPERTY, tags);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220          }                                                                                                         </span>
<span  style=""> 221                                                                                                                    </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 222          int length = tags.length();                                                                               </span>
<span  style=""> 223                                                                                                                    </span>
<span class="2843513398657351912" onmouseenter="enter('2843513398657351912');" onmouseout="out('2843513398657351912');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 224 -        List&lt;String&gt; tagList = new ArrayList&lt;String&gt;(length);                                                     </span>
<span class="-7737950325994950460" onmouseenter="enter('-7737950325994950460');" onmouseout="out('-7737950325994950460');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +        List&lt;String&gt; tagList = new ArrayList&lt;&gt;(length);                                                           </span>
<span  style=""> 226                                                                                                                    </span>
<span class="8256074331736484026" onmouseenter="enter('8256074331736484026');" onmouseout="out('8256074331736484026');" style=""> 227          if (length == 0) return tagList;                                                                          </span>
<span  style=""> 228                                                                                                                    </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 229          for (int i=0; i&lt;length; i++) {                                                                            </span>
<span class="-8917993594954591540" onmouseenter="enter('-8917993594954591540');" onmouseout="out('-8917993594954591540');" style=""> 230              String tag = tags.optString(i);                                                                       </span>
<span class="-1947204619891178088" onmouseenter="enter('-1947204619891178088');" onmouseout="out('-1947204619891178088');" style=""> 231              if (!tag.equals(&quot;&quot;))                                                                                  </span>
<span class="2557583924535716267" onmouseenter="enter('2557583924535716267');" onmouseout="out('2557583924535716267');" style=""> 232                  tagList.add(tag);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233          }                                                                                                         </span>
<span  style=""> 234                                                                                                                    </span>
<span class="-3183448331203603949" onmouseenter="enter('-3183448331203603949');" onmouseout="out('-3183448331203603949');" style=""> 235          return tagList;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236      }                                                                                                             </span>
<span  style=""> 237                                                                                                                    </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 238      public void setTags(List&lt;String&gt; tags) {                                                                      </span>
<span class="-8982714688054322872" onmouseenter="enter('-8982714688054322872');" onmouseout="out('-8982714688054322872');" style=""> 239          setProperty(TAGS_PROPERTY, new JSONArray(tags));                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span  style=""> 241                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 242      /**                                                                                                           </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 243       * String of tags delimited by a space                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 244       */                                                                                                           </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 245      public CharSequence getTagString(){                                                                           </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 246          StringBuilder tagString = new StringBuilder();                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 247          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 248          for(String tag : tags){                                                                                   </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 249              if (tagString.length() &gt; 0) {                                                                         </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 250                  tagString.append(SPACE);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251              }                                                                                                     </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 252              tagString.append(tag);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253          }                                                                                                         </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 254          return tagString;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255      }                                                                                                             </span>
<span  style=""> 256                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 257      /**                                                                                                           </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 258       * Sets the note&#x27;s tags by providing it with a {@link String} of space                                        </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 259       * seperated tags. Filters out duplicate tags.                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 260       *                                                                                                            </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 261       * @param tagString a space delimited list of tags                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 262       */                                                                                                           </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 263      public void setTagString(String tagString){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 264          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 265          tags.clear();                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="7647632027089311583" onmouseenter="enter('7647632027089311583');" onmouseout="out('7647632027089311583');" style=""> 267          if (tagString == null) {                                                                                  </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 268              setTags(tags);                                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 269              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270          }                                                                                                         </span>
<span  style=""> 271                                                                                                                    </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 272          // Make sure string has a trailing space                                                                  </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 273          if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))                 </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 274              tagString = tagString + SPACE;                                                                        </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 275          // for comparing case-insensitive strings, would like to find a way to                                    </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 276          // do this without allocating a new list and strings                                                      </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 277 -        List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                                     </span>
<span class="5881300344958500433" onmouseenter="enter('5881300344958500433');" onmouseout="out('5881300344958500433');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +        List&lt;String&gt; tagsUpperCase = new ArrayList&lt;&gt;();                                                           </span>
<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 279          // remove all current tags                                                                                </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 280          int start = 0;                                                                                            </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 281          int next = -1;                                                                                            </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 282          String possible;                                                                                          </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 283          String possibleUpperCase;                                                                                 </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 284          // search tag string for space characters and pull out individual tags                                    </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 285          do {                                                                                                      </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 286              next = tagString.indexOf(SPACE, start);                                                               </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 287              if (next &gt; start) {                                                                                   </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 288                  possible = tagString.substring(start, next);                                                      </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 289                  possibleUpperCase = possible.toUpperCase();                                                       </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 290                  if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {                      </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 291                      tagsUpperCase.add(possibleUpperCase);                                                         </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 292                      tags.add(possible);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294              }                                                                                                     </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 295              start = next + 1;                                                                                     </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 296          } while(next &gt; -1);                                                                                       </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 297          setTags(tags);                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298      }                                                                                                             </span>
<span  style=""> 299                                                                                                                    </span>
<span class="-2380080839978865436" onmouseenter="enter('-2380080839978865436');" onmouseout="out('-2380080839978865436');" style=""> 300      public JSONArray getSystemTags() {                                                                            </span>
<span class="1634689045753216867" onmouseenter="enter('1634689045753216867');" onmouseout="out('1634689045753216867');" style=""> 301          JSONArray tags = (JSONArray) getProperty(SYSTEM_TAGS_PROPERTY);                                           </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 302          if (tags == null) {                                                                                       </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 303              tags = new JSONArray();                                                                               </span>
<span class="8109738276011217421" onmouseenter="enter('8109738276011217421');" onmouseout="out('8109738276011217421');" style=""> 304              setProperty(SYSTEM_TAGS_PROPERTY, tags);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305          }                                                                                                         </span>
<span class="-7737333077028274174" onmouseenter="enter('-7737333077028274174');" onmouseout="out('-7737333077028274174');" style=""> 306          return tags;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307      }                                                                                                             </span>
<span  style=""> 308                                                                                                                    </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 309  	public Boolean isDeleted() {                                                                                     </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 310          Object deleted = getProperty(DELETED_PROPERTY);                                                           </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 311          if (deleted == null) {                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 312              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313          }                                                                                                         </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 314          if (deleted instanceof Boolean) {                                                                         </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 315              return (Boolean) deleted;                                                                             </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 316 -        } else if (deleted instanceof Number) {                                                                   </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 317 -            return ((Number)deleted).intValue() == 0 ? false : true;                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 318 -        } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 319 -            return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 320 -        }                                                                                                         </span>
<span class="501686333951387696" onmouseenter="enter('501686333951387696');" onmouseout="out('501686333951387696');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 321 +        } else                                                                                                    </span>
<span class="2375816303299771461" onmouseenter="enter('2375816303299771461');" onmouseout="out('2375816303299771461');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +            return deleted instanceof Number &amp;&amp; ((Number) deleted).intValue() != 0;                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323      }                                                                                                             </span>
<span  style=""> 324                                                                                                                    </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 325      public void setDeleted(boolean deleted) {                                                                     </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 326          setProperty(DELETED_PROPERTY, deleted);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327      }                                                                                                             </span>
<span  style=""> 328                                                                                                                    </span>












<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 329      public boolean isPinned() {                                                                                   </span>
<span class="7436893036029851482" onmouseenter="enter('7436893036029851482');" onmouseout="out('7436893036029851482');" style=""> 330          return hasSystemTag(PINNED_TAG);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331      }                                                                                                             </span>
<span  style=""> 332                                                                                                                    </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 333      public void setPinned(boolean isPinned) {                                                                     </span>
<span class="-8977010770732050857" onmouseenter="enter('-8977010770732050857');" onmouseout="out('-8977010770732050857');" style=""> 334          if (isPinned) {                                                                                           </span>
<span class="-705489752486798560" onmouseenter="enter('-705489752486798560');" onmouseout="out('-705489752486798560');" style=""> 335              addSystemTag(PINNED_TAG);                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 336          } else {                                                                                                  </span>
<span class="5010790157822780054" onmouseenter="enter('5010790157822780054');" onmouseout="out('5010790157822780054');" style=""> 337              removeSystemTag(PINNED_TAG);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339      }                                                                                                             </span>
<span  style=""> 340                                                                                                                    </span>
<span class="5049304787018344959" onmouseenter="enter('5049304787018344959');" onmouseout="out('5049304787018344959');" style=""> 341      public boolean isPublished() {                                                                                </span>
<span class="-3313218062555121548" onmouseenter="enter('-3313218062555121548');" onmouseout="out('-3313218062555121548');" style=""> 342          return hasSystemTag(PUBLISHED_TAG) &amp;&amp; !TextUtils.isEmpty(getPublishedUrl());                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343      }                                                                                                             </span>
<span  style=""> 344                                                                                                                    </span>
<span class="-1996001930026199474" onmouseenter="enter('-1996001930026199474');" onmouseout="out('-1996001930026199474');" style=""> 345      public void setPublished(boolean isPublished) {                                                               </span>
<span class="-214835194616400293" onmouseenter="enter('-214835194616400293');" onmouseout="out('-214835194616400293');" style=""> 346          if (isPublished) {                                                                                        </span>
<span class="6614236660148008937" onmouseenter="enter('6614236660148008937');" onmouseout="out('6614236660148008937');" style=""> 347              addSystemTag(PUBLISHED_TAG);                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 348          } else {                                                                                                  </span>
<span class="-3125520029372940316" onmouseenter="enter('-3125520029372940316');" onmouseout="out('-3125520029372940316');" style=""> 349              removeSystemTag(PUBLISHED_TAG);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351      }                                                                                                             </span>
<span  style=""> 352                                                                                                                    </span>
<span class="8481041411290642641" onmouseenter="enter('8481041411290642641');" onmouseout="out('8481041411290642641');" style=""> 353      private boolean hasSystemTag(String tag) {                                                                    </span>
<span class="-1472869558903340894" onmouseenter="enter('-1472869558903340894');" onmouseout="out('-1472869558903340894');" style=""> 354          if (TextUtils.isEmpty(tag))                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 355              return false;                                                                                         </span>
<span  style=""> 356                                                                                                                    </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 357          JSONArray tags = getSystemTags();                                                                         </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 358          int length = tags.length();                                                                               </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 359          for (int i=0; i&lt;length; i++) {                                                                            </span>
<span class="1029161545303231138" onmouseenter="enter('1029161545303231138');" onmouseout="out('1029161545303231138');" style=""> 360              if (tags.optString(i).equals(tag)) {                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 361                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363          }                                                                                                         </span>
<span  style=""> 364                                                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 365          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366      }                                                                                                             </span>
<span  style=""> 367                                                                                                                    </span>
<span class="-1886965851517885412" onmouseenter="enter('-1886965851517885412');" onmouseout="out('-1886965851517885412');" style=""> 368      private void addSystemTag(String tag) {                                                                       </span>
<span class="-7266652503291305395" onmouseenter="enter('-7266652503291305395');" onmouseout="out('-7266652503291305395');" style=""> 369          if (TextUtils.isEmpty(tag)) {                                                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 370              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371          }                                                                                                         </span>
<span  style=""> 372                                                                                                                    </span>
<span class="4034934261619610009" onmouseenter="enter('4034934261619610009');" onmouseout="out('4034934261619610009');" style=""> 373          // Ensure we don&#x27;t add the same tag again                                                                 </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 374          if (!hasSystemTag(tag)) {                                                                                 </span>
<span class="-2655750625237705417" onmouseenter="enter('-2655750625237705417');" onmouseout="out('-2655750625237705417');" style=""> 375              getSystemTags().put(tag);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377      }                                                                                                             </span>
<span  style=""> 378                                                                                                                    </span>
<span class="-6272346588769055483" onmouseenter="enter('-6272346588769055483');" onmouseout="out('-6272346588769055483');" style=""> 379      private void removeSystemTag(String tag) {                                                                    </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 380          if (!hasSystemTag(tag)) {                                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 381              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382          }                                                                                                         </span>
<span  style=""> 383                                                                                                                    </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 384          JSONArray tags = getSystemTags();                                                                         </span>
<span class="6472000112597211426" onmouseenter="enter('6472000112597211426');" onmouseout="out('6472000112597211426');" style=""> 385          JSONArray newTags = new JSONArray();                                                                      </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 386          int length = tags.length();                                                                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 387          try {                                                                                                     </span>
<span class="6908715651536326362" onmouseenter="enter('6908715651536326362');" onmouseout="out('6908715651536326362');" style=""> 388              for (int i = 0; i &lt; length; i++) {                                                                    </span>
<span class="5751642819386913624" onmouseenter="enter('5751642819386913624');" onmouseout="out('5751642819386913624');" style=""> 389                  Object val = tags.get(i);                                                                         </span>
<span class="7076458285668173093" onmouseenter="enter('7076458285668173093');" onmouseout="out('7076458285668173093');" style=""> 390                  if (!val.equals(tag))                                                                             </span>
<span class="-6329059091210941964" onmouseenter="enter('-6329059091210941964');" onmouseout="out('-6329059091210941964');" style=""> 391                      newTags.put(val);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392              }                                                                                                     </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 393          } catch (JSONException e) {                                                                               </span>
<span class="4377813279323840039" onmouseenter="enter('4377813279323840039');" onmouseout="out('4377813279323840039');" style=""> 394              // could not update pinned setting                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395          }                                                                                                         </span>
<span  style=""> 396                                                                                                                    </span>
<span class="8301502673130902229" onmouseenter="enter('8301502673130902229');" onmouseout="out('8301502673130902229');" style=""> 397          setProperty(SYSTEM_TAGS_PROPERTY, newTags);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398      }                                                                                                             </span>
<span  style=""> 399                                                                                                                    </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 400      public static String dateString(Number time, boolean useShortFormat, Context context){                        </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 401          Calendar c = numberToDate(time);                                                                          </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 402          return dateString(c, useShortFormat, context);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403      }                                                                                                             </span>
<span  style=""> 404                                                                                                                    </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 405  	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                           </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 406  		int year, month, day;                                                                                           </span>
<span  style=""> 407                                                                                                                    </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 408  		String time, date, retVal;                                                                                      </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 409  		time = date = &quot;&quot;;                                                                                               </span>
<span  style=""> 410                                                                                                                    </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 411  		Calendar diff = Calendar.getInstance();                                                                         </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 412  		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                             </span>
<span  style=""> 413                                                                                                                    </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 414  		year = diff.get(Calendar.YEAR);                                                                                 </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 415  		month = diff.get(Calendar.MONTH);                                                                               </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 416  		day = diff.get(Calendar.DAY_OF_MONTH);                                                                          </span>
<span  style=""> 417                                                                                                                    </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 418  		diff.setTimeInMillis(0); // starting time                                                                       </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 419  		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                                        </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 420  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 420  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OFðŸ”µ</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 421  			date = context.getResources().getString(R.string.today);                                                       </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 422  			if (useShortFormat)                                                                                            </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 423  				retVal = time;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 424  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 425  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 426  		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {            </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 427  			date = context.getResources().getString(R.string.yesterday);                                                   </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 428  			if (useShortFormat)                                                                                            </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 429  				retVal = date;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 430  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 431  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 432  		} else {                                                                                                        </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 433  			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                          </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 434  			retVal = date + &quot;, &quot; + time;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 435  		}                                                                                                               </span>
<span  style=""> 436                                                                                                                    </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 437  		return retVal;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438  	}                                                                                                                </span>
<span  style=""> 439                                                                                                                    </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 440      public static Calendar numberToDate(Number time){                                                             </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 441          Calendar date = Calendar.getInstance();                                                                   </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 442          if (time != null) {                                                                                       </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 443              // Flick Note uses millisecond resolution timestamps Simplenote expects seconds                       </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 444              // since we only deal with create and modify timestamps, they should all have occured                 </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 445              // at the present time or in the past.                                                                </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 446              float now = date.getTimeInMillis()/1000;                                                              </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 447              float magnitude = time.floatValue()/now;                                                              </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 448              if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                                   </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 449              date.setTimeInMillis(time.longValue()*1000);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450          }                                                                                                         </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 451          return date;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 452      }                                                                                                             </span>
<span  style=""> 453                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 454      /**                                                                                                           </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 455       * Check if the note has any changes                                                                          </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 456       * @param content the new note content                                                                        </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 457       * @param tagString space separated tags                                                                      </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 458       * @param isPinned note is pinned                                                                             </span>

<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 459       * @return true if note has changes, false if it is unchanged.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 460       */                                                                                                           </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style=""> 461      public boolean hasChanges(String content, String tagString, boolean isPinned) {                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 462 -                                                                                                                  </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 463 -        if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 463 -        if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagStringðŸ”µ</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 464 -            return false;                                                                                         </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 465 -        else                                                                                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 466 -            return true;                                                                                          </span>
<span class="-2663050792284716023" onmouseenter="enter('-2663050792284716023');" onmouseout="out('-2663050792284716023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 467 +        return !(content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()));"> 467 +        return !(content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagSðŸ”µ</abbr></span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="9181943406056492869" onmouseenter="enter('9181943406056492869');" onmouseout="out('9181943406056492869');" style="">   1  package com.automattic.simplenote.models;                                                                         </span>
<span  style="">   2                                                                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   3  import android.content.Context;                                                                                   </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">   4  import android.text.TextUtils;                                                                                    </span>
<span  style="">   5                                                                                                                    </span>
<span class="-6092371777820512633" onmouseenter="enter('-6092371777820512633');" onmouseout="out('-6092371777820512633');" style="">   6  import com.automattic.simplenote.R;                                                                               </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">   7  import com.simperium.client.Bucket;                                                                               </span>
<span class="6125639164043971044" onmouseenter="enter('6125639164043971044');" onmouseout="out('6125639164043971044');" style="">   8  import com.simperium.client.BucketObject;                                                                         </span>
<span class="-665307165473523580" onmouseenter="enter('-665307165473523580');" onmouseout="out('-665307165473523580');" style="">   9  import com.simperium.client.BucketSchema;                                                                         </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  10  import com.simperium.client.Query;                                                                                </span>
<span class="-838252138947964043" onmouseenter="enter('-838252138947964043');" onmouseout="out('-838252138947964043');" style="">  11  import com.simperium.client.Query.ComparisonType;                                                                 </span>
<span  style="">  12                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  13  import org.json.JSONArray;                                                                                        </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  14  import org.json.JSONException;                                                                                    </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  15  import org.json.JSONObject;                                                                                       </span>
<span  style="">  16                                                                                                                    </span>
<span class="1238662365364477381" onmouseenter="enter('1238662365364477381');" onmouseout="out('1238662365364477381');" style="">  17  import java.text.DateFormat;                                                                                      </span>
<span class="54331962280914690" onmouseenter="enter('54331962280914690');" onmouseout="out('54331962280914690');" style="">  18  import java.text.SimpleDateFormat;                                                                                </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  19  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  20  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  21  import java.util.List;                                                                                            </span>
<span class="-4563680703184802189" onmouseenter="enter('-4563680703184802189');" onmouseout="out('-4563680703184802189');" style="">  22  import java.util.Locale;                                                                                          </span>
<span  style="">  23                                                                                                                    </span>
<span class="1630911635596164534" onmouseenter="enter('1630911635596164534');" onmouseout="out('1630911635596164534');" style="">  24  public class Note extends BucketObject {                                                                          </span>
<span  style="">  25                                                                                                                    </span>
<span class="4997186517517145227" onmouseenter="enter('4997186517517145227');" onmouseout="out('4997186517517145227');" style="">  26  	public static final String BUCKET_NAME=&quot;note&quot;;                                                                   </span>
<span class="327825599558087652" onmouseenter="enter('327825599558087652');" onmouseout="out('327825599558087652');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +    public static final String MARKDOWN_TAG=&quot;markdown&quot;;                                                           </span>
<span class="3989300983749491315" onmouseenter="enter('3989300983749491315');" onmouseout="out('3989300983749491315');" style="">  28      public static final String PINNED_TAG=&quot;pinned&quot;;                                                               </span>
<span class="-6422125408414574041" onmouseenter="enter('-6422125408414574041');" onmouseout="out('-6422125408414574041');" style="">  29      public static final String PUBLISHED_TAG=&quot;published&quot;;                                                         </span>
<span class="2240348265479816093" onmouseenter="enter('2240348265479816093');" onmouseout="out('2240348265479816093');" style="">  30      public static final String NEW_LINE=&quot;\n&quot;;                                                                     </span>
<span  style="">  31                                                                                                                    </span>
<span class="8495715505411914868" onmouseenter="enter('8495715505411914868');" onmouseout="out('8495715505411914868');" style="">  32      private static final String BLANK_CONTENT=&quot;&quot;;                                                                 </span>
<span class="-8217848203306725764" onmouseenter="enter('-8217848203306725764');" onmouseout="out('-8217848203306725764');" style="">  33      private static final String SPACE = &quot; &quot;;                                                                      </span>
<span class="7999038666256371202" onmouseenter="enter('7999038666256371202');" onmouseout="out('7999038666256371202');" style="">  34      private static final int MAX_PREVIEW_CHARS = 300;                                                             </span>
<span  style="">  35                                                                                                                    </span>
<span class="-4731786298013238859" onmouseenter="enter('-4731786298013238859');" onmouseout="out('-4731786298013238859');" style="">  36      public static final String CONTENT_PROPERTY=&quot;content&quot;;                                                        </span>
<span class="-8971093976667909729" onmouseenter="enter('-8971093976667909729');" onmouseout="out('-8971093976667909729');" style="">  37      public static final String TAGS_PROPERTY=&quot;tags&quot;;                                                              </span>
<span class="-2639682742800584117" onmouseenter="enter('-2639682742800584117');" onmouseout="out('-2639682742800584117');" style="">  38      public static final String SYSTEM_TAGS_PROPERTY=&quot;systemTags&quot;;                                                 </span>
<span class="-615237509388395361" onmouseenter="enter('-615237509388395361');" onmouseout="out('-615237509388395361');" style="">  39      public static final String CREATION_DATE_PROPERTY=&quot;creationDate&quot;;                                             </span>
<span class="-2935828466563619172" onmouseenter="enter('-2935828466563619172');" onmouseout="out('-2935828466563619172');" style="">  40      public static final String MODIFICATION_DATE_PROPERTY=&quot;modificationDate&quot;;                                     </span>
<span class="-896674938155214742" onmouseenter="enter('-896674938155214742');" onmouseout="out('-896674938155214742');" style="">  41      public static final String SHARE_URL_PROPERTY=&quot;shareURL&quot;;                                                     </span>
<span class="-2031302373913705242" onmouseenter="enter('-2031302373913705242');" onmouseout="out('-2031302373913705242');" style="">  42      public static final String PUBLISH_URL_PROPERTY=&quot;publishURL&quot;;                                                 </span>
<span class="-2395300960071945805" onmouseenter="enter('-2395300960071945805');" onmouseout="out('-2395300960071945805');" style="">  43      public static final String DELETED_PROPERTY=&quot;deleted&quot;;                                                        </span>
<span class="3559486824029332657" onmouseenter="enter('3559486824029332657');" onmouseout="out('3559486824029332657');" style="">  44      public static final String TITLE_INDEX_NAME=&quot;title&quot;;                                                          </span>
<span class="3369474491469130420" onmouseenter="enter('3369474491469130420');" onmouseout="out('3369474491469130420');" style="">  45      public static final String CONTENT_PREVIEW_INDEX_NAME=&quot;contentPreview&quot;;                                       </span>
<span class="1850860007583188208" onmouseenter="enter('1850860007583188208');" onmouseout="out('1850860007583188208');" style="">  46      public static final String PINNED_INDEX_NAME=&quot;pinned&quot;;                                                        </span>
<span class="1984703546182360041" onmouseenter="enter('1984703546182360041');" onmouseout="out('1984703546182360041');" style="">  47      public static final String MODIFIED_INDEX_NAME=&quot;modified&quot;;                                                    </span>
<span class="-7382638945861670026" onmouseenter="enter('-7382638945861670026');" onmouseout="out('-7382638945861670026');" style="">  48      public static final String CREATED_INDEX_NAME=&quot;created&quot;;                                                      </span>
<span class="1608351220765126281" onmouseenter="enter('1608351220765126281');" onmouseout="out('1608351220765126281');" style="">  49      public static final String MATCHED_TITLE_INDEX_NAME=&quot;matchedTitle&quot;;                                           </span>
<span class="-1584079946243370568" onmouseenter="enter('-1584079946243370568');" onmouseout="out('-1584079946243370568');" style="">  50      public static final String MATCHED_CONTENT_INDEX_NAME=&quot;matchedContent&quot;;                                       </span>
<span class="5531379197968857197" onmouseenter="enter('5531379197968857197');" onmouseout="out('5531379197968857197');" style="">  51      public static final String PUBLISH_URL=&quot;http://simp.ly/publish/&quot;;                                             </span>
<span  style="">  52                                                                                                                    </span>
<span class="2475488422216258991" onmouseenter="enter('2475488422216258991');" onmouseout="out('2475488422216258991');" style="">  53      static public final String[] FULL_TEXT_INDEXES = new String[]{                                                </span>
<span class="-4155540479552840166" onmouseenter="enter('-4155540479552840166');" onmouseout="out('-4155540479552840166');" style="">  54          Note.TITLE_INDEX_NAME, Note.CONTENT_PROPERTY };                                                           </span>
<span  style="">  55                                                                                                                    </span>
<span class="6617027899127222559" onmouseenter="enter('6617027899127222559');" onmouseout="out('6617027899127222559');" style="">  56  	protected String mTitle = null;                                                                                  </span>
<span class="-1758175371106332326" onmouseenter="enter('-1758175371106332326');" onmouseout="out('-1758175371106332326');" style="">  57  	protected String mContentPreview = null;                                                                         </span>
<span  style="">  58                                                                                                                    </span>
<span  style="">  59                                                                                                                    </span>
<span class="-7717881480664684723" onmouseenter="enter('-7717881480664684723');" onmouseout="out('-7717881480664684723');" style="">  60  	public static class Schema extends BucketSchema&lt;Note&gt; {                                                          </span>
<span  style="">  61                                                                                                                    </span>
<span class="-3235753444162186767" onmouseenter="enter('-3235753444162186767');" onmouseout="out('-3235753444162186767');" style="">  62          protected static NoteIndexer sNoteIndexer = new NoteIndexer();                                            </span>
<span class="-8196684505127442187" onmouseenter="enter('-8196684505127442187');" onmouseout="out('-8196684505127442187');" style="">  63          protected static NoteFullTextIndexer sFullTextIndexer = new NoteFullTextIndexer();                        </span>
<span  style="">  64                                                                                                                    </span>
<span class="3400389585123136733" onmouseenter="enter('3400389585123136733');" onmouseout="out('3400389585123136733');" style="">  65          public Schema(){                                                                                          </span>
<span class="-4886495676536647522" onmouseenter="enter('-4886495676536647522');" onmouseout="out('-4886495676536647522');" style="">  66              autoIndex();                                                                                          </span>
<span class="-6825633182165860223" onmouseenter="enter('-6825633182165860223');" onmouseout="out('-6825633182165860223');" style="">  67              addIndex(sNoteIndexer);                                                                               </span>
<span class="-3392547141042614111" onmouseenter="enter('-3392547141042614111');" onmouseout="out('-3392547141042614111');" style="">  68              setupFullTextIndex(sFullTextIndexer, NoteFullTextIndexer.INDEXES);                                    </span>
<span class="-6401895186782523877" onmouseenter="enter('-6401895186782523877');" onmouseout="out('-6401895186782523877');" style="">  69              setDefault(CONTENT_PROPERTY, &quot;&quot;);                                                                     </span>
<span class="-2554467534039091654" onmouseenter="enter('-2554467534039091654');" onmouseout="out('-2554467534039091654');" style="">  70              setDefault(SYSTEM_TAGS_PROPERTY, new JSONArray());                                                    </span>
<span class="228359577715990029" onmouseenter="enter('228359577715990029');" onmouseout="out('228359577715990029');" style="">  71              setDefault(TAGS_PROPERTY, new JSONArray());                                                           </span>
<span class="-819869596778271798" onmouseenter="enter('-819869596778271798');" onmouseout="out('-819869596778271798');" style="">  72              setDefault(DELETED_PROPERTY, false);                                                                  </span>
<span class="-8278335164591762572" onmouseenter="enter('-8278335164591762572');" onmouseout="out('-8278335164591762572');" style="">  73              setDefault(SHARE_URL_PROPERTY, &quot;&quot;);                                                                   </span>
<span class="4718032932676673460" onmouseenter="enter('4718032932676673460');" onmouseout="out('4718032932676673460');" style="">  74              setDefault(PUBLISH_URL_PROPERTY, &quot;&quot;);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75          }                                                                                                         </span>
<span  style="">  76                                                                                                                    </span>
<span class="4046368376475730022" onmouseenter="enter('4046368376475730022');" onmouseout="out('4046368376475730022');" style="">  77          public String getRemoteName(){                                                                            </span>
<span class="-8943072285760215512" onmouseenter="enter('-8943072285760215512');" onmouseout="out('-8943072285760215512');" style="">  78              return Note.BUCKET_NAME;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79          }                                                                                                         </span>
<span  style="">  80                                                                                                                    </span>
<span class="-4946235729406468677" onmouseenter="enter('-4946235729406468677');" onmouseout="out('-4946235729406468677');" style="">  81          public Note build(String key, JSONObject properties) {                                                    </span>
<span class="-2808542273143064496" onmouseenter="enter('-2808542273143064496');" onmouseout="out('-2808542273143064496');" style="">  82              return new Note(key, properties);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83          }                                                                                                         </span>
<span  style="">  84                                                                                                                    </span>
<span class="2318790323390762687" onmouseenter="enter('2318790323390762687');" onmouseout="out('2318790323390762687');" style="">  85          public void update(Note note, JSONObject properties) {                                                    </span>
<span class="-3717338000153341316" onmouseenter="enter('-3717338000153341316');" onmouseout="out('-3717338000153341316');" style="">  86              note.setProperties(properties);                                                                       </span>
<span class="-731284339738821488" onmouseenter="enter('-731284339738821488');" onmouseout="out('-731284339738821488');" style="">  87              note.mTitle = null;                                                                                   </span>
<span class="6645980171711348815" onmouseenter="enter('6645980171711348815');" onmouseout="out('6645980171711348815');" style="">  88              note.mContentPreview = null;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90  	}                                                                                                                </span>
<span  style="">  91                                                                                                                    </span>
<span class="-2612119737847080679" onmouseenter="enter('-2612119737847080679');" onmouseout="out('-2612119737847080679');" style="">  92      public static Query&lt;Note&gt; all(Bucket&lt;Note&gt; noteBucket){                                                       </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  93          return noteBucket.query()                                                                                 </span>
<span class="-6142536283945774731" onmouseenter="enter('-6142536283945774731');" onmouseout="out('-6142536283945774731');" style="">  94                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95      }                                                                                                             </span>
<span  style="">  96                                                                                                                    </span>
<span class="1827772616029900525" onmouseenter="enter('1827772616029900525');" onmouseout="out('1827772616029900525');" style="">  97      public static Query&lt;Note&gt; allDeleted(Bucket&lt;Note&gt; noteBucket){                                                </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style="">  98          return noteBucket.query()                                                                                 </span>
<span class="-6326653849445488397" onmouseenter="enter('-6326653849445488397');" onmouseout="out('-6326653849445488397');" style="">  99                  .where(DELETED_PROPERTY, ComparisonType.EQUAL_TO, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100      }                                                                                                             </span>
<span  style=""> 101                                                                                                                    </span>
<span class="-8795032081773565460" onmouseenter="enter('-8795032081773565460');" onmouseout="out('-8795032081773565460');" style=""> 102      public static Query&lt;Note&gt; search(Bucket&lt;Note&gt; noteBucket, String searchString){                               </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 103          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 104                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-8956541673379552524" onmouseenter="enter('-8956541673379552524');" onmouseout="out('-8956541673379552524');" style=""> 105                  .where(CONTENT_PROPERTY, ComparisonType.LIKE, &quot;%&quot; + searchString + &quot;%&quot;);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106      }                                                                                                             </span>
<span  style=""> 107                                                                                                                    </span>
<span class="-6621943915038090143" onmouseenter="enter('-6621943915038090143');" onmouseout="out('-6621943915038090143');" style=""> 108      public static Query&lt;Note&gt; allInTag(Bucket&lt;Note&gt; noteBucket, String tag){                                      </span>
<span class="1591072370690947187" onmouseenter="enter('1591072370690947187');" onmouseout="out('1591072370690947187');" style=""> 109          return noteBucket.query()                                                                                 </span>
<span class="-5615557647224699056" onmouseenter="enter('-5615557647224699056');" onmouseout="out('-5615557647224699056');" style=""> 110                  .where(DELETED_PROPERTY, ComparisonType.NOT_EQUAL_TO, true)                                       </span>
<span class="-2207133284802963072" onmouseenter="enter('-2207133284802963072');" onmouseout="out('-2207133284802963072');" style=""> 111                  .where(TAGS_PROPERTY, ComparisonType.LIKE, tag);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112      }                                                                                                             </span>
<span  style=""> 113                                                                                                                    </span>
<span  style=""> 114                                                                                                                    </span>
<span class="767263449852825375" onmouseenter="enter('767263449852825375');" onmouseout="out('767263449852825375');" style=""> 115      public Note(String key) {                                                                                     </span>
<span class="-8964647538928034033" onmouseenter="enter('-8964647538928034033');" onmouseout="out('-8964647538928034033');" style=""> 116          super(key, new JSONObject());                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117      }                                                                                                             </span>
<span  style=""> 118                                                                                                                    </span>
<span class="8617384997772879313" onmouseenter="enter('8617384997772879313');" onmouseout="out('8617384997772879313');" style=""> 119      public Note(String key, JSONObject properties) {                                                              </span>
<span class="-6821486208075908487" onmouseenter="enter('-6821486208075908487');" onmouseout="out('-6821486208075908487');" style=""> 120          super(key, properties);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121      }                                                                                                             </span>
<span  style=""> 122                                                                                                                    </span>
<span class="6373335669519535085" onmouseenter="enter('6373335669519535085');" onmouseout="out('6373335669519535085');" style=""> 123      protected void updateTitleAndPreview() {                                                                      </span>
<span class="4716811977187622861" onmouseenter="enter('4716811977187622861');" onmouseout="out('4716811977187622861');" style=""> 124          // try to build a title and preview property out of content                                               </span>
<span class="-6823550475843248983" onmouseenter="enter('-6823550475843248983');" onmouseout="out('-6823550475843248983');" style=""> 125          String content = getContent().trim();                                                                     </span>
<span class="327463840444924073" onmouseenter="enter('327463840444924073');" onmouseout="out('327463840444924073');" style=""> 126          if (content.length() &gt; MAX_PREVIEW_CHARS) {                                                               </span>
<span class="-8480236902805956072" onmouseenter="enter('-8480236902805956072');" onmouseout="out('-8480236902805956072');" style=""> 127              content = content.substring(0, MAX_PREVIEW_CHARS - 1);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128          }                                                                                                         </span>
<span  style=""> 129                                                                                                                    </span>
<span class="5724017298410569034" onmouseenter="enter('5724017298410569034');" onmouseout="out('5724017298410569034');" style=""> 130          int firstNewLinePosition = content.indexOf(NEW_LINE);                                                     </span>
<span class="7786689878958261573" onmouseenter="enter('7786689878958261573');" onmouseout="out('7786689878958261573');" style=""> 131          if (firstNewLinePosition &gt; -1 &amp;&amp; firstNewLinePosition &lt; 200) {                                            </span>
<span class="-397121944761876346" onmouseenter="enter('-397121944761876346');" onmouseout="out('-397121944761876346');" style=""> 132              mTitle = content.substring(0, firstNewLinePosition).trim();                                           </span>
<span  style=""> 133                                                                                                                    </span>
<span class="6552686713144756852" onmouseenter="enter('6552686713144756852');" onmouseout="out('6552686713144756852');" style=""> 134              if (firstNewLinePosition &lt; content.length()) {                                                        </span>
<span class="3544130446617579720" onmouseenter="enter('3544130446617579720');" onmouseout="out('3544130446617579720');" style=""> 135                  mContentPreview = content.substring(firstNewLinePosition, content.length());                      </span>
<span class="-5260179913697335726" onmouseenter="enter('-5260179913697335726');" onmouseout="out('-5260179913697335726');" style=""> 136                  mContentPreview = mContentPreview.replace(NEW_LINE, SPACE).replace(SPACE+SPACE, SPACE).trim();    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137              }                                                                                                     </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 138              else {                                                                                                </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 139                  mContentPreview = content;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141          }                                                                                                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 142          else {                                                                                                    </span>
<span class="6158164289681498296" onmouseenter="enter('6158164289681498296');" onmouseout="out('6158164289681498296');" style=""> 143              mTitle = content;                                                                                     </span>
<span class="1516017085770072130" onmouseenter="enter('1516017085770072130');" onmouseout="out('1516017085770072130');" style=""> 144              mContentPreview = content;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146      }                                                                                                             </span>
<span  style=""> 147                                                                                                                    </span>
<span class="-6200437978572139135" onmouseenter="enter('-6200437978572139135');" onmouseout="out('-6200437978572139135');" style=""> 148  	public String getTitle() {                                                                                       </span>
<span class="5880156293984643419" onmouseenter="enter('5880156293984643419');" onmouseout="out('5880156293984643419');" style=""> 149          if (mTitle == null) {                                                                                     </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 150              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151          }                                                                                                         </span>
<span class="-7721657982940010876" onmouseenter="enter('-7721657982940010876');" onmouseout="out('-7721657982940010876');" style=""> 152  		return mTitle;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153  	}                                                                                                                </span>
<span  style=""> 154                                                                                                                    </span>
<span class="-2689785139225953203" onmouseenter="enter('-2689785139225953203');" onmouseout="out('-2689785139225953203');" style=""> 155  	public String getContent() {                                                                                     </span>
<span class="-593492380737036583" onmouseenter="enter('-593492380737036583');" onmouseout="out('-593492380737036583');" style=""> 156          Object content = getProperty(CONTENT_PROPERTY);                                                           </span>
<span class="-2591100211143552235" onmouseenter="enter('-2591100211143552235');" onmouseout="out('-2591100211143552235');" style=""> 157          if (content == null) {                                                                                    </span>
<span class="-7439137145129124014" onmouseenter="enter('-7439137145129124014');" onmouseout="out('-7439137145129124014');" style=""> 158              return BLANK_CONTENT;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159          }                                                                                                         </span>
<span class="-5104065841615841974" onmouseenter="enter('-5104065841615841974');" onmouseout="out('-5104065841615841974');" style=""> 160          return (String) content;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161  	}                                                                                                                </span>
<span  style=""> 162                                                                                                                    </span>
<span class="8530044186661736565" onmouseenter="enter('8530044186661736565');" onmouseout="out('8530044186661736565');" style=""> 163  	public void setContent(String content) {                                                                         </span>
<span class="6017523628383929627" onmouseenter="enter('6017523628383929627');" onmouseout="out('6017523628383929627');" style=""> 164          mTitle = null;                                                                                            </span>
<span class="7468898004511818931" onmouseenter="enter('7468898004511818931');" onmouseout="out('7468898004511818931');" style=""> 165          mContentPreview = null;                                                                                   </span>
<span class="-7075313288269577686" onmouseenter="enter('-7075313288269577686');" onmouseout="out('-7075313288269577686');" style=""> 166          setProperty(CONTENT_PROPERTY, content);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167  	}                                                                                                                </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-3177715860988830633" onmouseenter="enter('-3177715860988830633');" onmouseout="out('-3177715860988830633');" style=""> 169  	public String getContentPreview() {                                                                              </span>
<span class="-8081599038098376119" onmouseenter="enter('-8081599038098376119');" onmouseout="out('-8081599038098376119');" style=""> 170          if (mContentPreview == null) {                                                                            </span>
<span class="-2998280411651081682" onmouseenter="enter('-2998280411651081682');" onmouseout="out('-2998280411651081682');" style=""> 171              updateTitleAndPreview();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172          }                                                                                                         </span>
<span class="-7686656279835722897" onmouseenter="enter('-7686656279835722897');" onmouseout="out('-7686656279835722897');" style=""> 173  		return mContentPreview;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174  	}                                                                                                                </span>
<span  style=""> 175                                                                                                                    </span>
<span class="-4775876413201063426" onmouseenter="enter('-4775876413201063426');" onmouseout="out('-4775876413201063426');" style=""> 176  	public Calendar getCreationDate() {                                                                              </span>
<span class="-7360138159175050968" onmouseenter="enter('-7360138159175050968');" onmouseout="out('-7360138159175050968');" style=""> 177          return numberToDate((Number)getProperty(CREATION_DATE_PROPERTY));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178  	}                                                                                                                </span>
<span  style=""> 179                                                                                                                    </span>
<span class="4285319693858833712" onmouseenter="enter('4285319693858833712');" onmouseout="out('4285319693858833712');" style=""> 180  	public void setCreationDate(Calendar creationDate) {                                                             </span>
<span class="4009378346717963361" onmouseenter="enter('4009378346717963361');" onmouseout="out('4009378346717963361');" style=""> 181          setProperty(CREATION_DATE_PROPERTY, creationDate.getTimeInMillis()/1000);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182  	}                                                                                                                </span>
<span  style=""> 183                                                                                                                    </span>
<span class="4524335170961506892" onmouseenter="enter('4524335170961506892');" onmouseout="out('4524335170961506892');" style=""> 184  	public Calendar getModificationDate() {                                                                          </span>
<span class="2674497060676967899" onmouseenter="enter('2674497060676967899');" onmouseout="out('2674497060676967899');" style=""> 185          return numberToDate((Number)getProperty(MODIFICATION_DATE_PROPERTY));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186  	}                                                                                                                </span>
<span  style=""> 187                                                                                                                    </span>
<span class="2249083984085470814" onmouseenter="enter('2249083984085470814');" onmouseout="out('2249083984085470814');" style=""> 188  	public void setModificationDate(Calendar modificationDate) {                                                     </span>
<span class="-32752540119133682" onmouseenter="enter('-32752540119133682');" onmouseout="out('-32752540119133682');" style=""> 189          setProperty(MODIFICATION_DATE_PROPERTY, modificationDate.getTimeInMillis()/1000);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190  	}                                                                                                                </span>
<span  style=""> 191                                                                                                                    </span>
<span class="3367289575484325214" onmouseenter="enter('3367289575484325214');" onmouseout="out('3367289575484325214');" style=""> 192      public String getPublishedUrl() {                                                                             </span>
<span class="-6172413358098126997" onmouseenter="enter('-6172413358098126997');" onmouseout="out('-6172413358098126997');" style=""> 193          String urlCode = (String)getProperty(PUBLISH_URL_PROPERTY);                                               </span>
<span class="7900565639772953850" onmouseenter="enter('7900565639772953850');" onmouseout="out('7900565639772953850');" style=""> 194          if (TextUtils.isEmpty(urlCode)) {                                                                         </span>
<span class="-8289946804601166879" onmouseenter="enter('-8289946804601166879');" onmouseout="out('-8289946804601166879');" style=""> 195              return &quot;&quot;;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196          }                                                                                                         </span>
<span  style=""> 197                                                                                                                    </span>
<span class="-8429126260993259062" onmouseenter="enter('-8429126260993259062');" onmouseout="out('-8429126260993259062');" style=""> 198          return PUBLISH_URL + urlCode;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span class="5787302943512820494" onmouseenter="enter('5787302943512820494');" onmouseout="out('5787302943512820494');" style=""> 201      public boolean hasTag(String tag){                                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 202          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-3541717492710720609" onmouseenter="enter('-3541717492710720609');" onmouseout="out('-3541717492710720609');" style=""> 203          String tagLower = tag.toLowerCase();                                                                      </span>
<span class="-422766749461737265" onmouseenter="enter('-422766749461737265');" onmouseout="out('-422766749461737265');" style=""> 204          for (String tagName : tags) {                                                                             </span>
<span class="-6783003514598399026" onmouseenter="enter('-6783003514598399026');" onmouseout="out('-6783003514598399026');" style=""> 205              if (tagLower.equals(tagName.toLowerCase())) return true;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 207          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208      }                                                                                                             </span>
<span  style=""> 209                                                                                                                    </span>
<span class="-6881488610366106138" onmouseenter="enter('-6881488610366106138');" onmouseout="out('-6881488610366106138');" style=""> 210      public boolean hasTag(Tag tag){                                                                               </span>
<span class="-5268388303991583458" onmouseenter="enter('-5268388303991583458');" onmouseout="out('-5268388303991583458');" style=""> 211          return hasTag(tag.getSimperiumKey());                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212      }                                                                                                             </span>
<span  style=""> 213                                                                                                                    </span>
<span class="-646587723470162813" onmouseenter="enter('-646587723470162813');" onmouseout="out('-646587723470162813');" style=""> 214      public List&lt;String&gt; getTags() {                                                                               </span>
<span  style=""> 215                                                                                                                    </span>
<span class="5046858882238824028" onmouseenter="enter('5046858882238824028');" onmouseout="out('5046858882238824028');" style=""> 216          JSONArray tags = (JSONArray) getProperty(TAGS_PROPERTY);                                                  </span>
<span  style=""> 217                                                                                                                    </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 218          if (tags == null) {                                                                                       </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 219              tags = new JSONArray();                                                                               </span>
<span class="-9171468773333999657" onmouseenter="enter('-9171468773333999657');" onmouseout="out('-9171468773333999657');" style=""> 220              setProperty(TAGS_PROPERTY, tags);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221          }                                                                                                         </span>
<span  style=""> 222                                                                                                                    </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 223          int length = tags.length();                                                                               </span>
<span  style=""> 224                                                                                                                    </span>
<span class="2843513398657351912" onmouseenter="enter('2843513398657351912');" onmouseout="out('2843513398657351912');" style=""> 225          List&lt;String&gt; tagList = new ArrayList&lt;String&gt;(length);                                                     </span>

<span  style=""> 226                                                                                                                    </span>
<span class="8256074331736484026" onmouseenter="enter('8256074331736484026');" onmouseout="out('8256074331736484026');" style=""> 227          if (length == 0) return tagList;                                                                          </span>
<span  style=""> 228                                                                                                                    </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 229          for (int i=0; i&lt;length; i++) {                                                                            </span>
<span class="-8917993594954591540" onmouseenter="enter('-8917993594954591540');" onmouseout="out('-8917993594954591540');" style=""> 230              String tag = tags.optString(i);                                                                       </span>
<span class="-1947204619891178088" onmouseenter="enter('-1947204619891178088');" onmouseout="out('-1947204619891178088');" style=""> 231              if (!tag.equals(&quot;&quot;))                                                                                  </span>
<span class="2557583924535716267" onmouseenter="enter('2557583924535716267');" onmouseout="out('2557583924535716267');" style=""> 232                  tagList.add(tag);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233          }                                                                                                         </span>
<span  style=""> 234                                                                                                                    </span>
<span class="-3183448331203603949" onmouseenter="enter('-3183448331203603949');" onmouseout="out('-3183448331203603949');" style=""> 235          return tagList;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236      }                                                                                                             </span>
<span  style=""> 237                                                                                                                    </span>
<span class="-6026710755135647724" onmouseenter="enter('-6026710755135647724');" onmouseout="out('-6026710755135647724');" style=""> 238      public void setTags(List&lt;String&gt; tags) {                                                                      </span>
<span class="-8982714688054322872" onmouseenter="enter('-8982714688054322872');" onmouseout="out('-8982714688054322872');" style=""> 239          setProperty(TAGS_PROPERTY, new JSONArray(tags));                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span  style=""> 241                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 242      /**                                                                                                           </span>
<span class="2568101064766040631" onmouseenter="enter('2568101064766040631');" onmouseout="out('2568101064766040631');" style=""> 243       * String of tags delimited by a space                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 244       */                                                                                                           </span>
<span class="7751691691704605736" onmouseenter="enter('7751691691704605736');" onmouseout="out('7751691691704605736');" style=""> 245      public CharSequence getTagString(){                                                                           </span>
<span class="-4644025499612109112" onmouseenter="enter('-4644025499612109112');" onmouseout="out('-4644025499612109112');" style=""> 246          StringBuilder tagString = new StringBuilder();                                                            </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 247          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="2164696056530936385" onmouseenter="enter('2164696056530936385');" onmouseout="out('2164696056530936385');" style=""> 248          for(String tag : tags){                                                                                   </span>
<span class="2918711019922442395" onmouseenter="enter('2918711019922442395');" onmouseout="out('2918711019922442395');" style=""> 249              if (tagString.length() &gt; 0) {                                                                         </span>
<span class="-848655472163713161" onmouseenter="enter('-848655472163713161');" onmouseout="out('-848655472163713161');" style=""> 250                  tagString.append(SPACE);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251              }                                                                                                     </span>
<span class="3299521276937168474" onmouseenter="enter('3299521276937168474');" onmouseout="out('3299521276937168474');" style=""> 252              tagString.append(tag);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253          }                                                                                                         </span>
<span class="-3216397563367246452" onmouseenter="enter('-3216397563367246452');" onmouseout="out('-3216397563367246452');" style=""> 254          return tagString;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255      }                                                                                                             </span>
<span  style=""> 256                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 257      /**                                                                                                           </span>
<span class="-7329267897466178734" onmouseenter="enter('-7329267897466178734');" onmouseout="out('-7329267897466178734');" style=""> 258       * Sets the note&#x27;s tags by providing it with a {@link String} of space                                        </span>
<span class="3447340528891974851" onmouseenter="enter('3447340528891974851');" onmouseout="out('3447340528891974851');" style=""> 259       * seperated tags. Filters out duplicate tags.                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 260       *                                                                                                            </span>
<span class="-3621424951438819239" onmouseenter="enter('-3621424951438819239');" onmouseout="out('-3621424951438819239');" style=""> 261       * @param tagString a space delimited list of tags                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 262       */                                                                                                           </span>
<span class="-5905419883526019742" onmouseenter="enter('-5905419883526019742');" onmouseout="out('-5905419883526019742');" style=""> 263      public void setTagString(String tagString){                                                                   </span>
<span class="-7156606951491867974" onmouseenter="enter('-7156606951491867974');" onmouseout="out('-7156606951491867974');" style=""> 264          List&lt;String&gt; tags = getTags();                                                                            </span>
<span class="-8892740331038047380" onmouseenter="enter('-8892740331038047380');" onmouseout="out('-8892740331038047380');" style=""> 265          tags.clear();                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="7647632027089311583" onmouseenter="enter('7647632027089311583');" onmouseout="out('7647632027089311583');" style=""> 267          if (tagString == null) {                                                                                  </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 268              setTags(tags);                                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 269              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270          }                                                                                                         </span>
<span  style=""> 271                                                                                                                    </span>
<span class="-6765712323396427098" onmouseenter="enter('-6765712323396427098');" onmouseout="out('-6765712323396427098');" style=""> 272          // Make sure string has a trailing space                                                                  </span>
<span class="3861570924678507302" onmouseenter="enter('3861570924678507302');" onmouseout="out('3861570924678507302');" style=""> 273          if (tagString.length() &gt; 1 &amp;&amp; !tagString.substring(tagString.length() - 1).equals(SPACE))                 </span>
<span class="-5113585973277465859" onmouseenter="enter('-5113585973277465859');" onmouseout="out('-5113585973277465859');" style=""> 274              tagString = tagString + SPACE;                                                                        </span>
<span class="5741128019150417186" onmouseenter="enter('5741128019150417186');" onmouseout="out('5741128019150417186');" style=""> 275          // for comparing case-insensitive strings, would like to find a way to                                    </span>
<span class="-5706726934096139867" onmouseenter="enter('-5706726934096139867');" onmouseout="out('-5706726934096139867');" style=""> 276          // do this without allocating a new list and strings                                                      </span>
<span class="8647123536330600381" onmouseenter="enter('8647123536330600381');" onmouseout="out('8647123536330600381');" style=""> 277          List&lt;String&gt; tagsUpperCase = new ArrayList&lt;String&gt;();                                                     </span>

<span class="-8087573356169949002" onmouseenter="enter('-8087573356169949002');" onmouseout="out('-8087573356169949002');" style=""> 278          // remove all current tags                                                                                </span>
<span class="1170680636863075190" onmouseenter="enter('1170680636863075190');" onmouseout="out('1170680636863075190');" style=""> 279          int start = 0;                                                                                            </span>
<span class="5585565667587988559" onmouseenter="enter('5585565667587988559');" onmouseout="out('5585565667587988559');" style=""> 280          int next = -1;                                                                                            </span>
<span class="-8708428587370728232" onmouseenter="enter('-8708428587370728232');" onmouseout="out('-8708428587370728232');" style=""> 281          String possible;                                                                                          </span>
<span class="3545966998003531195" onmouseenter="enter('3545966998003531195');" onmouseout="out('3545966998003531195');" style=""> 282          String possibleUpperCase;                                                                                 </span>
<span class="-67055061468690966" onmouseenter="enter('-67055061468690966');" onmouseout="out('-67055061468690966');" style=""> 283          // search tag string for space characters and pull out individual tags                                    </span>
<span class="3052837437029247759" onmouseenter="enter('3052837437029247759');" onmouseout="out('3052837437029247759');" style=""> 284          do {                                                                                                      </span>
<span class="539196990274646798" onmouseenter="enter('539196990274646798');" onmouseout="out('539196990274646798');" style=""> 285              next = tagString.indexOf(SPACE, start);                                                               </span>
<span class="7441993871510338947" onmouseenter="enter('7441993871510338947');" onmouseout="out('7441993871510338947');" style=""> 286              if (next &gt; start) {                                                                                   </span>
<span class="-6369978890856333437" onmouseenter="enter('-6369978890856333437');" onmouseout="out('-6369978890856333437');" style=""> 287                  possible = tagString.substring(start, next);                                                      </span>
<span class="40967178918958955" onmouseenter="enter('40967178918958955');" onmouseout="out('40967178918958955');" style=""> 288                  possibleUpperCase = possible.toUpperCase();                                                       </span>
<span class="-6789588636567169254" onmouseenter="enter('-6789588636567169254');" onmouseout="out('-6789588636567169254');" style=""> 289                  if (!possible.equals(SPACE) &amp;&amp; !tagsUpperCase.contains(possibleUpperCase)) {                      </span>
<span class="8107171034948128222" onmouseenter="enter('8107171034948128222');" onmouseout="out('8107171034948128222');" style=""> 290                      tagsUpperCase.add(possibleUpperCase);                                                         </span>
<span class="-3623952282264178458" onmouseenter="enter('-3623952282264178458');" onmouseout="out('-3623952282264178458');" style=""> 291                      tags.add(possible);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293              }                                                                                                     </span>
<span class="2598261311594212195" onmouseenter="enter('2598261311594212195');" onmouseout="out('2598261311594212195');" style=""> 294              start = next + 1;                                                                                     </span>
<span class="-286415703034421807" onmouseenter="enter('-286415703034421807');" onmouseout="out('-286415703034421807');" style=""> 295          } while(next &gt; -1);                                                                                       </span>
<span class="-3148524022076108640" onmouseenter="enter('-3148524022076108640');" onmouseout="out('-3148524022076108640');" style=""> 296          setTags(tags);                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297      }                                                                                                             </span>
<span  style=""> 298                                                                                                                    </span>
<span class="-2380080839978865436" onmouseenter="enter('-2380080839978865436');" onmouseout="out('-2380080839978865436');" style=""> 299      public JSONArray getSystemTags() {                                                                            </span>
<span class="1634689045753216867" onmouseenter="enter('1634689045753216867');" onmouseout="out('1634689045753216867');" style=""> 300          JSONArray tags = (JSONArray) getProperty(SYSTEM_TAGS_PROPERTY);                                           </span>
<span class="6531412736475233316" onmouseenter="enter('6531412736475233316');" onmouseout="out('6531412736475233316');" style=""> 301          if (tags == null) {                                                                                       </span>
<span class="9078710184173432610" onmouseenter="enter('9078710184173432610');" onmouseout="out('9078710184173432610');" style=""> 302              tags = new JSONArray();                                                                               </span>
<span class="8109738276011217421" onmouseenter="enter('8109738276011217421');" onmouseout="out('8109738276011217421');" style=""> 303              setProperty(SYSTEM_TAGS_PROPERTY, tags);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304          }                                                                                                         </span>
<span class="-7737333077028274174" onmouseenter="enter('-7737333077028274174');" onmouseout="out('-7737333077028274174');" style=""> 305          return tags;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306      }                                                                                                             </span>
<span  style=""> 307                                                                                                                    </span>
<span class="3090413247451101219" onmouseenter="enter('3090413247451101219');" onmouseout="out('3090413247451101219');" style=""> 308  	public Boolean isDeleted() {                                                                                     </span>
<span class="7870299677279363320" onmouseenter="enter('7870299677279363320');" onmouseout="out('7870299677279363320');" style=""> 309          Object deleted = getProperty(DELETED_PROPERTY);                                                           </span>
<span class="3213349019391348934" onmouseenter="enter('3213349019391348934');" onmouseout="out('3213349019391348934');" style=""> 310          if (deleted == null) {                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 311              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312          }                                                                                                         </span>
<span class="-8245820290182222148" onmouseenter="enter('-8245820290182222148');" onmouseout="out('-8245820290182222148');" style=""> 313          if (deleted instanceof Boolean) {                                                                         </span>
<span class="110137553981332086" onmouseenter="enter('110137553981332086');" onmouseout="out('110137553981332086');" style=""> 314              return (Boolean) deleted;                                                                             </span>
<span class="5618945838586547730" onmouseenter="enter('5618945838586547730');" onmouseout="out('5618945838586547730');" style=""> 315          } else if (deleted instanceof Number) {                                                                   </span>
<span class="106774576817980668" onmouseenter="enter('106774576817980668');" onmouseout="out('106774576817980668');" style=""> 316              return ((Number)deleted).intValue() == 0 ? false : true;                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 317          } else {                                                                                                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 318              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319          }                                                                                                         </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320      }                                                                                                             </span>
<span  style=""> 321                                                                                                                    </span>
<span class="6912205177980332866" onmouseenter="enter('6912205177980332866');" onmouseout="out('6912205177980332866');" style=""> 322      public void setDeleted(boolean deleted) {                                                                     </span>
<span class="-864256626113761460" onmouseenter="enter('-864256626113761460');" onmouseout="out('-864256626113761460');" style=""> 323          setProperty(DELETED_PROPERTY, deleted);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324      }                                                                                                             </span>
<span  style=""> 325                                                                                                                    </span>
<span class="5985631777888601261" onmouseenter="enter('5985631777888601261');" onmouseout="out('5985631777888601261');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 326 +    public boolean isMarkdownEnabled() {                                                                          </span>
<span class="-5743540823315516839" onmouseenter="enter('-5743540823315516839');" onmouseout="out('-5743540823315516839');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 327 +        return hasSystemTag(MARKDOWN_TAG);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 328 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 329 +                                                                                                                  </span>
<span class="-2232443542975324273" onmouseenter="enter('-2232443542975324273');" onmouseout="out('-2232443542975324273');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 330 +    public void setMarkdownEnabled(boolean isMarkdownEnabled) {                                                   </span>
<span class="5908341161553131781" onmouseenter="enter('5908341161553131781');" onmouseout="out('5908341161553131781');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 331 +        if (isMarkdownEnabled) {                                                                                  </span>
<span class="-7185185989369936008" onmouseenter="enter('-7185185989369936008');" onmouseout="out('-7185185989369936008');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 332 +            addSystemTag(MARKDOWN_TAG);                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 333 +        } else {                                                                                                  </span>
<span class="1430034125671484052" onmouseenter="enter('1430034125671484052');" onmouseout="out('1430034125671484052');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 334 +            removeSystemTag(MARKDOWN_TAG);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 335 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 336 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 337 +                                                                                                                  </span>
<span class="-7992821206137485678" onmouseenter="enter('-7992821206137485678');" onmouseout="out('-7992821206137485678');" style=""> 338      public boolean isPinned() {                                                                                   </span>
<span class="7436893036029851482" onmouseenter="enter('7436893036029851482');" onmouseout="out('7436893036029851482');" style=""> 339          return hasSystemTag(PINNED_TAG);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="7137874092814138484" onmouseenter="enter('7137874092814138484');" onmouseout="out('7137874092814138484');" style=""> 342      public void setPinned(boolean isPinned) {                                                                     </span>
<span class="-8977010770732050857" onmouseenter="enter('-8977010770732050857');" onmouseout="out('-8977010770732050857');" style=""> 343          if (isPinned) {                                                                                           </span>
<span class="-705489752486798560" onmouseenter="enter('-705489752486798560');" onmouseout="out('-705489752486798560');" style=""> 344              addSystemTag(PINNED_TAG);                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 345          } else {                                                                                                  </span>
<span class="5010790157822780054" onmouseenter="enter('5010790157822780054');" onmouseout="out('5010790157822780054');" style=""> 346              removeSystemTag(PINNED_TAG);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348      }                                                                                                             </span>
<span  style=""> 349                                                                                                                    </span>
<span class="5049304787018344959" onmouseenter="enter('5049304787018344959');" onmouseout="out('5049304787018344959');" style=""> 350      public boolean isPublished() {                                                                                </span>
<span class="-3313218062555121548" onmouseenter="enter('-3313218062555121548');" onmouseout="out('-3313218062555121548');" style=""> 351          return hasSystemTag(PUBLISHED_TAG) &amp;&amp; !TextUtils.isEmpty(getPublishedUrl());                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352      }                                                                                                             </span>
<span  style=""> 353                                                                                                                    </span>
<span class="-1996001930026199474" onmouseenter="enter('-1996001930026199474');" onmouseout="out('-1996001930026199474');" style=""> 354      public void setPublished(boolean isPublished) {                                                               </span>
<span class="-214835194616400293" onmouseenter="enter('-214835194616400293');" onmouseout="out('-214835194616400293');" style=""> 355          if (isPublished) {                                                                                        </span>
<span class="6614236660148008937" onmouseenter="enter('6614236660148008937');" onmouseout="out('6614236660148008937');" style=""> 356              addSystemTag(PUBLISHED_TAG);                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 357          } else {                                                                                                  </span>
<span class="-3125520029372940316" onmouseenter="enter('-3125520029372940316');" onmouseout="out('-3125520029372940316');" style=""> 358              removeSystemTag(PUBLISHED_TAG);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360      }                                                                                                             </span>
<span  style=""> 361                                                                                                                    </span>
<span class="8481041411290642641" onmouseenter="enter('8481041411290642641');" onmouseout="out('8481041411290642641');" style=""> 362      private boolean hasSystemTag(String tag) {                                                                    </span>
<span class="-1472869558903340894" onmouseenter="enter('-1472869558903340894');" onmouseout="out('-1472869558903340894');" style=""> 363          if (TextUtils.isEmpty(tag))                                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 364              return false;                                                                                         </span>
<span  style=""> 365                                                                                                                    </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 366          JSONArray tags = getSystemTags();                                                                         </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 367          int length = tags.length();                                                                               </span>
<span class="2589700372535097120" onmouseenter="enter('2589700372535097120');" onmouseout="out('2589700372535097120');" style=""> 368          for (int i=0; i&lt;length; i++) {                                                                            </span>
<span class="1029161545303231138" onmouseenter="enter('1029161545303231138');" onmouseout="out('1029161545303231138');" style=""> 369              if (tags.optString(i).equals(tag)) {                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 370                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372          }                                                                                                         </span>
<span  style=""> 373                                                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 374          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375      }                                                                                                             </span>
<span  style=""> 376                                                                                                                    </span>
<span class="-1886965851517885412" onmouseenter="enter('-1886965851517885412');" onmouseout="out('-1886965851517885412');" style=""> 377      private void addSystemTag(String tag) {                                                                       </span>
<span class="-7266652503291305395" onmouseenter="enter('-7266652503291305395');" onmouseout="out('-7266652503291305395');" style=""> 378          if (TextUtils.isEmpty(tag)) {                                                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 379              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380          }                                                                                                         </span>
<span  style=""> 381                                                                                                                    </span>
<span class="4034934261619610009" onmouseenter="enter('4034934261619610009');" onmouseout="out('4034934261619610009');" style=""> 382          // Ensure we don&#x27;t add the same tag again                                                                 </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 383          if (!hasSystemTag(tag)) {                                                                                 </span>
<span class="-2655750625237705417" onmouseenter="enter('-2655750625237705417');" onmouseout="out('-2655750625237705417');" style=""> 384              getSystemTags().put(tag);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386      }                                                                                                             </span>
<span  style=""> 387                                                                                                                    </span>
<span class="-6272346588769055483" onmouseenter="enter('-6272346588769055483');" onmouseout="out('-6272346588769055483');" style=""> 388      private void removeSystemTag(String tag) {                                                                    </span>
<span class="4475384509373287742" onmouseenter="enter('4475384509373287742');" onmouseout="out('4475384509373287742');" style=""> 389          if (!hasSystemTag(tag)) {                                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 390              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391          }                                                                                                         </span>
<span  style=""> 392                                                                                                                    </span>
<span class="-8058095151201873037" onmouseenter="enter('-8058095151201873037');" onmouseout="out('-8058095151201873037');" style=""> 393          JSONArray tags = getSystemTags();                                                                         </span>
<span class="6472000112597211426" onmouseenter="enter('6472000112597211426');" onmouseout="out('6472000112597211426');" style=""> 394          JSONArray newTags = new JSONArray();                                                                      </span>
<span class="1470548578065798141" onmouseenter="enter('1470548578065798141');" onmouseout="out('1470548578065798141');" style=""> 395          int length = tags.length();                                                                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 396          try {                                                                                                     </span>
<span class="6908715651536326362" onmouseenter="enter('6908715651536326362');" onmouseout="out('6908715651536326362');" style=""> 397              for (int i = 0; i &lt; length; i++) {                                                                    </span>
<span class="5751642819386913624" onmouseenter="enter('5751642819386913624');" onmouseout="out('5751642819386913624');" style=""> 398                  Object val = tags.get(i);                                                                         </span>
<span class="7076458285668173093" onmouseenter="enter('7076458285668173093');" onmouseout="out('7076458285668173093');" style=""> 399                  if (!val.equals(tag))                                                                             </span>
<span class="-6329059091210941964" onmouseenter="enter('-6329059091210941964');" onmouseout="out('-6329059091210941964');" style=""> 400                      newTags.put(val);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401              }                                                                                                     </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 402          } catch (JSONException e) {                                                                               </span>
<span class="4377813279323840039" onmouseenter="enter('4377813279323840039');" onmouseout="out('4377813279323840039');" style=""> 403              // could not update pinned setting                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404          }                                                                                                         </span>
<span  style=""> 405                                                                                                                    </span>
<span class="8301502673130902229" onmouseenter="enter('8301502673130902229');" onmouseout="out('8301502673130902229');" style=""> 406          setProperty(SYSTEM_TAGS_PROPERTY, newTags);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407      }                                                                                                             </span>
<span  style=""> 408                                                                                                                    </span>
<span class="4248744410712134608" onmouseenter="enter('4248744410712134608');" onmouseout="out('4248744410712134608');" style=""> 409      public static String dateString(Number time, boolean useShortFormat, Context context){                        </span>
<span class="1180405838137731219" onmouseenter="enter('1180405838137731219');" onmouseout="out('1180405838137731219');" style=""> 410          Calendar c = numberToDate(time);                                                                          </span>
<span class="-7277187246954612403" onmouseenter="enter('-7277187246954612403');" onmouseout="out('-7277187246954612403');" style=""> 411          return dateString(c, useShortFormat, context);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412      }                                                                                                             </span>
<span  style=""> 413                                                                                                                    </span>
<span class="-8567197073889182513" onmouseenter="enter('-8567197073889182513');" onmouseout="out('-8567197073889182513');" style=""> 414  	public static String dateString(Calendar c, boolean useShortFormat, Context context) {                           </span>
<span class="-4601601397388656558" onmouseenter="enter('-4601601397388656558');" onmouseout="out('-4601601397388656558');" style=""> 415  		int year, month, day;                                                                                           </span>
<span  style=""> 416                                                                                                                    </span>
<span class="-7517224838183820978" onmouseenter="enter('-7517224838183820978');" onmouseout="out('-7517224838183820978');" style=""> 417  		String time, date, retVal;                                                                                      </span>
<span class="1709610699225944464" onmouseenter="enter('1709610699225944464');" onmouseout="out('1709610699225944464');" style=""> 418  		time = date = &quot;&quot;;                                                                                               </span>
<span  style=""> 419                                                                                                                    </span>
<span class="-7023974272217551721" onmouseenter="enter('-7023974272217551721');" onmouseout="out('-7023974272217551721');" style=""> 420  		Calendar diff = Calendar.getInstance();                                                                         </span>
<span class="7346751312817051138" onmouseenter="enter('7346751312817051138');" onmouseout="out('7346751312817051138');" style=""> 421  		diff.setTimeInMillis(diff.getTimeInMillis() - c.getTimeInMillis());                                             </span>
<span  style=""> 422                                                                                                                    </span>
<span class="-2909064038838300707" onmouseenter="enter('-2909064038838300707');" onmouseout="out('-2909064038838300707');" style=""> 423  		year = diff.get(Calendar.YEAR);                                                                                 </span>
<span class="-5868815277479911950" onmouseenter="enter('-5868815277479911950');" onmouseout="out('-5868815277479911950');" style=""> 424  		month = diff.get(Calendar.MONTH);                                                                               </span>
<span class="-2637536938238774465" onmouseenter="enter('-2637536938238774465');" onmouseout="out('-2637536938238774465');" style=""> 425  		day = diff.get(Calendar.DAY_OF_MONTH);                                                                          </span>
<span  style=""> 426                                                                                                                    </span>
<span class="1536424719044438994" onmouseenter="enter('1536424719044438994');" onmouseout="out('1536424719044438994');" style=""> 427  		diff.setTimeInMillis(0); // starting time                                                                       </span>
<span class="-779753610725741249" onmouseenter="enter('-779753610725741249');" onmouseout="out('-779753610725741249');" style=""> 428  		time = DateFormat.getTimeInstance(DateFormat.SHORT).format(c.getTime());                                        </span>
<span class="-2383141111479093557" onmouseenter="enter('-2383141111479093557');" onmouseout="out('-2383141111479093557');" style=""><abbr title=" 429  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OF_MONTH))) {"> 429  		if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == diff.get(Calendar.DAY_OFðŸ”µ</abbr></span>
<span class="7635099361720652074" onmouseenter="enter('7635099361720652074');" onmouseout="out('7635099361720652074');" style=""> 430  			date = context.getResources().getString(R.string.today);                                                       </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 431  			if (useShortFormat)                                                                                            </span>
<span class="597955899566079772" onmouseenter="enter('597955899566079772');" onmouseout="out('597955899566079772');" style=""> 432  				retVal = time;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 433  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 434  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-818230175523660822" onmouseenter="enter('-818230175523660822');" onmouseout="out('-818230175523660822');" style=""> 435  		} else if ((year == diff.get(Calendar.YEAR)) &amp;&amp; (month == diff.get(Calendar.MONTH)) &amp;&amp; (day == 1)) {            </span>
<span class="-8420997342841621789" onmouseenter="enter('-8420997342841621789');" onmouseout="out('-8420997342841621789');" style=""> 436  			date = context.getResources().getString(R.string.yesterday);                                                   </span>
<span class="8493899913340733835" onmouseenter="enter('8493899913340733835');" onmouseout="out('8493899913340733835');" style=""> 437  			if (useShortFormat)                                                                                            </span>
<span class="8381191313867632389" onmouseenter="enter('8381191313867632389');" onmouseout="out('8381191313867632389');" style=""> 438  				retVal = date;                                                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 439  			else                                                                                                           </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 440  				retVal = date + &quot;, &quot; + time;                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 441  		} else {                                                                                                        </span>
<span class="-8110415762919125838" onmouseenter="enter('-8110415762919125838');" onmouseout="out('-8110415762919125838');" style=""> 442  			date = new SimpleDateFormat(&quot;MMM dd&quot;, Locale.US).format(c.getTime());                                          </span>
<span class="-1890689043550180813" onmouseenter="enter('-1890689043550180813');" onmouseout="out('-1890689043550180813');" style=""> 443  			retVal = date + &quot;, &quot; + time;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444  		}                                                                                                               </span>
<span  style=""> 445                                                                                                                    </span>
<span class="-2448447535460405943" onmouseenter="enter('-2448447535460405943');" onmouseout="out('-2448447535460405943');" style=""> 446  		return retVal;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 447  	}                                                                                                                </span>
<span  style=""> 448                                                                                                                    </span>
<span class="854602420128336296" onmouseenter="enter('854602420128336296');" onmouseout="out('854602420128336296');" style=""> 449      public static Calendar numberToDate(Number time){                                                             </span>
<span class="2627151998164378009" onmouseenter="enter('2627151998164378009');" onmouseout="out('2627151998164378009');" style=""> 450          Calendar date = Calendar.getInstance();                                                                   </span>
<span class="-4794582782203016972" onmouseenter="enter('-4794582782203016972');" onmouseout="out('-4794582782203016972');" style=""> 451          if (time != null) {                                                                                       </span>
<span class="-3733626690602126121" onmouseenter="enter('-3733626690602126121');" onmouseout="out('-3733626690602126121');" style=""> 452              // Flick Note uses millisecond resolution timestamps Simplenote expects seconds                       </span>
<span class="5228340171335466462" onmouseenter="enter('5228340171335466462');" onmouseout="out('5228340171335466462');" style=""> 453              // since we only deal with create and modify timestamps, they should all have occured                 </span>
<span class="-9197945245707351438" onmouseenter="enter('-9197945245707351438');" onmouseout="out('-9197945245707351438');" style=""> 454              // at the present time or in the past.                                                                </span>
<span class="-6670716532326745884" onmouseenter="enter('-6670716532326745884');" onmouseout="out('-6670716532326745884');" style=""> 455              float now = date.getTimeInMillis()/1000;                                                              </span>
<span class="-6372325972288997726" onmouseenter="enter('-6372325972288997726');" onmouseout="out('-6372325972288997726');" style=""> 456              float magnitude = time.floatValue()/now;                                                              </span>
<span class="-5187897475846791391" onmouseenter="enter('-5187897475846791391');" onmouseout="out('-5187897475846791391');" style=""> 457              if (magnitude &gt;= 2.f) time = time.longValue()/1000;                                                   </span>
<span class="8146214649628512261" onmouseenter="enter('8146214649628512261');" onmouseout="out('8146214649628512261');" style=""> 458              date.setTimeInMillis(time.longValue()*1000);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459          }                                                                                                         </span>
<span class="7179427650659377170" onmouseenter="enter('7179427650659377170');" onmouseout="out('7179427650659377170');" style=""> 460          return date;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461      }                                                                                                             </span>
<span  style=""> 462                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 463      /**                                                                                                           </span>
<span class="-397105642920094918" onmouseenter="enter('-397105642920094918');" onmouseout="out('-397105642920094918');" style=""> 464       * Check if the note has any changes                                                                          </span>
<span class="6262152358662797190" onmouseenter="enter('6262152358662797190');" onmouseout="out('6262152358662797190');" style=""> 465       * @param content the new note content                                                                        </span>
<span class="7420133212084021907" onmouseenter="enter('7420133212084021907');" onmouseout="out('7420133212084021907');" style=""> 466       * @param tagString space separated tags                                                                      </span>
<span class="-585514476491491716" onmouseenter="enter('-585514476491491716');" onmouseout="out('-585514476491491716');" style=""> 467       * @param isPinned note is pinned                                                                             </span>
<span class="-1154760621356330740" onmouseenter="enter('-1154760621356330740');" onmouseout="out('-1154760621356330740');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 468 +     * @param isMarkdownEnabled note has markdown enabled                                                         </span>
<span class="2808295610973044096" onmouseenter="enter('2808295610973044096');" onmouseout="out('2808295610973044096');" style=""> 469       * @return true if note has changes, false if it is unchanged.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 470       */                                                                                                           </span>
<span class="3050251919129287301" onmouseenter="enter('3050251919129287301');" onmouseout="out('3050251919129287301');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 471 -    public boolean hasChanges(String content, String tagString, boolean isPinned) {                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 472 -                                                                                                                  </span>
<span class="1031328021082469342" onmouseenter="enter('1031328021082469342');" onmouseout="out('1031328021082469342');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 473 -        if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagString().toString()))"> 473 -        if (content.equals(this.getContent()) &amp;&amp; this.isPinned() == isPinned &amp;&amp; tagString.equals(this.getTagStringðŸ”µ</abbr></span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 474 -            return false;                                                                                         </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 475 -        else                                                                                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 476 -            return true;                                                                                          </span>
<span class="8766619927564191135" onmouseenter="enter('8766619927564191135');" onmouseout="out('8766619927564191135');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 477 +    public boolean hasChanges(String content, String tagString, boolean isPinned, boolean isMarkdownEnabled) {    </span>
<span class="-8752168499945681469" onmouseenter="enter('-8752168499945681469');" onmouseout="out('-8752168499945681469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 478 +        return !content.equals(this.getContent())                                                                 </span>
<span class="361029725350182512" onmouseenter="enter('361029725350182512');" onmouseout="out('361029725350182512');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 479 +            || !tagString.equals(this.getTagString().toString())                                                  </span>
<span class="-3256796514842471479" onmouseenter="enter('-3256796514842471479');" onmouseout="out('-3256796514842471479');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 480 +            || this.isPinned() != isPinned                                                                        </span>
<span class="8343748346738214390" onmouseenter="enter('8343748346738214390');" onmouseout="out('8343748346738214390');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 481 +            || this.isMarkdownEnabled() != isMarkdownEnabled;                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            