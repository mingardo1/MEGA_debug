<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>79</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    79
                    <a href="78.html">prev</a>
                    <a href="80.html">next</a>
                    <a href="79_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_a34d41194e233178cf5a5271c80c76c76357ef92_Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;a34d41194e233178cf5a5271c80c76c76357ef92:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;a34d41194e233178cf5a5271c80c76c76357ef92^1:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;a34d41194e233178cf5a5271c80c76c76357ef92^2:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;68c4cd2a0207d8e703f7a7f293023155b1ea425d:Simplenote/src/main/java/com/automattic/simplenote/PreferencesFragment.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj]], subset: [[bj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4 import android.app.Fragment;                                                                             </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   7 import android.content.SharedPreferences;                                                                </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8 import android.net.Uri;                                                                                  </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10 import android.os.Bundle;                                                                                </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11 import android.os.ParcelFileDescriptor;                                                                  </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12 import android.widget.Toast;                                                                             </span>
<span  style="">  13                                                                                                          </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  16 import androidx.core.app.ShareCompat;                                                                    </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  17 import androidx.preference.ListPreference;                                                               </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  18 import androidx.preference.Preference;                                                                   </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  19 import androidx.preference.PreferenceFragmentCompat;                                                     </span>
<span class="-7272383226560052741" onmouseenter="enter('-7272383226560052741');" onmouseout="out('-7272383226560052741');" style="">  20 import androidx.preference.PreferenceManager;                                                            </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  21 import androidx.preference.SwitchPreferenceCompat;                                                       </span>
<span  style="">  22                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  23 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  25 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  26 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  27 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  28 import com.automattic.simplenote.utils.BrowserUtils;                                                     </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  29 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  30 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  31 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-3457858113236631039" onmouseenter="enter('-3457858113236631039');" onmouseout="out('-3457858113236631039');" style="">  32 import com.automattic.simplenote.utils.WidgetUtils;                                                      </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  33 import com.simperium.Simperium;                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  34 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  35 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  36 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  37 import com.simperium.client.User;                                                                        </span>
<span  style="">  38                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  39 import org.json.JSONArray;                                                                               </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  40 import org.json.JSONObject;                                                                              </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  41 import org.wordpress.passcodelock.AppLockManager;                                                        </span>
<span  style="">  42                                                                                                          </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  43 import java.io.FileOutputStream;                                                                         </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  44 import java.lang.ref.WeakReference;                                                                      </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  45 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  46 import java.util.Comparator;                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  47 import java.util.List;                                                                                   </span>
<span  style="">  48                                                                                                          </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  49 import static android.app.Activity.RESULT_OK;                                                            </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  50 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span  style="">  51                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  52 /**                                                                                                      </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  53  * A simple {@link Fragment} subclass.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  54  */                                                                                                      </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style=""><abbr title="  55 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  55 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, S🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  56     public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                               </span>
<span  style="">  57                                                                                                          </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  58     private static final int REQUEST_EXPORT_DATA = 9001;                                                 </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  59     private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                             </span>
<span  style="">  60                                                                                                          </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  61     private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                      </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  62     private SwitchPreferenceCompat mAnalyticsSwitch;                                                     </span>
<span  style="">  63                                                                                                          </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  64     public PreferencesFragment() {                                                                       </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  65         // Required empty public constructor                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66     }                                                                                                    </span>
<span  style="">  67                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  68     @Override                                                                                            </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  69     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                         </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  70         addPreferencesFromResource(R.xml.preferences);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71     }                                                                                                    </span>
<span  style="">  72                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  73     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  74     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  75         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  76                                                                                                          </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  77         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                     </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  78         Simplenote currentApp = (Simplenote) getActivity().getApplication();                             </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  79         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  80         simperium.setUserStatusChangeListener(this);                                                     </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style="">  81         simperium.setOnUserCreatedListener(this);                                                        </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style="">  82         mPreferencesBucket = currentApp.getPreferencesBucket();                                          </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style="">  83         mPreferencesBucket.start();                                                                      </span>
<span  style="">  84                                                                                                          </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style="">  85         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());               </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style="">  86         if (simperium.needsAuthorization()) {                                                            </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style="">  87             authenticatePreference.setTitle(R.string.log_in);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  88         } else {                                                                                         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style="">  89             authenticatePreference.setTitle(R.string.log_out);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90         }                                                                                                </span>
<span  style="">  91                                                                                                          </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style="">  92         authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="">  94             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style="">  95                 if (!isAdded()) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  96                     return false;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97                 }                                                                                        </span>
<span  style="">  98                                                                                                          </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  99                 Simplenote currentApp = (Simplenote) getActivity().getApplication();                     </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 100                 if (currentApp.getSimperium().needsAuthorization()) {                                    </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""><abbr title=" 101                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);"> 101                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class🔵</abbr></span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 102                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 103                 } else {                                                                                 </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 104                     new LogOutTask(PreferencesFragment.this).execute();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 106                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 108         });                                                                                              </span>
<span  style=""> 109                                                                                                          </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 110         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 110         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickL🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 112             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 113                 try {                                                                                    </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 114                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 115                 } catch (Exception e) {                                                                  </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""><abbr title=" 116                     Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();"> 116                     Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 118                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 120         });                                                                                              </span>
<span  style=""> 121                                                                                                          </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""><abbr title=" 122         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 122         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLis🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 123             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 124             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 125                 startActivity(new Intent(getActivity(), AboutActivity.class));                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 126                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 128         });                                                                                              </span>
<span  style=""> 129                                                                                                          </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 130         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 130         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 131             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 132             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 133                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 134                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 135                 intent.setType(&quot;application/json&quot;);                                                      </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 136                 intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                    </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 137                 startActivityForResult(intent, REQUEST_EXPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 138                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 140         });                                                                                              </span>
<span  style=""> 141                                                                                                          </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 142         final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                     </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 143         themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 145             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 146                 updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 147                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148             }                                                                                            </span>
<span  style=""> 149                                                                                                          </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 150             private void updateTheme(Activity activity, int index) {                                     </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 151                 CharSequence[] entries = themePreference.getEntries();                                   </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 152                 themePreference.setSummary(entries[index]);                                              </span>
<span  style=""> 153                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 154                 AnalyticsTracker.track(                                                                  </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 155                         AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                    </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 156                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 157                         &quot;theme_preference&quot;                                                               </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 158                 );                                                                                       </span>
<span  style=""> 159                                                                                                          </span>
<span class="-6345048933952298843" onmouseenter="enter('-6345048933952298843');" onmouseout="out('-6345048933952298843');" style=""> 160                 // recreate the activity so new theme is applied                                         </span>
<span class="6106586807651914503" onmouseenter="enter('6106586807651914503');" onmouseout="out('6106586807651914503');" style=""> 161                 activity.recreate();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 163         });                                                                                              </span>
<span  style=""> 164                                                                                                          </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 165         final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                             </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style=""> 166         stylePreference.setSummary(                                                                      </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style=""> 167             PrefUtils.isPremium(requireContext()) ?                                                      </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style=""> 168                 PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                              </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style=""> 169                 PrefUtils.getStyleNameDefault(requireContext())                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 170         );                                                                                               </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 171         stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 173             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 174                 startActivity(new Intent(requireContext(), StyleActivity.class));                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 175                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 177         });                                                                                              </span>
<span  style=""> 178                                                                                                          </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 179         final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                 </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 180         sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 182             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 183                 int index = Integer.parseInt(newValue.toString());                                       </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 184                 CharSequence[] entries = sortPreference.getEntries();                                    </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 185                 sortPreference.setSummary(entries[index]);                                               </span>
<span  style=""> 186                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 187                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 189         });                                                                                              </span>
<span  style=""> 190                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 191 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-2516209658609361373" onmouseenter="enter('-2516209658609361373');" onmouseout="out('-2516209658609361373');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 192         Preference versionPref = findPreference(&quot;pref_key_build&quot;);                                       </span>
<span class="2941715853984851229" onmouseenter="enter('2941715853984851229');" onmouseout="out('2941715853984851229');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 193         versionPref.setSummary(PrefUtils.versionInfo());                                                 </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 194                                                                                                          </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 195 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="269389859234146346" onmouseenter="enter('269389859234146346');" onmouseout="out('269389859234146346');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 196         SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_condensed_note_list&quot;);"> 196         SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_conde🔵</abbr></span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 197         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 198             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 199             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 200                 if (((SwitchPreferenceCompat) preference).isChecked()) {                                 </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 201                     AnalyticsTracker.track(                                                              </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 202                             AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 203                             AnalyticsTracker.CATEGORY_USER,                                              </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 204                             &quot;condensed_list_preference&quot;                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 205                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 206                 }                                                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 207                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 208                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 209             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 210         });                                                                                              </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 211 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 212 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 213         SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);        </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 214         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 215             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 216             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 217                 if (((SwitchPreferenceCompat) preference).isChecked()) {                                 </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 218                     AnalyticsTracker.track(                                                              </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 219                             AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 220                             AnalyticsTracker.CATEGORY_USER,                                              </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 221                             &quot;condensed_list_preference&quot;                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 222                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223                 }                                                                                        </span>
<span  style=""> 224                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 225                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 227         });                                                                                              </span>
<span  style=""> 228                                                                                                          </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 229         // Add the hyperlink to the analytics summary                                                    </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 230         Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);    </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 231         String formattedSummary = String.format(                                                         </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 232                 getString(R.string.share_analytics_summary),                                             </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 233                 &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                           </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 234                 &quot;&lt;/a&gt;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 235         );                                                                                               </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 236         analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                    </span>
<span  style=""> 237                                                                                                          </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 238         mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                  </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 239         mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 240             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 241             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 242                 try {                                                                                    </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 243                     boolean isChecked = (boolean)newValue;                                               </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 244                     Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                  </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 245                     prefs.setAnalyticsEnabled(isChecked);                                                </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 246                     prefs.save();                                                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 247                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 248                     e.printStackTrace();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249                 }                                                                                        </span>
<span  style=""> 250                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 251                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 253         });                                                                                              </span>
<span  style=""> 254                                                                                                          </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 255         updateAnalyticsSwitchState();                                                                    </span>
<span  style=""> 256                                                                                                          </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""><abbr title=" 257         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 257         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 259             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style=""> 260                 startActivity(                                                                           </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style=""> 261                     ShareCompat.IntentBuilder.from(requireActivity())                                    </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style=""> 262                         .setText(AppLog.get())                                                           </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style=""> 263                         .setType(&quot;text/plain&quot;)                                                           </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style=""> 264                         .createChooserIntent()                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 265                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 266                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 268         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269     }                                                                                                    </span>
<span  style=""> 270                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271     @Override                                                                                            </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 272     public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                   </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style=""> 273         if (resultCode != RESULT_OK || resultData == null) {                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 274             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span  style=""> 276                                                                                                          </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 277         if (resultData.getData() == null) {                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 278             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 278             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHO🔵</abbr></span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 279             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280         }                                                                                                </span>
<span  style=""> 281                                                                                                          </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 282         switch (requestCode) {                                                                           </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 283             case REQUEST_EXPORT_DATA:                                                                    </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 284                 exportData(resultData.getData(), false);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 285                 break;                                                                                   </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 286             case REQUEST_EXPORT_UNSYNCED:                                                                </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 287                 exportData(resultData.getData(), true);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 288                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span  style=""> 291                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 292     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 293     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 294         super.onPause();                                                                                 </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 295         mPreferencesBucket.stop();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296     }                                                                                                    </span>
<span  style=""> 297                                                                                                          </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 298     private boolean hasUnsyncedNotes() {                                                                 </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 299         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 300         Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                         </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 301         Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 302         while (notesCursor.moveToNext()) {                                                               </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 303             Note note = notesCursor.getObject();                                                         </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 304             if (note.isNew() || note.isModified()) {                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 305                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307         }                                                                                                </span>
<span  style=""> 308                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 309         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310     }                                                                                                    </span>
<span  style=""> 311                                                                                                          </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 312     private void logOut() {                                                                              </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 313         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="1492891761222902367" onmouseenter="enter('1492891761222902367');" onmouseout="out('1492891761222902367');" style=""> 314         application.getSimperium().deauthorizeUser();                                                    </span>
<span  style=""> 315                                                                                                          </span>
<span class="7043558399093065986" onmouseenter="enter('7043558399093065986');" onmouseout="out('7043558399093065986');" style=""> 316         application.getNotesBucket().reset();                                                            </span>
<span class="6239456552485319541" onmouseenter="enter('6239456552485319541');" onmouseout="out('6239456552485319541');" style=""> 317         application.getTagsBucket().reset();                                                             </span>
<span class="8813783904792492357" onmouseenter="enter('8813783904792492357');" onmouseout="out('8813783904792492357');" style=""> 318         application.getPreferencesBucket().reset();                                                      </span>
<span  style=""> 319                                                                                                          </span>
<span class="-2290183695292509841" onmouseenter="enter('-2290183695292509841');" onmouseout="out('-2290183695292509841');" style=""> 320         application.getNotesBucket().stop();                                                             </span>
<span class="-7044971952839176171" onmouseenter="enter('-7044971952839176171');" onmouseout="out('-7044971952839176171');" style=""> 321         AppLog.add(Type.SYNC, &quot;Stopped note bucket (PreferencesFragment)&quot;);                              </span>
<span class="1881204346293915273" onmouseenter="enter('1881204346293915273');" onmouseout="out('1881204346293915273');" style=""> 322         application.getTagsBucket().stop();                                                              </span>
<span class="-9221216379625010206" onmouseenter="enter('-9221216379625010206');" onmouseout="out('-9221216379625010206');" style=""> 323         AppLog.add(Type.SYNC, &quot;Stopped tag bucket (PreferencesFragment)&quot;);                               </span>
<span class="4389321878217818521" onmouseenter="enter('4389321878217818521');" onmouseout="out('4389321878217818521');" style=""> 324         application.getPreferencesBucket().stop();                                                       </span>
<span  style=""> 325                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 326         AnalyticsTracker.track(                                                                          </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 327                 AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                   </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 328                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 329                 &quot;preferences_sign_out_button&quot;                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 330         );                                                                                               </span>
<span  style=""> 331                                                                                                          </span>
<span class="-7624151188866077780" onmouseenter="enter('-7624151188866077780');" onmouseout="out('-7624151188866077780');" style=""> 332         // Resets analytics user back to &#x27;anon&#x27; type                                                     </span>
<span class="-8646882850309232593" onmouseenter="enter('-8646882850309232593');" onmouseout="out('-8646882850309232593');" style=""> 333         AnalyticsTracker.refreshMetadata(null);                                                          </span>
<span class="7088142554023647232" onmouseenter="enter('7088142554023647232');" onmouseout="out('7088142554023647232');" style=""> 334         CrashUtils.clearCurrentUser();                                                                   </span>
<span  style=""> 335                                                                                                          </span>
<span class="2045801939261456210" onmouseenter="enter('2045801939261456210');" onmouseout="out('2045801939261456210');" style=""> 336         // Remove wp.com token                                                                           </span>
<span class="6759455075429047207" onmouseenter="enter('6759455075429047207');" onmouseout="out('6759455075429047207');" style=""><abbr title=" 337         SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).edit();"> 337         SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).ed🔵</abbr></span>
<span class="3747765183142081866" onmouseenter="enter('3747765183142081866');" onmouseout="out('3747765183142081866');" style=""> 338         editor.remove(PrefUtils.PREF_WP_TOKEN);                                                          </span>
<span  style=""> 339                                                                                                          </span>
<span class="-3120932776057048446" onmouseenter="enter('-3120932776057048446');" onmouseout="out('-3120932776057048446');" style=""> 340         // Remove WordPress sites                                                                        </span>
<span class="-7780340906700244594" onmouseenter="enter('-7780340906700244594');" onmouseout="out('-7780340906700244594');" style=""> 341         editor.remove(PrefUtils.PREF_WORDPRESS_SITES);                                                   </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 342         editor.apply();                                                                                  </span>
<span  style=""> 343                                                                                                          </span>
<span class="4563224411068398132" onmouseenter="enter('4563224411068398132');" onmouseout="out('4563224411068398132');" style=""> 344         // Remove Passcode Lock password                                                                 </span>
<span class="400057636120928336" onmouseenter="enter('400057636120928336');" onmouseout="out('400057636120928336');" style=""> 345         AppLockManager.getInstance().getAppLock().setPassword(&quot;&quot;);                                       </span>
<span  style=""> 346                                                                                                          </span>
<span class="-2915955960672646870" onmouseenter="enter('-2915955960672646870');" onmouseout="out('-2915955960672646870');" style=""> 347         WidgetUtils.updateNoteWidgets(requireActivity().getApplicationContext());                        </span>
<span  style=""> 348                                                                                                          </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 349         getActivity().finish();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350     }                                                                                                    </span>
<span  style=""> 351                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 352     @Override                                                                                            </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 353     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 354         if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                             </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 355             // User signed in                                                                            </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 356             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 357                 public void run() {                                                                      </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 358                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 359                     authenticatePreference.setTitle(R.string.log_out);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 361             });                                                                                          </span>
<span  style=""> 362                                                                                                          </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 363             Simplenote app = (Simplenote) getActivity().getApplication();                                </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 364             AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                   </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 365             CrashUtils.setCurrentUser(app.getSimperium().getUser());                                     </span>
<span  style=""> 366                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 367             AnalyticsTracker.track(                                                                      </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 368                     AnalyticsTracker.Stat.USER_SIGNED_IN,                                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 369                     AnalyticsTracker.CATEGORY_USER,                                                      </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 370                     &quot;signed_in_from_preferences_activity&quot;                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 371             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span  style=""> 374                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 375     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 376     public void onUserCreated(User user) {                                                               </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 377         AnalyticsTracker.track(                                                                          </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 378                 AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                              </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 379                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 380                 &quot;account_created_from_preferences_activity&quot;                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 381         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382     }                                                                                                    </span>
<span  style=""> 383                                                                                                          </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 384     private void exportData(Uri uri, boolean isUnsyncedNotes) {                                          </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 385         Simplenote currentApp = (Simplenote) requireActivity().getApplication();                         </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 386         Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                           </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 387         JSONObject account = new JSONObject();                                                           </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 388         Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                      </span>
<span  style=""> 389                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 390         try {                                                                                            </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 391             JSONArray activeNotes = new JSONArray();                                                     </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 392             JSONArray trashedNotes = new JSONArray();                                                    </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 393             Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 394                 @Override                                                                                </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 395                 public int compare(String text1, String text2) {                                         </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 396                     return text1.compareToIgnoreCase(text2);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 398             };                                                                                           </span>
<span  style=""> 399                                                                                                          </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 400             while (cursor.moveToNext()) {                                                                </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 401                 Note note = cursor.getObject();                                                          </span>
<span  style=""> 402                                                                                                          </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 403                 if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                            </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 404                     continue;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405                 }                                                                                        </span>
<span  style=""> 406                                                                                                          </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 407                 JSONObject noteJson = new JSONObject();                                                  </span>
<span  style=""> 408                                                                                                          </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 409                 noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                              </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 410                 noteJson.put(&quot;content&quot;, note.getContent());                                              </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 411                 noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                              </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 412                 noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                          </span>
<span  style=""> 413                                                                                                          </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 414                 if (note.isPinned()) {                                                                   </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 415                     noteJson.put(&quot;pinned&quot;, note.isPinned());                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416                 }                                                                                        </span>
<span  style=""> 417                                                                                                          </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 418                 if (note.isMarkdownEnabled()) {                                                          </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 419                     noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420                 }                                                                                        </span>
<span  style=""> 421                                                                                                          </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 422                 if (note.getTags().size() &gt; 0) {                                                         </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 423                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 424                     Collections.sort(tags, comparator);                                                  </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 425                     noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426                 }                                                                                        </span>
<span  style=""> 427                                                                                                          </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 428                 if (!note.getPublishedUrl().isEmpty()) {                                                 </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 429                     noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 430                 }                                                                                        </span>
<span  style=""> 431                                                                                                          </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 432                 if (note.isDeleted()) {                                                                  </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 433                     trashedNotes.put(noteJson);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 434                 } else {                                                                                 </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 435                     activeNotes.put(noteJson);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437             }                                                                                            </span>
<span  style=""> 438                                                                                                          </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 439             account.put(&quot;activeNotes&quot;, activeNotes);                                                     </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 440             account.put(&quot;trashedNotes&quot;, trashedNotes);                                                   </span>
<span  style=""> 441                                                                                                          </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 442             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 442             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDes🔵</abbr></span>
<span  style=""> 443                                                                                                          </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 444             if (parcelFileDescriptor != null) {                                                          </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 445                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 445                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDesc🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 446                 fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());               </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 447                 parcelFileDescriptor.close();                                                            </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style=""><abbr title=" 448                 Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 448                 Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 449             } else {                                                                                     </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 450                 Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 450                 Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451             }                                                                                            </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 452         } catch (Exception e) {                                                                          </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 453             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 453             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455     }                                                                                                    </span>
<span  style=""> 456                                                                                                          </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 457     private void updateAnalyticsSwitchState() {                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 458         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 459             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 460             mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                    </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 461         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 462             // The preferences object doesn&#x27;t exist for this user yet, create it                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 463             try {                                                                                        </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 464                 Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 465                 prefs.setAnalyticsEnabled(true);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 466                 prefs.save();                                                                            </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 467             } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                  </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 468                 bucketObjectNameInvalid.printStackTrace();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 470         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471     }                                                                                                    </span>
<span  style=""> 472                                                                                                          </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 473     private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                             </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 474         private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                        </span>
<span  style=""> 475                                                                                                          </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 476         LogOutTask(PreferencesFragment fragment) {                                                       </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 477             mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 478         }                                                                                                </span>
<span  style=""> 479                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 480         @Override                                                                                        </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 481         protected Boolean doInBackground(Void... voids) {                                                </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 482             PreferencesFragment fragment = mPreferencesFragmentReference.get();                          </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 483             return fragment == null || fragment.hasUnsyncedNotes();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484         }                                                                                                </span>
<span  style=""> 485                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 486         @Override                                                                                        </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 487         protected void onPostExecute(Boolean hasUnsyncedNotes) {                                         </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 488             final PreferencesFragment fragment = mPreferencesFragmentReference.get();                    </span>
<span  style=""> 489                                                                                                          </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 490             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 491                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492             }                                                                                            </span>
<span  style=""> 493                                                                                                          </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 494             // Safety first! Check if any notes are unsynced and warn the user if so.                    </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 495             if (hasUnsyncedNotes) {                                                                      </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""><abbr title=" 496                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))"> 496                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog🔵</abbr></span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 497                     .setTitle(R.string.unsynced_notes)                                                   </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 498                     .setMessage(R.string.unsynced_notes_message)                                         </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 499                     .setPositiveButton(R.string.log_out_anyway,                                          </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 500                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 501                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 502                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 503                                 fragment.logOut();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 506                     )                                                                                    </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 507                     .setNeutralButton(R.string.export_unsynced_notes,                                    </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 508                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 509                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 510                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 511                                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 512                                 intent.addCategory(Intent.CATEGORY_OPENABLE);                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 513                                 intent.setType(&quot;application/json&quot;);                                      </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""><abbr title=" 514                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));"> 514                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_fi🔵</abbr></span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 515                                 fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 516                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 518                     )                                                                                    </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 519                     .setNegativeButton(R.string.cancel, null)                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 520                     .show();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 521             } else {                                                                                     </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 522                 fragment.logOut();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 524         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 525     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 526 }                                                                                                        </span>
</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4 import android.app.Fragment;                                                                             </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   7 import android.content.SharedPreferences;                                                                </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8 import android.net.Uri;                                                                                  </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10 import android.os.Bundle;                                                                                </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11 import android.os.ParcelFileDescriptor;                                                                  </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12 import android.widget.Toast;                                                                             </span>
<span  style="">  13                                                                                                          </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  16 import androidx.core.app.ShareCompat;                                                                    </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  17 import androidx.preference.ListPreference;                                                               </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  18 import androidx.preference.Preference;                                                                   </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  19 import androidx.preference.PreferenceFragmentCompat;                                                     </span>
<span class="-7272383226560052741" onmouseenter="enter('-7272383226560052741');" onmouseout="out('-7272383226560052741');" style="">  20 import androidx.preference.PreferenceManager;                                                            </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  21 import androidx.preference.SwitchPreferenceCompat;                                                       </span>
<span  style="">  22                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  23 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  25 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  26 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  27 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  28 import com.automattic.simplenote.utils.BrowserUtils;                                                     </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  29 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  30 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  31 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-3457858113236631039" onmouseenter="enter('-3457858113236631039');" onmouseout="out('-3457858113236631039');" style="">  32 import com.automattic.simplenote.utils.WidgetUtils;                                                      </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  33 import com.simperium.Simperium;                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  34 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  35 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  36 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  37 import com.simperium.client.User;                                                                        </span>
<span  style="">  38                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  39 import org.json.JSONArray;                                                                               </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  40 import org.json.JSONObject;                                                                              </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  41 import org.wordpress.passcodelock.AppLockManager;                                                        </span>
<span  style="">  42                                                                                                          </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  43 import java.io.FileOutputStream;                                                                         </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  44 import java.lang.ref.WeakReference;                                                                      </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  45 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  46 import java.util.Comparator;                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  47 import java.util.List;                                                                                   </span>
<span  style="">  48                                                                                                          </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  49 import static android.app.Activity.RESULT_OK;                                                            </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  50 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span  style="">  51                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  52 /**                                                                                                      </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  53  * A simple {@link Fragment} subclass.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  54  */                                                                                                      </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style=""><abbr title="  55 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  55 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, S🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  56     public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                               </span>
<span  style="">  57                                                                                                          </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  58     private static final int REQUEST_EXPORT_DATA = 9001;                                                 </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  59     private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                             </span>
<span  style="">  60                                                                                                          </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  61     private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                      </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  62     private SwitchPreferenceCompat mAnalyticsSwitch;                                                     </span>
<span  style="">  63                                                                                                          </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  64     public PreferencesFragment() {                                                                       </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  65         // Required empty public constructor                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66     }                                                                                                    </span>
<span  style="">  67                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  68     @Override                                                                                            </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  69     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                         </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  70         addPreferencesFromResource(R.xml.preferences);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71     }                                                                                                    </span>
<span  style="">  72                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  73     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  74     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  75         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  76                                                                                                          </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  77         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                     </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  78         Simplenote currentApp = (Simplenote) getActivity().getApplication();                             </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  79         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  80         simperium.setUserStatusChangeListener(this);                                                     </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style="">  81         simperium.setOnUserCreatedListener(this);                                                        </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style="">  82         mPreferencesBucket = currentApp.getPreferencesBucket();                                          </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style="">  83         mPreferencesBucket.start();                                                                      </span>
<span  style="">  84                                                                                                          </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style="">  85         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());               </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style="">  86         if (simperium.needsAuthorization()) {                                                            </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style="">  87             authenticatePreference.setTitle(R.string.log_in);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  88         } else {                                                                                         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style="">  89             authenticatePreference.setTitle(R.string.log_out);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90         }                                                                                                </span>
<span  style="">  91                                                                                                          </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style="">  92         authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="">  94             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style="">  95                 if (!isAdded()) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  96                     return false;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97                 }                                                                                        </span>
<span  style="">  98                                                                                                          </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  99                 Simplenote currentApp = (Simplenote) getActivity().getApplication();                     </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 100                 if (currentApp.getSimperium().needsAuthorization()) {                                    </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""><abbr title=" 101                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);"> 101                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class🔵</abbr></span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 102                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 103                 } else {                                                                                 </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 104                     new LogOutTask(PreferencesFragment.this).execute();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 106                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 108         });                                                                                              </span>
<span  style=""> 109                                                                                                          </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 110         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 110         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickL🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 112             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 113                 try {                                                                                    </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 114                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);    </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 115                 } catch (Exception e) {                                                                  </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""><abbr title=" 116                     Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();"> 116                     Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 118                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 120         });                                                                                              </span>
<span  style=""> 121                                                                                                          </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""><abbr title=" 122         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 122         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLis🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 123             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 124             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 125                 startActivity(new Intent(getActivity(), AboutActivity.class));                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 126                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 128         });                                                                                              </span>
<span  style=""> 129                                                                                                          </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 130         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 130         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 131             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 132             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 133                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 134                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 135                 intent.setType(&quot;application/json&quot;);                                                      </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 136                 intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                    </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 137                 startActivityForResult(intent, REQUEST_EXPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 138                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 140         });                                                                                              </span>
<span  style=""> 141                                                                                                          </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 142         final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                     </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 143         themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 145             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 146                 updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 147                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148             }                                                                                            </span>
<span  style=""> 149                                                                                                          </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 150             private void updateTheme(Activity activity, int index) {                                     </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 151                 CharSequence[] entries = themePreference.getEntries();                                   </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 152                 themePreference.setSummary(entries[index]);                                              </span>
<span  style=""> 153                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 154                 AnalyticsTracker.track(                                                                  </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 155                         AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                    </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 156                         AnalyticsTracker.CATEGORY_USER,                                                  </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 157                         &quot;theme_preference&quot;                                                               </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 158                 );                                                                                       </span>
<span  style=""> 159                                                                                                          </span>
<span class="-6345048933952298843" onmouseenter="enter('-6345048933952298843');" onmouseout="out('-6345048933952298843');" style=""> 160                 // recreate the activity so new theme is applied                                         </span>
<span class="6106586807651914503" onmouseenter="enter('6106586807651914503');" onmouseout="out('6106586807651914503');" style=""> 161                 activity.recreate();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 163         });                                                                                              </span>
<span  style=""> 164                                                                                                          </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 165         final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                             </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style=""> 166         stylePreference.setSummary(                                                                      </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style=""> 167             PrefUtils.isPremium(requireContext()) ?                                                      </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style=""> 168                 PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                              </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style=""> 169                 PrefUtils.getStyleNameDefault(requireContext())                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 170         );                                                                                               </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 171         stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 173             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 174                 startActivity(new Intent(requireContext(), StyleActivity.class));                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 175                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 177         });                                                                                              </span>
<span  style=""> 178                                                                                                          </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 179         final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                 </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 180         sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 182             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 183                 int index = Integer.parseInt(newValue.toString());                                       </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 184                 CharSequence[] entries = sortPreference.getEntries();                                    </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 185                 sortPreference.setSummary(entries[index]);                                               </span>
<span  style=""> 186                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 187                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 189         });                                                                                              </span>
<span  style=""> 190                                                                                                          </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 191 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-2516209658609361373" onmouseenter="enter('-2516209658609361373');" onmouseout="out('-2516209658609361373');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 192         Preference versionPref = findPreference(&quot;pref_key_build&quot;);                                       </span>
<span class="2941715853984851229" onmouseenter="enter('2941715853984851229');" onmouseout="out('2941715853984851229');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 193         versionPref.setSummary(PrefUtils.versionInfo());                                                 </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 194                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 195 ||||||| BASE                                                                                             </span>
<span class="-2516209658609361373" onmouseenter="enter('-2516209658609361373');" onmouseout="out('-2516209658609361373');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 196         Preference versionPref = findPreference(&quot;pref_key_build&quot;);                                       </span>
<span class="2941715853984851229" onmouseenter="enter('2941715853984851229');" onmouseout="out('2941715853984851229');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 197         versionPref.setSummary(PrefUtils.versionInfo());                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 198                                                                                                          </span>
<span class="269389859234146346" onmouseenter="enter('269389859234146346');" onmouseout="out('269389859234146346');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 199         SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_condensed_note_list&quot;);"> 199         SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_conde🔵</abbr></span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 200         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 201             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 202             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 203                 if (((SwitchPreferenceCompat) preference).isChecked()) {                                 </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 204                     AnalyticsTracker.track(                                                              </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 205                             AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 206                             AnalyticsTracker.CATEGORY_USER,                                              </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 207                             &quot;condensed_list_preference&quot;                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 208                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 209                 }                                                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 210                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 211                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 212             }                                                                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 213 =======                                                                                                  </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 214 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 215         SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);        </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 216         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 218             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 219                 if (((SwitchPreferenceCompat) preference).isChecked()) {                                 </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 220                     AnalyticsTracker.track(                                                              </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 221                             AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 222                             AnalyticsTracker.CATEGORY_USER,                                              </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 223                             &quot;condensed_list_preference&quot;                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 224                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225                 }                                                                                        </span>
<span  style=""> 226                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 227                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 229         });                                                                                              </span>
<span  style=""> 230                                                                                                          </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 231         // Add the hyperlink to the analytics summary                                                    </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 232         Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);    </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 233         String formattedSummary = String.format(                                                         </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 234                 getString(R.string.share_analytics_summary),                                             </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 235                 &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                           </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 236                 &quot;&lt;/a&gt;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 237         );                                                                                               </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 238         analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                    </span>
<span  style=""> 239                                                                                                          </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 240         mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                  </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 241         mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 243             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 244                 try {                                                                                    </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 245                     boolean isChecked = (boolean)newValue;                                               </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 246                     Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                  </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 247                     prefs.setAnalyticsEnabled(isChecked);                                                </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 248                     prefs.save();                                                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 249                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 250                     e.printStackTrace();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251                 }                                                                                        </span>
<span  style=""> 252                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 253                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 255         });                                                                                              </span>
<span  style=""> 256                                                                                                          </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 257         updateAnalyticsSwitchState();                                                                    </span>
<span  style=""> 258                                                                                                          </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""><abbr title=" 259         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 259         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 260             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 261             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style=""> 262                 startActivity(                                                                           </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style=""> 263                     ShareCompat.IntentBuilder.from(requireActivity())                                    </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style=""> 264                         .setText(AppLog.get())                                                           </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style=""> 265                         .setType(&quot;text/plain&quot;)                                                           </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style=""> 266                         .createChooserIntent()                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 267                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 268                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 270         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271     }                                                                                                    </span>
<span  style=""> 272                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 273     @Override                                                                                            </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 274     public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                   </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style=""> 275         if (resultCode != RESULT_OK || resultData == null) {                                             </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 276             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277         }                                                                                                </span>
<span  style=""> 278                                                                                                          </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 279         if (resultData.getData() == null) {                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 280             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 280             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHO🔵</abbr></span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 281             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282         }                                                                                                </span>
<span  style=""> 283                                                                                                          </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 284         switch (requestCode) {                                                                           </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 285             case REQUEST_EXPORT_DATA:                                                                    </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 286                 exportData(resultData.getData(), false);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 287                 break;                                                                                   </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 288             case REQUEST_EXPORT_UNSYNCED:                                                                </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 289                 exportData(resultData.getData(), true);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 290                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292     }                                                                                                    </span>
<span  style=""> 293                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 294     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 295     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 296         super.onPause();                                                                                 </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 297         mPreferencesBucket.stop();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298     }                                                                                                    </span>
<span  style=""> 299                                                                                                          </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 300     private boolean hasUnsyncedNotes() {                                                                 </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 301         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 302         Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                         </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 303         Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 304         while (notesCursor.moveToNext()) {                                                               </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 305             Note note = notesCursor.getObject();                                                         </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 306             if (note.isNew() || note.isModified()) {                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 307                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309         }                                                                                                </span>
<span  style=""> 310                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 311         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312     }                                                                                                    </span>
<span  style=""> 313                                                                                                          </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 314     private void logOut() {                                                                              </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 315         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="1492891761222902367" onmouseenter="enter('1492891761222902367');" onmouseout="out('1492891761222902367');" style=""> 316         application.getSimperium().deauthorizeUser();                                                    </span>
<span  style=""> 317                                                                                                          </span>
<span class="7043558399093065986" onmouseenter="enter('7043558399093065986');" onmouseout="out('7043558399093065986');" style=""> 318         application.getNotesBucket().reset();                                                            </span>
<span class="6239456552485319541" onmouseenter="enter('6239456552485319541');" onmouseout="out('6239456552485319541');" style=""> 319         application.getTagsBucket().reset();                                                             </span>
<span class="8813783904792492357" onmouseenter="enter('8813783904792492357');" onmouseout="out('8813783904792492357');" style=""> 320         application.getPreferencesBucket().reset();                                                      </span>
<span  style=""> 321                                                                                                          </span>
<span class="-2290183695292509841" onmouseenter="enter('-2290183695292509841');" onmouseout="out('-2290183695292509841');" style=""> 322         application.getNotesBucket().stop();                                                             </span>
<span class="-7044971952839176171" onmouseenter="enter('-7044971952839176171');" onmouseout="out('-7044971952839176171');" style=""> 323         AppLog.add(Type.SYNC, &quot;Stopped note bucket (PreferencesFragment)&quot;);                              </span>
<span class="1881204346293915273" onmouseenter="enter('1881204346293915273');" onmouseout="out('1881204346293915273');" style=""> 324         application.getTagsBucket().stop();                                                              </span>
<span class="-9221216379625010206" onmouseenter="enter('-9221216379625010206');" onmouseout="out('-9221216379625010206');" style=""> 325         AppLog.add(Type.SYNC, &quot;Stopped tag bucket (PreferencesFragment)&quot;);                               </span>
<span class="4389321878217818521" onmouseenter="enter('4389321878217818521');" onmouseout="out('4389321878217818521');" style=""> 326         application.getPreferencesBucket().stop();                                                       </span>
<span  style=""> 327                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 328         AnalyticsTracker.track(                                                                          </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 329                 AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                   </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 330                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 331                 &quot;preferences_sign_out_button&quot;                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 332         );                                                                                               </span>
<span  style=""> 333                                                                                                          </span>
<span class="-7624151188866077780" onmouseenter="enter('-7624151188866077780');" onmouseout="out('-7624151188866077780');" style=""> 334         // Resets analytics user back to &#x27;anon&#x27; type                                                     </span>
<span class="-8646882850309232593" onmouseenter="enter('-8646882850309232593');" onmouseout="out('-8646882850309232593');" style=""> 335         AnalyticsTracker.refreshMetadata(null);                                                          </span>
<span class="7088142554023647232" onmouseenter="enter('7088142554023647232');" onmouseout="out('7088142554023647232');" style=""> 336         CrashUtils.clearCurrentUser();                                                                   </span>
<span  style=""> 337                                                                                                          </span>
<span class="2045801939261456210" onmouseenter="enter('2045801939261456210');" onmouseout="out('2045801939261456210');" style=""> 338         // Remove wp.com token                                                                           </span>
<span class="6759455075429047207" onmouseenter="enter('6759455075429047207');" onmouseout="out('6759455075429047207');" style=""><abbr title=" 339         SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).edit();"> 339         SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).ed🔵</abbr></span>
<span class="3747765183142081866" onmouseenter="enter('3747765183142081866');" onmouseout="out('3747765183142081866');" style=""> 340         editor.remove(PrefUtils.PREF_WP_TOKEN);                                                          </span>
<span  style=""> 341                                                                                                          </span>
<span class="-3120932776057048446" onmouseenter="enter('-3120932776057048446');" onmouseout="out('-3120932776057048446');" style=""> 342         // Remove WordPress sites                                                                        </span>
<span class="-7780340906700244594" onmouseenter="enter('-7780340906700244594');" onmouseout="out('-7780340906700244594');" style=""> 343         editor.remove(PrefUtils.PREF_WORDPRESS_SITES);                                                   </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 344         editor.apply();                                                                                  </span>
<span  style=""> 345                                                                                                          </span>
<span class="4563224411068398132" onmouseenter="enter('4563224411068398132');" onmouseout="out('4563224411068398132');" style=""> 346         // Remove Passcode Lock password                                                                 </span>
<span class="400057636120928336" onmouseenter="enter('400057636120928336');" onmouseout="out('400057636120928336');" style=""> 347         AppLockManager.getInstance().getAppLock().setPassword(&quot;&quot;);                                       </span>
<span  style=""> 348                                                                                                          </span>
<span class="-2915955960672646870" onmouseenter="enter('-2915955960672646870');" onmouseout="out('-2915955960672646870');" style=""> 349         WidgetUtils.updateNoteWidgets(requireActivity().getApplicationContext());                        </span>
<span  style=""> 350                                                                                                          </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 351         getActivity().finish();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span  style=""> 353                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 354     @Override                                                                                            </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 355     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 356         if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                             </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 357             // User signed in                                                                            </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 358             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 359                 public void run() {                                                                      </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 360                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 361                     authenticatePreference.setTitle(R.string.log_out);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 363             });                                                                                          </span>
<span  style=""> 364                                                                                                          </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 365             Simplenote app = (Simplenote) getActivity().getApplication();                                </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 366             AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                   </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 367             CrashUtils.setCurrentUser(app.getSimperium().getUser());                                     </span>
<span  style=""> 368                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 369             AnalyticsTracker.track(                                                                      </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 370                     AnalyticsTracker.Stat.USER_SIGNED_IN,                                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 371                     AnalyticsTracker.CATEGORY_USER,                                                      </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 372                     &quot;signed_in_from_preferences_activity&quot;                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 373             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375     }                                                                                                    </span>
<span  style=""> 376                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 377     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 378     public void onUserCreated(User user) {                                                               </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 379         AnalyticsTracker.track(                                                                          </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 380                 AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                              </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 381                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 382                 &quot;account_created_from_preferences_activity&quot;                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 383         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384     }                                                                                                    </span>
<span  style=""> 385                                                                                                          </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 386     private void exportData(Uri uri, boolean isUnsyncedNotes) {                                          </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 387         Simplenote currentApp = (Simplenote) requireActivity().getApplication();                         </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 388         Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                           </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 389         JSONObject account = new JSONObject();                                                           </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 390         Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                      </span>
<span  style=""> 391                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 392         try {                                                                                            </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 393             JSONArray activeNotes = new JSONArray();                                                     </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 394             JSONArray trashedNotes = new JSONArray();                                                    </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 395             Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 396                 @Override                                                                                </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 397                 public int compare(String text1, String text2) {                                         </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 398                     return text1.compareToIgnoreCase(text2);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 400             };                                                                                           </span>
<span  style=""> 401                                                                                                          </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 402             while (cursor.moveToNext()) {                                                                </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 403                 Note note = cursor.getObject();                                                          </span>
<span  style=""> 404                                                                                                          </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 405                 if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                            </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 406                     continue;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407                 }                                                                                        </span>
<span  style=""> 408                                                                                                          </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 409                 JSONObject noteJson = new JSONObject();                                                  </span>
<span  style=""> 410                                                                                                          </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 411                 noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                              </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 412                 noteJson.put(&quot;content&quot;, note.getContent());                                              </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 413                 noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                              </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 414                 noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                          </span>
<span  style=""> 415                                                                                                          </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 416                 if (note.isPinned()) {                                                                   </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 417                     noteJson.put(&quot;pinned&quot;, note.isPinned());                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 418                 }                                                                                        </span>
<span  style=""> 419                                                                                                          </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 420                 if (note.isMarkdownEnabled()) {                                                          </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 421                     noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422                 }                                                                                        </span>
<span  style=""> 423                                                                                                          </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 424                 if (note.getTags().size() &gt; 0) {                                                         </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 425                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 426                     Collections.sort(tags, comparator);                                                  </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 427                     noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428                 }                                                                                        </span>
<span  style=""> 429                                                                                                          </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 430                 if (!note.getPublishedUrl().isEmpty()) {                                                 </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 431                     noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432                 }                                                                                        </span>
<span  style=""> 433                                                                                                          </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 434                 if (note.isDeleted()) {                                                                  </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 435                     trashedNotes.put(noteJson);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 436                 } else {                                                                                 </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 437                     activeNotes.put(noteJson);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439             }                                                                                            </span>
<span  style=""> 440                                                                                                          </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 441             account.put(&quot;activeNotes&quot;, activeNotes);                                                     </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 442             account.put(&quot;trashedNotes&quot;, trashedNotes);                                                   </span>
<span  style=""> 443                                                                                                          </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 444             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 444             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDes🔵</abbr></span>
<span  style=""> 445                                                                                                          </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 446             if (parcelFileDescriptor != null) {                                                          </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 447                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 447                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDesc🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 448                 fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());               </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 449                 parcelFileDescriptor.close();                                                            </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style=""><abbr title=" 450                 Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 450                 Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 451             } else {                                                                                     </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 452                 Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 452                 Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453             }                                                                                            </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 454         } catch (Exception e) {                                                                          </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 455             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 455             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 457     }                                                                                                    </span>
<span  style=""> 458                                                                                                          </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 459     private void updateAnalyticsSwitchState() {                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 460         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 461             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 462             mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                    </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 463         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 464             // The preferences object doesn&#x27;t exist for this user yet, create it                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 465             try {                                                                                        </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 466                 Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 467                 prefs.setAnalyticsEnabled(true);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 468                 prefs.save();                                                                            </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 469             } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                  </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 470                 bucketObjectNameInvalid.printStackTrace();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 473     }                                                                                                    </span>
<span  style=""> 474                                                                                                          </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 475     private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                             </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 476         private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                        </span>
<span  style=""> 477                                                                                                          </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 478         LogOutTask(PreferencesFragment fragment) {                                                       </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 479             mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480         }                                                                                                </span>
<span  style=""> 481                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 482         @Override                                                                                        </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 483         protected Boolean doInBackground(Void... voids) {                                                </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 484             PreferencesFragment fragment = mPreferencesFragmentReference.get();                          </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 485             return fragment == null || fragment.hasUnsyncedNotes();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486         }                                                                                                </span>
<span  style=""> 487                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 488         @Override                                                                                        </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 489         protected void onPostExecute(Boolean hasUnsyncedNotes) {                                         </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 490             final PreferencesFragment fragment = mPreferencesFragmentReference.get();                    </span>
<span  style=""> 491                                                                                                          </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 492             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 493                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494             }                                                                                            </span>
<span  style=""> 495                                                                                                          </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 496             // Safety first! Check if any notes are unsynced and warn the user if so.                    </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 497             if (hasUnsyncedNotes) {                                                                      </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""><abbr title=" 498                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))"> 498                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog🔵</abbr></span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 499                     .setTitle(R.string.unsynced_notes)                                                   </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 500                     .setMessage(R.string.unsynced_notes_message)                                         </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 501                     .setPositiveButton(R.string.log_out_anyway,                                          </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 502                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 503                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 504                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 505                                 fragment.logOut();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 508                     )                                                                                    </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 509                     .setNeutralButton(R.string.export_unsynced_notes,                                    </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 510                         new DialogInterface.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 511                             @Override                                                                    </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 512                             public void onClick(DialogInterface dialogInterface, int i) {                </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 513                                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 514                                 intent.addCategory(Intent.CATEGORY_OPENABLE);                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 515                                 intent.setType(&quot;application/json&quot;);                                      </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""><abbr title=" 516                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));"> 516                                 intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_fi🔵</abbr></span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 517                                 fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 519                         }                                                                                </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 520                     )                                                                                    </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 521                     .setNegativeButton(R.string.cancel, null)                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 522                     .show();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 523             } else {                                                                                     </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 524                 fragment.logOut();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 525             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 526         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 527     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 528 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4 import android.app.Fragment;                                                                             </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   7 import android.content.SharedPreferences;                                                                </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8 import android.net.Uri;                                                                                  </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10 import android.os.Bundle;                                                                                </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11 import android.os.ParcelFileDescriptor;                                                                  </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12 import android.widget.Toast;                                                                             </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  13 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  14 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="">  15 import androidx.core.app.ShareCompat;                                                                    </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  16 import androidx.preference.ListPreference;                                                               </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  17 import androidx.preference.Preference;                                                                   </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  18 import androidx.preference.PreferenceFragmentCompat;                                                     </span>
<span class="-7272383226560052741" onmouseenter="enter('-7272383226560052741');" onmouseout="out('-7272383226560052741');" style="">  19 import androidx.preference.PreferenceManager;                                                            </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  20 import androidx.preference.SwitchPreferenceCompat;                                                       </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  21 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  22 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  23 import com.automattic.simplenote.models.Preferences;                                                     </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="">  24 import com.automattic.simplenote.utils.AppLog.Type;                                                      </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="">  25 import com.automattic.simplenote.utils.AppLog;                                                           </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  26 import com.automattic.simplenote.utils.BrowserUtils;                                                     </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  27 import com.automattic.simplenote.utils.CrashUtils;                                                       </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  28 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  29 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-3457858113236631039" onmouseenter="enter('-3457858113236631039');" onmouseout="out('-3457858113236631039');" style="">  30 import com.automattic.simplenote.utils.WidgetUtils;                                                      </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  31 import com.simperium.Simperium;                                                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  32 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  33 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  34 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  35 import com.simperium.client.User;                                                                        </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  36 import java.io.FileOutputStream;                                                                         </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  37 import java.lang.ref.WeakReference;                                                                      </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  38 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  39 import java.util.Comparator;                                                                             </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  40 import java.util.List;                                                                                   </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  41 import org.json.JSONArray;                                                                               </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  42 import org.json.JSONObject;                                                                              </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  43 import org.wordpress.passcodelock.AppLockManager;                                                        </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="">  44 import static android.app.Activity.RESULT_OK;                                                            </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  45 import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                       </span>
<span  style="">  46                                                                                                          </span>
<span  style="">  47                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  48 /**                                                                                                      </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  49  * A simple {@link Fragment} subclass.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  50  */                                                                                                      </span>
<span class="-7540062518027686993" onmouseenter="enter('-7540062518027686993');" onmouseout="out('-7540062518027686993');" style=""><abbr title="  51 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener , Simperium.OnUserCreatedListener {">  51 public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener , 🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="">  52     public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                               </span>
<span  style="">  53                                                                                                          </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  54     private static final int REQUEST_EXPORT_DATA = 9001;                                                 </span>
<span  style="">  55                                                                                                          </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  56     private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                             </span>
<span  style="">  57                                                                                                          </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  58     private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                      </span>
<span  style="">  59                                                                                                          </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  60     private SwitchPreferenceCompat mAnalyticsSwitch;                                                     </span>
<span  style="">  61                                                                                                          </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  62     public PreferencesFragment() {                                                                       </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  63         // Required empty public constructor                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64     }                                                                                                    </span>
<span  style="">  65                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  66     @Override                                                                                            </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  67     public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                         </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  68         addPreferencesFromResource(R.xml.preferences);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69     }                                                                                                    </span>
<span  style="">  70                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  71     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  72     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  73         super.onActivityCreated(savedInstanceState);                                                     </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  74         Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                     </span>
<span class="4803144681849619263" onmouseenter="enter('4803144681849619263');" onmouseout="out('4803144681849619263');" style="">  75         Simplenote currentApp = ((Simplenote) (getActivity().getApplication()));                         </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  76         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  77         simperium.setUserStatusChangeListener(this);                                                     </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style="">  78         simperium.setOnUserCreatedListener(this);                                                        </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style="">  79         mPreferencesBucket = currentApp.getPreferencesBucket();                                          </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style="">  80         mPreferencesBucket.start();                                                                      </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style="">  81         authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());               </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style="">  82         if (simperium.needsAuthorization()) {                                                            </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style="">  83             authenticatePreference.setTitle(R.string.log_in);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  84         } else {                                                                                         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style="">  85             authenticatePreference.setTitle(R.string.log_out);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86         }                                                                                                </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style="">  87         authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="">  89             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style="">  90                 if (!isAdded()) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  91                     return false;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92                 }                                                                                        </span>
<span class="4803144681849619263" onmouseenter="enter('4803144681849619263');" onmouseout="out('4803144681849619263');" style="">  93                 Simplenote currentApp = ((Simplenote) (getActivity().getApplication()));                 </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style="">  94                 if (currentApp.getSimperium().needsAuthorization()) {                                    </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""><abbr title="  95                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);">  95                     Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class🔵</abbr></span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style="">  96                     startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  97                 } else {                                                                                 </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style="">  98                     new LogOutTask(PreferencesFragment.this).execute();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 100                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 102         });                                                                                              </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 103         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 103         findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickL🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 104             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 105             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 106                 try {                                                                                    </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 107                     BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);    </span>
<span class="-3589222456918676513" onmouseenter="enter('-3589222456918676513');" onmouseout="out('-3589222456918676513');" style=""> 108                 } catch (java.lang.Exception e) {                                                        </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""><abbr title=" 109                     Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();"> 109                     Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 111                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 113         });                                                                                              </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""><abbr title=" 114         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 114         findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLis🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 115             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 116             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 117                 startActivity(new Intent(getActivity(), AboutActivity.class));                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 118                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 120         });                                                                                              </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 121         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 121         findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickLi🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 122             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 123             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 124                 Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                               </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 125                 intent.addCategory(Intent.CATEGORY_OPENABLE);                                            </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 126                 intent.setType(&quot;application/json&quot;);                                                      </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 127                 intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                    </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 128                 startActivityForResult(intent, REQUEST_EXPORT_DATA);                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 129                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 131         });                                                                                              </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style=""> 132         final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                     </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 133         themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 135             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 136                 updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 137                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138             }                                                                                            </span>
<span  style=""> 139                                                                                                          </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 140             private void updateTheme(Activity activity, int index) {                                     </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 141                 CharSequence[] entries = themePreference.getEntries();                                   </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 142                 themePreference.setSummary(entries[index]);                                              </span>
<span class="-7480915350226764443" onmouseenter="enter('-7480915350226764443');" onmouseout="out('-7480915350226764443');" style=""><abbr title=" 143                 AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED, AnalyticsTracker.CATEGORY_USER, &quot;theme_preference&quot;);"> 143                 AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED, AnalyticsTracker.CAT🔵</abbr></span>
<span class="-6345048933952298843" onmouseenter="enter('-6345048933952298843');" onmouseout="out('-6345048933952298843');" style=""> 144                 // recreate the activity so new theme is applied                                         </span>
<span class="6106586807651914503" onmouseenter="enter('6106586807651914503');" onmouseout="out('6106586807651914503');" style=""> 145                 activity.recreate();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 147         });                                                                                              </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style=""> 148         final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                             </span>
<span class="3428395501667720224" onmouseenter="enter('3428395501667720224');" onmouseout="out('3428395501667720224');" style=""><abbr title=" 149         stylePreference.setSummary(PrefUtils.isPremium(requireContext()) ? PrefUtils.getStyleNameFromIndexSelected(requireContext()) : PrefUtils.getStyleNameDefault(requireContext()));"> 149         stylePreference.setSummary(PrefUtils.isPremium(requireContext()) ? PrefUtils.getStyleNameFromInde🔵</abbr></span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style=""> 150         stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 151             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 152             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style=""> 153                 startActivity(new Intent(requireContext(), StyleActivity.class));                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 154                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 156         });                                                                                              </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style=""> 157         final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                 </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 158         sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 159             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 160             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 161                 int index = Integer.parseInt(newValue.toString());                                       </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 162                 CharSequence[] entries = sortPreference.getEntries();                                    </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 163                 sortPreference.setSummary(entries[index]);                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 164                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 166         });                                                                                              </span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style=""> 167         SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);        </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 168         switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 169             @Override                                                                                    </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 170             public boolean onPreferenceChange(Preference preference, Object o) {                         </span>
<span class="-454987626601386721" onmouseenter="enter('-454987626601386721');" onmouseout="out('-454987626601386721');" style=""> 171                 if (((SwitchPreferenceCompat) (preference)).isChecked()) {                               </span>
<span class="-5939352487095839969" onmouseenter="enter('-5939352487095839969');" onmouseout="out('-5939352487095839969');" style=""><abbr title=" 172                     AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED, AnalyticsTracker.CATEGORY_USER, &quot;condensed_list_preference&quot;);"> 172                     AnalyticsTracker.track(AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED, Analyti🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 174                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 176         });                                                                                              </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 177         // Add the hyperlink to the analytics summary                                                    </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 178         Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);    </span>
<span class="6934693986878238280" onmouseenter="enter('6934693986878238280');" onmouseout="out('6934693986878238280');" style=""><abbr title=" 179         String formattedSummary = String.format(getString(R.string.share_analytics_summary), &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;, &quot;&lt;/a&gt;&quot;);"> 179         String formattedSummary = String.format(getString(R.string.share_analytics_summary), &quot;&lt;a href=\&quot;h🔵</abbr></span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 180         analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                    </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style=""> 181         mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                  </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 182         mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183             @Override                                                                                    </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 184             public boolean onPreferenceChange(Preference preference, Object newValue) {                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 185                 try {                                                                                    </span>
<span class="-218707031809364308" onmouseenter="enter('-218707031809364308');" onmouseout="out('-218707031809364308');" style=""> 186                     boolean isChecked = ((boolean) (newValue));                                          </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 187                     Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                  </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 188                     prefs.setAnalyticsEnabled(isChecked);                                                </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 189                     prefs.save();                                                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 190                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 191                     e.printStackTrace();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 193                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 195         });                                                                                              </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 196         updateAnalyticsSwitchState();                                                                    </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style=""><abbr title=" 197         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 197         findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickList🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 198             @Override                                                                                    </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 199             public boolean onPreferenceClick(Preference preference) {                                    </span>
<span class="2828990800263218622" onmouseenter="enter('2828990800263218622');" onmouseout="out('2828990800263218622');" style=""><abbr title=" 200                 startActivity(ShareCompat.IntentBuilder.from(requireActivity()).setText(AppLog.get()).setType(&quot;text/plain&quot;).createChooserIntent());"> 200                 startActivity(ShareCompat.IntentBuilder.from(requireActivity()).setText(AppLog.get()).set🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 201                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 203         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204     }                                                                                                    </span>
<span  style=""> 205                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206     @Override                                                                                            </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 207     public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                   </span>
<span class="-3322721817516354188" onmouseenter="enter('-3322721817516354188');" onmouseout="out('-3322721817516354188');" style=""> 208         if ((resultCode != RESULT_OK) || (resultData == null)) {                                         </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 209             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210         }                                                                                                </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 211         if (resultData.getData() == null) {                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 212             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 212             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHO🔵</abbr></span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 213             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214         }                                                                                                </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 215         switch (requestCode) {                                                                           </span>
<span class="-1571847737265144189" onmouseenter="enter('-1571847737265144189');" onmouseout="out('-1571847737265144189');" style=""> 216             case REQUEST_EXPORT_DATA :                                                                   </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 217                 exportData(resultData.getData(), false);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 218                 break;                                                                                   </span>
<span class="-3656237994787483894" onmouseenter="enter('-3656237994787483894');" onmouseout="out('-3656237994787483894');" style=""> 219             case REQUEST_EXPORT_UNSYNCED :                                                               </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 220                 exportData(resultData.getData(), true);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 221                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223     }                                                                                                    </span>
<span  style=""> 224                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 225     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 226     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 227         super.onPause();                                                                                 </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 228         mPreferencesBucket.stop();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229     }                                                                                                    </span>
<span  style=""> 230                                                                                                          </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 231     private boolean hasUnsyncedNotes() {                                                                 </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 232         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 233         Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                         </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 234         Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 235         while (notesCursor.moveToNext()) {                                                               </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 236             Note note = notesCursor.getObject();                                                         </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 237             if (note.isNew() || note.isModified()) {                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 238                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240         }                                                                                                </span>
<span  style=""> 241                                                                                                          </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 242         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243     }                                                                                                    </span>
<span  style=""> 244                                                                                                          </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 245     private void logOut() {                                                                              </span>
<span class="1018174203056851079" onmouseenter="enter('1018174203056851079');" onmouseout="out('1018174203056851079');" style=""> 246         Simplenote application = ((Simplenote) (getActivity().getApplication()));                        </span>
<span class="1492891761222902367" onmouseenter="enter('1492891761222902367');" onmouseout="out('1492891761222902367');" style=""> 247         application.getSimperium().deauthorizeUser();                                                    </span>
<span class="7043558399093065986" onmouseenter="enter('7043558399093065986');" onmouseout="out('7043558399093065986');" style=""> 248         application.getNotesBucket().reset();                                                            </span>
<span class="6239456552485319541" onmouseenter="enter('6239456552485319541');" onmouseout="out('6239456552485319541');" style=""> 249         application.getTagsBucket().reset();                                                             </span>
<span class="8813783904792492357" onmouseenter="enter('8813783904792492357');" onmouseout="out('8813783904792492357');" style=""> 250         application.getPreferencesBucket().reset();                                                      </span>
<span class="-2290183695292509841" onmouseenter="enter('-2290183695292509841');" onmouseout="out('-2290183695292509841');" style=""> 251         application.getNotesBucket().stop();                                                             </span>
<span class="-7044971952839176171" onmouseenter="enter('-7044971952839176171');" onmouseout="out('-7044971952839176171');" style=""> 252         AppLog.add(Type.SYNC, &quot;Stopped note bucket (PreferencesFragment)&quot;);                              </span>
<span class="1881204346293915273" onmouseenter="enter('1881204346293915273');" onmouseout="out('1881204346293915273');" style=""> 253         application.getTagsBucket().stop();                                                              </span>
<span class="-9221216379625010206" onmouseenter="enter('-9221216379625010206');" onmouseout="out('-9221216379625010206');" style=""> 254         AppLog.add(Type.SYNC, &quot;Stopped tag bucket (PreferencesFragment)&quot;);                               </span>
<span class="4389321878217818521" onmouseenter="enter('4389321878217818521');" onmouseout="out('4389321878217818521');" style=""> 255         application.getPreferencesBucket().stop();                                                       </span>
<span class="4231219891486379483" onmouseenter="enter('4231219891486379483');" onmouseout="out('4231219891486379483');" style=""><abbr title=" 256         AnalyticsTracker.track(AnalyticsTracker.Stat.USER_SIGNED_OUT, AnalyticsTracker.CATEGORY_USER, &quot;preferences_sign_out_button&quot;);"> 256         AnalyticsTracker.track(AnalyticsTracker.Stat.USER_SIGNED_OUT, AnalyticsTracker.CATEGORY_USER, &quot;pr🔵</abbr></span>
<span class="-7624151188866077780" onmouseenter="enter('-7624151188866077780');" onmouseout="out('-7624151188866077780');" style=""> 257         // Resets analytics user back to &#x27;anon&#x27; type                                                     </span>
<span class="-8646882850309232593" onmouseenter="enter('-8646882850309232593');" onmouseout="out('-8646882850309232593');" style=""> 258         AnalyticsTracker.refreshMetadata(null);                                                          </span>
<span class="7088142554023647232" onmouseenter="enter('7088142554023647232');" onmouseout="out('7088142554023647232');" style=""> 259         CrashUtils.clearCurrentUser();                                                                   </span>
<span class="2045801939261456210" onmouseenter="enter('2045801939261456210');" onmouseout="out('2045801939261456210');" style=""> 260         // Remove wp.com token                                                                           </span>
<span class="6759455075429047207" onmouseenter="enter('6759455075429047207');" onmouseout="out('6759455075429047207');" style=""><abbr title=" 261         SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).edit();"> 261         SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).ed🔵</abbr></span>
<span class="3747765183142081866" onmouseenter="enter('3747765183142081866');" onmouseout="out('3747765183142081866');" style=""> 262         editor.remove(PrefUtils.PREF_WP_TOKEN);                                                          </span>
<span class="-3120932776057048446" onmouseenter="enter('-3120932776057048446');" onmouseout="out('-3120932776057048446');" style=""> 263         // Remove WordPress sites                                                                        </span>
<span class="-7780340906700244594" onmouseenter="enter('-7780340906700244594');" onmouseout="out('-7780340906700244594');" style=""> 264         editor.remove(PrefUtils.PREF_WORDPRESS_SITES);                                                   </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 265         editor.apply();                                                                                  </span>
<span class="4563224411068398132" onmouseenter="enter('4563224411068398132');" onmouseout="out('4563224411068398132');" style=""> 266         // Remove Passcode Lock password                                                                 </span>
<span class="400057636120928336" onmouseenter="enter('400057636120928336');" onmouseout="out('400057636120928336');" style=""> 267         AppLockManager.getInstance().getAppLock().setPassword(&quot;&quot;);                                       </span>
<span class="-2915955960672646870" onmouseenter="enter('-2915955960672646870');" onmouseout="out('-2915955960672646870');" style=""> 268         WidgetUtils.updateNoteWidgets(requireActivity().getApplicationContext());                        </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 269         getActivity().finish();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270     }                                                                                                    </span>
<span  style=""> 271                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 272     @Override                                                                                            </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 273     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 274         if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                             </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 275             // User signed in                                                                            </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 276             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 277                 public void run() {                                                                      </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 278                     Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);         </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 279                     authenticatePreference.setTitle(R.string.log_out);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 281             });                                                                                          </span>
<span  style=""> 282                                                                                                          </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 283             Simplenote app = (Simplenote) getActivity().getApplication();                                </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 284             AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                   </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 285             CrashUtils.setCurrentUser(app.getSimperium().getUser());                                     </span>
<span  style=""> 286                                                                                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 287             AnalyticsTracker.track(                                                                      </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 288                     AnalyticsTracker.Stat.USER_SIGNED_IN,                                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 289                     AnalyticsTracker.CATEGORY_USER,                                                      </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 290                     &quot;signed_in_from_preferences_activity&quot;                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 291             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293     }                                                                                                    </span>
<span  style=""> 294                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 295     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 296     public void onUserCreated(User user) {                                                               </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 297         AnalyticsTracker.track(                                                                          </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 298                 AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                              </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 299                 AnalyticsTracker.CATEGORY_USER,                                                          </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 300                 &quot;account_created_from_preferences_activity&quot;                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 301         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302     }                                                                                                    </span>
<span  style=""> 303                                                                                                          </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 304     private void exportData(Uri uri, boolean isUnsyncedNotes) {                                          </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 305         Simplenote currentApp = (Simplenote) requireActivity().getApplication();                         </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 306         Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                           </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 307         JSONObject account = new JSONObject();                                                           </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 308         Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                      </span>
<span  style=""> 309                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 310         try {                                                                                            </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 311             JSONArray activeNotes = new JSONArray();                                                     </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 312             JSONArray trashedNotes = new JSONArray();                                                    </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 313             Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 314                 @Override                                                                                </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 315                 public int compare(String text1, String text2) {                                         </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 316                     return text1.compareToIgnoreCase(text2);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 318             };                                                                                           </span>
<span  style=""> 319                                                                                                          </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 320             while (cursor.moveToNext()) {                                                                </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 321                 Note note = cursor.getObject();                                                          </span>
<span  style=""> 322                                                                                                          </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 323                 if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                            </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 324                     continue;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325                 }                                                                                        </span>
<span  style=""> 326                                                                                                          </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 327                 JSONObject noteJson = new JSONObject();                                                  </span>
<span  style=""> 328                                                                                                          </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 329                 noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                              </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 330                 noteJson.put(&quot;content&quot;, note.getContent());                                              </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 331                 noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                              </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 332                 noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                          </span>
<span  style=""> 333                                                                                                          </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 334                 if (note.isPinned()) {                                                                   </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 335                     noteJson.put(&quot;pinned&quot;, note.isPinned());                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336                 }                                                                                        </span>
<span  style=""> 337                                                                                                          </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 338                 if (note.isMarkdownEnabled()) {                                                          </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 339                     noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340                 }                                                                                        </span>
<span  style=""> 341                                                                                                          </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 342                 if (note.getTags().size() &gt; 0) {                                                         </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 343                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 344                     Collections.sort(tags, comparator);                                                  </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 345                     noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346                 }                                                                                        </span>
<span  style=""> 347                                                                                                          </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 348                 if (!note.getPublishedUrl().isEmpty()) {                                                 </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 349                     noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350                 }                                                                                        </span>
<span  style=""> 351                                                                                                          </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 352                 if (note.isDeleted()) {                                                                  </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 353                     trashedNotes.put(noteJson);                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 354                 } else {                                                                                 </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 355                     activeNotes.put(noteJson);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357             }                                                                                            </span>
<span  style=""> 358                                                                                                          </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 359             account.put(&quot;activeNotes&quot;, activeNotes);                                                     </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 360             account.put(&quot;trashedNotes&quot;, trashedNotes);                                                   </span>
<span  style=""> 361                                                                                                          </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 362             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 362             ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDes🔵</abbr></span>
<span  style=""> 363                                                                                                          </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 364             if (parcelFileDescriptor != null) {                                                          </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 365                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 365                 FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDesc🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 366                 fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());               </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 367                 parcelFileDescriptor.close();                                                            </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style=""><abbr title=" 368                 Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 368                 Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 369             } else {                                                                                     </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 370                 Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 370                 Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371             }                                                                                            </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 372         } catch (Exception e) {                                                                          </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 373             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 373             Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375     }                                                                                                    </span>
<span  style=""> 376                                                                                                          </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 377     private void updateAnalyticsSwitchState() {                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 378         try {                                                                                            </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 379             Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                          </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 380             mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                    </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 381         } catch (BucketObjectMissingException e) {                                                       </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 382             // The preferences object doesn&#x27;t exist for this user yet, create it                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 383             try {                                                                                        </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 384                 Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 385                 prefs.setAnalyticsEnabled(true);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 386                 prefs.save();                                                                            </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 387             } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                  </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 388                 bucketObjectNameInvalid.printStackTrace();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391     }                                                                                                    </span>
<span  style=""> 392                                                                                                          </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 393     private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                             </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 394         private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                        </span>
<span  style=""> 395                                                                                                          </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 396         LogOutTask(PreferencesFragment fragment) {                                                       </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 397             mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398         }                                                                                                </span>
<span  style=""> 399                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 400         @Override                                                                                        </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 401         protected Boolean doInBackground(Void... voids) {                                                </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 402             PreferencesFragment fragment = mPreferencesFragmentReference.get();                          </span>
<span class="3469476575903725482" onmouseenter="enter('3469476575903725482');" onmouseout="out('3469476575903725482');" style=""> 403             return (fragment == null) || fragment.hasUnsyncedNotes();                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404         }                                                                                                </span>
<span  style=""> 405                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 406         @Override                                                                                        </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 407         protected void onPostExecute(Boolean hasUnsyncedNotes) {                                         </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 408             final PreferencesFragment fragment = mPreferencesFragmentReference.get();                    </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 409             if (fragment == null) {                                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 410                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411             }                                                                                            </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 412             // Safety first! Check if any notes are unsynced and warn the user if so.                    </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 413             if (hasUnsyncedNotes) {                                                                      </span>
<span class="-4099391055340012505" onmouseenter="enter('-4099391055340012505');" onmouseout="out('-4099391055340012505');" style=""><abbr title=" 414                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog)).setTitle(R.string.unsynced_notes).setMessage(R.string.unsynced_notes_message).setPositiveButton(R.string.log_out_anyway, new DialogInterface.OnClickListener() {"> 414                 new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 415                     @Override                                                                            </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 416                     public void onClick(DialogInterface dialogInterface, int i) {                        </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 417                         fragment.logOut();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 418                     }                                                                                    </span>
<span class="6384606692944879421" onmouseenter="enter('6384606692944879421');" onmouseout="out('6384606692944879421');" style=""><abbr title=" 419                 }).setNeutralButton(R.string.export_unsynced_notes, new DialogInterface.OnClickListener() {"> 419                 }).setNeutralButton(R.string.export_unsynced_notes, new DialogInterface.OnClickListener()🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 420                     @Override                                                                            </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 421                     public void onClick(DialogInterface dialogInterface, int i) {                        </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 422                         Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                       </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 423                         intent.addCategory(Intent.CATEGORY_OPENABLE);                                    </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 424                         intent.setType(&quot;application/json&quot;);                                              </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""> 425                         intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));   </span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 426                         fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 427                     }                                                                                    </span>
<span class="-2680517860136966196" onmouseenter="enter('-2680517860136966196');" onmouseout="out('-2680517860136966196');" style=""> 428                 }).setNegativeButton(R.string.cancel, null).show();                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 429             } else {                                                                                     </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 430                 fragment.logOut();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434 }                                                                                                        </span>




























































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3  import android.app.Activity;                                                                                      </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4  import android.app.Fragment;                                                                                      </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   7  import android.content.SharedPreferences;                                                                         </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8  import android.net.Uri;                                                                                           </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10  import android.os.Bundle;                                                                                         </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11  import android.os.ParcelFileDescriptor;                                                                           </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12  import android.widget.Toast;                                                                                      </span>
<span  style="">  13                                                                                                                    </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15  import androidx.appcompat.view.ContextThemeWrapper;                                                               </span>

<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  16  import androidx.preference.ListPreference;                                                                        </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  17  import androidx.preference.Preference;                                                                            </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  18  import androidx.preference.PreferenceFragmentCompat;                                                              </span>
<span class="-7272383226560052741" onmouseenter="enter('-7272383226560052741');" onmouseout="out('-7272383226560052741');" style="">  19  import androidx.preference.PreferenceManager;                                                                     </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  20  import androidx.preference.SwitchPreferenceCompat;                                                                </span>
<span  style="">  21                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  23  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  24  import com.automattic.simplenote.models.Preferences;                                                              </span>


<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  25  import com.automattic.simplenote.utils.BrowserUtils;                                                              </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  26  import com.automattic.simplenote.utils.CrashUtils;                                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  27  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  28  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-3457858113236631039" onmouseenter="enter('-3457858113236631039');" onmouseout="out('-3457858113236631039');" style="">  29  import com.automattic.simplenote.utils.WidgetUtils;                                                               </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  30  import com.simperium.Simperium;                                                                                   </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  31  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  32  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  33  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  34  import com.simperium.client.User;                                                                                 </span>
<span  style="">  35                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  36  import org.json.JSONArray;                                                                                        </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  37  import org.json.JSONObject;                                                                                       </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  38  import org.wordpress.passcodelock.AppLockManager;                                                                 </span>
<span  style="">  39                                                                                                                    </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  40  import java.io.FileOutputStream;                                                                                  </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  41  import java.lang.ref.WeakReference;                                                                               </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  42  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  43  import java.util.Comparator;                                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  44  import java.util.List;                                                                                            </span>
<span  style="">  45                                                                                                                    </span>
<span class="2231896644229357239" onmouseenter="enter('2231896644229357239');" onmouseout="out('2231896644229357239');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +import static android.app.Activity.RESULT_OK;                                                                     </span>
<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  47  import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                                </span>
<span  style="">  48                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  49  /**                                                                                                               </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  50   * A simple {@link Fragment} subclass.                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  51   */                                                                                                               </span>
<span class="8213712831003870267" onmouseenter="enter('8213712831003870267');" onmouseout="out('8213712831003870267');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener,           </span>
<span class="-6650933180145052624" onmouseenter="enter('-6650933180145052624');" onmouseout="out('-6650933180145052624');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -        Simperium.OnUserCreatedListener {                                                                         </span>
<span class="6526302226782351091" onmouseenter="enter('6526302226782351091');" onmouseout="out('6526302226782351091');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -    private static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                                       </span>
<span class="-2828848698543354439" onmouseenter="enter('-2828848698543354439');" onmouseout="out('-2828848698543354439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  55 +public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.OnUserCreatedListener {">  55 +public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener, Simperium.🔵</abbr></span>
<span class="-6013130391274806937" onmouseenter="enter('-6013130391274806937');" onmouseout="out('-6013130391274806937');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +    public static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +                                                                                                                  </span>
<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  58      private static final int REQUEST_EXPORT_DATA = 9001;                                                          </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  59      private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                                      </span>
<span  style="">  60                                                                                                                    </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  61      private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                               </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  62      private SwitchPreferenceCompat mAnalyticsSwitch;                                                              </span>
<span  style="">  63                                                                                                                    </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  64      public PreferencesFragment() {                                                                                </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  65          // Required empty public constructor                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66      }                                                                                                             </span>
<span  style="">  67                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  68      @Override                                                                                                     </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  69      public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                                  </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  70          addPreferencesFromResource(R.xml.preferences);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71      }                                                                                                             </span>
<span  style="">  72                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  73      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  74      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  75          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  76                                                                                                                    </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  77          Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                              </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  78          Simplenote currentApp = (Simplenote) getActivity().getApplication();                                      </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  79          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  80          simperium.setUserStatusChangeListener(this);                                                              </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style="">  81          simperium.setOnUserCreatedListener(this);                                                                 </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style="">  82          mPreferencesBucket = currentApp.getPreferencesBucket();                                                   </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style="">  83          mPreferencesBucket.start();                                                                               </span>
<span  style="">  84                                                                                                                    </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style="">  85          authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());                        </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style="">  86          if (simperium.needsAuthorization()) {                                                                     </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style="">  87              authenticatePreference.setTitle(R.string.log_in);                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  88          } else {                                                                                                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style="">  89              authenticatePreference.setTitle(R.string.log_out);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90          }                                                                                                         </span>
<span  style="">  91                                                                                                                    </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style="">  92          authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="">  94              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style="">  95                  if (!isAdded()) {                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  96                      return false;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97                  }                                                                                                 </span>
<span  style="">  98                                                                                                                    </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  99                  Simplenote currentApp = (Simplenote) getActivity().getApplication();                              </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style=""> 100                  if (currentApp.getSimperium().needsAuthorization()) {                                             </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""> 101                      Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);       </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 102                      startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 103                  } else {                                                                                          </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 104                      new LogOutTask(PreferencesFragment.this).execute();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 106                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 108          });                                                                                                       </span>
<span  style=""> 109                                                                                                                    </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 110          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 110          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener()🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 112              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 113                  try {                                                                                             </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 114                      BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);             </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 115                  } catch (Exception e) {                                                                           </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""> 116                      Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 118                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 120          });                                                                                                       </span>
<span  style=""> 121                                                                                                                    </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""> 122          findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {</span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 123              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 124              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 125                  startActivity(new Intent(getActivity(), AboutActivity.class));                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 126                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 128          });                                                                                                       </span>
<span  style=""> 129                                                                                                                    </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 130          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 130          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() 🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 131              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 132              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 133                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 134                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 135                  intent.setType(&quot;application/json&quot;);                                                               </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 136                  intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                             </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 137                  startActivityForResult(intent, REQUEST_EXPORT_DATA);                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 138                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 140          });                                                                                                       </span>
<span  style=""> 141                                                                                                                    </span>
<span class="-2051654600796868045" onmouseenter="enter('-2051654600796868045');" onmouseout="out('-2051654600796868045');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -        final ListPreference themePreference = (ListPreference) findPreference(PrefUtils.PREF_THEME);             </span>
<span class="-1971676661301921661" onmouseenter="enter('-1971676661301921661');" onmouseout="out('-1971676661301921661');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +        final ListPreference themePreference = findPreference(PrefUtils.PREF_THEME);                              </span>
<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 144          themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 145              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 146              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 147                  updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 148                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149              }                                                                                                     </span>
<span  style=""> 150                                                                                                                    </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 151              private void updateTheme(Activity activity, int index) {                                              </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 152                  CharSequence[] entries = themePreference.getEntries();                                            </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 153                  themePreference.setSummary(entries[index]);                                                       </span>
<span  style=""> 154                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 155                  AnalyticsTracker.track(                                                                           </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 156                          AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                             </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 157                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 158                          &quot;theme_preference&quot;                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 159                  );                                                                                                </span>
<span  style=""> 160                                                                                                                    </span>
<span class="-6345048933952298843" onmouseenter="enter('-6345048933952298843');" onmouseout="out('-6345048933952298843');" style=""> 161                  // recreate the activity so new theme is applied                                                  </span>
<span class="6106586807651914503" onmouseenter="enter('6106586807651914503');" onmouseout="out('6106586807651914503');" style=""> 162                  activity.recreate();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 164          });                                                                                                       </span>
<span  style=""> 165                                                                                                                    </span>
<span class="-3563544225355858599" onmouseenter="enter('-3563544225355858599');" onmouseout="out('-3563544225355858599');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 166 -        final ListPreference sortPreference = (ListPreference) findPreference(PrefUtils.PREF_SORT_ORDER);         </span>
<span class="-7860980738369513983" onmouseenter="enter('-7860980738369513983');" onmouseout="out('-7860980738369513983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +        final Preference stylePreference = findPreference(&quot;pref_key_style&quot;);                                      </span>
<span class="3141560962050411135" onmouseenter="enter('3141560962050411135');" onmouseout="out('3141560962050411135');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +        stylePreference.setSummary(                                                                               </span>
<span class="296153731000302162" onmouseenter="enter('296153731000302162');" onmouseout="out('296153731000302162');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +            PrefUtils.isPremium(requireContext()) ?                                                               </span>
<span class="2617364745238683011" onmouseenter="enter('2617364745238683011');" onmouseout="out('2617364745238683011');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +                PrefUtils.getStyleNameFromIndexSelected(requireContext()) :                                       </span>
<span class="447116941012378337" onmouseenter="enter('447116941012378337');" onmouseout="out('447116941012378337');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +                PrefUtils.getStyleNameDefault(requireContext())                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +        );                                                                                                        </span>
<span class="3126154070550452993" onmouseenter="enter('3126154070550452993');" onmouseout="out('3126154070550452993');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +        stylePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +            @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +            public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-1392244894950541992" onmouseenter="enter('-1392244894950541992');" onmouseout="out('-1392244894950541992');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +                startActivity(new Intent(requireContext(), StyleActivity.class));                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +                return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +        });                                                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +                                                                                                                  </span>
<span class="62476898825534819" onmouseenter="enter('62476898825534819');" onmouseout="out('62476898825534819');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +        final ListPreference sortPreference = findPreference(PrefUtils.PREF_SORT_ORDER);                          </span>
<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 182          sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 184              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 185                  int index = Integer.parseInt(newValue.toString());                                                </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 186                  CharSequence[] entries = sortPreference.getEntries();                                             </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 187                  sortPreference.setSummary(entries[index]);                                                        </span>
<span  style=""> 188                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 189                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 191          });                                                                                                       </span>
<span  style=""> 192                                                                                                                    </span>
<span class="-2516209658609361373" onmouseenter="enter('-2516209658609361373');" onmouseout="out('-2516209658609361373');" style=""> 193          Preference versionPref = findPreference(&quot;pref_key_build&quot;);                                                </span>
<span class="2941715853984851229" onmouseenter="enter('2941715853984851229');" onmouseout="out('2941715853984851229');" style=""> 194          versionPref.setSummary(PrefUtils.versionInfo());                                                          </span>
<span  style=""> 195                                                                                                                    </span>
<span class="269389859234146346" onmouseenter="enter('269389859234146346');" onmouseout="out('269389859234146346');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 196 -        SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_condensed_note_list&quot;);"> 196 -        SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_condensed_note🔵</abbr></span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +        SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);                 </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 198          switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199              @Override                                                                                             </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 200              public boolean onPreferenceChange(Preference preference, Object o) {                                  </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 201                  if (((SwitchPreferenceCompat) preference).isChecked()) {                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 202                      AnalyticsTracker.track(                                                                       </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 203                              AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 204                              AnalyticsTracker.CATEGORY_USER,                                                       </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 205                              &quot;condensed_list_preference&quot;                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 206                      );                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207                  }                                                                                                 </span>
<span  style=""> 208                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 209                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 211          });                                                                                                       </span>
<span  style=""> 212                                                                                                                    </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 213          // Add the hyperlink to the analytics summary                                                             </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 214          Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);             </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 215          String formattedSummary = String.format(                                                                  </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 216                  getString(R.string.share_analytics_summary),                                                      </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 217                  &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                                    </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 218                  &quot;&lt;/a&gt;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 219          );                                                                                                        </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 220          analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                             </span>
<span  style=""> 221                                                                                                                    </span>
<span class="2122402547097653030" onmouseenter="enter('2122402547097653030');" onmouseout="out('2122402547097653030');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 222 -        mAnalyticsSwitch = (SwitchPreferenceCompat)findPreference(&quot;pref_key_analytics_switch&quot;);                   </span>
<span class="3302670809654673041" onmouseenter="enter('3302670809654673041');" onmouseout="out('3302670809654673041');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +        mAnalyticsSwitch = findPreference(&quot;pref_key_analytics_switch&quot;);                                           </span>
<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 224          mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 225              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 226              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 227                  try {                                                                                             </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 228                      boolean isChecked = (boolean)newValue;                                                        </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 229                      Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                           </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 230                      prefs.setAnalyticsEnabled(isChecked);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 231                      prefs.save();                                                                                 </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 232                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 233                      e.printStackTrace();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234                  }                                                                                                 </span>
<span  style=""> 235                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 236                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 238          });                                                                                                       </span>
<span  style=""> 239                                                                                                                    </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 240          updateAnalyticsSwitchState();                                                                             </span>













<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241      }                                                                                                             </span>
<span  style=""> 242                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243      @Override                                                                                                     </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 244      public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                            </span>
<span class="5256385077535723857" onmouseenter="enter('5256385077535723857');" onmouseout="out('5256385077535723857');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 245 -        if (resultCode != Activity.RESULT_OK || resultData == null) {                                             </span>
<span class="7165752778329992929" onmouseenter="enter('7165752778329992929');" onmouseout="out('7165752778329992929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 246 +        if (resultCode != RESULT_OK || resultData == null) {                                                      </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 247              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248          }                                                                                                         </span>
<span  style=""> 249                                                                                                                    </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 250          if (resultData.getData() == null) {                                                                       </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 251              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 251              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 252              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253          }                                                                                                         </span>
<span  style=""> 254                                                                                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 255          switch (requestCode) {                                                                                    </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 256              case REQUEST_EXPORT_DATA:                                                                             </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 257                  exportData(resultData.getData(), false);                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 258                  break;                                                                                            </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 259              case REQUEST_EXPORT_UNSYNCED:                                                                         </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 260                  exportData(resultData.getData(), true);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 261                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263      }                                                                                                             </span>
<span  style=""> 264                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 265      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 266      public void onPause() {                                                                                       </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 267          super.onPause();                                                                                          </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 268          mPreferencesBucket.stop();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269      }                                                                                                             </span>
<span  style=""> 270                                                                                                                    </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 271      private boolean hasUnsyncedNotes() {                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 272          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 273          Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                                  </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 274          Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                         </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 275          while (notesCursor.moveToNext()) {                                                                        </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 276              Note note = notesCursor.getObject();                                                                  </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 277              if (note.isNew() || note.isModified()) {                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 278                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280          }                                                                                                         </span>
<span  style=""> 281                                                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 282          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283      }                                                                                                             </span>
<span  style=""> 284                                                                                                                    </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 285      private void logOut() {                                                                                       </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 286          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="1492891761222902367" onmouseenter="enter('1492891761222902367');" onmouseout="out('1492891761222902367');" style=""> 287          application.getSimperium().deauthorizeUser();                                                             </span>
<span  style=""> 288                                                                                                                    </span>
<span class="7043558399093065986" onmouseenter="enter('7043558399093065986');" onmouseout="out('7043558399093065986');" style=""> 289          application.getNotesBucket().reset();                                                                     </span>
<span class="6239456552485319541" onmouseenter="enter('6239456552485319541');" onmouseout="out('6239456552485319541');" style=""> 290          application.getTagsBucket().reset();                                                                      </span>
<span class="8813783904792492357" onmouseenter="enter('8813783904792492357');" onmouseout="out('8813783904792492357');" style=""> 291          application.getPreferencesBucket().reset();                                                               </span>
<span  style=""> 292                                                                                                                    </span>
<span class="-2290183695292509841" onmouseenter="enter('-2290183695292509841');" onmouseout="out('-2290183695292509841');" style=""> 293          application.getNotesBucket().stop();                                                                      </span>

<span class="1881204346293915273" onmouseenter="enter('1881204346293915273');" onmouseout="out('1881204346293915273');" style=""> 294          application.getTagsBucket().stop();                                                                       </span>

<span class="4389321878217818521" onmouseenter="enter('4389321878217818521');" onmouseout="out('4389321878217818521');" style=""> 295          application.getPreferencesBucket().stop();                                                                </span>
<span  style=""> 296                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 297          AnalyticsTracker.track(                                                                                   </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 298                  AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                            </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 299                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 300                  &quot;preferences_sign_out_button&quot;                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 301          );                                                                                                        </span>
<span  style=""> 302                                                                                                                    </span>
<span class="-7624151188866077780" onmouseenter="enter('-7624151188866077780');" onmouseout="out('-7624151188866077780');" style=""> 303          // Resets analytics user back to &#x27;anon&#x27; type                                                              </span>
<span class="-8646882850309232593" onmouseenter="enter('-8646882850309232593');" onmouseout="out('-8646882850309232593');" style=""> 304          AnalyticsTracker.refreshMetadata(null);                                                                   </span>
<span class="7088142554023647232" onmouseenter="enter('7088142554023647232');" onmouseout="out('7088142554023647232');" style=""> 305          CrashUtils.clearCurrentUser();                                                                            </span>
<span  style=""> 306                                                                                                                    </span>
<span class="2045801939261456210" onmouseenter="enter('2045801939261456210');" onmouseout="out('2045801939261456210');" style=""> 307          // Remove wp.com token                                                                                    </span>
<span class="6759455075429047207" onmouseenter="enter('6759455075429047207');" onmouseout="out('6759455075429047207');" style=""> 308          SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).edit();    </span>
<span class="3747765183142081866" onmouseenter="enter('3747765183142081866');" onmouseout="out('3747765183142081866');" style=""> 309          editor.remove(PrefUtils.PREF_WP_TOKEN);                                                                   </span>
<span  style=""> 310                                                                                                                    </span>
<span class="-3120932776057048446" onmouseenter="enter('-3120932776057048446');" onmouseout="out('-3120932776057048446');" style=""> 311          // Remove WordPress sites                                                                                 </span>
<span class="-7780340906700244594" onmouseenter="enter('-7780340906700244594');" onmouseout="out('-7780340906700244594');" style=""> 312          editor.remove(PrefUtils.PREF_WORDPRESS_SITES);                                                            </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 313          editor.apply();                                                                                           </span>
<span  style=""> 314                                                                                                                    </span>
<span class="4563224411068398132" onmouseenter="enter('4563224411068398132');" onmouseout="out('4563224411068398132');" style=""> 315          // Remove Passcode Lock password                                                                          </span>
<span class="400057636120928336" onmouseenter="enter('400057636120928336');" onmouseout="out('400057636120928336');" style=""> 316          AppLockManager.getInstance().getAppLock().setPassword(&quot;&quot;);                                                </span>
<span  style=""> 317                                                                                                                    </span>
<span class="-2915955960672646870" onmouseenter="enter('-2915955960672646870');" onmouseout="out('-2915955960672646870');" style=""> 318          WidgetUtils.updateNoteWidgets(requireActivity().getApplicationContext());                                 </span>
<span  style=""> 319                                                                                                                    </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 320          getActivity().finish();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321      }                                                                                                             </span>
<span  style=""> 322                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 323      @Override                                                                                                     </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 324      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 325          if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                                      </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 326              // User signed in                                                                                     </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 327              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 328                  public void run() {                                                                               </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 329                      Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 330                      authenticatePreference.setTitle(R.string.log_out);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 332              });                                                                                                   </span>
<span  style=""> 333                                                                                                                    </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 334              Simplenote app = (Simplenote) getActivity().getApplication();                                         </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 335              AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                            </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 336              CrashUtils.setCurrentUser(app.getSimperium().getUser());                                              </span>
<span  style=""> 337                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 338              AnalyticsTracker.track(                                                                               </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 339                      AnalyticsTracker.Stat.USER_SIGNED_IN,                                                         </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 340                      AnalyticsTracker.CATEGORY_USER,                                                               </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 341                      &quot;signed_in_from_preferences_activity&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 342              );                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344      }                                                                                                             </span>
<span  style=""> 345                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 346      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 347      public void onUserCreated(User user) {                                                                        </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 348          AnalyticsTracker.track(                                                                                   </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 349                  AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 350                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 351                  &quot;account_created_from_preferences_activity&quot;                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 352          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353      }                                                                                                             </span>
<span  style=""> 354                                                                                                                    </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 355      private void exportData(Uri uri, boolean isUnsyncedNotes) {                                                   </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 356          Simplenote currentApp = (Simplenote) requireActivity().getApplication();                                  </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 357          Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                                    </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 358          JSONObject account = new JSONObject();                                                                    </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 359          Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                               </span>
<span  style=""> 360                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 361          try {                                                                                                     </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 362              JSONArray activeNotes = new JSONArray();                                                              </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 363              JSONArray trashedNotes = new JSONArray();                                                             </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 364              Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 365                  @Override                                                                                         </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 366                  public int compare(String text1, String text2) {                                                  </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 367                      return text1.compareToIgnoreCase(text2);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 369              };                                                                                                    </span>
<span  style=""> 370                                                                                                                    </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 371              while (cursor.moveToNext()) {                                                                         </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 372                  Note note = cursor.getObject();                                                                   </span>
<span  style=""> 373                                                                                                                    </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 374                  if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                                     </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 375                      continue;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376                  }                                                                                                 </span>
<span  style=""> 377                                                                                                                    </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 378                  JSONObject noteJson = new JSONObject();                                                           </span>
<span  style=""> 379                                                                                                                    </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 380                  noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                                       </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 381                  noteJson.put(&quot;content&quot;, note.getContent());                                                       </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 382                  noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                                       </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 383                  noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                                   </span>
<span  style=""> 384                                                                                                                    </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 385                  if (note.isPinned()) {                                                                            </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 386                      noteJson.put(&quot;pinned&quot;, note.isPinned());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387                  }                                                                                                 </span>
<span  style=""> 388                                                                                                                    </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 389                  if (note.isMarkdownEnabled()) {                                                                   </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 390                      noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391                  }                                                                                                 </span>
<span  style=""> 392                                                                                                                    </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 393                  if (note.getTags().size() &gt; 0) {                                                                  </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 394                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 395                      Collections.sort(tags, comparator);                                                           </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 396                      noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                  }                                                                                                 </span>
<span  style=""> 398                                                                                                                    </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 399                  if (!note.getPublishedUrl().isEmpty()) {                                                          </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 400                      noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401                  }                                                                                                 </span>
<span  style=""> 402                                                                                                                    </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 403                  if (note.isDeleted()) {                                                                           </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 404                      trashedNotes.put(noteJson);                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 405                  } else {                                                                                          </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 406                      activeNotes.put(noteJson);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408              }                                                                                                     </span>
<span  style=""> 409                                                                                                                    </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 410              account.put(&quot;activeNotes&quot;, activeNotes);                                                              </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 411              account.put(&quot;trashedNotes&quot;, trashedNotes);                                                            </span>
<span  style=""> 412                                                                                                                    </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 413              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 413              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(u🔵</abbr></span>
<span  style=""> 414                                                                                                                    </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 415              if (parcelFileDescriptor != null) {                                                                   </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 416                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 416                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor())🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 417                  fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());                        </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 418                  parcelFileDescriptor.close();                                                                     </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style=""><abbr title=" 419                  Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 419                  Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).s🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 420              } else {                                                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 421                  Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 421                  Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).s🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422              }                                                                                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 423          } catch (Exception e) {                                                                                   </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 424              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 424              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426      }                                                                                                             </span>
<span  style=""> 427                                                                                                                    </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 428      private void updateAnalyticsSwitchState() {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 429          try {                                                                                                     </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 430              Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                                   </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 431              mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                             </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 432          } catch (BucketObjectMissingException e) {                                                                </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 433              // The preferences object doesn&#x27;t exist for this user yet, create it                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 434              try {                                                                                                 </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 435                  Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                         </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 436                  prefs.setAnalyticsEnabled(true);                                                                  </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 437                  prefs.save();                                                                                     </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 438              } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                           </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 439                  bucketObjectNameInvalid.printStackTrace();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 442      }                                                                                                             </span>
<span  style=""> 443                                                                                                                    </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 444      private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                                      </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 445          private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                                 </span>
<span  style=""> 446                                                                                                                    </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 447          LogOutTask(PreferencesFragment fragment) {                                                                </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 448              mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449          }                                                                                                         </span>
<span  style=""> 450                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 451          @Override                                                                                                 </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 452          protected Boolean doInBackground(Void... voids) {                                                         </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 453              PreferencesFragment fragment = mPreferencesFragmentReference.get();                                   </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 454              return fragment == null || fragment.hasUnsyncedNotes();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455          }                                                                                                         </span>
<span  style=""> 456                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 457          @Override                                                                                                 </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 458          protected void onPostExecute(Boolean hasUnsyncedNotes) {                                                  </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 459              final PreferencesFragment fragment = mPreferencesFragmentReference.get();                             </span>
<span  style=""> 460                                                                                                                    </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 461              if (fragment == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 462                  return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463              }                                                                                                     </span>
<span  style=""> 464                                                                                                                    </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 465              // Safety first! Check if any notes are unsynced and warn the user if so.                             </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 466              if (hasUnsyncedNotes) {                                                                               </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""> 467                  new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))       </span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 468                      .setTitle(R.string.unsynced_notes)                                                            </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 469                      .setMessage(R.string.unsynced_notes_message)                                                  </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 470                      .setPositiveButton(R.string.log_out_anyway,                                                   </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 471                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 472                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 473                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 474                                  fragment.logOut();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 475                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 477                      )                                                                                             </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 478                      .setNeutralButton(R.string.export_unsynced_notes,                                             </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 479                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 480                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 481                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 482                                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 483                                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 484                                  intent.setType(&quot;application/json&quot;);                                               </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""> 485                                  intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));    </span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 486                                  fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 489                      )                                                                                             </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 490                      .setNegativeButton(R.string.cancel, null)                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 491                      .show();                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 492              } else {                                                                                              </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 493                  fragment.logOut();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3  import android.app.Activity;                                                                                      </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   4  import android.app.Fragment;                                                                                      </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   6  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   7  import android.content.SharedPreferences;                                                                         </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">   8  import android.net.Uri;                                                                                           </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   9  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10  import android.os.Bundle;                                                                                         </span>
<span class="-5436718358296125427" onmouseenter="enter('-5436718358296125427');" onmouseout="out('-5436718358296125427');" style="">  11  import android.os.ParcelFileDescriptor;                                                                           </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  12  import android.widget.Toast;                                                                                      </span>
<span  style="">  13                                                                                                                    </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  14  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  15  import androidx.appcompat.view.ContextThemeWrapper;                                                               </span>
<span class="-6344652174315873597" onmouseenter="enter('-6344652174315873597');" onmouseout="out('-6344652174315873597');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  16 +import androidx.core.app.ShareCompat;                                                                             </span>
<span class="-7553031234002075668" onmouseenter="enter('-7553031234002075668');" onmouseout="out('-7553031234002075668');" style="">  17  import androidx.preference.ListPreference;                                                                        </span>
<span class="-3312641230509782710" onmouseenter="enter('-3312641230509782710');" onmouseout="out('-3312641230509782710');" style="">  18  import androidx.preference.Preference;                                                                            </span>
<span class="-6464340996904493039" onmouseenter="enter('-6464340996904493039');" onmouseout="out('-6464340996904493039');" style="">  19  import androidx.preference.PreferenceFragmentCompat;                                                              </span>
<span class="-7272383226560052741" onmouseenter="enter('-7272383226560052741');" onmouseout="out('-7272383226560052741');" style="">  20  import androidx.preference.PreferenceManager;                                                                     </span>
<span class="-8714897093372589764" onmouseenter="enter('-8714897093372589764');" onmouseout="out('-8714897093372589764');" style="">  21  import androidx.preference.SwitchPreferenceCompat;                                                                </span>
<span  style="">  22                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  23  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  24  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="2894626372351854793" onmouseenter="enter('2894626372351854793');" onmouseout="out('2894626372351854793');" style="">  25  import com.automattic.simplenote.models.Preferences;                                                              </span>
<span class="160698548927534529" onmouseenter="enter('160698548927534529');" onmouseout="out('160698548927534529');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  26 +import com.automattic.simplenote.utils.AppLog;                                                                    </span>
<span class="7580776162261256599" onmouseenter="enter('7580776162261256599');" onmouseout="out('7580776162261256599');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +import com.automattic.simplenote.utils.AppLog.Type;                                                               </span>
<span class="1593315676680608324" onmouseenter="enter('1593315676680608324');" onmouseout="out('1593315676680608324');" style="">  28  import com.automattic.simplenote.utils.BrowserUtils;                                                              </span>
<span class="-3429573708794919100" onmouseenter="enter('-3429573708794919100');" onmouseout="out('-3429573708794919100');" style="">  29  import com.automattic.simplenote.utils.CrashUtils;                                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  30  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  31  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-3457858113236631039" onmouseenter="enter('-3457858113236631039');" onmouseout="out('-3457858113236631039');" style="">  32  import com.automattic.simplenote.utils.WidgetUtils;                                                               </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  33  import com.simperium.Simperium;                                                                                   </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  34  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  35  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  36  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  37  import com.simperium.client.User;                                                                                 </span>
<span  style="">  38                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  39  import org.json.JSONArray;                                                                                        </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  40  import org.json.JSONObject;                                                                                       </span>
<span class="7324884800271719890" onmouseenter="enter('7324884800271719890');" onmouseout="out('7324884800271719890');" style="">  41  import org.wordpress.passcodelock.AppLockManager;                                                                 </span>
<span  style="">  42                                                                                                                    </span>
<span class="4915709264156936957" onmouseenter="enter('4915709264156936957');" onmouseout="out('4915709264156936957');" style="">  43  import java.io.FileOutputStream;                                                                                  </span>
<span class="-8692343821508153377" onmouseenter="enter('-8692343821508153377');" onmouseout="out('-8692343821508153377');" style="">  44  import java.lang.ref.WeakReference;                                                                               </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  45  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  46  import java.util.Comparator;                                                                                      </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  47  import java.util.List;                                                                                            </span>
<span  style="">  48                                                                                                                    </span>

<span class="3919052636780858758" onmouseenter="enter('3919052636780858758');" onmouseout="out('3919052636780858758');" style="">  49  import static com.automattic.simplenote.models.Preferences.PREFERENCES_OBJECT_KEY;                                </span>
<span  style="">  50                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  51  /**                                                                                                               </span>
<span class="5114139633798332353" onmouseenter="enter('5114139633798332353');" onmouseout="out('5114139633798332353');" style="">  52   * A simple {@link Fragment} subclass.                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  53   */                                                                                                               </span>
<span class="8213712831003870267" onmouseenter="enter('8213712831003870267');" onmouseout="out('8213712831003870267');" style="">  54  public class PreferencesFragment extends PreferenceFragmentCompat implements User.StatusChangeListener,           </span>
<span class="-6650933180145052624" onmouseenter="enter('-6650933180145052624');" onmouseout="out('-6650933180145052624');" style="">  55          Simperium.OnUserCreatedListener {                                                                         </span>
<span class="6526302226782351091" onmouseenter="enter('6526302226782351091');" onmouseout="out('6526302226782351091');" style="">  56      private static final String WEB_APP_URL = &quot;https://app.simplenote.com&quot;;                                       </span>



<span class="-4931955573237258812" onmouseenter="enter('-4931955573237258812');" onmouseout="out('-4931955573237258812');" style="">  57      private static final int REQUEST_EXPORT_DATA = 9001;                                                          </span>
<span class="3365261669014323596" onmouseenter="enter('3365261669014323596');" onmouseout="out('3365261669014323596');" style="">  58      private static final int REQUEST_EXPORT_UNSYNCED = 9002;                                                      </span>
<span  style="">  59                                                                                                                    </span>
<span class="-3814969503072913312" onmouseenter="enter('-3814969503072913312');" onmouseout="out('-3814969503072913312');" style="">  60      private Bucket&lt;Preferences&gt; mPreferencesBucket;                                                               </span>
<span class="-908783299724709915" onmouseenter="enter('-908783299724709915');" onmouseout="out('-908783299724709915');" style="">  61      private SwitchPreferenceCompat mAnalyticsSwitch;                                                              </span>
<span  style="">  62                                                                                                                    </span>
<span class="-1679820400310610015" onmouseenter="enter('-1679820400310610015');" onmouseout="out('-1679820400310610015');" style="">  63      public PreferencesFragment() {                                                                                </span>
<span class="5025324504900911379" onmouseenter="enter('5025324504900911379');" onmouseout="out('5025324504900911379');" style="">  64          // Required empty public constructor                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65      }                                                                                                             </span>
<span  style="">  66                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  67      @Override                                                                                                     </span>
<span class="4595408869200273860" onmouseenter="enter('4595408869200273860');" onmouseout="out('4595408869200273860');" style="">  68      public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {                                  </span>
<span class="5290641457290853720" onmouseenter="enter('5290641457290853720');" onmouseout="out('5290641457290853720');" style="">  69          addPreferencesFromResource(R.xml.preferences);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70      }                                                                                                             </span>
<span  style="">  71                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  72      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  73      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  74          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  75                                                                                                                    </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style="">  76          Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                              </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  77          Simplenote currentApp = (Simplenote) getActivity().getApplication();                                      </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style="">  78          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="2748958065852789861" onmouseenter="enter('2748958065852789861');" onmouseout="out('2748958065852789861');" style="">  79          simperium.setUserStatusChangeListener(this);                                                              </span>
<span class="-2272979595474747044" onmouseenter="enter('-2272979595474747044');" onmouseout="out('-2272979595474747044');" style="">  80          simperium.setOnUserCreatedListener(this);                                                                 </span>
<span class="-8025066121623883978" onmouseenter="enter('-8025066121623883978');" onmouseout="out('-8025066121623883978');" style="">  81          mPreferencesBucket = currentApp.getPreferencesBucket();                                                   </span>
<span class="8915853447379815980" onmouseenter="enter('8915853447379815980');" onmouseout="out('8915853447379815980');" style="">  82          mPreferencesBucket.start();                                                                               </span>
<span  style="">  83                                                                                                                    </span>
<span class="5417399975767426553" onmouseenter="enter('5417399975767426553');" onmouseout="out('5417399975767426553');" style="">  84          authenticatePreference.setSummary(currentApp.getSimperium().getUser().getEmail());                        </span>
<span class="-3342250548665049241" onmouseenter="enter('-3342250548665049241');" onmouseout="out('-3342250548665049241');" style="">  85          if (simperium.needsAuthorization()) {                                                                     </span>
<span class="8210597588054659575" onmouseenter="enter('8210597588054659575');" onmouseout="out('8210597588054659575');" style="">  86              authenticatePreference.setTitle(R.string.log_in);                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="">  87          } else {                                                                                                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style="">  88              authenticatePreference.setTitle(R.string.log_out);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89          }                                                                                                         </span>
<span  style="">  90                                                                                                                    </span>
<span class="-1521554305857532068" onmouseenter="enter('-1521554305857532068');" onmouseout="out('-1521554305857532068');" style="">  91          authenticatePreference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  92              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="">  93              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style="">  94                  if (!isAdded()) {                                                                                 </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  95                      return false;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96                  }                                                                                                 </span>
<span  style="">  97                                                                                                                    </span>
<span class="-6431499321301904544" onmouseenter="enter('-6431499321301904544');" onmouseout="out('-6431499321301904544');" style="">  98                  Simplenote currentApp = (Simplenote) getActivity().getApplication();                              </span>
<span class="-1805411858302537149" onmouseenter="enter('-1805411858302537149');" onmouseout="out('-1805411858302537149');" style="">  99                  if (currentApp.getSimperium().needsAuthorization()) {                                             </span>
<span class="-1894877037162085011" onmouseenter="enter('-1894877037162085011');" onmouseout="out('-1894877037162085011');" style=""> 100                      Intent loginIntent = new Intent(getActivity(), SimplenoteAuthenticationActivity.class);       </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 101                      startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 102                  } else {                                                                                          </span>
<span class="-1878844134905051149" onmouseenter="enter('-1878844134905051149');" onmouseout="out('-1878844134905051149');" style=""> 103                      new LogOutTask(PreferencesFragment.this).execute();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 105                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 107          });                                                                                                       </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-3317947868564721602" onmouseenter="enter('-3317947868564721602');" onmouseout="out('-3317947868564721602');" style=""><abbr title=" 109          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 109          findPreference(&quot;pref_key_website&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener()🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 110              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 111              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 112                  try {                                                                                             </span>
<span class="5515326037292150005" onmouseenter="enter('5515326037292150005');" onmouseout="out('5515326037292150005');" style=""> 113                      BrowserUtils.launchBrowserOrShowError(requireContext(), &quot;http://simplenote.com&quot;);             </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 114                  } catch (Exception e) {                                                                           </span>
<span class="3734798154944032055" onmouseenter="enter('3734798154944032055');" onmouseout="out('3734798154944032055');" style=""> 115                      Toast.makeText(getActivity(), R.string.no_browser_available, Toast.LENGTH_LONG).show();       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 117                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 119          });                                                                                                       </span>
<span  style=""> 120                                                                                                                    </span>
<span class="7546915923491771618" onmouseenter="enter('7546915923491771618');" onmouseout="out('7546915923491771618');" style=""> 121          findPreference(&quot;pref_key_about&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {</span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 122              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 123              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="8659998783220899939" onmouseenter="enter('8659998783220899939');" onmouseout="out('8659998783220899939');" style=""> 124                  startActivity(new Intent(getActivity(), AboutActivity.class));                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 125                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 127          });                                                                                                       </span>
<span  style=""> 128                                                                                                                    </span>
<span class="1103776393699537905" onmouseenter="enter('1103776393699537905');" onmouseout="out('1103776393699537905');" style=""><abbr title=" 129          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {"> 129          findPreference(&quot;pref_key_export&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() 🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 130              @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style=""> 131              public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 132                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 133                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 134                  intent.setType(&quot;application/json&quot;);                                                               </span>
<span class="8352609567732012948" onmouseenter="enter('8352609567732012948');" onmouseout="out('8352609567732012948');" style=""> 135                  intent.putExtra(Intent.EXTRA_TITLE, getString(R.string.export_file));                             </span>
<span class="4324198992155493367" onmouseenter="enter('4324198992155493367');" onmouseout="out('4324198992155493367');" style=""> 136                  startActivityForResult(intent, REQUEST_EXPORT_DATA);                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 137                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 139          });                                                                                                       </span>
<span  style=""> 140                                                                                                                    </span>
<span class="-2051654600796868045" onmouseenter="enter('-2051654600796868045');" onmouseout="out('-2051654600796868045');" style=""> 141          final ListPreference themePreference = (ListPreference) findPreference(PrefUtils.PREF_THEME);             </span>

<span class="-3135129752727836774" onmouseenter="enter('-3135129752727836774');" onmouseout="out('-3135129752727836774');" style=""> 142          themePreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 143              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 144              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="8972235106908076260" onmouseenter="enter('8972235106908076260');" onmouseout="out('8972235106908076260');" style=""> 145                  updateTheme(requireActivity(), Integer.parseInt(newValue.toString()));                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 146                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147              }                                                                                                     </span>
<span  style=""> 148                                                                                                                    </span>
<span class="7597115961384302616" onmouseenter="enter('7597115961384302616');" onmouseout="out('7597115961384302616');" style=""> 149              private void updateTheme(Activity activity, int index) {                                              </span>
<span class="1607563076949848778" onmouseenter="enter('1607563076949848778');" onmouseout="out('1607563076949848778');" style=""> 150                  CharSequence[] entries = themePreference.getEntries();                                            </span>
<span class="1955249186347848341" onmouseenter="enter('1955249186347848341');" onmouseout="out('1955249186347848341');" style=""> 151                  themePreference.setSummary(entries[index]);                                                       </span>
<span  style=""> 152                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 153                  AnalyticsTracker.track(                                                                           </span>
<span class="-3633564244751131710" onmouseenter="enter('-3633564244751131710');" onmouseout="out('-3633564244751131710');" style=""> 154                          AnalyticsTracker.Stat.SETTINGS_THEME_UPDATED,                                             </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 155                          AnalyticsTracker.CATEGORY_USER,                                                           </span>
<span class="8810282947066680931" onmouseenter="enter('8810282947066680931');" onmouseout="out('8810282947066680931');" style=""> 156                          &quot;theme_preference&quot;                                                                        </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 157                  );                                                                                                </span>
<span  style=""> 158                                                                                                                    </span>
<span class="-6345048933952298843" onmouseenter="enter('-6345048933952298843');" onmouseout="out('-6345048933952298843');" style=""> 159                  // recreate the activity so new theme is applied                                                  </span>
<span class="6106586807651914503" onmouseenter="enter('6106586807651914503');" onmouseout="out('6106586807651914503');" style=""> 160                  activity.recreate();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 162          });                                                                                                       </span>
<span  style=""> 163                                                                                                                    </span>
<span class="-3563544225355858599" onmouseenter="enter('-3563544225355858599');" onmouseout="out('-3563544225355858599');" style=""> 164          final ListPreference sortPreference = (ListPreference) findPreference(PrefUtils.PREF_SORT_ORDER);         </span>















<span class="-5125317966081854635" onmouseenter="enter('-5125317966081854635');" onmouseout="out('-5125317966081854635');" style=""> 165          sortPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 167              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-8870833255101890428" onmouseenter="enter('-8870833255101890428');" onmouseout="out('-8870833255101890428');" style=""> 168                  int index = Integer.parseInt(newValue.toString());                                                </span>
<span class="4511877948668264185" onmouseenter="enter('4511877948668264185');" onmouseout="out('4511877948668264185');" style=""> 169                  CharSequence[] entries = sortPreference.getEntries();                                             </span>
<span class="-9141657533116186952" onmouseenter="enter('-9141657533116186952');" onmouseout="out('-9141657533116186952');" style=""> 170                  sortPreference.setSummary(entries[index]);                                                        </span>
<span  style=""> 171                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 172                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 174          });                                                                                                       </span>
<span  style=""> 175                                                                                                                    </span>
<span class="-2516209658609361373" onmouseenter="enter('-2516209658609361373');" onmouseout="out('-2516209658609361373');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 176 -        Preference versionPref = findPreference(&quot;pref_key_build&quot;);                                                </span>
<span class="2941715853984851229" onmouseenter="enter('2941715853984851229');" onmouseout="out('2941715853984851229');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -        versionPref.setSummary(PrefUtils.versionInfo());                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 178 -                                                                                                                  </span>
<span class="269389859234146346" onmouseenter="enter('269389859234146346');" onmouseout="out('269389859234146346');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 179 -        SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_condensed_note_list&quot;);"> 179 -        SwitchPreferenceCompat switchPreference = (SwitchPreferenceCompat) findPreference(&quot;pref_key_condensed_note🔵</abbr></span>
<span class="6022389330549285783" onmouseenter="enter('6022389330549285783');" onmouseout="out('6022389330549285783');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +        SwitchPreferenceCompat switchPreference = findPreference(&quot;pref_key_condensed_note_list&quot;);                 </span>
<span class="731943818112030665" onmouseenter="enter('731943818112030665');" onmouseout="out('731943818112030665');" style=""> 181          switchPreference.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182              @Override                                                                                             </span>
<span class="8137396142185538827" onmouseenter="enter('8137396142185538827');" onmouseout="out('8137396142185538827');" style=""> 183              public boolean onPreferenceChange(Preference preference, Object o) {                                  </span>
<span class="2703036426639498311" onmouseenter="enter('2703036426639498311');" onmouseout="out('2703036426639498311');" style=""> 184                  if (((SwitchPreferenceCompat) preference).isChecked()) {                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 185                      AnalyticsTracker.track(                                                                       </span>
<span class="8127526149566412653" onmouseenter="enter('8127526149566412653');" onmouseout="out('8127526149566412653');" style=""> 186                              AnalyticsTracker.Stat.SETTINGS_LIST_CONDENSED_ENABLED,                                </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 187                              AnalyticsTracker.CATEGORY_USER,                                                       </span>
<span class="-7341164689664996576" onmouseenter="enter('-7341164689664996576');" onmouseout="out('-7341164689664996576');" style=""> 188                              &quot;condensed_list_preference&quot;                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 189                      );                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190                  }                                                                                                 </span>
<span  style=""> 191                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 192                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 194          });                                                                                                       </span>
<span  style=""> 195                                                                                                                    </span>
<span class="-6021379672389812030" onmouseenter="enter('-6021379672389812030');" onmouseout="out('-6021379672389812030');" style=""> 196          // Add the hyperlink to the analytics summary                                                             </span>
<span class="-3803040130638154017" onmouseenter="enter('-3803040130638154017');" onmouseout="out('-3803040130638154017');" style=""> 197          Preference analyticsSummaryPreference = findPreference(&quot;pref_key_analytics_enabled_summary&quot;);             </span>
<span class="-5954923786447915621" onmouseenter="enter('-5954923786447915621');" onmouseout="out('-5954923786447915621');" style=""> 198          String formattedSummary = String.format(                                                                  </span>
<span class="4703350175896481792" onmouseenter="enter('4703350175896481792');" onmouseout="out('4703350175896481792');" style=""> 199                  getString(R.string.share_analytics_summary),                                                      </span>
<span class="4561110205824883354" onmouseenter="enter('4561110205824883354');" onmouseout="out('4561110205824883354');" style=""> 200                  &quot;&lt;a href=\&quot;https://automattic.com/cookies\&quot;&gt;&quot;,                                                    </span>
<span class="-5125567965545776439" onmouseenter="enter('-5125567965545776439');" onmouseout="out('-5125567965545776439');" style=""> 201                  &quot;&lt;/a&gt;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 202          );                                                                                                        </span>
<span class="3076824088033544263" onmouseenter="enter('3076824088033544263');" onmouseout="out('3076824088033544263');" style=""> 203          analyticsSummaryPreference.setSummary(HtmlCompat.fromHtml(formattedSummary));                             </span>
<span  style=""> 204                                                                                                                    </span>
<span class="2122402547097653030" onmouseenter="enter('2122402547097653030');" onmouseout="out('2122402547097653030');" style=""> 205          mAnalyticsSwitch = (SwitchPreferenceCompat)findPreference(&quot;pref_key_analytics_switch&quot;);                   </span>

<span class="5250772881921022799" onmouseenter="enter('5250772881921022799');" onmouseout="out('5250772881921022799');" style=""> 206          mAnalyticsSwitch.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207              @Override                                                                                             </span>
<span class="97819570506773287" onmouseenter="enter('97819570506773287');" onmouseout="out('97819570506773287');" style=""> 208              public boolean onPreferenceChange(Preference preference, Object newValue) {                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 209                  try {                                                                                             </span>
<span class="7999271203428147057" onmouseenter="enter('7999271203428147057');" onmouseout="out('7999271203428147057');" style=""> 210                      boolean isChecked = (boolean)newValue;                                                        </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 211                      Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                           </span>
<span class="-3416644870449875468" onmouseenter="enter('-3416644870449875468');" onmouseout="out('-3416644870449875468');" style=""> 212                      prefs.setAnalyticsEnabled(isChecked);                                                         </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 213                      prefs.save();                                                                                 </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 214                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 215                      e.printStackTrace();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216                  }                                                                                                 </span>
<span  style=""> 217                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 218                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 220          });                                                                                                       </span>
<span  style=""> 221                                                                                                                    </span>
<span class="5339258651008713874" onmouseenter="enter('5339258651008713874');" onmouseout="out('5339258651008713874');" style=""> 222          updateAnalyticsSwitchState();                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +                                                                                                                  </span>
<span class="-280776834958575657" onmouseenter="enter('-280776834958575657');" onmouseout="out('-280776834958575657');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 224 +        findPreference(&quot;pref_key_logs&quot;).setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() { </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +            @Override                                                                                             </span>
<span class="5198697092730455099" onmouseenter="enter('5198697092730455099');" onmouseout="out('5198697092730455099');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +            public boolean onPreferenceClick(Preference preference) {                                             </span>
<span class="-462181345749239892" onmouseenter="enter('-462181345749239892');" onmouseout="out('-462181345749239892');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +                startActivity(                                                                                    </span>
<span class="-2960409665728397105" onmouseenter="enter('-2960409665728397105');" onmouseout="out('-2960409665728397105');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +                    ShareCompat.IntentBuilder.from(requireActivity())                                             </span>
<span class="-6432029200312304264" onmouseenter="enter('-6432029200312304264');" onmouseout="out('-6432029200312304264');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +                        .setText(AppLog.get())                                                                    </span>
<span class="8809275298081922415" onmouseenter="enter('8809275298081922415');" onmouseout="out('8809275298081922415');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +                        .setType(&quot;text/plain&quot;)                                                                    </span>
<span class="-4946837607512363870" onmouseenter="enter('-4946837607512363870');" onmouseout="out('-4946837607512363870');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +                        .createChooserIntent()                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +                );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +                return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +        });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236      }                                                                                                             </span>
<span  style=""> 237                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 238      @Override                                                                                                     </span>
<span class="3267640102220640214" onmouseenter="enter('3267640102220640214');" onmouseout="out('3267640102220640214');" style=""> 239      public void onActivityResult(int requestCode, int resultCode, Intent resultData) {                            </span>
<span class="5256385077535723857" onmouseenter="enter('5256385077535723857');" onmouseout="out('5256385077535723857');" style=""> 240          if (resultCode != Activity.RESULT_OK || resultData == null) {                                             </span>

<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 241              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242          }                                                                                                         </span>
<span  style=""> 243                                                                                                                    </span>
<span class="-6468570323155622791" onmouseenter="enter('-6468570323155622791');" onmouseout="out('-6468570323155622791');" style=""> 244          if (resultData.getData() == null) {                                                                       </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 245              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 245              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 246              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247          }                                                                                                         </span>
<span  style=""> 248                                                                                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 249          switch (requestCode) {                                                                                    </span>
<span class="8033197396422248106" onmouseenter="enter('8033197396422248106');" onmouseout="out('8033197396422248106');" style=""> 250              case REQUEST_EXPORT_DATA:                                                                             </span>
<span class="5578237912413552038" onmouseenter="enter('5578237912413552038');" onmouseout="out('5578237912413552038');" style=""> 251                  exportData(resultData.getData(), false);                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 252                  break;                                                                                            </span>
<span class="3288862726142322901" onmouseenter="enter('3288862726142322901');" onmouseout="out('3288862726142322901');" style=""> 253              case REQUEST_EXPORT_UNSYNCED:                                                                         </span>
<span class="7163037538688330859" onmouseenter="enter('7163037538688330859');" onmouseout="out('7163037538688330859');" style=""> 254                  exportData(resultData.getData(), true);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 255                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257      }                                                                                                             </span>
<span  style=""> 258                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 259      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 260      public void onPause() {                                                                                       </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 261          super.onPause();                                                                                          </span>
<span class="-7405985386384713994" onmouseenter="enter('-7405985386384713994');" onmouseout="out('-7405985386384713994');" style=""> 262          mPreferencesBucket.stop();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263      }                                                                                                             </span>
<span  style=""> 264                                                                                                                    </span>
<span class="-2746710762323274178" onmouseenter="enter('-2746710762323274178');" onmouseout="out('-2746710762323274178');" style=""> 265      private boolean hasUnsyncedNotes() {                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 266          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style=""> 267          Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                                  </span>
<span class="369229994761936281" onmouseenter="enter('369229994761936281');" onmouseout="out('369229994761936281');" style=""> 268          Bucket.ObjectCursor&lt;Note&gt; notesCursor = notesBucket.allObjects();                                         </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 269          while (notesCursor.moveToNext()) {                                                                        </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 270              Note note = notesCursor.getObject();                                                                  </span>
<span class="-8724002811605814194" onmouseenter="enter('-8724002811605814194');" onmouseout="out('-8724002811605814194');" style=""> 271              if (note.isNew() || note.isModified()) {                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 272                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274          }                                                                                                         </span>
<span  style=""> 275                                                                                                                    </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 276          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277      }                                                                                                             </span>
<span  style=""> 278                                                                                                                    </span>
<span class="6766759746618176914" onmouseenter="enter('6766759746618176914');" onmouseout="out('6766759746618176914');" style=""> 279      private void logOut() {                                                                                       </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style=""> 280          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="1492891761222902367" onmouseenter="enter('1492891761222902367');" onmouseout="out('1492891761222902367');" style=""> 281          application.getSimperium().deauthorizeUser();                                                             </span>
<span  style=""> 282                                                                                                                    </span>
<span class="7043558399093065986" onmouseenter="enter('7043558399093065986');" onmouseout="out('7043558399093065986');" style=""> 283          application.getNotesBucket().reset();                                                                     </span>
<span class="6239456552485319541" onmouseenter="enter('6239456552485319541');" onmouseout="out('6239456552485319541');" style=""> 284          application.getTagsBucket().reset();                                                                      </span>
<span class="8813783904792492357" onmouseenter="enter('8813783904792492357');" onmouseout="out('8813783904792492357');" style=""> 285          application.getPreferencesBucket().reset();                                                               </span>
<span  style=""> 286                                                                                                                    </span>
<span class="-2290183695292509841" onmouseenter="enter('-2290183695292509841');" onmouseout="out('-2290183695292509841');" style=""> 287          application.getNotesBucket().stop();                                                                      </span>
<span class="-7044971952839176171" onmouseenter="enter('-7044971952839176171');" onmouseout="out('-7044971952839176171');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +        AppLog.add(Type.SYNC, &quot;Stopped note bucket (PreferencesFragment)&quot;);                                       </span>
<span class="1881204346293915273" onmouseenter="enter('1881204346293915273');" onmouseout="out('1881204346293915273');" style=""> 289          application.getTagsBucket().stop();                                                                       </span>
<span class="-9221216379625010206" onmouseenter="enter('-9221216379625010206');" onmouseout="out('-9221216379625010206');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 290 +        AppLog.add(Type.SYNC, &quot;Stopped tag bucket (PreferencesFragment)&quot;);                                        </span>
<span class="4389321878217818521" onmouseenter="enter('4389321878217818521');" onmouseout="out('4389321878217818521');" style=""> 291          application.getPreferencesBucket().stop();                                                                </span>
<span  style=""> 292                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 293          AnalyticsTracker.track(                                                                                   </span>
<span class="1682841947070741936" onmouseenter="enter('1682841947070741936');" onmouseout="out('1682841947070741936');" style=""> 294                  AnalyticsTracker.Stat.USER_SIGNED_OUT,                                                            </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 295                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="4079591682198083249" onmouseenter="enter('4079591682198083249');" onmouseout="out('4079591682198083249');" style=""> 296                  &quot;preferences_sign_out_button&quot;                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 297          );                                                                                                        </span>
<span  style=""> 298                                                                                                                    </span>
<span class="-7624151188866077780" onmouseenter="enter('-7624151188866077780');" onmouseout="out('-7624151188866077780');" style=""> 299          // Resets analytics user back to &#x27;anon&#x27; type                                                              </span>
<span class="-8646882850309232593" onmouseenter="enter('-8646882850309232593');" onmouseout="out('-8646882850309232593');" style=""> 300          AnalyticsTracker.refreshMetadata(null);                                                                   </span>
<span class="7088142554023647232" onmouseenter="enter('7088142554023647232');" onmouseout="out('7088142554023647232');" style=""> 301          CrashUtils.clearCurrentUser();                                                                            </span>
<span  style=""> 302                                                                                                                    </span>
<span class="2045801939261456210" onmouseenter="enter('2045801939261456210');" onmouseout="out('2045801939261456210');" style=""> 303          // Remove wp.com token                                                                                    </span>
<span class="6759455075429047207" onmouseenter="enter('6759455075429047207');" onmouseout="out('6759455075429047207');" style=""> 304          SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(getActivity()).edit();    </span>
<span class="3747765183142081866" onmouseenter="enter('3747765183142081866');" onmouseout="out('3747765183142081866');" style=""> 305          editor.remove(PrefUtils.PREF_WP_TOKEN);                                                                   </span>
<span  style=""> 306                                                                                                                    </span>
<span class="-3120932776057048446" onmouseenter="enter('-3120932776057048446');" onmouseout="out('-3120932776057048446');" style=""> 307          // Remove WordPress sites                                                                                 </span>
<span class="-7780340906700244594" onmouseenter="enter('-7780340906700244594');" onmouseout="out('-7780340906700244594');" style=""> 308          editor.remove(PrefUtils.PREF_WORDPRESS_SITES);                                                            </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 309          editor.apply();                                                                                           </span>
<span  style=""> 310                                                                                                                    </span>
<span class="4563224411068398132" onmouseenter="enter('4563224411068398132');" onmouseout="out('4563224411068398132');" style=""> 311          // Remove Passcode Lock password                                                                          </span>
<span class="400057636120928336" onmouseenter="enter('400057636120928336');" onmouseout="out('400057636120928336');" style=""> 312          AppLockManager.getInstance().getAppLock().setPassword(&quot;&quot;);                                                </span>
<span  style=""> 313                                                                                                                    </span>
<span class="-2915955960672646870" onmouseenter="enter('-2915955960672646870');" onmouseout="out('-2915955960672646870');" style=""> 314          WidgetUtils.updateNoteWidgets(requireActivity().getApplicationContext());                                 </span>
<span  style=""> 315                                                                                                                    </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 316          getActivity().finish();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317      }                                                                                                             </span>
<span  style=""> 318                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 319      @Override                                                                                                     </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 320      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="3969702543635342042" onmouseenter="enter('3969702543635342042');" onmouseout="out('3969702543635342042');" style=""> 321          if (isAdded() &amp;&amp; status == User.Status.AUTHORIZED) {                                                      </span>
<span class="4458767919757787183" onmouseenter="enter('4458767919757787183');" onmouseout="out('4458767919757787183');" style=""> 322              // User signed in                                                                                     </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 323              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 324                  public void run() {                                                                               </span>
<span class="-8173513807933783092" onmouseenter="enter('-8173513807933783092');" onmouseout="out('-8173513807933783092');" style=""> 325                      Preference authenticatePreference = findPreference(&quot;pref_key_authenticate&quot;);                  </span>
<span class="8885574470684679352" onmouseenter="enter('8885574470684679352');" onmouseout="out('8885574470684679352');" style=""> 326                      authenticatePreference.setTitle(R.string.log_out);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 328              });                                                                                                   </span>
<span  style=""> 329                                                                                                                    </span>
<span class="1736644716831373310" onmouseenter="enter('1736644716831373310');" onmouseout="out('1736644716831373310');" style=""> 330              Simplenote app = (Simplenote) getActivity().getApplication();                                         </span>
<span class="6176818654817156375" onmouseenter="enter('6176818654817156375');" onmouseout="out('6176818654817156375');" style=""> 331              AnalyticsTracker.refreshMetadata(app.getSimperium().getUser().getEmail());                            </span>
<span class="-5091612656435705492" onmouseenter="enter('-5091612656435705492');" onmouseout="out('-5091612656435705492');" style=""> 332              CrashUtils.setCurrentUser(app.getSimperium().getUser());                                              </span>
<span  style=""> 333                                                                                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 334              AnalyticsTracker.track(                                                                               </span>
<span class="-2120239274310567773" onmouseenter="enter('-2120239274310567773');" onmouseout="out('-2120239274310567773');" style=""> 335                      AnalyticsTracker.Stat.USER_SIGNED_IN,                                                         </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 336                      AnalyticsTracker.CATEGORY_USER,                                                               </span>
<span class="-1887876783048589275" onmouseenter="enter('-1887876783048589275');" onmouseout="out('-1887876783048589275');" style=""> 337                      &quot;signed_in_from_preferences_activity&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 338              );                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 342      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 343      public void onUserCreated(User user) {                                                                        </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 344          AnalyticsTracker.track(                                                                                   </span>
<span class="173757116163891806" onmouseenter="enter('173757116163891806');" onmouseout="out('173757116163891806');" style=""> 345                  AnalyticsTracker.Stat.USER_ACCOUNT_CREATED,                                                       </span>
<span class="3255995284721740364" onmouseenter="enter('3255995284721740364');" onmouseout="out('3255995284721740364');" style=""> 346                  AnalyticsTracker.CATEGORY_USER,                                                                   </span>
<span class="3712512237873507570" onmouseenter="enter('3712512237873507570');" onmouseout="out('3712512237873507570');" style=""> 347                  &quot;account_created_from_preferences_activity&quot;                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 348          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349      }                                                                                                             </span>
<span  style=""> 350                                                                                                                    </span>
<span class="1196354712828356826" onmouseenter="enter('1196354712828356826');" onmouseout="out('1196354712828356826');" style=""> 351      private void exportData(Uri uri, boolean isUnsyncedNotes) {                                                   </span>
<span class="7015772157047139063" onmouseenter="enter('7015772157047139063');" onmouseout="out('7015772157047139063');" style=""> 352          Simplenote currentApp = (Simplenote) requireActivity().getApplication();                                  </span>
<span class="5741585060608048581" onmouseenter="enter('5741585060608048581');" onmouseout="out('5741585060608048581');" style=""> 353          Bucket&lt;Note&gt; noteBucket = currentApp.getNotesBucket();                                                    </span>
<span class="-2573210000671885020" onmouseenter="enter('-2573210000671885020');" onmouseout="out('-2573210000671885020');" style=""> 354          JSONObject account = new JSONObject();                                                                    </span>
<span class="8693188982604872634" onmouseenter="enter('8693188982604872634');" onmouseout="out('8693188982604872634');" style=""> 355          Bucket.ObjectCursor&lt;Note&gt; cursor = noteBucket.allObjects();                                               </span>
<span  style=""> 356                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 357          try {                                                                                                     </span>
<span class="8198637435968957723" onmouseenter="enter('8198637435968957723');" onmouseout="out('8198637435968957723');" style=""> 358              JSONArray activeNotes = new JSONArray();                                                              </span>
<span class="777879166085708529" onmouseenter="enter('777879166085708529');" onmouseout="out('777879166085708529');" style=""> 359              JSONArray trashedNotes = new JSONArray();                                                             </span>
<span class="-3442143245624459809" onmouseenter="enter('-3442143245624459809');" onmouseout="out('-3442143245624459809');" style=""> 360              Comparator&lt;String&gt; comparator = new Comparator&lt;String&gt;() {                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 361                  @Override                                                                                         </span>
<span class="163153706374955441" onmouseenter="enter('163153706374955441');" onmouseout="out('163153706374955441');" style=""> 362                  public int compare(String text1, String text2) {                                                  </span>
<span class="-6163417019844731552" onmouseenter="enter('-6163417019844731552');" onmouseout="out('-6163417019844731552');" style=""> 363                      return text1.compareToIgnoreCase(text2);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 365              };                                                                                                    </span>
<span  style=""> 366                                                                                                                    </span>
<span class="-679463407698125917" onmouseenter="enter('-679463407698125917');" onmouseout="out('-679463407698125917');" style=""> 367              while (cursor.moveToNext()) {                                                                         </span>
<span class="3501306350092034788" onmouseenter="enter('3501306350092034788');" onmouseout="out('3501306350092034788');" style=""> 368                  Note note = cursor.getObject();                                                                   </span>
<span  style=""> 369                                                                                                                    </span>
<span class="6437256038846822812" onmouseenter="enter('6437256038846822812');" onmouseout="out('6437256038846822812');" style=""> 370                  if (isUnsyncedNotes &amp;&amp; !note.isNew() &amp;&amp; !note.isModified()) {                                     </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 371                      continue;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372                  }                                                                                                 </span>
<span  style=""> 373                                                                                                                    </span>
<span class="-272104792120892626" onmouseenter="enter('-272104792120892626');" onmouseout="out('-272104792120892626');" style=""> 374                  JSONObject noteJson = new JSONObject();                                                           </span>
<span  style=""> 375                                                                                                                    </span>
<span class="5254647771738461723" onmouseenter="enter('5254647771738461723');" onmouseout="out('5254647771738461723');" style=""> 376                  noteJson.put(&quot;id&quot;, note.getSimperiumKey());                                                       </span>
<span class="-5705189487877530857" onmouseenter="enter('-5705189487877530857');" onmouseout="out('-5705189487877530857');" style=""> 377                  noteJson.put(&quot;content&quot;, note.getContent());                                                       </span>
<span class="1139423351253146952" onmouseenter="enter('1139423351253146952');" onmouseout="out('1139423351253146952');" style=""> 378                  noteJson.put(&quot;creationDate&quot;, note.getCreationDateString());                                       </span>
<span class="1430600552184847671" onmouseenter="enter('1430600552184847671');" onmouseout="out('1430600552184847671');" style=""> 379                  noteJson.put(&quot;lastModified&quot;, note.getModificationDateString());                                   </span>
<span  style=""> 380                                                                                                                    </span>
<span class="-7507374536219496981" onmouseenter="enter('-7507374536219496981');" onmouseout="out('-7507374536219496981');" style=""> 381                  if (note.isPinned()) {                                                                            </span>
<span class="6557310253889912444" onmouseenter="enter('6557310253889912444');" onmouseout="out('6557310253889912444');" style=""> 382                      noteJson.put(&quot;pinned&quot;, note.isPinned());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383                  }                                                                                                 </span>
<span  style=""> 384                                                                                                                    </span>
<span class="-3416225459954586445" onmouseenter="enter('-3416225459954586445');" onmouseout="out('-3416225459954586445');" style=""> 385                  if (note.isMarkdownEnabled()) {                                                                   </span>
<span class="-4345885427863011984" onmouseenter="enter('-4345885427863011984');" onmouseout="out('-4345885427863011984');" style=""> 386                      noteJson.put(&quot;markdown&quot;, note.isMarkdownEnabled());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387                  }                                                                                                 </span>
<span  style=""> 388                                                                                                                    </span>
<span class="-6167933231276737958" onmouseenter="enter('-6167933231276737958');" onmouseout="out('-6167933231276737958');" style=""> 389                  if (note.getTags().size() &gt; 0) {                                                                  </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 390                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="3683137475409003403" onmouseenter="enter('3683137475409003403');" onmouseout="out('3683137475409003403');" style=""> 391                      Collections.sort(tags, comparator);                                                           </span>
<span class="-3705887914229554629" onmouseenter="enter('-3705887914229554629');" onmouseout="out('-3705887914229554629');" style=""> 392                      noteJson.put(&quot;tags&quot;, new JSONArray(tags));                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393                  }                                                                                                 </span>
<span  style=""> 394                                                                                                                    </span>
<span class="4028571930257468136" onmouseenter="enter('4028571930257468136');" onmouseout="out('4028571930257468136');" style=""> 395                  if (!note.getPublishedUrl().isEmpty()) {                                                          </span>
<span class="-733111575506851691" onmouseenter="enter('-733111575506851691');" onmouseout="out('-733111575506851691');" style=""> 396                      noteJson.put(&quot;publicURL&quot;, note.getPublishedUrl());                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                  }                                                                                                 </span>
<span  style=""> 398                                                                                                                    </span>
<span class="6024333484593577603" onmouseenter="enter('6024333484593577603');" onmouseout="out('6024333484593577603');" style=""> 399                  if (note.isDeleted()) {                                                                           </span>
<span class="-3186012511869256667" onmouseenter="enter('-3186012511869256667');" onmouseout="out('-3186012511869256667');" style=""> 400                      trashedNotes.put(noteJson);                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 401                  } else {                                                                                          </span>
<span class="-7621688174750791495" onmouseenter="enter('-7621688174750791495');" onmouseout="out('-7621688174750791495');" style=""> 402                      activeNotes.put(noteJson);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404              }                                                                                                     </span>
<span  style=""> 405                                                                                                                    </span>
<span class="-6464980954944623387" onmouseenter="enter('-6464980954944623387');" onmouseout="out('-6464980954944623387');" style=""> 406              account.put(&quot;activeNotes&quot;, activeNotes);                                                              </span>
<span class="-4402397920847731970" onmouseenter="enter('-4402397920847731970');" onmouseout="out('-4402397920847731970');" style=""> 407              account.put(&quot;trashedNotes&quot;, trashedNotes);                                                            </span>
<span  style=""> 408                                                                                                                    </span>
<span class="-7575593771662565599" onmouseenter="enter('-7575593771662565599');" onmouseout="out('-7575593771662565599');" style=""><abbr title=" 409              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(uri, &quot;w&quot;);"> 409              ParcelFileDescriptor parcelFileDescriptor = requireContext().getContentResolver().openFileDescriptor(u🔵</abbr></span>
<span  style=""> 410                                                                                                                    </span>
<span class="8228680704914320477" onmouseenter="enter('8228680704914320477');" onmouseout="out('8228680704914320477');" style=""> 411              if (parcelFileDescriptor != null) {                                                                   </span>
<span class="2341124528543787873" onmouseenter="enter('2341124528543787873');" onmouseout="out('2341124528543787873');" style=""><abbr title=" 412                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor());"> 412                  FileOutputStream fileOutputStream = new FileOutputStream(parcelFileDescriptor.getFileDescriptor())🔵</abbr></span>
<span class="619856953737951459" onmouseenter="enter('619856953737951459');" onmouseout="out('619856953737951459');" style=""> 413                  fileOutputStream.write(account.toString(2).replace(&quot;\\/&quot;,&quot;/&quot;).getBytes());                        </span>
<span class="2067343113360594364" onmouseenter="enter('2067343113360594364');" onmouseout="out('2067343113360594364');" style=""> 414                  parcelFileDescriptor.close();                                                                     </span>
<span class="-5740447392618871879" onmouseenter="enter('-5740447392618871879');" onmouseout="out('-5740447392618871879');" style=""><abbr title=" 415                  Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).show();"> 415                  Toast.makeText(requireContext(), getString(R.string.export_message_success), Toast.LENGTH_SHORT).s🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 416              } else {                                                                                              </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 417                  Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 417                  Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).s🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 418              }                                                                                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 419          } catch (Exception e) {                                                                                   </span>
<span class="-498399621464281708" onmouseenter="enter('-498399621464281708');" onmouseout="out('-498399621464281708');" style=""><abbr title=" 420              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show();"> 420              Toast.makeText(requireContext(), getString(R.string.export_message_failure), Toast.LENGTH_SHORT).show(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422      }                                                                                                             </span>
<span  style=""> 423                                                                                                                    </span>
<span class="5598091284936706499" onmouseenter="enter('5598091284936706499');" onmouseout="out('5598091284936706499');" style=""> 424      private void updateAnalyticsSwitchState() {                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 425          try {                                                                                                     </span>
<span class="734651049898166881" onmouseenter="enter('734651049898166881');" onmouseout="out('734651049898166881');" style=""> 426              Preferences prefs = mPreferencesBucket.get(PREFERENCES_OBJECT_KEY);                                   </span>
<span class="2776107362356981254" onmouseenter="enter('2776107362356981254');" onmouseout="out('2776107362356981254');" style=""> 427              mAnalyticsSwitch.setChecked(prefs.getAnalyticsEnabled());                                             </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 428          } catch (BucketObjectMissingException e) {                                                                </span>
<span class="2124131716277693204" onmouseenter="enter('2124131716277693204');" onmouseout="out('2124131716277693204');" style=""> 429              // The preferences object doesn&#x27;t exist for this user yet, create it                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 430              try {                                                                                                 </span>
<span class="8863892184482182459" onmouseenter="enter('8863892184482182459');" onmouseout="out('8863892184482182459');" style=""> 431                  Preferences prefs = mPreferencesBucket.newObject(PREFERENCES_OBJECT_KEY);                         </span>
<span class="-3725197847428303949" onmouseenter="enter('-3725197847428303949');" onmouseout="out('-3725197847428303949');" style=""> 432                  prefs.setAnalyticsEnabled(true);                                                                  </span>
<span class="-2629122329284588175" onmouseenter="enter('-2629122329284588175');" onmouseout="out('-2629122329284588175');" style=""> 433                  prefs.save();                                                                                     </span>
<span class="-1061155454955510578" onmouseenter="enter('-1061155454955510578');" onmouseout="out('-1061155454955510578');" style=""> 434              } catch (BucketObjectNameInvalid bucketObjectNameInvalid) {                                           </span>
<span class="1883933860530627988" onmouseenter="enter('1883933860530627988');" onmouseout="out('1883933860530627988');" style=""> 435                  bucketObjectNameInvalid.printStackTrace();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438      }                                                                                                             </span>
<span  style=""> 439                                                                                                                    </span>
<span class="6003914412447352798" onmouseenter="enter('6003914412447352798');" onmouseout="out('6003914412447352798');" style=""> 440      private static class LogOutTask extends AsyncTask&lt;Void, Void, Boolean&gt; {                                      </span>
<span class="-8626644697686121306" onmouseenter="enter('-8626644697686121306');" onmouseout="out('-8626644697686121306');" style=""> 441          private WeakReference&lt;PreferencesFragment&gt; mPreferencesFragmentReference;                                 </span>
<span  style=""> 442                                                                                                                    </span>
<span class="556201937984791944" onmouseenter="enter('556201937984791944');" onmouseout="out('556201937984791944');" style=""> 443          LogOutTask(PreferencesFragment fragment) {                                                                </span>
<span class="-8947237769278526855" onmouseenter="enter('-8947237769278526855');" onmouseout="out('-8947237769278526855');" style=""> 444              mPreferencesFragmentReference = new WeakReference&lt;&gt;(fragment);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445          }                                                                                                         </span>
<span  style=""> 446                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 447          @Override                                                                                                 </span>
<span class="6715077551046087572" onmouseenter="enter('6715077551046087572');" onmouseout="out('6715077551046087572');" style=""> 448          protected Boolean doInBackground(Void... voids) {                                                         </span>
<span class="1614077137004075676" onmouseenter="enter('1614077137004075676');" onmouseout="out('1614077137004075676');" style=""> 449              PreferencesFragment fragment = mPreferencesFragmentReference.get();                                   </span>
<span class="6685718295711545449" onmouseenter="enter('6685718295711545449');" onmouseout="out('6685718295711545449');" style=""> 450              return fragment == null || fragment.hasUnsyncedNotes();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451          }                                                                                                         </span>
<span  style=""> 452                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 453          @Override                                                                                                 </span>
<span class="-6776128592848448095" onmouseenter="enter('-6776128592848448095');" onmouseout="out('-6776128592848448095');" style=""> 454          protected void onPostExecute(Boolean hasUnsyncedNotes) {                                                  </span>
<span class="-4642921565981286113" onmouseenter="enter('-4642921565981286113');" onmouseout="out('-4642921565981286113');" style=""> 455              final PreferencesFragment fragment = mPreferencesFragmentReference.get();                             </span>
<span  style=""> 456                                                                                                                    </span>
<span class="871842557913824847" onmouseenter="enter('871842557913824847');" onmouseout="out('871842557913824847');" style=""> 457              if (fragment == null) {                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 458                  return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459              }                                                                                                     </span>
<span  style=""> 460                                                                                                                    </span>
<span class="-4113446021503535506" onmouseenter="enter('-4113446021503535506');" onmouseout="out('-4113446021503535506');" style=""> 461              // Safety first! Check if any notes are unsynced and warn the user if so.                             </span>
<span class="-5077436549454521569" onmouseenter="enter('-5077436549454521569');" onmouseout="out('-5077436549454521569');" style=""> 462              if (hasUnsyncedNotes) {                                                                               </span>
<span class="3542977983821060447" onmouseenter="enter('3542977983821060447');" onmouseout="out('3542977983821060447');" style=""> 463                  new AlertDialog.Builder(new ContextThemeWrapper(fragment.requireContext(), R.style.Dialog))       </span>
<span class="-3694903935099593007" onmouseenter="enter('-3694903935099593007');" onmouseout="out('-3694903935099593007');" style=""> 464                      .setTitle(R.string.unsynced_notes)                                                            </span>
<span class="8004583072247328964" onmouseenter="enter('8004583072247328964');" onmouseout="out('8004583072247328964');" style=""> 465                      .setMessage(R.string.unsynced_notes_message)                                                  </span>
<span class="4729987033333129043" onmouseenter="enter('4729987033333129043');" onmouseout="out('4729987033333129043');" style=""> 466                      .setPositiveButton(R.string.log_out_anyway,                                                   </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 467                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 468                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 469                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 470                                  fragment.logOut();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 473                      )                                                                                             </span>
<span class="694879836326105383" onmouseenter="enter('694879836326105383');" onmouseout="out('694879836326105383');" style=""> 474                      .setNeutralButton(R.string.export_unsynced_notes,                                             </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 475                          new DialogInterface.OnClickListener() {                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 476                              @Override                                                                             </span>
<span class="-1458917509530047809" onmouseenter="enter('-1458917509530047809');" onmouseout="out('-1458917509530047809');" style=""> 477                              public void onClick(DialogInterface dialogInterface, int i) {                         </span>
<span class="4984554577824553223" onmouseenter="enter('4984554577824553223');" onmouseout="out('4984554577824553223');" style=""> 478                                  Intent intent = new Intent(Intent.ACTION_CREATE_DOCUMENT);                        </span>
<span class="8912465054547747469" onmouseenter="enter('8912465054547747469');" onmouseout="out('8912465054547747469');" style=""> 479                                  intent.addCategory(Intent.CATEGORY_OPENABLE);                                     </span>
<span class="-6707067096973178010" onmouseenter="enter('-6707067096973178010');" onmouseout="out('-6707067096973178010');" style=""> 480                                  intent.setType(&quot;application/json&quot;);                                               </span>
<span class="8921112241873143370" onmouseenter="enter('8921112241873143370');" onmouseout="out('8921112241873143370');" style=""> 481                                  intent.putExtra(Intent.EXTRA_TITLE, fragment.getString(R.string.export_file));    </span>
<span class="-9013148953109440561" onmouseenter="enter('-9013148953109440561');" onmouseout="out('-9013148953109440561');" style=""> 482                                  fragment.startActivityForResult(intent, REQUEST_EXPORT_UNSYNCED);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484                          }                                                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 485                      )                                                                                             </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 486                      .setNegativeButton(R.string.cancel, null)                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 487                      .show();                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 488              } else {                                                                                              </span>
<span class="-2448080142593331977" onmouseenter="enter('-2448080142593331977');" onmouseout="out('-2448080142593331977');" style=""> 489                  fragment.logOut();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            