<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>573</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    573
                    <a href="572.html">prev</a>
                    <a href="574.html">next</a>
                    <a href="573_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Freeyourgadget/Gadgetbridge_a28d27839fe16ebb7e62db2b6edae39454a56ea9_app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/DeviceCommunicationService.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;a28d27839fe16ebb7e62db2b6edae39454a56ea9:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/DeviceCommunicationService.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;a28d27839fe16ebb7e62db2b6edae39454a56ea9^1:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/DeviceCommunicationService.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;a28d27839fe16ebb7e62db2b6edae39454a56ea9^2:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/DeviceCommunicationService.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;60b7a73558141cc30fde6c356008da53400b6ad9:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/DeviceCommunicationService.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-2913458566757142997" onmouseenter="enter('-2913458566757142997');" onmouseout="out('-2913458566757142997');" style="">   1 /*  Copyright (C) 2015-2017 Andreas Shimokawa, Avamander, Carsten Pfeiffer,                              </span>
<span class="-6081250020317944645" onmouseenter="enter('-6081250020317944645');" onmouseout="out('-6081250020317944645');" style="">   2     Daniele Gobbetti, ivanovlev, Julien Pivotto, Kasha, Sergey Trofimov, Steffen                         </span>
<span class="124812437508453505" onmouseenter="enter('124812437508453505');" onmouseout="out('124812437508453505');" style="">   3     Liebergeld, Uwe Hermann                                                                              </span>
<span  style="">   4                                                                                                          </span>
<span class="-7759499394858783956" onmouseenter="enter('-7759499394858783956');" onmouseout="out('-7759499394858783956');" style="">   5     This file is part of Gadgetbridge.                                                                   </span>
<span  style="">   6                                                                                                          </span>
<span class="-2647557636279629478" onmouseenter="enter('-2647557636279629478');" onmouseout="out('-2647557636279629478');" style="">   7     Gadgetbridge is free software: you can redistribute it and/or modify                                 </span>
<span class="4878736751218581391" onmouseenter="enter('4878736751218581391');" onmouseout="out('4878736751218581391');" style="">   8     it under the terms of the GNU Affero General Public License as published                             </span>
<span class="-5160078368722358920" onmouseenter="enter('-5160078368722358920');" onmouseout="out('-5160078368722358920');" style="">   9     by the Free Software Foundation, either version 3 of the License, or                                 </span>
<span class="6661789815760177463" onmouseenter="enter('6661789815760177463');" onmouseout="out('6661789815760177463');" style="">  10     (at your option) any later version.                                                                  </span>
<span  style="">  11                                                                                                          </span>
<span class="-6828199977528779968" onmouseenter="enter('-6828199977528779968');" onmouseout="out('-6828199977528779968');" style="">  12     Gadgetbridge is distributed in the hope that it will be useful,                                      </span>
<span class="4883593508173597945" onmouseenter="enter('4883593508173597945');" onmouseout="out('4883593508173597945');" style="">  13     but WITHOUT ANY WARRANTY; without even the implied warranty of                                       </span>
<span class="2300657568347926527" onmouseenter="enter('2300657568347926527');" onmouseout="out('2300657568347926527');" style="">  14     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                                        </span>
<span class="4681049817175334681" onmouseenter="enter('4681049817175334681');" onmouseout="out('4681049817175334681');" style="">  15     GNU Affero General Public License for more details.                                                  </span>
<span  style="">  16                                                                                                          </span>
<span class="-3235531360569947201" onmouseenter="enter('-3235531360569947201');" onmouseout="out('-3235531360569947201');" style="">  17     You should have received a copy of the GNU Affero General Public License                             </span>
<span class="-3088444562895398794" onmouseenter="enter('-3088444562895398794');" onmouseout="out('-3088444562895398794');" style="">  18     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;. */                             </span>
<span class="-7738010425234448954" onmouseenter="enter('-7738010425234448954');" onmouseout="out('-7738010425234448954');" style="">  19 package nodomain.freeyourgadget.gadgetbridge.service;                                                    </span>
<span  style="">  20                                                                                                          </span>
<span class="2183671588995744448" onmouseenter="enter('2183671588995744448');" onmouseout="out('2183671588995744448');" style="">  21 import android.app.NotificationManager;                                                                  </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  22 import android.app.Service;                                                                              </span>
<span class="2859895893394018468" onmouseenter="enter('2859895893394018468');" onmouseout="out('2859895893394018468');" style="">  23 import android.bluetooth.BluetoothDevice;                                                                </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  24 import android.content.BroadcastReceiver;                                                                </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  25 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  26 import android.content.Intent;                                                                           </span>
<span class="8697221465021235869" onmouseenter="enter('8697221465021235869');" onmouseout="out('8697221465021235869');" style="">  27 import android.content.IntentFilter;                                                                     </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  28 import android.content.SharedPreferences;                                                                </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">  29 import android.net.Uri;                                                                                  </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">  30 import android.os.IBinder;                                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  31 import android.support.annotation.Nullable;                                                              </span>
<span class="2517521963771876570" onmouseenter="enter('2517521963771876570');" onmouseout="out('2517521963771876570');" style="">  32 import android.support.v4.content.LocalBroadcastManager;                                                 </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  33 import android.widget.Toast;                                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  35 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  36 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="">  37                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  38 import java.util.ArrayList;                                                                              </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  39 import java.util.Random;                                                                                 </span>
<span class="2390503830490498598" onmouseenter="enter('2390503830490498598');" onmouseout="out('2390503830490498598');" style="">  40 import java.util.UUID;                                                                                   </span>
<span  style="">  41                                                                                                          </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  42 import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                               </span>
<span class="-7198279398549834921" onmouseenter="enter('-7198279398549834921');" onmouseout="out('-7198279398549834921');" style="">  43 import nodomain.freeyourgadget.gadgetbridge.R;                                                           </span>
<span class="-1043793227667586476" onmouseenter="enter('-1043793227667586476');" onmouseout="out('-1043793227667586476');" style="">  44 import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmClockReceiver;                           </span>
<span class="-466082507516838314" onmouseenter="enter('-466082507516838314');" onmouseout="out('-466082507516838314');" style="">  45 import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmReceiver;                                </span>
<span class="-7129464422930519321" onmouseenter="enter('-7129464422930519321');" onmouseout="out('-7129464422930519321');" style="">  46 import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothConnectReceiver;                     </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  47 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="2398603908936046398" onmouseenter="enter('2398603908936046398');" onmouseout="out('2398603908936046398');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  48 import nodomain.freeyourgadget.gadgetbridge.externalevents.CalendarReceiver;                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  49 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-2271437192109431069" onmouseenter="enter('-2271437192109431069');" onmouseout="out('-2271437192109431069');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50 import nodomain.freeyourgadget.gadgetbridge.externalevents.MusicPlaybackReceiver;                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  51 =======                                                                                                  </span>
<span class="3745747127962910079" onmouseenter="enter('3745747127962910079');" onmouseout="out('3745747127962910079');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  52 import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothPairingRequestReceiver;              </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  53 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-2271437192109431069" onmouseenter="enter('-2271437192109431069');" onmouseout="out('-2271437192109431069');" style="">  54 import nodomain.freeyourgadget.gadgetbridge.externalevents.MusicPlaybackReceiver;                        </span>
<span class="-8149017599814569985" onmouseenter="enter('-8149017599814569985');" onmouseout="out('-8149017599814569985');" style="">  55 import nodomain.freeyourgadget.gadgetbridge.externalevents.PebbleReceiver;                               </span>
<span class="2562090092581913054" onmouseenter="enter('2562090092581913054');" onmouseout="out('2562090092581913054');" style="">  56 import nodomain.freeyourgadget.gadgetbridge.externalevents.PhoneCallReceiver;                            </span>
<span class="-1515256456216613580" onmouseenter="enter('-1515256456216613580');" onmouseout="out('-1515256456216613580');" style="">  57 import nodomain.freeyourgadget.gadgetbridge.externalevents.SMSReceiver;                                  </span>
<span class="-4561728641078454300" onmouseenter="enter('-4561728641078454300');" onmouseout="out('-4561728641078454300');" style="">  58 import nodomain.freeyourgadget.gadgetbridge.externalevents.TimeChangeReceiver;                           </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  59 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  60 import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                 </span>
<span class="-3899388208810973608" onmouseenter="enter('-3899388208810973608');" onmouseout="out('-3899388208810973608');" style="">  61 import nodomain.freeyourgadget.gadgetbridge.model.CalendarEventSpec;                                     </span>
<span class="-9074570965792323186" onmouseenter="enter('-9074570965792323186');" onmouseout="out('-9074570965792323186');" style="">  62 import nodomain.freeyourgadget.gadgetbridge.model.CallSpec;                                              </span>
<span class="-7415926539738049206" onmouseenter="enter('-7415926539738049206');" onmouseout="out('-7415926539738049206');" style="">  63 import nodomain.freeyourgadget.gadgetbridge.model.CannedMessagesSpec;                                    </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  64 import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                             </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  65 import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                        </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  66 import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                      </span>
<span class="7087011959288310716" onmouseenter="enter('7087011959288310716');" onmouseout="out('7087011959288310716');" style="">  67 import nodomain.freeyourgadget.gadgetbridge.model.NotificationType;                                      </span>
<span class="-40839721936664146" onmouseenter="enter('-40839721936664146');" onmouseout="out('-40839721936664146');" style="">  68 import nodomain.freeyourgadget.gadgetbridge.model.WeatherSpec;                                           </span>
<span class="-8326539218894047431" onmouseenter="enter('-8326539218894047431');" onmouseout="out('-8326539218894047431');" style="">  69 import nodomain.freeyourgadget.gadgetbridge.util.DeviceHelper;                                           </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  70 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span class="-9094281754584205644" onmouseenter="enter('-9094281754584205644');" onmouseout="out('-9094281754584205644');" style="">  71 import nodomain.freeyourgadget.gadgetbridge.util.GBPrefs;                                                </span>
<span class="-600862318521663319" onmouseenter="enter('-600862318521663319');" onmouseout="out('-600862318521663319');" style="">  72 import nodomain.freeyourgadget.gadgetbridge.util.Prefs;                                                  </span>
<span  style="">  73                                                                                                          </span>
<span class="6045190136542162764" onmouseenter="enter('6045190136542162764');" onmouseout="out('6045190136542162764');" style="">  74 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ADD_CALENDAREVENT;         </span>
<span class="-4691650729708495340" onmouseenter="enter('-4691650729708495340');" onmouseout="out('-4691650729708495340');" style="">  75 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_CONFIGURE;             </span>
<span class="8979266882952044394" onmouseenter="enter('8979266882952044394');" onmouseout="out('8979266882952044394');" style="">  76 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_REORDER;               </span>
<span class="-542869728357892530" onmouseenter="enter('-542869728357892530');" onmouseout="out('-542869728357892530');" style="">  77 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CALLSTATE;                 </span>
<span class="-247683295782230703" onmouseenter="enter('-247683295782230703');" onmouseout="out('-247683295782230703');" style="">  78 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CONNECT;                   </span>
<span class="-4616915307566341750" onmouseenter="enter('-4616915307566341750');" onmouseout="out('-4616915307566341750');" style="">  79 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETEAPP;                 </span>
<span class="-3074116335608109863" onmouseenter="enter('-3074116335608109863');" onmouseout="out('-3074116335608109863');" style="">  80 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_CALENDAREVENT;      </span>
<span class="-1860366238468238430" onmouseenter="enter('-1860366238468238430');" onmouseout="out('-1860366238468238430');" style="">  81 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_NOTIFICATION;       </span>
<span class="-1812841064554504500" onmouseenter="enter('-1812841064554504500');" onmouseout="out('-1812841064554504500');" style="">  82 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DISCONNECT;                </span>
<span class="-4921661448524955199" onmouseenter="enter('-4921661448524955199');" onmouseout="out('-4921661448524955199');" style=""><abbr title="  83 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT;">  83 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPP🔵</abbr></span>
<span class="6246333874127665785" onmouseenter="enter('6246333874127665785');" onmouseout="out('6246333874127665785');" style=""><abbr title="  84 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT;">  84 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_M🔵</abbr></span>
<span class="-7030527688450425299" onmouseenter="enter('-7030527688450425299');" onmouseout="out('-7030527688450425299');" style="">  85 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_STEPS;     </span>
<span class="5330179003852293257" onmouseenter="enter('5330179003852293257');" onmouseout="out('5330179003852293257');" style="">  86 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FETCH_ACTIVITY_DATA;       </span>
<span class="-6966848371161420018" onmouseenter="enter('-6966848371161420018');" onmouseout="out('-6966848371161420018');" style="">  87 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FIND_DEVICE;               </span>
<span class="4586775629870362245" onmouseenter="enter('4586775629870362245');" onmouseout="out('4586775629870362245');" style="">  88 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_HEARTRATE_TEST;            </span>
<span class="-5289289347666796824" onmouseenter="enter('-5289289347666796824');" onmouseout="out('-5289289347666796824');" style="">  89 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_INSTALL;                   </span>
<span class="3276198152396102653" onmouseenter="enter('3276198152396102653');" onmouseout="out('3276198152396102653');" style="">  90 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_NOTIFICATION;              </span>
<span class="5085118059276382623" onmouseenter="enter('5085118059276382623');" onmouseout="out('5085118059276382623');" style="">  91 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REBOOT;                    </span>
<span class="-6594726169437148825" onmouseenter="enter('-6594726169437148825');" onmouseout="out('-6594726169437148825');" style="">  92 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_APPINFO;           </span>
<span class="-1183129577946721611" onmouseenter="enter('-1183129577946721611');" onmouseout="out('-1183129577946721611');" style="">  93 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_DEVICEINFO;        </span>
<span class="5758933186280297106" onmouseenter="enter('5758933186280297106');" onmouseout="out('5758933186280297106');" style="">  94 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_SCREENSHOT;        </span>
<span class="-4714892334355914946" onmouseenter="enter('-4714892334355914946');" onmouseout="out('-4714892334355914946');" style="">  95 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_CONFIGURATION;        </span>
<span class="8513571795744919095" onmouseenter="enter('8513571795744919095');" onmouseout="out('8513571795744919095');" style="">  96 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_WEATHER;              </span>
<span class="7391455619690263299" onmouseenter="enter('7391455619690263299');" onmouseout="out('7391455619690263299');" style="">  97 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETCANNEDMESSAGES;         </span>
<span class="3872370270421160251" onmouseenter="enter('3872370270421160251');" onmouseout="out('3872370270421160251');" style="">  98 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICINFO;              </span>
<span class="4922243836603922576" onmouseenter="enter('4922243836603922576');" onmouseout="out('4922243836603922576');" style="">  99 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICSTATE;             </span>
<span class="-1819410662234697183" onmouseenter="enter('-1819410662234697183');" onmouseout="out('-1819410662234697183');" style=""> 100 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETTIME;                   </span>
<span class="5600424252036500004" onmouseenter="enter('5600424252036500004');" onmouseout="out('5600424252036500004');" style=""> 101 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_ALARMS;                </span>
<span class="-8485936520151852725" onmouseenter="enter('-8485936520151852725');" onmouseout="out('-8485936520151852725');" style=""> 102 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_CONSTANT_VIBRATION;    </span>
<span class="-2895954538846707623" onmouseenter="enter('-2895954538846707623');" onmouseout="out('-2895954538846707623');" style=""> 103 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_START;                     </span>
<span class="159603830185606040" onmouseenter="enter('159603830185606040');" onmouseout="out('159603830185606040');" style=""> 104 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_STARTAPP;                  </span>
<span class="-8485404521634723509" onmouseenter="enter('-8485404521634723509');" onmouseout="out('-8485404521634723509');" style=""> 105 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_TEST_NEW_FUNCTION;         </span>
<span class="770450972489050338" onmouseenter="enter('770450972489050338');" onmouseout="out('770450972489050338');" style=""> 106 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_ALARMS;                     </span>
<span class="-7114221800478427382" onmouseenter="enter('-7114221800478427382');" onmouseout="out('-7114221800478427382');" style=""> 107 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_CONFIG;                 </span>
<span class="8965411938901348033" onmouseenter="enter('8965411938901348033');" onmouseout="out('8965411938901348033');" style=""> 108 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_START;                  </span>
<span class="-8283928422425000100" onmouseenter="enter('-8283928422425000100');" onmouseout="out('-8283928422425000100');" style=""> 109 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_UUID;                   </span>
<span class="-6028659556554711747" onmouseenter="enter('-6028659556554711747');" onmouseout="out('-6028659556554711747');" style=""> 110 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_BOOLEAN_ENABLE;             </span>
<span class="7522647889408017982" onmouseenter="enter('7522647889408017982');" onmouseout="out('7522647889408017982');" style=""> 111 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DESCRIPTION;  </span>
<span class="2012224363855729231" onmouseenter="enter('2012224363855729231');" onmouseout="out('2012224363855729231');" style=""> 112 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DURATION;     </span>
<span class="2381002028954495403" onmouseenter="enter('2381002028954495403');" onmouseout="out('2381002028954495403');" style=""> 113 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_ID;           </span>
<span class="-7291810314793060088" onmouseenter="enter('-7291810314793060088');" onmouseout="out('-7291810314793060088');" style=""> 114 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TIMESTAMP;    </span>
<span class="384106080468578959" onmouseenter="enter('384106080468578959');" onmouseout="out('384106080468578959');" style=""> 115 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TITLE;        </span>
<span class="-6202091316758952440" onmouseenter="enter('-6202091316758952440');" onmouseout="out('-6202091316758952440');" style=""> 116 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TYPE;         </span>
<span class="8389643945828398933" onmouseenter="enter('8389643945828398933');" onmouseout="out('8389643945828398933');" style=""> 117 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_COMMAND;               </span>
<span class="4792956381576162355" onmouseenter="enter('4792956381576162355');" onmouseout="out('4792956381576162355');" style=""> 118 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_DISPLAYNAME;           </span>
<span class="5333868123015017193" onmouseenter="enter('5333868123015017193');" onmouseout="out('5333868123015017193');" style=""> 119 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_PHONENUMBER;           </span>
<span class="-5129778312485721110" onmouseenter="enter('-5129778312485721110');" onmouseout="out('-5129778312485721110');" style=""> 120 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES;             </span>
<span class="4656341769499509905" onmouseenter="enter('4656341769499509905');" onmouseout="out('4656341769499509905');" style=""> 121 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES_TYPE;        </span>
<span class="5199391479118480443" onmouseenter="enter('5199391479118480443');" onmouseout="out('5199391479118480443');" style=""> 122 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONFIG;                     </span>
<span class="4059405288294641795" onmouseenter="enter('4059405288294641795');" onmouseout="out('4059405288294641795');" style=""> 123 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONNECT_FIRST_TIME;         </span>
<span class="4221194159076226870" onmouseenter="enter('4221194159076226870');" onmouseout="out('4221194159076226870');" style=""> 124 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_FIND_START;                 </span>
<span class="-2258225638015800384" onmouseenter="enter('-2258225638015800384');" onmouseout="out('-2258225638015800384');" style=""> 125 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ALBUM;                </span>
<span class="-2216137706415061756" onmouseenter="enter('-2216137706415061756');" onmouseout="out('-2216137706415061756');" style=""> 126 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ARTIST;               </span>
<span class="8046519832671029614" onmouseenter="enter('8046519832671029614');" onmouseout="out('8046519832671029614');" style=""> 127 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_DURATION;             </span>
<span class="-6142463088169555654" onmouseenter="enter('-6142463088169555654');" onmouseout="out('-6142463088169555654');" style=""> 128 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_POSITION;             </span>
<span class="5744330398351461055" onmouseenter="enter('5744330398351461055');" onmouseout="out('5744330398351461055');" style=""> 129 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_RATE;                 </span>
<span class="-4927372672415271921" onmouseenter="enter('-4927372672415271921');" onmouseout="out('-4927372672415271921');" style=""> 130 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_REPEAT;               </span>
<span class="7486056797989668892" onmouseenter="enter('7486056797989668892');" onmouseout="out('7486056797989668892');" style=""> 131 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_SHUFFLE;              </span>
<span class="-8253565582178279411" onmouseenter="enter('-8253565582178279411');" onmouseout="out('-8253565582178279411');" style=""> 132 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_STATE;                </span>
<span class="-2409139333736829248" onmouseenter="enter('-2409139333736829248');" onmouseout="out('-2409139333736829248');" style=""> 133 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACK;                </span>
<span class="3248584088261486079" onmouseenter="enter('3248584088261486079');" onmouseout="out('3248584088261486079');" style=""> 134 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKCOUNT;           </span>
<span class="-2704967574938476609" onmouseenter="enter('-2704967574938476609');" onmouseout="out('-2704967574938476609');" style=""> 135 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKNR;              </span>
<span class="3700368637395551240" onmouseenter="enter('3700368637395551240');" onmouseout="out('3700368637395551240');" style=""> 136 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_BODY;          </span>
<span class="6396194886685840912" onmouseenter="enter('6396194886685840912');" onmouseout="out('6396194886685840912');" style=""> 137 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_FLAGS;         </span>
<span class="4822457600196668791" onmouseenter="enter('4822457600196668791');" onmouseout="out('4822457600196668791');" style=""> 138 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_ID;            </span>
<span class="7674789080848891549" onmouseenter="enter('7674789080848891549');" onmouseout="out('7674789080848891549');" style=""> 139 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_PHONENUMBER;   </span>
<span class="4567989658129086488" onmouseenter="enter('4567989658129086488');" onmouseout="out('4567989658129086488');" style=""> 140 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SENDER;        </span>
<span class="5059516478886573650" onmouseenter="enter('5059516478886573650');" onmouseout="out('5059516478886573650');" style=""> 141 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SOURCENAME;    </span>
<span class="4541479799245762364" onmouseenter="enter('4541479799245762364');" onmouseout="out('4541479799245762364');" style=""> 142 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SUBJECT;       </span>
<span class="-2743035339658362547" onmouseenter="enter('-2743035339658362547');" onmouseout="out('-2743035339658362547');" style=""> 143 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TITLE;         </span>
<span class="-5872178756477099231" onmouseenter="enter('-5872178756477099231');" onmouseout="out('-5872178756477099231');" style=""> 144 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TYPE;          </span>
<span class="2609126409554850516" onmouseenter="enter('2609126409554850516');" onmouseout="out('2609126409554850516');" style=""> 145 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_URI;                        </span>
<span class="558351812671615614" onmouseenter="enter('558351812671615614');" onmouseout="out('558351812671615614');" style=""> 146 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_VIBRATION_INTENSITY;        </span>
<span class="-3363581013306175134" onmouseenter="enter('-3363581013306175134');" onmouseout="out('-3363581013306175134');" style=""> 147 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITION;   </span>
<span class="-8943294338982235009" onmouseenter="enter('-8943294338982235009');" onmouseout="out('-8943294338982235009');" style=""><abbr title=" 148 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE;"> 148 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE🔵</abbr></span>
<span class="2859637720228343142" onmouseenter="enter('2859637720228343142');" onmouseout="out('2859637720228343142');" style=""> 149 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTTEMP;        </span>
<span class="-2095384497186099299" onmouseenter="enter('-2095384497186099299');" onmouseout="out('-2095384497186099299');" style=""> 150 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_LOCATION;           </span>
<span class="6581594015461287613" onmouseenter="enter('6581594015461287613');" onmouseout="out('6581594015461287613');" style=""> 151 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TIMESTAMP;          </span>
<span class="-7095302037137566641" onmouseenter="enter('-7095302037137566641');" onmouseout="out('-7095302037137566641');" style=""> 152 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMAXTEMP;       </span>
<span class="4074481476846669078" onmouseenter="enter('4074481476846669078');" onmouseout="out('4074481476846669078');" style=""> 153 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMINTEMP;       </span>
<span class="-2007611705625738582" onmouseenter="enter('-2007611705625738582');" onmouseout="out('-2007611705625738582');" style=""><abbr title=" 154 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCODE;"> 154 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCOD🔵</abbr></span>
<span class="-2323001311549544950" onmouseenter="enter('-2323001311549544950');" onmouseout="out('-2323001311549544950');" style=""> 155 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMAXTEMP;    </span>
<span class="-6803925815152400371" onmouseenter="enter('-6803925815152400371');" onmouseout="out('-6803925815152400371');" style=""> 156 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMINTEMP;    </span>
<span  style=""> 157                                                                                                          </span>
<span class="7002389026711922138" onmouseenter="enter('7002389026711922138');" onmouseout="out('7002389026711922138');" style=""><abbr title=" 158 public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListener {"> 158 public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceCh🔵</abbr></span>
<span class="2948370626519459736" onmouseenter="enter('2948370626519459736');" onmouseout="out('2948370626519459736');" style=""> 159     private static final Logger LOG = LoggerFactory.getLogger(DeviceCommunicationService.class);         </span>
<span class="8315759516084024026" onmouseenter="enter('8315759516084024026');" onmouseout="out('8315759516084024026');" style=""> 160     private static DeviceSupportFactory DEVICE_SUPPORT_FACTORY = null;                                   </span>
<span  style=""> 161                                                                                                          </span>
<span class="5665266661180725736" onmouseenter="enter('5665266661180725736');" onmouseout="out('5665266661180725736');" style=""> 162     private boolean mStarted = false;                                                                    </span>
<span  style=""> 163                                                                                                          </span>
<span class="2619013435041056124" onmouseenter="enter('2619013435041056124');" onmouseout="out('2619013435041056124');" style=""> 164     private DeviceSupportFactory mFactory;                                                               </span>
<span class="-5535852384441440556" onmouseenter="enter('-5535852384441440556');" onmouseout="out('-5535852384441440556');" style=""> 165     private GBDevice mGBDevice = null;                                                                   </span>
<span class="3807324077532128165" onmouseenter="enter('3807324077532128165');" onmouseout="out('3807324077532128165');" style=""> 166     private DeviceSupport mDeviceSupport;                                                                </span>
<span  style=""> 167                                                                                                          </span>
<span class="6815378416149141398" onmouseenter="enter('6815378416149141398');" onmouseout="out('6815378416149141398');" style=""> 168     private PhoneCallReceiver mPhoneCallReceiver = null;                                                 </span>
<span class="-2826099576832326168" onmouseenter="enter('-2826099576832326168');" onmouseout="out('-2826099576832326168');" style=""> 169     private SMSReceiver mSMSReceiver = null;                                                             </span>
<span class="-3235398375537158027" onmouseenter="enter('-3235398375537158027');" onmouseout="out('-3235398375537158027');" style=""> 170     private PebbleReceiver mPebbleReceiver = null;                                                       </span>
<span class="-6023871012645258525" onmouseenter="enter('-6023871012645258525');" onmouseout="out('-6023871012645258525');" style=""> 171     private MusicPlaybackReceiver mMusicPlaybackReceiver = null;                                         </span>
<span class="-6462467161745750835" onmouseenter="enter('-6462467161745750835');" onmouseout="out('-6462467161745750835');" style=""> 172     private TimeChangeReceiver mTimeChangeReceiver = null;                                               </span>
<span class="45606605928520924" onmouseenter="enter('45606605928520924');" onmouseout="out('45606605928520924');" style=""> 173     private BluetoothConnectReceiver mBlueToothConnectReceiver = null;                                   </span>
<span class="-9067944856238345499" onmouseenter="enter('-9067944856238345499');" onmouseout="out('-9067944856238345499');" style=""> 174     private BluetoothPairingRequestReceiver mBlueToothPairingRequestReceiver = null;                     </span>
<span class="-2172935952751705642" onmouseenter="enter('-2172935952751705642');" onmouseout="out('-2172935952751705642');" style=""> 175     private AlarmClockReceiver mAlarmClockReceiver = null;                                               </span>
<span  style=""> 176                                                                                                          </span>
<span class="8047396517755341728" onmouseenter="enter('8047396517755341728');" onmouseout="out('8047396517755341728');" style=""> 177     private AlarmReceiver mAlarmReceiver = null;                                                         </span>
<span class="-1064576620280552382" onmouseenter="enter('-1064576620280552382');" onmouseout="out('-1064576620280552382');" style=""> 178     private CalendarReceiver mCalendarReceiver = null;                                                   </span>
<span class="596985040066134893" onmouseenter="enter('596985040066134893');" onmouseout="out('596985040066134893');" style=""> 179     private Random mRandom = new Random();                                                               </span>
<span  style=""> 180                                                                                                          </span>
<span class="-7026764300858699611" onmouseenter="enter('-7026764300858699611');" onmouseout="out('-7026764300858699611');" style=""> 181     private final String[] mMusicActions = {                                                             </span>
<span class="-5899670638360176462" onmouseenter="enter('-5899670638360176462');" onmouseout="out('-5899670638360176462');" style=""> 182             &quot;com.android.music.metachanged&quot;,                                                             </span>
<span class="-6119178071307230813" onmouseenter="enter('-6119178071307230813');" onmouseout="out('-6119178071307230813');" style=""> 183             &quot;com.android.music.playstatechanged&quot;,                                                        </span>
<span class="6696782374861485479" onmouseenter="enter('6696782374861485479');" onmouseout="out('6696782374861485479');" style=""> 184             &quot;com.android.music.queuechanged&quot;,                                                            </span>
<span class="6754013239602282204" onmouseenter="enter('6754013239602282204');" onmouseout="out('6754013239602282204');" style=""> 185             &quot;com.android.music.playbackcomplete&quot;,                                                        </span>
<span class="-1811061177320906307" onmouseenter="enter('-1811061177320906307');" onmouseout="out('-1811061177320906307');" style=""> 186             &quot;net.sourceforge.subsonic.androidapp.EVENT_META_CHANGED&quot;,                                    </span>
<span class="8938407557672159350" onmouseenter="enter('8938407557672159350');" onmouseout="out('8938407557672159350');" style=""> 187             &quot;com.maxmpz.audioplayer.TPOS_SYNC&quot;,                                                          </span>
<span class="8683787039615780676" onmouseenter="enter('8683787039615780676');" onmouseout="out('8683787039615780676');" style=""> 188             &quot;com.maxmpz.audioplayer.STATUS_CHANGED&quot;,                                                     </span>
<span class="7325198080010606271" onmouseenter="enter('7325198080010606271');" onmouseout="out('7325198080010606271');" style=""> 189             &quot;com.maxmpz.audioplayer.PLAYING_MODE_CHANGED&quot;};                                              </span>
<span  style=""> 190                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 191     /**                                                                                                  </span>
<span class="-2662003173786345235" onmouseenter="enter('-2662003173786345235');" onmouseout="out('-2662003173786345235');" style=""> 192      * For testing!                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 193      *                                                                                                   </span>
<span class="2659395903319912597" onmouseenter="enter('2659395903319912597');" onmouseout="out('2659395903319912597');" style=""> 194      * @param factory                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 195      */                                                                                                  </span>
<span class="-6666378662286991217" onmouseenter="enter('-6666378662286991217');" onmouseout="out('-6666378662286991217');" style=""> 196     public static void setDeviceSupportFactory(DeviceSupportFactory factory) {                           </span>
<span class="-8354288850313385150" onmouseenter="enter('-8354288850313385150');" onmouseout="out('-8354288850313385150');" style=""> 197         DEVICE_SUPPORT_FACTORY = factory;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="-3957055725206159636" onmouseenter="enter('-3957055725206159636');" onmouseout="out('-3957055725206159636');" style=""> 200     public DeviceCommunicationService() {                                                                </span>
<span  style=""> 201                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="4625474178666977899" onmouseenter="enter('4625474178666977899');" onmouseout="out('4625474178666977899');" style=""> 204     private final BroadcastReceiver mReceiver = new BroadcastReceiver() {                                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 205         @Override                                                                                        </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style=""> 206         public void onReceive(Context context, Intent intent) {                                          </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 207             String action = intent.getAction();                                                          </span>
<span class="6363789114941388821" onmouseenter="enter('6363789114941388821');" onmouseout="out('6363789114941388821');" style=""> 208             if (action.equals(GBDevice.ACTION_DEVICE_CHANGED)) {                                         </span>
<span class="-2461183312182880324" onmouseenter="enter('-2461183312182880324');" onmouseout="out('-2461183312182880324');" style=""> 209                 GBDevice device = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                      </span>
<span class="-1587947608962901958" onmouseenter="enter('-1587947608962901958');" onmouseout="out('-1587947608962901958');" style=""> 210                 // FIXME: mGBDevice was null here once                                                   </span>
<span class="6531971567465378623" onmouseenter="enter('6531971567465378623');" onmouseout="out('6531971567465378623');" style=""> 211                 if (mGBDevice.equals(device)) {                                                          </span>
<span class="3131993518650313722" onmouseenter="enter('3131993518650313722');" onmouseout="out('3131993518650313722');" style=""> 212                     mGBDevice = device;                                                                  </span>
<span class="-9215184646965251963" onmouseenter="enter('-9215184646965251963');" onmouseout="out('-9215184646965251963');" style=""><abbr title=" 213                     boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDevice.isInitialized());"> 213                     boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() 🔵</abbr></span>
<span class="7959311921834810767" onmouseenter="enter('7959311921834810767');" onmouseout="out('7959311921834810767');" style=""> 214                     setReceiversEnableState(enableReceivers, mGBDevice.isInitialized());                 </span>
<span class="3006210050222174141" onmouseenter="enter('3006210050222174141');" onmouseout="out('3006210050222174141');" style=""><abbr title=" 215                     GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevice.isInitialized(), context);"> 215                     GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevi🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 216                 } else {                                                                                 </span>
<span class="-5607286848535217916" onmouseenter="enter('-5607286848535217916');" onmouseout="out('-5607286848535217916');" style=""> 217                     LOG.error(&quot;Got ACTION_DEVICE_CHANGED from unexpected device: &quot; + mGBDevice);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 221     };                                                                                                   </span>
<span  style=""> 222                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style=""> 224     public void onCreate() {                                                                             </span>
<span class="-4054458849665978908" onmouseenter="enter('-4054458849665978908');" onmouseout="out('-4054458849665978908');" style=""> 225         LOG.debug(&quot;DeviceCommunicationService is being created&quot;);                                        </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style=""> 226         super.onCreate();                                                                                </span>
<span class="-4042436281125736078" onmouseenter="enter('-4042436281125736078');" onmouseout="out('-4042436281125736078');" style=""><abbr title=" 227         LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVICE_CHANGED));"> 227         LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACT🔵</abbr></span>
<span class="7550329168056090280" onmouseenter="enter('7550329168056090280');" onmouseout="out('7550329168056090280');" style=""> 228         mFactory = getDeviceSupportFactory();                                                            </span>
<span  style=""> 229                                                                                                          </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 230         if (hasPrefs()) {                                                                                </span>
<span class="-5542746784767813133" onmouseenter="enter('-5542746784767813133');" onmouseout="out('-5542746784767813133');" style=""> 231             getPrefs().getPreferences().registerOnSharedPreferenceChangeListener(this);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233     }                                                                                                    </span>
<span  style=""> 234                                                                                                          </span>
<span class="4443706376638466060" onmouseenter="enter('4443706376638466060');" onmouseout="out('4443706376638466060');" style=""> 235     private DeviceSupportFactory getDeviceSupportFactory() {                                             </span>
<span class="232953772404563377" onmouseenter="enter('232953772404563377');" onmouseout="out('232953772404563377');" style=""> 236         if (DEVICE_SUPPORT_FACTORY != null) {                                                            </span>
<span class="7931102469926815551" onmouseenter="enter('7931102469926815551');" onmouseout="out('7931102469926815551');" style=""> 237             return DEVICE_SUPPORT_FACTORY;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238         }                                                                                                </span>
<span class="4538357947168100259" onmouseenter="enter('4538357947168100259');" onmouseout="out('4538357947168100259');" style=""> 239         return new DeviceSupportFactory(this);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span  style=""> 241                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242     @Override                                                                                            </span>
<span class="-8981297357807978759" onmouseenter="enter('-8981297357807978759');" onmouseout="out('-8981297357807978759');" style=""> 243     public synchronized int onStartCommand(Intent intent, int flags, int startId) {                      </span>
<span  style=""> 244                                                                                                          </span>
<span class="-8400111569787613467" onmouseenter="enter('-8400111569787613467');" onmouseout="out('-8400111569787613467');" style=""> 245         if (intent == null) {                                                                            </span>
<span class="-2375998914676676862" onmouseenter="enter('-2375998914676676862');" onmouseout="out('-2375998914676676862');" style=""> 246             LOG.info(&quot;no intent&quot;);                                                                       </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 247             return START_NOT_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248         }                                                                                                </span>
<span  style=""> 249                                                                                                          </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 250         String action = intent.getAction();                                                              </span>
<span class="7823373493260129619" onmouseenter="enter('7823373493260129619');" onmouseout="out('7823373493260129619');" style=""> 251         boolean firstTime = intent.getBooleanExtra(EXTRA_CONNECT_FIRST_TIME, false);                     </span>
<span  style=""> 252                                                                                                          </span>
<span class="4668300806615190248" onmouseenter="enter('4668300806615190248');" onmouseout="out('4668300806615190248');" style=""> 253         if (action == null) {                                                                            </span>
<span class="-1443758836937597877" onmouseenter="enter('-1443758836937597877');" onmouseout="out('-1443758836937597877');" style=""> 254             LOG.info(&quot;no action&quot;);                                                                       </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 255             return START_NOT_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256         }                                                                                                </span>
<span  style=""> 257                                                                                                          </span>
<span class="-7510962738906177338" onmouseenter="enter('-7510962738906177338');" onmouseout="out('-7510962738906177338');" style=""> 258         LOG.debug(&quot;Service startcommand: &quot; + action);                                                    </span>
<span  style=""> 259                                                                                                          </span>
<span class="8726253247916805946" onmouseenter="enter('8726253247916805946');" onmouseout="out('8726253247916805946');" style=""> 260         if (!action.equals(ACTION_START) &amp;&amp; !action.equals(ACTION_CONNECT)) {                            </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 261             if (!mStarted) {                                                                             </span>
<span class="-4314511529946530833" onmouseenter="enter('-4314511529946530833');" onmouseout="out('-4314511529946530833');" style=""> 262                 // using the service before issuing ACTION_START                                         </span>
<span class="-7267052914594203511" onmouseenter="enter('-7267052914594203511');" onmouseout="out('-7267052914594203511');" style=""><abbr title=" 263                 LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before using it: &quot; + action);"> 263                 LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before u🔵</abbr></span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 264                 return START_NOT_STICKY;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265             }                                                                                            </span>
<span  style=""> 266                                                                                                          </span>
<span class="1608942666865935384" onmouseenter="enter('1608942666865935384');" onmouseout="out('1608942666865935384');" style=""> 267             if (mDeviceSupport == null || (!isInitialized() &amp;&amp; !mDeviceSupport.useAutoConnect())) {      </span>
<span class="-7295838370792597580" onmouseenter="enter('-7295838370792597580');" onmouseout="out('-7295838370792597580');" style=""> 268                 // trying to send notification without valid Bluetooth connection                        </span>
<span class="-3967328229534622301" onmouseenter="enter('-3967328229534622301');" onmouseout="out('-3967328229534622301');" style=""> 269                 if (mGBDevice != null) {                                                                 </span>
<span class="-2150339174362147605" onmouseenter="enter('-2150339174362147605');" onmouseout="out('-2150339174362147605');" style=""> 270                     // at least send back the current device state                                       </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 271                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272                 }                                                                                        </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 273                 return START_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span  style=""> 276                                                                                                          </span>
<span class="-8633731563859485799" onmouseenter="enter('-8633731563859485799');" onmouseout="out('-8633731563859485799');" style=""> 277         // when we get past this, we should have valid mDeviceSupport and mGBDevice instances            </span>
<span  style=""> 278                                                                                                          </span>
<span class="7909508264133940557" onmouseenter="enter('7909508264133940557');" onmouseout="out('7909508264133940557');" style=""> 279         Prefs prefs = getPrefs();                                                                        </span>
<span class="6099627150369302694" onmouseenter="enter('6099627150369302694');" onmouseout="out('6099627150369302694');" style=""> 280         switch (action) {                                                                                </span>
<span class="-2272247934204130657" onmouseenter="enter('-2272247934204130657');" onmouseout="out('-2272247934204130657');" style=""> 281             case ACTION_START:                                                                           </span>
<span class="-6183578153083367222" onmouseenter="enter('-6183578153083367222');" onmouseout="out('-6183578153083367222');" style=""> 282                 start();                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 283                 break;                                                                                   </span>
<span class="8461838725469303405" onmouseenter="enter('8461838725469303405');" onmouseout="out('8461838725469303405');" style=""> 284             case ACTION_CONNECT:                                                                         </span>
<span class="-897658161409962678" onmouseenter="enter('-897658161409962678');" onmouseout="out('-897658161409962678');" style=""> 285                 start(); // ensure started                                                               </span>
<span class="-1505296384620921106" onmouseenter="enter('-1505296384620921106');" onmouseout="out('-1505296384620921106');" style=""> 286                 GBDevice gbDevice = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                    </span>
<span class="-5722809612075478674" onmouseenter="enter('-5722809612075478674');" onmouseout="out('-5722809612075478674');" style=""> 287                 String btDeviceAddress = null;                                                           </span>
<span class="-2736305943333857977" onmouseenter="enter('-2736305943333857977');" onmouseout="out('-2736305943333857977');" style=""> 288                 if (gbDevice == null) {                                                                  </span>
<span class="6187858071980224944" onmouseenter="enter('6187858071980224944');" onmouseout="out('6187858071980224944');" style=""> 289                     if (prefs != null) { // may be null in test cases                                    </span>
<span class="2264609510245934073" onmouseenter="enter('2264609510245934073');" onmouseout="out('2264609510245934073');" style=""> 290                         btDeviceAddress = prefs.getString(&quot;last_device_address&quot;, null);                  </span>
<span class="-1328118737775276827" onmouseenter="enter('-1328118737775276827');" onmouseout="out('-1328118737775276827');" style=""> 291                         if (btDeviceAddress != null) {                                                   </span>
<span class="-8056388044949715653" onmouseenter="enter('-8056388044949715653');" onmouseout="out('-8056388044949715653');" style=""><abbr title=" 292                             gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, this);"> 292                             gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, th🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294                     }                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 295                 } else {                                                                                 </span>
<span class="1063784168399888092" onmouseenter="enter('1063784168399888092');" onmouseout="out('1063784168399888092');" style=""> 296                     btDeviceAddress = gbDevice.getAddress();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297                 }                                                                                        </span>
<span  style=""> 298                                                                                                          </span>
<span class="8517927575135190002" onmouseenter="enter('8517927575135190002');" onmouseout="out('8517927575135190002');" style=""> 299                 boolean autoReconnect = GBPrefs.AUTO_RECONNECT_DEFAULT;                                  </span>
<span class="-3146372184855635097" onmouseenter="enter('-3146372184855635097');" onmouseout="out('-3146372184855635097');" style=""> 300                 if (prefs != null &amp;&amp; prefs.getPreferences() != null) {                                   </span>
<span class="-5009961935760343048" onmouseenter="enter('-5009961935760343048');" onmouseout="out('-5009961935760343048');" style=""><abbr title=" 301                     prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply();"> 301                     prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply🔵</abbr></span>
<span class="1485130976607349673" onmouseenter="enter('1485130976607349673');" onmouseout="out('1485130976607349673');" style=""> 302                     autoReconnect = getGBPrefs().getAutoReconnect();                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303                 }                                                                                        </span>
<span  style=""> 304                                                                                                          </span>
<span class="7748119344381831409" onmouseenter="enter('7748119344381831409');" onmouseout="out('7748119344381831409');" style=""> 305                 if (gbDevice != null &amp;&amp; !isConnecting() &amp;&amp; !isConnected()) {                             </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 306                     setDeviceSupport(null);                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 307                     try {                                                                                </span>
<span class="6368812257942052163" onmouseenter="enter('6368812257942052163');" onmouseout="out('6368812257942052163');" style=""> 308                         DeviceSupport deviceSupport = mFactory.createDeviceSupport(gbDevice);            </span>
<span class="2672581873473401176" onmouseenter="enter('2672581873473401176');" onmouseout="out('2672581873473401176');" style=""> 309                         if (deviceSupport != null) {                                                     </span>
<span class="5073675520708761827" onmouseenter="enter('5073675520708761827');" onmouseout="out('5073675520708761827');" style=""> 310                             setDeviceSupport(deviceSupport);                                             </span>
<span class="-8996767192548104897" onmouseenter="enter('-8996767192548104897');" onmouseout="out('-8996767192548104897');" style=""> 311                             if (firstTime) {                                                             </span>
<span class="1278919844889630077" onmouseenter="enter('1278919844889630077');" onmouseout="out('1278919844889630077');" style=""> 312                                 deviceSupport.connectFirstTime();                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 313                             } else {                                                                     </span>
<span class="-3957948055115279311" onmouseenter="enter('-3957948055115279311');" onmouseout="out('-3957948055115279311');" style=""> 314                                 deviceSupport.setAutoReconnect(autoReconnect);                           </span>
<span class="-1283285352904053142" onmouseenter="enter('-1283285352904053142');" onmouseout="out('-1283285352904053142');" style=""> 315                                 deviceSupport.connect();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316                             }                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 317                         } else {                                                                         </span>
<span class="2291338781944945288" onmouseenter="enter('2291338781944945288');" onmouseout="out('2291338781944945288');" style=""><abbr title=" 318                             GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toast.LENGTH_SHORT, GB.ERROR);"> 318                             GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device suppor🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319                         }                                                                                </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 320                     } catch (Exception e) {                                                              </span>
<span class="-489775191707791993" onmouseenter="enter('-489775191707791993');" onmouseout="out('-489775191707791993');" style=""><abbr title=" 321                         GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.ERROR, e);"> 321                         GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_S🔵</abbr></span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 322                         setDeviceSupport(null);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323                     }                                                                                    </span>
<span class="-4649134418590982211" onmouseenter="enter('-4649134418590982211');" onmouseout="out('-4649134418590982211');" style=""> 324                 } else if (mGBDevice != null) {                                                          </span>
<span class="6491337019366323782" onmouseenter="enter('6491337019366323782');" onmouseout="out('6491337019366323782');" style=""> 325                     // send an update at least                                                           </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 326                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 328                 break;                                                                                   </span>
<span class="-5365019322341306791" onmouseenter="enter('-5365019322341306791');" onmouseout="out('-5365019322341306791');" style=""> 329             case ACTION_REQUEST_DEVICEINFO:                                                              </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 330                 mGBDevice.sendDeviceUpdateIntent(this);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 331                 break;                                                                                   </span>
<span class="-669647313975801341" onmouseenter="enter('-669647313975801341');" onmouseout="out('-669647313975801341');" style=""> 332             case ACTION_NOTIFICATION: {                                                                  </span>
<span class="4249292218927487361" onmouseenter="enter('4249292218927487361');" onmouseout="out('4249292218927487361');" style=""> 333                 NotificationSpec notificationSpec = new NotificationSpec();                              </span>
<span class="7144362564334367710" onmouseenter="enter('7144362564334367710');" onmouseout="out('7144362564334367710');" style=""> 334                 notificationSpec.phoneNumber = intent.getStringExtra(EXTRA_NOTIFICATION_PHONENUMBER);    </span>
<span class="-997642605508866012" onmouseenter="enter('-997642605508866012');" onmouseout="out('-997642605508866012');" style=""> 335                 notificationSpec.sender = intent.getStringExtra(EXTRA_NOTIFICATION_SENDER);              </span>
<span class="2782521715291117457" onmouseenter="enter('2782521715291117457');" onmouseout="out('2782521715291117457');" style=""> 336                 notificationSpec.subject = intent.getStringExtra(EXTRA_NOTIFICATION_SUBJECT);            </span>
<span class="7851353269868360095" onmouseenter="enter('7851353269868360095');" onmouseout="out('7851353269868360095');" style=""> 337                 notificationSpec.title = intent.getStringExtra(EXTRA_NOTIFICATION_TITLE);                </span>
<span class="-5627490756759928844" onmouseenter="enter('-5627490756759928844');" onmouseout="out('-5627490756759928844');" style=""> 338                 notificationSpec.body = intent.getStringExtra(EXTRA_NOTIFICATION_BODY);                  </span>
<span class="3144450796969351021" onmouseenter="enter('3144450796969351021');" onmouseout="out('3144450796969351021');" style=""> 339                 notificationSpec.sourceName = intent.getStringExtra(EXTRA_NOTIFICATION_SOURCENAME);      </span>
<span class="7470189062308361999" onmouseenter="enter('7470189062308361999');" onmouseout="out('7470189062308361999');" style=""><abbr title=" 340                 notificationSpec.type = (NotificationType) intent.getSerializableExtra(EXTRA_NOTIFICATION_TYPE);"> 340                 notificationSpec.type = (NotificationType) intent.getSerializableExtra(EXTRA_NOTIFICATION🔵</abbr></span>
<span class="-58552451302524684" onmouseenter="enter('-58552451302524684');" onmouseout="out('-58552451302524684');" style=""> 341                 notificationSpec.id = intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1);                     </span>
<span class="-6392144337868342404" onmouseenter="enter('-6392144337868342404');" onmouseout="out('-6392144337868342404');" style=""> 342                 notificationSpec.flags = intent.getIntExtra(EXTRA_NOTIFICATION_FLAGS, 0);                </span>
<span  style=""> 343                                                                                                          </span>
<span class="1699695344783775350" onmouseenter="enter('1699695344783775350');" onmouseout="out('1699695344783775350');" style=""><abbr title=" 344                 if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null) {"> 344                 if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber🔵</abbr></span>
<span class="9213865588273159403" onmouseenter="enter('9213865588273159403');" onmouseout="out('9213865588273159403');" style=""> 345                     notificationSpec.id = mRandom.nextInt(); // FIXME: add this in external SMS Receiver?</span>
<span class="357480976485572162" onmouseenter="enter('357480976485572162');" onmouseout="out('357480976485572162');" style=""><abbr title=" 346                     GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumber);"> 346                     GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumb🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347                 }                                                                                        </span>
<span  style=""> 348                                                                                                          </span>
<span class="36818056765170551" onmouseenter="enter('36818056765170551');" onmouseout="out('36818056765170551');" style=""> 349                 if (((notificationSpec.flags &amp; NotificationSpec.FLAG_WEARABLE_REPLY) &gt; 0)                </span>
<span class="-9037751700681198618" onmouseenter="enter('-9037751700681198618');" onmouseout="out('-9037751700681198618');" style=""><abbr title=" 350                         || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null)) {"> 350                         || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.pho🔵</abbr></span>
<span class="8596546566066758446" onmouseenter="enter('8596546566066758446');" onmouseout="out('8596546566066758446');" style=""> 351                     // NOTE: maybe not where it belongs                                                  </span>
<span class="-8155090018337980148" onmouseenter="enter('-8155090018337980148');" onmouseout="out('-8155090018337980148');" style=""> 352                     if (prefs.getBoolean(&quot;pebble_force_untested&quot;, false)) {                              </span>
<span class="-4898671785167586333" onmouseenter="enter('-4898671785167586333');" onmouseout="out('-4898671785167586333');" style=""> 353                         // I would rather like to save that as an array in ShadredPreferences            </span>
<span class="-1004001968510841144" onmouseenter="enter('-1004001968510841144');" onmouseout="out('-1004001968510841144');" style=""><abbr title=" 354                         // this would work but I dont know how to do the same in the Settings Activity&#x27;s xml"> 354                         // this would work but I dont know how to do the same in the Settings Activity&#x27;s 🔵</abbr></span>
<span class="918410975004553070" onmouseenter="enter('918410975004553070');" onmouseout="out('918410975004553070');" style=""> 355                         ArrayList&lt;String&gt; replies = new ArrayList&lt;&gt;();                                   </span>
<span class="-6180174879918590622" onmouseenter="enter('-6180174879918590622');" onmouseout="out('-6180174879918590622');" style=""> 356                         for (int i = 1; i &lt;= 16; i++) {                                                  </span>
<span class="7210319232684079981" onmouseenter="enter('7210319232684079981');" onmouseout="out('7210319232684079981');" style=""> 357                             String reply = prefs.getString(&quot;canned_reply_&quot; + i, null);                   </span>
<span class="2204296925215727723" onmouseenter="enter('2204296925215727723');" onmouseout="out('2204296925215727723');" style=""> 358                             if (reply != null &amp;&amp; !reply.equals(&quot;&quot;)) {                                    </span>
<span class="2547584645107762867" onmouseenter="enter('2547584645107762867');" onmouseout="out('2547584645107762867');" style=""> 359                                 replies.add(reply);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361                         }                                                                                </span>
<span class="8609386218730694936" onmouseenter="enter('8609386218730694936');" onmouseout="out('8609386218730694936');" style=""> 362                         notificationSpec.cannedReplies = replies.toArray(new String[replies.size()]);    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364                 }                                                                                        </span>
<span  style=""> 365                                                                                                          </span>
<span class="7448145684850127146" onmouseenter="enter('7448145684850127146');" onmouseout="out('7448145684850127146');" style=""> 366                 mDeviceSupport.onNotification(notificationSpec);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 367                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368             }                                                                                            </span>
<span class="-7276567859695438377" onmouseenter="enter('-7276567859695438377');" onmouseout="out('-7276567859695438377');" style=""> 369             case ACTION_DELETE_NOTIFICATION: {                                                           </span>
<span class="3349508781851483145" onmouseenter="enter('3349508781851483145');" onmouseout="out('3349508781851483145');" style=""> 370                 mDeviceSupport.onDeleteNotification(intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1));      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 371                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372             }                                                                                            </span>
<span class="1760685944887838202" onmouseenter="enter('1760685944887838202');" onmouseout="out('1760685944887838202');" style=""> 373             case ACTION_ADD_CALENDAREVENT: {                                                             </span>
<span class="6383078814938909727" onmouseenter="enter('6383078814938909727');" onmouseout="out('6383078814938909727');" style=""> 374                 CalendarEventSpec calendarEventSpec = new CalendarEventSpec();                           </span>
<span class="-4519615915191010270" onmouseenter="enter('-4519615915191010270');" onmouseout="out('-4519615915191010270');" style=""> 375                 calendarEventSpec.id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                  </span>
<span class="-2345264210845712924" onmouseenter="enter('-2345264210845712924');" onmouseout="out('-2345264210845712924');" style=""> 376                 calendarEventSpec.type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);       </span>
<span class="-9183502731005168979" onmouseenter="enter('-9183502731005168979');" onmouseout="out('-9183502731005168979');" style=""> 377                 calendarEventSpec.timestamp = intent.getIntExtra(EXTRA_CALENDAREVENT_TIMESTAMP, -1);     </span>
<span class="6827154764120234041" onmouseenter="enter('6827154764120234041');" onmouseout="out('6827154764120234041');" style=""><abbr title=" 378                 calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1);"> 378                 calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1🔵</abbr></span>
<span class="-5920957138116470593" onmouseenter="enter('-5920957138116470593');" onmouseout="out('-5920957138116470593');" style=""> 379                 calendarEventSpec.title = intent.getStringExtra(EXTRA_CALENDAREVENT_TITLE);              </span>
<span class="7493274608343847488" onmouseenter="enter('7493274608343847488');" onmouseout="out('7493274608343847488');" style=""> 380                 calendarEventSpec.description = intent.getStringExtra(EXTRA_CALENDAREVENT_DESCRIPTION);  </span>
<span class="-8286380370980489077" onmouseenter="enter('-8286380370980489077');" onmouseout="out('-8286380370980489077');" style=""> 381                 mDeviceSupport.onAddCalendarEvent(calendarEventSpec);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 382                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383             }                                                                                            </span>
<span class="-2849294229393544321" onmouseenter="enter('-2849294229393544321');" onmouseout="out('-2849294229393544321');" style=""> 384             case ACTION_DELETE_CALENDAREVENT: {                                                          </span>
<span class="-9034439215446076929" onmouseenter="enter('-9034439215446076929');" onmouseout="out('-9034439215446076929');" style=""> 385                 long id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                               </span>
<span class="-8351437473191742259" onmouseenter="enter('-8351437473191742259');" onmouseout="out('-8351437473191742259');" style=""> 386                 byte type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);                    </span>
<span class="5947039676491996864" onmouseenter="enter('5947039676491996864');" onmouseout="out('5947039676491996864');" style=""> 387                 mDeviceSupport.onDeleteCalendarEvent(type, id);                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 388                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389             }                                                                                            </span>
<span class="9105285711746642441" onmouseenter="enter('9105285711746642441');" onmouseout="out('9105285711746642441');" style=""> 390             case ACTION_REBOOT: {                                                                        </span>
<span class="-2489942875075524997" onmouseenter="enter('-2489942875075524997');" onmouseout="out('-2489942875075524997');" style=""> 391                 mDeviceSupport.onReboot();                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 392                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393             }                                                                                            </span>
<span class="3049987025029541358" onmouseenter="enter('3049987025029541358');" onmouseout="out('3049987025029541358');" style=""> 394             case ACTION_HEARTRATE_TEST: {                                                                </span>
<span class="3468770722488184362" onmouseenter="enter('3468770722488184362');" onmouseout="out('3468770722488184362');" style=""> 395                 mDeviceSupport.onHeartRateTest();                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 396                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397             }                                                                                            </span>
<span class="-7880612672736084614" onmouseenter="enter('-7880612672736084614');" onmouseout="out('-7880612672736084614');" style=""> 398             case ACTION_FETCH_ACTIVITY_DATA: {                                                           </span>
<span class="-7202401441632084828" onmouseenter="enter('-7202401441632084828');" onmouseout="out('-7202401441632084828');" style=""> 399                 mDeviceSupport.onFetchActivityData();                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 400                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401             }                                                                                            </span>
<span class="-7917063918700759521" onmouseenter="enter('-7917063918700759521');" onmouseout="out('-7917063918700759521');" style=""> 402             case ACTION_DISCONNECT: {                                                                    </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 403                 mDeviceSupport.dispose();                                                                </span>
<span class="-2587763374871347228" onmouseenter="enter('-2587763374871347228');" onmouseout="out('-2587763374871347228');" style=""> 404                 if (mGBDevice != null &amp;&amp; mGBDevice.getState() == GBDevice.State.WAITING_FOR_RECONNECT) { </span>
<span class="3259686421128901509" onmouseenter="enter('3259686421128901509');" onmouseout="out('3259686421128901509');" style=""> 405                     setReceiversEnableState(false, false);                                               </span>
<span class="-5956740551059426027" onmouseenter="enter('-5956740551059426027');" onmouseout="out('-5956740551059426027');" style=""> 406                     mGBDevice.setState(GBDevice.State.NOT_CONNECTED);                                    </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 407                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408                 }                                                                                        </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 409                 mDeviceSupport = null;                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 410                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411             }                                                                                            </span>
<span class="-6251790900569841166" onmouseenter="enter('-6251790900569841166');" onmouseout="out('-6251790900569841166');" style=""> 412             case ACTION_FIND_DEVICE: {                                                                   </span>
<span class="-5849712664725919544" onmouseenter="enter('-5849712664725919544');" onmouseout="out('-5849712664725919544');" style=""> 413                 boolean start = intent.getBooleanExtra(EXTRA_FIND_START, false);                         </span>
<span class="4985279237906318984" onmouseenter="enter('4985279237906318984');" onmouseout="out('4985279237906318984');" style=""> 414                 mDeviceSupport.onFindDevice(start);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 415                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416             }                                                                                            </span>
<span class="208875508921563359" onmouseenter="enter('208875508921563359');" onmouseout="out('208875508921563359');" style=""> 417             case ACTION_SET_CONSTANT_VIBRATION: {                                                        </span>
<span class="5660371215983762654" onmouseenter="enter('5660371215983762654');" onmouseout="out('5660371215983762654');" style=""> 418                 int intensity = intent.getIntExtra(EXTRA_VIBRATION_INTENSITY, 0);                        </span>
<span class="-771567554143857067" onmouseenter="enter('-771567554143857067');" onmouseout="out('-771567554143857067');" style=""> 419                 mDeviceSupport.onSetConstantVibration(intensity);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 420                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421             }                                                                                            </span>
<span class="-3190843120553329632" onmouseenter="enter('-3190843120553329632');" onmouseout="out('-3190843120553329632');" style=""> 422             case ACTION_CALLSTATE:                                                                       </span>
<span class="3795479724098101655" onmouseenter="enter('3795479724098101655');" onmouseout="out('3795479724098101655');" style=""> 423                 CallSpec callSpec = new CallSpec();                                                      </span>
<span class="8093432130661732567" onmouseenter="enter('8093432130661732567');" onmouseout="out('8093432130661732567');" style=""> 424                 callSpec.command = intent.getIntExtra(EXTRA_CALL_COMMAND, CallSpec.CALL_UNDEFINED);      </span>
<span class="3428246913955323928" onmouseenter="enter('3428246913955323928');" onmouseout="out('3428246913955323928');" style=""> 425                 callSpec.number = intent.getStringExtra(EXTRA_CALL_PHONENUMBER);                         </span>
<span class="6859375461089721800" onmouseenter="enter('6859375461089721800');" onmouseout="out('6859375461089721800');" style=""> 426                 callSpec.name = intent.getStringExtra(EXTRA_CALL_DISPLAYNAME);                           </span>
<span class="5317988739476287691" onmouseenter="enter('5317988739476287691');" onmouseout="out('5317988739476287691');" style=""> 427                 mDeviceSupport.onSetCallState(callSpec);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 428                 break;                                                                                   </span>
<span class="5443690489758293879" onmouseenter="enter('5443690489758293879');" onmouseout="out('5443690489758293879');" style=""> 429             case ACTION_SETCANNEDMESSAGES:                                                               </span>
<span class="8874546108453183107" onmouseenter="enter('8874546108453183107');" onmouseout="out('8874546108453183107');" style=""> 430                 int type = intent.getIntExtra(EXTRA_CANNEDMESSAGES_TYPE, -1);                            </span>
<span class="-5661264507044040071" onmouseenter="enter('-5661264507044040071');" onmouseout="out('-5661264507044040071');" style=""> 431                 String[] cannedMessages = intent.getStringArrayExtra(EXTRA_CANNEDMESSAGES);              </span>
<span  style=""> 432                                                                                                          </span>
<span class="-8222861505291584468" onmouseenter="enter('-8222861505291584468');" onmouseout="out('-8222861505291584468');" style=""> 433                 CannedMessagesSpec cannedMessagesSpec = new CannedMessagesSpec();                        </span>
<span class="7310566106726436146" onmouseenter="enter('7310566106726436146');" onmouseout="out('7310566106726436146');" style=""> 434                 cannedMessagesSpec.type = type;                                                          </span>
<span class="5869684482704551906" onmouseenter="enter('5869684482704551906');" onmouseout="out('5869684482704551906');" style=""> 435                 cannedMessagesSpec.cannedMessages = cannedMessages;                                      </span>
<span class="-8600105550735814062" onmouseenter="enter('-8600105550735814062');" onmouseout="out('-8600105550735814062');" style=""> 436                 mDeviceSupport.onSetCannedMessages(cannedMessagesSpec);                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 437                 break;                                                                                   </span>
<span class="-3864526120734058732" onmouseenter="enter('-3864526120734058732');" onmouseout="out('-3864526120734058732');" style=""> 438             case ACTION_SETTIME:                                                                         </span>
<span class="-9119989964627970186" onmouseenter="enter('-9119989964627970186');" onmouseout="out('-9119989964627970186');" style=""> 439                 mDeviceSupport.onSetTime();                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 440                 break;                                                                                   </span>
<span class="2757090863993875249" onmouseenter="enter('2757090863993875249');" onmouseout="out('2757090863993875249');" style=""> 441             case ACTION_SETMUSICINFO:                                                                    </span>
<span class="-4606570715029334060" onmouseenter="enter('-4606570715029334060');" onmouseout="out('-4606570715029334060');" style=""> 442                 MusicSpec musicSpec = new MusicSpec();                                                   </span>
<span class="8291741641430545280" onmouseenter="enter('8291741641430545280');" onmouseout="out('8291741641430545280');" style=""> 443                 musicSpec.artist = intent.getStringExtra(EXTRA_MUSIC_ARTIST);                            </span>
<span class="-4864341328172403198" onmouseenter="enter('-4864341328172403198');" onmouseout="out('-4864341328172403198');" style=""> 444                 musicSpec.album = intent.getStringExtra(EXTRA_MUSIC_ALBUM);                              </span>
<span class="-6416639298697884565" onmouseenter="enter('-6416639298697884565');" onmouseout="out('-6416639298697884565');" style=""> 445                 musicSpec.track = intent.getStringExtra(EXTRA_MUSIC_TRACK);                              </span>
<span class="9057431340460323538" onmouseenter="enter('9057431340460323538');" onmouseout="out('9057431340460323538');" style=""> 446                 musicSpec.duration = intent.getIntExtra(EXTRA_MUSIC_DURATION, 0);                        </span>
<span class="-1013666482472897661" onmouseenter="enter('-1013666482472897661');" onmouseout="out('-1013666482472897661');" style=""> 447                 musicSpec.trackCount = intent.getIntExtra(EXTRA_MUSIC_TRACKCOUNT, 0);                    </span>
<span class="4288030402620969458" onmouseenter="enter('4288030402620969458');" onmouseout="out('4288030402620969458');" style=""> 448                 musicSpec.trackNr = intent.getIntExtra(EXTRA_MUSIC_TRACKNR, 0);                          </span>
<span class="-3425911873947758918" onmouseenter="enter('-3425911873947758918');" onmouseout="out('-3425911873947758918');" style=""> 449                 mDeviceSupport.onSetMusicInfo(musicSpec);                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 450                 break;                                                                                   </span>
<span class="6227456550171188321" onmouseenter="enter('6227456550171188321');" onmouseout="out('6227456550171188321');" style=""> 451             case ACTION_SETMUSICSTATE:                                                                   </span>
<span class="6191411421956413825" onmouseenter="enter('6191411421956413825');" onmouseout="out('6191411421956413825');" style=""> 452                 MusicStateSpec stateSpec = new MusicStateSpec();                                         </span>
<span class="-3548046406971923378" onmouseenter="enter('-3548046406971923378');" onmouseout="out('-3548046406971923378');" style=""> 453                 stateSpec.shuffle = intent.getByteExtra(EXTRA_MUSIC_SHUFFLE, (byte) 0);                  </span>
<span class="1495564971696348267" onmouseenter="enter('1495564971696348267');" onmouseout="out('1495564971696348267');" style=""> 454                 stateSpec.repeat = intent.getByteExtra(EXTRA_MUSIC_REPEAT, (byte) 0);                    </span>
<span class="-7121631563152240946" onmouseenter="enter('-7121631563152240946');" onmouseout="out('-7121631563152240946');" style=""> 455                 stateSpec.position = intent.getIntExtra(EXTRA_MUSIC_POSITION, 0);                        </span>
<span class="5871328423745521968" onmouseenter="enter('5871328423745521968');" onmouseout="out('5871328423745521968');" style=""> 456                 stateSpec.playRate = intent.getIntExtra(EXTRA_MUSIC_RATE, 0);                            </span>
<span class="892053738216152834" onmouseenter="enter('892053738216152834');" onmouseout="out('892053738216152834');" style=""> 457                 stateSpec.state = intent.getByteExtra(EXTRA_MUSIC_STATE, (byte) 0);                      </span>
<span class="4060952888262640879" onmouseenter="enter('4060952888262640879');" onmouseout="out('4060952888262640879');" style=""> 458                 mDeviceSupport.onSetMusicState(stateSpec);                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 459                 break;                                                                                   </span>
<span class="-3068551254659955031" onmouseenter="enter('-3068551254659955031');" onmouseout="out('-3068551254659955031');" style=""> 460             case ACTION_REQUEST_APPINFO:                                                                 </span>
<span class="-5176444858929114297" onmouseenter="enter('-5176444858929114297');" onmouseout="out('-5176444858929114297');" style=""> 461                 mDeviceSupport.onAppInfoReq();                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 462                 break;                                                                                   </span>
<span class="-6917586413512936950" onmouseenter="enter('-6917586413512936950');" onmouseout="out('-6917586413512936950');" style=""> 463             case ACTION_REQUEST_SCREENSHOT:                                                              </span>
<span class="-5841518626542394716" onmouseenter="enter('-5841518626542394716');" onmouseout="out('-5841518626542394716');" style=""> 464                 mDeviceSupport.onScreenshotReq();                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 465                 break;                                                                                   </span>
<span class="-2494840420747050392" onmouseenter="enter('-2494840420747050392');" onmouseout="out('-2494840420747050392');" style=""> 466             case ACTION_STARTAPP: {                                                                      </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 467                 UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                          </span>
<span class="-4793752934936499642" onmouseenter="enter('-4793752934936499642');" onmouseout="out('-4793752934936499642');" style=""> 468                 boolean start = intent.getBooleanExtra(EXTRA_APP_START, true);                           </span>
<span class="2197724895752145818" onmouseenter="enter('2197724895752145818');" onmouseout="out('2197724895752145818');" style=""> 469                 mDeviceSupport.onAppStart(uuid, start);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 470                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471             }                                                                                            </span>
<span class="2166934150734837396" onmouseenter="enter('2166934150734837396');" onmouseout="out('2166934150734837396');" style=""> 472             case ACTION_DELETEAPP: {                                                                     </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 473                 UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                          </span>
<span class="-5075261056503503060" onmouseenter="enter('-5075261056503503060');" onmouseout="out('-5075261056503503060');" style=""> 474                 mDeviceSupport.onAppDelete(uuid);                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 475                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476             }                                                                                            </span>
<span class="1869663144095085846" onmouseenter="enter('1869663144095085846');" onmouseout="out('1869663144095085846');" style=""> 477             case ACTION_APP_CONFIGURE: {                                                                 </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 478                 UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                          </span>
<span class="6629096593005137404" onmouseenter="enter('6629096593005137404');" onmouseout="out('6629096593005137404');" style=""> 479                 String config = intent.getStringExtra(EXTRA_APP_CONFIG);                                 </span>
<span class="5940750753812597164" onmouseenter="enter('5940750753812597164');" onmouseout="out('5940750753812597164');" style=""> 480                 mDeviceSupport.onAppConfiguration(uuid, config);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 481                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482             }                                                                                            </span>
<span class="-8571912313743444470" onmouseenter="enter('-8571912313743444470');" onmouseout="out('-8571912313743444470');" style=""> 483             case ACTION_APP_REORDER: {                                                                   </span>
<span class="7398892328027689606" onmouseenter="enter('7398892328027689606');" onmouseout="out('7398892328027689606');" style=""> 484                 UUID[] uuids = (UUID[]) intent.getSerializableExtra(EXTRA_APP_UUID);                     </span>
<span class="75775485121754100" onmouseenter="enter('75775485121754100');" onmouseout="out('75775485121754100');" style=""> 485                 mDeviceSupport.onAppReorder(uuids);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 486                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 487             }                                                                                            </span>
<span class="4718100971274262923" onmouseenter="enter('4718100971274262923');" onmouseout="out('4718100971274262923');" style=""> 488             case ACTION_INSTALL:                                                                         </span>
<span class="-597901030201298456" onmouseenter="enter('-597901030201298456');" onmouseout="out('-597901030201298456');" style=""> 489                 Uri uri = intent.getParcelableExtra(EXTRA_URI);                                          </span>
<span class="-6789028041247471756" onmouseenter="enter('-6789028041247471756');" onmouseout="out('-6789028041247471756');" style=""> 490                 if (uri != null) {                                                                       </span>
<span class="-1329231793440882084" onmouseenter="enter('-1329231793440882084');" onmouseout="out('-1329231793440882084');" style=""> 491                     LOG.info(&quot;will try to install app/fw&quot;);                                              </span>
<span class="-6419480600197101122" onmouseenter="enter('-6419480600197101122');" onmouseout="out('-6419480600197101122');" style=""> 492                     mDeviceSupport.onInstallApp(uri);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 494                 break;                                                                                   </span>
<span class="-2301470348007137474" onmouseenter="enter('-2301470348007137474');" onmouseout="out('-2301470348007137474');" style=""> 495             case ACTION_SET_ALARMS:                                                                      </span>
<span class="-6223145105408550614" onmouseenter="enter('-6223145105408550614');" onmouseout="out('-6223145105408550614');" style=""> 496                 ArrayList&lt;Alarm&gt; alarms = intent.getParcelableArrayListExtra(EXTRA_ALARMS);              </span>
<span class="4545530897725553048" onmouseenter="enter('4545530897725553048');" onmouseout="out('4545530897725553048');" style=""> 497                 mDeviceSupport.onSetAlarms(alarms);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 498                 break;                                                                                   </span>
<span class="-8160274285897355527" onmouseenter="enter('-8160274285897355527');" onmouseout="out('-8160274285897355527');" style=""> 499             case ACTION_ENABLE_REALTIME_STEPS: {                                                         </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 500                 boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                    </span>
<span class="6892686300243280236" onmouseenter="enter('6892686300243280236');" onmouseout="out('6892686300243280236');" style=""> 501                 mDeviceSupport.onEnableRealtimeSteps(enable);                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 502                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503             }                                                                                            </span>
<span class="-1417941812298608730" onmouseenter="enter('-1417941812298608730');" onmouseout="out('-1417941812298608730');" style=""> 504             case ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT: {                                                </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 505                 boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                    </span>
<span class="-1094130383852091406" onmouseenter="enter('-1094130383852091406');" onmouseout="out('-1094130383852091406');" style=""> 506                 mDeviceSupport.onEnableHeartRateSleepSupport(enable);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 507                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508             }                                                                                            </span>
<span class="2612023236818345021" onmouseenter="enter('2612023236818345021');" onmouseout="out('2612023236818345021');" style=""> 509             case ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT: {                                         </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 510                 boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                    </span>
<span class="-1932636993187682108" onmouseenter="enter('-1932636993187682108');" onmouseout="out('-1932636993187682108');" style=""> 511                 mDeviceSupport.onEnableRealtimeHeartRateMeasurement(enable);                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 512                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513             }                                                                                            </span>
<span class="-3723742220763435323" onmouseenter="enter('-3723742220763435323');" onmouseout="out('-3723742220763435323');" style=""> 514             case ACTION_SEND_CONFIGURATION: {                                                            </span>
<span class="-1876564357946593499" onmouseenter="enter('-1876564357946593499');" onmouseout="out('-1876564357946593499');" style=""> 515                 String config = intent.getStringExtra(EXTRA_CONFIG);                                     </span>
<span class="7508326450574330866" onmouseenter="enter('7508326450574330866');" onmouseout="out('7508326450574330866');" style=""> 516                 mDeviceSupport.onSendConfiguration(config);                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 517                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518             }                                                                                            </span>
<span class="6032767073616680026" onmouseenter="enter('6032767073616680026');" onmouseout="out('6032767073616680026');" style=""> 519             case ACTION_TEST_NEW_FUNCTION: {                                                             </span>
<span class="-1399702412817247830" onmouseenter="enter('-1399702412817247830');" onmouseout="out('-1399702412817247830');" style=""> 520                 mDeviceSupport.onTestNewFunction();                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 521                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522             }                                                                                            </span>
<span class="4042257170241917013" onmouseenter="enter('4042257170241917013');" onmouseout="out('4042257170241917013');" style=""> 523             case ACTION_SEND_WEATHER: {                                                                  </span>
<span class="-7783159601671948934" onmouseenter="enter('-7783159601671948934');" onmouseout="out('-7783159601671948934');" style=""> 524                 WeatherSpec weatherSpec = new WeatherSpec();                                             </span>
<span class="9156523207902282301" onmouseenter="enter('9156523207902282301');" onmouseout="out('9156523207902282301');" style=""> 525                 weatherSpec.timestamp = intent.getIntExtra(EXTRA_WEATHER_TIMESTAMP, 0);                  </span>
<span class="1927396717706702303" onmouseenter="enter('1927396717706702303');" onmouseout="out('1927396717706702303');" style=""> 526                 weatherSpec.location = intent.getStringExtra(EXTRA_WEATHER_LOCATION);                    </span>
<span class="-6257828557925685883" onmouseenter="enter('-6257828557925685883');" onmouseout="out('-6257828557925685883');" style=""> 527                 weatherSpec.currentTemp = intent.getIntExtra(EXTRA_WEATHER_CURRENTTEMP, 0);              </span>
<span class="-8942134869809621954" onmouseenter="enter('-8942134869809621954');" onmouseout="out('-8942134869809621954');" style=""><abbr title=" 528                 weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE, 0);"> 528                 weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE,🔵</abbr></span>
<span class="-7768587738342623330" onmouseenter="enter('-7768587738342623330');" onmouseout="out('-7768587738342623330');" style=""> 529                 weatherSpec.currentCondition = intent.getStringExtra(EXTRA_WEATHER_CURRENTCONDITION);    </span>
<span class="-4167858899002844683" onmouseenter="enter('-4167858899002844683');" onmouseout="out('-4167858899002844683');" style=""> 530                 weatherSpec.todayMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMAXTEMP, 0);            </span>
<span class="-7282217397460764709" onmouseenter="enter('-7282217397460764709');" onmouseout="out('-7282217397460764709');" style=""> 531                 weatherSpec.todayMinTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMINTEMP, 0);            </span>
<span class="7956003095875127587" onmouseenter="enter('7956003095875127587');" onmouseout="out('7956003095875127587');" style=""> 532                 weatherSpec.tomorrowMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMAXTEMP, 0);      </span>
<span class="-8851638748949702207" onmouseenter="enter('-8851638748949702207');" onmouseout="out('-8851638748949702207');" style=""> 533                 weatherSpec.tomorrowMinTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMINTEMP, 0);      </span>
<span class="2201545607462035674" onmouseenter="enter('2201545607462035674');" onmouseout="out('2201545607462035674');" style=""><abbr title=" 534                 weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCODE, 0);"> 534                 weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCOD🔵</abbr></span>
<span class="-1267592612850228198" onmouseenter="enter('-1267592612850228198');" onmouseout="out('-1267592612850228198');" style=""> 535                 mDeviceSupport.onSendWeather(weatherSpec);                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 536                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 537             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 538         }                                                                                                </span>
<span  style=""> 539                                                                                                          </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 540         return START_STICKY;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 541     }                                                                                                    </span>
<span  style=""> 542                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 543     /**                                                                                                  </span>
<span class="4580399485680216365" onmouseenter="enter('4580399485680216365');" onmouseout="out('4580399485680216365');" style=""> 544      * Disposes the current DeviceSupport instance (if any) and sets a new device support instance       </span>
<span class="2634630049779853740" onmouseenter="enter('2634630049779853740');" onmouseout="out('2634630049779853740');" style=""> 545      * (if not null).                                                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 546      *                                                                                                   </span>
<span class="4293773011710976518" onmouseenter="enter('4293773011710976518');" onmouseout="out('4293773011710976518');" style=""> 547      * @param deviceSupport                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 548      */                                                                                                  </span>
<span class="-6264528256345703641" onmouseenter="enter('-6264528256345703641');" onmouseout="out('-6264528256345703641');" style=""> 549     private void setDeviceSupport(@Nullable DeviceSupport deviceSupport) {                               </span>
<span class="9012932578751895101" onmouseenter="enter('9012932578751895101');" onmouseout="out('9012932578751895101');" style=""> 550         if (deviceSupport != mDeviceSupport &amp;&amp; mDeviceSupport != null) {                                 </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 551             mDeviceSupport.dispose();                                                                    </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 552             mDeviceSupport = null;                                                                       </span>
<span class="4811934149983720641" onmouseenter="enter('4811934149983720641');" onmouseout="out('4811934149983720641');" style=""> 553             mGBDevice = null;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 554         }                                                                                                </span>
<span class="-8640715233311534019" onmouseenter="enter('-8640715233311534019');" onmouseout="out('-8640715233311534019');" style=""> 555         mDeviceSupport = deviceSupport;                                                                  </span>
<span class="5234576758850016889" onmouseenter="enter('5234576758850016889');" onmouseout="out('5234576758850016889');" style=""> 556         mGBDevice = mDeviceSupport != null ? mDeviceSupport.getDevice() : null;                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 557     }                                                                                                    </span>
<span  style=""> 558                                                                                                          </span>
<span class="-1685018700062064081" onmouseenter="enter('-1685018700062064081');" onmouseout="out('-1685018700062064081');" style=""> 559     private void start() {                                                                               </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 560         if (!mStarted) {                                                                                 </span>
<span class="-1522198858483761838" onmouseenter="enter('-1522198858483761838');" onmouseout="out('-1522198858483761838');" style=""><abbr title=" 561             startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), false, this));"> 561             startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_run🔵</abbr></span>
<span class="975344646757702815" onmouseenter="enter('975344646757702815');" onmouseout="out('975344646757702815');" style=""> 562             mStarted = true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 564     }                                                                                                    </span>
<span  style=""> 565                                                                                                          </span>
<span class="5813756913533707772" onmouseenter="enter('5813756913533707772');" onmouseout="out('5813756913533707772');" style=""> 566     public boolean isStarted() {                                                                         </span>
<span class="-2429569693799116336" onmouseenter="enter('-2429569693799116336');" onmouseout="out('-2429569693799116336');" style=""> 567         return mStarted;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568     }                                                                                                    </span>
<span  style=""> 569                                                                                                          </span>
<span class="8882351257935254581" onmouseenter="enter('8882351257935254581');" onmouseout="out('8882351257935254581');" style=""> 570     private boolean isConnected() {                                                                      </span>
<span class="5200435358363356633" onmouseenter="enter('5200435358363356633');" onmouseout="out('5200435358363356633');" style=""> 571         return mGBDevice != null &amp;&amp; mGBDevice.isConnected();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572     }                                                                                                    </span>
<span  style=""> 573                                                                                                          </span>
<span class="-624932271712780363" onmouseenter="enter('-624932271712780363');" onmouseout="out('-624932271712780363');" style=""> 574     private boolean isConnecting() {                                                                     </span>
<span class="-6563283548989962053" onmouseenter="enter('-6563283548989962053');" onmouseout="out('-6563283548989962053');" style=""> 575         return mGBDevice != null &amp;&amp; mGBDevice.isConnecting();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 576     }                                                                                                    </span>
<span  style=""> 577                                                                                                          </span>
<span class="-6106408407643787535" onmouseenter="enter('-6106408407643787535');" onmouseout="out('-6106408407643787535');" style=""> 578     private boolean isInitialized() {                                                                    </span>
<span class="4561275409582675350" onmouseenter="enter('4561275409582675350');" onmouseout="out('4561275409582675350');" style=""> 579         return mGBDevice != null &amp;&amp; mGBDevice.isInitialized();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 580     }                                                                                                    </span>
<span  style=""> 581                                                                                                          </span>
<span  style=""> 582                                                                                                          </span>
<span class="5402194572277524036" onmouseenter="enter('5402194572277524036');" onmouseout="out('5402194572277524036');" style=""> 583     private void setReceiversEnableState(boolean enable, boolean initialized) {                          </span>
<span class="6951530417476040470" onmouseenter="enter('6951530417476040470');" onmouseout="out('6951530417476040470');" style=""> 584         LOG.info(&quot;Setting broadcast receivers to: &quot; + enable);                                           </span>
<span  style=""> 585                                                                                                          </span>
<span class="-4932409833157877939" onmouseenter="enter('-4932409833157877939');" onmouseout="out('-4932409833157877939');" style=""> 586         if (enable &amp;&amp; initialized) {                                                                     </span>
<span class="6591780958658457767" onmouseenter="enter('6591780958658457767');" onmouseout="out('6591780958658457767');" style=""> 587             if (mCalendarReceiver == null) {                                                             </span>
<span class="1589022880921377802" onmouseenter="enter('1589022880921377802');" onmouseout="out('1589022880921377802');" style=""> 588                 IntentFilter calendarIntentFilter = new IntentFilter();                                  </span>
<span class="6130420683935393644" onmouseenter="enter('6130420683935393644');" onmouseout="out('6130420683935393644');" style=""> 589                 calendarIntentFilter.addAction(&quot;android.intent.action.PROVIDER_CHANGED&quot;);                </span>
<span class="4429816028500100541" onmouseenter="enter('4429816028500100541');" onmouseout="out('4429816028500100541');" style=""> 590                 calendarIntentFilter.addDataScheme(&quot;content&quot;);                                           </span>
<span class="2709340036463355330" onmouseenter="enter('2709340036463355330');" onmouseout="out('2709340036463355330');" style=""> 591                 calendarIntentFilter.addDataAuthority(&quot;com.android.calendar&quot;, null);                     </span>
<span class="7828433718710892920" onmouseenter="enter('7828433718710892920');" onmouseout="out('7828433718710892920');" style=""> 592                 mCalendarReceiver = new CalendarReceiver(mGBDevice);                                     </span>
<span class="891546991439734570" onmouseenter="enter('891546991439734570');" onmouseout="out('891546991439734570');" style=""> 593                 registerReceiver(mCalendarReceiver, calendarIntentFilter);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594             }                                                                                            </span>
<span class="2156977847537906148" onmouseenter="enter('2156977847537906148');" onmouseout="out('2156977847537906148');" style=""> 595         } else if (mCalendarReceiver != null) {                                                          </span>
<span class="4715856754314043620" onmouseenter="enter('4715856754314043620');" onmouseout="out('4715856754314043620');" style=""> 596             unregisterReceiver(mCalendarReceiver);                                                       </span>
<span class="2474754653382077142" onmouseenter="enter('2474754653382077142');" onmouseout="out('2474754653382077142');" style=""> 597             mCalendarReceiver = null;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 598         }                                                                                                </span>
<span  style=""> 599                                                                                                          </span>
<span class="-2074635852143506608" onmouseenter="enter('-2074635852143506608');" onmouseout="out('-2074635852143506608');" style=""> 600         if (enable) {                                                                                    </span>
<span class="-2667731398817597854" onmouseenter="enter('-2667731398817597854');" onmouseout="out('-2667731398817597854');" style=""> 601             if (mPhoneCallReceiver == null) {                                                            </span>
<span class="-1027287194590244417" onmouseenter="enter('-1027287194590244417');" onmouseout="out('-1027287194590244417');" style=""> 602                 mPhoneCallReceiver = new PhoneCallReceiver();                                            </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 603                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="-3679054454631357968" onmouseenter="enter('-3679054454631357968');" onmouseout="out('-3679054454631357968');" style=""> 604                 filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);                                   </span>
<span class="-5028677676977116040" onmouseenter="enter('-5028677676977116040');" onmouseout="out('-5028677676977116040');" style=""> 605                 filter.addAction(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;);                             </span>
<span class="-1617740261602734990" onmouseenter="enter('-1617740261602734990');" onmouseout="out('-1617740261602734990');" style=""> 606                 registerReceiver(mPhoneCallReceiver, filter);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 607             }                                                                                            </span>
<span class="-8170618993241153146" onmouseenter="enter('-8170618993241153146');" onmouseout="out('-8170618993241153146');" style=""> 608             if (mSMSReceiver == null) {                                                                  </span>
<span class="-211089161118191394" onmouseenter="enter('-211089161118191394');" onmouseout="out('-211089161118191394');" style=""> 609                 mSMSReceiver = new SMSReceiver();                                                        </span>
<span class="1212733765646185362" onmouseenter="enter('1212733765646185362');" onmouseout="out('1212733765646185362');" style=""><abbr title=" 610                 registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;));"> 610                 registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 611             }                                                                                            </span>
<span class="668102061168943903" onmouseenter="enter('668102061168943903');" onmouseout="out('668102061168943903');" style=""> 612             if (mPebbleReceiver == null) {                                                               </span>
<span class="4408213248365045403" onmouseenter="enter('4408213248365045403');" onmouseout="out('4408213248365045403');" style=""> 613                 mPebbleReceiver = new PebbleReceiver();                                                  </span>
<span class="-5803030088576376799" onmouseenter="enter('-5803030088576376799');" onmouseout="out('-5803030088576376799');" style=""><abbr title=" 614                 registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATION&quot;));"> 614                 registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATIO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 615             }                                                                                            </span>
<span class="2223215277832879461" onmouseenter="enter('2223215277832879461');" onmouseout="out('2223215277832879461');" style=""> 616             if (mMusicPlaybackReceiver == null) {                                                        </span>
<span class="5503055766703910020" onmouseenter="enter('5503055766703910020');" onmouseout="out('5503055766703910020');" style=""> 617                 mMusicPlaybackReceiver = new MusicPlaybackReceiver();                                    </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 618                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="4596137206288683088" onmouseenter="enter('4596137206288683088');" onmouseout="out('4596137206288683088');" style=""> 619                 for (String action : mMusicActions){                                                     </span>
<span class="-2086107330814500487" onmouseenter="enter('-2086107330814500487');" onmouseout="out('-2086107330814500487');" style=""> 620                     filter.addAction(action);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 621                 }                                                                                        </span>
<span class="-887466916784662429" onmouseenter="enter('-887466916784662429');" onmouseout="out('-887466916784662429');" style=""> 622                 registerReceiver(mMusicPlaybackReceiver, filter);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 623             }                                                                                            </span>
<span class="6120212045117093999" onmouseenter="enter('6120212045117093999');" onmouseout="out('6120212045117093999');" style=""> 624             if (mTimeChangeReceiver == null) {                                                           </span>
<span class="4506860540419182646" onmouseenter="enter('4506860540419182646');" onmouseout="out('4506860540419182646');" style=""> 625                 mTimeChangeReceiver = new TimeChangeReceiver();                                          </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 626                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="-1824421398114764450" onmouseenter="enter('-1824421398114764450');" onmouseout="out('-1824421398114764450');" style=""> 627                 filter.addAction(&quot;android.intent.action.TIME_SET&quot;);                                      </span>
<span class="5919360464042611212" onmouseenter="enter('5919360464042611212');" onmouseout="out('5919360464042611212');" style=""> 628                 filter.addAction(&quot;android.intent.action.TIMEZONE_CHANGED&quot;);                              </span>
<span class="4651824235385821300" onmouseenter="enter('4651824235385821300');" onmouseout="out('4651824235385821300');" style=""> 629                 registerReceiver(mTimeChangeReceiver, filter);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 630             }                                                                                            </span>
<span class="5746507932728060065" onmouseenter="enter('5746507932728060065');" onmouseout="out('5746507932728060065');" style=""> 631             if (mBlueToothConnectReceiver == null) {                                                     </span>
<span class="1523081927393266022" onmouseenter="enter('1523081927393266022');" onmouseout="out('1523081927393266022');" style=""> 632                 mBlueToothConnectReceiver = new BluetoothConnectReceiver(this);                          </span>
<span class="5906520146498159160" onmouseenter="enter('5906520146498159160');" onmouseout="out('5906520146498159160');" style=""><abbr title=" 633                 registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED));"> 633                 registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_C🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 634             }                                                                                            </span>
<span class="-3609014386106656506" onmouseenter="enter('-3609014386106656506');" onmouseout="out('-3609014386106656506');" style=""> 635             if (mBlueToothPairingRequestReceiver == null) {                                              </span>
<span class="3804805981170580002" onmouseenter="enter('3804805981170580002');" onmouseout="out('3804805981170580002');" style=""> 636                 mBlueToothPairingRequestReceiver = new BluetoothPairingRequestReceiver(this);            </span>
<span class="-2695865817198876896" onmouseenter="enter('-2695865817198876896');" onmouseout="out('-2695865817198876896');" style=""><abbr title=" 637                 registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTION_PAIRING_REQUEST));"> 637                 registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTIO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638             }                                                                                            </span>
<span  style=""> 639                                                                                                          </span>
<span class="6324125865869253599" onmouseenter="enter('6324125865869253599');" onmouseout="out('6324125865869253599');" style=""> 640             if (mAlarmReceiver == null) {                                                                </span>
<span class="-6693619828328913529" onmouseenter="enter('-6693619828328913529');" onmouseout="out('-6693619828328913529');" style=""> 641                 mAlarmReceiver = new AlarmReceiver();                                                    </span>
<span class="6728187609005738292" onmouseenter="enter('6728187609005738292');" onmouseout="out('6728187609005738292');" style=""> 642                 registerReceiver(mAlarmReceiver, new IntentFilter(&quot;DAILY_ALARM&quot;));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 643             }                                                                                            </span>
<span class="1673772763036480141" onmouseenter="enter('1673772763036480141');" onmouseout="out('1673772763036480141');" style=""> 644             if (mAlarmClockReceiver == null) {                                                           </span>
<span class="9002364993456009479" onmouseenter="enter('9002364993456009479');" onmouseout="out('9002364993456009479');" style=""> 645                 mAlarmClockReceiver = new AlarmClockReceiver();                                          </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 646                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="2829475773131805177" onmouseenter="enter('2829475773131805177');" onmouseout="out('2829475773131805177');" style=""> 647                 filter.addAction(AlarmClockReceiver.ALARM_ALERT_ACTION);                                 </span>
<span class="4454268969269107523" onmouseenter="enter('4454268969269107523');" onmouseout="out('4454268969269107523');" style=""> 648                 filter.addAction(AlarmClockReceiver.ALARM_DONE_ACTION);                                  </span>
<span class="6590560170717146411" onmouseenter="enter('6590560170717146411');" onmouseout="out('6590560170717146411');" style=""> 649                 registerReceiver(mAlarmClockReceiver, filter);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 651         } else {                                                                                         </span>
<span class="-6174360286964749747" onmouseenter="enter('-6174360286964749747');" onmouseout="out('-6174360286964749747');" style=""> 652             if (mPhoneCallReceiver != null) {                                                            </span>
<span class="2433672025347488127" onmouseenter="enter('2433672025347488127');" onmouseout="out('2433672025347488127');" style=""> 653                 unregisterReceiver(mPhoneCallReceiver);                                                  </span>
<span class="-7469783469378996049" onmouseenter="enter('-7469783469378996049');" onmouseout="out('-7469783469378996049');" style=""> 654                 mPhoneCallReceiver = null;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655             }                                                                                            </span>
<span class="2357494330012051795" onmouseenter="enter('2357494330012051795');" onmouseout="out('2357494330012051795');" style=""> 656             if (mSMSReceiver != null) {                                                                  </span>
<span class="5610361879385034456" onmouseenter="enter('5610361879385034456');" onmouseout="out('5610361879385034456');" style=""> 657                 unregisterReceiver(mSMSReceiver);                                                        </span>
<span class="-1355497021171643704" onmouseenter="enter('-1355497021171643704');" onmouseout="out('-1355497021171643704');" style=""> 658                 mSMSReceiver = null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 659             }                                                                                            </span>
<span class="-3623759735741985563" onmouseenter="enter('-3623759735741985563');" onmouseout="out('-3623759735741985563');" style=""> 660             if (mPebbleReceiver != null) {                                                               </span>
<span class="927549022767172292" onmouseenter="enter('927549022767172292');" onmouseout="out('927549022767172292');" style=""> 661                 unregisterReceiver(mPebbleReceiver);                                                     </span>
<span class="7266036701373075006" onmouseenter="enter('7266036701373075006');" onmouseout="out('7266036701373075006');" style=""> 662                 mPebbleReceiver = null;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663             }                                                                                            </span>
<span class="-2055276518887519425" onmouseenter="enter('-2055276518887519425');" onmouseout="out('-2055276518887519425');" style=""> 664             if (mMusicPlaybackReceiver != null) {                                                        </span>
<span class="890047242835092110" onmouseenter="enter('890047242835092110');" onmouseout="out('890047242835092110');" style=""> 665                 unregisterReceiver(mMusicPlaybackReceiver);                                              </span>
<span class="-1552577282161915996" onmouseenter="enter('-1552577282161915996');" onmouseout="out('-1552577282161915996');" style=""> 666                 mMusicPlaybackReceiver = null;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667             }                                                                                            </span>
<span class="1881385603425146700" onmouseenter="enter('1881385603425146700');" onmouseout="out('1881385603425146700');" style=""> 668             if (mTimeChangeReceiver != null) {                                                           </span>
<span class="-1894985795964522981" onmouseenter="enter('-1894985795964522981');" onmouseout="out('-1894985795964522981');" style=""> 669                 unregisterReceiver(mTimeChangeReceiver);                                                 </span>
<span class="-7572241227958742128" onmouseenter="enter('-7572241227958742128');" onmouseout="out('-7572241227958742128');" style=""> 670                 mTimeChangeReceiver = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 671             }                                                                                            </span>
<span class="9095880258277986747" onmouseenter="enter('9095880258277986747');" onmouseout="out('9095880258277986747');" style=""> 672             if (mBlueToothConnectReceiver != null) {                                                     </span>
<span class="3743697862053435305" onmouseenter="enter('3743697862053435305');" onmouseout="out('3743697862053435305');" style=""> 673                 unregisterReceiver(mBlueToothConnectReceiver);                                           </span>
<span class="4585763212078609359" onmouseenter="enter('4585763212078609359');" onmouseout="out('4585763212078609359');" style=""> 674                 mBlueToothConnectReceiver = null;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675             }                                                                                            </span>
<span  style=""> 676                                                                                                          </span>
<span class="6486147796970253365" onmouseenter="enter('6486147796970253365');" onmouseout="out('6486147796970253365');" style=""> 677             if (mBlueToothPairingRequestReceiver != null) {                                              </span>
<span class="4298983601624288046" onmouseenter="enter('4298983601624288046');" onmouseout="out('4298983601624288046');" style=""> 678                 unregisterReceiver(mBlueToothPairingRequestReceiver);                                    </span>
<span class="-7535446299407978854" onmouseenter="enter('-7535446299407978854');" onmouseout="out('-7535446299407978854');" style=""> 679                 mBlueToothPairingRequestReceiver = null;                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 680             }                                                                                            </span>
<span  style=""> 681                                                                                                          </span>
<span class="6521400717686065872" onmouseenter="enter('6521400717686065872');" onmouseout="out('6521400717686065872');" style=""> 682             if (mAlarmReceiver != null) {                                                                </span>
<span class="-1015355596942575674" onmouseenter="enter('-1015355596942575674');" onmouseout="out('-1015355596942575674');" style=""> 683                 unregisterReceiver(mAlarmReceiver);                                                      </span>
<span class="8415896076062081933" onmouseenter="enter('8415896076062081933');" onmouseout="out('8415896076062081933');" style=""> 684                 mAlarmReceiver = null;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 685             }                                                                                            </span>
<span class="1726896335033811922" onmouseenter="enter('1726896335033811922');" onmouseout="out('1726896335033811922');" style=""> 686             if (mAlarmClockReceiver != null) {                                                           </span>
<span class="950736544794582273" onmouseenter="enter('950736544794582273');" onmouseout="out('950736544794582273');" style=""> 687                 unregisterReceiver(mAlarmClockReceiver);                                                 </span>
<span class="1888286601385537647" onmouseenter="enter('1888286601385537647');" onmouseout="out('1888286601385537647');" style=""> 688                 mAlarmClockReceiver = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 689             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 690         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 691     }                                                                                                    </span>
<span  style=""> 692                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 693     @Override                                                                                            </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style=""> 694     public void onDestroy() {                                                                            </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 695         if (hasPrefs()) {                                                                                </span>
<span class="-6878257734494454807" onmouseenter="enter('-6878257734494454807');" onmouseout="out('-6878257734494454807');" style=""> 696             getPrefs().getPreferences().unregisterOnSharedPreferenceChangeListener(this);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697         }                                                                                                </span>
<span  style=""> 698                                                                                                          </span>
<span class="-7834521410291460174" onmouseenter="enter('-7834521410291460174');" onmouseout="out('-7834521410291460174');" style=""> 699         LOG.debug(&quot;DeviceCommunicationService is being destroyed&quot;);                                      </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style=""> 700         super.onDestroy();                                                                               </span>
<span  style=""> 701                                                                                                          </span>
<span class="1476506345433791001" onmouseenter="enter('1476506345433791001');" onmouseout="out('1476506345433791001');" style=""> 702         LocalBroadcastManager.getInstance(this).unregisterReceiver(mReceiver);                           </span>
<span class="5360529083684701535" onmouseenter="enter('5360529083684701535');" onmouseout="out('5360529083684701535');" style=""> 703         setReceiversEnableState(false, false); // disable BroadcastReceivers                             </span>
<span  style=""> 704                                                                                                          </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 705         setDeviceSupport(null);                                                                          </span>
<span class="-6401324814064311246" onmouseenter="enter('-6401324814064311246');" onmouseout="out('-6401324814064311246');" style=""> 706         NotificationManager nm = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);   </span>
<span class="-9110481916976035504" onmouseenter="enter('-9110481916976035504');" onmouseout="out('-9110481916976035504');" style=""><abbr title=" 707         nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cancelled when service stops"> 707         nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cance🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708     }                                                                                                    </span>
<span  style=""> 709                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 710     @Override                                                                                            </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 711     public IBinder onBind(Intent intent) {                                                               </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 712         return null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 713     }                                                                                                    </span>
<span  style=""> 714                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 715     @Override                                                                                            </span>
<span class="-8543522445860717125" onmouseenter="enter('-8543522445860717125');" onmouseout="out('-8543522445860717125');" style=""> 716     public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {             </span>
<span class="-685513269405093629" onmouseenter="enter('-685513269405093629');" onmouseout="out('-685513269405093629');" style=""> 717         if (GBPrefs.AUTO_RECONNECT.equals(key)) {                                                        </span>
<span class="6392472237335160020" onmouseenter="enter('6392472237335160020');" onmouseout="out('6392472237335160020');" style=""> 718             boolean autoReconnect = getGBPrefs().getAutoReconnect();                                     </span>
<span class="6496582276158603468" onmouseenter="enter('6496582276158603468');" onmouseout="out('6496582276158603468');" style=""> 719             if (mDeviceSupport != null) {                                                                </span>
<span class="-7892066664316346354" onmouseenter="enter('-7892066664316346354');" onmouseout="out('-7892066664316346354');" style=""> 720                 mDeviceSupport.setAutoReconnect(autoReconnect);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 721             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723     }                                                                                                    </span>
<span  style=""> 724                                                                                                          </span>
<span class="5219197634720526897" onmouseenter="enter('5219197634720526897');" onmouseout="out('5219197634720526897');" style=""> 725     protected boolean hasPrefs() {                                                                       </span>
<span class="4539535577863579094" onmouseenter="enter('4539535577863579094');" onmouseout="out('4539535577863579094');" style=""> 726         return getPrefs().getPreferences() != null;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727     }                                                                                                    </span>
<span  style=""> 728                                                                                                          </span>
<span class="8152942447888292090" onmouseenter="enter('8152942447888292090');" onmouseout="out('8152942447888292090');" style=""> 729     public Prefs getPrefs() {                                                                            </span>
<span class="-7206933193388772480" onmouseenter="enter('-7206933193388772480');" onmouseout="out('-7206933193388772480');" style=""> 730         return GBApplication.getPrefs();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 731     }                                                                                                    </span>
<span  style=""> 732                                                                                                          </span>
<span class="7931316051287321883" onmouseenter="enter('7931316051287321883');" onmouseout="out('7931316051287321883');" style=""> 733     public GBPrefs getGBPrefs() {                                                                        </span>
<span class="-2213918291073204825" onmouseenter="enter('-2213918291073204825');" onmouseout="out('-2213918291073204825');" style=""> 734         return GBApplication.getGBPrefs();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735     }                                                                                                    </span>
<span  style=""> 736                                                                                                          </span>
<span class="-3261323066157882616" onmouseenter="enter('-3261323066157882616');" onmouseout="out('-3261323066157882616');" style=""> 737     public GBDevice getGBDevice() {                                                                      </span>
<span class="2107010764646382456" onmouseenter="enter('2107010764646382456');" onmouseout="out('2107010764646382456');" style=""> 738         return mGBDevice;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 739     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740 }                                                                                                        </span></pre></td>
                            <td><pre><span class="-2913458566757142997" onmouseenter="enter('-2913458566757142997');" onmouseout="out('-2913458566757142997');" style="">   1 /*  Copyright (C) 2015-2017 Andreas Shimokawa, Avamander, Carsten Pfeiffer,                              </span>
<span class="-6081250020317944645" onmouseenter="enter('-6081250020317944645');" onmouseout="out('-6081250020317944645');" style="">   2     Daniele Gobbetti, ivanovlev, Julien Pivotto, Kasha, Sergey Trofimov, Steffen                         </span>
<span class="124812437508453505" onmouseenter="enter('124812437508453505');" onmouseout="out('124812437508453505');" style="">   3     Liebergeld, Uwe Hermann                                                                              </span>
<span  style="">   4                                                                                                          </span>
<span class="-7759499394858783956" onmouseenter="enter('-7759499394858783956');" onmouseout="out('-7759499394858783956');" style="">   5     This file is part of Gadgetbridge.                                                                   </span>
<span  style="">   6                                                                                                          </span>
<span class="-2647557636279629478" onmouseenter="enter('-2647557636279629478');" onmouseout="out('-2647557636279629478');" style="">   7     Gadgetbridge is free software: you can redistribute it and/or modify                                 </span>
<span class="4878736751218581391" onmouseenter="enter('4878736751218581391');" onmouseout="out('4878736751218581391');" style="">   8     it under the terms of the GNU Affero General Public License as published                             </span>
<span class="-5160078368722358920" onmouseenter="enter('-5160078368722358920');" onmouseout="out('-5160078368722358920');" style="">   9     by the Free Software Foundation, either version 3 of the License, or                                 </span>
<span class="6661789815760177463" onmouseenter="enter('6661789815760177463');" onmouseout="out('6661789815760177463');" style="">  10     (at your option) any later version.                                                                  </span>
<span  style="">  11                                                                                                          </span>
<span class="-6828199977528779968" onmouseenter="enter('-6828199977528779968');" onmouseout="out('-6828199977528779968');" style="">  12     Gadgetbridge is distributed in the hope that it will be useful,                                      </span>
<span class="4883593508173597945" onmouseenter="enter('4883593508173597945');" onmouseout="out('4883593508173597945');" style="">  13     but WITHOUT ANY WARRANTY; without even the implied warranty of                                       </span>
<span class="2300657568347926527" onmouseenter="enter('2300657568347926527');" onmouseout="out('2300657568347926527');" style="">  14     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                                        </span>
<span class="4681049817175334681" onmouseenter="enter('4681049817175334681');" onmouseout="out('4681049817175334681');" style="">  15     GNU Affero General Public License for more details.                                                  </span>
<span  style="">  16                                                                                                          </span>
<span class="-3235531360569947201" onmouseenter="enter('-3235531360569947201');" onmouseout="out('-3235531360569947201');" style="">  17     You should have received a copy of the GNU Affero General Public License                             </span>
<span class="-3088444562895398794" onmouseenter="enter('-3088444562895398794');" onmouseout="out('-3088444562895398794');" style="">  18     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;. */                             </span>
<span class="-7738010425234448954" onmouseenter="enter('-7738010425234448954');" onmouseout="out('-7738010425234448954');" style="">  19 package nodomain.freeyourgadget.gadgetbridge.service;                                                    </span>
<span  style="">  20                                                                                                          </span>
<span class="2183671588995744448" onmouseenter="enter('2183671588995744448');" onmouseout="out('2183671588995744448');" style="">  21 import android.app.NotificationManager;                                                                  </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  22 import android.app.Service;                                                                              </span>
<span class="2859895893394018468" onmouseenter="enter('2859895893394018468');" onmouseout="out('2859895893394018468');" style="">  23 import android.bluetooth.BluetoothDevice;                                                                </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  24 import android.content.BroadcastReceiver;                                                                </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  25 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  26 import android.content.Intent;                                                                           </span>
<span class="8697221465021235869" onmouseenter="enter('8697221465021235869');" onmouseout="out('8697221465021235869');" style="">  27 import android.content.IntentFilter;                                                                     </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  28 import android.content.SharedPreferences;                                                                </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">  29 import android.net.Uri;                                                                                  </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">  30 import android.os.IBinder;                                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  31 import android.support.annotation.Nullable;                                                              </span>
<span class="2517521963771876570" onmouseenter="enter('2517521963771876570');" onmouseout="out('2517521963771876570');" style="">  32 import android.support.v4.content.LocalBroadcastManager;                                                 </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  33 import android.widget.Toast;                                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  35 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  36 import org.slf4j.LoggerFactory;                                                                          </span>
<span  style="">  37                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  38 import java.util.ArrayList;                                                                              </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  39 import java.util.Random;                                                                                 </span>
<span class="2390503830490498598" onmouseenter="enter('2390503830490498598');" onmouseout="out('2390503830490498598');" style="">  40 import java.util.UUID;                                                                                   </span>
<span  style="">  41                                                                                                          </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  42 import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                               </span>
<span class="-7198279398549834921" onmouseenter="enter('-7198279398549834921');" onmouseout="out('-7198279398549834921');" style="">  43 import nodomain.freeyourgadget.gadgetbridge.R;                                                           </span>
<span class="-1043793227667586476" onmouseenter="enter('-1043793227667586476');" onmouseout="out('-1043793227667586476');" style="">  44 import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmClockReceiver;                           </span>
<span class="-466082507516838314" onmouseenter="enter('-466082507516838314');" onmouseout="out('-466082507516838314');" style="">  45 import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmReceiver;                                </span>
<span class="-7129464422930519321" onmouseenter="enter('-7129464422930519321');" onmouseout="out('-7129464422930519321');" style="">  46 import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothConnectReceiver;                     </span>
<span class="2398603908936046398" onmouseenter="enter('2398603908936046398');" onmouseout="out('2398603908936046398');" style="">  47 import nodomain.freeyourgadget.gadgetbridge.externalevents.CalendarReceiver;                             </span>
<span class="3745747127962910079" onmouseenter="enter('3745747127962910079');" onmouseout="out('3745747127962910079');" style="">  48 import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothPairingRequestReceiver;              </span>
<span class="-2271437192109431069" onmouseenter="enter('-2271437192109431069');" onmouseout="out('-2271437192109431069');" style="">  49 import nodomain.freeyourgadget.gadgetbridge.externalevents.MusicPlaybackReceiver;                        </span>
<span class="-8149017599814569985" onmouseenter="enter('-8149017599814569985');" onmouseout="out('-8149017599814569985');" style="">  50 import nodomain.freeyourgadget.gadgetbridge.externalevents.PebbleReceiver;                               </span>
<span class="2562090092581913054" onmouseenter="enter('2562090092581913054');" onmouseout="out('2562090092581913054');" style="">  51 import nodomain.freeyourgadget.gadgetbridge.externalevents.PhoneCallReceiver;                            </span>
<span class="-1515256456216613580" onmouseenter="enter('-1515256456216613580');" onmouseout="out('-1515256456216613580');" style="">  52 import nodomain.freeyourgadget.gadgetbridge.externalevents.SMSReceiver;                                  </span>
<span class="-4561728641078454300" onmouseenter="enter('-4561728641078454300');" onmouseout="out('-4561728641078454300');" style="">  53 import nodomain.freeyourgadget.gadgetbridge.externalevents.TimeChangeReceiver;                           </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  54 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  55 import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                 </span>
<span class="-3899388208810973608" onmouseenter="enter('-3899388208810973608');" onmouseout="out('-3899388208810973608');" style="">  56 import nodomain.freeyourgadget.gadgetbridge.model.CalendarEventSpec;                                     </span>
<span class="-9074570965792323186" onmouseenter="enter('-9074570965792323186');" onmouseout="out('-9074570965792323186');" style="">  57 import nodomain.freeyourgadget.gadgetbridge.model.CallSpec;                                              </span>
<span class="-7415926539738049206" onmouseenter="enter('-7415926539738049206');" onmouseout="out('-7415926539738049206');" style="">  58 import nodomain.freeyourgadget.gadgetbridge.model.CannedMessagesSpec;                                    </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  59 import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                             </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  60 import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                        </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  61 import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                      </span>
<span class="7087011959288310716" onmouseenter="enter('7087011959288310716');" onmouseout="out('7087011959288310716');" style="">  62 import nodomain.freeyourgadget.gadgetbridge.model.NotificationType;                                      </span>
<span class="-40839721936664146" onmouseenter="enter('-40839721936664146');" onmouseout="out('-40839721936664146');" style="">  63 import nodomain.freeyourgadget.gadgetbridge.model.WeatherSpec;                                           </span>
<span class="-8326539218894047431" onmouseenter="enter('-8326539218894047431');" onmouseout="out('-8326539218894047431');" style="">  64 import nodomain.freeyourgadget.gadgetbridge.util.DeviceHelper;                                           </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  65 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span class="-9094281754584205644" onmouseenter="enter('-9094281754584205644');" onmouseout="out('-9094281754584205644');" style="">  66 import nodomain.freeyourgadget.gadgetbridge.util.GBPrefs;                                                </span>
<span class="-600862318521663319" onmouseenter="enter('-600862318521663319');" onmouseout="out('-600862318521663319');" style="">  67 import nodomain.freeyourgadget.gadgetbridge.util.Prefs;                                                  </span>
<span  style="">  68                                                                                                          </span>
<span class="6045190136542162764" onmouseenter="enter('6045190136542162764');" onmouseout="out('6045190136542162764');" style="">  69 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ADD_CALENDAREVENT;         </span>
<span class="-4691650729708495340" onmouseenter="enter('-4691650729708495340');" onmouseout="out('-4691650729708495340');" style="">  70 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_CONFIGURE;             </span>
<span class="8979266882952044394" onmouseenter="enter('8979266882952044394');" onmouseout="out('8979266882952044394');" style="">  71 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_REORDER;               </span>
<span class="-542869728357892530" onmouseenter="enter('-542869728357892530');" onmouseout="out('-542869728357892530');" style="">  72 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CALLSTATE;                 </span>
<span class="-247683295782230703" onmouseenter="enter('-247683295782230703');" onmouseout="out('-247683295782230703');" style="">  73 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CONNECT;                   </span>
<span class="-4616915307566341750" onmouseenter="enter('-4616915307566341750');" onmouseout="out('-4616915307566341750');" style="">  74 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETEAPP;                 </span>
<span class="-3074116335608109863" onmouseenter="enter('-3074116335608109863');" onmouseout="out('-3074116335608109863');" style="">  75 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_CALENDAREVENT;      </span>
<span class="-1860366238468238430" onmouseenter="enter('-1860366238468238430');" onmouseout="out('-1860366238468238430');" style="">  76 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_NOTIFICATION;       </span>
<span class="-1812841064554504500" onmouseenter="enter('-1812841064554504500');" onmouseout="out('-1812841064554504500');" style="">  77 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DISCONNECT;                </span>
<span class="-4921661448524955199" onmouseenter="enter('-4921661448524955199');" onmouseout="out('-4921661448524955199');" style=""><abbr title="  78 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT;">  78 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPP🔵</abbr></span>
<span class="6246333874127665785" onmouseenter="enter('6246333874127665785');" onmouseout="out('6246333874127665785');" style=""><abbr title="  79 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT;">  79 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_M🔵</abbr></span>
<span class="-7030527688450425299" onmouseenter="enter('-7030527688450425299');" onmouseout="out('-7030527688450425299');" style="">  80 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_STEPS;     </span>
<span class="5330179003852293257" onmouseenter="enter('5330179003852293257');" onmouseout="out('5330179003852293257');" style="">  81 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FETCH_ACTIVITY_DATA;       </span>
<span class="-6966848371161420018" onmouseenter="enter('-6966848371161420018');" onmouseout="out('-6966848371161420018');" style="">  82 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FIND_DEVICE;               </span>
<span class="4586775629870362245" onmouseenter="enter('4586775629870362245');" onmouseout="out('4586775629870362245');" style="">  83 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_HEARTRATE_TEST;            </span>
<span class="-5289289347666796824" onmouseenter="enter('-5289289347666796824');" onmouseout="out('-5289289347666796824');" style="">  84 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_INSTALL;                   </span>
<span class="3276198152396102653" onmouseenter="enter('3276198152396102653');" onmouseout="out('3276198152396102653');" style="">  85 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_NOTIFICATION;              </span>
<span class="5085118059276382623" onmouseenter="enter('5085118059276382623');" onmouseout="out('5085118059276382623');" style="">  86 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REBOOT;                    </span>
<span class="-6594726169437148825" onmouseenter="enter('-6594726169437148825');" onmouseout="out('-6594726169437148825');" style="">  87 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_APPINFO;           </span>
<span class="-1183129577946721611" onmouseenter="enter('-1183129577946721611');" onmouseout="out('-1183129577946721611');" style="">  88 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_DEVICEINFO;        </span>
<span class="5758933186280297106" onmouseenter="enter('5758933186280297106');" onmouseout="out('5758933186280297106');" style="">  89 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_SCREENSHOT;        </span>
<span class="-4714892334355914946" onmouseenter="enter('-4714892334355914946');" onmouseout="out('-4714892334355914946');" style="">  90 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_CONFIGURATION;        </span>
<span class="8513571795744919095" onmouseenter="enter('8513571795744919095');" onmouseout="out('8513571795744919095');" style="">  91 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_WEATHER;              </span>
<span class="7391455619690263299" onmouseenter="enter('7391455619690263299');" onmouseout="out('7391455619690263299');" style="">  92 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETCANNEDMESSAGES;         </span>
<span class="3872370270421160251" onmouseenter="enter('3872370270421160251');" onmouseout="out('3872370270421160251');" style="">  93 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICINFO;              </span>
<span class="4922243836603922576" onmouseenter="enter('4922243836603922576');" onmouseout="out('4922243836603922576');" style="">  94 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICSTATE;             </span>
<span class="-1819410662234697183" onmouseenter="enter('-1819410662234697183');" onmouseout="out('-1819410662234697183');" style="">  95 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETTIME;                   </span>
<span class="5600424252036500004" onmouseenter="enter('5600424252036500004');" onmouseout="out('5600424252036500004');" style="">  96 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_ALARMS;                </span>
<span class="-8485936520151852725" onmouseenter="enter('-8485936520151852725');" onmouseout="out('-8485936520151852725');" style="">  97 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_CONSTANT_VIBRATION;    </span>
<span class="-2895954538846707623" onmouseenter="enter('-2895954538846707623');" onmouseout="out('-2895954538846707623');" style="">  98 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_START;                     </span>
<span class="159603830185606040" onmouseenter="enter('159603830185606040');" onmouseout="out('159603830185606040');" style="">  99 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_STARTAPP;                  </span>
<span class="-8485404521634723509" onmouseenter="enter('-8485404521634723509');" onmouseout="out('-8485404521634723509');" style=""> 100 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_TEST_NEW_FUNCTION;         </span>
<span class="770450972489050338" onmouseenter="enter('770450972489050338');" onmouseout="out('770450972489050338');" style=""> 101 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_ALARMS;                     </span>
<span class="-7114221800478427382" onmouseenter="enter('-7114221800478427382');" onmouseout="out('-7114221800478427382');" style=""> 102 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_CONFIG;                 </span>
<span class="8965411938901348033" onmouseenter="enter('8965411938901348033');" onmouseout="out('8965411938901348033');" style=""> 103 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_START;                  </span>
<span class="-8283928422425000100" onmouseenter="enter('-8283928422425000100');" onmouseout="out('-8283928422425000100');" style=""> 104 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_UUID;                   </span>
<span class="-6028659556554711747" onmouseenter="enter('-6028659556554711747');" onmouseout="out('-6028659556554711747');" style=""> 105 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_BOOLEAN_ENABLE;             </span>
<span class="7522647889408017982" onmouseenter="enter('7522647889408017982');" onmouseout="out('7522647889408017982');" style=""> 106 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DESCRIPTION;  </span>
<span class="2012224363855729231" onmouseenter="enter('2012224363855729231');" onmouseout="out('2012224363855729231');" style=""> 107 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DURATION;     </span>
<span class="2381002028954495403" onmouseenter="enter('2381002028954495403');" onmouseout="out('2381002028954495403');" style=""> 108 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_ID;           </span>
<span class="-7291810314793060088" onmouseenter="enter('-7291810314793060088');" onmouseout="out('-7291810314793060088');" style=""> 109 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TIMESTAMP;    </span>
<span class="384106080468578959" onmouseenter="enter('384106080468578959');" onmouseout="out('384106080468578959');" style=""> 110 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TITLE;        </span>
<span class="-6202091316758952440" onmouseenter="enter('-6202091316758952440');" onmouseout="out('-6202091316758952440');" style=""> 111 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TYPE;         </span>
<span class="8389643945828398933" onmouseenter="enter('8389643945828398933');" onmouseout="out('8389643945828398933');" style=""> 112 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_COMMAND;               </span>
<span class="4792956381576162355" onmouseenter="enter('4792956381576162355');" onmouseout="out('4792956381576162355');" style=""> 113 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_DISPLAYNAME;           </span>
<span class="5333868123015017193" onmouseenter="enter('5333868123015017193');" onmouseout="out('5333868123015017193');" style=""> 114 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_PHONENUMBER;           </span>
<span class="-5129778312485721110" onmouseenter="enter('-5129778312485721110');" onmouseout="out('-5129778312485721110');" style=""> 115 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES;             </span>
<span class="4656341769499509905" onmouseenter="enter('4656341769499509905');" onmouseout="out('4656341769499509905');" style=""> 116 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES_TYPE;        </span>
<span class="5199391479118480443" onmouseenter="enter('5199391479118480443');" onmouseout="out('5199391479118480443');" style=""> 117 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONFIG;                     </span>
<span class="4221194159076226870" onmouseenter="enter('4221194159076226870');" onmouseout="out('4221194159076226870');" style=""> 118 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_FIND_START;                 </span>
<span class="-2258225638015800384" onmouseenter="enter('-2258225638015800384');" onmouseout="out('-2258225638015800384');" style=""> 119 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ALBUM;                </span>
<span class="-2216137706415061756" onmouseenter="enter('-2216137706415061756');" onmouseout="out('-2216137706415061756');" style=""> 120 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ARTIST;               </span>
<span class="8046519832671029614" onmouseenter="enter('8046519832671029614');" onmouseout="out('8046519832671029614');" style=""> 121 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_DURATION;             </span>
<span class="-6142463088169555654" onmouseenter="enter('-6142463088169555654');" onmouseout="out('-6142463088169555654');" style=""> 122 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_POSITION;             </span>
<span class="5744330398351461055" onmouseenter="enter('5744330398351461055');" onmouseout="out('5744330398351461055');" style=""> 123 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_RATE;                 </span>
<span class="-4927372672415271921" onmouseenter="enter('-4927372672415271921');" onmouseout="out('-4927372672415271921');" style=""> 124 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_REPEAT;               </span>
<span class="7486056797989668892" onmouseenter="enter('7486056797989668892');" onmouseout="out('7486056797989668892');" style=""> 125 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_SHUFFLE;              </span>
<span class="-8253565582178279411" onmouseenter="enter('-8253565582178279411');" onmouseout="out('-8253565582178279411');" style=""> 126 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_STATE;                </span>
<span class="-2409139333736829248" onmouseenter="enter('-2409139333736829248');" onmouseout="out('-2409139333736829248');" style=""> 127 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACK;                </span>
<span class="3248584088261486079" onmouseenter="enter('3248584088261486079');" onmouseout="out('3248584088261486079');" style=""> 128 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKCOUNT;           </span>
<span class="-2704967574938476609" onmouseenter="enter('-2704967574938476609');" onmouseout="out('-2704967574938476609');" style=""> 129 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKNR;              </span>
<span class="3700368637395551240" onmouseenter="enter('3700368637395551240');" onmouseout="out('3700368637395551240');" style=""> 130 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_BODY;          </span>
<span class="6396194886685840912" onmouseenter="enter('6396194886685840912');" onmouseout="out('6396194886685840912');" style=""> 131 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_FLAGS;         </span>
<span class="4822457600196668791" onmouseenter="enter('4822457600196668791');" onmouseout="out('4822457600196668791');" style=""> 132 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_ID;            </span>
<span class="7674789080848891549" onmouseenter="enter('7674789080848891549');" onmouseout="out('7674789080848891549');" style=""> 133 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_PHONENUMBER;   </span>
<span class="4567989658129086488" onmouseenter="enter('4567989658129086488');" onmouseout="out('4567989658129086488');" style=""> 134 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SENDER;        </span>
<span class="5059516478886573650" onmouseenter="enter('5059516478886573650');" onmouseout="out('5059516478886573650');" style=""> 135 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SOURCENAME;    </span>
<span class="4541479799245762364" onmouseenter="enter('4541479799245762364');" onmouseout="out('4541479799245762364');" style=""> 136 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SUBJECT;       </span>
<span class="-2743035339658362547" onmouseenter="enter('-2743035339658362547');" onmouseout="out('-2743035339658362547');" style=""> 137 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TITLE;         </span>
<span class="-5872178756477099231" onmouseenter="enter('-5872178756477099231');" onmouseout="out('-5872178756477099231');" style=""> 138 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TYPE;          </span>
<span class="4059405288294641795" onmouseenter="enter('4059405288294641795');" onmouseout="out('4059405288294641795');" style=""> 139 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONNECT_FIRST_TIME;         </span>
<span class="2609126409554850516" onmouseenter="enter('2609126409554850516');" onmouseout="out('2609126409554850516');" style=""> 140 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_URI;                        </span>
<span class="558351812671615614" onmouseenter="enter('558351812671615614');" onmouseout="out('558351812671615614');" style=""> 141 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_VIBRATION_INTENSITY;        </span>
<span class="-3363581013306175134" onmouseenter="enter('-3363581013306175134');" onmouseout="out('-3363581013306175134');" style=""> 142 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITION;   </span>
<span class="-8943294338982235009" onmouseenter="enter('-8943294338982235009');" onmouseout="out('-8943294338982235009');" style=""><abbr title=" 143 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE;"> 143 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE🔵</abbr></span>
<span class="2859637720228343142" onmouseenter="enter('2859637720228343142');" onmouseout="out('2859637720228343142');" style=""> 144 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTTEMP;        </span>
<span class="-2095384497186099299" onmouseenter="enter('-2095384497186099299');" onmouseout="out('-2095384497186099299');" style=""> 145 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_LOCATION;           </span>
<span class="6581594015461287613" onmouseenter="enter('6581594015461287613');" onmouseout="out('6581594015461287613');" style=""> 146 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TIMESTAMP;          </span>
<span class="-7095302037137566641" onmouseenter="enter('-7095302037137566641');" onmouseout="out('-7095302037137566641');" style=""> 147 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMAXTEMP;       </span>
<span class="4074481476846669078" onmouseenter="enter('4074481476846669078');" onmouseout="out('4074481476846669078');" style=""> 148 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMINTEMP;       </span>
<span class="-2007611705625738582" onmouseenter="enter('-2007611705625738582');" onmouseout="out('-2007611705625738582');" style=""><abbr title=" 149 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCODE;"> 149 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCOD🔵</abbr></span>
<span class="-2323001311549544950" onmouseenter="enter('-2323001311549544950');" onmouseout="out('-2323001311549544950');" style=""> 150 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMAXTEMP;    </span>
<span class="-6803925815152400371" onmouseenter="enter('-6803925815152400371');" onmouseout="out('-6803925815152400371');" style=""> 151 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMINTEMP;    </span>
<span  style=""> 152                                                                                                          </span>
<span class="7002389026711922138" onmouseenter="enter('7002389026711922138');" onmouseout="out('7002389026711922138');" style=""><abbr title=" 153 public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListener {"> 153 public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceCh🔵</abbr></span>
<span class="2948370626519459736" onmouseenter="enter('2948370626519459736');" onmouseout="out('2948370626519459736');" style=""> 154     private static final Logger LOG = LoggerFactory.getLogger(DeviceCommunicationService.class);         </span>
<span class="8315759516084024026" onmouseenter="enter('8315759516084024026');" onmouseout="out('8315759516084024026');" style=""> 155     private static DeviceSupportFactory DEVICE_SUPPORT_FACTORY = null;                                   </span>
<span  style=""> 156                                                                                                          </span>
<span class="5665266661180725736" onmouseenter="enter('5665266661180725736');" onmouseout="out('5665266661180725736');" style=""> 157     private boolean mStarted = false;                                                                    </span>
<span  style=""> 158                                                                                                          </span>
<span class="2619013435041056124" onmouseenter="enter('2619013435041056124');" onmouseout="out('2619013435041056124');" style=""> 159     private DeviceSupportFactory mFactory;                                                               </span>
<span class="-5535852384441440556" onmouseenter="enter('-5535852384441440556');" onmouseout="out('-5535852384441440556');" style=""> 160     private GBDevice mGBDevice = null;                                                                   </span>
<span class="3807324077532128165" onmouseenter="enter('3807324077532128165');" onmouseout="out('3807324077532128165');" style=""> 161     private DeviceSupport mDeviceSupport;                                                                </span>
<span  style=""> 162                                                                                                          </span>
<span class="6815378416149141398" onmouseenter="enter('6815378416149141398');" onmouseout="out('6815378416149141398');" style=""> 163     private PhoneCallReceiver mPhoneCallReceiver = null;                                                 </span>
<span class="-2826099576832326168" onmouseenter="enter('-2826099576832326168');" onmouseout="out('-2826099576832326168');" style=""> 164     private SMSReceiver mSMSReceiver = null;                                                             </span>
<span class="-3235398375537158027" onmouseenter="enter('-3235398375537158027');" onmouseout="out('-3235398375537158027');" style=""> 165     private PebbleReceiver mPebbleReceiver = null;                                                       </span>
<span class="-6023871012645258525" onmouseenter="enter('-6023871012645258525');" onmouseout="out('-6023871012645258525');" style=""> 166     private MusicPlaybackReceiver mMusicPlaybackReceiver = null;                                         </span>
<span class="-6462467161745750835" onmouseenter="enter('-6462467161745750835');" onmouseout="out('-6462467161745750835');" style=""> 167     private TimeChangeReceiver mTimeChangeReceiver = null;                                               </span>
<span class="45606605928520924" onmouseenter="enter('45606605928520924');" onmouseout="out('45606605928520924');" style=""> 168     private BluetoothConnectReceiver mBlueToothConnectReceiver = null;                                   </span>
<span class="-9067944856238345499" onmouseenter="enter('-9067944856238345499');" onmouseout="out('-9067944856238345499');" style=""> 169     private BluetoothPairingRequestReceiver mBlueToothPairingRequestReceiver = null;                     </span>
<span class="-2172935952751705642" onmouseenter="enter('-2172935952751705642');" onmouseout="out('-2172935952751705642');" style=""> 170     private AlarmClockReceiver mAlarmClockReceiver = null;                                               </span>
<span  style=""> 171                                                                                                          </span>
<span class="8047396517755341728" onmouseenter="enter('8047396517755341728');" onmouseout="out('8047396517755341728');" style=""> 172     private AlarmReceiver mAlarmReceiver = null;                                                         </span>
<span class="-1064576620280552382" onmouseenter="enter('-1064576620280552382');" onmouseout="out('-1064576620280552382');" style=""> 173     private CalendarReceiver mCalendarReceiver = null;                                                   </span>
<span class="596985040066134893" onmouseenter="enter('596985040066134893');" onmouseout="out('596985040066134893');" style=""> 174     private Random mRandom = new Random();                                                               </span>
<span  style=""> 175                                                                                                          </span>
<span class="-7026764300858699611" onmouseenter="enter('-7026764300858699611');" onmouseout="out('-7026764300858699611');" style=""> 176     private final String[] mMusicActions = {                                                             </span>
<span class="-5899670638360176462" onmouseenter="enter('-5899670638360176462');" onmouseout="out('-5899670638360176462');" style=""> 177             &quot;com.android.music.metachanged&quot;,                                                             </span>
<span class="-6119178071307230813" onmouseenter="enter('-6119178071307230813');" onmouseout="out('-6119178071307230813');" style=""> 178             &quot;com.android.music.playstatechanged&quot;,                                                        </span>
<span class="6696782374861485479" onmouseenter="enter('6696782374861485479');" onmouseout="out('6696782374861485479');" style=""> 179             &quot;com.android.music.queuechanged&quot;,                                                            </span>
<span class="6754013239602282204" onmouseenter="enter('6754013239602282204');" onmouseout="out('6754013239602282204');" style=""> 180             &quot;com.android.music.playbackcomplete&quot;,                                                        </span>
<span class="-1811061177320906307" onmouseenter="enter('-1811061177320906307');" onmouseout="out('-1811061177320906307');" style=""> 181             &quot;net.sourceforge.subsonic.androidapp.EVENT_META_CHANGED&quot;,                                    </span>
<span class="8938407557672159350" onmouseenter="enter('8938407557672159350');" onmouseout="out('8938407557672159350');" style=""> 182             &quot;com.maxmpz.audioplayer.TPOS_SYNC&quot;,                                                          </span>
<span class="8683787039615780676" onmouseenter="enter('8683787039615780676');" onmouseout="out('8683787039615780676');" style=""> 183             &quot;com.maxmpz.audioplayer.STATUS_CHANGED&quot;,                                                     </span>
<span class="7325198080010606271" onmouseenter="enter('7325198080010606271');" onmouseout="out('7325198080010606271');" style=""> 184             &quot;com.maxmpz.audioplayer.PLAYING_MODE_CHANGED&quot;};                                              </span>
<span  style=""> 185                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 186     /**                                                                                                  </span>
<span class="-2662003173786345235" onmouseenter="enter('-2662003173786345235');" onmouseout="out('-2662003173786345235');" style=""> 187      * For testing!                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 188      *                                                                                                   </span>
<span class="2659395903319912597" onmouseenter="enter('2659395903319912597');" onmouseout="out('2659395903319912597');" style=""> 189      * @param factory                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 190      */                                                                                                  </span>
<span class="-6666378662286991217" onmouseenter="enter('-6666378662286991217');" onmouseout="out('-6666378662286991217');" style=""> 191     public static void setDeviceSupportFactory(DeviceSupportFactory factory) {                           </span>
<span class="-8354288850313385150" onmouseenter="enter('-8354288850313385150');" onmouseout="out('-8354288850313385150');" style=""> 192         DEVICE_SUPPORT_FACTORY = factory;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="-3957055725206159636" onmouseenter="enter('-3957055725206159636');" onmouseout="out('-3957055725206159636');" style=""> 195     public DeviceCommunicationService() {                                                                </span>
<span  style=""> 196                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="4625474178666977899" onmouseenter="enter('4625474178666977899');" onmouseout="out('4625474178666977899');" style=""> 199     private final BroadcastReceiver mReceiver = new BroadcastReceiver() {                                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200         @Override                                                                                        </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style=""> 201         public void onReceive(Context context, Intent intent) {                                          </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 202             String action = intent.getAction();                                                          </span>
<span class="6363789114941388821" onmouseenter="enter('6363789114941388821');" onmouseout="out('6363789114941388821');" style=""> 203             if (action.equals(GBDevice.ACTION_DEVICE_CHANGED)) {                                         </span>
<span class="-2461183312182880324" onmouseenter="enter('-2461183312182880324');" onmouseout="out('-2461183312182880324');" style=""> 204                 GBDevice device = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                      </span>
<span class="-1587947608962901958" onmouseenter="enter('-1587947608962901958');" onmouseout="out('-1587947608962901958');" style=""> 205                 // FIXME: mGBDevice was null here once                                                   </span>
<span class="6531971567465378623" onmouseenter="enter('6531971567465378623');" onmouseout="out('6531971567465378623');" style=""> 206                 if (mGBDevice.equals(device)) {                                                          </span>
<span class="3131993518650313722" onmouseenter="enter('3131993518650313722');" onmouseout="out('3131993518650313722');" style=""> 207                     mGBDevice = device;                                                                  </span>
<span class="-9215184646965251963" onmouseenter="enter('-9215184646965251963');" onmouseout="out('-9215184646965251963');" style=""><abbr title=" 208                     boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDevice.isInitialized());"> 208                     boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() 🔵</abbr></span>
<span class="7959311921834810767" onmouseenter="enter('7959311921834810767');" onmouseout="out('7959311921834810767');" style=""> 209                     setReceiversEnableState(enableReceivers, mGBDevice.isInitialized());                 </span>
<span class="3006210050222174141" onmouseenter="enter('3006210050222174141');" onmouseout="out('3006210050222174141');" style=""><abbr title=" 210                     GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevice.isInitialized(), context);"> 210                     GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevi🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 211                 } else {                                                                                 </span>
<span class="-5607286848535217916" onmouseenter="enter('-5607286848535217916');" onmouseout="out('-5607286848535217916');" style=""> 212                     LOG.error(&quot;Got ACTION_DEVICE_CHANGED from unexpected device: &quot; + mGBDevice);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 216     };                                                                                                   </span>
<span  style=""> 217                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 218     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style=""> 219     public void onCreate() {                                                                             </span>
<span class="-4054458849665978908" onmouseenter="enter('-4054458849665978908');" onmouseout="out('-4054458849665978908');" style=""> 220         LOG.debug(&quot;DeviceCommunicationService is being created&quot;);                                        </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style=""> 221         super.onCreate();                                                                                </span>
<span class="-4042436281125736078" onmouseenter="enter('-4042436281125736078');" onmouseout="out('-4042436281125736078');" style=""><abbr title=" 222         LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVICE_CHANGED));"> 222         LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACT🔵</abbr></span>
<span class="7550329168056090280" onmouseenter="enter('7550329168056090280');" onmouseout="out('7550329168056090280');" style=""> 223         mFactory = getDeviceSupportFactory();                                                            </span>
<span  style=""> 224                                                                                                          </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 225         if (hasPrefs()) {                                                                                </span>
<span class="-5542746784767813133" onmouseenter="enter('-5542746784767813133');" onmouseout="out('-5542746784767813133');" style=""> 226             getPrefs().getPreferences().registerOnSharedPreferenceChangeListener(this);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228     }                                                                                                    </span>
<span  style=""> 229                                                                                                          </span>
<span class="4443706376638466060" onmouseenter="enter('4443706376638466060');" onmouseout="out('4443706376638466060');" style=""> 230     private DeviceSupportFactory getDeviceSupportFactory() {                                             </span>
<span class="232953772404563377" onmouseenter="enter('232953772404563377');" onmouseout="out('232953772404563377');" style=""> 231         if (DEVICE_SUPPORT_FACTORY != null) {                                                            </span>
<span class="7931102469926815551" onmouseenter="enter('7931102469926815551');" onmouseout="out('7931102469926815551');" style=""> 232             return DEVICE_SUPPORT_FACTORY;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233         }                                                                                                </span>
<span class="4538357947168100259" onmouseenter="enter('4538357947168100259');" onmouseout="out('4538357947168100259');" style=""> 234         return new DeviceSupportFactory(this);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237     @Override                                                                                            </span>
<span class="-8981297357807978759" onmouseenter="enter('-8981297357807978759');" onmouseout="out('-8981297357807978759');" style=""> 238     public synchronized int onStartCommand(Intent intent, int flags, int startId) {                      </span>
<span  style=""> 239                                                                                                          </span>
<span class="-8400111569787613467" onmouseenter="enter('-8400111569787613467');" onmouseout="out('-8400111569787613467');" style=""> 240         if (intent == null) {                                                                            </span>
<span class="-2375998914676676862" onmouseenter="enter('-2375998914676676862');" onmouseout="out('-2375998914676676862');" style=""> 241             LOG.info(&quot;no intent&quot;);                                                                       </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 242             return START_NOT_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243         }                                                                                                </span>
<span  style=""> 244                                                                                                          </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 245         String action = intent.getAction();                                                              </span>
<span class="7823373493260129619" onmouseenter="enter('7823373493260129619');" onmouseout="out('7823373493260129619');" style=""> 246         boolean firstTime = intent.getBooleanExtra(EXTRA_CONNECT_FIRST_TIME, false);                     </span>
<span  style=""> 247                                                                                                          </span>
<span class="4668300806615190248" onmouseenter="enter('4668300806615190248');" onmouseout="out('4668300806615190248');" style=""> 248         if (action == null) {                                                                            </span>
<span class="-1443758836937597877" onmouseenter="enter('-1443758836937597877');" onmouseout="out('-1443758836937597877');" style=""> 249             LOG.info(&quot;no action&quot;);                                                                       </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 250             return START_NOT_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251         }                                                                                                </span>
<span  style=""> 252                                                                                                          </span>
<span class="-7510962738906177338" onmouseenter="enter('-7510962738906177338');" onmouseout="out('-7510962738906177338');" style=""> 253         LOG.debug(&quot;Service startcommand: &quot; + action);                                                    </span>
<span  style=""> 254                                                                                                          </span>
<span class="8726253247916805946" onmouseenter="enter('8726253247916805946');" onmouseout="out('8726253247916805946');" style=""> 255         if (!action.equals(ACTION_START) &amp;&amp; !action.equals(ACTION_CONNECT)) {                            </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 256             if (!mStarted) {                                                                             </span>
<span class="-4314511529946530833" onmouseenter="enter('-4314511529946530833');" onmouseout="out('-4314511529946530833');" style=""> 257                 // using the service before issuing ACTION_START                                         </span>
<span class="-7267052914594203511" onmouseenter="enter('-7267052914594203511');" onmouseout="out('-7267052914594203511');" style=""><abbr title=" 258                 LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before using it: &quot; + action);"> 258                 LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before u🔵</abbr></span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 259                 return START_NOT_STICKY;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260             }                                                                                            </span>
<span  style=""> 261                                                                                                          </span>
<span class="1608942666865935384" onmouseenter="enter('1608942666865935384');" onmouseout="out('1608942666865935384');" style=""> 262             if (mDeviceSupport == null || (!isInitialized() &amp;&amp; !mDeviceSupport.useAutoConnect())) {      </span>
<span class="-7295838370792597580" onmouseenter="enter('-7295838370792597580');" onmouseout="out('-7295838370792597580');" style=""> 263                 // trying to send notification without valid Bluetooth connection                        </span>
<span class="-3967328229534622301" onmouseenter="enter('-3967328229534622301');" onmouseout="out('-3967328229534622301');" style=""> 264                 if (mGBDevice != null) {                                                                 </span>
<span class="-2150339174362147605" onmouseenter="enter('-2150339174362147605');" onmouseout="out('-2150339174362147605');" style=""> 265                     // at least send back the current device state                                       </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 266                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267                 }                                                                                        </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 268                 return START_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270         }                                                                                                </span>
<span  style=""> 271                                                                                                          </span>
<span class="-8633731563859485799" onmouseenter="enter('-8633731563859485799');" onmouseout="out('-8633731563859485799');" style=""> 272         // when we get past this, we should have valid mDeviceSupport and mGBDevice instances            </span>
<span  style=""> 273                                                                                                          </span>
<span class="7909508264133940557" onmouseenter="enter('7909508264133940557');" onmouseout="out('7909508264133940557');" style=""> 274         Prefs prefs = getPrefs();                                                                        </span>
<span class="6099627150369302694" onmouseenter="enter('6099627150369302694');" onmouseout="out('6099627150369302694');" style=""> 275         switch (action) {                                                                                </span>
<span class="-2272247934204130657" onmouseenter="enter('-2272247934204130657');" onmouseout="out('-2272247934204130657');" style=""> 276             case ACTION_START:                                                                           </span>
<span class="-6183578153083367222" onmouseenter="enter('-6183578153083367222');" onmouseout="out('-6183578153083367222');" style=""> 277                 start();                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 278                 break;                                                                                   </span>
<span class="8461838725469303405" onmouseenter="enter('8461838725469303405');" onmouseout="out('8461838725469303405');" style=""> 279             case ACTION_CONNECT:                                                                         </span>
<span class="-897658161409962678" onmouseenter="enter('-897658161409962678');" onmouseout="out('-897658161409962678');" style=""> 280                 start(); // ensure started                                                               </span>
<span class="-1505296384620921106" onmouseenter="enter('-1505296384620921106');" onmouseout="out('-1505296384620921106');" style=""> 281                 GBDevice gbDevice = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                    </span>
<span class="-5722809612075478674" onmouseenter="enter('-5722809612075478674');" onmouseout="out('-5722809612075478674');" style=""> 282                 String btDeviceAddress = null;                                                           </span>
<span class="-2736305943333857977" onmouseenter="enter('-2736305943333857977');" onmouseout="out('-2736305943333857977');" style=""> 283                 if (gbDevice == null) {                                                                  </span>
<span class="6187858071980224944" onmouseenter="enter('6187858071980224944');" onmouseout="out('6187858071980224944');" style=""> 284                     if (prefs != null) { // may be null in test cases                                    </span>
<span class="2264609510245934073" onmouseenter="enter('2264609510245934073');" onmouseout="out('2264609510245934073');" style=""> 285                         btDeviceAddress = prefs.getString(&quot;last_device_address&quot;, null);                  </span>
<span class="-1328118737775276827" onmouseenter="enter('-1328118737775276827');" onmouseout="out('-1328118737775276827');" style=""> 286                         if (btDeviceAddress != null) {                                                   </span>
<span class="-8056388044949715653" onmouseenter="enter('-8056388044949715653');" onmouseout="out('-8056388044949715653');" style=""><abbr title=" 287                             gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, this);"> 287                             gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, th🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289                     }                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 290                 } else {                                                                                 </span>
<span class="1063784168399888092" onmouseenter="enter('1063784168399888092');" onmouseout="out('1063784168399888092');" style=""> 291                     btDeviceAddress = gbDevice.getAddress();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292                 }                                                                                        </span>
<span  style=""> 293                                                                                                          </span>
<span class="8517927575135190002" onmouseenter="enter('8517927575135190002');" onmouseout="out('8517927575135190002');" style=""> 294                 boolean autoReconnect = GBPrefs.AUTO_RECONNECT_DEFAULT;                                  </span>
<span class="-3146372184855635097" onmouseenter="enter('-3146372184855635097');" onmouseout="out('-3146372184855635097');" style=""> 295                 if (prefs != null &amp;&amp; prefs.getPreferences() != null) {                                   </span>
<span class="-5009961935760343048" onmouseenter="enter('-5009961935760343048');" onmouseout="out('-5009961935760343048');" style=""><abbr title=" 296                     prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply();"> 296                     prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply🔵</abbr></span>
<span class="1485130976607349673" onmouseenter="enter('1485130976607349673');" onmouseout="out('1485130976607349673');" style=""> 297                     autoReconnect = getGBPrefs().getAutoReconnect();                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298                 }                                                                                        </span>
<span  style=""> 299                                                                                                          </span>
<span class="7748119344381831409" onmouseenter="enter('7748119344381831409');" onmouseout="out('7748119344381831409');" style=""> 300                 if (gbDevice != null &amp;&amp; !isConnecting() &amp;&amp; !isConnected()) {                             </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 301                     setDeviceSupport(null);                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 302                     try {                                                                                </span>
<span class="6368812257942052163" onmouseenter="enter('6368812257942052163');" onmouseout="out('6368812257942052163');" style=""> 303                         DeviceSupport deviceSupport = mFactory.createDeviceSupport(gbDevice);            </span>
<span class="2672581873473401176" onmouseenter="enter('2672581873473401176');" onmouseout="out('2672581873473401176');" style=""> 304                         if (deviceSupport != null) {                                                     </span>
<span class="5073675520708761827" onmouseenter="enter('5073675520708761827');" onmouseout="out('5073675520708761827');" style=""> 305                             setDeviceSupport(deviceSupport);                                             </span>
<span class="-8996767192548104897" onmouseenter="enter('-8996767192548104897');" onmouseout="out('-8996767192548104897');" style=""> 306                             if (firstTime) {                                                             </span>
<span class="1278919844889630077" onmouseenter="enter('1278919844889630077');" onmouseout="out('1278919844889630077');" style=""> 307                                 deviceSupport.connectFirstTime();                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 308                             } else {                                                                     </span>
<span class="-3957948055115279311" onmouseenter="enter('-3957948055115279311');" onmouseout="out('-3957948055115279311');" style=""> 309                                 deviceSupport.setAutoReconnect(autoReconnect);                           </span>
<span class="-1283285352904053142" onmouseenter="enter('-1283285352904053142');" onmouseout="out('-1283285352904053142');" style=""> 310                                 deviceSupport.connect();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311                             }                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 312                         } else {                                                                         </span>
<span class="2291338781944945288" onmouseenter="enter('2291338781944945288');" onmouseout="out('2291338781944945288');" style=""><abbr title=" 313                             GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toast.LENGTH_SHORT, GB.ERROR);"> 313                             GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device suppor🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314                         }                                                                                </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 315                     } catch (Exception e) {                                                              </span>
<span class="-489775191707791993" onmouseenter="enter('-489775191707791993');" onmouseout="out('-489775191707791993');" style=""><abbr title=" 316                         GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.ERROR, e);"> 316                         GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_S🔵</abbr></span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 317                         setDeviceSupport(null);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318                     }                                                                                    </span>
<span class="-4649134418590982211" onmouseenter="enter('-4649134418590982211');" onmouseout="out('-4649134418590982211');" style=""> 319                 } else if (mGBDevice != null) {                                                          </span>
<span class="6491337019366323782" onmouseenter="enter('6491337019366323782');" onmouseout="out('6491337019366323782');" style=""> 320                     // send an update at least                                                           </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 321                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 323                 break;                                                                                   </span>
<span class="-5365019322341306791" onmouseenter="enter('-5365019322341306791');" onmouseout="out('-5365019322341306791');" style=""> 324             case ACTION_REQUEST_DEVICEINFO:                                                              </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 325                 mGBDevice.sendDeviceUpdateIntent(this);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 326                 break;                                                                                   </span>
<span class="-669647313975801341" onmouseenter="enter('-669647313975801341');" onmouseout="out('-669647313975801341');" style=""> 327             case ACTION_NOTIFICATION: {                                                                  </span>
<span class="4249292218927487361" onmouseenter="enter('4249292218927487361');" onmouseout="out('4249292218927487361');" style=""> 328                 NotificationSpec notificationSpec = new NotificationSpec();                              </span>
<span class="7144362564334367710" onmouseenter="enter('7144362564334367710');" onmouseout="out('7144362564334367710');" style=""> 329                 notificationSpec.phoneNumber = intent.getStringExtra(EXTRA_NOTIFICATION_PHONENUMBER);    </span>
<span class="-997642605508866012" onmouseenter="enter('-997642605508866012');" onmouseout="out('-997642605508866012');" style=""> 330                 notificationSpec.sender = intent.getStringExtra(EXTRA_NOTIFICATION_SENDER);              </span>
<span class="2782521715291117457" onmouseenter="enter('2782521715291117457');" onmouseout="out('2782521715291117457');" style=""> 331                 notificationSpec.subject = intent.getStringExtra(EXTRA_NOTIFICATION_SUBJECT);            </span>
<span class="7851353269868360095" onmouseenter="enter('7851353269868360095');" onmouseout="out('7851353269868360095');" style=""> 332                 notificationSpec.title = intent.getStringExtra(EXTRA_NOTIFICATION_TITLE);                </span>
<span class="-5627490756759928844" onmouseenter="enter('-5627490756759928844');" onmouseout="out('-5627490756759928844');" style=""> 333                 notificationSpec.body = intent.getStringExtra(EXTRA_NOTIFICATION_BODY);                  </span>
<span class="3144450796969351021" onmouseenter="enter('3144450796969351021');" onmouseout="out('3144450796969351021');" style=""> 334                 notificationSpec.sourceName = intent.getStringExtra(EXTRA_NOTIFICATION_SOURCENAME);      </span>
<span class="7470189062308361999" onmouseenter="enter('7470189062308361999');" onmouseout="out('7470189062308361999');" style=""><abbr title=" 335                 notificationSpec.type = (NotificationType) intent.getSerializableExtra(EXTRA_NOTIFICATION_TYPE);"> 335                 notificationSpec.type = (NotificationType) intent.getSerializableExtra(EXTRA_NOTIFICATION🔵</abbr></span>
<span class="-58552451302524684" onmouseenter="enter('-58552451302524684');" onmouseout="out('-58552451302524684');" style=""> 336                 notificationSpec.id = intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1);                     </span>
<span class="-6392144337868342404" onmouseenter="enter('-6392144337868342404');" onmouseout="out('-6392144337868342404');" style=""> 337                 notificationSpec.flags = intent.getIntExtra(EXTRA_NOTIFICATION_FLAGS, 0);                </span>
<span  style=""> 338                                                                                                          </span>
<span class="1699695344783775350" onmouseenter="enter('1699695344783775350');" onmouseout="out('1699695344783775350');" style=""><abbr title=" 339                 if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null) {"> 339                 if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber🔵</abbr></span>
<span class="9213865588273159403" onmouseenter="enter('9213865588273159403');" onmouseout="out('9213865588273159403');" style=""> 340                     notificationSpec.id = mRandom.nextInt(); // FIXME: add this in external SMS Receiver?</span>
<span class="357480976485572162" onmouseenter="enter('357480976485572162');" onmouseout="out('357480976485572162');" style=""><abbr title=" 341                     GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumber);"> 341                     GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumb🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342                 }                                                                                        </span>
<span  style=""> 343                                                                                                          </span>
<span class="36818056765170551" onmouseenter="enter('36818056765170551');" onmouseout="out('36818056765170551');" style=""> 344                 if (((notificationSpec.flags &amp; NotificationSpec.FLAG_WEARABLE_REPLY) &gt; 0)                </span>
<span class="-9037751700681198618" onmouseenter="enter('-9037751700681198618');" onmouseout="out('-9037751700681198618');" style=""><abbr title=" 345                         || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null)) {"> 345                         || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.pho🔵</abbr></span>
<span class="8596546566066758446" onmouseenter="enter('8596546566066758446');" onmouseout="out('8596546566066758446');" style=""> 346                     // NOTE: maybe not where it belongs                                                  </span>
<span class="-8155090018337980148" onmouseenter="enter('-8155090018337980148');" onmouseout="out('-8155090018337980148');" style=""> 347                     if (prefs.getBoolean(&quot;pebble_force_untested&quot;, false)) {                              </span>
<span class="-4898671785167586333" onmouseenter="enter('-4898671785167586333');" onmouseout="out('-4898671785167586333');" style=""> 348                         // I would rather like to save that as an array in ShadredPreferences            </span>
<span class="-1004001968510841144" onmouseenter="enter('-1004001968510841144');" onmouseout="out('-1004001968510841144');" style=""><abbr title=" 349                         // this would work but I dont know how to do the same in the Settings Activity&#x27;s xml"> 349                         // this would work but I dont know how to do the same in the Settings Activity&#x27;s 🔵</abbr></span>
<span class="918410975004553070" onmouseenter="enter('918410975004553070');" onmouseout="out('918410975004553070');" style=""> 350                         ArrayList&lt;String&gt; replies = new ArrayList&lt;&gt;();                                   </span>
<span class="-6180174879918590622" onmouseenter="enter('-6180174879918590622');" onmouseout="out('-6180174879918590622');" style=""> 351                         for (int i = 1; i &lt;= 16; i++) {                                                  </span>
<span class="7210319232684079981" onmouseenter="enter('7210319232684079981');" onmouseout="out('7210319232684079981');" style=""> 352                             String reply = prefs.getString(&quot;canned_reply_&quot; + i, null);                   </span>
<span class="2204296925215727723" onmouseenter="enter('2204296925215727723');" onmouseout="out('2204296925215727723');" style=""> 353                             if (reply != null &amp;&amp; !reply.equals(&quot;&quot;)) {                                    </span>
<span class="2547584645107762867" onmouseenter="enter('2547584645107762867');" onmouseout="out('2547584645107762867');" style=""> 354                                 replies.add(reply);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356                         }                                                                                </span>
<span class="8609386218730694936" onmouseenter="enter('8609386218730694936');" onmouseout="out('8609386218730694936');" style=""> 357                         notificationSpec.cannedReplies = replies.toArray(new String[replies.size()]);    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359                 }                                                                                        </span>
<span  style=""> 360                                                                                                          </span>
<span class="7448145684850127146" onmouseenter="enter('7448145684850127146');" onmouseout="out('7448145684850127146');" style=""> 361                 mDeviceSupport.onNotification(notificationSpec);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 362                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363             }                                                                                            </span>
<span class="-7276567859695438377" onmouseenter="enter('-7276567859695438377');" onmouseout="out('-7276567859695438377');" style=""> 364             case ACTION_DELETE_NOTIFICATION: {                                                           </span>
<span class="3349508781851483145" onmouseenter="enter('3349508781851483145');" onmouseout="out('3349508781851483145');" style=""> 365                 mDeviceSupport.onDeleteNotification(intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1));      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 366                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367             }                                                                                            </span>
<span class="1760685944887838202" onmouseenter="enter('1760685944887838202');" onmouseout="out('1760685944887838202');" style=""> 368             case ACTION_ADD_CALENDAREVENT: {                                                             </span>
<span class="6383078814938909727" onmouseenter="enter('6383078814938909727');" onmouseout="out('6383078814938909727');" style=""> 369                 CalendarEventSpec calendarEventSpec = new CalendarEventSpec();                           </span>
<span class="-4519615915191010270" onmouseenter="enter('-4519615915191010270');" onmouseout="out('-4519615915191010270');" style=""> 370                 calendarEventSpec.id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                  </span>
<span class="-2345264210845712924" onmouseenter="enter('-2345264210845712924');" onmouseout="out('-2345264210845712924');" style=""> 371                 calendarEventSpec.type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);       </span>
<span class="-9183502731005168979" onmouseenter="enter('-9183502731005168979');" onmouseout="out('-9183502731005168979');" style=""> 372                 calendarEventSpec.timestamp = intent.getIntExtra(EXTRA_CALENDAREVENT_TIMESTAMP, -1);     </span>
<span class="6827154764120234041" onmouseenter="enter('6827154764120234041');" onmouseout="out('6827154764120234041');" style=""><abbr title=" 373                 calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1);"> 373                 calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1🔵</abbr></span>
<span class="-5920957138116470593" onmouseenter="enter('-5920957138116470593');" onmouseout="out('-5920957138116470593');" style=""> 374                 calendarEventSpec.title = intent.getStringExtra(EXTRA_CALENDAREVENT_TITLE);              </span>
<span class="7493274608343847488" onmouseenter="enter('7493274608343847488');" onmouseout="out('7493274608343847488');" style=""> 375                 calendarEventSpec.description = intent.getStringExtra(EXTRA_CALENDAREVENT_DESCRIPTION);  </span>
<span class="-8286380370980489077" onmouseenter="enter('-8286380370980489077');" onmouseout="out('-8286380370980489077');" style=""> 376                 mDeviceSupport.onAddCalendarEvent(calendarEventSpec);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 377                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378             }                                                                                            </span>
<span class="-2849294229393544321" onmouseenter="enter('-2849294229393544321');" onmouseout="out('-2849294229393544321');" style=""> 379             case ACTION_DELETE_CALENDAREVENT: {                                                          </span>
<span class="-9034439215446076929" onmouseenter="enter('-9034439215446076929');" onmouseout="out('-9034439215446076929');" style=""> 380                 long id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                               </span>
<span class="-8351437473191742259" onmouseenter="enter('-8351437473191742259');" onmouseout="out('-8351437473191742259');" style=""> 381                 byte type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);                    </span>
<span class="5947039676491996864" onmouseenter="enter('5947039676491996864');" onmouseout="out('5947039676491996864');" style=""> 382                 mDeviceSupport.onDeleteCalendarEvent(type, id);                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 383                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384             }                                                                                            </span>
<span class="9105285711746642441" onmouseenter="enter('9105285711746642441');" onmouseout="out('9105285711746642441');" style=""> 385             case ACTION_REBOOT: {                                                                        </span>
<span class="-2489942875075524997" onmouseenter="enter('-2489942875075524997');" onmouseout="out('-2489942875075524997');" style=""> 386                 mDeviceSupport.onReboot();                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 387                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388             }                                                                                            </span>
<span class="3049987025029541358" onmouseenter="enter('3049987025029541358');" onmouseout="out('3049987025029541358');" style=""> 389             case ACTION_HEARTRATE_TEST: {                                                                </span>
<span class="3468770722488184362" onmouseenter="enter('3468770722488184362');" onmouseout="out('3468770722488184362');" style=""> 390                 mDeviceSupport.onHeartRateTest();                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 391                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392             }                                                                                            </span>
<span class="-7880612672736084614" onmouseenter="enter('-7880612672736084614');" onmouseout="out('-7880612672736084614');" style=""> 393             case ACTION_FETCH_ACTIVITY_DATA: {                                                           </span>
<span class="-7202401441632084828" onmouseenter="enter('-7202401441632084828');" onmouseout="out('-7202401441632084828');" style=""> 394                 mDeviceSupport.onFetchActivityData();                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 395                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396             }                                                                                            </span>
<span class="-7917063918700759521" onmouseenter="enter('-7917063918700759521');" onmouseout="out('-7917063918700759521');" style=""> 397             case ACTION_DISCONNECT: {                                                                    </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 398                 mDeviceSupport.dispose();                                                                </span>
<span class="-2587763374871347228" onmouseenter="enter('-2587763374871347228');" onmouseout="out('-2587763374871347228');" style=""> 399                 if (mGBDevice != null &amp;&amp; mGBDevice.getState() == GBDevice.State.WAITING_FOR_RECONNECT) { </span>
<span class="3259686421128901509" onmouseenter="enter('3259686421128901509');" onmouseout="out('3259686421128901509');" style=""> 400                     setReceiversEnableState(false, false);                                               </span>
<span class="-5956740551059426027" onmouseenter="enter('-5956740551059426027');" onmouseout="out('-5956740551059426027');" style=""> 401                     mGBDevice.setState(GBDevice.State.NOT_CONNECTED);                                    </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 402                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403                 }                                                                                        </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 404                 mDeviceSupport = null;                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 405                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406             }                                                                                            </span>
<span class="-6251790900569841166" onmouseenter="enter('-6251790900569841166');" onmouseout="out('-6251790900569841166');" style=""> 407             case ACTION_FIND_DEVICE: {                                                                   </span>
<span class="-5849712664725919544" onmouseenter="enter('-5849712664725919544');" onmouseout="out('-5849712664725919544');" style=""> 408                 boolean start = intent.getBooleanExtra(EXTRA_FIND_START, false);                         </span>
<span class="4985279237906318984" onmouseenter="enter('4985279237906318984');" onmouseout="out('4985279237906318984');" style=""> 409                 mDeviceSupport.onFindDevice(start);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 410                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411             }                                                                                            </span>
<span class="208875508921563359" onmouseenter="enter('208875508921563359');" onmouseout="out('208875508921563359');" style=""> 412             case ACTION_SET_CONSTANT_VIBRATION: {                                                        </span>
<span class="5660371215983762654" onmouseenter="enter('5660371215983762654');" onmouseout="out('5660371215983762654');" style=""> 413                 int intensity = intent.getIntExtra(EXTRA_VIBRATION_INTENSITY, 0);                        </span>
<span class="-771567554143857067" onmouseenter="enter('-771567554143857067');" onmouseout="out('-771567554143857067');" style=""> 414                 mDeviceSupport.onSetConstantVibration(intensity);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 415                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416             }                                                                                            </span>
<span class="-3190843120553329632" onmouseenter="enter('-3190843120553329632');" onmouseout="out('-3190843120553329632');" style=""> 417             case ACTION_CALLSTATE:                                                                       </span>
<span class="3795479724098101655" onmouseenter="enter('3795479724098101655');" onmouseout="out('3795479724098101655');" style=""> 418                 CallSpec callSpec = new CallSpec();                                                      </span>
<span class="8093432130661732567" onmouseenter="enter('8093432130661732567');" onmouseout="out('8093432130661732567');" style=""> 419                 callSpec.command = intent.getIntExtra(EXTRA_CALL_COMMAND, CallSpec.CALL_UNDEFINED);      </span>
<span class="3428246913955323928" onmouseenter="enter('3428246913955323928');" onmouseout="out('3428246913955323928');" style=""> 420                 callSpec.number = intent.getStringExtra(EXTRA_CALL_PHONENUMBER);                         </span>
<span class="6859375461089721800" onmouseenter="enter('6859375461089721800');" onmouseout="out('6859375461089721800');" style=""> 421                 callSpec.name = intent.getStringExtra(EXTRA_CALL_DISPLAYNAME);                           </span>
<span class="5317988739476287691" onmouseenter="enter('5317988739476287691');" onmouseout="out('5317988739476287691');" style=""> 422                 mDeviceSupport.onSetCallState(callSpec);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 423                 break;                                                                                   </span>
<span class="5443690489758293879" onmouseenter="enter('5443690489758293879');" onmouseout="out('5443690489758293879');" style=""> 424             case ACTION_SETCANNEDMESSAGES:                                                               </span>
<span class="8874546108453183107" onmouseenter="enter('8874546108453183107');" onmouseout="out('8874546108453183107');" style=""> 425                 int type = intent.getIntExtra(EXTRA_CANNEDMESSAGES_TYPE, -1);                            </span>
<span class="-5661264507044040071" onmouseenter="enter('-5661264507044040071');" onmouseout="out('-5661264507044040071');" style=""> 426                 String[] cannedMessages = intent.getStringArrayExtra(EXTRA_CANNEDMESSAGES);              </span>
<span  style=""> 427                                                                                                          </span>
<span class="-8222861505291584468" onmouseenter="enter('-8222861505291584468');" onmouseout="out('-8222861505291584468');" style=""> 428                 CannedMessagesSpec cannedMessagesSpec = new CannedMessagesSpec();                        </span>
<span class="7310566106726436146" onmouseenter="enter('7310566106726436146');" onmouseout="out('7310566106726436146');" style=""> 429                 cannedMessagesSpec.type = type;                                                          </span>
<span class="5869684482704551906" onmouseenter="enter('5869684482704551906');" onmouseout="out('5869684482704551906');" style=""> 430                 cannedMessagesSpec.cannedMessages = cannedMessages;                                      </span>
<span class="-8600105550735814062" onmouseenter="enter('-8600105550735814062');" onmouseout="out('-8600105550735814062');" style=""> 431                 mDeviceSupport.onSetCannedMessages(cannedMessagesSpec);                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 432                 break;                                                                                   </span>
<span class="-3864526120734058732" onmouseenter="enter('-3864526120734058732');" onmouseout="out('-3864526120734058732');" style=""> 433             case ACTION_SETTIME:                                                                         </span>
<span class="-9119989964627970186" onmouseenter="enter('-9119989964627970186');" onmouseout="out('-9119989964627970186');" style=""> 434                 mDeviceSupport.onSetTime();                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 435                 break;                                                                                   </span>
<span class="2757090863993875249" onmouseenter="enter('2757090863993875249');" onmouseout="out('2757090863993875249');" style=""> 436             case ACTION_SETMUSICINFO:                                                                    </span>
<span class="-4606570715029334060" onmouseenter="enter('-4606570715029334060');" onmouseout="out('-4606570715029334060');" style=""> 437                 MusicSpec musicSpec = new MusicSpec();                                                   </span>
<span class="8291741641430545280" onmouseenter="enter('8291741641430545280');" onmouseout="out('8291741641430545280');" style=""> 438                 musicSpec.artist = intent.getStringExtra(EXTRA_MUSIC_ARTIST);                            </span>
<span class="-4864341328172403198" onmouseenter="enter('-4864341328172403198');" onmouseout="out('-4864341328172403198');" style=""> 439                 musicSpec.album = intent.getStringExtra(EXTRA_MUSIC_ALBUM);                              </span>
<span class="-6416639298697884565" onmouseenter="enter('-6416639298697884565');" onmouseout="out('-6416639298697884565');" style=""> 440                 musicSpec.track = intent.getStringExtra(EXTRA_MUSIC_TRACK);                              </span>
<span class="9057431340460323538" onmouseenter="enter('9057431340460323538');" onmouseout="out('9057431340460323538');" style=""> 441                 musicSpec.duration = intent.getIntExtra(EXTRA_MUSIC_DURATION, 0);                        </span>
<span class="-1013666482472897661" onmouseenter="enter('-1013666482472897661');" onmouseout="out('-1013666482472897661');" style=""> 442                 musicSpec.trackCount = intent.getIntExtra(EXTRA_MUSIC_TRACKCOUNT, 0);                    </span>
<span class="4288030402620969458" onmouseenter="enter('4288030402620969458');" onmouseout="out('4288030402620969458');" style=""> 443                 musicSpec.trackNr = intent.getIntExtra(EXTRA_MUSIC_TRACKNR, 0);                          </span>
<span class="-3425911873947758918" onmouseenter="enter('-3425911873947758918');" onmouseout="out('-3425911873947758918');" style=""> 444                 mDeviceSupport.onSetMusicInfo(musicSpec);                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 445                 break;                                                                                   </span>
<span class="6227456550171188321" onmouseenter="enter('6227456550171188321');" onmouseout="out('6227456550171188321');" style=""> 446             case ACTION_SETMUSICSTATE:                                                                   </span>
<span class="6191411421956413825" onmouseenter="enter('6191411421956413825');" onmouseout="out('6191411421956413825');" style=""> 447                 MusicStateSpec stateSpec = new MusicStateSpec();                                         </span>
<span class="-3548046406971923378" onmouseenter="enter('-3548046406971923378');" onmouseout="out('-3548046406971923378');" style=""> 448                 stateSpec.shuffle = intent.getByteExtra(EXTRA_MUSIC_SHUFFLE, (byte) 0);                  </span>
<span class="1495564971696348267" onmouseenter="enter('1495564971696348267');" onmouseout="out('1495564971696348267');" style=""> 449                 stateSpec.repeat = intent.getByteExtra(EXTRA_MUSIC_REPEAT, (byte) 0);                    </span>
<span class="-7121631563152240946" onmouseenter="enter('-7121631563152240946');" onmouseout="out('-7121631563152240946');" style=""> 450                 stateSpec.position = intent.getIntExtra(EXTRA_MUSIC_POSITION, 0);                        </span>
<span class="5871328423745521968" onmouseenter="enter('5871328423745521968');" onmouseout="out('5871328423745521968');" style=""> 451                 stateSpec.playRate = intent.getIntExtra(EXTRA_MUSIC_RATE, 0);                            </span>
<span class="892053738216152834" onmouseenter="enter('892053738216152834');" onmouseout="out('892053738216152834');" style=""> 452                 stateSpec.state = intent.getByteExtra(EXTRA_MUSIC_STATE, (byte) 0);                      </span>
<span class="4060952888262640879" onmouseenter="enter('4060952888262640879');" onmouseout="out('4060952888262640879');" style=""> 453                 mDeviceSupport.onSetMusicState(stateSpec);                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 454                 break;                                                                                   </span>
<span class="-3068551254659955031" onmouseenter="enter('-3068551254659955031');" onmouseout="out('-3068551254659955031');" style=""> 455             case ACTION_REQUEST_APPINFO:                                                                 </span>
<span class="-5176444858929114297" onmouseenter="enter('-5176444858929114297');" onmouseout="out('-5176444858929114297');" style=""> 456                 mDeviceSupport.onAppInfoReq();                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 457                 break;                                                                                   </span>
<span class="-6917586413512936950" onmouseenter="enter('-6917586413512936950');" onmouseout="out('-6917586413512936950');" style=""> 458             case ACTION_REQUEST_SCREENSHOT:                                                              </span>
<span class="-5841518626542394716" onmouseenter="enter('-5841518626542394716');" onmouseout="out('-5841518626542394716');" style=""> 459                 mDeviceSupport.onScreenshotReq();                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 460                 break;                                                                                   </span>
<span class="-2494840420747050392" onmouseenter="enter('-2494840420747050392');" onmouseout="out('-2494840420747050392');" style=""> 461             case ACTION_STARTAPP: {                                                                      </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 462                 UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                          </span>
<span class="-4793752934936499642" onmouseenter="enter('-4793752934936499642');" onmouseout="out('-4793752934936499642');" style=""> 463                 boolean start = intent.getBooleanExtra(EXTRA_APP_START, true);                           </span>
<span class="2197724895752145818" onmouseenter="enter('2197724895752145818');" onmouseout="out('2197724895752145818');" style=""> 464                 mDeviceSupport.onAppStart(uuid, start);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 465                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466             }                                                                                            </span>
<span class="2166934150734837396" onmouseenter="enter('2166934150734837396');" onmouseout="out('2166934150734837396');" style=""> 467             case ACTION_DELETEAPP: {                                                                     </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 468                 UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                          </span>
<span class="-5075261056503503060" onmouseenter="enter('-5075261056503503060');" onmouseout="out('-5075261056503503060');" style=""> 469                 mDeviceSupport.onAppDelete(uuid);                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 470                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471             }                                                                                            </span>
<span class="1869663144095085846" onmouseenter="enter('1869663144095085846');" onmouseout="out('1869663144095085846');" style=""> 472             case ACTION_APP_CONFIGURE: {                                                                 </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 473                 UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                          </span>
<span class="6629096593005137404" onmouseenter="enter('6629096593005137404');" onmouseout="out('6629096593005137404');" style=""> 474                 String config = intent.getStringExtra(EXTRA_APP_CONFIG);                                 </span>
<span class="5940750753812597164" onmouseenter="enter('5940750753812597164');" onmouseout="out('5940750753812597164');" style=""> 475                 mDeviceSupport.onAppConfiguration(uuid, config);                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 476                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 477             }                                                                                            </span>
<span class="-8571912313743444470" onmouseenter="enter('-8571912313743444470');" onmouseout="out('-8571912313743444470');" style=""> 478             case ACTION_APP_REORDER: {                                                                   </span>
<span class="7398892328027689606" onmouseenter="enter('7398892328027689606');" onmouseout="out('7398892328027689606');" style=""> 479                 UUID[] uuids = (UUID[]) intent.getSerializableExtra(EXTRA_APP_UUID);                     </span>
<span class="75775485121754100" onmouseenter="enter('75775485121754100');" onmouseout="out('75775485121754100');" style=""> 480                 mDeviceSupport.onAppReorder(uuids);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 481                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482             }                                                                                            </span>
<span class="4718100971274262923" onmouseenter="enter('4718100971274262923');" onmouseout="out('4718100971274262923');" style=""> 483             case ACTION_INSTALL:                                                                         </span>
<span class="-597901030201298456" onmouseenter="enter('-597901030201298456');" onmouseout="out('-597901030201298456');" style=""> 484                 Uri uri = intent.getParcelableExtra(EXTRA_URI);                                          </span>
<span class="-6789028041247471756" onmouseenter="enter('-6789028041247471756');" onmouseout="out('-6789028041247471756');" style=""> 485                 if (uri != null) {                                                                       </span>
<span class="-1329231793440882084" onmouseenter="enter('-1329231793440882084');" onmouseout="out('-1329231793440882084');" style=""> 486                     LOG.info(&quot;will try to install app/fw&quot;);                                              </span>
<span class="-6419480600197101122" onmouseenter="enter('-6419480600197101122');" onmouseout="out('-6419480600197101122');" style=""> 487                     mDeviceSupport.onInstallApp(uri);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 489                 break;                                                                                   </span>
<span class="-2301470348007137474" onmouseenter="enter('-2301470348007137474');" onmouseout="out('-2301470348007137474');" style=""> 490             case ACTION_SET_ALARMS:                                                                      </span>
<span class="-6223145105408550614" onmouseenter="enter('-6223145105408550614');" onmouseout="out('-6223145105408550614');" style=""> 491                 ArrayList&lt;Alarm&gt; alarms = intent.getParcelableArrayListExtra(EXTRA_ALARMS);              </span>
<span class="4545530897725553048" onmouseenter="enter('4545530897725553048');" onmouseout="out('4545530897725553048');" style=""> 492                 mDeviceSupport.onSetAlarms(alarms);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 493                 break;                                                                                   </span>
<span class="-8160274285897355527" onmouseenter="enter('-8160274285897355527');" onmouseout="out('-8160274285897355527');" style=""> 494             case ACTION_ENABLE_REALTIME_STEPS: {                                                         </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 495                 boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                    </span>
<span class="6892686300243280236" onmouseenter="enter('6892686300243280236');" onmouseout="out('6892686300243280236');" style=""> 496                 mDeviceSupport.onEnableRealtimeSteps(enable);                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 497                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 498             }                                                                                            </span>
<span class="-1417941812298608730" onmouseenter="enter('-1417941812298608730');" onmouseout="out('-1417941812298608730');" style=""> 499             case ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT: {                                                </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 500                 boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                    </span>
<span class="-1094130383852091406" onmouseenter="enter('-1094130383852091406');" onmouseout="out('-1094130383852091406');" style=""> 501                 mDeviceSupport.onEnableHeartRateSleepSupport(enable);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 502                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503             }                                                                                            </span>
<span class="2612023236818345021" onmouseenter="enter('2612023236818345021');" onmouseout="out('2612023236818345021');" style=""> 504             case ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT: {                                         </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 505                 boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                    </span>
<span class="-1932636993187682108" onmouseenter="enter('-1932636993187682108');" onmouseout="out('-1932636993187682108');" style=""> 506                 mDeviceSupport.onEnableRealtimeHeartRateMeasurement(enable);                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 507                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508             }                                                                                            </span>
<span class="-3723742220763435323" onmouseenter="enter('-3723742220763435323');" onmouseout="out('-3723742220763435323');" style=""> 509             case ACTION_SEND_CONFIGURATION: {                                                            </span>
<span class="-1876564357946593499" onmouseenter="enter('-1876564357946593499');" onmouseout="out('-1876564357946593499');" style=""> 510                 String config = intent.getStringExtra(EXTRA_CONFIG);                                     </span>
<span class="7508326450574330866" onmouseenter="enter('7508326450574330866');" onmouseout="out('7508326450574330866');" style=""> 511                 mDeviceSupport.onSendConfiguration(config);                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 512                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513             }                                                                                            </span>
<span class="6032767073616680026" onmouseenter="enter('6032767073616680026');" onmouseout="out('6032767073616680026');" style=""> 514             case ACTION_TEST_NEW_FUNCTION: {                                                             </span>
<span class="-1399702412817247830" onmouseenter="enter('-1399702412817247830');" onmouseout="out('-1399702412817247830');" style=""> 515                 mDeviceSupport.onTestNewFunction();                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 516                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517             }                                                                                            </span>
<span class="4042257170241917013" onmouseenter="enter('4042257170241917013');" onmouseout="out('4042257170241917013');" style=""> 518             case ACTION_SEND_WEATHER: {                                                                  </span>
<span class="-7783159601671948934" onmouseenter="enter('-7783159601671948934');" onmouseout="out('-7783159601671948934');" style=""> 519                 WeatherSpec weatherSpec = new WeatherSpec();                                             </span>
<span class="9156523207902282301" onmouseenter="enter('9156523207902282301');" onmouseout="out('9156523207902282301');" style=""> 520                 weatherSpec.timestamp = intent.getIntExtra(EXTRA_WEATHER_TIMESTAMP, 0);                  </span>
<span class="1927396717706702303" onmouseenter="enter('1927396717706702303');" onmouseout="out('1927396717706702303');" style=""> 521                 weatherSpec.location = intent.getStringExtra(EXTRA_WEATHER_LOCATION);                    </span>
<span class="-6257828557925685883" onmouseenter="enter('-6257828557925685883');" onmouseout="out('-6257828557925685883');" style=""> 522                 weatherSpec.currentTemp = intent.getIntExtra(EXTRA_WEATHER_CURRENTTEMP, 0);              </span>
<span class="-8942134869809621954" onmouseenter="enter('-8942134869809621954');" onmouseout="out('-8942134869809621954');" style=""><abbr title=" 523                 weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE, 0);"> 523                 weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE,🔵</abbr></span>
<span class="-7768587738342623330" onmouseenter="enter('-7768587738342623330');" onmouseout="out('-7768587738342623330');" style=""> 524                 weatherSpec.currentCondition = intent.getStringExtra(EXTRA_WEATHER_CURRENTCONDITION);    </span>
<span class="-4167858899002844683" onmouseenter="enter('-4167858899002844683');" onmouseout="out('-4167858899002844683');" style=""> 525                 weatherSpec.todayMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMAXTEMP, 0);            </span>
<span class="-7282217397460764709" onmouseenter="enter('-7282217397460764709');" onmouseout="out('-7282217397460764709');" style=""> 526                 weatherSpec.todayMinTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMINTEMP, 0);            </span>
<span class="7956003095875127587" onmouseenter="enter('7956003095875127587');" onmouseout="out('7956003095875127587');" style=""> 527                 weatherSpec.tomorrowMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMAXTEMP, 0);      </span>
<span class="-8851638748949702207" onmouseenter="enter('-8851638748949702207');" onmouseout="out('-8851638748949702207');" style=""> 528                 weatherSpec.tomorrowMinTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMINTEMP, 0);      </span>
<span class="2201545607462035674" onmouseenter="enter('2201545607462035674');" onmouseout="out('2201545607462035674');" style=""><abbr title=" 529                 weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCODE, 0);"> 529                 weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCOD🔵</abbr></span>
<span class="-1267592612850228198" onmouseenter="enter('-1267592612850228198');" onmouseout="out('-1267592612850228198');" style=""> 530                 mDeviceSupport.onSendWeather(weatherSpec);                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 531                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 532             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 533         }                                                                                                </span>
<span  style=""> 534                                                                                                          </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 535         return START_STICKY;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 536     }                                                                                                    </span>
<span  style=""> 537                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 538     /**                                                                                                  </span>
<span class="4580399485680216365" onmouseenter="enter('4580399485680216365');" onmouseout="out('4580399485680216365');" style=""> 539      * Disposes the current DeviceSupport instance (if any) and sets a new device support instance       </span>
<span class="2634630049779853740" onmouseenter="enter('2634630049779853740');" onmouseout="out('2634630049779853740');" style=""> 540      * (if not null).                                                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 541      *                                                                                                   </span>
<span class="4293773011710976518" onmouseenter="enter('4293773011710976518');" onmouseout="out('4293773011710976518');" style=""> 542      * @param deviceSupport                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 543      */                                                                                                  </span>
<span class="-6264528256345703641" onmouseenter="enter('-6264528256345703641');" onmouseout="out('-6264528256345703641');" style=""> 544     private void setDeviceSupport(@Nullable DeviceSupport deviceSupport) {                               </span>
<span class="9012932578751895101" onmouseenter="enter('9012932578751895101');" onmouseout="out('9012932578751895101');" style=""> 545         if (deviceSupport != mDeviceSupport &amp;&amp; mDeviceSupport != null) {                                 </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 546             mDeviceSupport.dispose();                                                                    </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 547             mDeviceSupport = null;                                                                       </span>
<span class="4811934149983720641" onmouseenter="enter('4811934149983720641');" onmouseout="out('4811934149983720641');" style=""> 548             mGBDevice = null;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 549         }                                                                                                </span>
<span class="-8640715233311534019" onmouseenter="enter('-8640715233311534019');" onmouseout="out('-8640715233311534019');" style=""> 550         mDeviceSupport = deviceSupport;                                                                  </span>
<span class="5234576758850016889" onmouseenter="enter('5234576758850016889');" onmouseout="out('5234576758850016889');" style=""> 551         mGBDevice = mDeviceSupport != null ? mDeviceSupport.getDevice() : null;                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 552     }                                                                                                    </span>
<span  style=""> 553                                                                                                          </span>
<span class="-1685018700062064081" onmouseenter="enter('-1685018700062064081');" onmouseout="out('-1685018700062064081');" style=""> 554     private void start() {                                                                               </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 555         if (!mStarted) {                                                                                 </span>
<span class="-1522198858483761838" onmouseenter="enter('-1522198858483761838');" onmouseout="out('-1522198858483761838');" style=""><abbr title=" 556             startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), false, this));"> 556             startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_run🔵</abbr></span>
<span class="975344646757702815" onmouseenter="enter('975344646757702815');" onmouseout="out('975344646757702815');" style=""> 557             mStarted = true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 558         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559     }                                                                                                    </span>
<span  style=""> 560                                                                                                          </span>
<span class="5813756913533707772" onmouseenter="enter('5813756913533707772');" onmouseout="out('5813756913533707772');" style=""> 561     public boolean isStarted() {                                                                         </span>
<span class="-2429569693799116336" onmouseenter="enter('-2429569693799116336');" onmouseout="out('-2429569693799116336');" style=""> 562         return mStarted;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563     }                                                                                                    </span>
<span  style=""> 564                                                                                                          </span>
<span class="8882351257935254581" onmouseenter="enter('8882351257935254581');" onmouseout="out('8882351257935254581');" style=""> 565     private boolean isConnected() {                                                                      </span>
<span class="5200435358363356633" onmouseenter="enter('5200435358363356633');" onmouseout="out('5200435358363356633');" style=""> 566         return mGBDevice != null &amp;&amp; mGBDevice.isConnected();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 567     }                                                                                                    </span>
<span  style=""> 568                                                                                                          </span>
<span class="-624932271712780363" onmouseenter="enter('-624932271712780363');" onmouseout="out('-624932271712780363');" style=""> 569     private boolean isConnecting() {                                                                     </span>
<span class="-6563283548989962053" onmouseenter="enter('-6563283548989962053');" onmouseout="out('-6563283548989962053');" style=""> 570         return mGBDevice != null &amp;&amp; mGBDevice.isConnecting();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 571     }                                                                                                    </span>
<span  style=""> 572                                                                                                          </span>
<span class="-6106408407643787535" onmouseenter="enter('-6106408407643787535');" onmouseout="out('-6106408407643787535');" style=""> 573     private boolean isInitialized() {                                                                    </span>
<span class="4561275409582675350" onmouseenter="enter('4561275409582675350');" onmouseout="out('4561275409582675350');" style=""> 574         return mGBDevice != null &amp;&amp; mGBDevice.isInitialized();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 575     }                                                                                                    </span>
<span  style=""> 576                                                                                                          </span>
<span  style=""> 577                                                                                                          </span>
<span class="5402194572277524036" onmouseenter="enter('5402194572277524036');" onmouseout="out('5402194572277524036');" style=""> 578     private void setReceiversEnableState(boolean enable, boolean initialized) {                          </span>
<span class="6951530417476040470" onmouseenter="enter('6951530417476040470');" onmouseout="out('6951530417476040470');" style=""> 579         LOG.info(&quot;Setting broadcast receivers to: &quot; + enable);                                           </span>
<span  style=""> 580                                                                                                          </span>
<span class="-4932409833157877939" onmouseenter="enter('-4932409833157877939');" onmouseout="out('-4932409833157877939');" style=""> 581         if (enable &amp;&amp; initialized) {                                                                     </span>
<span class="6591780958658457767" onmouseenter="enter('6591780958658457767');" onmouseout="out('6591780958658457767');" style=""> 582             if (mCalendarReceiver == null) {                                                             </span>
<span class="1589022880921377802" onmouseenter="enter('1589022880921377802');" onmouseout="out('1589022880921377802');" style=""> 583                 IntentFilter calendarIntentFilter = new IntentFilter();                                  </span>
<span class="6130420683935393644" onmouseenter="enter('6130420683935393644');" onmouseout="out('6130420683935393644');" style=""> 584                 calendarIntentFilter.addAction(&quot;android.intent.action.PROVIDER_CHANGED&quot;);                </span>
<span class="4429816028500100541" onmouseenter="enter('4429816028500100541');" onmouseout="out('4429816028500100541');" style=""> 585                 calendarIntentFilter.addDataScheme(&quot;content&quot;);                                           </span>
<span class="2709340036463355330" onmouseenter="enter('2709340036463355330');" onmouseout="out('2709340036463355330');" style=""> 586                 calendarIntentFilter.addDataAuthority(&quot;com.android.calendar&quot;, null);                     </span>
<span class="7828433718710892920" onmouseenter="enter('7828433718710892920');" onmouseout="out('7828433718710892920');" style=""> 587                 mCalendarReceiver = new CalendarReceiver(mGBDevice);                                     </span>
<span class="891546991439734570" onmouseenter="enter('891546991439734570');" onmouseout="out('891546991439734570');" style=""> 588                 registerReceiver(mCalendarReceiver, calendarIntentFilter);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 589             }                                                                                            </span>
<span class="2156977847537906148" onmouseenter="enter('2156977847537906148');" onmouseout="out('2156977847537906148');" style=""> 590         } else if (mCalendarReceiver != null) {                                                          </span>
<span class="4715856754314043620" onmouseenter="enter('4715856754314043620');" onmouseout="out('4715856754314043620');" style=""> 591             unregisterReceiver(mCalendarReceiver);                                                       </span>
<span class="2474754653382077142" onmouseenter="enter('2474754653382077142');" onmouseout="out('2474754653382077142');" style=""> 592             mCalendarReceiver = null;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593         }                                                                                                </span>
<span  style=""> 594                                                                                                          </span>
<span class="-2074635852143506608" onmouseenter="enter('-2074635852143506608');" onmouseout="out('-2074635852143506608');" style=""> 595         if (enable) {                                                                                    </span>
<span class="-2667731398817597854" onmouseenter="enter('-2667731398817597854');" onmouseout="out('-2667731398817597854');" style=""> 596             if (mPhoneCallReceiver == null) {                                                            </span>
<span class="-1027287194590244417" onmouseenter="enter('-1027287194590244417');" onmouseout="out('-1027287194590244417');" style=""> 597                 mPhoneCallReceiver = new PhoneCallReceiver();                                            </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 598                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="-3679054454631357968" onmouseenter="enter('-3679054454631357968');" onmouseout="out('-3679054454631357968');" style=""> 599                 filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);                                   </span>
<span class="-5028677676977116040" onmouseenter="enter('-5028677676977116040');" onmouseout="out('-5028677676977116040');" style=""> 600                 filter.addAction(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;);                             </span>
<span class="-1617740261602734990" onmouseenter="enter('-1617740261602734990');" onmouseout="out('-1617740261602734990');" style=""> 601                 registerReceiver(mPhoneCallReceiver, filter);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 602             }                                                                                            </span>
<span class="-8170618993241153146" onmouseenter="enter('-8170618993241153146');" onmouseout="out('-8170618993241153146');" style=""> 603             if (mSMSReceiver == null) {                                                                  </span>
<span class="-211089161118191394" onmouseenter="enter('-211089161118191394');" onmouseout="out('-211089161118191394');" style=""> 604                 mSMSReceiver = new SMSReceiver();                                                        </span>
<span class="1212733765646185362" onmouseenter="enter('1212733765646185362');" onmouseout="out('1212733765646185362');" style=""><abbr title=" 605                 registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;));"> 605                 registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 606             }                                                                                            </span>
<span class="668102061168943903" onmouseenter="enter('668102061168943903');" onmouseout="out('668102061168943903');" style=""> 607             if (mPebbleReceiver == null) {                                                               </span>
<span class="4408213248365045403" onmouseenter="enter('4408213248365045403');" onmouseout="out('4408213248365045403');" style=""> 608                 mPebbleReceiver = new PebbleReceiver();                                                  </span>
<span class="-5803030088576376799" onmouseenter="enter('-5803030088576376799');" onmouseout="out('-5803030088576376799');" style=""><abbr title=" 609                 registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATION&quot;));"> 609                 registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATIO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 610             }                                                                                            </span>
<span class="2223215277832879461" onmouseenter="enter('2223215277832879461');" onmouseout="out('2223215277832879461');" style=""> 611             if (mMusicPlaybackReceiver == null) {                                                        </span>
<span class="5503055766703910020" onmouseenter="enter('5503055766703910020');" onmouseout="out('5503055766703910020');" style=""> 612                 mMusicPlaybackReceiver = new MusicPlaybackReceiver();                                    </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 613                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="4596137206288683088" onmouseenter="enter('4596137206288683088');" onmouseout="out('4596137206288683088');" style=""> 614                 for (String action : mMusicActions){                                                     </span>
<span class="-2086107330814500487" onmouseenter="enter('-2086107330814500487');" onmouseout="out('-2086107330814500487');" style=""> 615                     filter.addAction(action);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 616                 }                                                                                        </span>
<span class="-887466916784662429" onmouseenter="enter('-887466916784662429');" onmouseout="out('-887466916784662429');" style=""> 617                 registerReceiver(mMusicPlaybackReceiver, filter);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 618             }                                                                                            </span>
<span class="6120212045117093999" onmouseenter="enter('6120212045117093999');" onmouseout="out('6120212045117093999');" style=""> 619             if (mTimeChangeReceiver == null) {                                                           </span>
<span class="4506860540419182646" onmouseenter="enter('4506860540419182646');" onmouseout="out('4506860540419182646');" style=""> 620                 mTimeChangeReceiver = new TimeChangeReceiver();                                          </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 621                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="-1824421398114764450" onmouseenter="enter('-1824421398114764450');" onmouseout="out('-1824421398114764450');" style=""> 622                 filter.addAction(&quot;android.intent.action.TIME_SET&quot;);                                      </span>
<span class="5919360464042611212" onmouseenter="enter('5919360464042611212');" onmouseout="out('5919360464042611212');" style=""> 623                 filter.addAction(&quot;android.intent.action.TIMEZONE_CHANGED&quot;);                              </span>
<span class="4651824235385821300" onmouseenter="enter('4651824235385821300');" onmouseout="out('4651824235385821300');" style=""> 624                 registerReceiver(mTimeChangeReceiver, filter);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 625             }                                                                                            </span>
<span class="5746507932728060065" onmouseenter="enter('5746507932728060065');" onmouseout="out('5746507932728060065');" style=""> 626             if (mBlueToothConnectReceiver == null) {                                                     </span>
<span class="1523081927393266022" onmouseenter="enter('1523081927393266022');" onmouseout="out('1523081927393266022');" style=""> 627                 mBlueToothConnectReceiver = new BluetoothConnectReceiver(this);                          </span>
<span class="5906520146498159160" onmouseenter="enter('5906520146498159160');" onmouseout="out('5906520146498159160');" style=""><abbr title=" 628                 registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED));"> 628                 registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_C🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 629             }                                                                                            </span>
<span class="-3609014386106656506" onmouseenter="enter('-3609014386106656506');" onmouseout="out('-3609014386106656506');" style=""> 630             if (mBlueToothPairingRequestReceiver == null) {                                              </span>
<span class="3804805981170580002" onmouseenter="enter('3804805981170580002');" onmouseout="out('3804805981170580002');" style=""> 631                 mBlueToothPairingRequestReceiver = new BluetoothPairingRequestReceiver(this);            </span>
<span class="-2695865817198876896" onmouseenter="enter('-2695865817198876896');" onmouseout="out('-2695865817198876896');" style=""><abbr title=" 632                 registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTION_PAIRING_REQUEST));"> 632                 registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTIO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 633             }                                                                                            </span>
<span  style=""> 634                                                                                                          </span>
<span class="6324125865869253599" onmouseenter="enter('6324125865869253599');" onmouseout="out('6324125865869253599');" style=""> 635             if (mAlarmReceiver == null) {                                                                </span>
<span class="-6693619828328913529" onmouseenter="enter('-6693619828328913529');" onmouseout="out('-6693619828328913529');" style=""> 636                 mAlarmReceiver = new AlarmReceiver();                                                    </span>
<span class="6728187609005738292" onmouseenter="enter('6728187609005738292');" onmouseout="out('6728187609005738292');" style=""> 637                 registerReceiver(mAlarmReceiver, new IntentFilter(&quot;DAILY_ALARM&quot;));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638             }                                                                                            </span>
<span class="1673772763036480141" onmouseenter="enter('1673772763036480141');" onmouseout="out('1673772763036480141');" style=""> 639             if (mAlarmClockReceiver == null) {                                                           </span>
<span class="9002364993456009479" onmouseenter="enter('9002364993456009479');" onmouseout="out('9002364993456009479');" style=""> 640                 mAlarmClockReceiver = new AlarmClockReceiver();                                          </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 641                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="2829475773131805177" onmouseenter="enter('2829475773131805177');" onmouseout="out('2829475773131805177');" style=""> 642                 filter.addAction(AlarmClockReceiver.ALARM_ALERT_ACTION);                                 </span>
<span class="4454268969269107523" onmouseenter="enter('4454268969269107523');" onmouseout="out('4454268969269107523');" style=""> 643                 filter.addAction(AlarmClockReceiver.ALARM_DONE_ACTION);                                  </span>
<span class="6590560170717146411" onmouseenter="enter('6590560170717146411');" onmouseout="out('6590560170717146411');" style=""> 644                 registerReceiver(mAlarmClockReceiver, filter);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 645             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 646         } else {                                                                                         </span>
<span class="-6174360286964749747" onmouseenter="enter('-6174360286964749747');" onmouseout="out('-6174360286964749747');" style=""> 647             if (mPhoneCallReceiver != null) {                                                            </span>
<span class="2433672025347488127" onmouseenter="enter('2433672025347488127');" onmouseout="out('2433672025347488127');" style=""> 648                 unregisterReceiver(mPhoneCallReceiver);                                                  </span>
<span class="-7469783469378996049" onmouseenter="enter('-7469783469378996049');" onmouseout="out('-7469783469378996049');" style=""> 649                 mPhoneCallReceiver = null;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650             }                                                                                            </span>
<span class="2357494330012051795" onmouseenter="enter('2357494330012051795');" onmouseout="out('2357494330012051795');" style=""> 651             if (mSMSReceiver != null) {                                                                  </span>
<span class="5610361879385034456" onmouseenter="enter('5610361879385034456');" onmouseout="out('5610361879385034456');" style=""> 652                 unregisterReceiver(mSMSReceiver);                                                        </span>
<span class="-1355497021171643704" onmouseenter="enter('-1355497021171643704');" onmouseout="out('-1355497021171643704');" style=""> 653                 mSMSReceiver = null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654             }                                                                                            </span>
<span class="-3623759735741985563" onmouseenter="enter('-3623759735741985563');" onmouseout="out('-3623759735741985563');" style=""> 655             if (mPebbleReceiver != null) {                                                               </span>
<span class="927549022767172292" onmouseenter="enter('927549022767172292');" onmouseout="out('927549022767172292');" style=""> 656                 unregisterReceiver(mPebbleReceiver);                                                     </span>
<span class="7266036701373075006" onmouseenter="enter('7266036701373075006');" onmouseout="out('7266036701373075006');" style=""> 657                 mPebbleReceiver = null;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 658             }                                                                                            </span>
<span class="-2055276518887519425" onmouseenter="enter('-2055276518887519425');" onmouseout="out('-2055276518887519425');" style=""> 659             if (mMusicPlaybackReceiver != null) {                                                        </span>
<span class="890047242835092110" onmouseenter="enter('890047242835092110');" onmouseout="out('890047242835092110');" style=""> 660                 unregisterReceiver(mMusicPlaybackReceiver);                                              </span>
<span class="-1552577282161915996" onmouseenter="enter('-1552577282161915996');" onmouseout="out('-1552577282161915996');" style=""> 661                 mMusicPlaybackReceiver = null;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 662             }                                                                                            </span>
<span class="1881385603425146700" onmouseenter="enter('1881385603425146700');" onmouseout="out('1881385603425146700');" style=""> 663             if (mTimeChangeReceiver != null) {                                                           </span>
<span class="-1894985795964522981" onmouseenter="enter('-1894985795964522981');" onmouseout="out('-1894985795964522981');" style=""> 664                 unregisterReceiver(mTimeChangeReceiver);                                                 </span>
<span class="-7572241227958742128" onmouseenter="enter('-7572241227958742128');" onmouseout="out('-7572241227958742128');" style=""> 665                 mTimeChangeReceiver = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 666             }                                                                                            </span>
<span class="9095880258277986747" onmouseenter="enter('9095880258277986747');" onmouseout="out('9095880258277986747');" style=""> 667             if (mBlueToothConnectReceiver != null) {                                                     </span>
<span class="3743697862053435305" onmouseenter="enter('3743697862053435305');" onmouseout="out('3743697862053435305');" style=""> 668                 unregisterReceiver(mBlueToothConnectReceiver);                                           </span>
<span class="4585763212078609359" onmouseenter="enter('4585763212078609359');" onmouseout="out('4585763212078609359');" style=""> 669                 mBlueToothConnectReceiver = null;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 670             }                                                                                            </span>
<span  style=""> 671                                                                                                          </span>
<span class="6486147796970253365" onmouseenter="enter('6486147796970253365');" onmouseout="out('6486147796970253365');" style=""> 672             if (mBlueToothPairingRequestReceiver != null) {                                              </span>
<span class="4298983601624288046" onmouseenter="enter('4298983601624288046');" onmouseout="out('4298983601624288046');" style=""> 673                 unregisterReceiver(mBlueToothPairingRequestReceiver);                                    </span>
<span class="-7535446299407978854" onmouseenter="enter('-7535446299407978854');" onmouseout="out('-7535446299407978854');" style=""> 674                 mBlueToothPairingRequestReceiver = null;                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675             }                                                                                            </span>
<span  style=""> 676                                                                                                          </span>
<span class="6521400717686065872" onmouseenter="enter('6521400717686065872');" onmouseout="out('6521400717686065872');" style=""> 677             if (mAlarmReceiver != null) {                                                                </span>
<span class="-1015355596942575674" onmouseenter="enter('-1015355596942575674');" onmouseout="out('-1015355596942575674');" style=""> 678                 unregisterReceiver(mAlarmReceiver);                                                      </span>
<span class="8415896076062081933" onmouseenter="enter('8415896076062081933');" onmouseout="out('8415896076062081933');" style=""> 679                 mAlarmReceiver = null;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 680             }                                                                                            </span>
<span class="1726896335033811922" onmouseenter="enter('1726896335033811922');" onmouseout="out('1726896335033811922');" style=""> 681             if (mAlarmClockReceiver != null) {                                                           </span>
<span class="950736544794582273" onmouseenter="enter('950736544794582273');" onmouseout="out('950736544794582273');" style=""> 682                 unregisterReceiver(mAlarmClockReceiver);                                                 </span>
<span class="1888286601385537647" onmouseenter="enter('1888286601385537647');" onmouseout="out('1888286601385537647');" style=""> 683                 mAlarmClockReceiver = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 684             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 685         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 686     }                                                                                                    </span>
<span  style=""> 687                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 688     @Override                                                                                            </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style=""> 689     public void onDestroy() {                                                                            </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 690         if (hasPrefs()) {                                                                                </span>
<span class="-6878257734494454807" onmouseenter="enter('-6878257734494454807');" onmouseout="out('-6878257734494454807');" style=""> 691             getPrefs().getPreferences().unregisterOnSharedPreferenceChangeListener(this);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692         }                                                                                                </span>
<span  style=""> 693                                                                                                          </span>
<span class="-7834521410291460174" onmouseenter="enter('-7834521410291460174');" onmouseout="out('-7834521410291460174');" style=""> 694         LOG.debug(&quot;DeviceCommunicationService is being destroyed&quot;);                                      </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style=""> 695         super.onDestroy();                                                                               </span>
<span  style=""> 696                                                                                                          </span>
<span class="1476506345433791001" onmouseenter="enter('1476506345433791001');" onmouseout="out('1476506345433791001');" style=""> 697         LocalBroadcastManager.getInstance(this).unregisterReceiver(mReceiver);                           </span>
<span class="5360529083684701535" onmouseenter="enter('5360529083684701535');" onmouseout="out('5360529083684701535');" style=""> 698         setReceiversEnableState(false, false); // disable BroadcastReceivers                             </span>
<span  style=""> 699                                                                                                          </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 700         setDeviceSupport(null);                                                                          </span>
<span class="-6401324814064311246" onmouseenter="enter('-6401324814064311246');" onmouseout="out('-6401324814064311246');" style=""> 701         NotificationManager nm = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);   </span>
<span class="-9110481916976035504" onmouseenter="enter('-9110481916976035504');" onmouseout="out('-9110481916976035504');" style=""><abbr title=" 702         nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cancelled when service stops"> 702         nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cance🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703     }                                                                                                    </span>
<span  style=""> 704                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 705     @Override                                                                                            </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 706     public IBinder onBind(Intent intent) {                                                               </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 707         return null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708     }                                                                                                    </span>
<span  style=""> 709                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 710     @Override                                                                                            </span>
<span class="-8543522445860717125" onmouseenter="enter('-8543522445860717125');" onmouseout="out('-8543522445860717125');" style=""> 711     public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {             </span>
<span class="-685513269405093629" onmouseenter="enter('-685513269405093629');" onmouseout="out('-685513269405093629');" style=""> 712         if (GBPrefs.AUTO_RECONNECT.equals(key)) {                                                        </span>
<span class="6392472237335160020" onmouseenter="enter('6392472237335160020');" onmouseout="out('6392472237335160020');" style=""> 713             boolean autoReconnect = getGBPrefs().getAutoReconnect();                                     </span>
<span class="6496582276158603468" onmouseenter="enter('6496582276158603468');" onmouseout="out('6496582276158603468');" style=""> 714             if (mDeviceSupport != null) {                                                                </span>
<span class="-7892066664316346354" onmouseenter="enter('-7892066664316346354');" onmouseout="out('-7892066664316346354');" style=""> 715                 mDeviceSupport.setAutoReconnect(autoReconnect);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 716             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718     }                                                                                                    </span>
<span  style=""> 719                                                                                                          </span>
<span class="5219197634720526897" onmouseenter="enter('5219197634720526897');" onmouseout="out('5219197634720526897');" style=""> 720     protected boolean hasPrefs() {                                                                       </span>
<span class="4539535577863579094" onmouseenter="enter('4539535577863579094');" onmouseout="out('4539535577863579094');" style=""> 721         return getPrefs().getPreferences() != null;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722     }                                                                                                    </span>
<span  style=""> 723                                                                                                          </span>
<span class="8152942447888292090" onmouseenter="enter('8152942447888292090');" onmouseout="out('8152942447888292090');" style=""> 724     public Prefs getPrefs() {                                                                            </span>
<span class="-7206933193388772480" onmouseenter="enter('-7206933193388772480');" onmouseout="out('-7206933193388772480');" style=""> 725         return GBApplication.getPrefs();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726     }                                                                                                    </span>
<span  style=""> 727                                                                                                          </span>
<span class="7931316051287321883" onmouseenter="enter('7931316051287321883');" onmouseout="out('7931316051287321883');" style=""> 728     public GBPrefs getGBPrefs() {                                                                        </span>
<span class="-2213918291073204825" onmouseenter="enter('-2213918291073204825');" onmouseout="out('-2213918291073204825');" style=""> 729         return GBApplication.getGBPrefs();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 730     }                                                                                                    </span>
<span  style=""> 731                                                                                                          </span>
<span class="-3261323066157882616" onmouseenter="enter('-3261323066157882616');" onmouseout="out('-3261323066157882616');" style=""> 732     public GBDevice getGBDevice() {                                                                      </span>
<span class="2107010764646382456" onmouseenter="enter('2107010764646382456');" onmouseout="out('2107010764646382456');" style=""> 733         return mGBDevice;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735 }                                                                                                        </span>



</pre></td>
                            <td><pre><span class="-2913458566757142997" onmouseenter="enter('-2913458566757142997');" onmouseout="out('-2913458566757142997');" style="">   1 /*  Copyright (C) 2015-2017 Andreas Shimokawa, Avamander, Carsten Pfeiffer,                              </span>
<span class="-6081250020317944645" onmouseenter="enter('-6081250020317944645');" onmouseout="out('-6081250020317944645');" style="">   2     Daniele Gobbetti, ivanovlev, Julien Pivotto, Kasha, Sergey Trofimov, Steffen                         </span>
<span class="124812437508453505" onmouseenter="enter('124812437508453505');" onmouseout="out('124812437508453505');" style="">   3     Liebergeld, Uwe Hermann                                                                              </span>
<span  style="">   4                                                                                                          </span>
<span class="-7759499394858783956" onmouseenter="enter('-7759499394858783956');" onmouseout="out('-7759499394858783956');" style="">   5     This file is part of Gadgetbridge.                                                                   </span>
<span  style="">   6                                                                                                          </span>
<span class="-2647557636279629478" onmouseenter="enter('-2647557636279629478');" onmouseout="out('-2647557636279629478');" style="">   7     Gadgetbridge is free software: you can redistribute it and/or modify                                 </span>
<span class="4878736751218581391" onmouseenter="enter('4878736751218581391');" onmouseout="out('4878736751218581391');" style="">   8     it under the terms of the GNU Affero General Public License as published                             </span>
<span class="-5160078368722358920" onmouseenter="enter('-5160078368722358920');" onmouseout="out('-5160078368722358920');" style="">   9     by the Free Software Foundation, either version 3 of the License, or                                 </span>
<span class="6661789815760177463" onmouseenter="enter('6661789815760177463');" onmouseout="out('6661789815760177463');" style="">  10     (at your option) any later version.                                                                  </span>
<span  style="">  11                                                                                                          </span>
<span class="-6828199977528779968" onmouseenter="enter('-6828199977528779968');" onmouseout="out('-6828199977528779968');" style="">  12     Gadgetbridge is distributed in the hope that it will be useful,                                      </span>
<span class="4883593508173597945" onmouseenter="enter('4883593508173597945');" onmouseout="out('4883593508173597945');" style="">  13     but WITHOUT ANY WARRANTY; without even the implied warranty of                                       </span>
<span class="2300657568347926527" onmouseenter="enter('2300657568347926527');" onmouseout="out('2300657568347926527');" style="">  14     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                                        </span>
<span class="4681049817175334681" onmouseenter="enter('4681049817175334681');" onmouseout="out('4681049817175334681');" style="">  15     GNU Affero General Public License for more details.                                                  </span>
<span  style="">  16                                                                                                          </span>
<span class="-3235531360569947201" onmouseenter="enter('-3235531360569947201');" onmouseout="out('-3235531360569947201');" style="">  17     You should have received a copy of the GNU Affero General Public License                             </span>
<span class="-3088444562895398794" onmouseenter="enter('-3088444562895398794');" onmouseout="out('-3088444562895398794');" style="">  18     along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;. */                             </span>
<span class="-7738010425234448954" onmouseenter="enter('-7738010425234448954');" onmouseout="out('-7738010425234448954');" style="">  19 package nodomain.freeyourgadget.gadgetbridge.service;                                                    </span>
<span  style="">  20                                                                                                          </span>
<span class="2183671588995744448" onmouseenter="enter('2183671588995744448');" onmouseout="out('2183671588995744448');" style="">  21 import android.app.NotificationManager;                                                                  </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  22 import android.app.Service;                                                                              </span>
<span class="2859895893394018468" onmouseenter="enter('2859895893394018468');" onmouseout="out('2859895893394018468');" style="">  23 import android.bluetooth.BluetoothDevice;                                                                </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  24 import android.content.BroadcastReceiver;                                                                </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  25 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  26 import android.content.Intent;                                                                           </span>
<span class="8697221465021235869" onmouseenter="enter('8697221465021235869');" onmouseout="out('8697221465021235869');" style="">  27 import android.content.IntentFilter;                                                                     </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  28 import android.content.SharedPreferences;                                                                </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">  29 import android.net.Uri;                                                                                  </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">  30 import android.os.IBinder;                                                                               </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  31 import android.support.annotation.Nullable;                                                              </span>
<span class="2517521963771876570" onmouseenter="enter('2517521963771876570');" onmouseout="out('2517521963771876570');" style="">  32 import android.support.v4.content.LocalBroadcastManager;                                                 </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  33 import android.widget.Toast;                                                                             </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  34 import java.util.ArrayList;                                                                              </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  35 import java.util.Random;                                                                                 </span>
<span class="2390503830490498598" onmouseenter="enter('2390503830490498598');" onmouseout="out('2390503830490498598');" style="">  36 import java.util.UUID;                                                                                   </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  37 import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                               </span>
<span class="-7198279398549834921" onmouseenter="enter('-7198279398549834921');" onmouseout="out('-7198279398549834921');" style="">  38 import nodomain.freeyourgadget.gadgetbridge.R;                                                           </span>
<span class="-1043793227667586476" onmouseenter="enter('-1043793227667586476');" onmouseout="out('-1043793227667586476');" style="">  39 import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmClockReceiver;                           </span>
<span class="-466082507516838314" onmouseenter="enter('-466082507516838314');" onmouseout="out('-466082507516838314');" style="">  40 import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmReceiver;                                </span>
<span class="-7129464422930519321" onmouseenter="enter('-7129464422930519321');" onmouseout="out('-7129464422930519321');" style="">  41 import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothConnectReceiver;                     </span>
<span class="3745747127962910079" onmouseenter="enter('3745747127962910079');" onmouseout="out('3745747127962910079');" style="">  42 import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothPairingRequestReceiver;              </span>
<span class="2398603908936046398" onmouseenter="enter('2398603908936046398');" onmouseout="out('2398603908936046398');" style="">  43 import nodomain.freeyourgadget.gadgetbridge.externalevents.CalendarReceiver;                             </span>
<span class="-2271437192109431069" onmouseenter="enter('-2271437192109431069');" onmouseout="out('-2271437192109431069');" style="">  44 import nodomain.freeyourgadget.gadgetbridge.externalevents.MusicPlaybackReceiver;                        </span>
<span class="-8149017599814569985" onmouseenter="enter('-8149017599814569985');" onmouseout="out('-8149017599814569985');" style="">  45 import nodomain.freeyourgadget.gadgetbridge.externalevents.PebbleReceiver;                               </span>
<span class="2562090092581913054" onmouseenter="enter('2562090092581913054');" onmouseout="out('2562090092581913054');" style="">  46 import nodomain.freeyourgadget.gadgetbridge.externalevents.PhoneCallReceiver;                            </span>
<span class="-1515256456216613580" onmouseenter="enter('-1515256456216613580');" onmouseout="out('-1515256456216613580');" style="">  47 import nodomain.freeyourgadget.gadgetbridge.externalevents.SMSReceiver;                                  </span>
<span class="-4561728641078454300" onmouseenter="enter('-4561728641078454300');" onmouseout="out('-4561728641078454300');" style="">  48 import nodomain.freeyourgadget.gadgetbridge.externalevents.TimeChangeReceiver;                           </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  49 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  50 import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                 </span>
<span class="-3899388208810973608" onmouseenter="enter('-3899388208810973608');" onmouseout="out('-3899388208810973608');" style="">  51 import nodomain.freeyourgadget.gadgetbridge.model.CalendarEventSpec;                                     </span>
<span class="-9074570965792323186" onmouseenter="enter('-9074570965792323186');" onmouseout="out('-9074570965792323186');" style="">  52 import nodomain.freeyourgadget.gadgetbridge.model.CallSpec;                                              </span>
<span class="-7415926539738049206" onmouseenter="enter('-7415926539738049206');" onmouseout="out('-7415926539738049206');" style="">  53 import nodomain.freeyourgadget.gadgetbridge.model.CannedMessagesSpec;                                    </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  54 import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                             </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  55 import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                        </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  56 import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                      </span>
<span class="7087011959288310716" onmouseenter="enter('7087011959288310716');" onmouseout="out('7087011959288310716');" style="">  57 import nodomain.freeyourgadget.gadgetbridge.model.NotificationType;                                      </span>
<span class="-40839721936664146" onmouseenter="enter('-40839721936664146');" onmouseout="out('-40839721936664146');" style="">  58 import nodomain.freeyourgadget.gadgetbridge.model.WeatherSpec;                                           </span>
<span class="-8326539218894047431" onmouseenter="enter('-8326539218894047431');" onmouseout="out('-8326539218894047431');" style="">  59 import nodomain.freeyourgadget.gadgetbridge.util.DeviceHelper;                                           </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  60 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span class="-9094281754584205644" onmouseenter="enter('-9094281754584205644');" onmouseout="out('-9094281754584205644');" style="">  61 import nodomain.freeyourgadget.gadgetbridge.util.GBPrefs;                                                </span>
<span class="-600862318521663319" onmouseenter="enter('-600862318521663319');" onmouseout="out('-600862318521663319');" style="">  62 import nodomain.freeyourgadget.gadgetbridge.util.Prefs;                                                  </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  63 import org.slf4j.Logger;                                                                                 </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  64 import org.slf4j.LoggerFactory;                                                                          </span>
<span class="6045190136542162764" onmouseenter="enter('6045190136542162764');" onmouseout="out('6045190136542162764');" style="">  65 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ADD_CALENDAREVENT;         </span>
<span class="-4691650729708495340" onmouseenter="enter('-4691650729708495340');" onmouseout="out('-4691650729708495340');" style="">  66 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_CONFIGURE;             </span>
<span class="8979266882952044394" onmouseenter="enter('8979266882952044394');" onmouseout="out('8979266882952044394');" style="">  67 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_REORDER;               </span>
<span class="-542869728357892530" onmouseenter="enter('-542869728357892530');" onmouseout="out('-542869728357892530');" style="">  68 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CALLSTATE;                 </span>
<span class="-247683295782230703" onmouseenter="enter('-247683295782230703');" onmouseout="out('-247683295782230703');" style="">  69 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CONNECT;                   </span>
<span class="-4616915307566341750" onmouseenter="enter('-4616915307566341750');" onmouseout="out('-4616915307566341750');" style="">  70 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETEAPP;                 </span>
<span class="-3074116335608109863" onmouseenter="enter('-3074116335608109863');" onmouseout="out('-3074116335608109863');" style="">  71 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_CALENDAREVENT;      </span>
<span class="-1860366238468238430" onmouseenter="enter('-1860366238468238430');" onmouseout="out('-1860366238468238430');" style="">  72 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_NOTIFICATION;       </span>
<span class="-1812841064554504500" onmouseenter="enter('-1812841064554504500');" onmouseout="out('-1812841064554504500');" style="">  73 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DISCONNECT;                </span>
<span class="-4921661448524955199" onmouseenter="enter('-4921661448524955199');" onmouseout="out('-4921661448524955199');" style=""><abbr title="  74 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT;">  74 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPP🔵</abbr></span>
<span class="6246333874127665785" onmouseenter="enter('6246333874127665785');" onmouseout="out('6246333874127665785');" style=""><abbr title="  75 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT;">  75 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_M🔵</abbr></span>
<span class="-7030527688450425299" onmouseenter="enter('-7030527688450425299');" onmouseout="out('-7030527688450425299');" style="">  76 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_STEPS;     </span>
<span class="5330179003852293257" onmouseenter="enter('5330179003852293257');" onmouseout="out('5330179003852293257');" style="">  77 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FETCH_ACTIVITY_DATA;       </span>
<span class="-6966848371161420018" onmouseenter="enter('-6966848371161420018');" onmouseout="out('-6966848371161420018');" style="">  78 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FIND_DEVICE;               </span>
<span class="4586775629870362245" onmouseenter="enter('4586775629870362245');" onmouseout="out('4586775629870362245');" style="">  79 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_HEARTRATE_TEST;            </span>
<span class="-5289289347666796824" onmouseenter="enter('-5289289347666796824');" onmouseout="out('-5289289347666796824');" style="">  80 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_INSTALL;                   </span>
<span class="3276198152396102653" onmouseenter="enter('3276198152396102653');" onmouseout="out('3276198152396102653');" style="">  81 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_NOTIFICATION;              </span>
<span class="5085118059276382623" onmouseenter="enter('5085118059276382623');" onmouseout="out('5085118059276382623');" style="">  82 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REBOOT;                    </span>
<span class="-6594726169437148825" onmouseenter="enter('-6594726169437148825');" onmouseout="out('-6594726169437148825');" style="">  83 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_APPINFO;           </span>
<span class="-1183129577946721611" onmouseenter="enter('-1183129577946721611');" onmouseout="out('-1183129577946721611');" style="">  84 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_DEVICEINFO;        </span>
<span class="5758933186280297106" onmouseenter="enter('5758933186280297106');" onmouseout="out('5758933186280297106');" style="">  85 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_SCREENSHOT;        </span>
<span class="-4714892334355914946" onmouseenter="enter('-4714892334355914946');" onmouseout="out('-4714892334355914946');" style="">  86 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_CONFIGURATION;        </span>
<span class="8513571795744919095" onmouseenter="enter('8513571795744919095');" onmouseout="out('8513571795744919095');" style="">  87 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_WEATHER;              </span>
<span class="7391455619690263299" onmouseenter="enter('7391455619690263299');" onmouseout="out('7391455619690263299');" style="">  88 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETCANNEDMESSAGES;         </span>
<span class="3872370270421160251" onmouseenter="enter('3872370270421160251');" onmouseout="out('3872370270421160251');" style="">  89 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICINFO;              </span>
<span class="4922243836603922576" onmouseenter="enter('4922243836603922576');" onmouseout="out('4922243836603922576');" style="">  90 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICSTATE;             </span>
<span class="-1819410662234697183" onmouseenter="enter('-1819410662234697183');" onmouseout="out('-1819410662234697183');" style="">  91 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETTIME;                   </span>
<span class="5600424252036500004" onmouseenter="enter('5600424252036500004');" onmouseout="out('5600424252036500004');" style="">  92 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_ALARMS;                </span>
<span class="-8485936520151852725" onmouseenter="enter('-8485936520151852725');" onmouseout="out('-8485936520151852725');" style="">  93 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_CONSTANT_VIBRATION;    </span>
<span class="-2895954538846707623" onmouseenter="enter('-2895954538846707623');" onmouseout="out('-2895954538846707623');" style="">  94 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_START;                     </span>
<span class="159603830185606040" onmouseenter="enter('159603830185606040');" onmouseout="out('159603830185606040');" style="">  95 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_STARTAPP;                  </span>
<span class="-8485404521634723509" onmouseenter="enter('-8485404521634723509');" onmouseout="out('-8485404521634723509');" style="">  96 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_TEST_NEW_FUNCTION;         </span>
<span class="770450972489050338" onmouseenter="enter('770450972489050338');" onmouseout="out('770450972489050338');" style="">  97 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_ALARMS;                     </span>
<span class="-7114221800478427382" onmouseenter="enter('-7114221800478427382');" onmouseout="out('-7114221800478427382');" style="">  98 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_CONFIG;                 </span>
<span class="8965411938901348033" onmouseenter="enter('8965411938901348033');" onmouseout="out('8965411938901348033');" style="">  99 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_START;                  </span>
<span class="-8283928422425000100" onmouseenter="enter('-8283928422425000100');" onmouseout="out('-8283928422425000100');" style=""> 100 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_UUID;                   </span>
<span class="-6028659556554711747" onmouseenter="enter('-6028659556554711747');" onmouseout="out('-6028659556554711747');" style=""> 101 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_BOOLEAN_ENABLE;             </span>
<span class="7522647889408017982" onmouseenter="enter('7522647889408017982');" onmouseout="out('7522647889408017982');" style=""> 102 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DESCRIPTION;  </span>
<span class="2012224363855729231" onmouseenter="enter('2012224363855729231');" onmouseout="out('2012224363855729231');" style=""> 103 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DURATION;     </span>
<span class="2381002028954495403" onmouseenter="enter('2381002028954495403');" onmouseout="out('2381002028954495403');" style=""> 104 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_ID;           </span>
<span class="-7291810314793060088" onmouseenter="enter('-7291810314793060088');" onmouseout="out('-7291810314793060088');" style=""> 105 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TIMESTAMP;    </span>
<span class="384106080468578959" onmouseenter="enter('384106080468578959');" onmouseout="out('384106080468578959');" style=""> 106 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TITLE;        </span>
<span class="-6202091316758952440" onmouseenter="enter('-6202091316758952440');" onmouseout="out('-6202091316758952440');" style=""> 107 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TYPE;         </span>
<span class="8389643945828398933" onmouseenter="enter('8389643945828398933');" onmouseout="out('8389643945828398933');" style=""> 108 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_COMMAND;               </span>
<span class="4792956381576162355" onmouseenter="enter('4792956381576162355');" onmouseout="out('4792956381576162355');" style=""> 109 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_DISPLAYNAME;           </span>
<span class="5333868123015017193" onmouseenter="enter('5333868123015017193');" onmouseout="out('5333868123015017193');" style=""> 110 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_PHONENUMBER;           </span>
<span class="-5129778312485721110" onmouseenter="enter('-5129778312485721110');" onmouseout="out('-5129778312485721110');" style=""> 111 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES;             </span>
<span class="4656341769499509905" onmouseenter="enter('4656341769499509905');" onmouseout="out('4656341769499509905');" style=""> 112 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES_TYPE;        </span>
<span class="5199391479118480443" onmouseenter="enter('5199391479118480443');" onmouseout="out('5199391479118480443');" style=""> 113 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONFIG;                     </span>
<span class="4059405288294641795" onmouseenter="enter('4059405288294641795');" onmouseout="out('4059405288294641795');" style=""> 114 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONNECT_FIRST_TIME;         </span>
<span class="4221194159076226870" onmouseenter="enter('4221194159076226870');" onmouseout="out('4221194159076226870');" style=""> 115 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_FIND_START;                 </span>
<span class="-2258225638015800384" onmouseenter="enter('-2258225638015800384');" onmouseout="out('-2258225638015800384');" style=""> 116 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ALBUM;                </span>
<span class="-2216137706415061756" onmouseenter="enter('-2216137706415061756');" onmouseout="out('-2216137706415061756');" style=""> 117 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ARTIST;               </span>
<span class="8046519832671029614" onmouseenter="enter('8046519832671029614');" onmouseout="out('8046519832671029614');" style=""> 118 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_DURATION;             </span>
<span class="-6142463088169555654" onmouseenter="enter('-6142463088169555654');" onmouseout="out('-6142463088169555654');" style=""> 119 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_POSITION;             </span>
<span class="5744330398351461055" onmouseenter="enter('5744330398351461055');" onmouseout="out('5744330398351461055');" style=""> 120 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_RATE;                 </span>
<span class="-4927372672415271921" onmouseenter="enter('-4927372672415271921');" onmouseout="out('-4927372672415271921');" style=""> 121 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_REPEAT;               </span>
<span class="7486056797989668892" onmouseenter="enter('7486056797989668892');" onmouseout="out('7486056797989668892');" style=""> 122 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_SHUFFLE;              </span>
<span class="-8253565582178279411" onmouseenter="enter('-8253565582178279411');" onmouseout="out('-8253565582178279411');" style=""> 123 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_STATE;                </span>
<span class="-2409139333736829248" onmouseenter="enter('-2409139333736829248');" onmouseout="out('-2409139333736829248');" style=""> 124 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACK;                </span>
<span class="3248584088261486079" onmouseenter="enter('3248584088261486079');" onmouseout="out('3248584088261486079');" style=""> 125 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKCOUNT;           </span>
<span class="-2704967574938476609" onmouseenter="enter('-2704967574938476609');" onmouseout="out('-2704967574938476609');" style=""> 126 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKNR;              </span>
<span class="3700368637395551240" onmouseenter="enter('3700368637395551240');" onmouseout="out('3700368637395551240');" style=""> 127 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_BODY;          </span>
<span class="6396194886685840912" onmouseenter="enter('6396194886685840912');" onmouseout="out('6396194886685840912');" style=""> 128 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_FLAGS;         </span>
<span class="4822457600196668791" onmouseenter="enter('4822457600196668791');" onmouseout="out('4822457600196668791');" style=""> 129 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_ID;            </span>
<span class="7674789080848891549" onmouseenter="enter('7674789080848891549');" onmouseout="out('7674789080848891549');" style=""> 130 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_PHONENUMBER;   </span>
<span class="4567989658129086488" onmouseenter="enter('4567989658129086488');" onmouseout="out('4567989658129086488');" style=""> 131 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SENDER;        </span>
<span class="5059516478886573650" onmouseenter="enter('5059516478886573650');" onmouseout="out('5059516478886573650');" style=""> 132 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SOURCENAME;    </span>
<span class="4541479799245762364" onmouseenter="enter('4541479799245762364');" onmouseout="out('4541479799245762364');" style=""> 133 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SUBJECT;       </span>
<span class="-2743035339658362547" onmouseenter="enter('-2743035339658362547');" onmouseout="out('-2743035339658362547');" style=""> 134 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TITLE;         </span>
<span class="-5872178756477099231" onmouseenter="enter('-5872178756477099231');" onmouseout="out('-5872178756477099231');" style=""> 135 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TYPE;          </span>
<span class="2609126409554850516" onmouseenter="enter('2609126409554850516');" onmouseout="out('2609126409554850516');" style=""> 136 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_URI;                        </span>
<span class="558351812671615614" onmouseenter="enter('558351812671615614');" onmouseout="out('558351812671615614');" style=""> 137 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_VIBRATION_INTENSITY;        </span>
<span class="-3363581013306175134" onmouseenter="enter('-3363581013306175134');" onmouseout="out('-3363581013306175134');" style=""> 138 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITION;   </span>
<span class="-8943294338982235009" onmouseenter="enter('-8943294338982235009');" onmouseout="out('-8943294338982235009');" style=""><abbr title=" 139 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE;"> 139 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE🔵</abbr></span>
<span class="2859637720228343142" onmouseenter="enter('2859637720228343142');" onmouseout="out('2859637720228343142');" style=""> 140 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTTEMP;        </span>
<span class="-2095384497186099299" onmouseenter="enter('-2095384497186099299');" onmouseout="out('-2095384497186099299');" style=""> 141 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_LOCATION;           </span>
<span class="6581594015461287613" onmouseenter="enter('6581594015461287613');" onmouseout="out('6581594015461287613');" style=""> 142 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TIMESTAMP;          </span>
<span class="-7095302037137566641" onmouseenter="enter('-7095302037137566641');" onmouseout="out('-7095302037137566641');" style=""> 143 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMAXTEMP;       </span>
<span class="4074481476846669078" onmouseenter="enter('4074481476846669078');" onmouseout="out('4074481476846669078');" style=""> 144 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMINTEMP;       </span>
<span class="-2007611705625738582" onmouseenter="enter('-2007611705625738582');" onmouseout="out('-2007611705625738582');" style=""><abbr title=" 145 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCODE;"> 145 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCOD🔵</abbr></span>
<span class="-2323001311549544950" onmouseenter="enter('-2323001311549544950');" onmouseout="out('-2323001311549544950');" style=""> 146 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMAXTEMP;    </span>
<span class="-6803925815152400371" onmouseenter="enter('-6803925815152400371');" onmouseout="out('-6803925815152400371');" style=""> 147 import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMINTEMP;    </span>
<span  style=""> 148                                                                                                          </span>
<span  style=""> 149                                                                                                          </span>
<span class="7002389026711922138" onmouseenter="enter('7002389026711922138');" onmouseout="out('7002389026711922138');" style=""><abbr title=" 150 public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListener {"> 150 public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceCh🔵</abbr></span>
<span class="2948370626519459736" onmouseenter="enter('2948370626519459736');" onmouseout="out('2948370626519459736');" style=""> 151     private static final Logger LOG = LoggerFactory.getLogger(DeviceCommunicationService.class);         </span>
<span  style=""> 152                                                                                                          </span>
<span class="8315759516084024026" onmouseenter="enter('8315759516084024026');" onmouseout="out('8315759516084024026');" style=""> 153     private static DeviceSupportFactory DEVICE_SUPPORT_FACTORY = null;                                   </span>
<span  style=""> 154                                                                                                          </span>
<span class="5665266661180725736" onmouseenter="enter('5665266661180725736');" onmouseout="out('5665266661180725736');" style=""> 155     private boolean mStarted = false;                                                                    </span>
<span  style=""> 156                                                                                                          </span>
<span class="2619013435041056124" onmouseenter="enter('2619013435041056124');" onmouseout="out('2619013435041056124');" style=""> 157     private DeviceSupportFactory mFactory;                                                               </span>
<span  style=""> 158                                                                                                          </span>
<span class="-5535852384441440556" onmouseenter="enter('-5535852384441440556');" onmouseout="out('-5535852384441440556');" style=""> 159     private GBDevice mGBDevice = null;                                                                   </span>
<span  style=""> 160                                                                                                          </span>
<span class="3807324077532128165" onmouseenter="enter('3807324077532128165');" onmouseout="out('3807324077532128165');" style=""> 161     private DeviceSupport mDeviceSupport;                                                                </span>
<span  style=""> 162                                                                                                          </span>
<span class="6815378416149141398" onmouseenter="enter('6815378416149141398');" onmouseout="out('6815378416149141398');" style=""> 163     private PhoneCallReceiver mPhoneCallReceiver = null;                                                 </span>
<span  style=""> 164                                                                                                          </span>
<span class="-2826099576832326168" onmouseenter="enter('-2826099576832326168');" onmouseout="out('-2826099576832326168');" style=""> 165     private SMSReceiver mSMSReceiver = null;                                                             </span>
<span  style=""> 166                                                                                                          </span>
<span class="-3235398375537158027" onmouseenter="enter('-3235398375537158027');" onmouseout="out('-3235398375537158027');" style=""> 167     private PebbleReceiver mPebbleReceiver = null;                                                       </span>
<span  style=""> 168                                                                                                          </span>
<span class="-6023871012645258525" onmouseenter="enter('-6023871012645258525');" onmouseout="out('-6023871012645258525');" style=""> 169     private MusicPlaybackReceiver mMusicPlaybackReceiver = null;                                         </span>
<span  style=""> 170                                                                                                          </span>
<span class="-6462467161745750835" onmouseenter="enter('-6462467161745750835');" onmouseout="out('-6462467161745750835');" style=""> 171     private TimeChangeReceiver mTimeChangeReceiver = null;                                               </span>
<span  style=""> 172                                                                                                          </span>
<span class="45606605928520924" onmouseenter="enter('45606605928520924');" onmouseout="out('45606605928520924');" style=""> 173     private BluetoothConnectReceiver mBlueToothConnectReceiver = null;                                   </span>
<span  style=""> 174                                                                                                          </span>
<span class="-9067944856238345499" onmouseenter="enter('-9067944856238345499');" onmouseout="out('-9067944856238345499');" style=""> 175     private BluetoothPairingRequestReceiver mBlueToothPairingRequestReceiver = null;                     </span>
<span  style=""> 176                                                                                                          </span>
<span class="-2172935952751705642" onmouseenter="enter('-2172935952751705642');" onmouseout="out('-2172935952751705642');" style=""> 177     private AlarmClockReceiver mAlarmClockReceiver = null;                                               </span>
<span  style=""> 178                                                                                                          </span>
<span class="8047396517755341728" onmouseenter="enter('8047396517755341728');" onmouseout="out('8047396517755341728');" style=""> 179     private AlarmReceiver mAlarmReceiver = null;                                                         </span>
<span  style=""> 180                                                                                                          </span>
<span class="-1064576620280552382" onmouseenter="enter('-1064576620280552382');" onmouseout="out('-1064576620280552382');" style=""> 181     private CalendarReceiver mCalendarReceiver = null;                                                   </span>
<span  style=""> 182                                                                                                          </span>
<span class="596985040066134893" onmouseenter="enter('596985040066134893');" onmouseout="out('596985040066134893');" style=""> 183     private Random mRandom = new Random();                                                               </span>
<span  style=""> 184                                                                                                          </span>
<span class="-5683917399715929797" onmouseenter="enter('-5683917399715929797');" onmouseout="out('-5683917399715929797');" style=""><abbr title=" 185     private final String[] mMusicActions = new java.lang.String[]{ &quot;com.android.music.metachanged&quot;, &quot;com.android.music.playstatechanged&quot;, &quot;com.android.music.queuechanged&quot;, &quot;com.android.music.playbackcomplete&quot;, &quot;net.sourceforge.subsonic.androidapp.EVENT_META_CHANGED&quot;, &quot;com.maxmpz.audioplayer.TPOS_SYNC&quot;, &quot;com.maxmpz.audioplayer.STATUS_CHANGED&quot;, &quot;com.maxmpz.audioplayer.PLAYING_MODE_CHANGED&quot; };"> 185     private final String[] mMusicActions = new java.lang.String[]{ &quot;com.android.music.metachanged&quot;, &quot;com.🔵</abbr></span>
<span  style=""> 186                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 187     /**                                                                                                  </span>
<span class="-2662003173786345235" onmouseenter="enter('-2662003173786345235');" onmouseout="out('-2662003173786345235');" style=""> 188      * For testing!                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 189      *                                                                                                   </span>
<span class="2659395903319912597" onmouseenter="enter('2659395903319912597');" onmouseout="out('2659395903319912597');" style=""> 190      * @param factory                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 191      */                                                                                                  </span>
<span class="-6666378662286991217" onmouseenter="enter('-6666378662286991217');" onmouseout="out('-6666378662286991217');" style=""> 192     public static void setDeviceSupportFactory(DeviceSupportFactory factory) {                           </span>
<span class="-8354288850313385150" onmouseenter="enter('-8354288850313385150');" onmouseout="out('-8354288850313385150');" style=""> 193         DEVICE_SUPPORT_FACTORY = factory;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194     }                                                                                                    </span>
<span  style=""> 195                                                                                                          </span>
<span class="-3957055725206159636" onmouseenter="enter('-3957055725206159636');" onmouseout="out('-3957055725206159636');" style=""> 196     public DeviceCommunicationService() {                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="4625474178666977899" onmouseenter="enter('4625474178666977899');" onmouseout="out('4625474178666977899');" style=""> 199     private final BroadcastReceiver mReceiver = new BroadcastReceiver() {                                </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200         @Override                                                                                        </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style=""> 201         public void onReceive(Context context, Intent intent) {                                          </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 202             String action = intent.getAction();                                                          </span>
<span class="6363789114941388821" onmouseenter="enter('6363789114941388821');" onmouseout="out('6363789114941388821');" style=""> 203             if (action.equals(GBDevice.ACTION_DEVICE_CHANGED)) {                                         </span>
<span class="-2461183312182880324" onmouseenter="enter('-2461183312182880324');" onmouseout="out('-2461183312182880324');" style=""> 204                 GBDevice device = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                      </span>
<span class="-1587947608962901958" onmouseenter="enter('-1587947608962901958');" onmouseout="out('-1587947608962901958');" style=""> 205                 // FIXME: mGBDevice was null here once                                                   </span>
<span class="6531971567465378623" onmouseenter="enter('6531971567465378623');" onmouseout="out('6531971567465378623');" style=""> 206                 if (mGBDevice.equals(device)) {                                                          </span>
<span class="3131993518650313722" onmouseenter="enter('3131993518650313722');" onmouseout="out('3131993518650313722');" style=""> 207                     mGBDevice = device;                                                                  </span>
<span class="-728069479053956864" onmouseenter="enter('-728069479053956864');" onmouseout="out('-728069479053956864');" style=""><abbr title=" 208                     boolean enableReceivers = (mDeviceSupport != null) &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDevice.isInitialized());"> 208                     boolean enableReceivers = (mDeviceSupport != null) &amp;&amp; (mDeviceSupport.useAutoConnect(🔵</abbr></span>
<span class="7959311921834810767" onmouseenter="enter('7959311921834810767');" onmouseout="out('7959311921834810767');" style=""> 209                     setReceiversEnableState(enableReceivers, mGBDevice.isInitialized());                 </span>
<span class="-6796473498748313491" onmouseenter="enter('-6796473498748313491');" onmouseout="out('-6796473498748313491');" style=""><abbr title=" 210                     GB.updateNotification((mGBDevice.getName() + &quot; &quot;) + mGBDevice.getStateString(), mGBDevice.isInitialized(), context);"> 210                     GB.updateNotification((mGBDevice.getName() + &quot; &quot;) + mGBDevice.getStateString(), mGBDe🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 211                 } else {                                                                                 </span>
<span class="-5607286848535217916" onmouseenter="enter('-5607286848535217916');" onmouseout="out('-5607286848535217916');" style=""> 212                     LOG.error(&quot;Got ACTION_DEVICE_CHANGED from unexpected device: &quot; + mGBDevice);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 216     };                                                                                                   </span>
<span  style=""> 217                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 218     @Override                                                                                            </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style=""> 219     public void onCreate() {                                                                             </span>
<span class="-4054458849665978908" onmouseenter="enter('-4054458849665978908');" onmouseout="out('-4054458849665978908');" style=""> 220         LOG.debug(&quot;DeviceCommunicationService is being created&quot;);                                        </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style=""> 221         super.onCreate();                                                                                </span>
<span class="-4042436281125736078" onmouseenter="enter('-4042436281125736078');" onmouseout="out('-4042436281125736078');" style=""><abbr title=" 222         LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVICE_CHANGED));"> 222         LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACT🔵</abbr></span>
<span class="7550329168056090280" onmouseenter="enter('7550329168056090280');" onmouseout="out('7550329168056090280');" style=""> 223         mFactory = getDeviceSupportFactory();                                                            </span>
<span  style=""> 224                                                                                                          </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 225         if (hasPrefs()) {                                                                                </span>
<span class="-5542746784767813133" onmouseenter="enter('-5542746784767813133');" onmouseout="out('-5542746784767813133');" style=""> 226             getPrefs().getPreferences().registerOnSharedPreferenceChangeListener(this);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228     }                                                                                                    </span>
<span  style=""> 229                                                                                                          </span>
<span class="4443706376638466060" onmouseenter="enter('4443706376638466060');" onmouseout="out('4443706376638466060');" style=""> 230     private DeviceSupportFactory getDeviceSupportFactory() {                                             </span>
<span class="232953772404563377" onmouseenter="enter('232953772404563377');" onmouseout="out('232953772404563377');" style=""> 231         if (DEVICE_SUPPORT_FACTORY != null) {                                                            </span>
<span class="7931102469926815551" onmouseenter="enter('7931102469926815551');" onmouseout="out('7931102469926815551');" style=""> 232             return DEVICE_SUPPORT_FACTORY;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233         }                                                                                                </span>
<span class="4538357947168100259" onmouseenter="enter('4538357947168100259');" onmouseout="out('4538357947168100259');" style=""> 234         return new DeviceSupportFactory(this);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237     @Override                                                                                            </span>
<span class="-8981297357807978759" onmouseenter="enter('-8981297357807978759');" onmouseout="out('-8981297357807978759');" style=""> 238     public synchronized int onStartCommand(Intent intent, int flags, int startId) {                      </span>
<span class="-8400111569787613467" onmouseenter="enter('-8400111569787613467');" onmouseout="out('-8400111569787613467');" style=""> 239         if (intent == null) {                                                                            </span>
<span class="-2375998914676676862" onmouseenter="enter('-2375998914676676862');" onmouseout="out('-2375998914676676862');" style=""> 240             LOG.info(&quot;no intent&quot;);                                                                       </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 241             return START_NOT_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242         }                                                                                                </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 243         String action = intent.getAction();                                                              </span>
<span class="7823373493260129619" onmouseenter="enter('7823373493260129619');" onmouseout="out('7823373493260129619');" style=""> 244         boolean firstTime = intent.getBooleanExtra(EXTRA_CONNECT_FIRST_TIME, false);                     </span>
<span class="4668300806615190248" onmouseenter="enter('4668300806615190248');" onmouseout="out('4668300806615190248');" style=""> 245         if (action == null) {                                                                            </span>
<span class="-1443758836937597877" onmouseenter="enter('-1443758836937597877');" onmouseout="out('-1443758836937597877');" style=""> 246             LOG.info(&quot;no action&quot;);                                                                       </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 247             return START_NOT_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248         }                                                                                                </span>
<span class="-7510962738906177338" onmouseenter="enter('-7510962738906177338');" onmouseout="out('-7510962738906177338');" style=""> 249         LOG.debug(&quot;Service startcommand: &quot; + action);                                                    </span>
<span class="6402691872165794407" onmouseenter="enter('6402691872165794407');" onmouseout="out('6402691872165794407');" style=""> 250         if ((!action.equals(ACTION_START)) &amp;&amp; (!action.equals(ACTION_CONNECT))) {                        </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 251             if (!mStarted) {                                                                             </span>
<span class="-4314511529946530833" onmouseenter="enter('-4314511529946530833');" onmouseout="out('-4314511529946530833');" style=""> 252                 // using the service before issuing ACTION_START                                         </span>
<span class="-753126647918998819" onmouseenter="enter('-753126647918998819');" onmouseout="out('-753126647918998819');" style=""><abbr title=" 253                 LOG.info(((((&quot;Must start service with &quot; + ACTION_START) + &quot; or &quot;) + ACTION_CONNECT) + &quot; before using it: &quot;) + action);"> 253                 LOG.info(((((&quot;Must start service with &quot; + ACTION_START) + &quot; or &quot;) + ACTION_CONNECT) + &quot; b🔵</abbr></span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 254                 return START_NOT_STICKY;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255             }                                                                                            </span>
<span class="-3999169920710638320" onmouseenter="enter('-3999169920710638320');" onmouseout="out('-3999169920710638320');" style=""> 256             if ((mDeviceSupport == null) || ((!isInitialized()) &amp;&amp; (!mDeviceSupport.useAutoConnect()))) {</span>
<span class="-7295838370792597580" onmouseenter="enter('-7295838370792597580');" onmouseout="out('-7295838370792597580');" style=""> 257                 // trying to send notification without valid Bluetooth connection                        </span>
<span class="-3967328229534622301" onmouseenter="enter('-3967328229534622301');" onmouseout="out('-3967328229534622301');" style=""> 258                 if (mGBDevice != null) {                                                                 </span>
<span class="-2150339174362147605" onmouseenter="enter('-2150339174362147605');" onmouseout="out('-2150339174362147605');" style=""> 259                     // at least send back the current device state                                       </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 260                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261                 }                                                                                        </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 262                 return START_STICKY;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264         }                                                                                                </span>
<span class="-8633731563859485799" onmouseenter="enter('-8633731563859485799');" onmouseout="out('-8633731563859485799');" style=""> 265         // when we get past this, we should have valid mDeviceSupport and mGBDevice instances            </span>
<span class="7909508264133940557" onmouseenter="enter('7909508264133940557');" onmouseout="out('7909508264133940557');" style=""> 266         Prefs prefs = getPrefs();                                                                        </span>
<span class="6099627150369302694" onmouseenter="enter('6099627150369302694');" onmouseout="out('6099627150369302694');" style=""> 267         switch (action) {                                                                                </span>
<span class="-3225593641234256060" onmouseenter="enter('-3225593641234256060');" onmouseout="out('-3225593641234256060');" style=""> 268             case ACTION_START :                                                                          </span>
<span class="-6183578153083367222" onmouseenter="enter('-6183578153083367222');" onmouseout="out('-6183578153083367222');" style=""> 269                 start();                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 270                 break;                                                                                   </span>
<span class="2594685087056703905" onmouseenter="enter('2594685087056703905');" onmouseout="out('2594685087056703905');" style=""> 271             case ACTION_CONNECT :                                                                        </span>
<span class="4434202505977727352" onmouseenter="enter('4434202505977727352');" onmouseout="out('4434202505977727352');" style=""> 272                 start();// ensure started                                                                </span>
<span  style=""> 273                                                                                                          </span>
<span class="-1505296384620921106" onmouseenter="enter('-1505296384620921106');" onmouseout="out('-1505296384620921106');" style=""> 274                 GBDevice gbDevice = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                    </span>
<span class="-5722809612075478674" onmouseenter="enter('-5722809612075478674');" onmouseout="out('-5722809612075478674');" style=""> 275                 String btDeviceAddress = null;                                                           </span>
<span class="-2736305943333857977" onmouseenter="enter('-2736305943333857977');" onmouseout="out('-2736305943333857977');" style=""> 276                 if (gbDevice == null) {                                                                  </span>
<span class="3927004029472288723" onmouseenter="enter('3927004029472288723');" onmouseout="out('3927004029472288723');" style=""> 277                     if (prefs != null) {                                                                 </span>
<span class="1315764978082460814" onmouseenter="enter('1315764978082460814');" onmouseout="out('1315764978082460814');" style=""> 278                         // may be null in test cases                                                     </span>
<span class="2264609510245934073" onmouseenter="enter('2264609510245934073');" onmouseout="out('2264609510245934073');" style=""> 279                         btDeviceAddress = prefs.getString(&quot;last_device_address&quot;, null);                  </span>
<span class="-1328118737775276827" onmouseenter="enter('-1328118737775276827');" onmouseout="out('-1328118737775276827');" style=""> 280                         if (btDeviceAddress != null) {                                                   </span>
<span class="-8056388044949715653" onmouseenter="enter('-8056388044949715653');" onmouseout="out('-8056388044949715653');" style=""><abbr title=" 281                             gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, this);"> 281                             gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, th🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283                     }                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 284                 } else {                                                                                 </span>
<span class="1063784168399888092" onmouseenter="enter('1063784168399888092');" onmouseout="out('1063784168399888092');" style=""> 285                     btDeviceAddress = gbDevice.getAddress();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286                 }                                                                                        </span>
<span class="8517927575135190002" onmouseenter="enter('8517927575135190002');" onmouseout="out('8517927575135190002');" style=""> 287                 boolean autoReconnect = GBPrefs.AUTO_RECONNECT_DEFAULT;                                  </span>
<span class="-285549254135443100" onmouseenter="enter('-285549254135443100');" onmouseout="out('-285549254135443100');" style=""> 288                 if ((prefs != null) &amp;&amp; (prefs.getPreferences() != null)) {                               </span>
<span class="-5009961935760343048" onmouseenter="enter('-5009961935760343048');" onmouseout="out('-5009961935760343048');" style=""><abbr title=" 289                     prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply();"> 289                     prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply🔵</abbr></span>
<span class="1485130976607349673" onmouseenter="enter('1485130976607349673');" onmouseout="out('1485130976607349673');" style=""> 290                     autoReconnect = getGBPrefs().getAutoReconnect();                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291                 }                                                                                        </span>
<span class="-2525114062112082201" onmouseenter="enter('-2525114062112082201');" onmouseout="out('-2525114062112082201');" style=""> 292                 if (((gbDevice != null) &amp;&amp; (!isConnecting())) &amp;&amp; (!isConnected())) {                     </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 293                     setDeviceSupport(null);                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 294                     try {                                                                                </span>
<span class="6368812257942052163" onmouseenter="enter('6368812257942052163');" onmouseout="out('6368812257942052163');" style=""> 295                         DeviceSupport deviceSupport = mFactory.createDeviceSupport(gbDevice);            </span>
<span class="2672581873473401176" onmouseenter="enter('2672581873473401176');" onmouseout="out('2672581873473401176');" style=""> 296                         if (deviceSupport != null) {                                                     </span>
<span class="5073675520708761827" onmouseenter="enter('5073675520708761827');" onmouseout="out('5073675520708761827');" style=""> 297                             setDeviceSupport(deviceSupport);                                             </span>
<span class="-8996767192548104897" onmouseenter="enter('-8996767192548104897');" onmouseout="out('-8996767192548104897');" style=""> 298                             if (firstTime) {                                                             </span>
<span class="1278919844889630077" onmouseenter="enter('1278919844889630077');" onmouseout="out('1278919844889630077');" style=""> 299                                 deviceSupport.connectFirstTime();                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 300                             } else {                                                                     </span>
<span class="-3957948055115279311" onmouseenter="enter('-3957948055115279311');" onmouseout="out('-3957948055115279311');" style=""> 301                                 deviceSupport.setAutoReconnect(autoReconnect);                           </span>
<span class="-1283285352904053142" onmouseenter="enter('-1283285352904053142');" onmouseout="out('-1283285352904053142');" style=""> 302                                 deviceSupport.connect();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303                             }                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 304                         } else {                                                                         </span>
<span class="2291338781944945288" onmouseenter="enter('2291338781944945288');" onmouseout="out('2291338781944945288');" style=""><abbr title=" 305                             GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toast.LENGTH_SHORT, GB.ERROR);"> 305                             GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device suppor🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306                         }                                                                                </span>
<span class="-3589222456918676513" onmouseenter="enter('-3589222456918676513');" onmouseout="out('-3589222456918676513');" style=""> 307                     } catch (java.lang.Exception e) {                                                    </span>
<span class="-489775191707791993" onmouseenter="enter('-489775191707791993');" onmouseout="out('-489775191707791993');" style=""><abbr title=" 308                         GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.ERROR, e);"> 308                         GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_S🔵</abbr></span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 309                         setDeviceSupport(null);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310                     }                                                                                    </span>
<span class="-4649134418590982211" onmouseenter="enter('-4649134418590982211');" onmouseout="out('-4649134418590982211');" style=""> 311                 } else if (mGBDevice != null) {                                                          </span>
<span class="6491337019366323782" onmouseenter="enter('6491337019366323782');" onmouseout="out('6491337019366323782');" style=""> 312                     // send an update at least                                                           </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 313                     mGBDevice.sendDeviceUpdateIntent(this);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 315                 break;                                                                                   </span>
<span class="8206546382375661859" onmouseenter="enter('8206546382375661859');" onmouseout="out('8206546382375661859');" style=""> 316             case ACTION_REQUEST_DEVICEINFO :                                                             </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 317                 mGBDevice.sendDeviceUpdateIntent(this);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 318                 break;                                                                                   </span>
<span class="-1794470450363522815" onmouseenter="enter('-1794470450363522815');" onmouseout="out('-1794470450363522815');" style=""> 319             case ACTION_NOTIFICATION :                                                                   </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 320                 {                                                                                        </span>
<span class="4249292218927487361" onmouseenter="enter('4249292218927487361');" onmouseout="out('4249292218927487361');" style=""> 321                     NotificationSpec notificationSpec = new NotificationSpec();                          </span>
<span class="7144362564334367710" onmouseenter="enter('7144362564334367710');" onmouseout="out('7144362564334367710');" style=""> 322                     notificationSpec.phoneNumber = intent.getStringExtra(EXTRA_NOTIFICATION_PHONENUMBER);</span>
<span class="-997642605508866012" onmouseenter="enter('-997642605508866012');" onmouseout="out('-997642605508866012');" style=""> 323                     notificationSpec.sender = intent.getStringExtra(EXTRA_NOTIFICATION_SENDER);          </span>
<span class="2782521715291117457" onmouseenter="enter('2782521715291117457');" onmouseout="out('2782521715291117457');" style=""> 324                     notificationSpec.subject = intent.getStringExtra(EXTRA_NOTIFICATION_SUBJECT);        </span>
<span class="7851353269868360095" onmouseenter="enter('7851353269868360095');" onmouseout="out('7851353269868360095');" style=""> 325                     notificationSpec.title = intent.getStringExtra(EXTRA_NOTIFICATION_TITLE);            </span>
<span class="-5627490756759928844" onmouseenter="enter('-5627490756759928844');" onmouseout="out('-5627490756759928844');" style=""> 326                     notificationSpec.body = intent.getStringExtra(EXTRA_NOTIFICATION_BODY);              </span>
<span class="3144450796969351021" onmouseenter="enter('3144450796969351021');" onmouseout="out('3144450796969351021');" style=""> 327                     notificationSpec.sourceName = intent.getStringExtra(EXTRA_NOTIFICATION_SOURCENAME);  </span>
<span class="-5372226832913643416" onmouseenter="enter('-5372226832913643416');" onmouseout="out('-5372226832913643416');" style=""><abbr title=" 328                     notificationSpec.type = ((NotificationType) (intent.getSerializableExtra(EXTRA_NOTIFICATION_TYPE)));"> 328                     notificationSpec.type = ((NotificationType) (intent.getSerializableExtra(EXTRA_NOTIFI🔵</abbr></span>
<span class="-58552451302524684" onmouseenter="enter('-58552451302524684');" onmouseout="out('-58552451302524684');" style=""> 329                     notificationSpec.id = intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1);                 </span>
<span class="-6392144337868342404" onmouseenter="enter('-6392144337868342404');" onmouseout="out('-6392144337868342404');" style=""> 330                     notificationSpec.flags = intent.getIntExtra(EXTRA_NOTIFICATION_FLAGS, 0);            </span>
<span class="-7450125522158062135" onmouseenter="enter('-7450125522158062135');" onmouseout="out('-7450125522158062135');" style=""><abbr title=" 331                     if ((notificationSpec.type == NotificationType.GENERIC_SMS) &amp;&amp; (notificationSpec.phoneNumber != null)) {"> 331                     if ((notificationSpec.type == NotificationType.GENERIC_SMS) &amp;&amp; (notificationSpec.phon🔵</abbr></span>
<span class="-8023754746373823165" onmouseenter="enter('-8023754746373823165');" onmouseout="out('-8023754746373823165');" style=""><abbr title=" 332                         notificationSpec.id = mRandom.nextInt();// FIXME: add this in external SMS Receiver?"> 332                         notificationSpec.id = mRandom.nextInt();// FIXME: add this in external SMS Receiv🔵</abbr></span>
<span  style=""> 333                                                                                                          </span>
<span class="357480976485572162" onmouseenter="enter('357480976485572162');" onmouseout="out('357480976485572162');" style=""><abbr title=" 334                         GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumber);"> 334                         GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phone🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335                     }                                                                                    </span>
<span class="7070094374713346098" onmouseenter="enter('7070094374713346098');" onmouseout="out('7070094374713346098');" style=""><abbr title=" 336                     if (((notificationSpec.flags &amp; NotificationSpec.FLAG_WEARABLE_REPLY) &gt; 0) || ((notificationSpec.type == NotificationType.GENERIC_SMS) &amp;&amp; (notificationSpec.phoneNumber != null))) {"> 336                     if (((notificationSpec.flags &amp; NotificationSpec.FLAG_WEARABLE_REPLY) &gt; 0) || ((notifi🔵</abbr></span>
<span class="8596546566066758446" onmouseenter="enter('8596546566066758446');" onmouseout="out('8596546566066758446');" style=""> 337                         // NOTE: maybe not where it belongs                                              </span>
<span class="-8155090018337980148" onmouseenter="enter('-8155090018337980148');" onmouseout="out('-8155090018337980148');" style=""> 338                         if (prefs.getBoolean(&quot;pebble_force_untested&quot;, false)) {                          </span>
<span class="-4898671785167586333" onmouseenter="enter('-4898671785167586333');" onmouseout="out('-4898671785167586333');" style=""> 339                             // I would rather like to save that as an array in ShadredPreferences        </span>
<span class="-1004001968510841144" onmouseenter="enter('-1004001968510841144');" onmouseout="out('-1004001968510841144');" style=""><abbr title=" 340                             // this would work but I dont know how to do the same in the Settings Activity&#x27;s xml"> 340                             // this would work but I dont know how to do the same in the Settings Activit🔵</abbr></span>
<span class="918410975004553070" onmouseenter="enter('918410975004553070');" onmouseout="out('918410975004553070');" style=""> 341                             ArrayList&lt;String&gt; replies = new ArrayList&lt;&gt;();                               </span>
<span class="-6180174879918590622" onmouseenter="enter('-6180174879918590622');" onmouseout="out('-6180174879918590622');" style=""> 342                             for (int i = 1; i &lt;= 16; i++) {                                              </span>
<span class="7210319232684079981" onmouseenter="enter('7210319232684079981');" onmouseout="out('7210319232684079981');" style=""> 343                                 String reply = prefs.getString(&quot;canned_reply_&quot; + i, null);               </span>
<span class="4048382189216467205" onmouseenter="enter('4048382189216467205');" onmouseout="out('4048382189216467205');" style=""> 344                                 if ((reply != null) &amp;&amp; (!reply.equals(&quot;&quot;))) {                            </span>
<span class="2547584645107762867" onmouseenter="enter('2547584645107762867');" onmouseout="out('2547584645107762867');" style=""> 345                                     replies.add(reply);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347                             }                                                                            </span>
<span class="8609386218730694936" onmouseenter="enter('8609386218730694936');" onmouseout="out('8609386218730694936');" style=""> 348                             notificationSpec.cannedReplies = replies.toArray(new String[replies.size()]);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350                     }                                                                                    </span>
<span class="7448145684850127146" onmouseenter="enter('7448145684850127146');" onmouseout="out('7448145684850127146');" style=""> 351                     mDeviceSupport.onNotification(notificationSpec);                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 352                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353                 }                                                                                        </span>
<span class="-6578560779745462873" onmouseenter="enter('-6578560779745462873');" onmouseout="out('-6578560779745462873');" style=""> 354             case ACTION_DELETE_NOTIFICATION :                                                            </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 355                 {                                                                                        </span>
<span class="3349508781851483145" onmouseenter="enter('3349508781851483145');" onmouseout="out('3349508781851483145');" style=""> 356                     mDeviceSupport.onDeleteNotification(intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1));  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 357                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358                 }                                                                                        </span>
<span class="8626018235158216502" onmouseenter="enter('8626018235158216502');" onmouseout="out('8626018235158216502');" style=""> 359             case ACTION_ADD_CALENDAREVENT :                                                              </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 360                 {                                                                                        </span>
<span class="6383078814938909727" onmouseenter="enter('6383078814938909727');" onmouseout="out('6383078814938909727');" style=""> 361                     CalendarEventSpec calendarEventSpec = new CalendarEventSpec();                       </span>
<span class="-4519615915191010270" onmouseenter="enter('-4519615915191010270');" onmouseout="out('-4519615915191010270');" style=""> 362                     calendarEventSpec.id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);              </span>
<span class="-2771471914459248535" onmouseenter="enter('-2771471914459248535');" onmouseout="out('-2771471914459248535');" style=""><abbr title=" 363                     calendarEventSpec.type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, ((byte) (-1)));"> 363                     calendarEventSpec.type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, ((byte) (-1)))🔵</abbr></span>
<span class="-9183502731005168979" onmouseenter="enter('-9183502731005168979');" onmouseout="out('-9183502731005168979');" style=""> 364                     calendarEventSpec.timestamp = intent.getIntExtra(EXTRA_CALENDAREVENT_TIMESTAMP, -1); </span>
<span class="6827154764120234041" onmouseenter="enter('6827154764120234041');" onmouseout="out('6827154764120234041');" style=""><abbr title=" 365                     calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1);"> 365                     calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION🔵</abbr></span>
<span class="-5920957138116470593" onmouseenter="enter('-5920957138116470593');" onmouseout="out('-5920957138116470593');" style=""> 366                     calendarEventSpec.title = intent.getStringExtra(EXTRA_CALENDAREVENT_TITLE);          </span>
<span class="7493274608343847488" onmouseenter="enter('7493274608343847488');" onmouseout="out('7493274608343847488');" style=""><abbr title=" 367                     calendarEventSpec.description = intent.getStringExtra(EXTRA_CALENDAREVENT_DESCRIPTION);"> 367                     calendarEventSpec.description = intent.getStringExtra(EXTRA_CALENDAREVENT_DESCRIPTION🔵</abbr></span>
<span class="-8286380370980489077" onmouseenter="enter('-8286380370980489077');" onmouseout="out('-8286380370980489077');" style=""> 368                     mDeviceSupport.onAddCalendarEvent(calendarEventSpec);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 369                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370                 }                                                                                        </span>
<span class="8936598552784286253" onmouseenter="enter('8936598552784286253');" onmouseout="out('8936598552784286253');" style=""> 371             case ACTION_DELETE_CALENDAREVENT :                                                           </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 372                 {                                                                                        </span>
<span class="-9034439215446076929" onmouseenter="enter('-9034439215446076929');" onmouseout="out('-9034439215446076929');" style=""> 373                     long id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                           </span>
<span class="7698896568128838586" onmouseenter="enter('7698896568128838586');" onmouseout="out('7698896568128838586');" style=""> 374                     byte type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, ((byte) (-1)));            </span>
<span class="5947039676491996864" onmouseenter="enter('5947039676491996864');" onmouseout="out('5947039676491996864');" style=""> 375                     mDeviceSupport.onDeleteCalendarEvent(type, id);                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 376                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377                 }                                                                                        </span>
<span class="-1121973510038526650" onmouseenter="enter('-1121973510038526650');" onmouseout="out('-1121973510038526650');" style=""> 378             case ACTION_REBOOT :                                                                         </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 379                 {                                                                                        </span>
<span class="-2489942875075524997" onmouseenter="enter('-2489942875075524997');" onmouseout="out('-2489942875075524997');" style=""> 380                     mDeviceSupport.onReboot();                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 381                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382                 }                                                                                        </span>
<span class="-2318921319625201612" onmouseenter="enter('-2318921319625201612');" onmouseout="out('-2318921319625201612');" style=""> 383             case ACTION_HEARTRATE_TEST :                                                                 </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 384                 {                                                                                        </span>
<span class="3468770722488184362" onmouseenter="enter('3468770722488184362');" onmouseout="out('3468770722488184362');" style=""> 385                     mDeviceSupport.onHeartRateTest();                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 386                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387                 }                                                                                        </span>
<span class="6844737869555930513" onmouseenter="enter('6844737869555930513');" onmouseout="out('6844737869555930513');" style=""> 388             case ACTION_FETCH_ACTIVITY_DATA :                                                            </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 389                 {                                                                                        </span>
<span class="-7202401441632084828" onmouseenter="enter('-7202401441632084828');" onmouseout="out('-7202401441632084828');" style=""> 390                     mDeviceSupport.onFetchActivityData();                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 391                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392                 }                                                                                        </span>
<span class="2584510296857517236" onmouseenter="enter('2584510296857517236');" onmouseout="out('2584510296857517236');" style=""> 393             case ACTION_DISCONNECT :                                                                     </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 394                 {                                                                                        </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 395                     mDeviceSupport.dispose();                                                            </span>
<span class="-4615561677157712926" onmouseenter="enter('-4615561677157712926');" onmouseout="out('-4615561677157712926');" style=""><abbr title=" 396                     if ((mGBDevice != null) &amp;&amp; (mGBDevice.getState() == GBDevice.State.WAITING_FOR_RECONNECT)) {"> 396                     if ((mGBDevice != null) &amp;&amp; (mGBDevice.getState() == GBDevice.State.WAITING_FOR_RECONN🔵</abbr></span>
<span class="3259686421128901509" onmouseenter="enter('3259686421128901509');" onmouseout="out('3259686421128901509');" style=""> 397                         setReceiversEnableState(false, false);                                           </span>
<span class="-5956740551059426027" onmouseenter="enter('-5956740551059426027');" onmouseout="out('-5956740551059426027');" style=""> 398                         mGBDevice.setState(GBDevice.State.NOT_CONNECTED);                                </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 399                         mGBDevice.sendDeviceUpdateIntent(this);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400                     }                                                                                    </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 401                     mDeviceSupport = null;                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 402                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403                 }                                                                                        </span>
<span class="9047755253825473051" onmouseenter="enter('9047755253825473051');" onmouseout="out('9047755253825473051');" style=""> 404             case ACTION_FIND_DEVICE :                                                                    </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 405                 {                                                                                        </span>
<span class="-5849712664725919544" onmouseenter="enter('-5849712664725919544');" onmouseout="out('-5849712664725919544');" style=""> 406                     boolean start = intent.getBooleanExtra(EXTRA_FIND_START, false);                     </span>
<span class="4985279237906318984" onmouseenter="enter('4985279237906318984');" onmouseout="out('4985279237906318984');" style=""> 407                     mDeviceSupport.onFindDevice(start);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 408                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409                 }                                                                                        </span>
<span class="-3878756498864158521" onmouseenter="enter('-3878756498864158521');" onmouseout="out('-3878756498864158521');" style=""> 410             case ACTION_SET_CONSTANT_VIBRATION :                                                         </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 411                 {                                                                                        </span>
<span class="5660371215983762654" onmouseenter="enter('5660371215983762654');" onmouseout="out('5660371215983762654');" style=""> 412                     int intensity = intent.getIntExtra(EXTRA_VIBRATION_INTENSITY, 0);                    </span>
<span class="-771567554143857067" onmouseenter="enter('-771567554143857067');" onmouseout="out('-771567554143857067');" style=""> 413                     mDeviceSupport.onSetConstantVibration(intensity);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 414                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415                 }                                                                                        </span>
<span class="7998894782500133633" onmouseenter="enter('7998894782500133633');" onmouseout="out('7998894782500133633');" style=""> 416             case ACTION_CALLSTATE :                                                                      </span>
<span class="3795479724098101655" onmouseenter="enter('3795479724098101655');" onmouseout="out('3795479724098101655');" style=""> 417                 CallSpec callSpec = new CallSpec();                                                      </span>
<span class="8093432130661732567" onmouseenter="enter('8093432130661732567');" onmouseout="out('8093432130661732567');" style=""> 418                 callSpec.command = intent.getIntExtra(EXTRA_CALL_COMMAND, CallSpec.CALL_UNDEFINED);      </span>
<span class="3428246913955323928" onmouseenter="enter('3428246913955323928');" onmouseout="out('3428246913955323928');" style=""> 419                 callSpec.number = intent.getStringExtra(EXTRA_CALL_PHONENUMBER);                         </span>
<span class="6859375461089721800" onmouseenter="enter('6859375461089721800');" onmouseout="out('6859375461089721800');" style=""> 420                 callSpec.name = intent.getStringExtra(EXTRA_CALL_DISPLAYNAME);                           </span>
<span class="5317988739476287691" onmouseenter="enter('5317988739476287691');" onmouseout="out('5317988739476287691');" style=""> 421                 mDeviceSupport.onSetCallState(callSpec);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 422                 break;                                                                                   </span>
<span class="-240515605242401110" onmouseenter="enter('-240515605242401110');" onmouseout="out('-240515605242401110');" style=""> 423             case ACTION_SETCANNEDMESSAGES :                                                              </span>
<span class="8874546108453183107" onmouseenter="enter('8874546108453183107');" onmouseout="out('8874546108453183107');" style=""> 424                 int type = intent.getIntExtra(EXTRA_CANNEDMESSAGES_TYPE, -1);                            </span>
<span class="-5661264507044040071" onmouseenter="enter('-5661264507044040071');" onmouseout="out('-5661264507044040071');" style=""> 425                 String[] cannedMessages = intent.getStringArrayExtra(EXTRA_CANNEDMESSAGES);              </span>
<span class="-8222861505291584468" onmouseenter="enter('-8222861505291584468');" onmouseout="out('-8222861505291584468');" style=""> 426                 CannedMessagesSpec cannedMessagesSpec = new CannedMessagesSpec();                        </span>
<span class="7310566106726436146" onmouseenter="enter('7310566106726436146');" onmouseout="out('7310566106726436146');" style=""> 427                 cannedMessagesSpec.type = type;                                                          </span>
<span class="5869684482704551906" onmouseenter="enter('5869684482704551906');" onmouseout="out('5869684482704551906');" style=""> 428                 cannedMessagesSpec.cannedMessages = cannedMessages;                                      </span>
<span class="-8600105550735814062" onmouseenter="enter('-8600105550735814062');" onmouseout="out('-8600105550735814062');" style=""> 429                 mDeviceSupport.onSetCannedMessages(cannedMessagesSpec);                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 430                 break;                                                                                   </span>
<span class="1106321754580562357" onmouseenter="enter('1106321754580562357');" onmouseout="out('1106321754580562357');" style=""> 431             case ACTION_SETTIME :                                                                        </span>
<span class="-9119989964627970186" onmouseenter="enter('-9119989964627970186');" onmouseout="out('-9119989964627970186');" style=""> 432                 mDeviceSupport.onSetTime();                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 433                 break;                                                                                   </span>
<span class="532658232344473437" onmouseenter="enter('532658232344473437');" onmouseout="out('532658232344473437');" style=""> 434             case ACTION_SETMUSICINFO :                                                                   </span>
<span class="-4606570715029334060" onmouseenter="enter('-4606570715029334060');" onmouseout="out('-4606570715029334060');" style=""> 435                 MusicSpec musicSpec = new MusicSpec();                                                   </span>
<span class="8291741641430545280" onmouseenter="enter('8291741641430545280');" onmouseout="out('8291741641430545280');" style=""> 436                 musicSpec.artist = intent.getStringExtra(EXTRA_MUSIC_ARTIST);                            </span>
<span class="-4864341328172403198" onmouseenter="enter('-4864341328172403198');" onmouseout="out('-4864341328172403198');" style=""> 437                 musicSpec.album = intent.getStringExtra(EXTRA_MUSIC_ALBUM);                              </span>
<span class="-6416639298697884565" onmouseenter="enter('-6416639298697884565');" onmouseout="out('-6416639298697884565');" style=""> 438                 musicSpec.track = intent.getStringExtra(EXTRA_MUSIC_TRACK);                              </span>
<span class="9057431340460323538" onmouseenter="enter('9057431340460323538');" onmouseout="out('9057431340460323538');" style=""> 439                 musicSpec.duration = intent.getIntExtra(EXTRA_MUSIC_DURATION, 0);                        </span>
<span class="-1013666482472897661" onmouseenter="enter('-1013666482472897661');" onmouseout="out('-1013666482472897661');" style=""> 440                 musicSpec.trackCount = intent.getIntExtra(EXTRA_MUSIC_TRACKCOUNT, 0);                    </span>
<span class="4288030402620969458" onmouseenter="enter('4288030402620969458');" onmouseout="out('4288030402620969458');" style=""> 441                 musicSpec.trackNr = intent.getIntExtra(EXTRA_MUSIC_TRACKNR, 0);                          </span>
<span class="-3425911873947758918" onmouseenter="enter('-3425911873947758918');" onmouseout="out('-3425911873947758918');" style=""> 442                 mDeviceSupport.onSetMusicInfo(musicSpec);                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 443                 break;                                                                                   </span>
<span class="8407472435276168244" onmouseenter="enter('8407472435276168244');" onmouseout="out('8407472435276168244');" style=""> 444             case ACTION_SETMUSICSTATE :                                                                  </span>
<span class="6191411421956413825" onmouseenter="enter('6191411421956413825');" onmouseout="out('6191411421956413825');" style=""> 445                 MusicStateSpec stateSpec = new MusicStateSpec();                                         </span>
<span class="-624825290000870261" onmouseenter="enter('-624825290000870261');" onmouseout="out('-624825290000870261');" style=""> 446                 stateSpec.shuffle = intent.getByteExtra(EXTRA_MUSIC_SHUFFLE, ((byte) (0)));              </span>
<span class="-7958960696123487611" onmouseenter="enter('-7958960696123487611');" onmouseout="out('-7958960696123487611');" style=""> 447                 stateSpec.repeat = intent.getByteExtra(EXTRA_MUSIC_REPEAT, ((byte) (0)));                </span>
<span class="-7121631563152240946" onmouseenter="enter('-7121631563152240946');" onmouseout="out('-7121631563152240946');" style=""> 448                 stateSpec.position = intent.getIntExtra(EXTRA_MUSIC_POSITION, 0);                        </span>
<span class="5871328423745521968" onmouseenter="enter('5871328423745521968');" onmouseout="out('5871328423745521968');" style=""> 449                 stateSpec.playRate = intent.getIntExtra(EXTRA_MUSIC_RATE, 0);                            </span>
<span class="-4129768058649978521" onmouseenter="enter('-4129768058649978521');" onmouseout="out('-4129768058649978521');" style=""> 450                 stateSpec.state = intent.getByteExtra(EXTRA_MUSIC_STATE, ((byte) (0)));                  </span>
<span class="4060952888262640879" onmouseenter="enter('4060952888262640879');" onmouseout="out('4060952888262640879');" style=""> 451                 mDeviceSupport.onSetMusicState(stateSpec);                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 452                 break;                                                                                   </span>
<span class="3777895198525905624" onmouseenter="enter('3777895198525905624');" onmouseout="out('3777895198525905624');" style=""> 453             case ACTION_REQUEST_APPINFO :                                                                </span>
<span class="-5176444858929114297" onmouseenter="enter('-5176444858929114297');" onmouseout="out('-5176444858929114297');" style=""> 454                 mDeviceSupport.onAppInfoReq();                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 455                 break;                                                                                   </span>
<span class="2281383283067640423" onmouseenter="enter('2281383283067640423');" onmouseout="out('2281383283067640423');" style=""> 456             case ACTION_REQUEST_SCREENSHOT :                                                             </span>
<span class="-5841518626542394716" onmouseenter="enter('-5841518626542394716');" onmouseout="out('-5841518626542394716');" style=""> 457                 mDeviceSupport.onScreenshotReq();                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 458                 break;                                                                                   </span>
<span class="3072761755796587677" onmouseenter="enter('3072761755796587677');" onmouseout="out('3072761755796587677');" style=""> 459             case ACTION_STARTAPP :                                                                       </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 460                 {                                                                                        </span>
<span class="5571036888693335251" onmouseenter="enter('5571036888693335251');" onmouseout="out('5571036888693335251');" style=""> 461                     UUID uuid = ((UUID) (intent.getSerializableExtra(EXTRA_APP_UUID)));                  </span>
<span class="-4793752934936499642" onmouseenter="enter('-4793752934936499642');" onmouseout="out('-4793752934936499642');" style=""> 462                     boolean start = intent.getBooleanExtra(EXTRA_APP_START, true);                       </span>
<span class="2197724895752145818" onmouseenter="enter('2197724895752145818');" onmouseout="out('2197724895752145818');" style=""> 463                     mDeviceSupport.onAppStart(uuid, start);                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 464                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465                 }                                                                                        </span>
<span class="7171997264290571009" onmouseenter="enter('7171997264290571009');" onmouseout="out('7171997264290571009');" style=""> 466             case ACTION_DELETEAPP :                                                                      </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 467                 {                                                                                        </span>
<span class="5571036888693335251" onmouseenter="enter('5571036888693335251');" onmouseout="out('5571036888693335251');" style=""> 468                     UUID uuid = ((UUID) (intent.getSerializableExtra(EXTRA_APP_UUID)));                  </span>
<span class="-5075261056503503060" onmouseenter="enter('-5075261056503503060');" onmouseout="out('-5075261056503503060');" style=""> 469                     mDeviceSupport.onAppDelete(uuid);                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 470                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471                 }                                                                                        </span>
<span class="-2335485245642591717" onmouseenter="enter('-2335485245642591717');" onmouseout="out('-2335485245642591717');" style=""> 472             case ACTION_APP_CONFIGURE :                                                                  </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 473                 {                                                                                        </span>
<span class="5571036888693335251" onmouseenter="enter('5571036888693335251');" onmouseout="out('5571036888693335251');" style=""> 474                     UUID uuid = ((UUID) (intent.getSerializableExtra(EXTRA_APP_UUID)));                  </span>
<span class="6629096593005137404" onmouseenter="enter('6629096593005137404');" onmouseout="out('6629096593005137404');" style=""> 475                     String config = intent.getStringExtra(EXTRA_APP_CONFIG);                             </span>
<span class="5940750753812597164" onmouseenter="enter('5940750753812597164');" onmouseout="out('5940750753812597164');" style=""> 476                     mDeviceSupport.onAppConfiguration(uuid, config);                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 477                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 478                 }                                                                                        </span>
<span class="88251741440892419" onmouseenter="enter('88251741440892419');" onmouseout="out('88251741440892419');" style=""> 479             case ACTION_APP_REORDER :                                                                    </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 480                 {                                                                                        </span>
<span class="-6419643930772130391" onmouseenter="enter('-6419643930772130391');" onmouseout="out('-6419643930772130391');" style=""> 481                     UUID[] uuids = ((UUID[]) (intent.getSerializableExtra(EXTRA_APP_UUID)));             </span>
<span class="75775485121754100" onmouseenter="enter('75775485121754100');" onmouseout="out('75775485121754100');" style=""> 482                     mDeviceSupport.onAppReorder(uuids);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 483                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484                 }                                                                                        </span>
<span class="-9055514225517780590" onmouseenter="enter('-9055514225517780590');" onmouseout="out('-9055514225517780590');" style=""> 485             case ACTION_INSTALL :                                                                        </span>
<span class="-597901030201298456" onmouseenter="enter('-597901030201298456');" onmouseout="out('-597901030201298456');" style=""> 486                 Uri uri = intent.getParcelableExtra(EXTRA_URI);                                          </span>
<span class="-6789028041247471756" onmouseenter="enter('-6789028041247471756');" onmouseout="out('-6789028041247471756');" style=""> 487                 if (uri != null) {                                                                       </span>
<span class="-1329231793440882084" onmouseenter="enter('-1329231793440882084');" onmouseout="out('-1329231793440882084');" style=""> 488                     LOG.info(&quot;will try to install app/fw&quot;);                                              </span>
<span class="-6419480600197101122" onmouseenter="enter('-6419480600197101122');" onmouseout="out('-6419480600197101122');" style=""> 489                     mDeviceSupport.onInstallApp(uri);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 491                 break;                                                                                   </span>
<span class="-262399626491926435" onmouseenter="enter('-262399626491926435');" onmouseout="out('-262399626491926435');" style=""> 492             case ACTION_SET_ALARMS :                                                                     </span>
<span class="-6223145105408550614" onmouseenter="enter('-6223145105408550614');" onmouseout="out('-6223145105408550614');" style=""> 493                 ArrayList&lt;Alarm&gt; alarms = intent.getParcelableArrayListExtra(EXTRA_ALARMS);              </span>
<span class="4545530897725553048" onmouseenter="enter('4545530897725553048');" onmouseout="out('4545530897725553048');" style=""> 494                 mDeviceSupport.onSetAlarms(alarms);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 495                 break;                                                                                   </span>
<span class="3910645524862814518" onmouseenter="enter('3910645524862814518');" onmouseout="out('3910645524862814518');" style=""> 496             case ACTION_ENABLE_REALTIME_STEPS :                                                          </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 497                 {                                                                                        </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 498                     boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                </span>
<span class="6892686300243280236" onmouseenter="enter('6892686300243280236');" onmouseout="out('6892686300243280236');" style=""> 499                     mDeviceSupport.onEnableRealtimeSteps(enable);                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 500                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 501                 }                                                                                        </span>
<span class="8175133819697404865" onmouseenter="enter('8175133819697404865');" onmouseout="out('8175133819697404865');" style=""> 502             case ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT :                                                 </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 503                 {                                                                                        </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 504                     boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                </span>
<span class="-1094130383852091406" onmouseenter="enter('-1094130383852091406');" onmouseout="out('-1094130383852091406');" style=""> 505                     mDeviceSupport.onEnableHeartRateSleepSupport(enable);                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 506                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507                 }                                                                                        </span>
<span class="-1357102435193001400" onmouseenter="enter('-1357102435193001400');" onmouseout="out('-1357102435193001400');" style=""> 508             case ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT :                                          </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 509                 {                                                                                        </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 510                     boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                </span>
<span class="-1932636993187682108" onmouseenter="enter('-1932636993187682108');" onmouseout="out('-1932636993187682108');" style=""> 511                     mDeviceSupport.onEnableRealtimeHeartRateMeasurement(enable);                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 512                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513                 }                                                                                        </span>
<span class="5607400771625991142" onmouseenter="enter('5607400771625991142');" onmouseout="out('5607400771625991142');" style=""> 514             case ACTION_SEND_CONFIGURATION :                                                             </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 515                 {                                                                                        </span>
<span class="-1876564357946593499" onmouseenter="enter('-1876564357946593499');" onmouseout="out('-1876564357946593499');" style=""> 516                     String config = intent.getStringExtra(EXTRA_CONFIG);                                 </span>
<span class="7508326450574330866" onmouseenter="enter('7508326450574330866');" onmouseout="out('7508326450574330866');" style=""> 517                     mDeviceSupport.onSendConfiguration(config);                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 518                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 519                 }                                                                                        </span>
<span class="-8734729972632189783" onmouseenter="enter('-8734729972632189783');" onmouseout="out('-8734729972632189783');" style=""> 520             case ACTION_TEST_NEW_FUNCTION :                                                              </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 521                 {                                                                                        </span>
<span class="-1399702412817247830" onmouseenter="enter('-1399702412817247830');" onmouseout="out('-1399702412817247830');" style=""> 522                     mDeviceSupport.onTestNewFunction();                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 523                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 524                 }                                                                                        </span>
<span class="2254126321531545291" onmouseenter="enter('2254126321531545291');" onmouseout="out('2254126321531545291');" style=""> 525             case ACTION_SEND_WEATHER :                                                                   </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 526                 {                                                                                        </span>
<span class="-7783159601671948934" onmouseenter="enter('-7783159601671948934');" onmouseout="out('-7783159601671948934');" style=""> 527                     WeatherSpec weatherSpec = new WeatherSpec();                                         </span>
<span class="9156523207902282301" onmouseenter="enter('9156523207902282301');" onmouseout="out('9156523207902282301');" style=""> 528                     weatherSpec.timestamp = intent.getIntExtra(EXTRA_WEATHER_TIMESTAMP, 0);              </span>
<span class="1927396717706702303" onmouseenter="enter('1927396717706702303');" onmouseout="out('1927396717706702303');" style=""> 529                     weatherSpec.location = intent.getStringExtra(EXTRA_WEATHER_LOCATION);                </span>
<span class="-6257828557925685883" onmouseenter="enter('-6257828557925685883');" onmouseout="out('-6257828557925685883');" style=""> 530                     weatherSpec.currentTemp = intent.getIntExtra(EXTRA_WEATHER_CURRENTTEMP, 0);          </span>
<span class="-8942134869809621954" onmouseenter="enter('-8942134869809621954');" onmouseout="out('-8942134869809621954');" style=""><abbr title=" 531                     weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE, 0);"> 531                     weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONC🔵</abbr></span>
<span class="-7768587738342623330" onmouseenter="enter('-7768587738342623330');" onmouseout="out('-7768587738342623330');" style=""> 532                     weatherSpec.currentCondition = intent.getStringExtra(EXTRA_WEATHER_CURRENTCONDITION);</span>
<span class="-4167858899002844683" onmouseenter="enter('-4167858899002844683');" onmouseout="out('-4167858899002844683');" style=""> 533                     weatherSpec.todayMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMAXTEMP, 0);        </span>
<span class="-7282217397460764709" onmouseenter="enter('-7282217397460764709');" onmouseout="out('-7282217397460764709');" style=""> 534                     weatherSpec.todayMinTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMINTEMP, 0);        </span>
<span class="7956003095875127587" onmouseenter="enter('7956003095875127587');" onmouseout="out('7956003095875127587');" style=""> 535                     weatherSpec.tomorrowMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMAXTEMP, 0);  </span>
<span class="-8851638748949702207" onmouseenter="enter('-8851638748949702207');" onmouseout="out('-8851638748949702207');" style=""> 536                     weatherSpec.tomorrowMinTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMINTEMP, 0);  </span>
<span class="2201545607462035674" onmouseenter="enter('2201545607462035674');" onmouseout="out('2201545607462035674');" style=""><abbr title=" 537                     weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCODE, 0);"> 537                     weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIO🔵</abbr></span>
<span class="-1267592612850228198" onmouseenter="enter('-1267592612850228198');" onmouseout="out('-1267592612850228198');" style=""> 538                     mDeviceSupport.onSendWeather(weatherSpec);                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 539                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 540                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 541         }                                                                                                </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 542         return START_STICKY;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 543     }                                                                                                    </span>
<span  style=""> 544                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 545     /**                                                                                                  </span>
<span class="4580399485680216365" onmouseenter="enter('4580399485680216365');" onmouseout="out('4580399485680216365');" style=""> 546      * Disposes the current DeviceSupport instance (if any) and sets a new device support instance       </span>
<span class="2634630049779853740" onmouseenter="enter('2634630049779853740');" onmouseout="out('2634630049779853740');" style=""> 547      * (if not null).                                                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 548      *                                                                                                   </span>
<span class="4293773011710976518" onmouseenter="enter('4293773011710976518');" onmouseout="out('4293773011710976518');" style=""> 549      * @param deviceSupport                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 550      */                                                                                                  </span>
<span class="-6264528256345703641" onmouseenter="enter('-6264528256345703641');" onmouseout="out('-6264528256345703641');" style=""> 551     private void setDeviceSupport(@Nullable DeviceSupport deviceSupport) {                               </span>
<span class="9012932578751895101" onmouseenter="enter('9012932578751895101');" onmouseout="out('9012932578751895101');" style=""> 552         if (deviceSupport != mDeviceSupport &amp;&amp; mDeviceSupport != null) {                                 </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 553             mDeviceSupport.dispose();                                                                    </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 554             mDeviceSupport = null;                                                                       </span>
<span class="4811934149983720641" onmouseenter="enter('4811934149983720641');" onmouseout="out('4811934149983720641');" style=""> 555             mGBDevice = null;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 556         }                                                                                                </span>
<span class="-8640715233311534019" onmouseenter="enter('-8640715233311534019');" onmouseout="out('-8640715233311534019');" style=""> 557         mDeviceSupport = deviceSupport;                                                                  </span>
<span class="5234576758850016889" onmouseenter="enter('5234576758850016889');" onmouseout="out('5234576758850016889');" style=""> 558         mGBDevice = mDeviceSupport != null ? mDeviceSupport.getDevice() : null;                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559     }                                                                                                    </span>
<span  style=""> 560                                                                                                          </span>
<span class="-1685018700062064081" onmouseenter="enter('-1685018700062064081');" onmouseout="out('-1685018700062064081');" style=""> 561     private void start() {                                                                               </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 562         if (!mStarted) {                                                                                 </span>
<span class="-1522198858483761838" onmouseenter="enter('-1522198858483761838');" onmouseout="out('-1522198858483761838');" style=""><abbr title=" 563             startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), false, this));"> 563             startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_run🔵</abbr></span>
<span class="975344646757702815" onmouseenter="enter('975344646757702815');" onmouseout="out('975344646757702815');" style=""> 564             mStarted = true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 566     }                                                                                                    </span>
<span  style=""> 567                                                                                                          </span>
<span class="5813756913533707772" onmouseenter="enter('5813756913533707772');" onmouseout="out('5813756913533707772');" style=""> 568     public boolean isStarted() {                                                                         </span>
<span class="-2429569693799116336" onmouseenter="enter('-2429569693799116336');" onmouseout="out('-2429569693799116336');" style=""> 569         return mStarted;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570     }                                                                                                    </span>
<span  style=""> 571                                                                                                          </span>
<span class="8882351257935254581" onmouseenter="enter('8882351257935254581');" onmouseout="out('8882351257935254581');" style=""> 572     private boolean isConnected() {                                                                      </span>
<span class="5200435358363356633" onmouseenter="enter('5200435358363356633');" onmouseout="out('5200435358363356633');" style=""> 573         return mGBDevice != null &amp;&amp; mGBDevice.isConnected();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574     }                                                                                                    </span>
<span  style=""> 575                                                                                                          </span>
<span class="-624932271712780363" onmouseenter="enter('-624932271712780363');" onmouseout="out('-624932271712780363');" style=""> 576     private boolean isConnecting() {                                                                     </span>
<span class="-6563283548989962053" onmouseenter="enter('-6563283548989962053');" onmouseout="out('-6563283548989962053');" style=""> 577         return mGBDevice != null &amp;&amp; mGBDevice.isConnecting();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578     }                                                                                                    </span>
<span  style=""> 579                                                                                                          </span>
<span class="-6106408407643787535" onmouseenter="enter('-6106408407643787535');" onmouseout="out('-6106408407643787535');" style=""> 580     private boolean isInitialized() {                                                                    </span>
<span class="4561275409582675350" onmouseenter="enter('4561275409582675350');" onmouseout="out('4561275409582675350');" style=""> 581         return mGBDevice != null &amp;&amp; mGBDevice.isInitialized();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 582     }                                                                                                    </span>
<span  style=""> 583                                                                                                          </span>
<span class="5402194572277524036" onmouseenter="enter('5402194572277524036');" onmouseout="out('5402194572277524036');" style=""> 584     private void setReceiversEnableState(boolean enable, boolean initialized) {                          </span>
<span class="6951530417476040470" onmouseenter="enter('6951530417476040470');" onmouseout="out('6951530417476040470');" style=""> 585         LOG.info(&quot;Setting broadcast receivers to: &quot; + enable);                                           </span>
<span class="-4932409833157877939" onmouseenter="enter('-4932409833157877939');" onmouseout="out('-4932409833157877939');" style=""> 586         if (enable &amp;&amp; initialized) {                                                                     </span>
<span class="6591780958658457767" onmouseenter="enter('6591780958658457767');" onmouseout="out('6591780958658457767');" style=""> 587             if (mCalendarReceiver == null) {                                                             </span>
<span class="1589022880921377802" onmouseenter="enter('1589022880921377802');" onmouseout="out('1589022880921377802');" style=""> 588                 IntentFilter calendarIntentFilter = new IntentFilter();                                  </span>
<span class="6130420683935393644" onmouseenter="enter('6130420683935393644');" onmouseout="out('6130420683935393644');" style=""> 589                 calendarIntentFilter.addAction(&quot;android.intent.action.PROVIDER_CHANGED&quot;);                </span>
<span class="4429816028500100541" onmouseenter="enter('4429816028500100541');" onmouseout="out('4429816028500100541');" style=""> 590                 calendarIntentFilter.addDataScheme(&quot;content&quot;);                                           </span>
<span class="2709340036463355330" onmouseenter="enter('2709340036463355330');" onmouseout="out('2709340036463355330');" style=""> 591                 calendarIntentFilter.addDataAuthority(&quot;com.android.calendar&quot;, null);                     </span>
<span class="7828433718710892920" onmouseenter="enter('7828433718710892920');" onmouseout="out('7828433718710892920');" style=""> 592                 mCalendarReceiver = new CalendarReceiver(mGBDevice);                                     </span>
<span class="891546991439734570" onmouseenter="enter('891546991439734570');" onmouseout="out('891546991439734570');" style=""> 593                 registerReceiver(mCalendarReceiver, calendarIntentFilter);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594             }                                                                                            </span>
<span class="2156977847537906148" onmouseenter="enter('2156977847537906148');" onmouseout="out('2156977847537906148');" style=""> 595         } else if (mCalendarReceiver != null) {                                                          </span>
<span class="4715856754314043620" onmouseenter="enter('4715856754314043620');" onmouseout="out('4715856754314043620');" style=""> 596             unregisterReceiver(mCalendarReceiver);                                                       </span>
<span class="2474754653382077142" onmouseenter="enter('2474754653382077142');" onmouseout="out('2474754653382077142');" style=""> 597             mCalendarReceiver = null;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 598         }                                                                                                </span>
<span class="-2074635852143506608" onmouseenter="enter('-2074635852143506608');" onmouseout="out('-2074635852143506608');" style=""> 599         if (enable) {                                                                                    </span>
<span class="-2667731398817597854" onmouseenter="enter('-2667731398817597854');" onmouseout="out('-2667731398817597854');" style=""> 600             if (mPhoneCallReceiver == null) {                                                            </span>
<span class="-1027287194590244417" onmouseenter="enter('-1027287194590244417');" onmouseout="out('-1027287194590244417');" style=""> 601                 mPhoneCallReceiver = new PhoneCallReceiver();                                            </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 602                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="-3679054454631357968" onmouseenter="enter('-3679054454631357968');" onmouseout="out('-3679054454631357968');" style=""> 603                 filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);                                   </span>
<span class="-5028677676977116040" onmouseenter="enter('-5028677676977116040');" onmouseout="out('-5028677676977116040');" style=""> 604                 filter.addAction(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;);                             </span>
<span class="-1617740261602734990" onmouseenter="enter('-1617740261602734990');" onmouseout="out('-1617740261602734990');" style=""> 605                 registerReceiver(mPhoneCallReceiver, filter);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 606             }                                                                                            </span>
<span class="-8170618993241153146" onmouseenter="enter('-8170618993241153146');" onmouseout="out('-8170618993241153146');" style=""> 607             if (mSMSReceiver == null) {                                                                  </span>
<span class="-211089161118191394" onmouseenter="enter('-211089161118191394');" onmouseout="out('-211089161118191394');" style=""> 608                 mSMSReceiver = new SMSReceiver();                                                        </span>
<span class="1212733765646185362" onmouseenter="enter('1212733765646185362');" onmouseout="out('1212733765646185362');" style=""><abbr title=" 609                 registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;));"> 609                 registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 610             }                                                                                            </span>
<span class="668102061168943903" onmouseenter="enter('668102061168943903');" onmouseout="out('668102061168943903');" style=""> 611             if (mPebbleReceiver == null) {                                                               </span>
<span class="4408213248365045403" onmouseenter="enter('4408213248365045403');" onmouseout="out('4408213248365045403');" style=""> 612                 mPebbleReceiver = new PebbleReceiver();                                                  </span>
<span class="-5803030088576376799" onmouseenter="enter('-5803030088576376799');" onmouseout="out('-5803030088576376799');" style=""><abbr title=" 613                 registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATION&quot;));"> 613                 registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATIO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 614             }                                                                                            </span>
<span class="2223215277832879461" onmouseenter="enter('2223215277832879461');" onmouseout="out('2223215277832879461');" style=""> 615             if (mMusicPlaybackReceiver == null) {                                                        </span>
<span class="5503055766703910020" onmouseenter="enter('5503055766703910020');" onmouseout="out('5503055766703910020');" style=""> 616                 mMusicPlaybackReceiver = new MusicPlaybackReceiver();                                    </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 617                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="6737519719833719404" onmouseenter="enter('6737519719833719404');" onmouseout="out('6737519719833719404');" style=""> 618                 for (String action : mMusicActions) {                                                    </span>
<span class="-2086107330814500487" onmouseenter="enter('-2086107330814500487');" onmouseout="out('-2086107330814500487');" style=""> 619                     filter.addAction(action);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 620                 }                                                                                        </span>
<span class="-887466916784662429" onmouseenter="enter('-887466916784662429');" onmouseout="out('-887466916784662429');" style=""> 621                 registerReceiver(mMusicPlaybackReceiver, filter);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 622             }                                                                                            </span>
<span class="6120212045117093999" onmouseenter="enter('6120212045117093999');" onmouseout="out('6120212045117093999');" style=""> 623             if (mTimeChangeReceiver == null) {                                                           </span>
<span class="4506860540419182646" onmouseenter="enter('4506860540419182646');" onmouseout="out('4506860540419182646');" style=""> 624                 mTimeChangeReceiver = new TimeChangeReceiver();                                          </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 625                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="-1824421398114764450" onmouseenter="enter('-1824421398114764450');" onmouseout="out('-1824421398114764450');" style=""> 626                 filter.addAction(&quot;android.intent.action.TIME_SET&quot;);                                      </span>
<span class="5919360464042611212" onmouseenter="enter('5919360464042611212');" onmouseout="out('5919360464042611212');" style=""> 627                 filter.addAction(&quot;android.intent.action.TIMEZONE_CHANGED&quot;);                              </span>
<span class="4651824235385821300" onmouseenter="enter('4651824235385821300');" onmouseout="out('4651824235385821300');" style=""> 628                 registerReceiver(mTimeChangeReceiver, filter);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 629             }                                                                                            </span>
<span class="5746507932728060065" onmouseenter="enter('5746507932728060065');" onmouseout="out('5746507932728060065');" style=""> 630             if (mBlueToothConnectReceiver == null) {                                                     </span>
<span class="1523081927393266022" onmouseenter="enter('1523081927393266022');" onmouseout="out('1523081927393266022');" style=""> 631                 mBlueToothConnectReceiver = new BluetoothConnectReceiver(this);                          </span>
<span class="5906520146498159160" onmouseenter="enter('5906520146498159160');" onmouseout="out('5906520146498159160');" style=""><abbr title=" 632                 registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED));"> 632                 registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_C🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 633             }                                                                                            </span>
<span class="-3609014386106656506" onmouseenter="enter('-3609014386106656506');" onmouseout="out('-3609014386106656506');" style=""> 634             if (mBlueToothPairingRequestReceiver == null) {                                              </span>
<span class="3804805981170580002" onmouseenter="enter('3804805981170580002');" onmouseout="out('3804805981170580002');" style=""> 635                 mBlueToothPairingRequestReceiver = new BluetoothPairingRequestReceiver(this);            </span>
<span class="-2695865817198876896" onmouseenter="enter('-2695865817198876896');" onmouseout="out('-2695865817198876896');" style=""><abbr title=" 636                 registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTION_PAIRING_REQUEST));"> 636                 registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTIO🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 637             }                                                                                            </span>
<span class="6324125865869253599" onmouseenter="enter('6324125865869253599');" onmouseout="out('6324125865869253599');" style=""> 638             if (mAlarmReceiver == null) {                                                                </span>
<span class="-6693619828328913529" onmouseenter="enter('-6693619828328913529');" onmouseout="out('-6693619828328913529');" style=""> 639                 mAlarmReceiver = new AlarmReceiver();                                                    </span>
<span class="6728187609005738292" onmouseenter="enter('6728187609005738292');" onmouseout="out('6728187609005738292');" style=""> 640                 registerReceiver(mAlarmReceiver, new IntentFilter(&quot;DAILY_ALARM&quot;));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 641             }                                                                                            </span>
<span class="1673772763036480141" onmouseenter="enter('1673772763036480141');" onmouseout="out('1673772763036480141');" style=""> 642             if (mAlarmClockReceiver == null) {                                                           </span>
<span class="9002364993456009479" onmouseenter="enter('9002364993456009479');" onmouseout="out('9002364993456009479');" style=""> 643                 mAlarmClockReceiver = new AlarmClockReceiver();                                          </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 644                 IntentFilter filter = new IntentFilter();                                                </span>
<span class="2829475773131805177" onmouseenter="enter('2829475773131805177');" onmouseout="out('2829475773131805177');" style=""> 645                 filter.addAction(AlarmClockReceiver.ALARM_ALERT_ACTION);                                 </span>
<span class="4454268969269107523" onmouseenter="enter('4454268969269107523');" onmouseout="out('4454268969269107523');" style=""> 646                 filter.addAction(AlarmClockReceiver.ALARM_DONE_ACTION);                                  </span>
<span class="6590560170717146411" onmouseenter="enter('6590560170717146411');" onmouseout="out('6590560170717146411');" style=""> 647                 registerReceiver(mAlarmClockReceiver, filter);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 649         } else {                                                                                         </span>
<span class="-6174360286964749747" onmouseenter="enter('-6174360286964749747');" onmouseout="out('-6174360286964749747');" style=""> 650             if (mPhoneCallReceiver != null) {                                                            </span>
<span class="2433672025347488127" onmouseenter="enter('2433672025347488127');" onmouseout="out('2433672025347488127');" style=""> 651                 unregisterReceiver(mPhoneCallReceiver);                                                  </span>
<span class="-7469783469378996049" onmouseenter="enter('-7469783469378996049');" onmouseout="out('-7469783469378996049');" style=""> 652                 mPhoneCallReceiver = null;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 653             }                                                                                            </span>
<span class="2357494330012051795" onmouseenter="enter('2357494330012051795');" onmouseout="out('2357494330012051795');" style=""> 654             if (mSMSReceiver != null) {                                                                  </span>
<span class="5610361879385034456" onmouseenter="enter('5610361879385034456');" onmouseout="out('5610361879385034456');" style=""> 655                 unregisterReceiver(mSMSReceiver);                                                        </span>
<span class="-1355497021171643704" onmouseenter="enter('-1355497021171643704');" onmouseout="out('-1355497021171643704');" style=""> 656                 mSMSReceiver = null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 657             }                                                                                            </span>
<span class="-3623759735741985563" onmouseenter="enter('-3623759735741985563');" onmouseout="out('-3623759735741985563');" style=""> 658             if (mPebbleReceiver != null) {                                                               </span>
<span class="927549022767172292" onmouseenter="enter('927549022767172292');" onmouseout="out('927549022767172292');" style=""> 659                 unregisterReceiver(mPebbleReceiver);                                                     </span>
<span class="7266036701373075006" onmouseenter="enter('7266036701373075006');" onmouseout="out('7266036701373075006');" style=""> 660                 mPebbleReceiver = null;                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 661             }                                                                                            </span>
<span class="-2055276518887519425" onmouseenter="enter('-2055276518887519425');" onmouseout="out('-2055276518887519425');" style=""> 662             if (mMusicPlaybackReceiver != null) {                                                        </span>
<span class="890047242835092110" onmouseenter="enter('890047242835092110');" onmouseout="out('890047242835092110');" style=""> 663                 unregisterReceiver(mMusicPlaybackReceiver);                                              </span>
<span class="-1552577282161915996" onmouseenter="enter('-1552577282161915996');" onmouseout="out('-1552577282161915996');" style=""> 664                 mMusicPlaybackReceiver = null;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 665             }                                                                                            </span>
<span class="1881385603425146700" onmouseenter="enter('1881385603425146700');" onmouseout="out('1881385603425146700');" style=""> 666             if (mTimeChangeReceiver != null) {                                                           </span>
<span class="-1894985795964522981" onmouseenter="enter('-1894985795964522981');" onmouseout="out('-1894985795964522981');" style=""> 667                 unregisterReceiver(mTimeChangeReceiver);                                                 </span>
<span class="-7572241227958742128" onmouseenter="enter('-7572241227958742128');" onmouseout="out('-7572241227958742128');" style=""> 668                 mTimeChangeReceiver = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669             }                                                                                            </span>
<span class="9095880258277986747" onmouseenter="enter('9095880258277986747');" onmouseout="out('9095880258277986747');" style=""> 670             if (mBlueToothConnectReceiver != null) {                                                     </span>
<span class="3743697862053435305" onmouseenter="enter('3743697862053435305');" onmouseout="out('3743697862053435305');" style=""> 671                 unregisterReceiver(mBlueToothConnectReceiver);                                           </span>
<span class="4585763212078609359" onmouseenter="enter('4585763212078609359');" onmouseout="out('4585763212078609359');" style=""> 672                 mBlueToothConnectReceiver = null;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 673             }                                                                                            </span>
<span class="6486147796970253365" onmouseenter="enter('6486147796970253365');" onmouseout="out('6486147796970253365');" style=""> 674             if (mBlueToothPairingRequestReceiver != null) {                                              </span>
<span class="4298983601624288046" onmouseenter="enter('4298983601624288046');" onmouseout="out('4298983601624288046');" style=""> 675                 unregisterReceiver(mBlueToothPairingRequestReceiver);                                    </span>
<span class="-7535446299407978854" onmouseenter="enter('-7535446299407978854');" onmouseout="out('-7535446299407978854');" style=""> 676                 mBlueToothPairingRequestReceiver = null;                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677             }                                                                                            </span>
<span class="6521400717686065872" onmouseenter="enter('6521400717686065872');" onmouseout="out('6521400717686065872');" style=""> 678             if (mAlarmReceiver != null) {                                                                </span>
<span class="-1015355596942575674" onmouseenter="enter('-1015355596942575674');" onmouseout="out('-1015355596942575674');" style=""> 679                 unregisterReceiver(mAlarmReceiver);                                                      </span>
<span class="8415896076062081933" onmouseenter="enter('8415896076062081933');" onmouseout="out('8415896076062081933');" style=""> 680                 mAlarmReceiver = null;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 681             }                                                                                            </span>
<span class="1726896335033811922" onmouseenter="enter('1726896335033811922');" onmouseout="out('1726896335033811922');" style=""> 682             if (mAlarmClockReceiver != null) {                                                           </span>
<span class="950736544794582273" onmouseenter="enter('950736544794582273');" onmouseout="out('950736544794582273');" style=""> 683                 unregisterReceiver(mAlarmClockReceiver);                                                 </span>
<span class="1888286601385537647" onmouseenter="enter('1888286601385537647');" onmouseout="out('1888286601385537647');" style=""> 684                 mAlarmClockReceiver = null;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 685             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 686         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 687     }                                                                                                    </span>
<span  style=""> 688                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 689     @Override                                                                                            </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style=""> 690     public void onDestroy() {                                                                            </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 691         if (hasPrefs()) {                                                                                </span>
<span class="-6878257734494454807" onmouseenter="enter('-6878257734494454807');" onmouseout="out('-6878257734494454807');" style=""> 692             getPrefs().getPreferences().unregisterOnSharedPreferenceChangeListener(this);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693         }                                                                                                </span>
<span class="-7834521410291460174" onmouseenter="enter('-7834521410291460174');" onmouseout="out('-7834521410291460174');" style=""> 694         LOG.debug(&quot;DeviceCommunicationService is being destroyed&quot;);                                      </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style=""> 695         super.onDestroy();                                                                               </span>
<span class="1476506345433791001" onmouseenter="enter('1476506345433791001');" onmouseout="out('1476506345433791001');" style=""> 696         LocalBroadcastManager.getInstance(this).unregisterReceiver(mReceiver);                           </span>
<span class="-252992997368624156" onmouseenter="enter('-252992997368624156');" onmouseout="out('-252992997368624156');" style=""> 697         // disable BroadcastReceivers                                                                    </span>
<span class="3259686421128901509" onmouseenter="enter('3259686421128901509');" onmouseout="out('3259686421128901509');" style=""> 698         setReceiversEnableState(false, false);                                                           </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 699         setDeviceSupport(null);                                                                          </span>
<span class="5470851135738171265" onmouseenter="enter('5470851135738171265');" onmouseout="out('5470851135738171265');" style=""><abbr title=" 700         NotificationManager nm = ((NotificationManager) (getSystemService(Context.NOTIFICATION_SERVICE)));"> 700         NotificationManager nm = ((NotificationManager) (getSystemService(Context.NOTIFICATION_SERVICE)))🔵</abbr></span>
<span class="-4664599626899189540" onmouseenter="enter('-4664599626899189540');" onmouseout="out('-4664599626899189540');" style=""><abbr title=" 701         nm.cancel(GB.NOTIFICATION_ID);// need to do this because the updated notification won&#x27;t be cancelled when service stops"> 701         nm.cancel(GB.NOTIFICATION_ID);// need to do this because the updated notification won&#x27;t be cancel🔵</abbr></span>
<span  style=""> 702                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703     }                                                                                                    </span>
<span  style=""> 704                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 705     @Override                                                                                            </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 706     public IBinder onBind(Intent intent) {                                                               </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 707         return null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708     }                                                                                                    </span>
<span  style=""> 709                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 710     @Override                                                                                            </span>
<span class="-8543522445860717125" onmouseenter="enter('-8543522445860717125');" onmouseout="out('-8543522445860717125');" style=""> 711     public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {             </span>
<span class="-685513269405093629" onmouseenter="enter('-685513269405093629');" onmouseout="out('-685513269405093629');" style=""> 712         if (GBPrefs.AUTO_RECONNECT.equals(key)) {                                                        </span>
<span class="6392472237335160020" onmouseenter="enter('6392472237335160020');" onmouseout="out('6392472237335160020');" style=""> 713             boolean autoReconnect = getGBPrefs().getAutoReconnect();                                     </span>
<span class="6496582276158603468" onmouseenter="enter('6496582276158603468');" onmouseout="out('6496582276158603468');" style=""> 714             if (mDeviceSupport != null) {                                                                </span>
<span class="-7892066664316346354" onmouseenter="enter('-7892066664316346354');" onmouseout="out('-7892066664316346354');" style=""> 715                 mDeviceSupport.setAutoReconnect(autoReconnect);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 716             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718     }                                                                                                    </span>
<span  style=""> 719                                                                                                          </span>
<span class="5219197634720526897" onmouseenter="enter('5219197634720526897');" onmouseout="out('5219197634720526897');" style=""> 720     protected boolean hasPrefs() {                                                                       </span>
<span class="4539535577863579094" onmouseenter="enter('4539535577863579094');" onmouseout="out('4539535577863579094');" style=""> 721         return getPrefs().getPreferences() != null;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722     }                                                                                                    </span>
<span  style=""> 723                                                                                                          </span>
<span class="8152942447888292090" onmouseenter="enter('8152942447888292090');" onmouseout="out('8152942447888292090');" style=""> 724     public Prefs getPrefs() {                                                                            </span>
<span class="-7206933193388772480" onmouseenter="enter('-7206933193388772480');" onmouseout="out('-7206933193388772480');" style=""> 725         return GBApplication.getPrefs();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726     }                                                                                                    </span>
<span  style=""> 727                                                                                                          </span>
<span class="7931316051287321883" onmouseenter="enter('7931316051287321883');" onmouseout="out('7931316051287321883');" style=""> 728     public GBPrefs getGBPrefs() {                                                                        </span>
<span class="-2213918291073204825" onmouseenter="enter('-2213918291073204825');" onmouseout="out('-2213918291073204825');" style=""> 729         return GBApplication.getGBPrefs();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 730     }                                                                                                    </span>
<span  style=""> 731                                                                                                          </span>
<span class="-3261323066157882616" onmouseenter="enter('-3261323066157882616');" onmouseout="out('-3261323066157882616');" style=""> 732     public GBDevice getGBDevice() {                                                                      </span>
<span class="2107010764646382456" onmouseenter="enter('2107010764646382456');" onmouseout="out('2107010764646382456');" style=""> 733         return mGBDevice;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735 }                                                                                                        </span>



</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-2913458566757142997" onmouseenter="enter('-2913458566757142997');" onmouseout="out('-2913458566757142997');" style="">   1  /*  Copyright (C) 2015-2017 Andreas Shimokawa, Avamander, Carsten Pfeiffer,                                       </span>
<span class="-6081250020317944645" onmouseenter="enter('-6081250020317944645');" onmouseout="out('-6081250020317944645');" style="">   2      Daniele Gobbetti, ivanovlev, Julien Pivotto, Kasha, Sergey Trofimov, Steffen                                  </span>
<span class="124812437508453505" onmouseenter="enter('124812437508453505');" onmouseout="out('124812437508453505');" style="">   3      Liebergeld, Uwe Hermann                                                                                       </span>
<span  style="">   4                                                                                                                    </span>
<span class="-7759499394858783956" onmouseenter="enter('-7759499394858783956');" onmouseout="out('-7759499394858783956');" style="">   5      This file is part of Gadgetbridge.                                                                            </span>
<span  style="">   6                                                                                                                    </span>
<span class="-2647557636279629478" onmouseenter="enter('-2647557636279629478');" onmouseout="out('-2647557636279629478');" style="">   7      Gadgetbridge is free software: you can redistribute it and/or modify                                          </span>
<span class="4878736751218581391" onmouseenter="enter('4878736751218581391');" onmouseout="out('4878736751218581391');" style="">   8      it under the terms of the GNU Affero General Public License as published                                      </span>
<span class="-5160078368722358920" onmouseenter="enter('-5160078368722358920');" onmouseout="out('-5160078368722358920');" style="">   9      by the Free Software Foundation, either version 3 of the License, or                                          </span>
<span class="6661789815760177463" onmouseenter="enter('6661789815760177463');" onmouseout="out('6661789815760177463');" style="">  10      (at your option) any later version.                                                                           </span>
<span  style="">  11                                                                                                                    </span>
<span class="-6828199977528779968" onmouseenter="enter('-6828199977528779968');" onmouseout="out('-6828199977528779968');" style="">  12      Gadgetbridge is distributed in the hope that it will be useful,                                               </span>
<span class="4883593508173597945" onmouseenter="enter('4883593508173597945');" onmouseout="out('4883593508173597945');" style="">  13      but WITHOUT ANY WARRANTY; without even the implied warranty of                                                </span>
<span class="2300657568347926527" onmouseenter="enter('2300657568347926527');" onmouseout="out('2300657568347926527');" style="">  14      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                                                 </span>
<span class="4681049817175334681" onmouseenter="enter('4681049817175334681');" onmouseout="out('4681049817175334681');" style="">  15      GNU Affero General Public License for more details.                                                           </span>
<span  style="">  16                                                                                                                    </span>
<span class="-3235531360569947201" onmouseenter="enter('-3235531360569947201');" onmouseout="out('-3235531360569947201');" style="">  17      You should have received a copy of the GNU Affero General Public License                                      </span>
<span class="-3088444562895398794" onmouseenter="enter('-3088444562895398794');" onmouseout="out('-3088444562895398794');" style="">  18      along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;. */                                      </span>
<span class="-7738010425234448954" onmouseenter="enter('-7738010425234448954');" onmouseout="out('-7738010425234448954');" style="">  19  package nodomain.freeyourgadget.gadgetbridge.service;                                                             </span>
<span  style="">  20                                                                                                                    </span>
<span class="2183671588995744448" onmouseenter="enter('2183671588995744448');" onmouseout="out('2183671588995744448');" style="">  21  import android.app.NotificationManager;                                                                           </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  22  import android.app.Service;                                                                                       </span>
<span class="2859895893394018468" onmouseenter="enter('2859895893394018468');" onmouseout="out('2859895893394018468');" style="">  23  import android.bluetooth.BluetoothDevice;                                                                         </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  24  import android.content.BroadcastReceiver;                                                                         </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  25  import android.content.Context;                                                                                   </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  26  import android.content.Intent;                                                                                    </span>
<span class="8697221465021235869" onmouseenter="enter('8697221465021235869');" onmouseout="out('8697221465021235869');" style="">  27  import android.content.IntentFilter;                                                                              </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  28  import android.content.SharedPreferences;                                                                         </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">  29  import android.net.Uri;                                                                                           </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">  30  import android.os.IBinder;                                                                                        </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  31  import android.support.annotation.Nullable;                                                                       </span>
<span class="2517521963771876570" onmouseenter="enter('2517521963771876570');" onmouseout="out('2517521963771876570');" style="">  32  import android.support.v4.content.LocalBroadcastManager;                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  33  import android.widget.Toast;                                                                                      </span>
<span  style="">  34                                                                                                                    </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  35  import org.slf4j.Logger;                                                                                          </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  36  import org.slf4j.LoggerFactory;                                                                                   </span>
<span  style="">  37                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  38  import java.util.ArrayList;                                                                                       </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  39  import java.util.Random;                                                                                          </span>
<span class="2390503830490498598" onmouseenter="enter('2390503830490498598');" onmouseout="out('2390503830490498598');" style="">  40  import java.util.UUID;                                                                                            </span>
<span  style="">  41                                                                                                                    </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  42  import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                                        </span>
<span class="-7198279398549834921" onmouseenter="enter('-7198279398549834921');" onmouseout="out('-7198279398549834921');" style="">  43  import nodomain.freeyourgadget.gadgetbridge.R;                                                                    </span>
<span class="-1043793227667586476" onmouseenter="enter('-1043793227667586476');" onmouseout="out('-1043793227667586476');" style="">  44  import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmClockReceiver;                                    </span>
<span class="-466082507516838314" onmouseenter="enter('-466082507516838314');" onmouseout="out('-466082507516838314');" style="">  45  import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmReceiver;                                         </span>
<span class="-7129464422930519321" onmouseenter="enter('-7129464422930519321');" onmouseout="out('-7129464422930519321');" style="">  46  import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothConnectReceiver;                              </span>
<span class="2398603908936046398" onmouseenter="enter('2398603908936046398');" onmouseout="out('2398603908936046398');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +import nodomain.freeyourgadget.gadgetbridge.externalevents.CalendarReceiver;                                      </span>
<span class="-2271437192109431069" onmouseenter="enter('-2271437192109431069');" onmouseout="out('-2271437192109431069');" style="">  48  import nodomain.freeyourgadget.gadgetbridge.externalevents.MusicPlaybackReceiver;                                 </span>
<span class="-8149017599814569985" onmouseenter="enter('-8149017599814569985');" onmouseout="out('-8149017599814569985');" style="">  49  import nodomain.freeyourgadget.gadgetbridge.externalevents.PebbleReceiver;                                        </span>
<span class="2562090092581913054" onmouseenter="enter('2562090092581913054');" onmouseout="out('2562090092581913054');" style="">  50  import nodomain.freeyourgadget.gadgetbridge.externalevents.PhoneCallReceiver;                                     </span>
<span class="-1515256456216613580" onmouseenter="enter('-1515256456216613580');" onmouseout="out('-1515256456216613580');" style="">  51  import nodomain.freeyourgadget.gadgetbridge.externalevents.SMSReceiver;                                           </span>
<span class="-4561728641078454300" onmouseenter="enter('-4561728641078454300');" onmouseout="out('-4561728641078454300');" style="">  52  import nodomain.freeyourgadget.gadgetbridge.externalevents.TimeChangeReceiver;                                    </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  53  import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                                        </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  54  import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                          </span>
<span class="-3899388208810973608" onmouseenter="enter('-3899388208810973608');" onmouseout="out('-3899388208810973608');" style="">  55  import nodomain.freeyourgadget.gadgetbridge.model.CalendarEventSpec;                                              </span>
<span class="-9074570965792323186" onmouseenter="enter('-9074570965792323186');" onmouseout="out('-9074570965792323186');" style="">  56  import nodomain.freeyourgadget.gadgetbridge.model.CallSpec;                                                       </span>
<span class="-7415926539738049206" onmouseenter="enter('-7415926539738049206');" onmouseout="out('-7415926539738049206');" style="">  57  import nodomain.freeyourgadget.gadgetbridge.model.CannedMessagesSpec;                                             </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  58  import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                                      </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  59  import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                                 </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  60  import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                               </span>
<span class="7087011959288310716" onmouseenter="enter('7087011959288310716');" onmouseout="out('7087011959288310716');" style="">  61  import nodomain.freeyourgadget.gadgetbridge.model.NotificationType;                                               </span>
<span class="-40839721936664146" onmouseenter="enter('-40839721936664146');" onmouseout="out('-40839721936664146');" style="">  62  import nodomain.freeyourgadget.gadgetbridge.model.WeatherSpec;                                                    </span>
<span class="-8326539218894047431" onmouseenter="enter('-8326539218894047431');" onmouseout="out('-8326539218894047431');" style="">  63  import nodomain.freeyourgadget.gadgetbridge.util.DeviceHelper;                                                    </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  64  import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                              </span>
<span class="-9094281754584205644" onmouseenter="enter('-9094281754584205644');" onmouseout="out('-9094281754584205644');" style="">  65  import nodomain.freeyourgadget.gadgetbridge.util.GBPrefs;                                                         </span>
<span class="-600862318521663319" onmouseenter="enter('-600862318521663319');" onmouseout="out('-600862318521663319');" style="">  66  import nodomain.freeyourgadget.gadgetbridge.util.Prefs;                                                           </span>
<span  style="">  67                                                                                                                    </span>
<span class="6045190136542162764" onmouseenter="enter('6045190136542162764');" onmouseout="out('6045190136542162764');" style="">  68  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ADD_CALENDAREVENT;                  </span>
<span class="-4691650729708495340" onmouseenter="enter('-4691650729708495340');" onmouseout="out('-4691650729708495340');" style="">  69  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_CONFIGURE;                      </span>
<span class="8979266882952044394" onmouseenter="enter('8979266882952044394');" onmouseout="out('8979266882952044394');" style="">  70  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_REORDER;                        </span>
<span class="-542869728357892530" onmouseenter="enter('-542869728357892530');" onmouseout="out('-542869728357892530');" style="">  71  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CALLSTATE;                          </span>
<span class="-247683295782230703" onmouseenter="enter('-247683295782230703');" onmouseout="out('-247683295782230703');" style="">  72  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CONNECT;                            </span>
<span class="-4616915307566341750" onmouseenter="enter('-4616915307566341750');" onmouseout="out('-4616915307566341750');" style="">  73  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETEAPP;                          </span>
<span class="-3074116335608109863" onmouseenter="enter('-3074116335608109863');" onmouseout="out('-3074116335608109863');" style="">  74  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_CALENDAREVENT;               </span>
<span class="-1860366238468238430" onmouseenter="enter('-1860366238468238430');" onmouseout="out('-1860366238468238430');" style="">  75  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_NOTIFICATION;                </span>
<span class="-1812841064554504500" onmouseenter="enter('-1812841064554504500');" onmouseout="out('-1812841064554504500');" style="">  76  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DISCONNECT;                         </span>
<span class="-4921661448524955199" onmouseenter="enter('-4921661448524955199');" onmouseout="out('-4921661448524955199');" style="">  77  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT;     </span>
<span class="6246333874127665785" onmouseenter="enter('6246333874127665785');" onmouseout="out('6246333874127665785');" style=""><abbr title="  78  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT;">  78  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMEN🔵</abbr></span>
<span class="-7030527688450425299" onmouseenter="enter('-7030527688450425299');" onmouseout="out('-7030527688450425299');" style="">  79  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_STEPS;              </span>
<span class="5330179003852293257" onmouseenter="enter('5330179003852293257');" onmouseout="out('5330179003852293257');" style="">  80  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FETCH_ACTIVITY_DATA;                </span>
<span class="-6966848371161420018" onmouseenter="enter('-6966848371161420018');" onmouseout="out('-6966848371161420018');" style="">  81  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FIND_DEVICE;                        </span>
<span class="4586775629870362245" onmouseenter="enter('4586775629870362245');" onmouseout="out('4586775629870362245');" style="">  82  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_HEARTRATE_TEST;                     </span>
<span class="-5289289347666796824" onmouseenter="enter('-5289289347666796824');" onmouseout="out('-5289289347666796824');" style="">  83  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_INSTALL;                            </span>
<span class="3276198152396102653" onmouseenter="enter('3276198152396102653');" onmouseout="out('3276198152396102653');" style="">  84  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_NOTIFICATION;                       </span>
<span class="5085118059276382623" onmouseenter="enter('5085118059276382623');" onmouseout="out('5085118059276382623');" style="">  85  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REBOOT;                             </span>
<span class="-6594726169437148825" onmouseenter="enter('-6594726169437148825');" onmouseout="out('-6594726169437148825');" style="">  86  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_APPINFO;                    </span>
<span class="-1183129577946721611" onmouseenter="enter('-1183129577946721611');" onmouseout="out('-1183129577946721611');" style="">  87  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_DEVICEINFO;                 </span>
<span class="5758933186280297106" onmouseenter="enter('5758933186280297106');" onmouseout="out('5758933186280297106');" style="">  88  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_SCREENSHOT;                 </span>
<span class="-4714892334355914946" onmouseenter="enter('-4714892334355914946');" onmouseout="out('-4714892334355914946');" style="">  89  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_CONFIGURATION;                 </span>
<span class="8513571795744919095" onmouseenter="enter('8513571795744919095');" onmouseout="out('8513571795744919095');" style="">  90  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_WEATHER;                       </span>
<span class="7391455619690263299" onmouseenter="enter('7391455619690263299');" onmouseout="out('7391455619690263299');" style="">  91  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETCANNEDMESSAGES;                  </span>
<span class="3872370270421160251" onmouseenter="enter('3872370270421160251');" onmouseout="out('3872370270421160251');" style="">  92  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICINFO;                       </span>
<span class="4922243836603922576" onmouseenter="enter('4922243836603922576');" onmouseout="out('4922243836603922576');" style="">  93  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICSTATE;                      </span>
<span class="-1819410662234697183" onmouseenter="enter('-1819410662234697183');" onmouseout="out('-1819410662234697183');" style="">  94  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETTIME;                            </span>
<span class="5600424252036500004" onmouseenter="enter('5600424252036500004');" onmouseout="out('5600424252036500004');" style="">  95  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_ALARMS;                         </span>
<span class="-8485936520151852725" onmouseenter="enter('-8485936520151852725');" onmouseout="out('-8485936520151852725');" style="">  96  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_CONSTANT_VIBRATION;             </span>
<span class="-2895954538846707623" onmouseenter="enter('-2895954538846707623');" onmouseout="out('-2895954538846707623');" style="">  97  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_START;                              </span>
<span class="159603830185606040" onmouseenter="enter('159603830185606040');" onmouseout="out('159603830185606040');" style="">  98  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_STARTAPP;                           </span>
<span class="-8485404521634723509" onmouseenter="enter('-8485404521634723509');" onmouseout="out('-8485404521634723509');" style="">  99  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_TEST_NEW_FUNCTION;                  </span>
<span class="770450972489050338" onmouseenter="enter('770450972489050338');" onmouseout="out('770450972489050338');" style=""> 100  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_ALARMS;                              </span>
<span class="-7114221800478427382" onmouseenter="enter('-7114221800478427382');" onmouseout="out('-7114221800478427382');" style=""> 101  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_CONFIG;                          </span>
<span class="8965411938901348033" onmouseenter="enter('8965411938901348033');" onmouseout="out('8965411938901348033');" style=""> 102  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_START;                           </span>
<span class="-8283928422425000100" onmouseenter="enter('-8283928422425000100');" onmouseout="out('-8283928422425000100');" style=""> 103  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_UUID;                            </span>
<span class="-6028659556554711747" onmouseenter="enter('-6028659556554711747');" onmouseout="out('-6028659556554711747');" style=""> 104  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_BOOLEAN_ENABLE;                      </span>
<span class="7522647889408017982" onmouseenter="enter('7522647889408017982');" onmouseout="out('7522647889408017982');" style=""> 105  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DESCRIPTION;           </span>
<span class="2012224363855729231" onmouseenter="enter('2012224363855729231');" onmouseout="out('2012224363855729231');" style=""> 106  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DURATION;              </span>
<span class="2381002028954495403" onmouseenter="enter('2381002028954495403');" onmouseout="out('2381002028954495403');" style=""> 107  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_ID;                    </span>
<span class="-7291810314793060088" onmouseenter="enter('-7291810314793060088');" onmouseout="out('-7291810314793060088');" style=""> 108  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TIMESTAMP;             </span>
<span class="384106080468578959" onmouseenter="enter('384106080468578959');" onmouseout="out('384106080468578959');" style=""> 109  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TITLE;                 </span>
<span class="-6202091316758952440" onmouseenter="enter('-6202091316758952440');" onmouseout="out('-6202091316758952440');" style=""> 110  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TYPE;                  </span>
<span class="8389643945828398933" onmouseenter="enter('8389643945828398933');" onmouseout="out('8389643945828398933');" style=""> 111  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_COMMAND;                        </span>
<span class="4792956381576162355" onmouseenter="enter('4792956381576162355');" onmouseout="out('4792956381576162355');" style=""> 112  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_DISPLAYNAME;                    </span>
<span class="5333868123015017193" onmouseenter="enter('5333868123015017193');" onmouseout="out('5333868123015017193');" style=""> 113  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_PHONENUMBER;                    </span>
<span class="-5129778312485721110" onmouseenter="enter('-5129778312485721110');" onmouseout="out('-5129778312485721110');" style=""> 114  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES;                      </span>
<span class="4656341769499509905" onmouseenter="enter('4656341769499509905');" onmouseout="out('4656341769499509905');" style=""> 115  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES_TYPE;                 </span>
<span class="5199391479118480443" onmouseenter="enter('5199391479118480443');" onmouseout="out('5199391479118480443');" style=""> 116  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONFIG;                              </span>
<span class="4059405288294641795" onmouseenter="enter('4059405288294641795');" onmouseout="out('4059405288294641795');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONNECT_FIRST_TIME;                  </span>
<span class="4221194159076226870" onmouseenter="enter('4221194159076226870');" onmouseout="out('4221194159076226870');" style=""> 118  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_FIND_START;                          </span>
<span class="-2258225638015800384" onmouseenter="enter('-2258225638015800384');" onmouseout="out('-2258225638015800384');" style=""> 119  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ALBUM;                         </span>
<span class="-2216137706415061756" onmouseenter="enter('-2216137706415061756');" onmouseout="out('-2216137706415061756');" style=""> 120  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ARTIST;                        </span>
<span class="8046519832671029614" onmouseenter="enter('8046519832671029614');" onmouseout="out('8046519832671029614');" style=""> 121  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_DURATION;                      </span>
<span class="-6142463088169555654" onmouseenter="enter('-6142463088169555654');" onmouseout="out('-6142463088169555654');" style=""> 122  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_POSITION;                      </span>
<span class="5744330398351461055" onmouseenter="enter('5744330398351461055');" onmouseout="out('5744330398351461055');" style=""> 123  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_RATE;                          </span>
<span class="-4927372672415271921" onmouseenter="enter('-4927372672415271921');" onmouseout="out('-4927372672415271921');" style=""> 124  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_REPEAT;                        </span>
<span class="7486056797989668892" onmouseenter="enter('7486056797989668892');" onmouseout="out('7486056797989668892');" style=""> 125  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_SHUFFLE;                       </span>
<span class="-8253565582178279411" onmouseenter="enter('-8253565582178279411');" onmouseout="out('-8253565582178279411');" style=""> 126  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_STATE;                         </span>
<span class="-2409139333736829248" onmouseenter="enter('-2409139333736829248');" onmouseout="out('-2409139333736829248');" style=""> 127  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACK;                         </span>
<span class="3248584088261486079" onmouseenter="enter('3248584088261486079');" onmouseout="out('3248584088261486079');" style=""> 128  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKCOUNT;                    </span>
<span class="-2704967574938476609" onmouseenter="enter('-2704967574938476609');" onmouseout="out('-2704967574938476609');" style=""> 129  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKNR;                       </span>
<span class="3700368637395551240" onmouseenter="enter('3700368637395551240');" onmouseout="out('3700368637395551240');" style=""> 130  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_BODY;                   </span>
<span class="6396194886685840912" onmouseenter="enter('6396194886685840912');" onmouseout="out('6396194886685840912');" style=""> 131  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_FLAGS;                  </span>
<span class="4822457600196668791" onmouseenter="enter('4822457600196668791');" onmouseout="out('4822457600196668791');" style=""> 132  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_ID;                     </span>
<span class="7674789080848891549" onmouseenter="enter('7674789080848891549');" onmouseout="out('7674789080848891549');" style=""> 133  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_PHONENUMBER;            </span>
<span class="4567989658129086488" onmouseenter="enter('4567989658129086488');" onmouseout="out('4567989658129086488');" style=""> 134  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SENDER;                 </span>
<span class="5059516478886573650" onmouseenter="enter('5059516478886573650');" onmouseout="out('5059516478886573650');" style=""> 135  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SOURCENAME;             </span>
<span class="4541479799245762364" onmouseenter="enter('4541479799245762364');" onmouseout="out('4541479799245762364');" style=""> 136  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SUBJECT;                </span>
<span class="-2743035339658362547" onmouseenter="enter('-2743035339658362547');" onmouseout="out('-2743035339658362547');" style=""> 137  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TITLE;                  </span>
<span class="-5872178756477099231" onmouseenter="enter('-5872178756477099231');" onmouseout="out('-5872178756477099231');" style=""> 138  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TYPE;                   </span>
<span class="4059405288294641795" onmouseenter="enter('4059405288294641795');" onmouseout="out('4059405288294641795');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONNECT_FIRST_TIME;                  </span>
<span class="2609126409554850516" onmouseenter="enter('2609126409554850516');" onmouseout="out('2609126409554850516');" style=""> 140  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_URI;                                 </span>
<span class="558351812671615614" onmouseenter="enter('558351812671615614');" onmouseout="out('558351812671615614');" style=""> 141  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_VIBRATION_INTENSITY;                 </span>
<span class="-3363581013306175134" onmouseenter="enter('-3363581013306175134');" onmouseout="out('-3363581013306175134');" style=""> 142  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITION;            </span>
<span class="-8943294338982235009" onmouseenter="enter('-8943294338982235009');" onmouseout="out('-8943294338982235009');" style=""> 143  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE;        </span>
<span class="2859637720228343142" onmouseenter="enter('2859637720228343142');" onmouseout="out('2859637720228343142');" style=""> 144  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTTEMP;                 </span>
<span class="-2095384497186099299" onmouseenter="enter('-2095384497186099299');" onmouseout="out('-2095384497186099299');" style=""> 145  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_LOCATION;                    </span>
<span class="6581594015461287613" onmouseenter="enter('6581594015461287613');" onmouseout="out('6581594015461287613');" style=""> 146  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TIMESTAMP;                   </span>
<span class="-7095302037137566641" onmouseenter="enter('-7095302037137566641');" onmouseout="out('-7095302037137566641');" style=""> 147  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMAXTEMP;                </span>
<span class="4074481476846669078" onmouseenter="enter('4074481476846669078');" onmouseout="out('4074481476846669078');" style=""> 148  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMINTEMP;                </span>
<span class="-2007611705625738582" onmouseenter="enter('-2007611705625738582');" onmouseout="out('-2007611705625738582');" style=""> 149  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCODE;       </span>
<span class="-2323001311549544950" onmouseenter="enter('-2323001311549544950');" onmouseout="out('-2323001311549544950');" style=""> 150  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMAXTEMP;             </span>
<span class="-6803925815152400371" onmouseenter="enter('-6803925815152400371');" onmouseout="out('-6803925815152400371');" style=""> 151  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMINTEMP;             </span>
<span  style=""> 152                                                                                                                    </span>
<span class="7002389026711922138" onmouseenter="enter('7002389026711922138');" onmouseout="out('7002389026711922138');" style=""><abbr title=" 153  public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListener {"> 153  public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListe🔵</abbr></span>
<span class="2948370626519459736" onmouseenter="enter('2948370626519459736');" onmouseout="out('2948370626519459736');" style=""> 154      private static final Logger LOG = LoggerFactory.getLogger(DeviceCommunicationService.class);                  </span>
<span class="8315759516084024026" onmouseenter="enter('8315759516084024026');" onmouseout="out('8315759516084024026');" style=""> 155      private static DeviceSupportFactory DEVICE_SUPPORT_FACTORY = null;                                            </span>
<span  style=""> 156                                                                                                                    </span>
<span class="5665266661180725736" onmouseenter="enter('5665266661180725736');" onmouseout="out('5665266661180725736');" style=""> 157      private boolean mStarted = false;                                                                             </span>
<span  style=""> 158                                                                                                                    </span>
<span class="2619013435041056124" onmouseenter="enter('2619013435041056124');" onmouseout="out('2619013435041056124');" style=""> 159      private DeviceSupportFactory mFactory;                                                                        </span>
<span class="-5535852384441440556" onmouseenter="enter('-5535852384441440556');" onmouseout="out('-5535852384441440556');" style=""> 160      private GBDevice mGBDevice = null;                                                                            </span>
<span class="3807324077532128165" onmouseenter="enter('3807324077532128165');" onmouseout="out('3807324077532128165');" style=""> 161      private DeviceSupport mDeviceSupport;                                                                         </span>
<span  style=""> 162                                                                                                                    </span>
<span class="6815378416149141398" onmouseenter="enter('6815378416149141398');" onmouseout="out('6815378416149141398');" style=""> 163      private PhoneCallReceiver mPhoneCallReceiver = null;                                                          </span>
<span class="-2826099576832326168" onmouseenter="enter('-2826099576832326168');" onmouseout="out('-2826099576832326168');" style=""> 164      private SMSReceiver mSMSReceiver = null;                                                                      </span>
<span class="-3235398375537158027" onmouseenter="enter('-3235398375537158027');" onmouseout="out('-3235398375537158027');" style=""> 165      private PebbleReceiver mPebbleReceiver = null;                                                                </span>
<span class="-6023871012645258525" onmouseenter="enter('-6023871012645258525');" onmouseout="out('-6023871012645258525');" style=""> 166      private MusicPlaybackReceiver mMusicPlaybackReceiver = null;                                                  </span>
<span class="-6462467161745750835" onmouseenter="enter('-6462467161745750835');" onmouseout="out('-6462467161745750835');" style=""> 167      private TimeChangeReceiver mTimeChangeReceiver = null;                                                        </span>
<span class="45606605928520924" onmouseenter="enter('45606605928520924');" onmouseout="out('45606605928520924');" style=""> 168      private BluetoothConnectReceiver mBlueToothConnectReceiver = null;                                            </span>

<span class="-2172935952751705642" onmouseenter="enter('-2172935952751705642');" onmouseout="out('-2172935952751705642');" style=""> 169      private AlarmClockReceiver mAlarmClockReceiver = null;                                                        </span>
<span  style=""> 170                                                                                                                    </span>
<span class="8047396517755341728" onmouseenter="enter('8047396517755341728');" onmouseout="out('8047396517755341728');" style=""> 171      private AlarmReceiver mAlarmReceiver = null;                                                                  </span>
<span class="-1064576620280552382" onmouseenter="enter('-1064576620280552382');" onmouseout="out('-1064576620280552382');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +    private CalendarReceiver mCalendarReceiver = null;                                                            </span>
<span class="596985040066134893" onmouseenter="enter('596985040066134893');" onmouseout="out('596985040066134893');" style=""> 173      private Random mRandom = new Random();                                                                        </span>
<span  style=""> 174                                                                                                                    </span>
<span class="-7026764300858699611" onmouseenter="enter('-7026764300858699611');" onmouseout="out('-7026764300858699611');" style=""> 175      private final String[] mMusicActions = {                                                                      </span>
<span class="-5899670638360176462" onmouseenter="enter('-5899670638360176462');" onmouseout="out('-5899670638360176462');" style=""> 176              &quot;com.android.music.metachanged&quot;,                                                                      </span>
<span class="-6119178071307230813" onmouseenter="enter('-6119178071307230813');" onmouseout="out('-6119178071307230813');" style=""> 177              &quot;com.android.music.playstatechanged&quot;,                                                                 </span>
<span class="6696782374861485479" onmouseenter="enter('6696782374861485479');" onmouseout="out('6696782374861485479');" style=""> 178              &quot;com.android.music.queuechanged&quot;,                                                                     </span>
<span class="6754013239602282204" onmouseenter="enter('6754013239602282204');" onmouseout="out('6754013239602282204');" style=""> 179              &quot;com.android.music.playbackcomplete&quot;,                                                                 </span>
<span class="-1811061177320906307" onmouseenter="enter('-1811061177320906307');" onmouseout="out('-1811061177320906307');" style=""> 180              &quot;net.sourceforge.subsonic.androidapp.EVENT_META_CHANGED&quot;,                                             </span>
<span class="8938407557672159350" onmouseenter="enter('8938407557672159350');" onmouseout="out('8938407557672159350');" style=""> 181              &quot;com.maxmpz.audioplayer.TPOS_SYNC&quot;,                                                                   </span>
<span class="8683787039615780676" onmouseenter="enter('8683787039615780676');" onmouseout="out('8683787039615780676');" style=""> 182              &quot;com.maxmpz.audioplayer.STATUS_CHANGED&quot;,                                                              </span>
<span class="7325198080010606271" onmouseenter="enter('7325198080010606271');" onmouseout="out('7325198080010606271');" style=""> 183              &quot;com.maxmpz.audioplayer.PLAYING_MODE_CHANGED&quot;};                                                       </span>
<span  style=""> 184                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 185      /**                                                                                                           </span>
<span class="-2662003173786345235" onmouseenter="enter('-2662003173786345235');" onmouseout="out('-2662003173786345235');" style=""> 186       * For testing!                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 187       *                                                                                                            </span>
<span class="2659395903319912597" onmouseenter="enter('2659395903319912597');" onmouseout="out('2659395903319912597');" style=""> 188       * @param factory                                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 189       */                                                                                                           </span>
<span class="-6666378662286991217" onmouseenter="enter('-6666378662286991217');" onmouseout="out('-6666378662286991217');" style=""> 190      public static void setDeviceSupportFactory(DeviceSupportFactory factory) {                                    </span>
<span class="-8354288850313385150" onmouseenter="enter('-8354288850313385150');" onmouseout="out('-8354288850313385150');" style=""> 191          DEVICE_SUPPORT_FACTORY = factory;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192      }                                                                                                             </span>
<span  style=""> 193                                                                                                                    </span>
<span class="-3957055725206159636" onmouseenter="enter('-3957055725206159636');" onmouseout="out('-3957055725206159636');" style=""> 194      public DeviceCommunicationService() {                                                                         </span>
<span  style=""> 195                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196      }                                                                                                             </span>
<span  style=""> 197                                                                                                                    </span>
<span class="4625474178666977899" onmouseenter="enter('4625474178666977899');" onmouseout="out('4625474178666977899');" style=""> 198      private final BroadcastReceiver mReceiver = new BroadcastReceiver() {                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199          @Override                                                                                                 </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style=""> 200          public void onReceive(Context context, Intent intent) {                                                   </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 201              String action = intent.getAction();                                                                   </span>
<span class="6363789114941388821" onmouseenter="enter('6363789114941388821');" onmouseout="out('6363789114941388821');" style=""> 202              if (action.equals(GBDevice.ACTION_DEVICE_CHANGED)) {                                                  </span>
<span class="-2461183312182880324" onmouseenter="enter('-2461183312182880324');" onmouseout="out('-2461183312182880324');" style=""> 203                  GBDevice device = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                               </span>
<span class="-1587947608962901958" onmouseenter="enter('-1587947608962901958');" onmouseout="out('-1587947608962901958');" style=""> 204                  // FIXME: mGBDevice was null here once                                                            </span>
<span class="6531971567465378623" onmouseenter="enter('6531971567465378623');" onmouseout="out('6531971567465378623');" style=""> 205                  if (mGBDevice.equals(device)) {                                                                   </span>
<span class="3131993518650313722" onmouseenter="enter('3131993518650313722');" onmouseout="out('3131993518650313722');" style=""> 206                      mGBDevice = device;                                                                           </span>
<span class="-9215184646965251963" onmouseenter="enter('-9215184646965251963');" onmouseout="out('-9215184646965251963');" style=""><abbr title=" 207                      boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDevice.isInitialized());"> 207                      boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDev🔵</abbr></span>
<span class="-8776788669797954241" onmouseenter="enter('-8776788669797954241');" onmouseout="out('-8776788669797954241');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 208 -                    setReceiversEnableState(enableReceivers);                                                     </span>
<span class="7959311921834810767" onmouseenter="enter('7959311921834810767');" onmouseout="out('7959311921834810767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +                    setReceiversEnableState(enableReceivers, mGBDevice.isInitialized());                          </span>
<span class="3006210050222174141" onmouseenter="enter('3006210050222174141');" onmouseout="out('3006210050222174141');" style=""><abbr title=" 210                      GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevice.isInitialized(), context);"> 210                      GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevice.isInit🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 211                  } else {                                                                                          </span>
<span class="-5607286848535217916" onmouseenter="enter('-5607286848535217916');" onmouseout="out('-5607286848535217916');" style=""> 212                      LOG.error(&quot;Got ACTION_DEVICE_CHANGED from unexpected device: &quot; + mGBDevice);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 216      };                                                                                                            </span>
<span  style=""> 217                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 218      @Override                                                                                                     </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style=""> 219      public void onCreate() {                                                                                      </span>
<span class="-4054458849665978908" onmouseenter="enter('-4054458849665978908');" onmouseout="out('-4054458849665978908');" style=""> 220          LOG.debug(&quot;DeviceCommunicationService is being created&quot;);                                                 </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style=""> 221          super.onCreate();                                                                                         </span>
<span class="-4042436281125736078" onmouseenter="enter('-4042436281125736078');" onmouseout="out('-4042436281125736078');" style=""><abbr title=" 222          LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVICE_CHANGED));"> 222          LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVIC🔵</abbr></span>
<span class="7550329168056090280" onmouseenter="enter('7550329168056090280');" onmouseout="out('7550329168056090280');" style=""> 223          mFactory = getDeviceSupportFactory();                                                                     </span>
<span  style=""> 224                                                                                                                    </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 225          if (hasPrefs()) {                                                                                         </span>
<span class="-5542746784767813133" onmouseenter="enter('-5542746784767813133');" onmouseout="out('-5542746784767813133');" style=""> 226              getPrefs().getPreferences().registerOnSharedPreferenceChangeListener(this);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228      }                                                                                                             </span>
<span  style=""> 229                                                                                                                    </span>
<span class="4443706376638466060" onmouseenter="enter('4443706376638466060');" onmouseout="out('4443706376638466060');" style=""> 230      private DeviceSupportFactory getDeviceSupportFactory() {                                                      </span>
<span class="232953772404563377" onmouseenter="enter('232953772404563377');" onmouseout="out('232953772404563377');" style=""> 231          if (DEVICE_SUPPORT_FACTORY != null) {                                                                     </span>
<span class="7931102469926815551" onmouseenter="enter('7931102469926815551');" onmouseout="out('7931102469926815551');" style=""> 232              return DEVICE_SUPPORT_FACTORY;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233          }                                                                                                         </span>
<span class="4538357947168100259" onmouseenter="enter('4538357947168100259');" onmouseout="out('4538357947168100259');" style=""> 234          return new DeviceSupportFactory(this);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235      }                                                                                                             </span>
<span  style=""> 236                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237      @Override                                                                                                     </span>
<span class="-8981297357807978759" onmouseenter="enter('-8981297357807978759');" onmouseout="out('-8981297357807978759');" style=""> 238      public synchronized int onStartCommand(Intent intent, int flags, int startId) {                               </span>
<span  style=""> 239                                                                                                                    </span>
<span class="-8400111569787613467" onmouseenter="enter('-8400111569787613467');" onmouseout="out('-8400111569787613467');" style=""> 240          if (intent == null) {                                                                                     </span>
<span class="-2375998914676676862" onmouseenter="enter('-2375998914676676862');" onmouseout="out('-2375998914676676862');" style=""> 241              LOG.info(&quot;no intent&quot;);                                                                                </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 242              return START_NOT_STICKY;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243          }                                                                                                         </span>
<span  style=""> 244                                                                                                                    </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 245          String action = intent.getAction();                                                                       </span>
<span class="7823373493260129619" onmouseenter="enter('7823373493260129619');" onmouseout="out('7823373493260129619');" style=""> 246          boolean firstTime = intent.getBooleanExtra(EXTRA_CONNECT_FIRST_TIME, false);                              </span>
<span  style=""> 247                                                                                                                    </span>
<span class="4668300806615190248" onmouseenter="enter('4668300806615190248');" onmouseout="out('4668300806615190248');" style=""> 248          if (action == null) {                                                                                     </span>
<span class="-1443758836937597877" onmouseenter="enter('-1443758836937597877');" onmouseout="out('-1443758836937597877');" style=""> 249              LOG.info(&quot;no action&quot;);                                                                                </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 250              return START_NOT_STICKY;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251          }                                                                                                         </span>
<span  style=""> 252                                                                                                                    </span>
<span class="-7510962738906177338" onmouseenter="enter('-7510962738906177338');" onmouseout="out('-7510962738906177338');" style=""> 253          LOG.debug(&quot;Service startcommand: &quot; + action);                                                             </span>
<span  style=""> 254                                                                                                                    </span>
<span class="8726253247916805946" onmouseenter="enter('8726253247916805946');" onmouseout="out('8726253247916805946');" style=""> 255          if (!action.equals(ACTION_START) &amp;&amp; !action.equals(ACTION_CONNECT)) {                                     </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 256              if (!mStarted) {                                                                                      </span>
<span class="-4314511529946530833" onmouseenter="enter('-4314511529946530833');" onmouseout="out('-4314511529946530833');" style=""> 257                  // using the service before issuing ACTION_START                                                  </span>
<span class="-7267052914594203511" onmouseenter="enter('-7267052914594203511');" onmouseout="out('-7267052914594203511');" style=""><abbr title=" 258                  LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before using it: &quot; + action);"> 258                  LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before using it: 🔵</abbr></span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 259                  return START_NOT_STICKY;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260              }                                                                                                     </span>
<span  style=""> 261                                                                                                                    </span>
<span class="1608942666865935384" onmouseenter="enter('1608942666865935384');" onmouseout="out('1608942666865935384');" style=""> 262              if (mDeviceSupport == null || (!isInitialized() &amp;&amp; !mDeviceSupport.useAutoConnect())) {               </span>
<span class="-7295838370792597580" onmouseenter="enter('-7295838370792597580');" onmouseout="out('-7295838370792597580');" style=""> 263                  // trying to send notification without valid Bluetooth connection                                 </span>
<span class="-3967328229534622301" onmouseenter="enter('-3967328229534622301');" onmouseout="out('-3967328229534622301');" style=""> 264                  if (mGBDevice != null) {                                                                          </span>
<span class="-2150339174362147605" onmouseenter="enter('-2150339174362147605');" onmouseout="out('-2150339174362147605');" style=""> 265                      // at least send back the current device state                                                </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 266                      mGBDevice.sendDeviceUpdateIntent(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267                  }                                                                                                 </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 268                  return START_STICKY;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270          }                                                                                                         </span>
<span  style=""> 271                                                                                                                    </span>
<span class="-8633731563859485799" onmouseenter="enter('-8633731563859485799');" onmouseout="out('-8633731563859485799');" style=""> 272          // when we get past this, we should have valid mDeviceSupport and mGBDevice instances                     </span>
<span  style=""> 273                                                                                                                    </span>
<span class="7909508264133940557" onmouseenter="enter('7909508264133940557');" onmouseout="out('7909508264133940557');" style=""> 274          Prefs prefs = getPrefs();                                                                                 </span>
<span class="6099627150369302694" onmouseenter="enter('6099627150369302694');" onmouseout="out('6099627150369302694');" style=""> 275          switch (action) {                                                                                         </span>
<span class="-2272247934204130657" onmouseenter="enter('-2272247934204130657');" onmouseout="out('-2272247934204130657');" style=""> 276              case ACTION_START:                                                                                    </span>
<span class="-6183578153083367222" onmouseenter="enter('-6183578153083367222');" onmouseout="out('-6183578153083367222');" style=""> 277                  start();                                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 278                  break;                                                                                            </span>
<span class="8461838725469303405" onmouseenter="enter('8461838725469303405');" onmouseout="out('8461838725469303405');" style=""> 279              case ACTION_CONNECT:                                                                                  </span>
<span class="-897658161409962678" onmouseenter="enter('-897658161409962678');" onmouseout="out('-897658161409962678');" style=""> 280                  start(); // ensure started                                                                        </span>
<span class="-1505296384620921106" onmouseenter="enter('-1505296384620921106');" onmouseout="out('-1505296384620921106');" style=""> 281                  GBDevice gbDevice = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                             </span>
<span class="-5722809612075478674" onmouseenter="enter('-5722809612075478674');" onmouseout="out('-5722809612075478674');" style=""> 282                  String btDeviceAddress = null;                                                                    </span>
<span class="-2736305943333857977" onmouseenter="enter('-2736305943333857977');" onmouseout="out('-2736305943333857977');" style=""> 283                  if (gbDevice == null) {                                                                           </span>
<span class="6187858071980224944" onmouseenter="enter('6187858071980224944');" onmouseout="out('6187858071980224944');" style=""> 284                      if (prefs != null) { // may be null in test cases                                             </span>
<span class="2264609510245934073" onmouseenter="enter('2264609510245934073');" onmouseout="out('2264609510245934073');" style=""> 285                          btDeviceAddress = prefs.getString(&quot;last_device_address&quot;, null);                           </span>
<span class="-1328118737775276827" onmouseenter="enter('-1328118737775276827');" onmouseout="out('-1328118737775276827');" style=""> 286                          if (btDeviceAddress != null) {                                                            </span>
<span class="-8056388044949715653" onmouseenter="enter('-8056388044949715653');" onmouseout="out('-8056388044949715653');" style=""> 287                              gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, this);     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289                      }                                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 290                  } else {                                                                                          </span>
<span class="1063784168399888092" onmouseenter="enter('1063784168399888092');" onmouseout="out('1063784168399888092');" style=""> 291                      btDeviceAddress = gbDevice.getAddress();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292                  }                                                                                                 </span>
<span  style=""> 293                                                                                                                    </span>
<span class="8517927575135190002" onmouseenter="enter('8517927575135190002');" onmouseout="out('8517927575135190002');" style=""> 294                  boolean autoReconnect = GBPrefs.AUTO_RECONNECT_DEFAULT;                                           </span>
<span class="-3146372184855635097" onmouseenter="enter('-3146372184855635097');" onmouseout="out('-3146372184855635097');" style=""> 295                  if (prefs != null &amp;&amp; prefs.getPreferences() != null) {                                            </span>
<span class="-5009961935760343048" onmouseenter="enter('-5009961935760343048');" onmouseout="out('-5009961935760343048');" style=""> 296                      prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply();      </span>
<span class="1485130976607349673" onmouseenter="enter('1485130976607349673');" onmouseout="out('1485130976607349673');" style=""> 297                      autoReconnect = getGBPrefs().getAutoReconnect();                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298                  }                                                                                                 </span>
<span  style=""> 299                                                                                                                    </span>
<span class="7748119344381831409" onmouseenter="enter('7748119344381831409');" onmouseout="out('7748119344381831409');" style=""> 300                  if (gbDevice != null &amp;&amp; !isConnecting() &amp;&amp; !isConnected()) {                                      </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 301                      setDeviceSupport(null);                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 302                      try {                                                                                         </span>
<span class="6368812257942052163" onmouseenter="enter('6368812257942052163');" onmouseout="out('6368812257942052163');" style=""> 303                          DeviceSupport deviceSupport = mFactory.createDeviceSupport(gbDevice);                     </span>
<span class="2672581873473401176" onmouseenter="enter('2672581873473401176');" onmouseout="out('2672581873473401176');" style=""> 304                          if (deviceSupport != null) {                                                              </span>
<span class="5073675520708761827" onmouseenter="enter('5073675520708761827');" onmouseout="out('5073675520708761827');" style=""> 305                              setDeviceSupport(deviceSupport);                                                      </span>
<span class="-8996767192548104897" onmouseenter="enter('-8996767192548104897');" onmouseout="out('-8996767192548104897');" style=""> 306                              if (firstTime) {                                                                      </span>
<span class="1278919844889630077" onmouseenter="enter('1278919844889630077');" onmouseout="out('1278919844889630077');" style=""> 307                                  deviceSupport.connectFirstTime();                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 308                              } else {                                                                              </span>
<span class="-3957948055115279311" onmouseenter="enter('-3957948055115279311');" onmouseout="out('-3957948055115279311');" style=""> 309                                  deviceSupport.setAutoReconnect(autoReconnect);                                    </span>
<span class="-1283285352904053142" onmouseenter="enter('-1283285352904053142');" onmouseout="out('-1283285352904053142');" style=""> 310                                  deviceSupport.connect();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311                              }                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 312                          } else {                                                                                  </span>
<span class="2291338781944945288" onmouseenter="enter('2291338781944945288');" onmouseout="out('2291338781944945288');" style=""><abbr title=" 313                              GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toast.LENGTH_SHORT, GB.ERROR);"> 313                              GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toas🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314                          }                                                                                         </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 315                      } catch (Exception e) {                                                                       </span>
<span class="-489775191707791993" onmouseenter="enter('-489775191707791993');" onmouseout="out('-489775191707791993');" style=""><abbr title=" 316                          GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.ERROR, e);"> 316                          GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.🔵</abbr></span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 317                          setDeviceSupport(null);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318                      }                                                                                             </span>
<span class="-4649134418590982211" onmouseenter="enter('-4649134418590982211');" onmouseout="out('-4649134418590982211');" style=""> 319                  } else if (mGBDevice != null) {                                                                   </span>
<span class="6491337019366323782" onmouseenter="enter('6491337019366323782');" onmouseout="out('6491337019366323782');" style=""> 320                      // send an update at least                                                                    </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 321                      mGBDevice.sendDeviceUpdateIntent(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 323                  break;                                                                                            </span>
<span class="-5365019322341306791" onmouseenter="enter('-5365019322341306791');" onmouseout="out('-5365019322341306791');" style=""> 324              case ACTION_REQUEST_DEVICEINFO:                                                                       </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 325                  mGBDevice.sendDeviceUpdateIntent(this);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 326                  break;                                                                                            </span>
<span class="-669647313975801341" onmouseenter="enter('-669647313975801341');" onmouseout="out('-669647313975801341');" style=""> 327              case ACTION_NOTIFICATION: {                                                                           </span>
<span class="4249292218927487361" onmouseenter="enter('4249292218927487361');" onmouseout="out('4249292218927487361');" style=""> 328                  NotificationSpec notificationSpec = new NotificationSpec();                                       </span>
<span class="7144362564334367710" onmouseenter="enter('7144362564334367710');" onmouseout="out('7144362564334367710');" style=""> 329                  notificationSpec.phoneNumber = intent.getStringExtra(EXTRA_NOTIFICATION_PHONENUMBER);             </span>
<span class="-997642605508866012" onmouseenter="enter('-997642605508866012');" onmouseout="out('-997642605508866012');" style=""> 330                  notificationSpec.sender = intent.getStringExtra(EXTRA_NOTIFICATION_SENDER);                       </span>
<span class="2782521715291117457" onmouseenter="enter('2782521715291117457');" onmouseout="out('2782521715291117457');" style=""> 331                  notificationSpec.subject = intent.getStringExtra(EXTRA_NOTIFICATION_SUBJECT);                     </span>
<span class="7851353269868360095" onmouseenter="enter('7851353269868360095');" onmouseout="out('7851353269868360095');" style=""> 332                  notificationSpec.title = intent.getStringExtra(EXTRA_NOTIFICATION_TITLE);                         </span>
<span class="-5627490756759928844" onmouseenter="enter('-5627490756759928844');" onmouseout="out('-5627490756759928844');" style=""> 333                  notificationSpec.body = intent.getStringExtra(EXTRA_NOTIFICATION_BODY);                           </span>
<span class="3144450796969351021" onmouseenter="enter('3144450796969351021');" onmouseout="out('3144450796969351021');" style=""> 334                  notificationSpec.sourceName = intent.getStringExtra(EXTRA_NOTIFICATION_SOURCENAME);               </span>
<span class="7470189062308361999" onmouseenter="enter('7470189062308361999');" onmouseout="out('7470189062308361999');" style=""> 335                  notificationSpec.type = (NotificationType) intent.getSerializableExtra(EXTRA_NOTIFICATION_TYPE);  </span>
<span class="-58552451302524684" onmouseenter="enter('-58552451302524684');" onmouseout="out('-58552451302524684');" style=""> 336                  notificationSpec.id = intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1);                              </span>
<span class="-6392144337868342404" onmouseenter="enter('-6392144337868342404');" onmouseout="out('-6392144337868342404');" style=""> 337                  notificationSpec.flags = intent.getIntExtra(EXTRA_NOTIFICATION_FLAGS, 0);                         </span>
<span  style=""> 338                                                                                                                    </span>
<span class="1699695344783775350" onmouseenter="enter('1699695344783775350');" onmouseout="out('1699695344783775350');" style=""><abbr title=" 339                  if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null) {"> 339                  if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null)🔵</abbr></span>
<span class="9213865588273159403" onmouseenter="enter('9213865588273159403');" onmouseout="out('9213865588273159403');" style=""> 340                      notificationSpec.id = mRandom.nextInt(); // FIXME: add this in external SMS Receiver?         </span>
<span class="357480976485572162" onmouseenter="enter('357480976485572162');" onmouseout="out('357480976485572162');" style=""> 341                      GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumber);     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342                  }                                                                                                 </span>
<span  style=""> 343                                                                                                                    </span>
<span class="36818056765170551" onmouseenter="enter('36818056765170551');" onmouseout="out('36818056765170551');" style=""> 344                  if (((notificationSpec.flags &amp; NotificationSpec.FLAG_WEARABLE_REPLY) &gt; 0)                         </span>
<span class="-9037751700681198618" onmouseenter="enter('-9037751700681198618');" onmouseout="out('-9037751700681198618');" style=""><abbr title=" 345                          || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null)) {"> 345                          || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber 🔵</abbr></span>
<span class="8596546566066758446" onmouseenter="enter('8596546566066758446');" onmouseout="out('8596546566066758446');" style=""> 346                      // NOTE: maybe not where it belongs                                                           </span>
<span class="-8155090018337980148" onmouseenter="enter('-8155090018337980148');" onmouseout="out('-8155090018337980148');" style=""> 347                      if (prefs.getBoolean(&quot;pebble_force_untested&quot;, false)) {                                       </span>
<span class="-4898671785167586333" onmouseenter="enter('-4898671785167586333');" onmouseout="out('-4898671785167586333');" style=""> 348                          // I would rather like to save that as an array in ShadredPreferences                     </span>
<span class="-1004001968510841144" onmouseenter="enter('-1004001968510841144');" onmouseout="out('-1004001968510841144');" style=""> 349                          // this would work but I dont know how to do the same in the Settings Activity&#x27;s xml      </span>
<span class="918410975004553070" onmouseenter="enter('918410975004553070');" onmouseout="out('918410975004553070');" style=""> 350                          ArrayList&lt;String&gt; replies = new ArrayList&lt;&gt;();                                            </span>
<span class="-6180174879918590622" onmouseenter="enter('-6180174879918590622');" onmouseout="out('-6180174879918590622');" style=""> 351                          for (int i = 1; i &lt;= 16; i++) {                                                           </span>
<span class="7210319232684079981" onmouseenter="enter('7210319232684079981');" onmouseout="out('7210319232684079981');" style=""> 352                              String reply = prefs.getString(&quot;canned_reply_&quot; + i, null);                            </span>
<span class="2204296925215727723" onmouseenter="enter('2204296925215727723');" onmouseout="out('2204296925215727723');" style=""> 353                              if (reply != null &amp;&amp; !reply.equals(&quot;&quot;)) {                                             </span>
<span class="2547584645107762867" onmouseenter="enter('2547584645107762867');" onmouseout="out('2547584645107762867');" style=""> 354                                  replies.add(reply);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356                          }                                                                                         </span>
<span class="8609386218730694936" onmouseenter="enter('8609386218730694936');" onmouseout="out('8609386218730694936');" style=""> 357                          notificationSpec.cannedReplies = replies.toArray(new String[replies.size()]);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359                  }                                                                                                 </span>
<span  style=""> 360                                                                                                                    </span>
<span class="7448145684850127146" onmouseenter="enter('7448145684850127146');" onmouseout="out('7448145684850127146');" style=""> 361                  mDeviceSupport.onNotification(notificationSpec);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 362                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363              }                                                                                                     </span>
<span class="-7276567859695438377" onmouseenter="enter('-7276567859695438377');" onmouseout="out('-7276567859695438377');" style=""> 364              case ACTION_DELETE_NOTIFICATION: {                                                                    </span>
<span class="3349508781851483145" onmouseenter="enter('3349508781851483145');" onmouseout="out('3349508781851483145');" style=""> 365                  mDeviceSupport.onDeleteNotification(intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1));               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 366                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367              }                                                                                                     </span>
<span class="1760685944887838202" onmouseenter="enter('1760685944887838202');" onmouseout="out('1760685944887838202');" style=""> 368              case ACTION_ADD_CALENDAREVENT: {                                                                      </span>
<span class="6383078814938909727" onmouseenter="enter('6383078814938909727');" onmouseout="out('6383078814938909727');" style=""> 369                  CalendarEventSpec calendarEventSpec = new CalendarEventSpec();                                    </span>
<span class="-4519615915191010270" onmouseenter="enter('-4519615915191010270');" onmouseout="out('-4519615915191010270');" style=""> 370                  calendarEventSpec.id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                           </span>
<span class="-2345264210845712924" onmouseenter="enter('-2345264210845712924');" onmouseout="out('-2345264210845712924');" style=""> 371                  calendarEventSpec.type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);                </span>
<span class="-9183502731005168979" onmouseenter="enter('-9183502731005168979');" onmouseout="out('-9183502731005168979');" style=""> 372                  calendarEventSpec.timestamp = intent.getIntExtra(EXTRA_CALENDAREVENT_TIMESTAMP, -1);              </span>
<span class="6827154764120234041" onmouseenter="enter('6827154764120234041');" onmouseout="out('6827154764120234041');" style=""> 373                  calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1);       </span>
<span class="-5920957138116470593" onmouseenter="enter('-5920957138116470593');" onmouseout="out('-5920957138116470593');" style=""> 374                  calendarEventSpec.title = intent.getStringExtra(EXTRA_CALENDAREVENT_TITLE);                       </span>
<span class="7493274608343847488" onmouseenter="enter('7493274608343847488');" onmouseout="out('7493274608343847488');" style=""> 375                  calendarEventSpec.description = intent.getStringExtra(EXTRA_CALENDAREVENT_DESCRIPTION);           </span>
<span class="-8286380370980489077" onmouseenter="enter('-8286380370980489077');" onmouseout="out('-8286380370980489077');" style=""> 376                  mDeviceSupport.onAddCalendarEvent(calendarEventSpec);                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 377                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378              }                                                                                                     </span>
<span class="-2849294229393544321" onmouseenter="enter('-2849294229393544321');" onmouseout="out('-2849294229393544321');" style=""> 379              case ACTION_DELETE_CALENDAREVENT: {                                                                   </span>
<span class="-9034439215446076929" onmouseenter="enter('-9034439215446076929');" onmouseout="out('-9034439215446076929');" style=""> 380                  long id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                                        </span>
<span class="-8351437473191742259" onmouseenter="enter('-8351437473191742259');" onmouseout="out('-8351437473191742259');" style=""> 381                  byte type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);                             </span>
<span class="5947039676491996864" onmouseenter="enter('5947039676491996864');" onmouseout="out('5947039676491996864');" style=""> 382                  mDeviceSupport.onDeleteCalendarEvent(type, id);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 383                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384              }                                                                                                     </span>
<span class="9105285711746642441" onmouseenter="enter('9105285711746642441');" onmouseout="out('9105285711746642441');" style=""> 385              case ACTION_REBOOT: {                                                                                 </span>
<span class="-2489942875075524997" onmouseenter="enter('-2489942875075524997');" onmouseout="out('-2489942875075524997');" style=""> 386                  mDeviceSupport.onReboot();                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 387                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388              }                                                                                                     </span>
<span class="3049987025029541358" onmouseenter="enter('3049987025029541358');" onmouseout="out('3049987025029541358');" style=""> 389              case ACTION_HEARTRATE_TEST: {                                                                         </span>
<span class="3468770722488184362" onmouseenter="enter('3468770722488184362');" onmouseout="out('3468770722488184362');" style=""> 390                  mDeviceSupport.onHeartRateTest();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 391                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392              }                                                                                                     </span>
<span class="-7880612672736084614" onmouseenter="enter('-7880612672736084614');" onmouseout="out('-7880612672736084614');" style=""> 393              case ACTION_FETCH_ACTIVITY_DATA: {                                                                    </span>
<span class="-7202401441632084828" onmouseenter="enter('-7202401441632084828');" onmouseout="out('-7202401441632084828');" style=""> 394                  mDeviceSupport.onFetchActivityData();                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 395                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396              }                                                                                                     </span>
<span class="-7917063918700759521" onmouseenter="enter('-7917063918700759521');" onmouseout="out('-7917063918700759521');" style=""> 397              case ACTION_DISCONNECT: {                                                                             </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 398                  mDeviceSupport.dispose();                                                                         </span>
<span class="-2587763374871347228" onmouseenter="enter('-2587763374871347228');" onmouseout="out('-2587763374871347228');" style=""> 399                  if (mGBDevice != null &amp;&amp; mGBDevice.getState() == GBDevice.State.WAITING_FOR_RECONNECT) {          </span>
<span class="-818373159648773153" onmouseenter="enter('-818373159648773153');" onmouseout="out('-818373159648773153');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 400 -                    setReceiversEnableState(false);                                                               </span>
<span class="3259686421128901509" onmouseenter="enter('3259686421128901509');" onmouseout="out('3259686421128901509');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 401 +                    setReceiversEnableState(false, false);                                                        </span>
<span class="-5956740551059426027" onmouseenter="enter('-5956740551059426027');" onmouseout="out('-5956740551059426027');" style=""> 402                      mGBDevice.setState(GBDevice.State.NOT_CONNECTED);                                             </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 403                      mGBDevice.sendDeviceUpdateIntent(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404                  }                                                                                                 </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 405                  mDeviceSupport = null;                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 406                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407              }                                                                                                     </span>
<span class="-6251790900569841166" onmouseenter="enter('-6251790900569841166');" onmouseout="out('-6251790900569841166');" style=""> 408              case ACTION_FIND_DEVICE: {                                                                            </span>
<span class="-5849712664725919544" onmouseenter="enter('-5849712664725919544');" onmouseout="out('-5849712664725919544');" style=""> 409                  boolean start = intent.getBooleanExtra(EXTRA_FIND_START, false);                                  </span>
<span class="4985279237906318984" onmouseenter="enter('4985279237906318984');" onmouseout="out('4985279237906318984');" style=""> 410                  mDeviceSupport.onFindDevice(start);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 411                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412              }                                                                                                     </span>
<span class="208875508921563359" onmouseenter="enter('208875508921563359');" onmouseout="out('208875508921563359');" style=""> 413              case ACTION_SET_CONSTANT_VIBRATION: {                                                                 </span>
<span class="5660371215983762654" onmouseenter="enter('5660371215983762654');" onmouseout="out('5660371215983762654');" style=""> 414                  int intensity = intent.getIntExtra(EXTRA_VIBRATION_INTENSITY, 0);                                 </span>
<span class="-771567554143857067" onmouseenter="enter('-771567554143857067');" onmouseout="out('-771567554143857067');" style=""> 415                  mDeviceSupport.onSetConstantVibration(intensity);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 416                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 417              }                                                                                                     </span>
<span class="-3190843120553329632" onmouseenter="enter('-3190843120553329632');" onmouseout="out('-3190843120553329632');" style=""> 418              case ACTION_CALLSTATE:                                                                                </span>
<span class="3795479724098101655" onmouseenter="enter('3795479724098101655');" onmouseout="out('3795479724098101655');" style=""> 419                  CallSpec callSpec = new CallSpec();                                                               </span>
<span class="8093432130661732567" onmouseenter="enter('8093432130661732567');" onmouseout="out('8093432130661732567');" style=""> 420                  callSpec.command = intent.getIntExtra(EXTRA_CALL_COMMAND, CallSpec.CALL_UNDEFINED);               </span>
<span class="3428246913955323928" onmouseenter="enter('3428246913955323928');" onmouseout="out('3428246913955323928');" style=""> 421                  callSpec.number = intent.getStringExtra(EXTRA_CALL_PHONENUMBER);                                  </span>
<span class="6859375461089721800" onmouseenter="enter('6859375461089721800');" onmouseout="out('6859375461089721800');" style=""> 422                  callSpec.name = intent.getStringExtra(EXTRA_CALL_DISPLAYNAME);                                    </span>
<span class="5317988739476287691" onmouseenter="enter('5317988739476287691');" onmouseout="out('5317988739476287691');" style=""> 423                  mDeviceSupport.onSetCallState(callSpec);                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 424                  break;                                                                                            </span>
<span class="5443690489758293879" onmouseenter="enter('5443690489758293879');" onmouseout="out('5443690489758293879');" style=""> 425              case ACTION_SETCANNEDMESSAGES:                                                                        </span>
<span class="8874546108453183107" onmouseenter="enter('8874546108453183107');" onmouseout="out('8874546108453183107');" style=""> 426                  int type = intent.getIntExtra(EXTRA_CANNEDMESSAGES_TYPE, -1);                                     </span>
<span class="-5661264507044040071" onmouseenter="enter('-5661264507044040071');" onmouseout="out('-5661264507044040071');" style=""> 427                  String[] cannedMessages = intent.getStringArrayExtra(EXTRA_CANNEDMESSAGES);                       </span>
<span  style=""> 428                                                                                                                    </span>
<span class="-8222861505291584468" onmouseenter="enter('-8222861505291584468');" onmouseout="out('-8222861505291584468');" style=""> 429                  CannedMessagesSpec cannedMessagesSpec = new CannedMessagesSpec();                                 </span>
<span class="7310566106726436146" onmouseenter="enter('7310566106726436146');" onmouseout="out('7310566106726436146');" style=""> 430                  cannedMessagesSpec.type = type;                                                                   </span>
<span class="5869684482704551906" onmouseenter="enter('5869684482704551906');" onmouseout="out('5869684482704551906');" style=""> 431                  cannedMessagesSpec.cannedMessages = cannedMessages;                                               </span>
<span class="-8600105550735814062" onmouseenter="enter('-8600105550735814062');" onmouseout="out('-8600105550735814062');" style=""> 432                  mDeviceSupport.onSetCannedMessages(cannedMessagesSpec);                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 433                  break;                                                                                            </span>
<span class="-3864526120734058732" onmouseenter="enter('-3864526120734058732');" onmouseout="out('-3864526120734058732');" style=""> 434              case ACTION_SETTIME:                                                                                  </span>
<span class="-9119989964627970186" onmouseenter="enter('-9119989964627970186');" onmouseout="out('-9119989964627970186');" style=""> 435                  mDeviceSupport.onSetTime();                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 436                  break;                                                                                            </span>
<span class="2757090863993875249" onmouseenter="enter('2757090863993875249');" onmouseout="out('2757090863993875249');" style=""> 437              case ACTION_SETMUSICINFO:                                                                             </span>
<span class="-4606570715029334060" onmouseenter="enter('-4606570715029334060');" onmouseout="out('-4606570715029334060');" style=""> 438                  MusicSpec musicSpec = new MusicSpec();                                                            </span>
<span class="8291741641430545280" onmouseenter="enter('8291741641430545280');" onmouseout="out('8291741641430545280');" style=""> 439                  musicSpec.artist = intent.getStringExtra(EXTRA_MUSIC_ARTIST);                                     </span>
<span class="-4864341328172403198" onmouseenter="enter('-4864341328172403198');" onmouseout="out('-4864341328172403198');" style=""> 440                  musicSpec.album = intent.getStringExtra(EXTRA_MUSIC_ALBUM);                                       </span>
<span class="-6416639298697884565" onmouseenter="enter('-6416639298697884565');" onmouseout="out('-6416639298697884565');" style=""> 441                  musicSpec.track = intent.getStringExtra(EXTRA_MUSIC_TRACK);                                       </span>
<span class="9057431340460323538" onmouseenter="enter('9057431340460323538');" onmouseout="out('9057431340460323538');" style=""> 442                  musicSpec.duration = intent.getIntExtra(EXTRA_MUSIC_DURATION, 0);                                 </span>
<span class="-1013666482472897661" onmouseenter="enter('-1013666482472897661');" onmouseout="out('-1013666482472897661');" style=""> 443                  musicSpec.trackCount = intent.getIntExtra(EXTRA_MUSIC_TRACKCOUNT, 0);                             </span>
<span class="4288030402620969458" onmouseenter="enter('4288030402620969458');" onmouseout="out('4288030402620969458');" style=""> 444                  musicSpec.trackNr = intent.getIntExtra(EXTRA_MUSIC_TRACKNR, 0);                                   </span>
<span class="-3425911873947758918" onmouseenter="enter('-3425911873947758918');" onmouseout="out('-3425911873947758918');" style=""> 445                  mDeviceSupport.onSetMusicInfo(musicSpec);                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 446                  break;                                                                                            </span>
<span class="6227456550171188321" onmouseenter="enter('6227456550171188321');" onmouseout="out('6227456550171188321');" style=""> 447              case ACTION_SETMUSICSTATE:                                                                            </span>
<span class="6191411421956413825" onmouseenter="enter('6191411421956413825');" onmouseout="out('6191411421956413825');" style=""> 448                  MusicStateSpec stateSpec = new MusicStateSpec();                                                  </span>
<span class="-3548046406971923378" onmouseenter="enter('-3548046406971923378');" onmouseout="out('-3548046406971923378');" style=""> 449                  stateSpec.shuffle = intent.getByteExtra(EXTRA_MUSIC_SHUFFLE, (byte) 0);                           </span>
<span class="1495564971696348267" onmouseenter="enter('1495564971696348267');" onmouseout="out('1495564971696348267');" style=""> 450                  stateSpec.repeat = intent.getByteExtra(EXTRA_MUSIC_REPEAT, (byte) 0);                             </span>
<span class="-7121631563152240946" onmouseenter="enter('-7121631563152240946');" onmouseout="out('-7121631563152240946');" style=""> 451                  stateSpec.position = intent.getIntExtra(EXTRA_MUSIC_POSITION, 0);                                 </span>
<span class="5871328423745521968" onmouseenter="enter('5871328423745521968');" onmouseout="out('5871328423745521968');" style=""> 452                  stateSpec.playRate = intent.getIntExtra(EXTRA_MUSIC_RATE, 0);                                     </span>
<span class="892053738216152834" onmouseenter="enter('892053738216152834');" onmouseout="out('892053738216152834');" style=""> 453                  stateSpec.state = intent.getByteExtra(EXTRA_MUSIC_STATE, (byte) 0);                               </span>
<span class="4060952888262640879" onmouseenter="enter('4060952888262640879');" onmouseout="out('4060952888262640879');" style=""> 454                  mDeviceSupport.onSetMusicState(stateSpec);                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 455                  break;                                                                                            </span>
<span class="-3068551254659955031" onmouseenter="enter('-3068551254659955031');" onmouseout="out('-3068551254659955031');" style=""> 456              case ACTION_REQUEST_APPINFO:                                                                          </span>
<span class="-5176444858929114297" onmouseenter="enter('-5176444858929114297');" onmouseout="out('-5176444858929114297');" style=""> 457                  mDeviceSupport.onAppInfoReq();                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 458                  break;                                                                                            </span>
<span class="-6917586413512936950" onmouseenter="enter('-6917586413512936950');" onmouseout="out('-6917586413512936950');" style=""> 459              case ACTION_REQUEST_SCREENSHOT:                                                                       </span>
<span class="-5841518626542394716" onmouseenter="enter('-5841518626542394716');" onmouseout="out('-5841518626542394716');" style=""> 460                  mDeviceSupport.onScreenshotReq();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 461                  break;                                                                                            </span>
<span class="-2494840420747050392" onmouseenter="enter('-2494840420747050392');" onmouseout="out('-2494840420747050392');" style=""> 462              case ACTION_STARTAPP: {                                                                               </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 463                  UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                                   </span>
<span class="-4793752934936499642" onmouseenter="enter('-4793752934936499642');" onmouseout="out('-4793752934936499642');" style=""> 464                  boolean start = intent.getBooleanExtra(EXTRA_APP_START, true);                                    </span>
<span class="2197724895752145818" onmouseenter="enter('2197724895752145818');" onmouseout="out('2197724895752145818');" style=""> 465                  mDeviceSupport.onAppStart(uuid, start);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 466                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467              }                                                                                                     </span>
<span class="2166934150734837396" onmouseenter="enter('2166934150734837396');" onmouseout="out('2166934150734837396');" style=""> 468              case ACTION_DELETEAPP: {                                                                              </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 469                  UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                                   </span>
<span class="-5075261056503503060" onmouseenter="enter('-5075261056503503060');" onmouseout="out('-5075261056503503060');" style=""> 470                  mDeviceSupport.onAppDelete(uuid);                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 471                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472              }                                                                                                     </span>
<span class="1869663144095085846" onmouseenter="enter('1869663144095085846');" onmouseout="out('1869663144095085846');" style=""> 473              case ACTION_APP_CONFIGURE: {                                                                          </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 474                  UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                                   </span>
<span class="6629096593005137404" onmouseenter="enter('6629096593005137404');" onmouseout="out('6629096593005137404');" style=""> 475                  String config = intent.getStringExtra(EXTRA_APP_CONFIG);                                          </span>
<span class="5940750753812597164" onmouseenter="enter('5940750753812597164');" onmouseout="out('5940750753812597164');" style=""> 476                  mDeviceSupport.onAppConfiguration(uuid, config);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 477                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 478              }                                                                                                     </span>
<span class="-8571912313743444470" onmouseenter="enter('-8571912313743444470');" onmouseout="out('-8571912313743444470');" style=""> 479              case ACTION_APP_REORDER: {                                                                            </span>
<span class="7398892328027689606" onmouseenter="enter('7398892328027689606');" onmouseout="out('7398892328027689606');" style=""> 480                  UUID[] uuids = (UUID[]) intent.getSerializableExtra(EXTRA_APP_UUID);                              </span>
<span class="75775485121754100" onmouseenter="enter('75775485121754100');" onmouseout="out('75775485121754100');" style=""> 481                  mDeviceSupport.onAppReorder(uuids);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 482                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483              }                                                                                                     </span>
<span class="4718100971274262923" onmouseenter="enter('4718100971274262923');" onmouseout="out('4718100971274262923');" style=""> 484              case ACTION_INSTALL:                                                                                  </span>
<span class="-597901030201298456" onmouseenter="enter('-597901030201298456');" onmouseout="out('-597901030201298456');" style=""> 485                  Uri uri = intent.getParcelableExtra(EXTRA_URI);                                                   </span>
<span class="-6789028041247471756" onmouseenter="enter('-6789028041247471756');" onmouseout="out('-6789028041247471756');" style=""> 486                  if (uri != null) {                                                                                </span>
<span class="-1329231793440882084" onmouseenter="enter('-1329231793440882084');" onmouseout="out('-1329231793440882084');" style=""> 487                      LOG.info(&quot;will try to install app/fw&quot;);                                                       </span>
<span class="-6419480600197101122" onmouseenter="enter('-6419480600197101122');" onmouseout="out('-6419480600197101122');" style=""> 488                      mDeviceSupport.onInstallApp(uri);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 490                  break;                                                                                            </span>
<span class="-2301470348007137474" onmouseenter="enter('-2301470348007137474');" onmouseout="out('-2301470348007137474');" style=""> 491              case ACTION_SET_ALARMS:                                                                               </span>
<span class="-6223145105408550614" onmouseenter="enter('-6223145105408550614');" onmouseout="out('-6223145105408550614');" style=""> 492                  ArrayList&lt;Alarm&gt; alarms = intent.getParcelableArrayListExtra(EXTRA_ALARMS);                       </span>
<span class="4545530897725553048" onmouseenter="enter('4545530897725553048');" onmouseout="out('4545530897725553048');" style=""> 493                  mDeviceSupport.onSetAlarms(alarms);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 494                  break;                                                                                            </span>
<span class="-8160274285897355527" onmouseenter="enter('-8160274285897355527');" onmouseout="out('-8160274285897355527');" style=""> 495              case ACTION_ENABLE_REALTIME_STEPS: {                                                                  </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 496                  boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                             </span>
<span class="6892686300243280236" onmouseenter="enter('6892686300243280236');" onmouseout="out('6892686300243280236');" style=""> 497                  mDeviceSupport.onEnableRealtimeSteps(enable);                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 498                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499              }                                                                                                     </span>
<span class="-1417941812298608730" onmouseenter="enter('-1417941812298608730');" onmouseout="out('-1417941812298608730');" style=""> 500              case ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT: {                                                         </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 501                  boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                             </span>
<span class="-1094130383852091406" onmouseenter="enter('-1094130383852091406');" onmouseout="out('-1094130383852091406');" style=""> 502                  mDeviceSupport.onEnableHeartRateSleepSupport(enable);                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 503                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 504              }                                                                                                     </span>
<span class="2612023236818345021" onmouseenter="enter('2612023236818345021');" onmouseout="out('2612023236818345021');" style=""> 505              case ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT: {                                                  </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 506                  boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                             </span>
<span class="-1932636993187682108" onmouseenter="enter('-1932636993187682108');" onmouseout="out('-1932636993187682108');" style=""> 507                  mDeviceSupport.onEnableRealtimeHeartRateMeasurement(enable);                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 508                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509              }                                                                                                     </span>
<span class="-3723742220763435323" onmouseenter="enter('-3723742220763435323');" onmouseout="out('-3723742220763435323');" style=""> 510              case ACTION_SEND_CONFIGURATION: {                                                                     </span>
<span class="-1876564357946593499" onmouseenter="enter('-1876564357946593499');" onmouseout="out('-1876564357946593499');" style=""> 511                  String config = intent.getStringExtra(EXTRA_CONFIG);                                              </span>
<span class="7508326450574330866" onmouseenter="enter('7508326450574330866');" onmouseout="out('7508326450574330866');" style=""> 512                  mDeviceSupport.onSendConfiguration(config);                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 513                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514              }                                                                                                     </span>
<span class="6032767073616680026" onmouseenter="enter('6032767073616680026');" onmouseout="out('6032767073616680026');" style=""> 515              case ACTION_TEST_NEW_FUNCTION: {                                                                      </span>
<span class="-1399702412817247830" onmouseenter="enter('-1399702412817247830');" onmouseout="out('-1399702412817247830');" style=""> 516                  mDeviceSupport.onTestNewFunction();                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 517                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518              }                                                                                                     </span>
<span class="4042257170241917013" onmouseenter="enter('4042257170241917013');" onmouseout="out('4042257170241917013');" style=""> 519              case ACTION_SEND_WEATHER: {                                                                           </span>
<span class="-7783159601671948934" onmouseenter="enter('-7783159601671948934');" onmouseout="out('-7783159601671948934');" style=""> 520                  WeatherSpec weatherSpec = new WeatherSpec();                                                      </span>
<span class="9156523207902282301" onmouseenter="enter('9156523207902282301');" onmouseout="out('9156523207902282301');" style=""> 521                  weatherSpec.timestamp = intent.getIntExtra(EXTRA_WEATHER_TIMESTAMP, 0);                           </span>
<span class="1927396717706702303" onmouseenter="enter('1927396717706702303');" onmouseout="out('1927396717706702303');" style=""> 522                  weatherSpec.location = intent.getStringExtra(EXTRA_WEATHER_LOCATION);                             </span>
<span class="-6257828557925685883" onmouseenter="enter('-6257828557925685883');" onmouseout="out('-6257828557925685883');" style=""> 523                  weatherSpec.currentTemp = intent.getIntExtra(EXTRA_WEATHER_CURRENTTEMP, 0);                       </span>
<span class="-8942134869809621954" onmouseenter="enter('-8942134869809621954');" onmouseout="out('-8942134869809621954');" style=""> 524                  weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE, 0);     </span>
<span class="-7768587738342623330" onmouseenter="enter('-7768587738342623330');" onmouseout="out('-7768587738342623330');" style=""> 525                  weatherSpec.currentCondition = intent.getStringExtra(EXTRA_WEATHER_CURRENTCONDITION);             </span>
<span class="-4167858899002844683" onmouseenter="enter('-4167858899002844683');" onmouseout="out('-4167858899002844683');" style=""> 526                  weatherSpec.todayMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMAXTEMP, 0);                     </span>
<span class="-7282217397460764709" onmouseenter="enter('-7282217397460764709');" onmouseout="out('-7282217397460764709');" style=""> 527                  weatherSpec.todayMinTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMINTEMP, 0);                     </span>
<span class="7956003095875127587" onmouseenter="enter('7956003095875127587');" onmouseout="out('7956003095875127587');" style=""> 528                  weatherSpec.tomorrowMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMAXTEMP, 0);               </span>
<span class="-8851638748949702207" onmouseenter="enter('-8851638748949702207');" onmouseout="out('-8851638748949702207');" style=""> 529                  weatherSpec.tomorrowMinTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMINTEMP, 0);               </span>
<span class="2201545607462035674" onmouseenter="enter('2201545607462035674');" onmouseout="out('2201545607462035674');" style=""> 530                  weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCODE, 0);   </span>
<span class="-1267592612850228198" onmouseenter="enter('-1267592612850228198');" onmouseout="out('-1267592612850228198');" style=""> 531                  mDeviceSupport.onSendWeather(weatherSpec);                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 532                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 533              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 534          }                                                                                                         </span>
<span  style=""> 535                                                                                                                    </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 536          return START_STICKY;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 537      }                                                                                                             </span>
<span  style=""> 538                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 539      /**                                                                                                           </span>
<span class="4580399485680216365" onmouseenter="enter('4580399485680216365');" onmouseout="out('4580399485680216365');" style=""> 540       * Disposes the current DeviceSupport instance (if any) and sets a new device support instance                </span>
<span class="2634630049779853740" onmouseenter="enter('2634630049779853740');" onmouseout="out('2634630049779853740');" style=""> 541       * (if not null).                                                                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 542       *                                                                                                            </span>
<span class="4293773011710976518" onmouseenter="enter('4293773011710976518');" onmouseout="out('4293773011710976518');" style=""> 543       * @param deviceSupport                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 544       */                                                                                                           </span>
<span class="-6264528256345703641" onmouseenter="enter('-6264528256345703641');" onmouseout="out('-6264528256345703641');" style=""> 545      private void setDeviceSupport(@Nullable DeviceSupport deviceSupport) {                                        </span>
<span class="9012932578751895101" onmouseenter="enter('9012932578751895101');" onmouseout="out('9012932578751895101');" style=""> 546          if (deviceSupport != mDeviceSupport &amp;&amp; mDeviceSupport != null) {                                          </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 547              mDeviceSupport.dispose();                                                                             </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 548              mDeviceSupport = null;                                                                                </span>
<span class="4811934149983720641" onmouseenter="enter('4811934149983720641');" onmouseout="out('4811934149983720641');" style=""> 549              mGBDevice = null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550          }                                                                                                         </span>
<span class="-8640715233311534019" onmouseenter="enter('-8640715233311534019');" onmouseout="out('-8640715233311534019');" style=""> 551          mDeviceSupport = deviceSupport;                                                                           </span>
<span class="5234576758850016889" onmouseenter="enter('5234576758850016889');" onmouseout="out('5234576758850016889');" style=""> 552          mGBDevice = mDeviceSupport != null ? mDeviceSupport.getDevice() : null;                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 553      }                                                                                                             </span>
<span  style=""> 554                                                                                                                    </span>
<span class="-1685018700062064081" onmouseenter="enter('-1685018700062064081');" onmouseout="out('-1685018700062064081');" style=""> 555      private void start() {                                                                                        </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 556          if (!mStarted) {                                                                                          </span>
<span class="-1522198858483761838" onmouseenter="enter('-1522198858483761838');" onmouseout="out('-1522198858483761838');" style=""><abbr title=" 557              startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), false, this));"> 557              startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), fa🔵</abbr></span>
<span class="975344646757702815" onmouseenter="enter('975344646757702815');" onmouseout="out('975344646757702815');" style=""> 558              mStarted = true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 560      }                                                                                                             </span>
<span  style=""> 561                                                                                                                    </span>
<span class="5813756913533707772" onmouseenter="enter('5813756913533707772');" onmouseout="out('5813756913533707772');" style=""> 562      public boolean isStarted() {                                                                                  </span>
<span class="-2429569693799116336" onmouseenter="enter('-2429569693799116336');" onmouseout="out('-2429569693799116336');" style=""> 563          return mStarted;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 564      }                                                                                                             </span>
<span  style=""> 565                                                                                                                    </span>
<span class="8882351257935254581" onmouseenter="enter('8882351257935254581');" onmouseout="out('8882351257935254581');" style=""> 566      private boolean isConnected() {                                                                               </span>
<span class="5200435358363356633" onmouseenter="enter('5200435358363356633');" onmouseout="out('5200435358363356633');" style=""> 567          return mGBDevice != null &amp;&amp; mGBDevice.isConnected();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 568      }                                                                                                             </span>
<span  style=""> 569                                                                                                                    </span>
<span class="-624932271712780363" onmouseenter="enter('-624932271712780363');" onmouseout="out('-624932271712780363');" style=""> 570      private boolean isConnecting() {                                                                              </span>
<span class="-6563283548989962053" onmouseenter="enter('-6563283548989962053');" onmouseout="out('-6563283548989962053');" style=""> 571          return mGBDevice != null &amp;&amp; mGBDevice.isConnecting();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572      }                                                                                                             </span>
<span  style=""> 573                                                                                                                    </span>
<span class="-6106408407643787535" onmouseenter="enter('-6106408407643787535');" onmouseout="out('-6106408407643787535');" style=""> 574      private boolean isInitialized() {                                                                             </span>
<span class="4561275409582675350" onmouseenter="enter('4561275409582675350');" onmouseout="out('4561275409582675350');" style=""> 575          return mGBDevice != null &amp;&amp; mGBDevice.isInitialized();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 576      }                                                                                                             </span>
<span  style=""> 577                                                                                                                    </span>
<span  style=""> 578                                                                                                                    </span>
<span class="-4724287253147800178" onmouseenter="enter('-4724287253147800178');" onmouseout="out('-4724287253147800178');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 579 -    private void setReceiversEnableState(boolean enable) {                                                        </span>
<span class="5402194572277524036" onmouseenter="enter('5402194572277524036');" onmouseout="out('5402194572277524036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 580 +    private void setReceiversEnableState(boolean enable, boolean initialized) {                                   </span>
<span class="6951530417476040470" onmouseenter="enter('6951530417476040470');" onmouseout="out('6951530417476040470');" style=""> 581          LOG.info(&quot;Setting broadcast receivers to: &quot; + enable);                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 582 +                                                                                                                  </span>
<span class="-4932409833157877939" onmouseenter="enter('-4932409833157877939');" onmouseout="out('-4932409833157877939');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 583 +        if (enable &amp;&amp; initialized) {                                                                              </span>
<span class="6591780958658457767" onmouseenter="enter('6591780958658457767');" onmouseout="out('6591780958658457767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 584 +            if (mCalendarReceiver == null) {                                                                      </span>
<span class="1589022880921377802" onmouseenter="enter('1589022880921377802');" onmouseout="out('1589022880921377802');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 585 +                IntentFilter calendarIntentFilter = new IntentFilter();                                           </span>
<span class="6130420683935393644" onmouseenter="enter('6130420683935393644');" onmouseout="out('6130420683935393644');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 586 +                calendarIntentFilter.addAction(&quot;android.intent.action.PROVIDER_CHANGED&quot;);                         </span>
<span class="4429816028500100541" onmouseenter="enter('4429816028500100541');" onmouseout="out('4429816028500100541');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 587 +                calendarIntentFilter.addDataScheme(&quot;content&quot;);                                                    </span>
<span class="2709340036463355330" onmouseenter="enter('2709340036463355330');" onmouseout="out('2709340036463355330');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 588 +                calendarIntentFilter.addDataAuthority(&quot;com.android.calendar&quot;, null);                              </span>
<span class="7828433718710892920" onmouseenter="enter('7828433718710892920');" onmouseout="out('7828433718710892920');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 589 +                mCalendarReceiver = new CalendarReceiver(mGBDevice);                                              </span>
<span class="891546991439734570" onmouseenter="enter('891546991439734570');" onmouseout="out('891546991439734570');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 590 +                registerReceiver(mCalendarReceiver, calendarIntentFilter);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 591 +            }                                                                                                     </span>
<span class="2156977847537906148" onmouseenter="enter('2156977847537906148');" onmouseout="out('2156977847537906148');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 592 +        } else if (mCalendarReceiver != null) {                                                                   </span>
<span class="4715856754314043620" onmouseenter="enter('4715856754314043620');" onmouseout="out('4715856754314043620');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 593 +            unregisterReceiver(mCalendarReceiver);                                                                </span>
<span class="2474754653382077142" onmouseenter="enter('2474754653382077142');" onmouseout="out('2474754653382077142');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 594 +            mCalendarReceiver = null;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 595 +        }                                                                                                         </span>
<span  style=""> 596                                                                                                                    </span>
<span class="-2074635852143506608" onmouseenter="enter('-2074635852143506608');" onmouseout="out('-2074635852143506608');" style=""> 597          if (enable) {                                                                                             </span>
<span class="-2667731398817597854" onmouseenter="enter('-2667731398817597854');" onmouseout="out('-2667731398817597854');" style=""> 598              if (mPhoneCallReceiver == null) {                                                                     </span>
<span class="-1027287194590244417" onmouseenter="enter('-1027287194590244417');" onmouseout="out('-1027287194590244417');" style=""> 599                  mPhoneCallReceiver = new PhoneCallReceiver();                                                     </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 600                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="-3679054454631357968" onmouseenter="enter('-3679054454631357968');" onmouseout="out('-3679054454631357968');" style=""> 601                  filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);                                            </span>
<span class="-5028677676977116040" onmouseenter="enter('-5028677676977116040');" onmouseout="out('-5028677676977116040');" style=""> 602                  filter.addAction(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;);                                      </span>
<span class="-1617740261602734990" onmouseenter="enter('-1617740261602734990');" onmouseout="out('-1617740261602734990');" style=""> 603                  registerReceiver(mPhoneCallReceiver, filter);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 604              }                                                                                                     </span>
<span class="-8170618993241153146" onmouseenter="enter('-8170618993241153146');" onmouseout="out('-8170618993241153146');" style=""> 605              if (mSMSReceiver == null) {                                                                           </span>
<span class="-211089161118191394" onmouseenter="enter('-211089161118191394');" onmouseout="out('-211089161118191394');" style=""> 606                  mSMSReceiver = new SMSReceiver();                                                                 </span>
<span class="1212733765646185362" onmouseenter="enter('1212733765646185362');" onmouseout="out('1212733765646185362');" style=""> 607                  registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;));      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608              }                                                                                                     </span>
<span class="668102061168943903" onmouseenter="enter('668102061168943903');" onmouseout="out('668102061168943903');" style=""> 609              if (mPebbleReceiver == null) {                                                                        </span>
<span class="4408213248365045403" onmouseenter="enter('4408213248365045403');" onmouseout="out('4408213248365045403');" style=""> 610                  mPebbleReceiver = new PebbleReceiver();                                                           </span>
<span class="-5803030088576376799" onmouseenter="enter('-5803030088576376799');" onmouseout="out('-5803030088576376799');" style=""> 611                  registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATION&quot;));    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612              }                                                                                                     </span>
<span class="2223215277832879461" onmouseenter="enter('2223215277832879461');" onmouseout="out('2223215277832879461');" style=""> 613              if (mMusicPlaybackReceiver == null) {                                                                 </span>
<span class="5503055766703910020" onmouseenter="enter('5503055766703910020');" onmouseout="out('5503055766703910020');" style=""> 614                  mMusicPlaybackReceiver = new MusicPlaybackReceiver();                                             </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 615                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="4596137206288683088" onmouseenter="enter('4596137206288683088');" onmouseout="out('4596137206288683088');" style=""> 616                  for (String action : mMusicActions){                                                              </span>
<span class="-2086107330814500487" onmouseenter="enter('-2086107330814500487');" onmouseout="out('-2086107330814500487');" style=""> 617                      filter.addAction(action);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 618                  }                                                                                                 </span>
<span class="-887466916784662429" onmouseenter="enter('-887466916784662429');" onmouseout="out('-887466916784662429');" style=""> 619                  registerReceiver(mMusicPlaybackReceiver, filter);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 620              }                                                                                                     </span>
<span class="6120212045117093999" onmouseenter="enter('6120212045117093999');" onmouseout="out('6120212045117093999');" style=""> 621              if (mTimeChangeReceiver == null) {                                                                    </span>
<span class="4506860540419182646" onmouseenter="enter('4506860540419182646');" onmouseout="out('4506860540419182646');" style=""> 622                  mTimeChangeReceiver = new TimeChangeReceiver();                                                   </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 623                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="-1824421398114764450" onmouseenter="enter('-1824421398114764450');" onmouseout="out('-1824421398114764450');" style=""> 624                  filter.addAction(&quot;android.intent.action.TIME_SET&quot;);                                               </span>
<span class="5919360464042611212" onmouseenter="enter('5919360464042611212');" onmouseout="out('5919360464042611212');" style=""> 625                  filter.addAction(&quot;android.intent.action.TIMEZONE_CHANGED&quot;);                                       </span>
<span class="4651824235385821300" onmouseenter="enter('4651824235385821300');" onmouseout="out('4651824235385821300');" style=""> 626                  registerReceiver(mTimeChangeReceiver, filter);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 627              }                                                                                                     </span>
<span class="5746507932728060065" onmouseenter="enter('5746507932728060065');" onmouseout="out('5746507932728060065');" style=""> 628              if (mBlueToothConnectReceiver == null) {                                                              </span>
<span class="1523081927393266022" onmouseenter="enter('1523081927393266022');" onmouseout="out('1523081927393266022');" style=""> 629                  mBlueToothConnectReceiver = new BluetoothConnectReceiver(this);                                   </span>
<span class="5906520146498159160" onmouseenter="enter('5906520146498159160');" onmouseout="out('5906520146498159160');" style=""><abbr title=" 630                  registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED));"> 630                  registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED)🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 631              }                                                                                                     </span>





<span class="6324125865869253599" onmouseenter="enter('6324125865869253599');" onmouseout="out('6324125865869253599');" style=""> 632              if (mAlarmReceiver == null) {                                                                         </span>
<span class="-6693619828328913529" onmouseenter="enter('-6693619828328913529');" onmouseout="out('-6693619828328913529');" style=""> 633                  mAlarmReceiver = new AlarmReceiver();                                                             </span>
<span class="6728187609005738292" onmouseenter="enter('6728187609005738292');" onmouseout="out('6728187609005738292');" style=""> 634                  registerReceiver(mAlarmReceiver, new IntentFilter(&quot;DAILY_ALARM&quot;));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 635              }                                                                                                     </span>
<span class="1673772763036480141" onmouseenter="enter('1673772763036480141');" onmouseout="out('1673772763036480141');" style=""> 636              if (mAlarmClockReceiver == null) {                                                                    </span>
<span class="9002364993456009479" onmouseenter="enter('9002364993456009479');" onmouseout="out('9002364993456009479');" style=""> 637                  mAlarmClockReceiver = new AlarmClockReceiver();                                                   </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 638                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="2829475773131805177" onmouseenter="enter('2829475773131805177');" onmouseout="out('2829475773131805177');" style=""> 639                  filter.addAction(AlarmClockReceiver.ALARM_ALERT_ACTION);                                          </span>
<span class="4454268969269107523" onmouseenter="enter('4454268969269107523');" onmouseout="out('4454268969269107523');" style=""> 640                  filter.addAction(AlarmClockReceiver.ALARM_DONE_ACTION);                                           </span>
<span class="6590560170717146411" onmouseenter="enter('6590560170717146411');" onmouseout="out('6590560170717146411');" style=""> 641                  registerReceiver(mAlarmClockReceiver, filter);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 642              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 643          } else {                                                                                                  </span>
<span class="-6174360286964749747" onmouseenter="enter('-6174360286964749747');" onmouseout="out('-6174360286964749747');" style=""> 644              if (mPhoneCallReceiver != null) {                                                                     </span>
<span class="2433672025347488127" onmouseenter="enter('2433672025347488127');" onmouseout="out('2433672025347488127');" style=""> 645                  unregisterReceiver(mPhoneCallReceiver);                                                           </span>
<span class="-7469783469378996049" onmouseenter="enter('-7469783469378996049');" onmouseout="out('-7469783469378996049');" style=""> 646                  mPhoneCallReceiver = null;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 647              }                                                                                                     </span>
<span class="2357494330012051795" onmouseenter="enter('2357494330012051795');" onmouseout="out('2357494330012051795');" style=""> 648              if (mSMSReceiver != null) {                                                                           </span>
<span class="5610361879385034456" onmouseenter="enter('5610361879385034456');" onmouseout="out('5610361879385034456');" style=""> 649                  unregisterReceiver(mSMSReceiver);                                                                 </span>
<span class="-1355497021171643704" onmouseenter="enter('-1355497021171643704');" onmouseout="out('-1355497021171643704');" style=""> 650                  mSMSReceiver = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 651              }                                                                                                     </span>
<span class="-3623759735741985563" onmouseenter="enter('-3623759735741985563');" onmouseout="out('-3623759735741985563');" style=""> 652              if (mPebbleReceiver != null) {                                                                        </span>
<span class="927549022767172292" onmouseenter="enter('927549022767172292');" onmouseout="out('927549022767172292');" style=""> 653                  unregisterReceiver(mPebbleReceiver);                                                              </span>
<span class="7266036701373075006" onmouseenter="enter('7266036701373075006');" onmouseout="out('7266036701373075006');" style=""> 654                  mPebbleReceiver = null;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655              }                                                                                                     </span>
<span class="-2055276518887519425" onmouseenter="enter('-2055276518887519425');" onmouseout="out('-2055276518887519425');" style=""> 656              if (mMusicPlaybackReceiver != null) {                                                                 </span>
<span class="890047242835092110" onmouseenter="enter('890047242835092110');" onmouseout="out('890047242835092110');" style=""> 657                  unregisterReceiver(mMusicPlaybackReceiver);                                                       </span>
<span class="-1552577282161915996" onmouseenter="enter('-1552577282161915996');" onmouseout="out('-1552577282161915996');" style=""> 658                  mMusicPlaybackReceiver = null;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 659              }                                                                                                     </span>
<span class="1881385603425146700" onmouseenter="enter('1881385603425146700');" onmouseout="out('1881385603425146700');" style=""> 660              if (mTimeChangeReceiver != null) {                                                                    </span>
<span class="-1894985795964522981" onmouseenter="enter('-1894985795964522981');" onmouseout="out('-1894985795964522981');" style=""> 661                  unregisterReceiver(mTimeChangeReceiver);                                                          </span>
<span class="-7572241227958742128" onmouseenter="enter('-7572241227958742128');" onmouseout="out('-7572241227958742128');" style=""> 662                  mTimeChangeReceiver = null;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663              }                                                                                                     </span>
<span class="9095880258277986747" onmouseenter="enter('9095880258277986747');" onmouseout="out('9095880258277986747');" style=""> 664              if (mBlueToothConnectReceiver != null) {                                                              </span>
<span class="3743697862053435305" onmouseenter="enter('3743697862053435305');" onmouseout="out('3743697862053435305');" style=""> 665                  unregisterReceiver(mBlueToothConnectReceiver);                                                    </span>
<span class="4585763212078609359" onmouseenter="enter('4585763212078609359');" onmouseout="out('4585763212078609359');" style=""> 666                  mBlueToothConnectReceiver = null;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667              }                                                                                                     </span>






<span class="6521400717686065872" onmouseenter="enter('6521400717686065872');" onmouseout="out('6521400717686065872');" style=""> 668              if (mAlarmReceiver != null) {                                                                         </span>
<span class="-1015355596942575674" onmouseenter="enter('-1015355596942575674');" onmouseout="out('-1015355596942575674');" style=""> 669                  unregisterReceiver(mAlarmReceiver);                                                               </span>
<span class="8415896076062081933" onmouseenter="enter('8415896076062081933');" onmouseout="out('8415896076062081933');" style=""> 670                  mAlarmReceiver = null;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 671              }                                                                                                     </span>
<span class="1726896335033811922" onmouseenter="enter('1726896335033811922');" onmouseout="out('1726896335033811922');" style=""> 672              if (mAlarmClockReceiver != null) {                                                                    </span>
<span class="950736544794582273" onmouseenter="enter('950736544794582273');" onmouseout="out('950736544794582273');" style=""> 673                  unregisterReceiver(mAlarmClockReceiver);                                                          </span>
<span class="1888286601385537647" onmouseenter="enter('1888286601385537647');" onmouseout="out('1888286601385537647');" style=""> 674                  mAlarmClockReceiver = null;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 676          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677      }                                                                                                             </span>
<span  style=""> 678                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 679      @Override                                                                                                     </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style=""> 680      public void onDestroy() {                                                                                     </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 681          if (hasPrefs()) {                                                                                         </span>
<span class="-6878257734494454807" onmouseenter="enter('-6878257734494454807');" onmouseout="out('-6878257734494454807');" style=""> 682              getPrefs().getPreferences().unregisterOnSharedPreferenceChangeListener(this);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 683          }                                                                                                         </span>
<span  style=""> 684                                                                                                                    </span>
<span class="-7834521410291460174" onmouseenter="enter('-7834521410291460174');" onmouseout="out('-7834521410291460174');" style=""> 685          LOG.debug(&quot;DeviceCommunicationService is being destroyed&quot;);                                               </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style=""> 686          super.onDestroy();                                                                                        </span>
<span  style=""> 687                                                                                                                    </span>
<span class="1476506345433791001" onmouseenter="enter('1476506345433791001');" onmouseout="out('1476506345433791001');" style=""> 688          LocalBroadcastManager.getInstance(this).unregisterReceiver(mReceiver);                                    </span>
<span class="2766375176654059202" onmouseenter="enter('2766375176654059202');" onmouseout="out('2766375176654059202');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 689 -        setReceiversEnableState(false); // disable BroadcastReceivers                                             </span>
<span class="5360529083684701535" onmouseenter="enter('5360529083684701535');" onmouseout="out('5360529083684701535');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 690 +        setReceiversEnableState(false, false); // disable BroadcastReceivers                                      </span>
<span  style=""> 691                                                                                                                    </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 692          setDeviceSupport(null);                                                                                   </span>
<span class="-6401324814064311246" onmouseenter="enter('-6401324814064311246');" onmouseout="out('-6401324814064311246');" style=""> 693          NotificationManager nm = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);            </span>
<span class="-9110481916976035504" onmouseenter="enter('-9110481916976035504');" onmouseout="out('-9110481916976035504');" style=""><abbr title=" 694          nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cancelled when service stops"> 694          nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cancelled when🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695      }                                                                                                             </span>
<span  style=""> 696                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 697      @Override                                                                                                     </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 698      public IBinder onBind(Intent intent) {                                                                        </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 699          return null;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700      }                                                                                                             </span>
<span  style=""> 701                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 702      @Override                                                                                                     </span>
<span class="-8543522445860717125" onmouseenter="enter('-8543522445860717125');" onmouseout="out('-8543522445860717125');" style=""> 703      public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {                      </span>
<span class="-685513269405093629" onmouseenter="enter('-685513269405093629');" onmouseout="out('-685513269405093629');" style=""> 704          if (GBPrefs.AUTO_RECONNECT.equals(key)) {                                                                 </span>
<span class="6392472237335160020" onmouseenter="enter('6392472237335160020');" onmouseout="out('6392472237335160020');" style=""> 705              boolean autoReconnect = getGBPrefs().getAutoReconnect();                                              </span>
<span class="6496582276158603468" onmouseenter="enter('6496582276158603468');" onmouseout="out('6496582276158603468');" style=""> 706              if (mDeviceSupport != null) {                                                                         </span>
<span class="-7892066664316346354" onmouseenter="enter('-7892066664316346354');" onmouseout="out('-7892066664316346354');" style=""> 707                  mDeviceSupport.setAutoReconnect(autoReconnect);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 708              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710      }                                                                                                             </span>
<span  style=""> 711                                                                                                                    </span>
<span class="5219197634720526897" onmouseenter="enter('5219197634720526897');" onmouseout="out('5219197634720526897');" style=""> 712      protected boolean hasPrefs() {                                                                                </span>
<span class="4539535577863579094" onmouseenter="enter('4539535577863579094');" onmouseout="out('4539535577863579094');" style=""> 713          return getPrefs().getPreferences() != null;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 714      }                                                                                                             </span>
<span  style=""> 715                                                                                                                    </span>
<span class="8152942447888292090" onmouseenter="enter('8152942447888292090');" onmouseout="out('8152942447888292090');" style=""> 716      public Prefs getPrefs() {                                                                                     </span>
<span class="-7206933193388772480" onmouseenter="enter('-7206933193388772480');" onmouseout="out('-7206933193388772480');" style=""> 717          return GBApplication.getPrefs();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718      }                                                                                                             </span>
<span  style=""> 719                                                                                                                    </span>
<span class="7931316051287321883" onmouseenter="enter('7931316051287321883');" onmouseout="out('7931316051287321883');" style=""> 720      public GBPrefs getGBPrefs() {                                                                                 </span>
<span class="-2213918291073204825" onmouseenter="enter('-2213918291073204825');" onmouseout="out('-2213918291073204825');" style=""> 721          return GBApplication.getGBPrefs();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722      }                                                                                                             </span>
<span  style=""> 723                                                                                                                    </span>
<span class="-3261323066157882616" onmouseenter="enter('-3261323066157882616');" onmouseout="out('-3261323066157882616');" style=""> 724      public GBDevice getGBDevice() {                                                                               </span>
<span class="2107010764646382456" onmouseenter="enter('2107010764646382456');" onmouseout="out('2107010764646382456');" style=""> 725          return mGBDevice;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="-2913458566757142997" onmouseenter="enter('-2913458566757142997');" onmouseout="out('-2913458566757142997');" style="">   1  /*  Copyright (C) 2015-2017 Andreas Shimokawa, Avamander, Carsten Pfeiffer,                                       </span>
<span class="-6081250020317944645" onmouseenter="enter('-6081250020317944645');" onmouseout="out('-6081250020317944645');" style="">   2      Daniele Gobbetti, ivanovlev, Julien Pivotto, Kasha, Sergey Trofimov, Steffen                                  </span>
<span class="124812437508453505" onmouseenter="enter('124812437508453505');" onmouseout="out('124812437508453505');" style="">   3      Liebergeld, Uwe Hermann                                                                                       </span>
<span  style="">   4                                                                                                                    </span>
<span class="-7759499394858783956" onmouseenter="enter('-7759499394858783956');" onmouseout="out('-7759499394858783956');" style="">   5      This file is part of Gadgetbridge.                                                                            </span>
<span  style="">   6                                                                                                                    </span>
<span class="-2647557636279629478" onmouseenter="enter('-2647557636279629478');" onmouseout="out('-2647557636279629478');" style="">   7      Gadgetbridge is free software: you can redistribute it and/or modify                                          </span>
<span class="4878736751218581391" onmouseenter="enter('4878736751218581391');" onmouseout="out('4878736751218581391');" style="">   8      it under the terms of the GNU Affero General Public License as published                                      </span>
<span class="-5160078368722358920" onmouseenter="enter('-5160078368722358920');" onmouseout="out('-5160078368722358920');" style="">   9      by the Free Software Foundation, either version 3 of the License, or                                          </span>
<span class="6661789815760177463" onmouseenter="enter('6661789815760177463');" onmouseout="out('6661789815760177463');" style="">  10      (at your option) any later version.                                                                           </span>
<span  style="">  11                                                                                                                    </span>
<span class="-6828199977528779968" onmouseenter="enter('-6828199977528779968');" onmouseout="out('-6828199977528779968');" style="">  12      Gadgetbridge is distributed in the hope that it will be useful,                                               </span>
<span class="4883593508173597945" onmouseenter="enter('4883593508173597945');" onmouseout="out('4883593508173597945');" style="">  13      but WITHOUT ANY WARRANTY; without even the implied warranty of                                                </span>
<span class="2300657568347926527" onmouseenter="enter('2300657568347926527');" onmouseout="out('2300657568347926527');" style="">  14      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                                                 </span>
<span class="4681049817175334681" onmouseenter="enter('4681049817175334681');" onmouseout="out('4681049817175334681');" style="">  15      GNU Affero General Public License for more details.                                                           </span>
<span  style="">  16                                                                                                                    </span>
<span class="-3235531360569947201" onmouseenter="enter('-3235531360569947201');" onmouseout="out('-3235531360569947201');" style="">  17      You should have received a copy of the GNU Affero General Public License                                      </span>
<span class="-3088444562895398794" onmouseenter="enter('-3088444562895398794');" onmouseout="out('-3088444562895398794');" style="">  18      along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;. */                                      </span>
<span class="-7738010425234448954" onmouseenter="enter('-7738010425234448954');" onmouseout="out('-7738010425234448954');" style="">  19  package nodomain.freeyourgadget.gadgetbridge.service;                                                             </span>
<span  style="">  20                                                                                                                    </span>
<span class="2183671588995744448" onmouseenter="enter('2183671588995744448');" onmouseout="out('2183671588995744448');" style="">  21  import android.app.NotificationManager;                                                                           </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  22  import android.app.Service;                                                                                       </span>
<span class="2859895893394018468" onmouseenter="enter('2859895893394018468');" onmouseout="out('2859895893394018468');" style="">  23  import android.bluetooth.BluetoothDevice;                                                                         </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  24  import android.content.BroadcastReceiver;                                                                         </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  25  import android.content.Context;                                                                                   </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  26  import android.content.Intent;                                                                                    </span>
<span class="8697221465021235869" onmouseenter="enter('8697221465021235869');" onmouseout="out('8697221465021235869');" style="">  27  import android.content.IntentFilter;                                                                              </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  28  import android.content.SharedPreferences;                                                                         </span>
<span class="-8750621697125156872" onmouseenter="enter('-8750621697125156872');" onmouseout="out('-8750621697125156872');" style="">  29  import android.net.Uri;                                                                                           </span>
<span class="-4924852553117578000" onmouseenter="enter('-4924852553117578000');" onmouseout="out('-4924852553117578000');" style="">  30  import android.os.IBinder;                                                                                        </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  31  import android.support.annotation.Nullable;                                                                       </span>
<span class="2517521963771876570" onmouseenter="enter('2517521963771876570');" onmouseout="out('2517521963771876570');" style="">  32  import android.support.v4.content.LocalBroadcastManager;                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  33  import android.widget.Toast;                                                                                      </span>
<span  style="">  34                                                                                                                    </span>
<span class="9072327285961251154" onmouseenter="enter('9072327285961251154');" onmouseout="out('9072327285961251154');" style="">  35  import org.slf4j.Logger;                                                                                          </span>
<span class="697043352225962606" onmouseenter="enter('697043352225962606');" onmouseout="out('697043352225962606');" style="">  36  import org.slf4j.LoggerFactory;                                                                                   </span>
<span  style="">  37                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  38  import java.util.ArrayList;                                                                                       </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  39  import java.util.Random;                                                                                          </span>
<span class="2390503830490498598" onmouseenter="enter('2390503830490498598');" onmouseout="out('2390503830490498598');" style="">  40  import java.util.UUID;                                                                                            </span>
<span  style="">  41                                                                                                                    </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  42  import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                                        </span>
<span class="-7198279398549834921" onmouseenter="enter('-7198279398549834921');" onmouseout="out('-7198279398549834921');" style="">  43  import nodomain.freeyourgadget.gadgetbridge.R;                                                                    </span>
<span class="-1043793227667586476" onmouseenter="enter('-1043793227667586476');" onmouseout="out('-1043793227667586476');" style="">  44  import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmClockReceiver;                                    </span>
<span class="-466082507516838314" onmouseenter="enter('-466082507516838314');" onmouseout="out('-466082507516838314');" style="">  45  import nodomain.freeyourgadget.gadgetbridge.externalevents.AlarmReceiver;                                         </span>
<span class="-7129464422930519321" onmouseenter="enter('-7129464422930519321');" onmouseout="out('-7129464422930519321');" style="">  46  import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothConnectReceiver;                              </span>
<span class="3745747127962910079" onmouseenter="enter('3745747127962910079');" onmouseout="out('3745747127962910079');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +import nodomain.freeyourgadget.gadgetbridge.externalevents.BluetoothPairingRequestReceiver;                       </span>
<span class="-2271437192109431069" onmouseenter="enter('-2271437192109431069');" onmouseout="out('-2271437192109431069');" style="">  48  import nodomain.freeyourgadget.gadgetbridge.externalevents.MusicPlaybackReceiver;                                 </span>
<span class="-8149017599814569985" onmouseenter="enter('-8149017599814569985');" onmouseout="out('-8149017599814569985');" style="">  49  import nodomain.freeyourgadget.gadgetbridge.externalevents.PebbleReceiver;                                        </span>
<span class="2562090092581913054" onmouseenter="enter('2562090092581913054');" onmouseout="out('2562090092581913054');" style="">  50  import nodomain.freeyourgadget.gadgetbridge.externalevents.PhoneCallReceiver;                                     </span>
<span class="-1515256456216613580" onmouseenter="enter('-1515256456216613580');" onmouseout="out('-1515256456216613580');" style="">  51  import nodomain.freeyourgadget.gadgetbridge.externalevents.SMSReceiver;                                           </span>
<span class="-4561728641078454300" onmouseenter="enter('-4561728641078454300');" onmouseout="out('-4561728641078454300');" style="">  52  import nodomain.freeyourgadget.gadgetbridge.externalevents.TimeChangeReceiver;                                    </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  53  import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                                        </span>
<span class="-8766238562391910018" onmouseenter="enter('-8766238562391910018');" onmouseout="out('-8766238562391910018');" style="">  54  import nodomain.freeyourgadget.gadgetbridge.model.Alarm;                                                          </span>
<span class="-3899388208810973608" onmouseenter="enter('-3899388208810973608');" onmouseout="out('-3899388208810973608');" style="">  55  import nodomain.freeyourgadget.gadgetbridge.model.CalendarEventSpec;                                              </span>
<span class="-9074570965792323186" onmouseenter="enter('-9074570965792323186');" onmouseout="out('-9074570965792323186');" style="">  56  import nodomain.freeyourgadget.gadgetbridge.model.CallSpec;                                                       </span>
<span class="-7415926539738049206" onmouseenter="enter('-7415926539738049206');" onmouseout="out('-7415926539738049206');" style="">  57  import nodomain.freeyourgadget.gadgetbridge.model.CannedMessagesSpec;                                             </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  58  import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                                      </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  59  import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                                 </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  60  import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                               </span>
<span class="7087011959288310716" onmouseenter="enter('7087011959288310716');" onmouseout="out('7087011959288310716');" style="">  61  import nodomain.freeyourgadget.gadgetbridge.model.NotificationType;                                               </span>
<span class="-40839721936664146" onmouseenter="enter('-40839721936664146');" onmouseout="out('-40839721936664146');" style="">  62  import nodomain.freeyourgadget.gadgetbridge.model.WeatherSpec;                                                    </span>
<span class="-8326539218894047431" onmouseenter="enter('-8326539218894047431');" onmouseout="out('-8326539218894047431');" style="">  63  import nodomain.freeyourgadget.gadgetbridge.util.DeviceHelper;                                                    </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  64  import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                              </span>
<span class="-9094281754584205644" onmouseenter="enter('-9094281754584205644');" onmouseout="out('-9094281754584205644');" style="">  65  import nodomain.freeyourgadget.gadgetbridge.util.GBPrefs;                                                         </span>
<span class="-600862318521663319" onmouseenter="enter('-600862318521663319');" onmouseout="out('-600862318521663319');" style="">  66  import nodomain.freeyourgadget.gadgetbridge.util.Prefs;                                                           </span>
<span  style="">  67                                                                                                                    </span>
<span class="6045190136542162764" onmouseenter="enter('6045190136542162764');" onmouseout="out('6045190136542162764');" style="">  68  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ADD_CALENDAREVENT;                  </span>
<span class="-4691650729708495340" onmouseenter="enter('-4691650729708495340');" onmouseout="out('-4691650729708495340');" style="">  69  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_CONFIGURE;                      </span>
<span class="8979266882952044394" onmouseenter="enter('8979266882952044394');" onmouseout="out('8979266882952044394');" style="">  70  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_APP_REORDER;                        </span>
<span class="-542869728357892530" onmouseenter="enter('-542869728357892530');" onmouseout="out('-542869728357892530');" style="">  71  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CALLSTATE;                          </span>
<span class="-247683295782230703" onmouseenter="enter('-247683295782230703');" onmouseout="out('-247683295782230703');" style="">  72  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_CONNECT;                            </span>
<span class="-4616915307566341750" onmouseenter="enter('-4616915307566341750');" onmouseout="out('-4616915307566341750');" style="">  73  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETEAPP;                          </span>
<span class="-3074116335608109863" onmouseenter="enter('-3074116335608109863');" onmouseout="out('-3074116335608109863');" style="">  74  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_CALENDAREVENT;               </span>
<span class="-1860366238468238430" onmouseenter="enter('-1860366238468238430');" onmouseout="out('-1860366238468238430');" style="">  75  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DELETE_NOTIFICATION;                </span>
<span class="-1812841064554504500" onmouseenter="enter('-1812841064554504500');" onmouseout="out('-1812841064554504500');" style="">  76  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_DISCONNECT;                         </span>
<span class="-4921661448524955199" onmouseenter="enter('-4921661448524955199');" onmouseout="out('-4921661448524955199');" style="">  77  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT;     </span>
<span class="6246333874127665785" onmouseenter="enter('6246333874127665785');" onmouseout="out('6246333874127665785');" style=""><abbr title="  78  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT;">  78  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMEN🔵</abbr></span>
<span class="-7030527688450425299" onmouseenter="enter('-7030527688450425299');" onmouseout="out('-7030527688450425299');" style="">  79  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_ENABLE_REALTIME_STEPS;              </span>
<span class="5330179003852293257" onmouseenter="enter('5330179003852293257');" onmouseout="out('5330179003852293257');" style="">  80  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FETCH_ACTIVITY_DATA;                </span>
<span class="-6966848371161420018" onmouseenter="enter('-6966848371161420018');" onmouseout="out('-6966848371161420018');" style="">  81  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_FIND_DEVICE;                        </span>
<span class="4586775629870362245" onmouseenter="enter('4586775629870362245');" onmouseout="out('4586775629870362245');" style="">  82  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_HEARTRATE_TEST;                     </span>
<span class="-5289289347666796824" onmouseenter="enter('-5289289347666796824');" onmouseout="out('-5289289347666796824');" style="">  83  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_INSTALL;                            </span>
<span class="3276198152396102653" onmouseenter="enter('3276198152396102653');" onmouseout="out('3276198152396102653');" style="">  84  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_NOTIFICATION;                       </span>
<span class="5085118059276382623" onmouseenter="enter('5085118059276382623');" onmouseout="out('5085118059276382623');" style="">  85  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REBOOT;                             </span>
<span class="-6594726169437148825" onmouseenter="enter('-6594726169437148825');" onmouseout="out('-6594726169437148825');" style="">  86  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_APPINFO;                    </span>
<span class="-1183129577946721611" onmouseenter="enter('-1183129577946721611');" onmouseout="out('-1183129577946721611');" style="">  87  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_DEVICEINFO;                 </span>
<span class="5758933186280297106" onmouseenter="enter('5758933186280297106');" onmouseout="out('5758933186280297106');" style="">  88  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_REQUEST_SCREENSHOT;                 </span>
<span class="-4714892334355914946" onmouseenter="enter('-4714892334355914946');" onmouseout="out('-4714892334355914946');" style="">  89  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_CONFIGURATION;                 </span>
<span class="8513571795744919095" onmouseenter="enter('8513571795744919095');" onmouseout="out('8513571795744919095');" style="">  90  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SEND_WEATHER;                       </span>
<span class="7391455619690263299" onmouseenter="enter('7391455619690263299');" onmouseout="out('7391455619690263299');" style="">  91  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETCANNEDMESSAGES;                  </span>
<span class="3872370270421160251" onmouseenter="enter('3872370270421160251');" onmouseout="out('3872370270421160251');" style="">  92  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICINFO;                       </span>
<span class="4922243836603922576" onmouseenter="enter('4922243836603922576');" onmouseout="out('4922243836603922576');" style="">  93  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETMUSICSTATE;                      </span>
<span class="-1819410662234697183" onmouseenter="enter('-1819410662234697183');" onmouseout="out('-1819410662234697183');" style="">  94  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SETTIME;                            </span>
<span class="5600424252036500004" onmouseenter="enter('5600424252036500004');" onmouseout="out('5600424252036500004');" style="">  95  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_ALARMS;                         </span>
<span class="-8485936520151852725" onmouseenter="enter('-8485936520151852725');" onmouseout="out('-8485936520151852725');" style="">  96  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_SET_CONSTANT_VIBRATION;             </span>
<span class="-2895954538846707623" onmouseenter="enter('-2895954538846707623');" onmouseout="out('-2895954538846707623');" style="">  97  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_START;                              </span>
<span class="159603830185606040" onmouseenter="enter('159603830185606040');" onmouseout="out('159603830185606040');" style="">  98  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_STARTAPP;                           </span>
<span class="-8485404521634723509" onmouseenter="enter('-8485404521634723509');" onmouseout="out('-8485404521634723509');" style="">  99  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.ACTION_TEST_NEW_FUNCTION;                  </span>
<span class="770450972489050338" onmouseenter="enter('770450972489050338');" onmouseout="out('770450972489050338');" style=""> 100  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_ALARMS;                              </span>
<span class="-7114221800478427382" onmouseenter="enter('-7114221800478427382');" onmouseout="out('-7114221800478427382');" style=""> 101  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_CONFIG;                          </span>
<span class="8965411938901348033" onmouseenter="enter('8965411938901348033');" onmouseout="out('8965411938901348033');" style=""> 102  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_START;                           </span>
<span class="-8283928422425000100" onmouseenter="enter('-8283928422425000100');" onmouseout="out('-8283928422425000100');" style=""> 103  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_APP_UUID;                            </span>
<span class="-6028659556554711747" onmouseenter="enter('-6028659556554711747');" onmouseout="out('-6028659556554711747');" style=""> 104  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_BOOLEAN_ENABLE;                      </span>
<span class="7522647889408017982" onmouseenter="enter('7522647889408017982');" onmouseout="out('7522647889408017982');" style=""> 105  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DESCRIPTION;           </span>
<span class="2012224363855729231" onmouseenter="enter('2012224363855729231');" onmouseout="out('2012224363855729231');" style=""> 106  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_DURATION;              </span>
<span class="2381002028954495403" onmouseenter="enter('2381002028954495403');" onmouseout="out('2381002028954495403');" style=""> 107  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_ID;                    </span>
<span class="-7291810314793060088" onmouseenter="enter('-7291810314793060088');" onmouseout="out('-7291810314793060088');" style=""> 108  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TIMESTAMP;             </span>
<span class="384106080468578959" onmouseenter="enter('384106080468578959');" onmouseout="out('384106080468578959');" style=""> 109  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TITLE;                 </span>
<span class="-6202091316758952440" onmouseenter="enter('-6202091316758952440');" onmouseout="out('-6202091316758952440');" style=""> 110  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALENDAREVENT_TYPE;                  </span>
<span class="8389643945828398933" onmouseenter="enter('8389643945828398933');" onmouseout="out('8389643945828398933');" style=""> 111  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_COMMAND;                        </span>
<span class="4792956381576162355" onmouseenter="enter('4792956381576162355');" onmouseout="out('4792956381576162355');" style=""> 112  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_DISPLAYNAME;                    </span>
<span class="5333868123015017193" onmouseenter="enter('5333868123015017193');" onmouseout="out('5333868123015017193');" style=""> 113  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CALL_PHONENUMBER;                    </span>
<span class="-5129778312485721110" onmouseenter="enter('-5129778312485721110');" onmouseout="out('-5129778312485721110');" style=""> 114  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES;                      </span>
<span class="4656341769499509905" onmouseenter="enter('4656341769499509905');" onmouseout="out('4656341769499509905');" style=""> 115  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CANNEDMESSAGES_TYPE;                 </span>
<span class="5199391479118480443" onmouseenter="enter('5199391479118480443');" onmouseout="out('5199391479118480443');" style=""> 116  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONFIG;                              </span>

<span class="4221194159076226870" onmouseenter="enter('4221194159076226870');" onmouseout="out('4221194159076226870');" style=""> 117  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_FIND_START;                          </span>
<span class="-2258225638015800384" onmouseenter="enter('-2258225638015800384');" onmouseout="out('-2258225638015800384');" style=""> 118  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ALBUM;                         </span>
<span class="-2216137706415061756" onmouseenter="enter('-2216137706415061756');" onmouseout="out('-2216137706415061756');" style=""> 119  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_ARTIST;                        </span>
<span class="8046519832671029614" onmouseenter="enter('8046519832671029614');" onmouseout="out('8046519832671029614');" style=""> 120  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_DURATION;                      </span>
<span class="-6142463088169555654" onmouseenter="enter('-6142463088169555654');" onmouseout="out('-6142463088169555654');" style=""> 121  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_POSITION;                      </span>
<span class="5744330398351461055" onmouseenter="enter('5744330398351461055');" onmouseout="out('5744330398351461055');" style=""> 122  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_RATE;                          </span>
<span class="-4927372672415271921" onmouseenter="enter('-4927372672415271921');" onmouseout="out('-4927372672415271921');" style=""> 123  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_REPEAT;                        </span>
<span class="7486056797989668892" onmouseenter="enter('7486056797989668892');" onmouseout="out('7486056797989668892');" style=""> 124  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_SHUFFLE;                       </span>
<span class="-8253565582178279411" onmouseenter="enter('-8253565582178279411');" onmouseout="out('-8253565582178279411');" style=""> 125  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_STATE;                         </span>
<span class="-2409139333736829248" onmouseenter="enter('-2409139333736829248');" onmouseout="out('-2409139333736829248');" style=""> 126  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACK;                         </span>
<span class="3248584088261486079" onmouseenter="enter('3248584088261486079');" onmouseout="out('3248584088261486079');" style=""> 127  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKCOUNT;                    </span>
<span class="-2704967574938476609" onmouseenter="enter('-2704967574938476609');" onmouseout="out('-2704967574938476609');" style=""> 128  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_MUSIC_TRACKNR;                       </span>
<span class="3700368637395551240" onmouseenter="enter('3700368637395551240');" onmouseout="out('3700368637395551240');" style=""> 129  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_BODY;                   </span>
<span class="6396194886685840912" onmouseenter="enter('6396194886685840912');" onmouseout="out('6396194886685840912');" style=""> 130  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_FLAGS;                  </span>
<span class="4822457600196668791" onmouseenter="enter('4822457600196668791');" onmouseout="out('4822457600196668791');" style=""> 131  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_ID;                     </span>
<span class="7674789080848891549" onmouseenter="enter('7674789080848891549');" onmouseout="out('7674789080848891549');" style=""> 132  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_PHONENUMBER;            </span>
<span class="4567989658129086488" onmouseenter="enter('4567989658129086488');" onmouseout="out('4567989658129086488');" style=""> 133  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SENDER;                 </span>
<span class="5059516478886573650" onmouseenter="enter('5059516478886573650');" onmouseout="out('5059516478886573650');" style=""> 134  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SOURCENAME;             </span>
<span class="4541479799245762364" onmouseenter="enter('4541479799245762364');" onmouseout="out('4541479799245762364');" style=""> 135  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_SUBJECT;                </span>
<span class="-2743035339658362547" onmouseenter="enter('-2743035339658362547');" onmouseout="out('-2743035339658362547');" style=""> 136  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TITLE;                  </span>
<span class="-5872178756477099231" onmouseenter="enter('-5872178756477099231');" onmouseout="out('-5872178756477099231');" style=""> 137  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_NOTIFICATION_TYPE;                   </span>
<span class="4059405288294641795" onmouseenter="enter('4059405288294641795');" onmouseout="out('4059405288294641795');" style=""> 138  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_CONNECT_FIRST_TIME;                  </span>
<span class="2609126409554850516" onmouseenter="enter('2609126409554850516');" onmouseout="out('2609126409554850516');" style=""> 139  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_URI;                                 </span>
<span class="558351812671615614" onmouseenter="enter('558351812671615614');" onmouseout="out('558351812671615614');" style=""> 140  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_VIBRATION_INTENSITY;                 </span>
<span class="-3363581013306175134" onmouseenter="enter('-3363581013306175134');" onmouseout="out('-3363581013306175134');" style=""> 141  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITION;            </span>
<span class="-8943294338982235009" onmouseenter="enter('-8943294338982235009');" onmouseout="out('-8943294338982235009');" style=""> 142  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTCONDITIONCODE;        </span>
<span class="2859637720228343142" onmouseenter="enter('2859637720228343142');" onmouseout="out('2859637720228343142');" style=""> 143  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_CURRENTTEMP;                 </span>
<span class="-2095384497186099299" onmouseenter="enter('-2095384497186099299');" onmouseout="out('-2095384497186099299');" style=""> 144  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_LOCATION;                    </span>
<span class="6581594015461287613" onmouseenter="enter('6581594015461287613');" onmouseout="out('6581594015461287613');" style=""> 145  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TIMESTAMP;                   </span>
<span class="-7095302037137566641" onmouseenter="enter('-7095302037137566641');" onmouseout="out('-7095302037137566641');" style=""> 146  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMAXTEMP;                </span>
<span class="4074481476846669078" onmouseenter="enter('4074481476846669078');" onmouseout="out('4074481476846669078');" style=""> 147  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TODAYMINTEMP;                </span>
<span class="-2007611705625738582" onmouseenter="enter('-2007611705625738582');" onmouseout="out('-2007611705625738582');" style=""> 148  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWCONDITIONCODE;       </span>
<span class="-2323001311549544950" onmouseenter="enter('-2323001311549544950');" onmouseout="out('-2323001311549544950');" style=""> 149  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMAXTEMP;             </span>
<span class="-6803925815152400371" onmouseenter="enter('-6803925815152400371');" onmouseout="out('-6803925815152400371');" style=""> 150  import static nodomain.freeyourgadget.gadgetbridge.model.DeviceService.EXTRA_WEATHER_TOMORROWMINTEMP;             </span>
<span  style=""> 151                                                                                                                    </span>
<span class="7002389026711922138" onmouseenter="enter('7002389026711922138');" onmouseout="out('7002389026711922138');" style=""><abbr title=" 152  public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListener {"> 152  public class DeviceCommunicationService extends Service implements SharedPreferences.OnSharedPreferenceChangeListe🔵</abbr></span>
<span class="2948370626519459736" onmouseenter="enter('2948370626519459736');" onmouseout="out('2948370626519459736');" style=""> 153      private static final Logger LOG = LoggerFactory.getLogger(DeviceCommunicationService.class);                  </span>
<span class="8315759516084024026" onmouseenter="enter('8315759516084024026');" onmouseout="out('8315759516084024026');" style=""> 154      private static DeviceSupportFactory DEVICE_SUPPORT_FACTORY = null;                                            </span>
<span  style=""> 155                                                                                                                    </span>
<span class="5665266661180725736" onmouseenter="enter('5665266661180725736');" onmouseout="out('5665266661180725736');" style=""> 156      private boolean mStarted = false;                                                                             </span>
<span  style=""> 157                                                                                                                    </span>
<span class="2619013435041056124" onmouseenter="enter('2619013435041056124');" onmouseout="out('2619013435041056124');" style=""> 158      private DeviceSupportFactory mFactory;                                                                        </span>
<span class="-5535852384441440556" onmouseenter="enter('-5535852384441440556');" onmouseout="out('-5535852384441440556');" style=""> 159      private GBDevice mGBDevice = null;                                                                            </span>
<span class="3807324077532128165" onmouseenter="enter('3807324077532128165');" onmouseout="out('3807324077532128165');" style=""> 160      private DeviceSupport mDeviceSupport;                                                                         </span>
<span  style=""> 161                                                                                                                    </span>
<span class="6815378416149141398" onmouseenter="enter('6815378416149141398');" onmouseout="out('6815378416149141398');" style=""> 162      private PhoneCallReceiver mPhoneCallReceiver = null;                                                          </span>
<span class="-2826099576832326168" onmouseenter="enter('-2826099576832326168');" onmouseout="out('-2826099576832326168');" style=""> 163      private SMSReceiver mSMSReceiver = null;                                                                      </span>
<span class="-3235398375537158027" onmouseenter="enter('-3235398375537158027');" onmouseout="out('-3235398375537158027');" style=""> 164      private PebbleReceiver mPebbleReceiver = null;                                                                </span>
<span class="-6023871012645258525" onmouseenter="enter('-6023871012645258525');" onmouseout="out('-6023871012645258525');" style=""> 165      private MusicPlaybackReceiver mMusicPlaybackReceiver = null;                                                  </span>
<span class="-6462467161745750835" onmouseenter="enter('-6462467161745750835');" onmouseout="out('-6462467161745750835');" style=""> 166      private TimeChangeReceiver mTimeChangeReceiver = null;                                                        </span>
<span class="45606605928520924" onmouseenter="enter('45606605928520924');" onmouseout="out('45606605928520924');" style=""> 167      private BluetoothConnectReceiver mBlueToothConnectReceiver = null;                                            </span>
<span class="-9067944856238345499" onmouseenter="enter('-9067944856238345499');" onmouseout="out('-9067944856238345499');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +    private BluetoothPairingRequestReceiver mBlueToothPairingRequestReceiver = null;                              </span>
<span class="-2172935952751705642" onmouseenter="enter('-2172935952751705642');" onmouseout="out('-2172935952751705642');" style=""> 169      private AlarmClockReceiver mAlarmClockReceiver = null;                                                        </span>
<span  style=""> 170                                                                                                                    </span>
<span class="8047396517755341728" onmouseenter="enter('8047396517755341728');" onmouseout="out('8047396517755341728');" style=""> 171      private AlarmReceiver mAlarmReceiver = null;                                                                  </span>

<span class="596985040066134893" onmouseenter="enter('596985040066134893');" onmouseout="out('596985040066134893');" style=""> 172      private Random mRandom = new Random();                                                                        </span>
<span  style=""> 173                                                                                                                    </span>
<span class="-7026764300858699611" onmouseenter="enter('-7026764300858699611');" onmouseout="out('-7026764300858699611');" style=""> 174      private final String[] mMusicActions = {                                                                      </span>
<span class="-5899670638360176462" onmouseenter="enter('-5899670638360176462');" onmouseout="out('-5899670638360176462');" style=""> 175              &quot;com.android.music.metachanged&quot;,                                                                      </span>
<span class="-6119178071307230813" onmouseenter="enter('-6119178071307230813');" onmouseout="out('-6119178071307230813');" style=""> 176              &quot;com.android.music.playstatechanged&quot;,                                                                 </span>
<span class="6696782374861485479" onmouseenter="enter('6696782374861485479');" onmouseout="out('6696782374861485479');" style=""> 177              &quot;com.android.music.queuechanged&quot;,                                                                     </span>
<span class="6754013239602282204" onmouseenter="enter('6754013239602282204');" onmouseout="out('6754013239602282204');" style=""> 178              &quot;com.android.music.playbackcomplete&quot;,                                                                 </span>
<span class="-1811061177320906307" onmouseenter="enter('-1811061177320906307');" onmouseout="out('-1811061177320906307');" style=""> 179              &quot;net.sourceforge.subsonic.androidapp.EVENT_META_CHANGED&quot;,                                             </span>
<span class="8938407557672159350" onmouseenter="enter('8938407557672159350');" onmouseout="out('8938407557672159350');" style=""> 180              &quot;com.maxmpz.audioplayer.TPOS_SYNC&quot;,                                                                   </span>
<span class="8683787039615780676" onmouseenter="enter('8683787039615780676');" onmouseout="out('8683787039615780676');" style=""> 181              &quot;com.maxmpz.audioplayer.STATUS_CHANGED&quot;,                                                              </span>
<span class="7325198080010606271" onmouseenter="enter('7325198080010606271');" onmouseout="out('7325198080010606271');" style=""> 182              &quot;com.maxmpz.audioplayer.PLAYING_MODE_CHANGED&quot;};                                                       </span>
<span  style=""> 183                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 184      /**                                                                                                           </span>
<span class="-2662003173786345235" onmouseenter="enter('-2662003173786345235');" onmouseout="out('-2662003173786345235');" style=""> 185       * For testing!                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 186       *                                                                                                            </span>
<span class="2659395903319912597" onmouseenter="enter('2659395903319912597');" onmouseout="out('2659395903319912597');" style=""> 187       * @param factory                                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 188       */                                                                                                           </span>
<span class="-6666378662286991217" onmouseenter="enter('-6666378662286991217');" onmouseout="out('-6666378662286991217');" style=""> 189      public static void setDeviceSupportFactory(DeviceSupportFactory factory) {                                    </span>
<span class="-8354288850313385150" onmouseenter="enter('-8354288850313385150');" onmouseout="out('-8354288850313385150');" style=""> 190          DEVICE_SUPPORT_FACTORY = factory;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191      }                                                                                                             </span>
<span  style=""> 192                                                                                                                    </span>
<span class="-3957055725206159636" onmouseenter="enter('-3957055725206159636');" onmouseout="out('-3957055725206159636');" style=""> 193      public DeviceCommunicationService() {                                                                         </span>
<span  style=""> 194                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195      }                                                                                                             </span>
<span  style=""> 196                                                                                                                    </span>
<span class="4625474178666977899" onmouseenter="enter('4625474178666977899');" onmouseout="out('4625474178666977899');" style=""> 197      private final BroadcastReceiver mReceiver = new BroadcastReceiver() {                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 198          @Override                                                                                                 </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style=""> 199          public void onReceive(Context context, Intent intent) {                                                   </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 200              String action = intent.getAction();                                                                   </span>
<span class="6363789114941388821" onmouseenter="enter('6363789114941388821');" onmouseout="out('6363789114941388821');" style=""> 201              if (action.equals(GBDevice.ACTION_DEVICE_CHANGED)) {                                                  </span>
<span class="-2461183312182880324" onmouseenter="enter('-2461183312182880324');" onmouseout="out('-2461183312182880324');" style=""> 202                  GBDevice device = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                               </span>
<span class="-1587947608962901958" onmouseenter="enter('-1587947608962901958');" onmouseout="out('-1587947608962901958');" style=""> 203                  // FIXME: mGBDevice was null here once                                                            </span>
<span class="6531971567465378623" onmouseenter="enter('6531971567465378623');" onmouseout="out('6531971567465378623');" style=""> 204                  if (mGBDevice.equals(device)) {                                                                   </span>
<span class="3131993518650313722" onmouseenter="enter('3131993518650313722');" onmouseout="out('3131993518650313722');" style=""> 205                      mGBDevice = device;                                                                           </span>
<span class="-9215184646965251963" onmouseenter="enter('-9215184646965251963');" onmouseout="out('-9215184646965251963');" style=""><abbr title=" 206                      boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDevice.isInitialized());"> 206                      boolean enableReceivers = mDeviceSupport != null &amp;&amp; (mDeviceSupport.useAutoConnect() || mGBDev🔵</abbr></span>
<span class="-8776788669797954241" onmouseenter="enter('-8776788669797954241');" onmouseout="out('-8776788669797954241');" style=""> 207                      setReceiversEnableState(enableReceivers);                                                     </span>

<span class="3006210050222174141" onmouseenter="enter('3006210050222174141');" onmouseout="out('3006210050222174141');" style=""><abbr title=" 208                      GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevice.isInitialized(), context);"> 208                      GB.updateNotification(mGBDevice.getName() + &quot; &quot; + mGBDevice.getStateString(), mGBDevice.isInit🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 209                  } else {                                                                                          </span>
<span class="-5607286848535217916" onmouseenter="enter('-5607286848535217916');" onmouseout="out('-5607286848535217916');" style=""> 210                      LOG.error(&quot;Got ACTION_DEVICE_CHANGED from unexpected device: &quot; + mGBDevice);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 214      };                                                                                                            </span>
<span  style=""> 215                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216      @Override                                                                                                     </span>
<span class="-2716773701189387633" onmouseenter="enter('-2716773701189387633');" onmouseout="out('-2716773701189387633');" style=""> 217      public void onCreate() {                                                                                      </span>
<span class="-4054458849665978908" onmouseenter="enter('-4054458849665978908');" onmouseout="out('-4054458849665978908');" style=""> 218          LOG.debug(&quot;DeviceCommunicationService is being created&quot;);                                                 </span>
<span class="-2958534921295515858" onmouseenter="enter('-2958534921295515858');" onmouseout="out('-2958534921295515858');" style=""> 219          super.onCreate();                                                                                         </span>
<span class="-4042436281125736078" onmouseenter="enter('-4042436281125736078');" onmouseout="out('-4042436281125736078');" style=""><abbr title=" 220          LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVICE_CHANGED));"> 220          LocalBroadcastManager.getInstance(this).registerReceiver(mReceiver, new IntentFilter(GBDevice.ACTION_DEVIC🔵</abbr></span>
<span class="7550329168056090280" onmouseenter="enter('7550329168056090280');" onmouseout="out('7550329168056090280');" style=""> 221          mFactory = getDeviceSupportFactory();                                                                     </span>
<span  style=""> 222                                                                                                                    </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 223          if (hasPrefs()) {                                                                                         </span>
<span class="-5542746784767813133" onmouseenter="enter('-5542746784767813133');" onmouseout="out('-5542746784767813133');" style=""> 224              getPrefs().getPreferences().registerOnSharedPreferenceChangeListener(this);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226      }                                                                                                             </span>
<span  style=""> 227                                                                                                                    </span>
<span class="4443706376638466060" onmouseenter="enter('4443706376638466060');" onmouseout="out('4443706376638466060');" style=""> 228      private DeviceSupportFactory getDeviceSupportFactory() {                                                      </span>
<span class="232953772404563377" onmouseenter="enter('232953772404563377');" onmouseout="out('232953772404563377');" style=""> 229          if (DEVICE_SUPPORT_FACTORY != null) {                                                                     </span>
<span class="7931102469926815551" onmouseenter="enter('7931102469926815551');" onmouseout="out('7931102469926815551');" style=""> 230              return DEVICE_SUPPORT_FACTORY;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231          }                                                                                                         </span>
<span class="4538357947168100259" onmouseenter="enter('4538357947168100259');" onmouseout="out('4538357947168100259');" style=""> 232          return new DeviceSupportFactory(this);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233      }                                                                                                             </span>
<span  style=""> 234                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 235      @Override                                                                                                     </span>
<span class="-8981297357807978759" onmouseenter="enter('-8981297357807978759');" onmouseout="out('-8981297357807978759');" style=""> 236      public synchronized int onStartCommand(Intent intent, int flags, int startId) {                               </span>
<span  style=""> 237                                                                                                                    </span>
<span class="-8400111569787613467" onmouseenter="enter('-8400111569787613467');" onmouseout="out('-8400111569787613467');" style=""> 238          if (intent == null) {                                                                                     </span>
<span class="-2375998914676676862" onmouseenter="enter('-2375998914676676862');" onmouseout="out('-2375998914676676862');" style=""> 239              LOG.info(&quot;no intent&quot;);                                                                                </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 240              return START_NOT_STICKY;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241          }                                                                                                         </span>
<span  style=""> 242                                                                                                                    </span>
<span class="5344227773413700857" onmouseenter="enter('5344227773413700857');" onmouseout="out('5344227773413700857');" style=""> 243          String action = intent.getAction();                                                                       </span>
<span class="7823373493260129619" onmouseenter="enter('7823373493260129619');" onmouseout="out('7823373493260129619');" style=""> 244          boolean firstTime = intent.getBooleanExtra(EXTRA_CONNECT_FIRST_TIME, false);                              </span>
<span  style=""> 245                                                                                                                    </span>
<span class="4668300806615190248" onmouseenter="enter('4668300806615190248');" onmouseout="out('4668300806615190248');" style=""> 246          if (action == null) {                                                                                     </span>
<span class="-1443758836937597877" onmouseenter="enter('-1443758836937597877');" onmouseout="out('-1443758836937597877');" style=""> 247              LOG.info(&quot;no action&quot;);                                                                                </span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 248              return START_NOT_STICKY;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249          }                                                                                                         </span>
<span  style=""> 250                                                                                                                    </span>
<span class="-7510962738906177338" onmouseenter="enter('-7510962738906177338');" onmouseout="out('-7510962738906177338');" style=""> 251          LOG.debug(&quot;Service startcommand: &quot; + action);                                                             </span>
<span  style=""> 252                                                                                                                    </span>
<span class="8726253247916805946" onmouseenter="enter('8726253247916805946');" onmouseout="out('8726253247916805946');" style=""> 253          if (!action.equals(ACTION_START) &amp;&amp; !action.equals(ACTION_CONNECT)) {                                     </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 254              if (!mStarted) {                                                                                      </span>
<span class="-4314511529946530833" onmouseenter="enter('-4314511529946530833');" onmouseout="out('-4314511529946530833');" style=""> 255                  // using the service before issuing ACTION_START                                                  </span>
<span class="-7267052914594203511" onmouseenter="enter('-7267052914594203511');" onmouseout="out('-7267052914594203511');" style=""><abbr title=" 256                  LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before using it: &quot; + action);"> 256                  LOG.info(&quot;Must start service with &quot; + ACTION_START + &quot; or &quot; + ACTION_CONNECT + &quot; before using it: 🔵</abbr></span>
<span class="-7021850327688596270" onmouseenter="enter('-7021850327688596270');" onmouseout="out('-7021850327688596270');" style=""> 257                  return START_NOT_STICKY;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258              }                                                                                                     </span>
<span  style=""> 259                                                                                                                    </span>
<span class="1608942666865935384" onmouseenter="enter('1608942666865935384');" onmouseout="out('1608942666865935384');" style=""> 260              if (mDeviceSupport == null || (!isInitialized() &amp;&amp; !mDeviceSupport.useAutoConnect())) {               </span>
<span class="-7295838370792597580" onmouseenter="enter('-7295838370792597580');" onmouseout="out('-7295838370792597580');" style=""> 261                  // trying to send notification without valid Bluetooth connection                                 </span>
<span class="-3967328229534622301" onmouseenter="enter('-3967328229534622301');" onmouseout="out('-3967328229534622301');" style=""> 262                  if (mGBDevice != null) {                                                                          </span>
<span class="-2150339174362147605" onmouseenter="enter('-2150339174362147605');" onmouseout="out('-2150339174362147605');" style=""> 263                      // at least send back the current device state                                                </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 264                      mGBDevice.sendDeviceUpdateIntent(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265                  }                                                                                                 </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 266                  return START_STICKY;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268          }                                                                                                         </span>
<span  style=""> 269                                                                                                                    </span>
<span class="-8633731563859485799" onmouseenter="enter('-8633731563859485799');" onmouseout="out('-8633731563859485799');" style=""> 270          // when we get past this, we should have valid mDeviceSupport and mGBDevice instances                     </span>
<span  style=""> 271                                                                                                                    </span>
<span class="7909508264133940557" onmouseenter="enter('7909508264133940557');" onmouseout="out('7909508264133940557');" style=""> 272          Prefs prefs = getPrefs();                                                                                 </span>
<span class="6099627150369302694" onmouseenter="enter('6099627150369302694');" onmouseout="out('6099627150369302694');" style=""> 273          switch (action) {                                                                                         </span>
<span class="-2272247934204130657" onmouseenter="enter('-2272247934204130657');" onmouseout="out('-2272247934204130657');" style=""> 274              case ACTION_START:                                                                                    </span>
<span class="-6183578153083367222" onmouseenter="enter('-6183578153083367222');" onmouseout="out('-6183578153083367222');" style=""> 275                  start();                                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 276                  break;                                                                                            </span>
<span class="8461838725469303405" onmouseenter="enter('8461838725469303405');" onmouseout="out('8461838725469303405');" style=""> 277              case ACTION_CONNECT:                                                                                  </span>
<span class="-897658161409962678" onmouseenter="enter('-897658161409962678');" onmouseout="out('-897658161409962678');" style=""> 278                  start(); // ensure started                                                                        </span>
<span class="-1505296384620921106" onmouseenter="enter('-1505296384620921106');" onmouseout="out('-1505296384620921106');" style=""> 279                  GBDevice gbDevice = intent.getParcelableExtra(GBDevice.EXTRA_DEVICE);                             </span>
<span class="-5722809612075478674" onmouseenter="enter('-5722809612075478674');" onmouseout="out('-5722809612075478674');" style=""> 280                  String btDeviceAddress = null;                                                                    </span>
<span class="-2736305943333857977" onmouseenter="enter('-2736305943333857977');" onmouseout="out('-2736305943333857977');" style=""> 281                  if (gbDevice == null) {                                                                           </span>
<span class="6187858071980224944" onmouseenter="enter('6187858071980224944');" onmouseout="out('6187858071980224944');" style=""> 282                      if (prefs != null) { // may be null in test cases                                             </span>
<span class="2264609510245934073" onmouseenter="enter('2264609510245934073');" onmouseout="out('2264609510245934073');" style=""> 283                          btDeviceAddress = prefs.getString(&quot;last_device_address&quot;, null);                           </span>
<span class="-1328118737775276827" onmouseenter="enter('-1328118737775276827');" onmouseout="out('-1328118737775276827');" style=""> 284                          if (btDeviceAddress != null) {                                                            </span>
<span class="-8056388044949715653" onmouseenter="enter('-8056388044949715653');" onmouseout="out('-8056388044949715653');" style=""> 285                              gbDevice = DeviceHelper.getInstance().findAvailableDevice(btDeviceAddress, this);     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287                      }                                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 288                  } else {                                                                                          </span>
<span class="1063784168399888092" onmouseenter="enter('1063784168399888092');" onmouseout="out('1063784168399888092');" style=""> 289                      btDeviceAddress = gbDevice.getAddress();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290                  }                                                                                                 </span>
<span  style=""> 291                                                                                                                    </span>
<span class="8517927575135190002" onmouseenter="enter('8517927575135190002');" onmouseout="out('8517927575135190002');" style=""> 292                  boolean autoReconnect = GBPrefs.AUTO_RECONNECT_DEFAULT;                                           </span>
<span class="-3146372184855635097" onmouseenter="enter('-3146372184855635097');" onmouseout="out('-3146372184855635097');" style=""> 293                  if (prefs != null &amp;&amp; prefs.getPreferences() != null) {                                            </span>
<span class="-5009961935760343048" onmouseenter="enter('-5009961935760343048');" onmouseout="out('-5009961935760343048');" style=""> 294                      prefs.getPreferences().edit().putString(&quot;last_device_address&quot;, btDeviceAddress).apply();      </span>
<span class="1485130976607349673" onmouseenter="enter('1485130976607349673');" onmouseout="out('1485130976607349673');" style=""> 295                      autoReconnect = getGBPrefs().getAutoReconnect();                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296                  }                                                                                                 </span>
<span  style=""> 297                                                                                                                    </span>
<span class="7748119344381831409" onmouseenter="enter('7748119344381831409');" onmouseout="out('7748119344381831409');" style=""> 298                  if (gbDevice != null &amp;&amp; !isConnecting() &amp;&amp; !isConnected()) {                                      </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 299                      setDeviceSupport(null);                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 300                      try {                                                                                         </span>
<span class="6368812257942052163" onmouseenter="enter('6368812257942052163');" onmouseout="out('6368812257942052163');" style=""> 301                          DeviceSupport deviceSupport = mFactory.createDeviceSupport(gbDevice);                     </span>
<span class="2672581873473401176" onmouseenter="enter('2672581873473401176');" onmouseout="out('2672581873473401176');" style=""> 302                          if (deviceSupport != null) {                                                              </span>
<span class="5073675520708761827" onmouseenter="enter('5073675520708761827');" onmouseout="out('5073675520708761827');" style=""> 303                              setDeviceSupport(deviceSupport);                                                      </span>
<span class="-8996767192548104897" onmouseenter="enter('-8996767192548104897');" onmouseout="out('-8996767192548104897');" style=""> 304                              if (firstTime) {                                                                      </span>
<span class="1278919844889630077" onmouseenter="enter('1278919844889630077');" onmouseout="out('1278919844889630077');" style=""> 305                                  deviceSupport.connectFirstTime();                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 306                              } else {                                                                              </span>
<span class="-3957948055115279311" onmouseenter="enter('-3957948055115279311');" onmouseout="out('-3957948055115279311');" style=""> 307                                  deviceSupport.setAutoReconnect(autoReconnect);                                    </span>
<span class="-1283285352904053142" onmouseenter="enter('-1283285352904053142');" onmouseout="out('-1283285352904053142');" style=""> 308                                  deviceSupport.connect();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309                              }                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 310                          } else {                                                                                  </span>
<span class="2291338781944945288" onmouseenter="enter('2291338781944945288');" onmouseout="out('2291338781944945288');" style=""><abbr title=" 311                              GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toast.LENGTH_SHORT, GB.ERROR);"> 311                              GB.toast(this, getString(R.string.cannot_connect, &quot;Can&#x27;t create device support&quot;), Toas🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312                          }                                                                                         </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 313                      } catch (Exception e) {                                                                       </span>
<span class="-489775191707791993" onmouseenter="enter('-489775191707791993');" onmouseout="out('-489775191707791993');" style=""><abbr title=" 314                          GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.ERROR, e);"> 314                          GB.toast(this, getString(R.string.cannot_connect, e.getMessage()), Toast.LENGTH_SHORT, GB.🔵</abbr></span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 315                          setDeviceSupport(null);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316                      }                                                                                             </span>
<span class="-4649134418590982211" onmouseenter="enter('-4649134418590982211');" onmouseout="out('-4649134418590982211');" style=""> 317                  } else if (mGBDevice != null) {                                                                   </span>
<span class="6491337019366323782" onmouseenter="enter('6491337019366323782');" onmouseout="out('6491337019366323782');" style=""> 318                      // send an update at least                                                                    </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 319                      mGBDevice.sendDeviceUpdateIntent(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 321                  break;                                                                                            </span>
<span class="-5365019322341306791" onmouseenter="enter('-5365019322341306791');" onmouseout="out('-5365019322341306791');" style=""> 322              case ACTION_REQUEST_DEVICEINFO:                                                                       </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 323                  mGBDevice.sendDeviceUpdateIntent(this);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 324                  break;                                                                                            </span>
<span class="-669647313975801341" onmouseenter="enter('-669647313975801341');" onmouseout="out('-669647313975801341');" style=""> 325              case ACTION_NOTIFICATION: {                                                                           </span>
<span class="4249292218927487361" onmouseenter="enter('4249292218927487361');" onmouseout="out('4249292218927487361');" style=""> 326                  NotificationSpec notificationSpec = new NotificationSpec();                                       </span>
<span class="7144362564334367710" onmouseenter="enter('7144362564334367710');" onmouseout="out('7144362564334367710');" style=""> 327                  notificationSpec.phoneNumber = intent.getStringExtra(EXTRA_NOTIFICATION_PHONENUMBER);             </span>
<span class="-997642605508866012" onmouseenter="enter('-997642605508866012');" onmouseout="out('-997642605508866012');" style=""> 328                  notificationSpec.sender = intent.getStringExtra(EXTRA_NOTIFICATION_SENDER);                       </span>
<span class="2782521715291117457" onmouseenter="enter('2782521715291117457');" onmouseout="out('2782521715291117457');" style=""> 329                  notificationSpec.subject = intent.getStringExtra(EXTRA_NOTIFICATION_SUBJECT);                     </span>
<span class="7851353269868360095" onmouseenter="enter('7851353269868360095');" onmouseout="out('7851353269868360095');" style=""> 330                  notificationSpec.title = intent.getStringExtra(EXTRA_NOTIFICATION_TITLE);                         </span>
<span class="-5627490756759928844" onmouseenter="enter('-5627490756759928844');" onmouseout="out('-5627490756759928844');" style=""> 331                  notificationSpec.body = intent.getStringExtra(EXTRA_NOTIFICATION_BODY);                           </span>
<span class="3144450796969351021" onmouseenter="enter('3144450796969351021');" onmouseout="out('3144450796969351021');" style=""> 332                  notificationSpec.sourceName = intent.getStringExtra(EXTRA_NOTIFICATION_SOURCENAME);               </span>
<span class="7470189062308361999" onmouseenter="enter('7470189062308361999');" onmouseout="out('7470189062308361999');" style=""> 333                  notificationSpec.type = (NotificationType) intent.getSerializableExtra(EXTRA_NOTIFICATION_TYPE);  </span>
<span class="-58552451302524684" onmouseenter="enter('-58552451302524684');" onmouseout="out('-58552451302524684');" style=""> 334                  notificationSpec.id = intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1);                              </span>
<span class="-6392144337868342404" onmouseenter="enter('-6392144337868342404');" onmouseout="out('-6392144337868342404');" style=""> 335                  notificationSpec.flags = intent.getIntExtra(EXTRA_NOTIFICATION_FLAGS, 0);                         </span>
<span  style=""> 336                                                                                                                    </span>
<span class="1699695344783775350" onmouseenter="enter('1699695344783775350');" onmouseout="out('1699695344783775350');" style=""><abbr title=" 337                  if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null) {"> 337                  if (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null)🔵</abbr></span>
<span class="9213865588273159403" onmouseenter="enter('9213865588273159403');" onmouseout="out('9213865588273159403');" style=""> 338                      notificationSpec.id = mRandom.nextInt(); // FIXME: add this in external SMS Receiver?         </span>
<span class="357480976485572162" onmouseenter="enter('357480976485572162');" onmouseout="out('357480976485572162');" style=""> 339                      GBApplication.getIDSenderLookup().add(notificationSpec.id, notificationSpec.phoneNumber);     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340                  }                                                                                                 </span>
<span  style=""> 341                                                                                                                    </span>
<span class="36818056765170551" onmouseenter="enter('36818056765170551');" onmouseout="out('36818056765170551');" style=""> 342                  if (((notificationSpec.flags &amp; NotificationSpec.FLAG_WEARABLE_REPLY) &gt; 0)                         </span>
<span class="-9037751700681198618" onmouseenter="enter('-9037751700681198618');" onmouseout="out('-9037751700681198618');" style=""><abbr title=" 343                          || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber != null)) {"> 343                          || (notificationSpec.type == NotificationType.GENERIC_SMS &amp;&amp; notificationSpec.phoneNumber 🔵</abbr></span>
<span class="8596546566066758446" onmouseenter="enter('8596546566066758446');" onmouseout="out('8596546566066758446');" style=""> 344                      // NOTE: maybe not where it belongs                                                           </span>
<span class="-8155090018337980148" onmouseenter="enter('-8155090018337980148');" onmouseout="out('-8155090018337980148');" style=""> 345                      if (prefs.getBoolean(&quot;pebble_force_untested&quot;, false)) {                                       </span>
<span class="-4898671785167586333" onmouseenter="enter('-4898671785167586333');" onmouseout="out('-4898671785167586333');" style=""> 346                          // I would rather like to save that as an array in ShadredPreferences                     </span>
<span class="-1004001968510841144" onmouseenter="enter('-1004001968510841144');" onmouseout="out('-1004001968510841144');" style=""> 347                          // this would work but I dont know how to do the same in the Settings Activity&#x27;s xml      </span>
<span class="918410975004553070" onmouseenter="enter('918410975004553070');" onmouseout="out('918410975004553070');" style=""> 348                          ArrayList&lt;String&gt; replies = new ArrayList&lt;&gt;();                                            </span>
<span class="-6180174879918590622" onmouseenter="enter('-6180174879918590622');" onmouseout="out('-6180174879918590622');" style=""> 349                          for (int i = 1; i &lt;= 16; i++) {                                                           </span>
<span class="7210319232684079981" onmouseenter="enter('7210319232684079981');" onmouseout="out('7210319232684079981');" style=""> 350                              String reply = prefs.getString(&quot;canned_reply_&quot; + i, null);                            </span>
<span class="2204296925215727723" onmouseenter="enter('2204296925215727723');" onmouseout="out('2204296925215727723');" style=""> 351                              if (reply != null &amp;&amp; !reply.equals(&quot;&quot;)) {                                             </span>
<span class="2547584645107762867" onmouseenter="enter('2547584645107762867');" onmouseout="out('2547584645107762867');" style=""> 352                                  replies.add(reply);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354                          }                                                                                         </span>
<span class="8609386218730694936" onmouseenter="enter('8609386218730694936');" onmouseout="out('8609386218730694936');" style=""> 355                          notificationSpec.cannedReplies = replies.toArray(new String[replies.size()]);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357                  }                                                                                                 </span>
<span  style=""> 358                                                                                                                    </span>
<span class="7448145684850127146" onmouseenter="enter('7448145684850127146');" onmouseout="out('7448145684850127146');" style=""> 359                  mDeviceSupport.onNotification(notificationSpec);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 360                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361              }                                                                                                     </span>
<span class="-7276567859695438377" onmouseenter="enter('-7276567859695438377');" onmouseout="out('-7276567859695438377');" style=""> 362              case ACTION_DELETE_NOTIFICATION: {                                                                    </span>
<span class="3349508781851483145" onmouseenter="enter('3349508781851483145');" onmouseout="out('3349508781851483145');" style=""> 363                  mDeviceSupport.onDeleteNotification(intent.getIntExtra(EXTRA_NOTIFICATION_ID, -1));               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 364                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365              }                                                                                                     </span>
<span class="1760685944887838202" onmouseenter="enter('1760685944887838202');" onmouseout="out('1760685944887838202');" style=""> 366              case ACTION_ADD_CALENDAREVENT: {                                                                      </span>
<span class="6383078814938909727" onmouseenter="enter('6383078814938909727');" onmouseout="out('6383078814938909727');" style=""> 367                  CalendarEventSpec calendarEventSpec = new CalendarEventSpec();                                    </span>
<span class="-4519615915191010270" onmouseenter="enter('-4519615915191010270');" onmouseout="out('-4519615915191010270');" style=""> 368                  calendarEventSpec.id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                           </span>
<span class="-2345264210845712924" onmouseenter="enter('-2345264210845712924');" onmouseout="out('-2345264210845712924');" style=""> 369                  calendarEventSpec.type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);                </span>
<span class="-9183502731005168979" onmouseenter="enter('-9183502731005168979');" onmouseout="out('-9183502731005168979');" style=""> 370                  calendarEventSpec.timestamp = intent.getIntExtra(EXTRA_CALENDAREVENT_TIMESTAMP, -1);              </span>
<span class="6827154764120234041" onmouseenter="enter('6827154764120234041');" onmouseout="out('6827154764120234041');" style=""> 371                  calendarEventSpec.durationInSeconds = intent.getIntExtra(EXTRA_CALENDAREVENT_DURATION, -1);       </span>
<span class="-5920957138116470593" onmouseenter="enter('-5920957138116470593');" onmouseout="out('-5920957138116470593');" style=""> 372                  calendarEventSpec.title = intent.getStringExtra(EXTRA_CALENDAREVENT_TITLE);                       </span>
<span class="7493274608343847488" onmouseenter="enter('7493274608343847488');" onmouseout="out('7493274608343847488');" style=""> 373                  calendarEventSpec.description = intent.getStringExtra(EXTRA_CALENDAREVENT_DESCRIPTION);           </span>
<span class="-8286380370980489077" onmouseenter="enter('-8286380370980489077');" onmouseout="out('-8286380370980489077');" style=""> 374                  mDeviceSupport.onAddCalendarEvent(calendarEventSpec);                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 375                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376              }                                                                                                     </span>
<span class="-2849294229393544321" onmouseenter="enter('-2849294229393544321');" onmouseout="out('-2849294229393544321');" style=""> 377              case ACTION_DELETE_CALENDAREVENT: {                                                                   </span>
<span class="-9034439215446076929" onmouseenter="enter('-9034439215446076929');" onmouseout="out('-9034439215446076929');" style=""> 378                  long id = intent.getLongExtra(EXTRA_CALENDAREVENT_ID, -1);                                        </span>
<span class="-8351437473191742259" onmouseenter="enter('-8351437473191742259');" onmouseout="out('-8351437473191742259');" style=""> 379                  byte type = intent.getByteExtra(EXTRA_CALENDAREVENT_TYPE, (byte) -1);                             </span>
<span class="5947039676491996864" onmouseenter="enter('5947039676491996864');" onmouseout="out('5947039676491996864');" style=""> 380                  mDeviceSupport.onDeleteCalendarEvent(type, id);                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 381                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382              }                                                                                                     </span>
<span class="9105285711746642441" onmouseenter="enter('9105285711746642441');" onmouseout="out('9105285711746642441');" style=""> 383              case ACTION_REBOOT: {                                                                                 </span>
<span class="-2489942875075524997" onmouseenter="enter('-2489942875075524997');" onmouseout="out('-2489942875075524997');" style=""> 384                  mDeviceSupport.onReboot();                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 385                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386              }                                                                                                     </span>
<span class="3049987025029541358" onmouseenter="enter('3049987025029541358');" onmouseout="out('3049987025029541358');" style=""> 387              case ACTION_HEARTRATE_TEST: {                                                                         </span>
<span class="3468770722488184362" onmouseenter="enter('3468770722488184362');" onmouseout="out('3468770722488184362');" style=""> 388                  mDeviceSupport.onHeartRateTest();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 389                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390              }                                                                                                     </span>
<span class="-7880612672736084614" onmouseenter="enter('-7880612672736084614');" onmouseout="out('-7880612672736084614');" style=""> 391              case ACTION_FETCH_ACTIVITY_DATA: {                                                                    </span>
<span class="-7202401441632084828" onmouseenter="enter('-7202401441632084828');" onmouseout="out('-7202401441632084828');" style=""> 392                  mDeviceSupport.onFetchActivityData();                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 393                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394              }                                                                                                     </span>
<span class="-7917063918700759521" onmouseenter="enter('-7917063918700759521');" onmouseout="out('-7917063918700759521');" style=""> 395              case ACTION_DISCONNECT: {                                                                             </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 396                  mDeviceSupport.dispose();                                                                         </span>
<span class="-2587763374871347228" onmouseenter="enter('-2587763374871347228');" onmouseout="out('-2587763374871347228');" style=""> 397                  if (mGBDevice != null &amp;&amp; mGBDevice.getState() == GBDevice.State.WAITING_FOR_RECONNECT) {          </span>
<span class="-818373159648773153" onmouseenter="enter('-818373159648773153');" onmouseout="out('-818373159648773153');" style=""> 398                      setReceiversEnableState(false);                                                               </span>

<span class="-5956740551059426027" onmouseenter="enter('-5956740551059426027');" onmouseout="out('-5956740551059426027');" style=""> 399                      mGBDevice.setState(GBDevice.State.NOT_CONNECTED);                                             </span>
<span class="3103554715211820869" onmouseenter="enter('3103554715211820869');" onmouseout="out('3103554715211820869');" style=""> 400                      mGBDevice.sendDeviceUpdateIntent(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401                  }                                                                                                 </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 402                  mDeviceSupport = null;                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 403                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404              }                                                                                                     </span>
<span class="-6251790900569841166" onmouseenter="enter('-6251790900569841166');" onmouseout="out('-6251790900569841166');" style=""> 405              case ACTION_FIND_DEVICE: {                                                                            </span>
<span class="-5849712664725919544" onmouseenter="enter('-5849712664725919544');" onmouseout="out('-5849712664725919544');" style=""> 406                  boolean start = intent.getBooleanExtra(EXTRA_FIND_START, false);                                  </span>
<span class="4985279237906318984" onmouseenter="enter('4985279237906318984');" onmouseout="out('4985279237906318984');" style=""> 407                  mDeviceSupport.onFindDevice(start);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 408                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409              }                                                                                                     </span>
<span class="208875508921563359" onmouseenter="enter('208875508921563359');" onmouseout="out('208875508921563359');" style=""> 410              case ACTION_SET_CONSTANT_VIBRATION: {                                                                 </span>
<span class="5660371215983762654" onmouseenter="enter('5660371215983762654');" onmouseout="out('5660371215983762654');" style=""> 411                  int intensity = intent.getIntExtra(EXTRA_VIBRATION_INTENSITY, 0);                                 </span>
<span class="-771567554143857067" onmouseenter="enter('-771567554143857067');" onmouseout="out('-771567554143857067');" style=""> 412                  mDeviceSupport.onSetConstantVibration(intensity);                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 413                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414              }                                                                                                     </span>
<span class="-3190843120553329632" onmouseenter="enter('-3190843120553329632');" onmouseout="out('-3190843120553329632');" style=""> 415              case ACTION_CALLSTATE:                                                                                </span>
<span class="3795479724098101655" onmouseenter="enter('3795479724098101655');" onmouseout="out('3795479724098101655');" style=""> 416                  CallSpec callSpec = new CallSpec();                                                               </span>
<span class="8093432130661732567" onmouseenter="enter('8093432130661732567');" onmouseout="out('8093432130661732567');" style=""> 417                  callSpec.command = intent.getIntExtra(EXTRA_CALL_COMMAND, CallSpec.CALL_UNDEFINED);               </span>
<span class="3428246913955323928" onmouseenter="enter('3428246913955323928');" onmouseout="out('3428246913955323928');" style=""> 418                  callSpec.number = intent.getStringExtra(EXTRA_CALL_PHONENUMBER);                                  </span>
<span class="6859375461089721800" onmouseenter="enter('6859375461089721800');" onmouseout="out('6859375461089721800');" style=""> 419                  callSpec.name = intent.getStringExtra(EXTRA_CALL_DISPLAYNAME);                                    </span>
<span class="5317988739476287691" onmouseenter="enter('5317988739476287691');" onmouseout="out('5317988739476287691');" style=""> 420                  mDeviceSupport.onSetCallState(callSpec);                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 421                  break;                                                                                            </span>
<span class="5443690489758293879" onmouseenter="enter('5443690489758293879');" onmouseout="out('5443690489758293879');" style=""> 422              case ACTION_SETCANNEDMESSAGES:                                                                        </span>
<span class="8874546108453183107" onmouseenter="enter('8874546108453183107');" onmouseout="out('8874546108453183107');" style=""> 423                  int type = intent.getIntExtra(EXTRA_CANNEDMESSAGES_TYPE, -1);                                     </span>
<span class="-5661264507044040071" onmouseenter="enter('-5661264507044040071');" onmouseout="out('-5661264507044040071');" style=""> 424                  String[] cannedMessages = intent.getStringArrayExtra(EXTRA_CANNEDMESSAGES);                       </span>
<span  style=""> 425                                                                                                                    </span>
<span class="-8222861505291584468" onmouseenter="enter('-8222861505291584468');" onmouseout="out('-8222861505291584468');" style=""> 426                  CannedMessagesSpec cannedMessagesSpec = new CannedMessagesSpec();                                 </span>
<span class="7310566106726436146" onmouseenter="enter('7310566106726436146');" onmouseout="out('7310566106726436146');" style=""> 427                  cannedMessagesSpec.type = type;                                                                   </span>
<span class="5869684482704551906" onmouseenter="enter('5869684482704551906');" onmouseout="out('5869684482704551906');" style=""> 428                  cannedMessagesSpec.cannedMessages = cannedMessages;                                               </span>
<span class="-8600105550735814062" onmouseenter="enter('-8600105550735814062');" onmouseout="out('-8600105550735814062');" style=""> 429                  mDeviceSupport.onSetCannedMessages(cannedMessagesSpec);                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 430                  break;                                                                                            </span>
<span class="-3864526120734058732" onmouseenter="enter('-3864526120734058732');" onmouseout="out('-3864526120734058732');" style=""> 431              case ACTION_SETTIME:                                                                                  </span>
<span class="-9119989964627970186" onmouseenter="enter('-9119989964627970186');" onmouseout="out('-9119989964627970186');" style=""> 432                  mDeviceSupport.onSetTime();                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 433                  break;                                                                                            </span>
<span class="2757090863993875249" onmouseenter="enter('2757090863993875249');" onmouseout="out('2757090863993875249');" style=""> 434              case ACTION_SETMUSICINFO:                                                                             </span>
<span class="-4606570715029334060" onmouseenter="enter('-4606570715029334060');" onmouseout="out('-4606570715029334060');" style=""> 435                  MusicSpec musicSpec = new MusicSpec();                                                            </span>
<span class="8291741641430545280" onmouseenter="enter('8291741641430545280');" onmouseout="out('8291741641430545280');" style=""> 436                  musicSpec.artist = intent.getStringExtra(EXTRA_MUSIC_ARTIST);                                     </span>
<span class="-4864341328172403198" onmouseenter="enter('-4864341328172403198');" onmouseout="out('-4864341328172403198');" style=""> 437                  musicSpec.album = intent.getStringExtra(EXTRA_MUSIC_ALBUM);                                       </span>
<span class="-6416639298697884565" onmouseenter="enter('-6416639298697884565');" onmouseout="out('-6416639298697884565');" style=""> 438                  musicSpec.track = intent.getStringExtra(EXTRA_MUSIC_TRACK);                                       </span>
<span class="9057431340460323538" onmouseenter="enter('9057431340460323538');" onmouseout="out('9057431340460323538');" style=""> 439                  musicSpec.duration = intent.getIntExtra(EXTRA_MUSIC_DURATION, 0);                                 </span>
<span class="-1013666482472897661" onmouseenter="enter('-1013666482472897661');" onmouseout="out('-1013666482472897661');" style=""> 440                  musicSpec.trackCount = intent.getIntExtra(EXTRA_MUSIC_TRACKCOUNT, 0);                             </span>
<span class="4288030402620969458" onmouseenter="enter('4288030402620969458');" onmouseout="out('4288030402620969458');" style=""> 441                  musicSpec.trackNr = intent.getIntExtra(EXTRA_MUSIC_TRACKNR, 0);                                   </span>
<span class="-3425911873947758918" onmouseenter="enter('-3425911873947758918');" onmouseout="out('-3425911873947758918');" style=""> 442                  mDeviceSupport.onSetMusicInfo(musicSpec);                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 443                  break;                                                                                            </span>
<span class="6227456550171188321" onmouseenter="enter('6227456550171188321');" onmouseout="out('6227456550171188321');" style=""> 444              case ACTION_SETMUSICSTATE:                                                                            </span>
<span class="6191411421956413825" onmouseenter="enter('6191411421956413825');" onmouseout="out('6191411421956413825');" style=""> 445                  MusicStateSpec stateSpec = new MusicStateSpec();                                                  </span>
<span class="-3548046406971923378" onmouseenter="enter('-3548046406971923378');" onmouseout="out('-3548046406971923378');" style=""> 446                  stateSpec.shuffle = intent.getByteExtra(EXTRA_MUSIC_SHUFFLE, (byte) 0);                           </span>
<span class="1495564971696348267" onmouseenter="enter('1495564971696348267');" onmouseout="out('1495564971696348267');" style=""> 447                  stateSpec.repeat = intent.getByteExtra(EXTRA_MUSIC_REPEAT, (byte) 0);                             </span>
<span class="-7121631563152240946" onmouseenter="enter('-7121631563152240946');" onmouseout="out('-7121631563152240946');" style=""> 448                  stateSpec.position = intent.getIntExtra(EXTRA_MUSIC_POSITION, 0);                                 </span>
<span class="5871328423745521968" onmouseenter="enter('5871328423745521968');" onmouseout="out('5871328423745521968');" style=""> 449                  stateSpec.playRate = intent.getIntExtra(EXTRA_MUSIC_RATE, 0);                                     </span>
<span class="892053738216152834" onmouseenter="enter('892053738216152834');" onmouseout="out('892053738216152834');" style=""> 450                  stateSpec.state = intent.getByteExtra(EXTRA_MUSIC_STATE, (byte) 0);                               </span>
<span class="4060952888262640879" onmouseenter="enter('4060952888262640879');" onmouseout="out('4060952888262640879');" style=""> 451                  mDeviceSupport.onSetMusicState(stateSpec);                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 452                  break;                                                                                            </span>
<span class="-3068551254659955031" onmouseenter="enter('-3068551254659955031');" onmouseout="out('-3068551254659955031');" style=""> 453              case ACTION_REQUEST_APPINFO:                                                                          </span>
<span class="-5176444858929114297" onmouseenter="enter('-5176444858929114297');" onmouseout="out('-5176444858929114297');" style=""> 454                  mDeviceSupport.onAppInfoReq();                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 455                  break;                                                                                            </span>
<span class="-6917586413512936950" onmouseenter="enter('-6917586413512936950');" onmouseout="out('-6917586413512936950');" style=""> 456              case ACTION_REQUEST_SCREENSHOT:                                                                       </span>
<span class="-5841518626542394716" onmouseenter="enter('-5841518626542394716');" onmouseout="out('-5841518626542394716');" style=""> 457                  mDeviceSupport.onScreenshotReq();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 458                  break;                                                                                            </span>
<span class="-2494840420747050392" onmouseenter="enter('-2494840420747050392');" onmouseout="out('-2494840420747050392');" style=""> 459              case ACTION_STARTAPP: {                                                                               </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 460                  UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                                   </span>
<span class="-4793752934936499642" onmouseenter="enter('-4793752934936499642');" onmouseout="out('-4793752934936499642');" style=""> 461                  boolean start = intent.getBooleanExtra(EXTRA_APP_START, true);                                    </span>
<span class="2197724895752145818" onmouseenter="enter('2197724895752145818');" onmouseout="out('2197724895752145818');" style=""> 462                  mDeviceSupport.onAppStart(uuid, start);                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 463                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 464              }                                                                                                     </span>
<span class="2166934150734837396" onmouseenter="enter('2166934150734837396');" onmouseout="out('2166934150734837396');" style=""> 465              case ACTION_DELETEAPP: {                                                                              </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 466                  UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                                   </span>
<span class="-5075261056503503060" onmouseenter="enter('-5075261056503503060');" onmouseout="out('-5075261056503503060');" style=""> 467                  mDeviceSupport.onAppDelete(uuid);                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 468                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469              }                                                                                                     </span>
<span class="1869663144095085846" onmouseenter="enter('1869663144095085846');" onmouseout="out('1869663144095085846');" style=""> 470              case ACTION_APP_CONFIGURE: {                                                                          </span>
<span class="3315227242826286056" onmouseenter="enter('3315227242826286056');" onmouseout="out('3315227242826286056');" style=""> 471                  UUID uuid = (UUID) intent.getSerializableExtra(EXTRA_APP_UUID);                                   </span>
<span class="6629096593005137404" onmouseenter="enter('6629096593005137404');" onmouseout="out('6629096593005137404');" style=""> 472                  String config = intent.getStringExtra(EXTRA_APP_CONFIG);                                          </span>
<span class="5940750753812597164" onmouseenter="enter('5940750753812597164');" onmouseout="out('5940750753812597164');" style=""> 473                  mDeviceSupport.onAppConfiguration(uuid, config);                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 474                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 475              }                                                                                                     </span>
<span class="-8571912313743444470" onmouseenter="enter('-8571912313743444470');" onmouseout="out('-8571912313743444470');" style=""> 476              case ACTION_APP_REORDER: {                                                                            </span>
<span class="7398892328027689606" onmouseenter="enter('7398892328027689606');" onmouseout="out('7398892328027689606');" style=""> 477                  UUID[] uuids = (UUID[]) intent.getSerializableExtra(EXTRA_APP_UUID);                              </span>
<span class="75775485121754100" onmouseenter="enter('75775485121754100');" onmouseout="out('75775485121754100');" style=""> 478                  mDeviceSupport.onAppReorder(uuids);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 479                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480              }                                                                                                     </span>
<span class="4718100971274262923" onmouseenter="enter('4718100971274262923');" onmouseout="out('4718100971274262923');" style=""> 481              case ACTION_INSTALL:                                                                                  </span>
<span class="-597901030201298456" onmouseenter="enter('-597901030201298456');" onmouseout="out('-597901030201298456');" style=""> 482                  Uri uri = intent.getParcelableExtra(EXTRA_URI);                                                   </span>
<span class="-6789028041247471756" onmouseenter="enter('-6789028041247471756');" onmouseout="out('-6789028041247471756');" style=""> 483                  if (uri != null) {                                                                                </span>
<span class="-1329231793440882084" onmouseenter="enter('-1329231793440882084');" onmouseout="out('-1329231793440882084');" style=""> 484                      LOG.info(&quot;will try to install app/fw&quot;);                                                       </span>
<span class="-6419480600197101122" onmouseenter="enter('-6419480600197101122');" onmouseout="out('-6419480600197101122');" style=""> 485                      mDeviceSupport.onInstallApp(uri);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 487                  break;                                                                                            </span>
<span class="-2301470348007137474" onmouseenter="enter('-2301470348007137474');" onmouseout="out('-2301470348007137474');" style=""> 488              case ACTION_SET_ALARMS:                                                                               </span>
<span class="-6223145105408550614" onmouseenter="enter('-6223145105408550614');" onmouseout="out('-6223145105408550614');" style=""> 489                  ArrayList&lt;Alarm&gt; alarms = intent.getParcelableArrayListExtra(EXTRA_ALARMS);                       </span>
<span class="4545530897725553048" onmouseenter="enter('4545530897725553048');" onmouseout="out('4545530897725553048');" style=""> 490                  mDeviceSupport.onSetAlarms(alarms);                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 491                  break;                                                                                            </span>
<span class="-8160274285897355527" onmouseenter="enter('-8160274285897355527');" onmouseout="out('-8160274285897355527');" style=""> 492              case ACTION_ENABLE_REALTIME_STEPS: {                                                                  </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 493                  boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                             </span>
<span class="6892686300243280236" onmouseenter="enter('6892686300243280236');" onmouseout="out('6892686300243280236');" style=""> 494                  mDeviceSupport.onEnableRealtimeSteps(enable);                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 495                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496              }                                                                                                     </span>
<span class="-1417941812298608730" onmouseenter="enter('-1417941812298608730');" onmouseout="out('-1417941812298608730');" style=""> 497              case ACTION_ENABLE_HEARTRATE_SLEEP_SUPPORT: {                                                         </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 498                  boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                             </span>
<span class="-1094130383852091406" onmouseenter="enter('-1094130383852091406');" onmouseout="out('-1094130383852091406');" style=""> 499                  mDeviceSupport.onEnableHeartRateSleepSupport(enable);                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 500                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 501              }                                                                                                     </span>
<span class="2612023236818345021" onmouseenter="enter('2612023236818345021');" onmouseout="out('2612023236818345021');" style=""> 502              case ACTION_ENABLE_REALTIME_HEARTRATE_MEASUREMENT: {                                                  </span>
<span class="-407500193182662372" onmouseenter="enter('-407500193182662372');" onmouseout="out('-407500193182662372');" style=""> 503                  boolean enable = intent.getBooleanExtra(EXTRA_BOOLEAN_ENABLE, false);                             </span>
<span class="-1932636993187682108" onmouseenter="enter('-1932636993187682108');" onmouseout="out('-1932636993187682108');" style=""> 504                  mDeviceSupport.onEnableRealtimeHeartRateMeasurement(enable);                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 505                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506              }                                                                                                     </span>
<span class="-3723742220763435323" onmouseenter="enter('-3723742220763435323');" onmouseout="out('-3723742220763435323');" style=""> 507              case ACTION_SEND_CONFIGURATION: {                                                                     </span>
<span class="-1876564357946593499" onmouseenter="enter('-1876564357946593499');" onmouseout="out('-1876564357946593499');" style=""> 508                  String config = intent.getStringExtra(EXTRA_CONFIG);                                              </span>
<span class="7508326450574330866" onmouseenter="enter('7508326450574330866');" onmouseout="out('7508326450574330866');" style=""> 509                  mDeviceSupport.onSendConfiguration(config);                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 510                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511              }                                                                                                     </span>
<span class="6032767073616680026" onmouseenter="enter('6032767073616680026');" onmouseout="out('6032767073616680026');" style=""> 512              case ACTION_TEST_NEW_FUNCTION: {                                                                      </span>
<span class="-1399702412817247830" onmouseenter="enter('-1399702412817247830');" onmouseout="out('-1399702412817247830');" style=""> 513                  mDeviceSupport.onTestNewFunction();                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 514                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515              }                                                                                                     </span>
<span class="4042257170241917013" onmouseenter="enter('4042257170241917013');" onmouseout="out('4042257170241917013');" style=""> 516              case ACTION_SEND_WEATHER: {                                                                           </span>
<span class="-7783159601671948934" onmouseenter="enter('-7783159601671948934');" onmouseout="out('-7783159601671948934');" style=""> 517                  WeatherSpec weatherSpec = new WeatherSpec();                                                      </span>
<span class="9156523207902282301" onmouseenter="enter('9156523207902282301');" onmouseout="out('9156523207902282301');" style=""> 518                  weatherSpec.timestamp = intent.getIntExtra(EXTRA_WEATHER_TIMESTAMP, 0);                           </span>
<span class="1927396717706702303" onmouseenter="enter('1927396717706702303');" onmouseout="out('1927396717706702303');" style=""> 519                  weatherSpec.location = intent.getStringExtra(EXTRA_WEATHER_LOCATION);                             </span>
<span class="-6257828557925685883" onmouseenter="enter('-6257828557925685883');" onmouseout="out('-6257828557925685883');" style=""> 520                  weatherSpec.currentTemp = intent.getIntExtra(EXTRA_WEATHER_CURRENTTEMP, 0);                       </span>
<span class="-8942134869809621954" onmouseenter="enter('-8942134869809621954');" onmouseout="out('-8942134869809621954');" style=""> 521                  weatherSpec.currentConditionCode = intent.getIntExtra(EXTRA_WEATHER_CURRENTCONDITIONCODE, 0);     </span>
<span class="-7768587738342623330" onmouseenter="enter('-7768587738342623330');" onmouseout="out('-7768587738342623330');" style=""> 522                  weatherSpec.currentCondition = intent.getStringExtra(EXTRA_WEATHER_CURRENTCONDITION);             </span>
<span class="-4167858899002844683" onmouseenter="enter('-4167858899002844683');" onmouseout="out('-4167858899002844683');" style=""> 523                  weatherSpec.todayMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMAXTEMP, 0);                     </span>
<span class="-7282217397460764709" onmouseenter="enter('-7282217397460764709');" onmouseout="out('-7282217397460764709');" style=""> 524                  weatherSpec.todayMinTemp = intent.getIntExtra(EXTRA_WEATHER_TODAYMINTEMP, 0);                     </span>
<span class="7956003095875127587" onmouseenter="enter('7956003095875127587');" onmouseout="out('7956003095875127587');" style=""> 525                  weatherSpec.tomorrowMaxTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMAXTEMP, 0);               </span>
<span class="-8851638748949702207" onmouseenter="enter('-8851638748949702207');" onmouseout="out('-8851638748949702207');" style=""> 526                  weatherSpec.tomorrowMinTemp = intent.getIntExtra(EXTRA_WEATHER_TOMORROWMINTEMP, 0);               </span>
<span class="2201545607462035674" onmouseenter="enter('2201545607462035674');" onmouseout="out('2201545607462035674');" style=""> 527                  weatherSpec.tomorrowConditionCode = intent.getIntExtra(EXTRA_WEATHER_TOMORROWCONDITIONCODE, 0);   </span>
<span class="-1267592612850228198" onmouseenter="enter('-1267592612850228198');" onmouseout="out('-1267592612850228198');" style=""> 528                  mDeviceSupport.onSendWeather(weatherSpec);                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 529                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 530              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531          }                                                                                                         </span>
<span  style=""> 532                                                                                                                    </span>
<span class="-2747159044958267020" onmouseenter="enter('-2747159044958267020');" onmouseout="out('-2747159044958267020');" style=""> 533          return START_STICKY;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 534      }                                                                                                             </span>
<span  style=""> 535                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 536      /**                                                                                                           </span>
<span class="4580399485680216365" onmouseenter="enter('4580399485680216365');" onmouseout="out('4580399485680216365');" style=""> 537       * Disposes the current DeviceSupport instance (if any) and sets a new device support instance                </span>
<span class="2634630049779853740" onmouseenter="enter('2634630049779853740');" onmouseout="out('2634630049779853740');" style=""> 538       * (if not null).                                                                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 539       *                                                                                                            </span>
<span class="4293773011710976518" onmouseenter="enter('4293773011710976518');" onmouseout="out('4293773011710976518');" style=""> 540       * @param deviceSupport                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 541       */                                                                                                           </span>
<span class="-6264528256345703641" onmouseenter="enter('-6264528256345703641');" onmouseout="out('-6264528256345703641');" style=""> 542      private void setDeviceSupport(@Nullable DeviceSupport deviceSupport) {                                        </span>
<span class="9012932578751895101" onmouseenter="enter('9012932578751895101');" onmouseout="out('9012932578751895101');" style=""> 543          if (deviceSupport != mDeviceSupport &amp;&amp; mDeviceSupport != null) {                                          </span>
<span class="-2818788601510459349" onmouseenter="enter('-2818788601510459349');" onmouseout="out('-2818788601510459349');" style=""> 544              mDeviceSupport.dispose();                                                                             </span>
<span class="-8741198748055153141" onmouseenter="enter('-8741198748055153141');" onmouseout="out('-8741198748055153141');" style=""> 545              mDeviceSupport = null;                                                                                </span>
<span class="4811934149983720641" onmouseenter="enter('4811934149983720641');" onmouseout="out('4811934149983720641');" style=""> 546              mGBDevice = null;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 547          }                                                                                                         </span>
<span class="-8640715233311534019" onmouseenter="enter('-8640715233311534019');" onmouseout="out('-8640715233311534019');" style=""> 548          mDeviceSupport = deviceSupport;                                                                           </span>
<span class="5234576758850016889" onmouseenter="enter('5234576758850016889');" onmouseout="out('5234576758850016889');" style=""> 549          mGBDevice = mDeviceSupport != null ? mDeviceSupport.getDevice() : null;                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550      }                                                                                                             </span>
<span  style=""> 551                                                                                                                    </span>
<span class="-1685018700062064081" onmouseenter="enter('-1685018700062064081');" onmouseout="out('-1685018700062064081');" style=""> 552      private void start() {                                                                                        </span>
<span class="-8793662816485673633" onmouseenter="enter('-8793662816485673633');" onmouseout="out('-8793662816485673633');" style=""> 553          if (!mStarted) {                                                                                          </span>
<span class="-1522198858483761838" onmouseenter="enter('-1522198858483761838');" onmouseout="out('-1522198858483761838');" style=""><abbr title=" 554              startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), false, this));"> 554              startForeground(GB.NOTIFICATION_ID, GB.createNotification(getString(R.string.gadgetbridge_running), fa🔵</abbr></span>
<span class="975344646757702815" onmouseenter="enter('975344646757702815');" onmouseout="out('975344646757702815');" style=""> 555              mStarted = true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 556          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 557      }                                                                                                             </span>
<span  style=""> 558                                                                                                                    </span>
<span class="5813756913533707772" onmouseenter="enter('5813756913533707772');" onmouseout="out('5813756913533707772');" style=""> 559      public boolean isStarted() {                                                                                  </span>
<span class="-2429569693799116336" onmouseenter="enter('-2429569693799116336');" onmouseout="out('-2429569693799116336');" style=""> 560          return mStarted;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 561      }                                                                                                             </span>
<span  style=""> 562                                                                                                                    </span>
<span class="8882351257935254581" onmouseenter="enter('8882351257935254581');" onmouseout="out('8882351257935254581');" style=""> 563      private boolean isConnected() {                                                                               </span>
<span class="5200435358363356633" onmouseenter="enter('5200435358363356633');" onmouseout="out('5200435358363356633');" style=""> 564          return mGBDevice != null &amp;&amp; mGBDevice.isConnected();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565      }                                                                                                             </span>
<span  style=""> 566                                                                                                                    </span>
<span class="-624932271712780363" onmouseenter="enter('-624932271712780363');" onmouseout="out('-624932271712780363');" style=""> 567      private boolean isConnecting() {                                                                              </span>
<span class="-6563283548989962053" onmouseenter="enter('-6563283548989962053');" onmouseout="out('-6563283548989962053');" style=""> 568          return mGBDevice != null &amp;&amp; mGBDevice.isConnecting();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569      }                                                                                                             </span>
<span  style=""> 570                                                                                                                    </span>
<span class="-6106408407643787535" onmouseenter="enter('-6106408407643787535');" onmouseout="out('-6106408407643787535');" style=""> 571      private boolean isInitialized() {                                                                             </span>
<span class="4561275409582675350" onmouseenter="enter('4561275409582675350');" onmouseout="out('4561275409582675350');" style=""> 572          return mGBDevice != null &amp;&amp; mGBDevice.isInitialized();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573      }                                                                                                             </span>
<span  style=""> 574                                                                                                                    </span>
<span  style=""> 575                                                                                                                    </span>
<span class="-4724287253147800178" onmouseenter="enter('-4724287253147800178');" onmouseout="out('-4724287253147800178');" style=""> 576      private void setReceiversEnableState(boolean enable) {                                                        </span>

<span class="6951530417476040470" onmouseenter="enter('6951530417476040470');" onmouseout="out('6951530417476040470');" style=""> 577          LOG.info(&quot;Setting broadcast receivers to: &quot; + enable);                                                    </span>














<span  style=""> 578                                                                                                                    </span>
<span class="-2074635852143506608" onmouseenter="enter('-2074635852143506608');" onmouseout="out('-2074635852143506608');" style=""> 579          if (enable) {                                                                                             </span>
<span class="-2667731398817597854" onmouseenter="enter('-2667731398817597854');" onmouseout="out('-2667731398817597854');" style=""> 580              if (mPhoneCallReceiver == null) {                                                                     </span>
<span class="-1027287194590244417" onmouseenter="enter('-1027287194590244417');" onmouseout="out('-1027287194590244417');" style=""> 581                  mPhoneCallReceiver = new PhoneCallReceiver();                                                     </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 582                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="-3679054454631357968" onmouseenter="enter('-3679054454631357968');" onmouseout="out('-3679054454631357968');" style=""> 583                  filter.addAction(&quot;android.intent.action.PHONE_STATE&quot;);                                            </span>
<span class="-5028677676977116040" onmouseenter="enter('-5028677676977116040');" onmouseout="out('-5028677676977116040');" style=""> 584                  filter.addAction(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;);                                      </span>
<span class="-1617740261602734990" onmouseenter="enter('-1617740261602734990');" onmouseout="out('-1617740261602734990');" style=""> 585                  registerReceiver(mPhoneCallReceiver, filter);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586              }                                                                                                     </span>
<span class="-8170618993241153146" onmouseenter="enter('-8170618993241153146');" onmouseout="out('-8170618993241153146');" style=""> 587              if (mSMSReceiver == null) {                                                                           </span>
<span class="-211089161118191394" onmouseenter="enter('-211089161118191394');" onmouseout="out('-211089161118191394');" style=""> 588                  mSMSReceiver = new SMSReceiver();                                                                 </span>
<span class="1212733765646185362" onmouseenter="enter('1212733765646185362');" onmouseout="out('1212733765646185362');" style=""> 589                  registerReceiver(mSMSReceiver, new IntentFilter(&quot;android.provider.Telephony.SMS_RECEIVED&quot;));      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 590              }                                                                                                     </span>
<span class="668102061168943903" onmouseenter="enter('668102061168943903');" onmouseout="out('668102061168943903');" style=""> 591              if (mPebbleReceiver == null) {                                                                        </span>
<span class="4408213248365045403" onmouseenter="enter('4408213248365045403');" onmouseout="out('4408213248365045403');" style=""> 592                  mPebbleReceiver = new PebbleReceiver();                                                           </span>
<span class="-5803030088576376799" onmouseenter="enter('-5803030088576376799');" onmouseout="out('-5803030088576376799');" style=""> 593                  registerReceiver(mPebbleReceiver, new IntentFilter(&quot;com.getpebble.action.SEND_NOTIFICATION&quot;));    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 594              }                                                                                                     </span>
<span class="2223215277832879461" onmouseenter="enter('2223215277832879461');" onmouseout="out('2223215277832879461');" style=""> 595              if (mMusicPlaybackReceiver == null) {                                                                 </span>
<span class="5503055766703910020" onmouseenter="enter('5503055766703910020');" onmouseout="out('5503055766703910020');" style=""> 596                  mMusicPlaybackReceiver = new MusicPlaybackReceiver();                                             </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 597                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="4596137206288683088" onmouseenter="enter('4596137206288683088');" onmouseout="out('4596137206288683088');" style=""> 598                  for (String action : mMusicActions){                                                              </span>
<span class="-2086107330814500487" onmouseenter="enter('-2086107330814500487');" onmouseout="out('-2086107330814500487');" style=""> 599                      filter.addAction(action);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 600                  }                                                                                                 </span>
<span class="-887466916784662429" onmouseenter="enter('-887466916784662429');" onmouseout="out('-887466916784662429');" style=""> 601                  registerReceiver(mMusicPlaybackReceiver, filter);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 602              }                                                                                                     </span>
<span class="6120212045117093999" onmouseenter="enter('6120212045117093999');" onmouseout="out('6120212045117093999');" style=""> 603              if (mTimeChangeReceiver == null) {                                                                    </span>
<span class="4506860540419182646" onmouseenter="enter('4506860540419182646');" onmouseout="out('4506860540419182646');" style=""> 604                  mTimeChangeReceiver = new TimeChangeReceiver();                                                   </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 605                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="-1824421398114764450" onmouseenter="enter('-1824421398114764450');" onmouseout="out('-1824421398114764450');" style=""> 606                  filter.addAction(&quot;android.intent.action.TIME_SET&quot;);                                               </span>
<span class="5919360464042611212" onmouseenter="enter('5919360464042611212');" onmouseout="out('5919360464042611212');" style=""> 607                  filter.addAction(&quot;android.intent.action.TIMEZONE_CHANGED&quot;);                                       </span>
<span class="4651824235385821300" onmouseenter="enter('4651824235385821300');" onmouseout="out('4651824235385821300');" style=""> 608                  registerReceiver(mTimeChangeReceiver, filter);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609              }                                                                                                     </span>
<span class="5746507932728060065" onmouseenter="enter('5746507932728060065');" onmouseout="out('5746507932728060065');" style=""> 610              if (mBlueToothConnectReceiver == null) {                                                              </span>
<span class="1523081927393266022" onmouseenter="enter('1523081927393266022');" onmouseout="out('1523081927393266022');" style=""> 611                  mBlueToothConnectReceiver = new BluetoothConnectReceiver(this);                                   </span>
<span class="5906520146498159160" onmouseenter="enter('5906520146498159160');" onmouseout="out('5906520146498159160');" style=""><abbr title=" 612                  registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED));"> 612                  registerReceiver(mBlueToothConnectReceiver, new IntentFilter(BluetoothDevice.ACTION_ACL_CONNECTED)🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613              }                                                                                                     </span>
<span class="-3609014386106656506" onmouseenter="enter('-3609014386106656506');" onmouseout="out('-3609014386106656506');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 614 +            if (mBlueToothPairingRequestReceiver == null) {                                                       </span>
<span class="3804805981170580002" onmouseenter="enter('3804805981170580002');" onmouseout="out('3804805981170580002');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 615 +                mBlueToothPairingRequestReceiver = new BluetoothPairingRequestReceiver(this);                     </span>
<span class="-2695865817198876896" onmouseenter="enter('-2695865817198876896');" onmouseout="out('-2695865817198876896');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 616 +                registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTION_PAIRING_REQUEST));"> 616 +                registerReceiver(mBlueToothPairingRequestReceiver, new IntentFilter(BluetoothDevice.ACTION_PAIRING🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 617 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 618 +                                                                                                                  </span>
<span class="6324125865869253599" onmouseenter="enter('6324125865869253599');" onmouseout="out('6324125865869253599');" style=""> 619              if (mAlarmReceiver == null) {                                                                         </span>
<span class="-6693619828328913529" onmouseenter="enter('-6693619828328913529');" onmouseout="out('-6693619828328913529');" style=""> 620                  mAlarmReceiver = new AlarmReceiver();                                                             </span>
<span class="6728187609005738292" onmouseenter="enter('6728187609005738292');" onmouseout="out('6728187609005738292');" style=""> 621                  registerReceiver(mAlarmReceiver, new IntentFilter(&quot;DAILY_ALARM&quot;));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 622              }                                                                                                     </span>
<span class="1673772763036480141" onmouseenter="enter('1673772763036480141');" onmouseout="out('1673772763036480141');" style=""> 623              if (mAlarmClockReceiver == null) {                                                                    </span>
<span class="9002364993456009479" onmouseenter="enter('9002364993456009479');" onmouseout="out('9002364993456009479');" style=""> 624                  mAlarmClockReceiver = new AlarmClockReceiver();                                                   </span>
<span class="1309295186849327913" onmouseenter="enter('1309295186849327913');" onmouseout="out('1309295186849327913');" style=""> 625                  IntentFilter filter = new IntentFilter();                                                         </span>
<span class="2829475773131805177" onmouseenter="enter('2829475773131805177');" onmouseout="out('2829475773131805177');" style=""> 626                  filter.addAction(AlarmClockReceiver.ALARM_ALERT_ACTION);                                          </span>
<span class="4454268969269107523" onmouseenter="enter('4454268969269107523');" onmouseout="out('4454268969269107523');" style=""> 627                  filter.addAction(AlarmClockReceiver.ALARM_DONE_ACTION);                                           </span>
<span class="6590560170717146411" onmouseenter="enter('6590560170717146411');" onmouseout="out('6590560170717146411');" style=""> 628                  registerReceiver(mAlarmClockReceiver, filter);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 629              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 630          } else {                                                                                                  </span>
<span class="-6174360286964749747" onmouseenter="enter('-6174360286964749747');" onmouseout="out('-6174360286964749747');" style=""> 631              if (mPhoneCallReceiver != null) {                                                                     </span>
<span class="2433672025347488127" onmouseenter="enter('2433672025347488127');" onmouseout="out('2433672025347488127');" style=""> 632                  unregisterReceiver(mPhoneCallReceiver);                                                           </span>
<span class="-7469783469378996049" onmouseenter="enter('-7469783469378996049');" onmouseout="out('-7469783469378996049');" style=""> 633                  mPhoneCallReceiver = null;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 634              }                                                                                                     </span>
<span class="2357494330012051795" onmouseenter="enter('2357494330012051795');" onmouseout="out('2357494330012051795');" style=""> 635              if (mSMSReceiver != null) {                                                                           </span>
<span class="5610361879385034456" onmouseenter="enter('5610361879385034456');" onmouseout="out('5610361879385034456');" style=""> 636                  unregisterReceiver(mSMSReceiver);                                                                 </span>
<span class="-1355497021171643704" onmouseenter="enter('-1355497021171643704');" onmouseout="out('-1355497021171643704');" style=""> 637                  mSMSReceiver = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638              }                                                                                                     </span>
<span class="-3623759735741985563" onmouseenter="enter('-3623759735741985563');" onmouseout="out('-3623759735741985563');" style=""> 639              if (mPebbleReceiver != null) {                                                                        </span>
<span class="927549022767172292" onmouseenter="enter('927549022767172292');" onmouseout="out('927549022767172292');" style=""> 640                  unregisterReceiver(mPebbleReceiver);                                                              </span>
<span class="7266036701373075006" onmouseenter="enter('7266036701373075006');" onmouseout="out('7266036701373075006');" style=""> 641                  mPebbleReceiver = null;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 642              }                                                                                                     </span>
<span class="-2055276518887519425" onmouseenter="enter('-2055276518887519425');" onmouseout="out('-2055276518887519425');" style=""> 643              if (mMusicPlaybackReceiver != null) {                                                                 </span>
<span class="890047242835092110" onmouseenter="enter('890047242835092110');" onmouseout="out('890047242835092110');" style=""> 644                  unregisterReceiver(mMusicPlaybackReceiver);                                                       </span>
<span class="-1552577282161915996" onmouseenter="enter('-1552577282161915996');" onmouseout="out('-1552577282161915996');" style=""> 645                  mMusicPlaybackReceiver = null;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 646              }                                                                                                     </span>
<span class="1881385603425146700" onmouseenter="enter('1881385603425146700');" onmouseout="out('1881385603425146700');" style=""> 647              if (mTimeChangeReceiver != null) {                                                                    </span>
<span class="-1894985795964522981" onmouseenter="enter('-1894985795964522981');" onmouseout="out('-1894985795964522981');" style=""> 648                  unregisterReceiver(mTimeChangeReceiver);                                                          </span>
<span class="-7572241227958742128" onmouseenter="enter('-7572241227958742128');" onmouseout="out('-7572241227958742128');" style=""> 649                  mTimeChangeReceiver = null;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650              }                                                                                                     </span>
<span class="9095880258277986747" onmouseenter="enter('9095880258277986747');" onmouseout="out('9095880258277986747');" style=""> 651              if (mBlueToothConnectReceiver != null) {                                                              </span>
<span class="3743697862053435305" onmouseenter="enter('3743697862053435305');" onmouseout="out('3743697862053435305');" style=""> 652                  unregisterReceiver(mBlueToothConnectReceiver);                                                    </span>
<span class="4585763212078609359" onmouseenter="enter('4585763212078609359');" onmouseout="out('4585763212078609359');" style=""> 653                  mBlueToothConnectReceiver = null;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654              }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 655 +                                                                                                                  </span>
<span class="6486147796970253365" onmouseenter="enter('6486147796970253365');" onmouseout="out('6486147796970253365');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 656 +            if (mBlueToothPairingRequestReceiver != null) {                                                       </span>
<span class="4298983601624288046" onmouseenter="enter('4298983601624288046');" onmouseout="out('4298983601624288046');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 657 +                unregisterReceiver(mBlueToothPairingRequestReceiver);                                             </span>
<span class="-7535446299407978854" onmouseenter="enter('-7535446299407978854');" onmouseout="out('-7535446299407978854');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 658 +                mBlueToothPairingRequestReceiver = null;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 659 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 660 +                                                                                                                  </span>
<span class="6521400717686065872" onmouseenter="enter('6521400717686065872');" onmouseout="out('6521400717686065872');" style=""> 661              if (mAlarmReceiver != null) {                                                                         </span>
<span class="-1015355596942575674" onmouseenter="enter('-1015355596942575674');" onmouseout="out('-1015355596942575674');" style=""> 662                  unregisterReceiver(mAlarmReceiver);                                                               </span>
<span class="8415896076062081933" onmouseenter="enter('8415896076062081933');" onmouseout="out('8415896076062081933');" style=""> 663                  mAlarmReceiver = null;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 664              }                                                                                                     </span>
<span class="1726896335033811922" onmouseenter="enter('1726896335033811922');" onmouseout="out('1726896335033811922');" style=""> 665              if (mAlarmClockReceiver != null) {                                                                    </span>
<span class="950736544794582273" onmouseenter="enter('950736544794582273');" onmouseout="out('950736544794582273');" style=""> 666                  unregisterReceiver(mAlarmClockReceiver);                                                          </span>
<span class="1888286601385537647" onmouseenter="enter('1888286601385537647');" onmouseout="out('1888286601385537647');" style=""> 667                  mAlarmClockReceiver = null;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 668              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 670      }                                                                                                             </span>
<span  style=""> 671                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 672      @Override                                                                                                     </span>
<span class="658855826062432633" onmouseenter="enter('658855826062432633');" onmouseout="out('658855826062432633');" style=""> 673      public void onDestroy() {                                                                                     </span>
<span class="-6105089319181628000" onmouseenter="enter('-6105089319181628000');" onmouseout="out('-6105089319181628000');" style=""> 674          if (hasPrefs()) {                                                                                         </span>
<span class="-6878257734494454807" onmouseenter="enter('-6878257734494454807');" onmouseout="out('-6878257734494454807');" style=""> 675              getPrefs().getPreferences().unregisterOnSharedPreferenceChangeListener(this);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 676          }                                                                                                         </span>
<span  style=""> 677                                                                                                                    </span>
<span class="-7834521410291460174" onmouseenter="enter('-7834521410291460174');" onmouseout="out('-7834521410291460174');" style=""> 678          LOG.debug(&quot;DeviceCommunicationService is being destroyed&quot;);                                               </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style=""> 679          super.onDestroy();                                                                                        </span>
<span  style=""> 680                                                                                                                    </span>
<span class="1476506345433791001" onmouseenter="enter('1476506345433791001');" onmouseout="out('1476506345433791001');" style=""> 681          LocalBroadcastManager.getInstance(this).unregisterReceiver(mReceiver);                                    </span>
<span class="2766375176654059202" onmouseenter="enter('2766375176654059202');" onmouseout="out('2766375176654059202');" style=""> 682          setReceiversEnableState(false); // disable BroadcastReceivers                                             </span>

<span  style=""> 683                                                                                                                    </span>
<span class="7748425318301496087" onmouseenter="enter('7748425318301496087');" onmouseout="out('7748425318301496087');" style=""> 684          setDeviceSupport(null);                                                                                   </span>
<span class="-6401324814064311246" onmouseenter="enter('-6401324814064311246');" onmouseout="out('-6401324814064311246');" style=""> 685          NotificationManager nm = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);            </span>
<span class="-9110481916976035504" onmouseenter="enter('-9110481916976035504');" onmouseout="out('-9110481916976035504');" style=""><abbr title=" 686          nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cancelled when service stops"> 686          nm.cancel(GB.NOTIFICATION_ID); // need to do this because the updated notification won&#x27;t be cancelled when🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 687      }                                                                                                             </span>
<span  style=""> 688                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 689      @Override                                                                                                     </span>
<span class="-5181556300001419083" onmouseenter="enter('-5181556300001419083');" onmouseout="out('-5181556300001419083');" style=""> 690      public IBinder onBind(Intent intent) {                                                                        </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 691          return null;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692      }                                                                                                             </span>
<span  style=""> 693                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 694      @Override                                                                                                     </span>
<span class="-8543522445860717125" onmouseenter="enter('-8543522445860717125');" onmouseout="out('-8543522445860717125');" style=""> 695      public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) {                      </span>
<span class="-685513269405093629" onmouseenter="enter('-685513269405093629');" onmouseout="out('-685513269405093629');" style=""> 696          if (GBPrefs.AUTO_RECONNECT.equals(key)) {                                                                 </span>
<span class="6392472237335160020" onmouseenter="enter('6392472237335160020');" onmouseout="out('6392472237335160020');" style=""> 697              boolean autoReconnect = getGBPrefs().getAutoReconnect();                                              </span>
<span class="6496582276158603468" onmouseenter="enter('6496582276158603468');" onmouseout="out('6496582276158603468');" style=""> 698              if (mDeviceSupport != null) {                                                                         </span>
<span class="-7892066664316346354" onmouseenter="enter('-7892066664316346354');" onmouseout="out('-7892066664316346354');" style=""> 699                  mDeviceSupport.setAutoReconnect(autoReconnect);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 702      }                                                                                                             </span>
<span  style=""> 703                                                                                                                    </span>
<span class="5219197634720526897" onmouseenter="enter('5219197634720526897');" onmouseout="out('5219197634720526897');" style=""> 704      protected boolean hasPrefs() {                                                                                </span>
<span class="4539535577863579094" onmouseenter="enter('4539535577863579094');" onmouseout="out('4539535577863579094');" style=""> 705          return getPrefs().getPreferences() != null;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 706      }                                                                                                             </span>
<span  style=""> 707                                                                                                                    </span>
<span class="8152942447888292090" onmouseenter="enter('8152942447888292090');" onmouseout="out('8152942447888292090');" style=""> 708      public Prefs getPrefs() {                                                                                     </span>
<span class="-7206933193388772480" onmouseenter="enter('-7206933193388772480');" onmouseout="out('-7206933193388772480');" style=""> 709          return GBApplication.getPrefs();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710      }                                                                                                             </span>
<span  style=""> 711                                                                                                                    </span>
<span class="7931316051287321883" onmouseenter="enter('7931316051287321883');" onmouseout="out('7931316051287321883');" style=""> 712      public GBPrefs getGBPrefs() {                                                                                 </span>
<span class="-2213918291073204825" onmouseenter="enter('-2213918291073204825');" onmouseout="out('-2213918291073204825');" style=""> 713          return GBApplication.getGBPrefs();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 714      }                                                                                                             </span>
<span  style=""> 715                                                                                                                    </span>
<span class="-3261323066157882616" onmouseenter="enter('-3261323066157882616');" onmouseout="out('-3261323066157882616');" style=""> 716      public GBDevice getGBDevice() {                                                                               </span>
<span class="2107010764646382456" onmouseenter="enter('2107010764646382456');" onmouseout="out('2107010764646382456');" style=""> 717          return mGBDevice;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 719  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            