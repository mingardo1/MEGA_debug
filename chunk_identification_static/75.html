<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>75</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    75
                    <a href="74.html">prev</a>
                    <a href="76.html">next</a>
                    <a href="75_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    AriaLyy/Aria_99d857f3383c60ae4ae008f74e7d2b32afe9c26a_Aria/src/main/java/com/arialyy/aria/core/AriaManager.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;99d857f3383c60ae4ae008f74e7d2b32afe9c26a:Aria/src/main/java/com/arialyy/aria/core/AriaManager.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;99d857f3383c60ae4ae008f74e7d2b32afe9c26a^1:Aria/src/main/java/com/arialyy/aria/core/AriaManager.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;99d857f3383c60ae4ae008f74e7d2b32afe9c26a^2:Aria/src/main/java/com/arialyy/aria/core/AriaManager.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;41154d47fb8664ddca206122d28b50a6a3b8e9a6:Aria/src/main/java/com/arialyy/aria/core/AriaManager.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [b], [j], [s]], subset: [[b], [bj], [s]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="-1067389092621227336" onmouseenter="enter('-1067389092621227336');" onmouseout="out('-1067389092621227336');" style="">  16 package com.arialyy.aria.core;                                                                           </span>
<span  style="">  17                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  18 import android.annotation.SuppressLint;                                                                  </span>
<span class="-6548293536248798364" onmouseenter="enter('-6548293536248798364');" onmouseout="out('-6548293536248798364');" style="">  19 import android.annotation.TargetApi;                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">  20 import android.app.Activity;                                                                             </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  21 import android.app.Application;                                                                          </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">  22 import android.app.Dialog;                                                                               </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  23 import android.app.Service;                                                                              </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  25 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  26 import android.os.Bundle;                                                                                </span>
<span class="1235021250095752497" onmouseenter="enter('1235021250095752497');" onmouseout="out('1235021250095752497');" style="">  27 import android.support.v4.app.Fragment;                                                                  </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  28 import android.text.TextUtils;                                                                           </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  29 import android.util.Log;                                                                                 </span>
<span class="842268080202249770" onmouseenter="enter('842268080202249770');" onmouseout="out('842268080202249770');" style="">  30 import android.widget.PopupWindow;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  31 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-300602512322597155" onmouseenter="enter('-300602512322597155');" onmouseout="out('-300602512322597155');" style="">  32 import com.arialyy.aria.core.download.DownloadReceiver;                                                  </span>
<span class="-477762279452602188" onmouseenter="enter('-477762279452602188');" onmouseout="out('-477762279452602188');" style="">  33 import com.arialyy.aria.core.inf.ICmd;                                                                   </span>
<span class="-7853945460211298347" onmouseenter="enter('-7853945460211298347');" onmouseout="out('-7853945460211298347');" style="">  34 import com.arialyy.aria.core.inf.IReceiver;                                                              </span>
<span class="1325372506799583582" onmouseenter="enter('1325372506799583582');" onmouseout="out('1325372506799583582');" style="">  35 import com.arialyy.aria.core.queue.DownloadTaskQueue;                                                    </span>
<span class="-8259302571631178660" onmouseenter="enter('-8259302571631178660');" onmouseout="out('-8259302571631178660');" style="">  36 import com.arialyy.aria.core.queue.UploadTaskQueue;                                                      </span>
<span class="-8568057864199193858" onmouseenter="enter('-8568057864199193858');" onmouseout="out('-8568057864199193858');" style="">  37 import com.arialyy.aria.core.upload.UploadReceiver;                                                      </span>
<span class="-4499301116755301031" onmouseenter="enter('-4499301116755301031');" onmouseout="out('-4499301116755301031');" style="">  38 import com.arialyy.aria.orm.DbEntity;                                                                    </span>
<span class="-2245626374458165887" onmouseenter="enter('-2245626374458165887');" onmouseout="out('-2245626374458165887');" style="">  39 import com.arialyy.aria.orm.DbUtil;                                                                      </span>
<span class="-3858964084420876286" onmouseenter="enter('-3858964084420876286');" onmouseout="out('-3858964084420876286');" style="">  40 import com.arialyy.aria.util.CAConfiguration;                                                            </span>
<span class="-288495809736068445" onmouseenter="enter('-288495809736068445');" onmouseout="out('-288495809736068445');" style="">  41 import com.arialyy.aria.util.Configuration;                                                              </span>
<span class="-5794394638048144652" onmouseenter="enter('-5794394638048144652');" onmouseout="out('-5794394638048144652');" style="">  42 import com.arialyy.aria.util.Speed;                                                                      </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  43 import java.util.ArrayList;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  44 import java.util.HashMap;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  45 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  46 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  47 import java.util.Map;                                                                                    </span>
<span  style="">  48                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  49 /**                                                                                                      </span>
<span class="5502483616954307706" onmouseenter="enter('5502483616954307706');" onmouseout="out('5502483616954307706');" style="">  50  * Created by lyy on 2016/12/1.                                                                          </span>
<span class="-5925367661426511979" onmouseenter="enter('-5925367661426511979');" onmouseout="out('-5925367661426511979');" style="">  51  * https://github.com/AriaLyy/Aria                                                                       </span>
<span class="7009722916033936917" onmouseenter="enter('7009722916033936917');" onmouseout="out('7009722916033936917');" style="">  52  * Aria管理器，任务操作在这里执行                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  53  */                                                                                                      </span>
<span class="-7048582966604058233" onmouseenter="enter('-7048582966604058233');" onmouseout="out('-7048582966604058233');" style="">  54 @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH) public class AriaManager {                            </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  55 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="1601313445559225635" onmouseenter="enter('1601313445559225635');" onmouseout="out('1601313445559225635');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  56   private static final    String                  TAG      = &quot;AriaManager&quot;;                              </span>
<span class="6273463283529837894" onmouseenter="enter('6273463283529837894');" onmouseout="out('6273463283529837894');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  57   private static final    Object                  LOCK     = new Object();                               </span>
<span class="-6125856785972907352" onmouseenter="enter('-6125856785972907352');" onmouseout="out('-6125856785972907352');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  58   private static volatile AriaManager             INSTANCE = null;                                       </span>
<span class="5383616369229427639" onmouseenter="enter('5383616369229427639');" onmouseout="out('5383616369229427639');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  59   private                 Map&lt;String, AMReceiver&gt; mTargets = new HashMap&lt;&gt;();                            </span>
<span class="-1057144543722836098" onmouseenter="enter('-1057144543722836098');" onmouseout="out('-1057144543722836098');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  60   private DownloadManager mManager;                                                                      </span>
<span class="-2877489618686061348" onmouseenter="enter('-2877489618686061348');" onmouseout="out('-2877489618686061348');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  61   private LifeCallback    mLifeCallback;                                                                 </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  62 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-8206379968703948233" onmouseenter="enter('-8206379968703948233');" onmouseout="out('-8206379968703948233');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63   private static final String TAG = &quot;AriaManager&quot;;                                                       </span>
<span class="4753550627703968447" onmouseenter="enter('4753550627703968447');" onmouseout="out('4753550627703968447');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64   private static final Object LOCK = new Object();                                                       </span>
<span class="-8813034948263309061" onmouseenter="enter('-8813034948263309061');" onmouseout="out('-8813034948263309061');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65   private static volatile AriaManager INSTANCE = null;                                                   </span>
<span class="-5621162215171638112" onmouseenter="enter('-5621162215171638112');" onmouseout="out('-5621162215171638112');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66   private Map&lt;String, AMReceiver&gt; mTargets = new HashMap&lt;&gt;();                                            </span>
<span class="-1057144543722836098" onmouseenter="enter('-1057144543722836098');" onmouseout="out('-1057144543722836098');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67   private DownloadManager mManager;                                                                      </span>
<span class="5033912312693722802" onmouseenter="enter('5033912312693722802');" onmouseout="out('5033912312693722802');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68   private LifeCallback mLifeCallback;                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69                                                                                                          </span>
<span class="-4078352715504118345" onmouseenter="enter('-4078352715504118345');" onmouseout="out('-4078352715504118345');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70   private AriaManager(Context context) {                                                                 </span>
<span class="-3701928120828201341" onmouseenter="enter('-3701928120828201341');" onmouseout="out('-3701928120828201341');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71     regAppLifeCallback(context);                                                                         </span>
<span class="7051495929310577331" onmouseenter="enter('7051495929310577331');" onmouseout="out('7051495929310577331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72     mManager = DownloadManager.init(context);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73   }                                                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  74 =======                                                                                                  </span>
<span class="-8206379968703948233" onmouseenter="enter('-8206379968703948233');" onmouseout="out('-8206379968703948233');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75   private static final String TAG = &quot;AriaManager&quot;;                                                       </span>
<span class="1494039427886270781" onmouseenter="enter('1494039427886270781');" onmouseout="out('1494039427886270781');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76   private static final String DOWNLOAD = &quot;_download&quot;;                                                    </span>
<span class="3437030952471192382" onmouseenter="enter('3437030952471192382');" onmouseout="out('3437030952471192382');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77   private static final String UPLOAD = &quot;_upload&quot;;                                                        </span>
<span class="4753550627703968447" onmouseenter="enter('4753550627703968447');" onmouseout="out('4753550627703968447');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78   private static final Object LOCK = new Object();                                                       </span>
<span class="7388521750517473423" onmouseenter="enter('7388521750517473423');" onmouseout="out('7388521750517473423');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79   @SuppressLint(&quot;StaticFieldLeak&quot;) private static volatile AriaManager INSTANCE = null;                  </span>
<span class="6698834935164385419" onmouseenter="enter('6698834935164385419');" onmouseout="out('6698834935164385419');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80   private Map&lt;String, IReceiver&gt; mReceivers = new HashMap&lt;&gt;();                                           </span>
<span class="-585907741994814106" onmouseenter="enter('-585907741994814106');" onmouseout="out('-585907741994814106');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81   public static Context APP;                                                                             </span>
<span class="-577655190321639879" onmouseenter="enter('-577655190321639879');" onmouseout="out('-577655190321639879');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82   private List&lt;ICmd&gt; mCommands = new ArrayList&lt;&gt;();                                                      </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  83 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style="">  84                                                                                                          </span>
<span class="-4078352715504118345" onmouseenter="enter('-4078352715504118345');" onmouseout="out('-4078352715504118345');" style="">  85   private AriaManager(Context context) {                                                                 </span>
<span class="-6302192059918679060" onmouseenter="enter('-6302192059918679060');" onmouseout="out('-6302192059918679060');" style="">  86     DbUtil.init(context.getApplicationContext());                                                        </span>
<span class="-6668974627522766582" onmouseenter="enter('-6668974627522766582');" onmouseout="out('-6668974627522766582');" style="">  87     APP = context.getApplicationContext();                                                               </span>
<span class="-3701928120828201341" onmouseenter="enter('-3701928120828201341');" onmouseout="out('-3701928120828201341');" style="">  88     regAppLifeCallback(context);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89   }                                                                                                      </span>
<span  style="">  90                                                                                                          </span>
<span class="3027871758242519607" onmouseenter="enter('3027871758242519607');" onmouseout="out('3027871758242519607');" style="">  91   public static AriaManager getInstance(Context context) {                                               </span>
<span class="-8097436755426287019" onmouseenter="enter('-8097436755426287019');" onmouseout="out('-8097436755426287019');" style="">  92     if (INSTANCE == null) {                                                                              </span>
<span class="-889825015365812481" onmouseenter="enter('-889825015365812481');" onmouseout="out('-889825015365812481');" style="">  93       synchronized (LOCK) {                                                                              </span>
<span class="7294898164205845440" onmouseenter="enter('7294898164205845440');" onmouseout="out('7294898164205845440');" style="">  94         INSTANCE = new AriaManager(context);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96     }                                                                                                    </span>
<span class="-2388388574337551660" onmouseenter="enter('-2388388574337551660');" onmouseout="out('-2388388574337551660');" style="">  97     return INSTANCE;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98   }                                                                                                      </span>
<span  style="">  99                                                                                                          </span>
<span class="-102354501628257453" onmouseenter="enter('-102354501628257453');" onmouseout="out('-102354501628257453');" style=""> 100   public Map&lt;String, IReceiver&gt; getReceiver() {                                                          </span>
<span class="4532026554728945805" onmouseenter="enter('4532026554728945805');" onmouseout="out('4532026554728945805');" style=""> 101     return mReceivers;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102   }                                                                                                      </span>
<span  style=""> 103                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 104   /**                                                                                                    </span>
<span class="-440811555959535495" onmouseenter="enter('-440811555959535495');" onmouseout="out('-440811555959535495');" style=""> 105    * 设置最大下载速度                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 106    */                                                                                                    </span>
<span class="-1648604311019824309" onmouseenter="enter('-1648604311019824309');" onmouseout="out('-1648604311019824309');" style=""> 107   public void setMaxSpeed(Speed speed) {                                                                 </span>
<span class="-5296425640905898459" onmouseenter="enter('-5296425640905898459');" onmouseout="out('-5296425640905898459');" style=""> 108     Configuration.getInstance().setMaxSpeed(speed);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109   }                                                                                                      </span>
<span  style=""> 110                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 111   /**                                                                                                    </span>
<span class="2629693449060804209" onmouseenter="enter('2629693449060804209');" onmouseout="out('2629693449060804209');" style=""> 112    * 设置命令                                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 113    */                                                                                                    </span>
<span class="-3799241079208170641" onmouseenter="enter('-3799241079208170641');" onmouseout="out('-3799241079208170641');" style=""> 114   public AriaManager setCmd(ICmd command) {                                                              </span>
<span class="53276261188350163" onmouseenter="enter('53276261188350163');" onmouseout="out('53276261188350163');" style=""> 115     mCommands.add(command);                                                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 116     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117   }                                                                                                      </span>
<span  style=""> 118                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 119   /**                                                                                                    </span>
<span class="4888506602275749882" onmouseenter="enter('4888506602275749882');" onmouseout="out('4888506602275749882');" style=""> 120    * 设置一组命令                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 121    */                                                                                                    </span>
<span class="7564252120728882288" onmouseenter="enter('7564252120728882288');" onmouseout="out('7564252120728882288');" style=""> 122   public &lt;T extends ICmd&gt; AriaManager setCmds(List&lt;T&gt; commands) {                                        </span>
<span class="4190461692290304844" onmouseenter="enter('4190461692290304844');" onmouseout="out('4190461692290304844');" style=""> 123     if (commands != null &amp;&amp; commands.size() &gt; 0) {                                                       </span>
<span class="-4321543690292920060" onmouseenter="enter('-4321543690292920060');" onmouseout="out('-4321543690292920060');" style=""> 124       mCommands.addAll(commands);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125     }                                                                                                    </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 126     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127   }                                                                                                      </span>
<span  style=""> 128                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 129   /**                                                                                                    </span>
<span class="-4746311571132337810" onmouseenter="enter('-4746311571132337810');" onmouseout="out('-4746311571132337810');" style=""> 130    * 执行所有设置的命令                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 131    */                                                                                                    </span>
<span class="-2664130127237704901" onmouseenter="enter('-2664130127237704901');" onmouseout="out('-2664130127237704901');" style=""> 132   public synchronized void exe() {                                                                       </span>
<span class="-7838710753990697882" onmouseenter="enter('-7838710753990697882');" onmouseout="out('-7838710753990697882');" style=""> 133     for (ICmd command : mCommands) {                                                                     </span>
<span class="-6671516745237350082" onmouseenter="enter('-6671516745237350082');" onmouseout="out('-6671516745237350082');" style=""> 134       command.executeCmd();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135     }                                                                                                    </span>
<span class="-6513034717834234673" onmouseenter="enter('-6513034717834234673');" onmouseout="out('-6513034717834234673');" style=""> 136     mCommands.clear();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137   }                                                                                                      </span>
<span  style=""> 138                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 139   /**                                                                                                    </span>
<span class="-7823536379510091891" onmouseenter="enter('-7823536379510091891');" onmouseout="out('-7823536379510091891');" style=""> 140    * 处理下载操作                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 141    */                                                                                                    </span>
<span class="5691559462441740384" onmouseenter="enter('5691559462441740384');" onmouseout="out('5691559462441740384');" style=""> 142   DownloadReceiver download(Object obj) {                                                                </span>
<span class="-979116389459745375" onmouseenter="enter('-979116389459745375');" onmouseout="out('-979116389459745375');" style=""> 143     IReceiver receiver = mReceivers.get(getKey(true, obj));                                              </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 144     if (receiver == null) {                                                                              </span>
<span class="-1404147057171756128" onmouseenter="enter('-1404147057171756128');" onmouseout="out('-1404147057171756128');" style=""> 145       receiver = putReceiver(true, obj);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span class="-8980864788293598281" onmouseenter="enter('-8980864788293598281');" onmouseout="out('-8980864788293598281');" style=""> 147     return (receiver instanceof DownloadReceiver) ? (DownloadReceiver) receiver : null;                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148   }                                                                                                      </span>
<span  style=""> 149                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 150   /**                                                                                                    </span>
<span class="-6458816092485134154" onmouseenter="enter('-6458816092485134154');" onmouseout="out('-6458816092485134154');" style=""> 151    * 处理上传操作                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 152    */                                                                                                    </span>
<span class="2396106706936506960" onmouseenter="enter('2396106706936506960');" onmouseout="out('2396106706936506960');" style=""> 153   UploadReceiver upload(Object obj) {                                                                    </span>
<span class="9130459084373149884" onmouseenter="enter('9130459084373149884');" onmouseout="out('9130459084373149884');" style=""> 154     IReceiver receiver = mReceivers.get(getKey(false, obj));                                             </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 155     if (receiver == null) {                                                                              </span>
<span class="8236684641557277642" onmouseenter="enter('8236684641557277642');" onmouseout="out('8236684641557277642');" style=""> 156       receiver = putReceiver(false, obj);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157     }                                                                                                    </span>
<span class="-7592329647801128097" onmouseenter="enter('-7592329647801128097');" onmouseout="out('-7592329647801128097');" style=""> 158     return (receiver instanceof UploadReceiver) ? (UploadReceiver) receiver : null;                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159   }                                                                                                      </span>
<span  style=""> 160                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 161   /**                                                                                                    </span>
<span class="3941576587820846937" onmouseenter="enter('3941576587820846937');" onmouseout="out('3941576587820846937');" style=""> 162    * 设置CA证书信息                                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 163    *                                                                                                     </span>
<span class="9087393707178998839" onmouseenter="enter('9087393707178998839');" onmouseout="out('9087393707178998839');" style=""> 164    * @param caAlias ca证书别名                                                                               </span>
<span class="2200710274287933844" onmouseenter="enter('2200710274287933844');" onmouseout="out('2200710274287933844');" style=""> 165    * @param caPath assets 文件夹下的ca证书完整路径                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 166    */                                                                                                    </span>
<span class="6703586708859414908" onmouseenter="enter('6703586708859414908');" onmouseout="out('6703586708859414908');" style=""> 167   public void setCAInfo(String caAlias, String caPath) {                                                 </span>
<span class="-8063303008006988898" onmouseenter="enter('-8063303008006988898');" onmouseout="out('-8063303008006988898');" style=""> 168     if (TextUtils.isEmpty(caAlias)) {                                                                    </span>
<span class="7216823448602210992" onmouseenter="enter('7216823448602210992');" onmouseout="out('7216823448602210992');" style=""> 169       Log.e(TAG, &quot;ca证书别名不能为null&quot;);                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 170       return;                                                                                            </span>
<span class="4576371093208868880" onmouseenter="enter('4576371093208868880');" onmouseout="out('4576371093208868880');" style=""> 171     } else if (TextUtils.isEmpty(caPath)) {                                                              </span>
<span class="4082261192840318453" onmouseenter="enter('4082261192840318453');" onmouseout="out('4082261192840318453');" style=""> 172       Log.e(TAG, &quot;ca证书路径不能为null&quot;);                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 173       return;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174     }                                                                                                    </span>
<span class="-1906777176528799666" onmouseenter="enter('-1906777176528799666');" onmouseout="out('-1906777176528799666');" style=""> 175     CAConfiguration.CA_ALIAS = caAlias;                                                                  </span>
<span class="-6455417151481088782" onmouseenter="enter('-6455417151481088782');" onmouseout="out('-6455417151481088782');" style=""> 176     CAConfiguration.CA_PATH = caPath;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177   }                                                                                                      </span>
<span  style=""> 178                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 179   /**                                                                                                    </span>
<span class="-4223564636250513423" onmouseenter="enter('-4223564636250513423');" onmouseout="out('-4223564636250513423');" style=""> 180    * 设置下载超时时间                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 181    */                                                                                                    </span>
<span class="6023314788617288172" onmouseenter="enter('6023314788617288172');" onmouseout="out('6023314788617288172');" style=""> 182   @Deprecated private AriaManager setTimeOut(int timeOut) {                                              </span>
<span class="887383022917992456" onmouseenter="enter('887383022917992456');" onmouseout="out('887383022917992456');" style=""> 183     Configuration.getInstance().setTimeOut(timeOut);                                                     </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 184     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 187   /**                                                                                                    </span>
<span class="26223117172997624" onmouseenter="enter('26223117172997624');" onmouseout="out('26223117172997624');" style=""> 188    * 设置失败重试次数                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 189    */                                                                                                    </span>
<span class="-1729144695255254571" onmouseenter="enter('-1729144695255254571');" onmouseout="out('-1729144695255254571');" style=""> 190   public AriaManager setReTryNum(int reTryNum) {                                                         </span>
<span class="6996292559415310783" onmouseenter="enter('6996292559415310783');" onmouseout="out('6996292559415310783');" style=""> 191     Configuration.getInstance().setReTryNum(reTryNum);                                                   </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 192     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193   }                                                                                                      </span>
<span  style=""> 194                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 195   /**                                                                                                    </span>
<span class="8576864729948497616" onmouseenter="enter('8576864729948497616');" onmouseout="out('8576864729948497616');" style=""> 196    * 设置失败重试间隔                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 197    */                                                                                                    </span>
<span class="-700645487763548611" onmouseenter="enter('-700645487763548611');" onmouseout="out('-700645487763548611');" style=""> 198   public AriaManager setReTryInterval(int interval) {                                                    </span>
<span class="681842265895301556" onmouseenter="enter('681842265895301556');" onmouseout="out('681842265895301556');" style=""> 199     Configuration.getInstance().setReTryInterval(interval);                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 200     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201   }                                                                                                      </span>
<span  style=""> 202                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 203   /**                                                                                                    </span>
<span class="-1321367515046951264" onmouseenter="enter('-1321367515046951264');" onmouseout="out('-1321367515046951264');" style=""> 204    * 是否打开下载广播                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 205    */                                                                                                    </span>
<span class="-5513517391419737018" onmouseenter="enter('-5513517391419737018');" onmouseout="out('-5513517391419737018');" style=""> 206   public AriaManager openBroadcast(boolean open) {                                                       </span>
<span class="5206411104396306634" onmouseenter="enter('5206411104396306634');" onmouseout="out('5206411104396306634');" style=""> 207     Configuration.getInstance().setOpenBroadcast(open);                                                  </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 208     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209   }                                                                                                      </span>
<span  style=""> 210                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 211   /**                                                                                                    </span>
<span class="9001034447856185163" onmouseenter="enter('9001034447856185163');" onmouseout="out('9001034447856185163');" style=""> 212    * 设置最大下载数，最大下载数不能小于1                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 213    *                                                                                                     </span>
<span class="-6100601421598697800" onmouseenter="enter('-6100601421598697800');" onmouseout="out('-6100601421598697800');" style=""> 214    * @param maxDownloadNum 最大下载数                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 215    */                                                                                                    </span>
<span class="7038406465530854799" onmouseenter="enter('7038406465530854799');" onmouseout="out('7038406465530854799');" style=""> 216   public AriaManager setMaxDownloadNum(int maxDownloadNum) {                                             </span>
<span class="-3845264930068071777" onmouseenter="enter('-3845264930068071777');" onmouseout="out('-3845264930068071777');" style=""> 217     if (maxDownloadNum &lt; 1) {                                                                            </span>
<span class="5002120668553352863" onmouseenter="enter('5002120668553352863');" onmouseout="out('5002120668553352863');" style=""> 218       Log.w(TAG, &quot;最大任务数不能小于 1&quot;);                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 219       return this;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220     }                                                                                                    </span>
<span class="5538869825066425127" onmouseenter="enter('5538869825066425127');" onmouseout="out('5538869825066425127');" style=""> 221     DownloadTaskQueue.getInstance().setDownloadNum(maxDownloadNum);                                      </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 222     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223   }                                                                                                      </span>
<span  style=""> 224                                                                                                          </span>
<span class="2001576302894045654" onmouseenter="enter('2001576302894045654');" onmouseout="out('2001576302894045654');" style=""> 225   private IReceiver putReceiver(boolean isDownload, Object obj) {                                        </span>
<span class="-5543985760673599761" onmouseenter="enter('-5543985760673599761');" onmouseout="out('-5543985760673599761');" style=""> 226     final String key = getKey(isDownload, obj);                                                          </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style=""> 227     IReceiver receiver = mReceivers.get(key);                                                            </span>
<span class="-5808849449143451772" onmouseenter="enter('-5808849449143451772');" onmouseout="out('-5808849449143451772');" style=""> 228     final WidgetLiftManager widgetLiftManager = new WidgetLiftManager();                                 </span>
<span class="8820860652965287654" onmouseenter="enter('8820860652965287654');" onmouseout="out('8820860652965287654');" style=""> 229     if (obj instanceof Dialog) {                                                                         </span>
<span class="7824310486161715846" onmouseenter="enter('7824310486161715846');" onmouseout="out('7824310486161715846');" style=""> 230       widgetLiftManager.handleDialogLift((Dialog) obj);                                                  </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 231     } else if (obj instanceof PopupWindow) {                                                             </span>
<span class="-5050725901727100191" onmouseenter="enter('-5050725901727100191');" onmouseout="out('-5050725901727100191');" style=""> 232       widgetLiftManager.handlePopupWindowLift((PopupWindow) obj);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233     }                                                                                                    </span>
<span  style=""> 234                                                                                                          </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 235     if (receiver == null) {                                                                              </span>
<span class="-4596264186346273273" onmouseenter="enter('-4596264186346273273');" onmouseout="out('-4596264186346273273');" style=""> 236       if (isDownload) {                                                                                  </span>
<span class="6995088344462882958" onmouseenter="enter('6995088344462882958');" onmouseout="out('6995088344462882958');" style=""> 237         DownloadReceiver dReceiver = new DownloadReceiver();                                             </span>
<span class="-8406939338705809680" onmouseenter="enter('-8406939338705809680');" onmouseout="out('-8406939338705809680');" style=""> 238         dReceiver.targetName = obj.getClass().getName();                                                 </span>
<span class="-4130356198108348788" onmouseenter="enter('-4130356198108348788');" onmouseout="out('-4130356198108348788');" style=""> 239         mReceivers.put(key, dReceiver);                                                                  </span>
<span class="-219297241702885049" onmouseenter="enter('-219297241702885049');" onmouseout="out('-219297241702885049');" style=""> 240         receiver = dReceiver;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 241       } else {                                                                                           </span>
<span class="5923997707724024918" onmouseenter="enter('5923997707724024918');" onmouseout="out('5923997707724024918');" style=""> 242         UploadReceiver uReceiver = new UploadReceiver();                                                 </span>
<span class="2411744074241067672" onmouseenter="enter('2411744074241067672');" onmouseout="out('2411744074241067672');" style=""> 243         uReceiver.targetName = obj.getClass().getName();                                                 </span>
<span class="718222821820673823" onmouseenter="enter('718222821820673823');" onmouseout="out('718222821820673823');" style=""> 244         mReceivers.put(key, uReceiver);                                                                  </span>
<span class="-476655551526278743" onmouseenter="enter('-476655551526278743');" onmouseout="out('-476655551526278743');" style=""> 245         receiver = uReceiver;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247     }                                                                                                    </span>
<span class="3296301902867763772" onmouseenter="enter('3296301902867763772');" onmouseout="out('3296301902867763772');" style=""> 248     return receiver;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249   }                                                                                                      </span>
<span  style=""> 250                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 251   /**                                                                                                    </span>
<span class="-1233550701439668417" onmouseenter="enter('-1233550701439668417');" onmouseout="out('-1233550701439668417');" style=""> 252    * 根据功能类型和控件类型获取对应的key                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 253    */                                                                                                    </span>
<span class="-7951343516890840938" onmouseenter="enter('-7951343516890840938');" onmouseout="out('-7951343516890840938');" style=""> 254   private String getKey(boolean isDownload, Object obj) {                                                </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 255     String clsName = obj.getClass().getName();                                                           </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style=""> 256     String key = &quot;&quot;;                                                                                     </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style=""> 257     if (!(obj instanceof Activity)) {                                                                    </span>
<span class="3665663007821379758" onmouseenter="enter('3665663007821379758');" onmouseout="out('3665663007821379758');" style=""> 258       if (obj instanceof android.support.v4.app.Fragment) {                                              </span>
<span class="-8928518971997553711" onmouseenter="enter('-8928518971997553711');" onmouseout="out('-8928518971997553711');" style=""> 259         key = clsName + &quot;_&quot; + ((Fragment) obj).getActivity().getClass().getName();                       </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style=""> 260       } else if (obj instanceof android.app.Fragment) {                                                  </span>
<span class="-9067997418790635893" onmouseenter="enter('-9067997418790635893');" onmouseout="out('-9067997418790635893');" style=""> 261         key = clsName + &quot;_&quot; + ((android.app.Fragment) obj).getActivity().getClass().getName();           </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style=""> 262       } else if (obj instanceof Dialog) {                                                                </span>
<span class="8930529453155718949" onmouseenter="enter('8930529453155718949');" onmouseout="out('8930529453155718949');" style=""> 263         Activity activity = ((Dialog) obj).getOwnerActivity();                                           </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style=""> 264         if (activity != null) {                                                                          </span>
<span class="-8091323502199846063" onmouseenter="enter('-8091323502199846063');" onmouseout="out('-8091323502199846063');" style=""> 265           key = clsName + &quot;_&quot; + activity.getClass().getName();                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 266         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 267           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268         }                                                                                                </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 269       } else if (obj instanceof PopupWindow) {                                                           </span>
<span class="-4934172626061895362" onmouseenter="enter('-4934172626061895362');" onmouseout="out('-4934172626061895362');" style=""> 270         Context context = ((PopupWindow) obj).getContentView().getContext();                             </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style=""> 271         if (context instanceof Activity) {                                                               </span>
<span class="1384664221299899057" onmouseenter="enter('1384664221299899057');" onmouseout="out('1384664221299899057');" style=""> 272           key = clsName + &quot;_&quot; + context.getClass().getName();                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 273         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 274           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 276 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="2428741809624085810" onmouseenter="enter('2428741809624085810');" onmouseout="out('2428741809624085810');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 277         handlePopupWindowLift((PopupWindow) obj);                                                        </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 278 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="2428741809624085810" onmouseenter="enter('2428741809624085810');" onmouseout="out('2428741809624085810');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279         handlePopupWindowLift((PopupWindow) obj);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280       }                                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281     } else {                                                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282       key = clsName;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283     }                                                                                                    </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284     if (TextUtils.isEmpty(key)) {                                                                        </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285       throw new IllegalArgumentException(&quot;未知类型&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286     }                                                                                                    </span>
<span class="929282866286735943" onmouseenter="enter('929282866286735943');" onmouseout="out('929282866286735943');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287     target = mTargets.get(key);                                                                          </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 288     if (target == null) {                                                                                </span>
<span class="-3938771504002879803" onmouseenter="enter('-3938771504002879803');" onmouseout="out('-3938771504002879803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289       target = new AMReceiver();                                                                         </span>
<span class="3034454791371608914" onmouseenter="enter('3034454791371608914');" onmouseout="out('3034454791371608914');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290       target.targetName = obj.getClass().getName();                                                      </span>
<span class="-6693088934209372420" onmouseenter="enter('-6693088934209372420');" onmouseout="out('-6693088934209372420');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291       mTargets.put(key, target);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 292     }                                                                                                    </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 293     return target;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 294   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 295                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 296   /**                                                                                                    </span>
<span class="6830501028848305260" onmouseenter="enter('6830501028848305260');" onmouseout="out('6830501028848305260');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 297    * 出来悬浮框取消或dismiss                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 298    */                                                                                                    </span>
<span class="-4485450957471086114" onmouseenter="enter('-4485450957471086114');" onmouseout="out('-4485450957471086114');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 299   private void handlePopupWindowLift(PopupWindow popupWindow) {                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 300     try {                                                                                                </span>
<span class="2918763974451262827" onmouseenter="enter('2918763974451262827');" onmouseout="out('2918763974451262827');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 301       Field dismissField = CommonUtil.getField(popupWindow.getClass(), &quot;mOnDismissListener&quot;);            </span>
<span class="-7480193453372757293" onmouseenter="enter('-7480193453372757293');" onmouseout="out('-7480193453372757293');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 302       PopupWindow.OnDismissListener listener =                                                           </span>
<span class="7319022451027576945" onmouseenter="enter('7319022451027576945');" onmouseout="out('7319022451027576945');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 303           (PopupWindow.OnDismissListener) dismissField.get(popupWindow);                                 </span>
<span class="-3279858558674677278" onmouseenter="enter('-3279858558674677278');" onmouseout="out('-3279858558674677278');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 304       if (listener != null) {                                                                            </span>
<span class="3124071213397090429" onmouseenter="enter('3124071213397090429');" onmouseout="out('3124071213397090429');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 305         Log.e(TAG, &quot;你已经对PopupWindow设置了Dismiss事件。为了防止内存泄露，&quot;                                               </span>
<span class="-360310687932381599" onmouseenter="enter('-360310687932381599');" onmouseout="out('-360310687932381599');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 306             + &quot;请在dismiss方法中调用Aria.whit(this).removeSchedulerListener();来注销事件&quot;);                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 307       } else {                                                                                           </span>
<span class="2664127135012846052" onmouseenter="enter('2664127135012846052');" onmouseout="out('2664127135012846052');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 308         popupWindow.setOnDismissListener(createPopupWindowListener(popupWindow));                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 309       }                                                                                                  </span>
<span class="-4283655124212124805" onmouseenter="enter('-4283655124212124805');" onmouseout="out('-4283655124212124805');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 310     } catch (IllegalAccessException e) {                                                                 </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 311       e.printStackTrace();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 312     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 313   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 314                                                                                                          </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 315 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 316 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="2329111926360250357" onmouseenter="enter('2329111926360250357');" onmouseout="out('2329111926360250357');" style=""> 317       } else if (obj instanceof Service) {                                                               </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 318         key = clsName;                                                                                   </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style=""> 319       } else if (obj instanceof Application) {                                                           </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 320         key = clsName;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322     }                                                                                                    </span>
<span class="-5358134719751719871" onmouseenter="enter('-5358134719751719871');" onmouseout="out('-5358134719751719871');" style=""> 323     if (obj instanceof Activity || obj instanceof Service) {                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 324       key = clsName;                                                                                     </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style=""> 325     } else if (obj instanceof Application) {                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 326       key = clsName;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style=""> 328     if (TextUtils.isEmpty(key)) {                                                                        </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style=""> 329       throw new IllegalArgumentException(&quot;未知类型&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330     }                                                                                                    </span>
<span class="-6393949152213902898" onmouseenter="enter('-6393949152213902898');" onmouseout="out('-6393949152213902898');" style=""> 331     key += isDownload ? DOWNLOAD : UPLOAD;                                                               </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 332     return key;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333   }                                                                                                      </span>
<span  style=""> 334                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 335   /**                                                                                                    </span>
<span class="-1193062332527220556" onmouseenter="enter('-1193062332527220556');" onmouseout="out('-1193062332527220556');" style=""> 336    * 注册APP生命周期回调                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 337    */                                                                                                    </span>
<span class="-7276882829591178076" onmouseenter="enter('-7276882829591178076');" onmouseout="out('-7276882829591178076');" style=""> 338   private void regAppLifeCallback(Context context) {                                                     </span>
<span class="-5860383211698895763" onmouseenter="enter('-5860383211698895763');" onmouseout="out('-5860383211698895763');" style=""> 339     Context app = context.getApplicationContext();                                                       </span>
<span class="-143230389421456567" onmouseenter="enter('-143230389421456567');" onmouseout="out('-143230389421456567');" style=""> 340     if (app instanceof Application) {                                                                    </span>
<span class="3368201653594297342" onmouseenter="enter('3368201653594297342');" onmouseout="out('3368201653594297342');" style=""> 341       LifeCallback mLifeCallback = new LifeCallback();                                                   </span>
<span class="7404621546215926441" onmouseenter="enter('7404621546215926441');" onmouseout="out('7404621546215926441');" style=""> 342       ((Application) app).registerActivityLifecycleCallbacks(mLifeCallback);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344   }                                                                                                      </span>
<span  style=""> 345                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 346   /**                                                                                                    </span>
<span class="-3777451988866187591" onmouseenter="enter('-3777451988866187591');" onmouseout="out('-3777451988866187591');" style=""> 347    * onDestroy                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 348    */                                                                                                    </span>
<span class="-8649737653767147572" onmouseenter="enter('-8649737653767147572');" onmouseout="out('-8649737653767147572');" style=""> 349   void destroySchedulerListener(Object obj) {                                                            </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 350     String clsName = obj.getClass().getName();                                                           </span>
<span class="203185961606160293" onmouseenter="enter('203185961606160293');" onmouseout="out('203185961606160293');" style=""> 351     for (Iterator&lt;Map.Entry&lt;String, IReceiver&gt;&gt; iter = mReceivers.entrySet().iterator();                 </span>
<span class="-3526821086551102183" onmouseenter="enter('-3526821086551102183');" onmouseout="out('-3526821086551102183');" style=""> 352         iter.hasNext(); ) {                                                                              </span>
<span class="2302348753204097068" onmouseenter="enter('2302348753204097068');" onmouseout="out('2302348753204097068');" style=""> 353       Map.Entry&lt;String, IReceiver&gt; entry = iter.next();                                                  </span>
<span class="8548346453260565318" onmouseenter="enter('8548346453260565318');" onmouseout="out('8548346453260565318');" style=""> 354       String key = entry.getKey();                                                                       </span>
<span class="-675149513584177898" onmouseenter="enter('-675149513584177898');" onmouseout="out('-675149513584177898');" style=""> 355       if (key.contains(clsName)) {                                                                       </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style=""> 356         IReceiver receiver = mReceivers.get(key);                                                        </span>
<span class="3799717368039523564" onmouseenter="enter('3799717368039523564');" onmouseout="out('3799717368039523564');" style=""> 357         receiver.removeSchedulerListener();                                                              </span>
<span class="-4163790072512613169" onmouseenter="enter('-4163790072512613169');" onmouseout="out('-4163790072512613169');" style=""> 358         receiver.destroy();                                                                              </span>
<span class="6531218048836267679" onmouseenter="enter('6531218048836267679');" onmouseout="out('6531218048836267679');" style=""> 359         iter.remove();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 360         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363   }                                                                                                      </span>
<span  style=""> 364                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 365   /**                                                                                                    </span>
<span class="2666843210936296092" onmouseenter="enter('2666843210936296092');" onmouseout="out('2666843210936296092');" style=""> 366    * Activity生命周期                                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 367    */                                                                                                    </span>
<span class="-3320401662844590351" onmouseenter="enter('-3320401662844590351');" onmouseout="out('-3320401662844590351');" style=""> 368   private class LifeCallback implements Application.ActivityLifecycleCallbacks {                         </span>
<span  style=""> 369                                                                                                          </span>
<span class="-8824223892243959270" onmouseenter="enter('-8824223892243959270');" onmouseout="out('-8824223892243959270');" style=""> 370     @Override public void onActivityCreated(Activity activity, Bundle savedInstanceState) {              </span>
<span  style=""> 371                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372     }                                                                                                    </span>
<span  style=""> 373                                                                                                          </span>
<span class="-9131595778314657590" onmouseenter="enter('-9131595778314657590');" onmouseout="out('-9131595778314657590');" style=""> 374     @Override public void onActivityStarted(Activity activity) {                                         </span>
<span  style=""> 375                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376     }                                                                                                    </span>
<span  style=""> 377                                                                                                          </span>
<span class="8287290169976924777" onmouseenter="enter('8287290169976924777');" onmouseout="out('8287290169976924777');" style=""> 378     @Override public void onActivityResumed(Activity activity) {                                         </span>
<span  style=""> 379                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380     }                                                                                                    </span>
<span  style=""> 381                                                                                                          </span>
<span class="-5909333638620493534" onmouseenter="enter('-5909333638620493534');" onmouseout="out('-5909333638620493534');" style=""> 382     @Override public void onActivityPaused(Activity activity) {                                          </span>
<span  style=""> 383                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384     }                                                                                                    </span>
<span  style=""> 385                                                                                                          </span>
<span class="-3416849681783923013" onmouseenter="enter('-3416849681783923013');" onmouseout="out('-3416849681783923013');" style=""> 386     @Override public void onActivityStopped(Activity activity) {                                         </span>
<span  style=""> 387                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388     }                                                                                                    </span>
<span  style=""> 389                                                                                                          </span>
<span class="-8461483233278460316" onmouseenter="enter('-8461483233278460316');" onmouseout="out('-8461483233278460316');" style=""> 390     @Override public void onActivitySaveInstanceState(Activity activity, Bundle outState) {              </span>
<span  style=""> 391                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392     }                                                                                                    </span>
<span  style=""> 393                                                                                                          </span>
<span class="6621238217641595034" onmouseenter="enter('6621238217641595034');" onmouseout="out('6621238217641595034');" style=""> 394     @Override public void onActivityDestroyed(Activity activity) {                                       </span>
<span class="-7041462001367738884" onmouseenter="enter('-7041462001367738884');" onmouseout="out('-7041462001367738884');" style=""> 395       destroySchedulerListener(activity);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398 }                                                                                                        </span>

























</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="-1067389092621227336" onmouseenter="enter('-1067389092621227336');" onmouseout="out('-1067389092621227336');" style="">  16 package com.arialyy.aria.core;                                                                           </span>
<span  style="">  17                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  18 import android.annotation.SuppressLint;                                                                  </span>
<span class="-6548293536248798364" onmouseenter="enter('-6548293536248798364');" onmouseout="out('-6548293536248798364');" style="">  19 import android.annotation.TargetApi;                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">  20 import android.app.Activity;                                                                             </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  21 import android.app.Application;                                                                          </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">  22 import android.app.Dialog;                                                                               </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  23 import android.app.Service;                                                                              </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  25 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  26 import android.os.Bundle;                                                                                </span>
<span class="1235021250095752497" onmouseenter="enter('1235021250095752497');" onmouseout="out('1235021250095752497');" style="">  27 import android.support.v4.app.Fragment;                                                                  </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  28 import android.text.TextUtils;                                                                           </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  29 import android.util.Log;                                                                                 </span>
<span class="842268080202249770" onmouseenter="enter('842268080202249770');" onmouseout="out('842268080202249770');" style="">  30 import android.widget.PopupWindow;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  31 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-300602512322597155" onmouseenter="enter('-300602512322597155');" onmouseout="out('-300602512322597155');" style="">  32 import com.arialyy.aria.core.download.DownloadReceiver;                                                  </span>
<span class="-477762279452602188" onmouseenter="enter('-477762279452602188');" onmouseout="out('-477762279452602188');" style="">  33 import com.arialyy.aria.core.inf.ICmd;                                                                   </span>
<span class="-7853945460211298347" onmouseenter="enter('-7853945460211298347');" onmouseout="out('-7853945460211298347');" style="">  34 import com.arialyy.aria.core.inf.IReceiver;                                                              </span>
<span class="1325372506799583582" onmouseenter="enter('1325372506799583582');" onmouseout="out('1325372506799583582');" style="">  35 import com.arialyy.aria.core.queue.DownloadTaskQueue;                                                    </span>
<span class="-8259302571631178660" onmouseenter="enter('-8259302571631178660');" onmouseout="out('-8259302571631178660');" style="">  36 import com.arialyy.aria.core.queue.UploadTaskQueue;                                                      </span>
<span class="-8568057864199193858" onmouseenter="enter('-8568057864199193858');" onmouseout="out('-8568057864199193858');" style="">  37 import com.arialyy.aria.core.upload.UploadReceiver;                                                      </span>
<span class="-4499301116755301031" onmouseenter="enter('-4499301116755301031');" onmouseout="out('-4499301116755301031');" style="">  38 import com.arialyy.aria.orm.DbEntity;                                                                    </span>
<span class="-2245626374458165887" onmouseenter="enter('-2245626374458165887');" onmouseout="out('-2245626374458165887');" style="">  39 import com.arialyy.aria.orm.DbUtil;                                                                      </span>
<span class="-3858964084420876286" onmouseenter="enter('-3858964084420876286');" onmouseout="out('-3858964084420876286');" style="">  40 import com.arialyy.aria.util.CAConfiguration;                                                            </span>
<span class="-288495809736068445" onmouseenter="enter('-288495809736068445');" onmouseout="out('-288495809736068445');" style="">  41 import com.arialyy.aria.util.Configuration;                                                              </span>
<span class="-5794394638048144652" onmouseenter="enter('-5794394638048144652');" onmouseout="out('-5794394638048144652');" style="">  42 import com.arialyy.aria.util.Speed;                                                                      </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  43 import java.util.ArrayList;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  44 import java.util.HashMap;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  45 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  46 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  47 import java.util.Map;                                                                                    </span>
<span  style="">  48                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  49 /**                                                                                                      </span>
<span class="5502483616954307706" onmouseenter="enter('5502483616954307706');" onmouseout="out('5502483616954307706');" style="">  50  * Created by lyy on 2016/12/1.                                                                          </span>
<span class="-5925367661426511979" onmouseenter="enter('-5925367661426511979');" onmouseout="out('-5925367661426511979');" style="">  51  * https://github.com/AriaLyy/Aria                                                                       </span>
<span class="7009722916033936917" onmouseenter="enter('7009722916033936917');" onmouseout="out('7009722916033936917');" style="">  52  * Aria管理器，任务操作在这里执行                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  53  */                                                                                                      </span>
<span class="-7048582966604058233" onmouseenter="enter('-7048582966604058233');" onmouseout="out('-7048582966604058233');" style="">  54 @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH) public class AriaManager {                            </span>
<span class="-8206379968703948233" onmouseenter="enter('-8206379968703948233');" onmouseout="out('-8206379968703948233');" style="">  55   private static final String TAG = &quot;AriaManager&quot;;                                                       </span>
<span class="1494039427886270781" onmouseenter="enter('1494039427886270781');" onmouseout="out('1494039427886270781');" style="">  56   private static final String DOWNLOAD = &quot;_download&quot;;                                                    </span>
<span class="3437030952471192382" onmouseenter="enter('3437030952471192382');" onmouseout="out('3437030952471192382');" style="">  57   private static final String UPLOAD = &quot;_upload&quot;;                                                        </span>
<span class="4753550627703968447" onmouseenter="enter('4753550627703968447');" onmouseout="out('4753550627703968447');" style="">  58   private static final Object LOCK = new Object();                                                       </span>
<span class="7388521750517473423" onmouseenter="enter('7388521750517473423');" onmouseout="out('7388521750517473423');" style="">  59   @SuppressLint(&quot;StaticFieldLeak&quot;) private static volatile AriaManager INSTANCE = null;                  </span>
<span class="6698834935164385419" onmouseenter="enter('6698834935164385419');" onmouseout="out('6698834935164385419');" style="">  60   private Map&lt;String, IReceiver&gt; mReceivers = new HashMap&lt;&gt;();                                           </span>
<span class="-585907741994814106" onmouseenter="enter('-585907741994814106');" onmouseout="out('-585907741994814106');" style="">  61   public static Context APP;                                                                             </span>
<span class="-577655190321639879" onmouseenter="enter('-577655190321639879');" onmouseout="out('-577655190321639879');" style="">  62   private List&lt;ICmd&gt; mCommands = new ArrayList&lt;&gt;();                                                      </span>
<span  style="">  63                                                                                                          </span>
<span class="-4078352715504118345" onmouseenter="enter('-4078352715504118345');" onmouseout="out('-4078352715504118345');" style="">  64   private AriaManager(Context context) {                                                                 </span>
<span class="-6302192059918679060" onmouseenter="enter('-6302192059918679060');" onmouseout="out('-6302192059918679060');" style="">  65     DbUtil.init(context.getApplicationContext());                                                        </span>
<span class="-6668974627522766582" onmouseenter="enter('-6668974627522766582');" onmouseout="out('-6668974627522766582');" style="">  66     APP = context.getApplicationContext();                                                               </span>
<span class="-3701928120828201341" onmouseenter="enter('-3701928120828201341');" onmouseout="out('-3701928120828201341');" style="">  67     regAppLifeCallback(context);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68   }                                                                                                      </span>
<span  style="">  69                                                                                                          </span>
<span class="3027871758242519607" onmouseenter="enter('3027871758242519607');" onmouseout="out('3027871758242519607');" style="">  70   public static AriaManager getInstance(Context context) {                                               </span>
<span class="-8097436755426287019" onmouseenter="enter('-8097436755426287019');" onmouseout="out('-8097436755426287019');" style="">  71     if (INSTANCE == null) {                                                                              </span>
<span class="-889825015365812481" onmouseenter="enter('-889825015365812481');" onmouseout="out('-889825015365812481');" style="">  72       synchronized (LOCK) {                                                                              </span>
<span class="7294898164205845440" onmouseenter="enter('7294898164205845440');" onmouseout="out('7294898164205845440');" style="">  73         INSTANCE = new AriaManager(context);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75     }                                                                                                    </span>
<span class="-2388388574337551660" onmouseenter="enter('-2388388574337551660');" onmouseout="out('-2388388574337551660');" style="">  76     return INSTANCE;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77   }                                                                                                      </span>
<span  style="">  78                                                                                                          </span>
<span class="-102354501628257453" onmouseenter="enter('-102354501628257453');" onmouseout="out('-102354501628257453');" style="">  79   public Map&lt;String, IReceiver&gt; getReceiver() {                                                          </span>
<span class="4532026554728945805" onmouseenter="enter('4532026554728945805');" onmouseout="out('4532026554728945805');" style="">  80     return mReceivers;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81   }                                                                                                      </span>
<span  style="">  82                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  83   /**                                                                                                    </span>
<span class="-440811555959535495" onmouseenter="enter('-440811555959535495');" onmouseout="out('-440811555959535495');" style="">  84    * 设置最大下载速度                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  85    */                                                                                                    </span>
<span class="-1648604311019824309" onmouseenter="enter('-1648604311019824309');" onmouseout="out('-1648604311019824309');" style="">  86   public void setMaxSpeed(Speed speed) {                                                                 </span>
<span class="-5296425640905898459" onmouseenter="enter('-5296425640905898459');" onmouseout="out('-5296425640905898459');" style="">  87     Configuration.getInstance().setMaxSpeed(speed);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88   }                                                                                                      </span>
<span  style="">  89                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  90   /**                                                                                                    </span>
<span class="2629693449060804209" onmouseenter="enter('2629693449060804209');" onmouseout="out('2629693449060804209');" style="">  91    * 设置命令                                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  92    */                                                                                                    </span>
<span class="-3799241079208170641" onmouseenter="enter('-3799241079208170641');" onmouseout="out('-3799241079208170641');" style="">  93   public AriaManager setCmd(ICmd command) {                                                              </span>
<span class="53276261188350163" onmouseenter="enter('53276261188350163');" onmouseout="out('53276261188350163');" style="">  94     mCommands.add(command);                                                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="">  95     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96   }                                                                                                      </span>
<span  style="">  97                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  98   /**                                                                                                    </span>
<span class="4888506602275749882" onmouseenter="enter('4888506602275749882');" onmouseout="out('4888506602275749882');" style="">  99    * 设置一组命令                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 100    */                                                                                                    </span>
<span class="7564252120728882288" onmouseenter="enter('7564252120728882288');" onmouseout="out('7564252120728882288');" style=""> 101   public &lt;T extends ICmd&gt; AriaManager setCmds(List&lt;T&gt; commands) {                                        </span>
<span class="4190461692290304844" onmouseenter="enter('4190461692290304844');" onmouseout="out('4190461692290304844');" style=""> 102     if (commands != null &amp;&amp; commands.size() &gt; 0) {                                                       </span>
<span class="-4321543690292920060" onmouseenter="enter('-4321543690292920060');" onmouseout="out('-4321543690292920060');" style=""> 103       mCommands.addAll(commands);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104     }                                                                                                    </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 105     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106   }                                                                                                      </span>
<span  style=""> 107                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 108   /**                                                                                                    </span>
<span class="-4746311571132337810" onmouseenter="enter('-4746311571132337810');" onmouseout="out('-4746311571132337810');" style=""> 109    * 执行所有设置的命令                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 110    */                                                                                                    </span>
<span class="-2664130127237704901" onmouseenter="enter('-2664130127237704901');" onmouseout="out('-2664130127237704901');" style=""> 111   public synchronized void exe() {                                                                       </span>
<span class="-7838710753990697882" onmouseenter="enter('-7838710753990697882');" onmouseout="out('-7838710753990697882');" style=""> 112     for (ICmd command : mCommands) {                                                                     </span>
<span class="-6671516745237350082" onmouseenter="enter('-6671516745237350082');" onmouseout="out('-6671516745237350082');" style=""> 113       command.executeCmd();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span class="-6513034717834234673" onmouseenter="enter('-6513034717834234673');" onmouseout="out('-6513034717834234673');" style=""> 115     mCommands.clear();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116   }                                                                                                      </span>
<span  style=""> 117                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 118   /**                                                                                                    </span>
<span class="-7823536379510091891" onmouseenter="enter('-7823536379510091891');" onmouseout="out('-7823536379510091891');" style=""> 119    * 处理下载操作                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 120    */                                                                                                    </span>
<span class="5691559462441740384" onmouseenter="enter('5691559462441740384');" onmouseout="out('5691559462441740384');" style=""> 121   DownloadReceiver download(Object obj) {                                                                </span>
<span class="-979116389459745375" onmouseenter="enter('-979116389459745375');" onmouseout="out('-979116389459745375');" style=""> 122     IReceiver receiver = mReceivers.get(getKey(true, obj));                                              </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 123     if (receiver == null) {                                                                              </span>
<span class="-1404147057171756128" onmouseenter="enter('-1404147057171756128');" onmouseout="out('-1404147057171756128');" style=""> 124       receiver = putReceiver(true, obj);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125     }                                                                                                    </span>
<span class="-8980864788293598281" onmouseenter="enter('-8980864788293598281');" onmouseout="out('-8980864788293598281');" style=""> 126     return (receiver instanceof DownloadReceiver) ? (DownloadReceiver) receiver : null;                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127   }                                                                                                      </span>
<span  style=""> 128                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 129   /**                                                                                                    </span>
<span class="-6458816092485134154" onmouseenter="enter('-6458816092485134154');" onmouseout="out('-6458816092485134154');" style=""> 130    * 处理上传操作                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 131    */                                                                                                    </span>
<span class="2396106706936506960" onmouseenter="enter('2396106706936506960');" onmouseout="out('2396106706936506960');" style=""> 132   UploadReceiver upload(Object obj) {                                                                    </span>
<span class="9130459084373149884" onmouseenter="enter('9130459084373149884');" onmouseout="out('9130459084373149884');" style=""> 133     IReceiver receiver = mReceivers.get(getKey(false, obj));                                             </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 134     if (receiver == null) {                                                                              </span>
<span class="8236684641557277642" onmouseenter="enter('8236684641557277642');" onmouseout="out('8236684641557277642');" style=""> 135       receiver = putReceiver(false, obj);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136     }                                                                                                    </span>
<span class="-7592329647801128097" onmouseenter="enter('-7592329647801128097');" onmouseout="out('-7592329647801128097');" style=""> 137     return (receiver instanceof UploadReceiver) ? (UploadReceiver) receiver : null;                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138   }                                                                                                      </span>
<span  style=""> 139                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 140   /**                                                                                                    </span>
<span class="3941576587820846937" onmouseenter="enter('3941576587820846937');" onmouseout="out('3941576587820846937');" style=""> 141    * 设置CA证书信息                                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 142    *                                                                                                     </span>
<span class="9087393707178998839" onmouseenter="enter('9087393707178998839');" onmouseout="out('9087393707178998839');" style=""> 143    * @param caAlias ca证书别名                                                                               </span>
<span class="2200710274287933844" onmouseenter="enter('2200710274287933844');" onmouseout="out('2200710274287933844');" style=""> 144    * @param caPath assets 文件夹下的ca证书完整路径                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 145    */                                                                                                    </span>
<span class="6703586708859414908" onmouseenter="enter('6703586708859414908');" onmouseout="out('6703586708859414908');" style=""> 146   public void setCAInfo(String caAlias, String caPath) {                                                 </span>
<span class="-8063303008006988898" onmouseenter="enter('-8063303008006988898');" onmouseout="out('-8063303008006988898');" style=""> 147     if (TextUtils.isEmpty(caAlias)) {                                                                    </span>
<span class="7216823448602210992" onmouseenter="enter('7216823448602210992');" onmouseout="out('7216823448602210992');" style=""> 148       Log.e(TAG, &quot;ca证书别名不能为null&quot;);                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 149       return;                                                                                            </span>
<span class="4576371093208868880" onmouseenter="enter('4576371093208868880');" onmouseout="out('4576371093208868880');" style=""> 150     } else if (TextUtils.isEmpty(caPath)) {                                                              </span>
<span class="4082261192840318453" onmouseenter="enter('4082261192840318453');" onmouseout="out('4082261192840318453');" style=""> 151       Log.e(TAG, &quot;ca证书路径不能为null&quot;);                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 152       return;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153     }                                                                                                    </span>
<span class="-1906777176528799666" onmouseenter="enter('-1906777176528799666');" onmouseout="out('-1906777176528799666');" style=""> 154     CAConfiguration.CA_ALIAS = caAlias;                                                                  </span>
<span class="-6455417151481088782" onmouseenter="enter('-6455417151481088782');" onmouseout="out('-6455417151481088782');" style=""> 155     CAConfiguration.CA_PATH = caPath;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156   }                                                                                                      </span>
<span  style=""> 157                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 158   /**                                                                                                    </span>
<span class="-4223564636250513423" onmouseenter="enter('-4223564636250513423');" onmouseout="out('-4223564636250513423');" style=""> 159    * 设置下载超时时间                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 160    */                                                                                                    </span>
<span class="6023314788617288172" onmouseenter="enter('6023314788617288172');" onmouseout="out('6023314788617288172');" style=""> 161   @Deprecated private AriaManager setTimeOut(int timeOut) {                                              </span>
<span class="887383022917992456" onmouseenter="enter('887383022917992456');" onmouseout="out('887383022917992456');" style=""> 162     Configuration.getInstance().setTimeOut(timeOut);                                                     </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 163     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164   }                                                                                                      </span>
<span  style=""> 165                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 166   /**                                                                                                    </span>
<span class="26223117172997624" onmouseenter="enter('26223117172997624');" onmouseout="out('26223117172997624');" style=""> 167    * 设置失败重试次数                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 168    */                                                                                                    </span>
<span class="-1729144695255254571" onmouseenter="enter('-1729144695255254571');" onmouseout="out('-1729144695255254571');" style=""> 169   public AriaManager setReTryNum(int reTryNum) {                                                         </span>
<span class="6996292559415310783" onmouseenter="enter('6996292559415310783');" onmouseout="out('6996292559415310783');" style=""> 170     Configuration.getInstance().setReTryNum(reTryNum);                                                   </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 171     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172   }                                                                                                      </span>
<span  style=""> 173                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 174   /**                                                                                                    </span>
<span class="8576864729948497616" onmouseenter="enter('8576864729948497616');" onmouseout="out('8576864729948497616');" style=""> 175    * 设置失败重试间隔                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 176    */                                                                                                    </span>
<span class="-700645487763548611" onmouseenter="enter('-700645487763548611');" onmouseout="out('-700645487763548611');" style=""> 177   public AriaManager setReTryInterval(int interval) {                                                    </span>
<span class="681842265895301556" onmouseenter="enter('681842265895301556');" onmouseout="out('681842265895301556');" style=""> 178     Configuration.getInstance().setReTryInterval(interval);                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 179     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180   }                                                                                                      </span>
<span  style=""> 181                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 182   /**                                                                                                    </span>
<span class="-1321367515046951264" onmouseenter="enter('-1321367515046951264');" onmouseout="out('-1321367515046951264');" style=""> 183    * 是否打开下载广播                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 184    */                                                                                                    </span>
<span class="-5513517391419737018" onmouseenter="enter('-5513517391419737018');" onmouseout="out('-5513517391419737018');" style=""> 185   public AriaManager openBroadcast(boolean open) {                                                       </span>
<span class="5206411104396306634" onmouseenter="enter('5206411104396306634');" onmouseout="out('5206411104396306634');" style=""> 186     Configuration.getInstance().setOpenBroadcast(open);                                                  </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 187     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188   }                                                                                                      </span>
<span  style=""> 189                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 190   /**                                                                                                    </span>
<span class="9001034447856185163" onmouseenter="enter('9001034447856185163');" onmouseout="out('9001034447856185163');" style=""> 191    * 设置最大下载数，最大下载数不能小于1                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 192    *                                                                                                     </span>
<span class="-6100601421598697800" onmouseenter="enter('-6100601421598697800');" onmouseout="out('-6100601421598697800');" style=""> 193    * @param maxDownloadNum 最大下载数                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 194    */                                                                                                    </span>
<span class="7038406465530854799" onmouseenter="enter('7038406465530854799');" onmouseout="out('7038406465530854799');" style=""> 195   public AriaManager setMaxDownloadNum(int maxDownloadNum) {                                             </span>
<span class="-3845264930068071777" onmouseenter="enter('-3845264930068071777');" onmouseout="out('-3845264930068071777');" style=""> 196     if (maxDownloadNum &lt; 1) {                                                                            </span>
<span class="5002120668553352863" onmouseenter="enter('5002120668553352863');" onmouseout="out('5002120668553352863');" style=""> 197       Log.w(TAG, &quot;最大任务数不能小于 1&quot;);                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 198       return this;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span class="5538869825066425127" onmouseenter="enter('5538869825066425127');" onmouseout="out('5538869825066425127');" style=""> 200     DownloadTaskQueue.getInstance().setDownloadNum(maxDownloadNum);                                      </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 201     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202   }                                                                                                      </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 203 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-1843796681763782164" onmouseenter="enter('-1843796681763782164');" onmouseout="out('-1843796681763782164');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 204 private AMReceiver putTarget(Object obj) {                                                               </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 205     String clsName = obj.getClass().getName();                                                           </span>
<span class="68917528357141185" onmouseenter="enter('68917528357141185');" onmouseout="out('68917528357141185');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 206     AMReceiver target = null;                                                                            </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 207     String key = &quot;&quot;;                                                                                     </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 208     if (!(obj instanceof Activity)) {                                                                    </span>
<span class="3665663007821379758" onmouseenter="enter('3665663007821379758');" onmouseout="out('3665663007821379758');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 209       if (obj instanceof android.support.v4.app.Fragment) {                                              </span>
<span class="-8928518971997553711" onmouseenter="enter('-8928518971997553711');" onmouseout="out('-8928518971997553711');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 210         key = clsName + &quot;_&quot; + ((Fragment) obj).getActivity().getClass().getName();                       </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 211       } else if (obj instanceof android.app.Fragment) {                                                  </span>
<span class="-9067997418790635893" onmouseenter="enter('-9067997418790635893');" onmouseout="out('-9067997418790635893');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 212         key = clsName + &quot;_&quot; + ((android.app.Fragment) obj).getActivity().getClass().getName();           </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 213       } else if (obj instanceof Dialog) {                                                                </span>
<span class="8930529453155718949" onmouseenter="enter('8930529453155718949');" onmouseout="out('8930529453155718949');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 214         Activity activity = ((Dialog) obj).getOwnerActivity();                                           </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 215         if (activity != null) {                                                                          </span>
<span class="-8091323502199846063" onmouseenter="enter('-8091323502199846063');" onmouseout="out('-8091323502199846063');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 216           key = clsName + &quot;_&quot; + activity.getClass().getName();                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 217         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 218           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 219         }                                                                                                </span>
<span class="-2316672767945393158" onmouseenter="enter('-2316672767945393158');" onmouseout="out('-2316672767945393158');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 220         handleDialogLift((Dialog) obj);                                                                  </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 221       } else if (obj instanceof PopupWindow) {                                                           </span>
<span class="-4934172626061895362" onmouseenter="enter('-4934172626061895362');" onmouseout="out('-4934172626061895362');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 222         Context context = ((PopupWindow) obj).getContentView().getContext();                             </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 223         if (context instanceof Activity) {                                                               </span>
<span class="1384664221299899057" onmouseenter="enter('1384664221299899057');" onmouseout="out('1384664221299899057');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 224           key = clsName + &quot;_&quot; + context.getClass().getName();                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 225         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 226           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 227         }                                                                                                </span>
<span class="2428741809624085810" onmouseenter="enter('2428741809624085810');" onmouseout="out('2428741809624085810');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 228         handlePopupWindowLift((PopupWindow) obj);                                                        </span>
<span class="2329111926360250357" onmouseenter="enter('2329111926360250357');" onmouseout="out('2329111926360250357');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 229       } else if (obj instanceof Service) {                                                               </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 230         key = clsName;                                                                                   </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 231       } else if (obj instanceof Application) {                                                           </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 232         key = clsName;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 233       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 234     }                                                                                                    </span>
<span class="-5358134719751719871" onmouseenter="enter('-5358134719751719871');" onmouseout="out('-5358134719751719871');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 235     if (obj instanceof Activity || obj instanceof Service) {                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 236       key = clsName;                                                                                     </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 237     } else if (obj instanceof Application) {                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 238       key = clsName;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 239     }                                                                                                    </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 240     if (TextUtils.isEmpty(key)) {                                                                        </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 241       throw new IllegalArgumentException(&quot;未知类型&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 242     }                                                                                                    </span>
<span class="929282866286735943" onmouseenter="enter('929282866286735943');" onmouseout="out('929282866286735943');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 243     target = mTargets.get(key);                                                                          </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 244     if (target == null) {                                                                                </span>
<span class="-3938771504002879803" onmouseenter="enter('-3938771504002879803');" onmouseout="out('-3938771504002879803');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 245       target = new AMReceiver();                                                                         </span>
<span class="3034454791371608914" onmouseenter="enter('3034454791371608914');" onmouseout="out('3034454791371608914');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 246       target.targetName = obj.getClass().getName();                                                      </span>
<span class="-6693088934209372420" onmouseenter="enter('-6693088934209372420');" onmouseout="out('-6693088934209372420');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 247       mTargets.put(key, target);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 248     }                                                                                                    </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 249     return target;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 250   }                                                                                                      </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 251 ||||||| BASE                                                                                             </span>
<span class="-1843796681763782164" onmouseenter="enter('-1843796681763782164');" onmouseout="out('-1843796681763782164');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 252 private AMReceiver putTarget(Object obj) {                                                               </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 253     String clsName = obj.getClass().getName();                                                           </span>
<span class="68917528357141185" onmouseenter="enter('68917528357141185');" onmouseout="out('68917528357141185');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 254     AMReceiver target = null;                                                                            </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 255     String key = &quot;&quot;;                                                                                     </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 256     if (!(obj instanceof Activity)) {                                                                    </span>
<span class="3665663007821379758" onmouseenter="enter('3665663007821379758');" onmouseout="out('3665663007821379758');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 257       if (obj instanceof android.support.v4.app.Fragment) {                                              </span>
<span class="-8928518971997553711" onmouseenter="enter('-8928518971997553711');" onmouseout="out('-8928518971997553711');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 258         key = clsName + &quot;_&quot; + ((Fragment) obj).getActivity().getClass().getName();                       </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 259       } else if (obj instanceof android.app.Fragment) {                                                  </span>
<span class="-9067997418790635893" onmouseenter="enter('-9067997418790635893');" onmouseout="out('-9067997418790635893');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 260         key = clsName + &quot;_&quot; + ((android.app.Fragment) obj).getActivity().getClass().getName();           </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 261       } else if (obj instanceof Dialog) {                                                                </span>
<span class="8930529453155718949" onmouseenter="enter('8930529453155718949');" onmouseout="out('8930529453155718949');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 262         Activity activity = ((Dialog) obj).getOwnerActivity();                                           </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 263         if (activity != null) {                                                                          </span>
<span class="-8091323502199846063" onmouseenter="enter('-8091323502199846063');" onmouseout="out('-8091323502199846063');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 264           key = clsName + &quot;_&quot; + activity.getClass().getName();                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 265         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 266           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 267         }                                                                                                </span>
<span class="-2316672767945393158" onmouseenter="enter('-2316672767945393158');" onmouseout="out('-2316672767945393158');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 268         handleDialogLift((Dialog) obj);                                                                  </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 269       } else if (obj instanceof PopupWindow) {                                                           </span>
<span class="-4934172626061895362" onmouseenter="enter('-4934172626061895362');" onmouseout="out('-4934172626061895362');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 270         Context context = ((PopupWindow) obj).getContentView().getContext();                             </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 271         if (context instanceof Activity) {                                                               </span>
<span class="1384664221299899057" onmouseenter="enter('1384664221299899057');" onmouseout="out('1384664221299899057');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 272           key = clsName + &quot;_&quot; + context.getClass().getName();                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 273         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 274           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 275         }                                                                                                </span>
<span class="2428741809624085810" onmouseenter="enter('2428741809624085810');" onmouseout="out('2428741809624085810');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 276         handlePopupWindowLift((PopupWindow) obj);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 277       }                                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 278     } else {                                                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279       key = clsName;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280     }                                                                                                    </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281     if (TextUtils.isEmpty(key)) {                                                                        </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282       throw new IllegalArgumentException(&quot;未知类型&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283     }                                                                                                    </span>
<span class="929282866286735943" onmouseenter="enter('929282866286735943');" onmouseout="out('929282866286735943');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284     target = mTargets.get(key);                                                                          </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285     if (target == null) {                                                                                </span>
<span class="-3938771504002879803" onmouseenter="enter('-3938771504002879803');" onmouseout="out('-3938771504002879803');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286       target = new AMReceiver();                                                                         </span>
<span class="3034454791371608914" onmouseenter="enter('3034454791371608914');" onmouseout="out('3034454791371608914');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287       target.targetName = obj.getClass().getName();                                                      </span>
<span class="-6693088934209372420" onmouseenter="enter('-6693088934209372420');" onmouseout="out('-6693088934209372420');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 288       mTargets.put(key, target);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289     }                                                                                                    </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290     return target;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291   }                                                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 292 =======                                                                                                  </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 293 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 294                                                                                                          </span>
<span  style=""> 295                                                                                                          </span>
<span class="2001576302894045654" onmouseenter="enter('2001576302894045654');" onmouseout="out('2001576302894045654');" style=""> 296   private IReceiver putReceiver(boolean isDownload, Object obj) {                                        </span>
<span class="-5543985760673599761" onmouseenter="enter('-5543985760673599761');" onmouseout="out('-5543985760673599761');" style=""> 297     final String key = getKey(isDownload, obj);                                                          </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style=""> 298     IReceiver receiver = mReceivers.get(key);                                                            </span>
<span class="-5808849449143451772" onmouseenter="enter('-5808849449143451772');" onmouseout="out('-5808849449143451772');" style=""> 299     final WidgetLiftManager widgetLiftManager = new WidgetLiftManager();                                 </span>
<span class="8820860652965287654" onmouseenter="enter('8820860652965287654');" onmouseout="out('8820860652965287654');" style=""> 300     if (obj instanceof Dialog) {                                                                         </span>
<span class="7824310486161715846" onmouseenter="enter('7824310486161715846');" onmouseout="out('7824310486161715846');" style=""> 301       widgetLiftManager.handleDialogLift((Dialog) obj);                                                  </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 302     } else if (obj instanceof PopupWindow) {                                                             </span>
<span class="-5050725901727100191" onmouseenter="enter('-5050725901727100191');" onmouseout="out('-5050725901727100191');" style=""> 303       widgetLiftManager.handlePopupWindowLift((PopupWindow) obj);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304     }                                                                                                    </span>
<span  style=""> 305                                                                                                          </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 306     if (receiver == null) {                                                                              </span>
<span class="-4596264186346273273" onmouseenter="enter('-4596264186346273273');" onmouseout="out('-4596264186346273273');" style=""> 307       if (isDownload) {                                                                                  </span>
<span class="6995088344462882958" onmouseenter="enter('6995088344462882958');" onmouseout="out('6995088344462882958');" style=""> 308         DownloadReceiver dReceiver = new DownloadReceiver();                                             </span>
<span class="-8406939338705809680" onmouseenter="enter('-8406939338705809680');" onmouseout="out('-8406939338705809680');" style=""> 309         dReceiver.targetName = obj.getClass().getName();                                                 </span>
<span class="-4130356198108348788" onmouseenter="enter('-4130356198108348788');" onmouseout="out('-4130356198108348788');" style=""> 310         mReceivers.put(key, dReceiver);                                                                  </span>
<span class="-219297241702885049" onmouseenter="enter('-219297241702885049');" onmouseout="out('-219297241702885049');" style=""> 311         receiver = dReceiver;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 312       } else {                                                                                           </span>
<span class="5923997707724024918" onmouseenter="enter('5923997707724024918');" onmouseout="out('5923997707724024918');" style=""> 313         UploadReceiver uReceiver = new UploadReceiver();                                                 </span>
<span class="2411744074241067672" onmouseenter="enter('2411744074241067672');" onmouseout="out('2411744074241067672');" style=""> 314         uReceiver.targetName = obj.getClass().getName();                                                 </span>
<span class="718222821820673823" onmouseenter="enter('718222821820673823');" onmouseout="out('718222821820673823');" style=""> 315         mReceivers.put(key, uReceiver);                                                                  </span>
<span class="-476655551526278743" onmouseenter="enter('-476655551526278743');" onmouseout="out('-476655551526278743');" style=""> 316         receiver = uReceiver;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318     }                                                                                                    </span>
<span class="3296301902867763772" onmouseenter="enter('3296301902867763772');" onmouseout="out('3296301902867763772');" style=""> 319     return receiver;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320   }                                                                                                      </span>
<span  style=""> 321                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 322   /**                                                                                                    </span>
<span class="-1233550701439668417" onmouseenter="enter('-1233550701439668417');" onmouseout="out('-1233550701439668417');" style=""> 323    * 根据功能类型和控件类型获取对应的key                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 324    */                                                                                                    </span>
<span class="-7951343516890840938" onmouseenter="enter('-7951343516890840938');" onmouseout="out('-7951343516890840938');" style=""> 325   private String getKey(boolean isDownload, Object obj) {                                                </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 326     String clsName = obj.getClass().getName();                                                           </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style=""> 327     String key = &quot;&quot;;                                                                                     </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style=""> 328     if (!(obj instanceof Activity)) {                                                                    </span>
<span class="3665663007821379758" onmouseenter="enter('3665663007821379758');" onmouseout="out('3665663007821379758');" style=""> 329       if (obj instanceof android.support.v4.app.Fragment) {                                              </span>
<span class="-8928518971997553711" onmouseenter="enter('-8928518971997553711');" onmouseout="out('-8928518971997553711');" style=""> 330         key = clsName + &quot;_&quot; + ((Fragment) obj).getActivity().getClass().getName();                       </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style=""> 331       } else if (obj instanceof android.app.Fragment) {                                                  </span>
<span class="-9067997418790635893" onmouseenter="enter('-9067997418790635893');" onmouseout="out('-9067997418790635893');" style=""> 332         key = clsName + &quot;_&quot; + ((android.app.Fragment) obj).getActivity().getClass().getName();           </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style=""> 333       } else if (obj instanceof Dialog) {                                                                </span>
<span class="8930529453155718949" onmouseenter="enter('8930529453155718949');" onmouseout="out('8930529453155718949');" style=""> 334         Activity activity = ((Dialog) obj).getOwnerActivity();                                           </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style=""> 335         if (activity != null) {                                                                          </span>
<span class="-8091323502199846063" onmouseenter="enter('-8091323502199846063');" onmouseout="out('-8091323502199846063');" style=""> 336           key = clsName + &quot;_&quot; + activity.getClass().getName();                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 337         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 338           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339         }                                                                                                </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 340       } else if (obj instanceof PopupWindow) {                                                           </span>
<span class="-4934172626061895362" onmouseenter="enter('-4934172626061895362');" onmouseout="out('-4934172626061895362');" style=""> 341         Context context = ((PopupWindow) obj).getContentView().getContext();                             </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style=""> 342         if (context instanceof Activity) {                                                               </span>
<span class="1384664221299899057" onmouseenter="enter('1384664221299899057');" onmouseout="out('1384664221299899057');" style=""> 343           key = clsName + &quot;_&quot; + context.getClass().getName();                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 344         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 345           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346         }                                                                                                </span>
<span class="2329111926360250357" onmouseenter="enter('2329111926360250357');" onmouseout="out('2329111926360250357');" style=""> 347       } else if (obj instanceof Service) {                                                               </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 348         key = clsName;                                                                                   </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style=""> 349       } else if (obj instanceof Application) {                                                           </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 350         key = clsName;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351       }                                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 352     } else {                                                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 353       key = clsName;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354     }                                                                                                    </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style=""> 355     if (TextUtils.isEmpty(key)) {                                                                        </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style=""> 356       throw new IllegalArgumentException(&quot;未知类型&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357     }                                                                                                    </span>
<span class="-6393949152213902898" onmouseenter="enter('-6393949152213902898');" onmouseout="out('-6393949152213902898');" style=""> 358     key += isDownload ? DOWNLOAD : UPLOAD;                                                               </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 359     return key;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360   }                                                                                                      </span>
<span  style=""> 361                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 362   /**                                                                                                    </span>
<span class="-1193062332527220556" onmouseenter="enter('-1193062332527220556');" onmouseout="out('-1193062332527220556');" style=""> 363    * 注册APP生命周期回调                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 364    */                                                                                                    </span>
<span class="-7276882829591178076" onmouseenter="enter('-7276882829591178076');" onmouseout="out('-7276882829591178076');" style=""> 365   private void regAppLifeCallback(Context context) {                                                     </span>
<span class="-5860383211698895763" onmouseenter="enter('-5860383211698895763');" onmouseout="out('-5860383211698895763');" style=""> 366     Context app = context.getApplicationContext();                                                       </span>
<span class="-143230389421456567" onmouseenter="enter('-143230389421456567');" onmouseout="out('-143230389421456567');" style=""> 367     if (app instanceof Application) {                                                                    </span>
<span class="3368201653594297342" onmouseenter="enter('3368201653594297342');" onmouseout="out('3368201653594297342');" style=""> 368       LifeCallback mLifeCallback = new LifeCallback();                                                   </span>
<span class="7404621546215926441" onmouseenter="enter('7404621546215926441');" onmouseout="out('7404621546215926441');" style=""> 369       ((Application) app).registerActivityLifecycleCallbacks(mLifeCallback);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371   }                                                                                                      </span>
<span  style=""> 372                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 373   /**                                                                                                    </span>
<span class="-3777451988866187591" onmouseenter="enter('-3777451988866187591');" onmouseout="out('-3777451988866187591');" style=""> 374    * onDestroy                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 375    */                                                                                                    </span>
<span class="-8649737653767147572" onmouseenter="enter('-8649737653767147572');" onmouseout="out('-8649737653767147572');" style=""> 376   void destroySchedulerListener(Object obj) {                                                            </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 377     String clsName = obj.getClass().getName();                                                           </span>
<span class="203185961606160293" onmouseenter="enter('203185961606160293');" onmouseout="out('203185961606160293');" style=""> 378     for (Iterator&lt;Map.Entry&lt;String, IReceiver&gt;&gt; iter = mReceivers.entrySet().iterator();                 </span>
<span class="-3526821086551102183" onmouseenter="enter('-3526821086551102183');" onmouseout="out('-3526821086551102183');" style=""> 379         iter.hasNext(); ) {                                                                              </span>
<span class="2302348753204097068" onmouseenter="enter('2302348753204097068');" onmouseout="out('2302348753204097068');" style=""> 380       Map.Entry&lt;String, IReceiver&gt; entry = iter.next();                                                  </span>
<span class="8548346453260565318" onmouseenter="enter('8548346453260565318');" onmouseout="out('8548346453260565318');" style=""> 381       String key = entry.getKey();                                                                       </span>
<span class="-675149513584177898" onmouseenter="enter('-675149513584177898');" onmouseout="out('-675149513584177898');" style=""> 382       if (key.contains(clsName)) {                                                                       </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style=""> 383         IReceiver receiver = mReceivers.get(key);                                                        </span>
<span class="3799717368039523564" onmouseenter="enter('3799717368039523564');" onmouseout="out('3799717368039523564');" style=""> 384         receiver.removeSchedulerListener();                                                              </span>
<span class="-4163790072512613169" onmouseenter="enter('-4163790072512613169');" onmouseout="out('-4163790072512613169');" style=""> 385         receiver.destroy();                                                                              </span>
<span class="6531218048836267679" onmouseenter="enter('6531218048836267679');" onmouseout="out('6531218048836267679');" style=""> 386         iter.remove();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 387         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 389     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390   }                                                                                                      </span>
<span  style=""> 391                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 392   /**                                                                                                    </span>
<span class="2666843210936296092" onmouseenter="enter('2666843210936296092');" onmouseout="out('2666843210936296092');" style=""> 393    * Activity生命周期                                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 394    */                                                                                                    </span>
<span class="-3320401662844590351" onmouseenter="enter('-3320401662844590351');" onmouseout="out('-3320401662844590351');" style=""> 395   private class LifeCallback implements Application.ActivityLifecycleCallbacks {                         </span>
<span  style=""> 396                                                                                                          </span>
<span class="-8824223892243959270" onmouseenter="enter('-8824223892243959270');" onmouseout="out('-8824223892243959270');" style=""> 397     @Override public void onActivityCreated(Activity activity, Bundle savedInstanceState) {              </span>
<span  style=""> 398                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399     }                                                                                                    </span>
<span  style=""> 400                                                                                                          </span>
<span class="-9131595778314657590" onmouseenter="enter('-9131595778314657590');" onmouseout="out('-9131595778314657590');" style=""> 401     @Override public void onActivityStarted(Activity activity) {                                         </span>
<span  style=""> 402                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403     }                                                                                                    </span>
<span  style=""> 404                                                                                                          </span>
<span class="8287290169976924777" onmouseenter="enter('8287290169976924777');" onmouseout="out('8287290169976924777');" style=""> 405     @Override public void onActivityResumed(Activity activity) {                                         </span>
<span  style=""> 406                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407     }                                                                                                    </span>
<span  style=""> 408                                                                                                          </span>
<span class="-5909333638620493534" onmouseenter="enter('-5909333638620493534');" onmouseout="out('-5909333638620493534');" style=""> 409     @Override public void onActivityPaused(Activity activity) {                                          </span>
<span  style=""> 410                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411     }                                                                                                    </span>
<span  style=""> 412                                                                                                          </span>
<span class="-3416849681783923013" onmouseenter="enter('-3416849681783923013');" onmouseout="out('-3416849681783923013');" style=""> 413     @Override public void onActivityStopped(Activity activity) {                                         </span>
<span  style=""> 414                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415     }                                                                                                    </span>
<span  style=""> 416                                                                                                          </span>
<span class="-8461483233278460316" onmouseenter="enter('-8461483233278460316');" onmouseout="out('-8461483233278460316');" style=""> 417     @Override public void onActivitySaveInstanceState(Activity activity, Bundle outState) {              </span>
<span  style=""> 418                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419     }                                                                                                    </span>
<span  style=""> 420                                                                                                          </span>
<span class="6621238217641595034" onmouseenter="enter('6621238217641595034');" onmouseout="out('6621238217641595034');" style=""> 421     @Override public void onActivityDestroyed(Activity activity) {                                       </span>
<span class="-7041462001367738884" onmouseenter="enter('-7041462001367738884');" onmouseout="out('-7041462001367738884');" style=""> 422       destroySchedulerListener(activity);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="-1067389092621227336" onmouseenter="enter('-1067389092621227336');" onmouseout="out('-1067389092621227336');" style="">  16 package com.arialyy.aria.core;                                                                           </span>
<span  style="">  17                                                                                                          </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="">  18 import android.annotation.SuppressLint;                                                                  </span>
<span class="-6548293536248798364" onmouseenter="enter('-6548293536248798364');" onmouseout="out('-6548293536248798364');" style="">  19 import android.annotation.TargetApi;                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">  20 import android.app.Activity;                                                                             </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  21 import android.app.Application;                                                                          </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">  22 import android.app.Dialog;                                                                               </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  23 import android.app.Service;                                                                              </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  25 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  26 import android.os.Bundle;                                                                                </span>
<span class="1235021250095752497" onmouseenter="enter('1235021250095752497');" onmouseout="out('1235021250095752497');" style="">  27 import android.support.v4.app.Fragment;                                                                  </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  28 import android.text.TextUtils;                                                                           </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  29 import android.util.Log;                                                                                 </span>
<span class="842268080202249770" onmouseenter="enter('842268080202249770');" onmouseout="out('842268080202249770');" style="">  30 import android.widget.PopupWindow;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  31 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-300602512322597155" onmouseenter="enter('-300602512322597155');" onmouseout="out('-300602512322597155');" style="">  32 import com.arialyy.aria.core.download.DownloadReceiver;                                                  </span>
<span class="-477762279452602188" onmouseenter="enter('-477762279452602188');" onmouseout="out('-477762279452602188');" style="">  33 import com.arialyy.aria.core.inf.ICmd;                                                                   </span>
<span class="-7853945460211298347" onmouseenter="enter('-7853945460211298347');" onmouseout="out('-7853945460211298347');" style="">  34 import com.arialyy.aria.core.inf.IReceiver;                                                              </span>
<span class="1325372506799583582" onmouseenter="enter('1325372506799583582');" onmouseout="out('1325372506799583582');" style="">  35 import com.arialyy.aria.core.queue.DownloadTaskQueue;                                                    </span>
<span class="-8259302571631178660" onmouseenter="enter('-8259302571631178660');" onmouseout="out('-8259302571631178660');" style="">  36 import com.arialyy.aria.core.queue.UploadTaskQueue;                                                      </span>
<span class="-8568057864199193858" onmouseenter="enter('-8568057864199193858');" onmouseout="out('-8568057864199193858');" style="">  37 import com.arialyy.aria.core.upload.UploadReceiver;                                                      </span>
<span class="-4499301116755301031" onmouseenter="enter('-4499301116755301031');" onmouseout="out('-4499301116755301031');" style="">  38 import com.arialyy.aria.orm.DbEntity;                                                                    </span>
<span class="-2245626374458165887" onmouseenter="enter('-2245626374458165887');" onmouseout="out('-2245626374458165887');" style="">  39 import com.arialyy.aria.orm.DbUtil;                                                                      </span>
<span class="-3858964084420876286" onmouseenter="enter('-3858964084420876286');" onmouseout="out('-3858964084420876286');" style="">  40 import com.arialyy.aria.util.CAConfiguration;                                                            </span>
<span class="-288495809736068445" onmouseenter="enter('-288495809736068445');" onmouseout="out('-288495809736068445');" style="">  41 import com.arialyy.aria.util.Configuration;                                                              </span>
<span class="-5794394638048144652" onmouseenter="enter('-5794394638048144652');" onmouseout="out('-5794394638048144652');" style="">  42 import com.arialyy.aria.util.Speed;                                                                      </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  43 import java.util.ArrayList;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  44 import java.util.HashMap;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  45 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  46 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  47 import java.util.Map;                                                                                    </span>
<span  style="">  48                                                                                                          </span>
<span  style="">  49                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  50 /**                                                                                                      </span>
<span class="5502483616954307706" onmouseenter="enter('5502483616954307706');" onmouseout="out('5502483616954307706');" style="">  51  * Created by lyy on 2016/12/1.                                                                          </span>
<span class="-5925367661426511979" onmouseenter="enter('-5925367661426511979');" onmouseout="out('-5925367661426511979');" style="">  52  * https://github.com/AriaLyy/Aria                                                                       </span>
<span class="7009722916033936917" onmouseenter="enter('7009722916033936917');" onmouseout="out('7009722916033936917');" style="">  53  * Aria管理器，任务操作在这里执行                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  54  */                                                                                                      </span>
<span class="-2174293445603278384" onmouseenter="enter('-2174293445603278384');" onmouseout="out('-2174293445603278384');" style="">  55 @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)                                                       </span>
<span class="892878671161342681" onmouseenter="enter('892878671161342681');" onmouseout="out('892878671161342681');" style="">  56 public class AriaManager {                                                                               </span>
<span class="-8206379968703948233" onmouseenter="enter('-8206379968703948233');" onmouseout="out('-8206379968703948233');" style="">  57   private static final String TAG = &quot;AriaManager&quot;;                                                       </span>
<span  style="">  58                                                                                                          </span>
<span class="1494039427886270781" onmouseenter="enter('1494039427886270781');" onmouseout="out('1494039427886270781');" style="">  59   private static final String DOWNLOAD = &quot;_download&quot;;                                                    </span>
<span  style="">  60                                                                                                          </span>
<span class="3437030952471192382" onmouseenter="enter('3437030952471192382');" onmouseout="out('3437030952471192382');" style="">  61   private static final String UPLOAD = &quot;_upload&quot;;                                                        </span>
<span  style="">  62                                                                                                          </span>
<span class="4753550627703968447" onmouseenter="enter('4753550627703968447');" onmouseout="out('4753550627703968447');" style="">  63   private static final Object LOCK = new Object();                                                       </span>
<span  style="">  64                                                                                                          </span>
<span class="-1763089954528142034" onmouseenter="enter('-1763089954528142034');" onmouseout="out('-1763089954528142034');" style="">  65   @SuppressLint(&quot;StaticFieldLeak&quot;)                                                                       </span>
<span class="-8813034948263309061" onmouseenter="enter('-8813034948263309061');" onmouseout="out('-8813034948263309061');" style="">  66   private static volatile AriaManager INSTANCE = null;                                                   </span>
<span  style="">  67                                                                                                          </span>
<span class="6698834935164385419" onmouseenter="enter('6698834935164385419');" onmouseout="out('6698834935164385419');" style="">  68   private Map&lt;String, IReceiver&gt; mReceivers = new HashMap&lt;&gt;();                                           </span>
<span  style="">  69                                                                                                          </span>
<span class="-585907741994814106" onmouseenter="enter('-585907741994814106');" onmouseout="out('-585907741994814106');" style="">  70   public static Context APP;                                                                             </span>
<span  style="">  71                                                                                                          </span>
<span class="-577655190321639879" onmouseenter="enter('-577655190321639879');" onmouseout="out('-577655190321639879');" style="">  72   private List&lt;ICmd&gt; mCommands = new ArrayList&lt;&gt;();                                                      </span>
<span  style="">  73                                                                                                          </span>
<span class="-4078352715504118345" onmouseenter="enter('-4078352715504118345');" onmouseout="out('-4078352715504118345');" style="">  74   private AriaManager(Context context) {                                                                 </span>
<span class="-6302192059918679060" onmouseenter="enter('-6302192059918679060');" onmouseout="out('-6302192059918679060');" style="">  75     DbUtil.init(context.getApplicationContext());                                                        </span>
<span class="-6668974627522766582" onmouseenter="enter('-6668974627522766582');" onmouseout="out('-6668974627522766582');" style="">  76     APP = context.getApplicationContext();                                                               </span>
<span class="-3701928120828201341" onmouseenter="enter('-3701928120828201341');" onmouseout="out('-3701928120828201341');" style="">  77     regAppLifeCallback(context);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78   }                                                                                                      </span>
<span  style="">  79                                                                                                          </span>
<span class="3027871758242519607" onmouseenter="enter('3027871758242519607');" onmouseout="out('3027871758242519607');" style="">  80   public static AriaManager getInstance(Context context) {                                               </span>
<span class="-8097436755426287019" onmouseenter="enter('-8097436755426287019');" onmouseout="out('-8097436755426287019');" style="">  81     if (INSTANCE == null) {                                                                              </span>
<span class="4449625572507483553" onmouseenter="enter('4449625572507483553');" onmouseout="out('4449625572507483553');" style="">  82       synchronized(LOCK) {                                                                               </span>
<span class="7294898164205845440" onmouseenter="enter('7294898164205845440');" onmouseout="out('7294898164205845440');" style="">  83         INSTANCE = new AriaManager(context);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85     }                                                                                                    </span>
<span class="-2388388574337551660" onmouseenter="enter('-2388388574337551660');" onmouseout="out('-2388388574337551660');" style="">  86     return INSTANCE;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87   }                                                                                                      </span>
<span  style="">  88                                                                                                          </span>
<span class="-102354501628257453" onmouseenter="enter('-102354501628257453');" onmouseout="out('-102354501628257453');" style="">  89   public Map&lt;String, IReceiver&gt; getReceiver() {                                                          </span>
<span class="4532026554728945805" onmouseenter="enter('4532026554728945805');" onmouseout="out('4532026554728945805');" style="">  90     return mReceivers;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91   }                                                                                                      </span>
<span  style="">  92                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  93   /**                                                                                                    </span>
<span class="-440811555959535495" onmouseenter="enter('-440811555959535495');" onmouseout="out('-440811555959535495');" style="">  94    * 设置最大下载速度                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  95    */                                                                                                    </span>
<span class="-1648604311019824309" onmouseenter="enter('-1648604311019824309');" onmouseout="out('-1648604311019824309');" style="">  96   public void setMaxSpeed(Speed speed) {                                                                 </span>
<span class="-5296425640905898459" onmouseenter="enter('-5296425640905898459');" onmouseout="out('-5296425640905898459');" style="">  97     Configuration.getInstance().setMaxSpeed(speed);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98   }                                                                                                      </span>
<span  style="">  99                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 100   /**                                                                                                    </span>
<span class="2629693449060804209" onmouseenter="enter('2629693449060804209');" onmouseout="out('2629693449060804209');" style=""> 101    * 设置命令                                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 102    */                                                                                                    </span>
<span class="-3799241079208170641" onmouseenter="enter('-3799241079208170641');" onmouseout="out('-3799241079208170641');" style=""> 103   public AriaManager setCmd(ICmd command) {                                                              </span>
<span class="53276261188350163" onmouseenter="enter('53276261188350163');" onmouseout="out('53276261188350163');" style=""> 104     mCommands.add(command);                                                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 105     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106   }                                                                                                      </span>
<span  style=""> 107                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 108   /**                                                                                                    </span>
<span class="4888506602275749882" onmouseenter="enter('4888506602275749882');" onmouseout="out('4888506602275749882');" style=""> 109    * 设置一组命令                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 110    */                                                                                                    </span>
<span class="7564252120728882288" onmouseenter="enter('7564252120728882288');" onmouseout="out('7564252120728882288');" style=""> 111   public &lt;T extends ICmd&gt; AriaManager setCmds(List&lt;T&gt; commands) {                                        </span>
<span class="-4248266644031509151" onmouseenter="enter('-4248266644031509151');" onmouseout="out('-4248266644031509151');" style=""> 112     if ((commands != null) &amp;&amp; (commands.size() &gt; 0)) {                                                   </span>
<span class="-4321543690292920060" onmouseenter="enter('-4321543690292920060');" onmouseout="out('-4321543690292920060');" style=""> 113       mCommands.addAll(commands);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 115     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116   }                                                                                                      </span>
<span  style=""> 117                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 118   /**                                                                                                    </span>
<span class="-4746311571132337810" onmouseenter="enter('-4746311571132337810');" onmouseout="out('-4746311571132337810');" style=""> 119    * 执行所有设置的命令                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 120    */                                                                                                    </span>
<span class="-2664130127237704901" onmouseenter="enter('-2664130127237704901');" onmouseout="out('-2664130127237704901');" style=""> 121   public synchronized void exe() {                                                                       </span>
<span class="-7838710753990697882" onmouseenter="enter('-7838710753990697882');" onmouseout="out('-7838710753990697882');" style=""> 122     for (ICmd command : mCommands) {                                                                     </span>
<span class="-6671516745237350082" onmouseenter="enter('-6671516745237350082');" onmouseout="out('-6671516745237350082');" style=""> 123       command.executeCmd();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124     }                                                                                                    </span>
<span class="-6513034717834234673" onmouseenter="enter('-6513034717834234673');" onmouseout="out('-6513034717834234673');" style=""> 125     mCommands.clear();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126   }                                                                                                      </span>
<span  style=""> 127                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 128   /**                                                                                                    </span>
<span class="-7823536379510091891" onmouseenter="enter('-7823536379510091891');" onmouseout="out('-7823536379510091891');" style=""> 129    * 处理下载操作                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 130    */                                                                                                    </span>
<span class="5691559462441740384" onmouseenter="enter('5691559462441740384');" onmouseout="out('5691559462441740384');" style=""> 131   DownloadReceiver download(Object obj) {                                                                </span>
<span class="-979116389459745375" onmouseenter="enter('-979116389459745375');" onmouseout="out('-979116389459745375');" style=""> 132     IReceiver receiver = mReceivers.get(getKey(true, obj));                                              </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 133     if (receiver == null) {                                                                              </span>
<span class="-1404147057171756128" onmouseenter="enter('-1404147057171756128');" onmouseout="out('-1404147057171756128');" style=""> 134       receiver = putReceiver(true, obj);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135     }                                                                                                    </span>
<span class="4133631899045776315" onmouseenter="enter('4133631899045776315');" onmouseout="out('4133631899045776315');" style=""> 136     return receiver instanceof DownloadReceiver ? ((DownloadReceiver) (receiver)) : null;                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137   }                                                                                                      </span>
<span  style=""> 138                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 139   /**                                                                                                    </span>
<span class="-6458816092485134154" onmouseenter="enter('-6458816092485134154');" onmouseout="out('-6458816092485134154');" style=""> 140    * 处理上传操作                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 141    */                                                                                                    </span>
<span class="2396106706936506960" onmouseenter="enter('2396106706936506960');" onmouseout="out('2396106706936506960');" style=""> 142   UploadReceiver upload(Object obj) {                                                                    </span>
<span class="9130459084373149884" onmouseenter="enter('9130459084373149884');" onmouseout="out('9130459084373149884');" style=""> 143     IReceiver receiver = mReceivers.get(getKey(false, obj));                                             </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 144     if (receiver == null) {                                                                              </span>
<span class="8236684641557277642" onmouseenter="enter('8236684641557277642');" onmouseout="out('8236684641557277642');" style=""> 145       receiver = putReceiver(false, obj);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span class="370015517920582457" onmouseenter="enter('370015517920582457');" onmouseout="out('370015517920582457');" style=""> 147     return receiver instanceof UploadReceiver ? ((UploadReceiver) (receiver)) : null;                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148   }                                                                                                      </span>
<span  style=""> 149                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 150   /**                                                                                                    </span>
<span class="3941576587820846937" onmouseenter="enter('3941576587820846937');" onmouseout="out('3941576587820846937');" style=""> 151    * 设置CA证书信息                                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 152    *                                                                                                     </span>
<span class="9087393707178998839" onmouseenter="enter('9087393707178998839');" onmouseout="out('9087393707178998839');" style=""> 153    * @param caAlias ca证书别名                                                                               </span>
<span class="2200710274287933844" onmouseenter="enter('2200710274287933844');" onmouseout="out('2200710274287933844');" style=""> 154    * @param caPath assets 文件夹下的ca证书完整路径                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 155    */                                                                                                    </span>
<span class="6703586708859414908" onmouseenter="enter('6703586708859414908');" onmouseout="out('6703586708859414908');" style=""> 156   public void setCAInfo(String caAlias, String caPath) {                                                 </span>
<span class="-8063303008006988898" onmouseenter="enter('-8063303008006988898');" onmouseout="out('-8063303008006988898');" style=""> 157     if (TextUtils.isEmpty(caAlias)) {                                                                    </span>
<span class="7216823448602210992" onmouseenter="enter('7216823448602210992');" onmouseout="out('7216823448602210992');" style=""> 158       Log.e(TAG, &quot;ca证书别名不能为null&quot;);                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 159       return;                                                                                            </span>
<span class="4576371093208868880" onmouseenter="enter('4576371093208868880');" onmouseout="out('4576371093208868880');" style=""> 160     } else if (TextUtils.isEmpty(caPath)) {                                                              </span>
<span class="4082261192840318453" onmouseenter="enter('4082261192840318453');" onmouseout="out('4082261192840318453');" style=""> 161       Log.e(TAG, &quot;ca证书路径不能为null&quot;);                                                                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 162       return;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span class="-1906777176528799666" onmouseenter="enter('-1906777176528799666');" onmouseout="out('-1906777176528799666');" style=""> 164     CAConfiguration.CA_ALIAS = caAlias;                                                                  </span>
<span class="-6455417151481088782" onmouseenter="enter('-6455417151481088782');" onmouseout="out('-6455417151481088782');" style=""> 165     CAConfiguration.CA_PATH = caPath;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166   }                                                                                                      </span>
<span  style=""> 167                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 168   /**                                                                                                    </span>
<span class="-4223564636250513423" onmouseenter="enter('-4223564636250513423');" onmouseout="out('-4223564636250513423');" style=""> 169    * 设置下载超时时间                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 170    */                                                                                                    </span>
<span class="6023314788617288172" onmouseenter="enter('6023314788617288172');" onmouseout="out('6023314788617288172');" style=""> 171   @Deprecated private AriaManager setTimeOut(int timeOut) {                                              </span>
<span class="887383022917992456" onmouseenter="enter('887383022917992456');" onmouseout="out('887383022917992456');" style=""> 172     Configuration.getInstance().setTimeOut(timeOut);                                                     </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 173     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174   }                                                                                                      </span>
<span  style=""> 175                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 176   /**                                                                                                    </span>
<span class="26223117172997624" onmouseenter="enter('26223117172997624');" onmouseout="out('26223117172997624');" style=""> 177    * 设置失败重试次数                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 178    */                                                                                                    </span>
<span class="-1729144695255254571" onmouseenter="enter('-1729144695255254571');" onmouseout="out('-1729144695255254571');" style=""> 179   public AriaManager setReTryNum(int reTryNum) {                                                         </span>
<span class="6996292559415310783" onmouseenter="enter('6996292559415310783');" onmouseout="out('6996292559415310783');" style=""> 180     Configuration.getInstance().setReTryNum(reTryNum);                                                   </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 181     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182   }                                                                                                      </span>
<span  style=""> 183                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 184   /**                                                                                                    </span>
<span class="8576864729948497616" onmouseenter="enter('8576864729948497616');" onmouseout="out('8576864729948497616');" style=""> 185    * 设置失败重试间隔                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 186    */                                                                                                    </span>
<span class="-700645487763548611" onmouseenter="enter('-700645487763548611');" onmouseout="out('-700645487763548611');" style=""> 187   public AriaManager setReTryInterval(int interval) {                                                    </span>
<span class="681842265895301556" onmouseenter="enter('681842265895301556');" onmouseout="out('681842265895301556');" style=""> 188     Configuration.getInstance().setReTryInterval(interval);                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 189     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190   }                                                                                                      </span>
<span  style=""> 191                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 192   /**                                                                                                    </span>
<span class="-1321367515046951264" onmouseenter="enter('-1321367515046951264');" onmouseout="out('-1321367515046951264');" style=""> 193    * 是否打开下载广播                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 194    */                                                                                                    </span>
<span class="-5513517391419737018" onmouseenter="enter('-5513517391419737018');" onmouseout="out('-5513517391419737018');" style=""> 195   public AriaManager openBroadcast(boolean open) {                                                       </span>
<span class="5206411104396306634" onmouseenter="enter('5206411104396306634');" onmouseout="out('5206411104396306634');" style=""> 196     Configuration.getInstance().setOpenBroadcast(open);                                                  </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 197     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198   }                                                                                                      </span>
<span  style=""> 199                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 200   /**                                                                                                    </span>
<span class="9001034447856185163" onmouseenter="enter('9001034447856185163');" onmouseout="out('9001034447856185163');" style=""> 201    * 设置最大下载数，最大下载数不能小于1                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 202    *                                                                                                     </span>
<span class="-6100601421598697800" onmouseenter="enter('-6100601421598697800');" onmouseout="out('-6100601421598697800');" style=""> 203    * @param maxDownloadNum 最大下载数                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 204    */                                                                                                    </span>
<span class="7038406465530854799" onmouseenter="enter('7038406465530854799');" onmouseout="out('7038406465530854799');" style=""> 205   public AriaManager setMaxDownloadNum(int maxDownloadNum) {                                             </span>
<span class="-3845264930068071777" onmouseenter="enter('-3845264930068071777');" onmouseout="out('-3845264930068071777');" style=""> 206     if (maxDownloadNum &lt; 1) {                                                                            </span>
<span class="5002120668553352863" onmouseenter="enter('5002120668553352863');" onmouseout="out('5002120668553352863');" style=""> 207       Log.w(TAG, &quot;最大任务数不能小于 1&quot;);                                                                         </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 208       return this;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209     }                                                                                                    </span>
<span class="5538869825066425127" onmouseenter="enter('5538869825066425127');" onmouseout="out('5538869825066425127');" style=""> 210     DownloadTaskQueue.getInstance().setDownloadNum(maxDownloadNum);                                      </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 211     return this;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212   }                                                                                                      </span>
<span  style=""> 213                                                                                                          </span>
<span class="2001576302894045654" onmouseenter="enter('2001576302894045654');" onmouseout="out('2001576302894045654');" style=""> 214   private IReceiver putReceiver(boolean isDownload, Object obj) {                                        </span>
<span class="-5543985760673599761" onmouseenter="enter('-5543985760673599761');" onmouseout="out('-5543985760673599761');" style=""> 215     final String key = getKey(isDownload, obj);                                                          </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style=""> 216     IReceiver receiver = mReceivers.get(key);                                                            </span>
<span class="-5808849449143451772" onmouseenter="enter('-5808849449143451772');" onmouseout="out('-5808849449143451772');" style=""> 217     final WidgetLiftManager widgetLiftManager = new WidgetLiftManager();                                 </span>
<span class="8820860652965287654" onmouseenter="enter('8820860652965287654');" onmouseout="out('8820860652965287654');" style=""> 218     if (obj instanceof Dialog) {                                                                         </span>
<span class="2509584731883001484" onmouseenter="enter('2509584731883001484');" onmouseout="out('2509584731883001484');" style=""> 219       widgetLiftManager.handleDialogLift(((Dialog) (obj)));                                              </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 220     } else if (obj instanceof PopupWindow) {                                                             </span>
<span class="8847495846768458639" onmouseenter="enter('8847495846768458639');" onmouseout="out('8847495846768458639');" style=""> 221       widgetLiftManager.handlePopupWindowLift(((PopupWindow) (obj)));                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style=""> 223     if (receiver == null) {                                                                              </span>
<span class="-4596264186346273273" onmouseenter="enter('-4596264186346273273');" onmouseout="out('-4596264186346273273');" style=""> 224       if (isDownload) {                                                                                  </span>
<span class="6995088344462882958" onmouseenter="enter('6995088344462882958');" onmouseout="out('6995088344462882958');" style=""> 225         DownloadReceiver dReceiver = new DownloadReceiver();                                             </span>
<span class="-8406939338705809680" onmouseenter="enter('-8406939338705809680');" onmouseout="out('-8406939338705809680');" style=""> 226         dReceiver.targetName = obj.getClass().getName();                                                 </span>
<span class="-4130356198108348788" onmouseenter="enter('-4130356198108348788');" onmouseout="out('-4130356198108348788');" style=""> 227         mReceivers.put(key, dReceiver);                                                                  </span>
<span class="-219297241702885049" onmouseenter="enter('-219297241702885049');" onmouseout="out('-219297241702885049');" style=""> 228         receiver = dReceiver;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 229       } else {                                                                                           </span>
<span class="5923997707724024918" onmouseenter="enter('5923997707724024918');" onmouseout="out('5923997707724024918');" style=""> 230         UploadReceiver uReceiver = new UploadReceiver();                                                 </span>
<span class="2411744074241067672" onmouseenter="enter('2411744074241067672');" onmouseout="out('2411744074241067672');" style=""> 231         uReceiver.targetName = obj.getClass().getName();                                                 </span>
<span class="718222821820673823" onmouseenter="enter('718222821820673823');" onmouseout="out('718222821820673823');" style=""> 232         mReceivers.put(key, uReceiver);                                                                  </span>
<span class="-476655551526278743" onmouseenter="enter('-476655551526278743');" onmouseout="out('-476655551526278743');" style=""> 233         receiver = uReceiver;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span class="3296301902867763772" onmouseenter="enter('3296301902867763772');" onmouseout="out('3296301902867763772');" style=""> 236     return receiver;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237   }                                                                                                      </span>
<span  style=""> 238                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 239   /**                                                                                                    </span>
<span class="-1233550701439668417" onmouseenter="enter('-1233550701439668417');" onmouseout="out('-1233550701439668417');" style=""> 240    * 根据功能类型和控件类型获取对应的key                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 241    */                                                                                                    </span>
<span class="-7951343516890840938" onmouseenter="enter('-7951343516890840938');" onmouseout="out('-7951343516890840938');" style=""> 242   private String getKey(boolean isDownload, Object obj) {                                                </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 243     String clsName = obj.getClass().getName();                                                           </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style=""> 244     String key = &quot;&quot;;                                                                                     </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style=""> 245     if (!(obj instanceof Activity)) {                                                                    </span>
<span class="-6866582517181018884" onmouseenter="enter('-6866582517181018884');" onmouseout="out('-6866582517181018884');" style=""> 246       if (obj instanceof Fragment) {                                                                     </span>
<span class="-4544527669804655305" onmouseenter="enter('-4544527669804655305');" onmouseout="out('-4544527669804655305');" style=""> 247         key = (clsName + &quot;_&quot;) + ((Fragment) (obj)).getActivity().getClass().getName();                   </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style=""> 248       } else if (obj instanceof android.app.Fragment) {                                                  </span>
<span class="-6010246546551891342" onmouseenter="enter('-6010246546551891342');" onmouseout="out('-6010246546551891342');" style=""> 249         key = (clsName + &quot;_&quot;) + ((android.app.Fragment) (obj)).getActivity().getClass().getName();       </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style=""> 250       } else if (obj instanceof Dialog) {                                                                </span>
<span class="-3567819348252428267" onmouseenter="enter('-3567819348252428267');" onmouseout="out('-3567819348252428267');" style=""> 251         Activity activity = ((Dialog) (obj)).getOwnerActivity();                                         </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style=""> 252         if (activity != null) {                                                                          </span>
<span class="1617944850606298370" onmouseenter="enter('1617944850606298370');" onmouseout="out('1617944850606298370');" style=""> 253           key = (clsName + &quot;_&quot;) + activity.getClass().getName();                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 254         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 255           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256         }                                                                                                </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 257       } else if (obj instanceof PopupWindow) {                                                           </span>
<span class="1164055006947621295" onmouseenter="enter('1164055006947621295');" onmouseout="out('1164055006947621295');" style=""> 258         Context context = ((PopupWindow) (obj)).getContentView().getContext();                           </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style=""> 259         if (context instanceof Activity) {                                                               </span>
<span class="-6562203848818792401" onmouseenter="enter('-6562203848818792401');" onmouseout="out('-6562203848818792401');" style=""> 260           key = (clsName + &quot;_&quot;) + context.getClass().getName();                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 261         } else {                                                                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 262           key = clsName;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263         }                                                                                                </span>
<span class="2329111926360250357" onmouseenter="enter('2329111926360250357');" onmouseout="out('2329111926360250357');" style=""> 264       } else if (obj instanceof Service) {                                                               </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 265         key = clsName;                                                                                   </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style=""> 266       } else if (obj instanceof Application) {                                                           </span>
<span  style=""> 267                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 268 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 269       key = clsName;                                                                                     </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 270 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 271 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 271 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 272 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 273                                                                                                          </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 274         key = clsName;                                                                                   </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 275 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style=""> 276                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278     }                                                                                                    </span>
<span class="-6715912694281735626" onmouseenter="enter('-6715912694281735626');" onmouseout="out('-6715912694281735626');" style=""> 279     if ((obj instanceof Activity) || (obj instanceof Service)) {                                         </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 280       key = clsName;                                                                                     </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style=""> 281     } else if (obj instanceof Application) {                                                             </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 282       key = clsName;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283     }                                                                                                    </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style=""> 284     if (TextUtils.isEmpty(key)) {                                                                        </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style=""> 285       throw new IllegalArgumentException(&quot;未知类型&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286     }                                                                                                    </span>
<span class="-5119848292096526363" onmouseenter="enter('-5119848292096526363');" onmouseout="out('-5119848292096526363');" style=""> 287     key += (isDownload) ? DOWNLOAD : UPLOAD;                                                             </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 288     return key;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289   }                                                                                                      </span>
<span  style=""> 290                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 291   /**                                                                                                    </span>
<span class="-1193062332527220556" onmouseenter="enter('-1193062332527220556');" onmouseout="out('-1193062332527220556');" style=""> 292    * 注册APP生命周期回调                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 293    */                                                                                                    </span>
<span class="-7276882829591178076" onmouseenter="enter('-7276882829591178076');" onmouseout="out('-7276882829591178076');" style=""> 294   private void regAppLifeCallback(Context context) {                                                     </span>
<span class="-5860383211698895763" onmouseenter="enter('-5860383211698895763');" onmouseout="out('-5860383211698895763');" style=""> 295     Context app = context.getApplicationContext();                                                       </span>
<span class="-143230389421456567" onmouseenter="enter('-143230389421456567');" onmouseout="out('-143230389421456567');" style=""> 296     if (app instanceof Application) {                                                                    </span>
<span class="3368201653594297342" onmouseenter="enter('3368201653594297342');" onmouseout="out('3368201653594297342');" style=""> 297       LifeCallback mLifeCallback = new LifeCallback();                                                   </span>
<span class="3439954530393165907" onmouseenter="enter('3439954530393165907');" onmouseout="out('3439954530393165907');" style=""> 298       ((Application) (app)).registerActivityLifecycleCallbacks(mLifeCallback);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300   }                                                                                                      </span>
<span  style=""> 301                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 302   /**                                                                                                    </span>
<span class="-3777451988866187591" onmouseenter="enter('-3777451988866187591');" onmouseout="out('-3777451988866187591');" style=""> 303    * onDestroy                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 304    */                                                                                                    </span>
<span class="-8649737653767147572" onmouseenter="enter('-8649737653767147572');" onmouseout="out('-8649737653767147572');" style=""> 305   void destroySchedulerListener(Object obj) {                                                            </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 306     String clsName = obj.getClass().getName();                                                           </span>
<span class="-6953663311513921288" onmouseenter="enter('-6953663311513921288');" onmouseout="out('-6953663311513921288');" style=""><abbr title=" 307     for (Iterator&lt;Map.Entry&lt;String, IReceiver&gt;&gt; iter = mReceivers.entrySet().iterator(); iter.hasNext();) {"> 307     for (Iterator&lt;Map.Entry&lt;String, IReceiver&gt;&gt; iter = mReceivers.entrySet().iterator(); iter.hasNext();)🔵</abbr></span>
<span class="2302348753204097068" onmouseenter="enter('2302348753204097068');" onmouseout="out('2302348753204097068');" style=""> 308       Map.Entry&lt;String, IReceiver&gt; entry = iter.next();                                                  </span>
<span class="8548346453260565318" onmouseenter="enter('8548346453260565318');" onmouseout="out('8548346453260565318');" style=""> 309       String key = entry.getKey();                                                                       </span>
<span class="-675149513584177898" onmouseenter="enter('-675149513584177898');" onmouseout="out('-675149513584177898');" style=""> 310       if (key.contains(clsName)) {                                                                       </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style=""> 311         IReceiver receiver = mReceivers.get(key);                                                        </span>
<span class="3799717368039523564" onmouseenter="enter('3799717368039523564');" onmouseout="out('3799717368039523564');" style=""> 312         receiver.removeSchedulerListener();                                                              </span>
<span class="-4163790072512613169" onmouseenter="enter('-4163790072512613169');" onmouseout="out('-4163790072512613169');" style=""> 313         receiver.destroy();                                                                              </span>
<span class="6531218048836267679" onmouseenter="enter('6531218048836267679');" onmouseout="out('6531218048836267679');" style=""> 314         iter.remove();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 315         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318   }                                                                                                      </span>
<span  style=""> 319                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 320   /**                                                                                                    </span>
<span class="2666843210936296092" onmouseenter="enter('2666843210936296092');" onmouseout="out('2666843210936296092');" style=""> 321    * Activity生命周期                                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 322    */                                                                                                    </span>
<span class="-3320401662844590351" onmouseenter="enter('-3320401662844590351');" onmouseout="out('-3320401662844590351');" style=""> 323   private class LifeCallback implements Application.ActivityLifecycleCallbacks {                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 324     @Override                                                                                            </span>
<span class="8524366831302820338" onmouseenter="enter('8524366831302820338');" onmouseout="out('8524366831302820338');" style=""> 325     public void onActivityCreated(Activity activity, Bundle savedInstanceState) {                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326     }                                                                                                    </span>
<span  style=""> 327                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 328     @Override                                                                                            </span>
<span class="3999355738958617613" onmouseenter="enter('3999355738958617613');" onmouseout="out('3999355738958617613');" style=""> 329     public void onActivityStarted(Activity activity) {                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330     }                                                                                                    </span>
<span  style=""> 331                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 332     @Override                                                                                            </span>
<span class="-7814134261172248140" onmouseenter="enter('-7814134261172248140');" onmouseout="out('-7814134261172248140');" style=""> 333     public void onActivityResumed(Activity activity) {                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334     }                                                                                                    </span>
<span  style=""> 335                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 336     @Override                                                                                            </span>
<span class="-2583387789861779211" onmouseenter="enter('-2583387789861779211');" onmouseout="out('-2583387789861779211');" style=""> 337     public void onActivityPaused(Activity activity) {                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338     }                                                                                                    </span>
<span  style=""> 339                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 340     @Override                                                                                            </span>
<span class="-3689206105995804562" onmouseenter="enter('-3689206105995804562');" onmouseout="out('-3689206105995804562');" style=""> 341     public void onActivityStopped(Activity activity) {                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342     }                                                                                                    </span>
<span  style=""> 343                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 344     @Override                                                                                            </span>
<span class="-2749341705527806552" onmouseenter="enter('-2749341705527806552');" onmouseout="out('-2749341705527806552');" style=""> 345     public void onActivitySaveInstanceState(Activity activity, Bundle outState) {                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346     }                                                                                                    </span>
<span  style=""> 347                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 348     @Override                                                                                            </span>
<span class="2924082544155212199" onmouseenter="enter('2924082544155212199');" onmouseout="out('2924082544155212199');" style=""> 349     public void onActivityDestroyed(Activity activity) {                                                 </span>
<span class="-7041462001367738884" onmouseenter="enter('-7041462001367738884');" onmouseout="out('-7041462001367738884');" style=""> 350       destroySchedulerListener(activity);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353 }                                                                                                        </span>






































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span class="-1067389092621227336" onmouseenter="enter('-1067389092621227336');" onmouseout="out('-1067389092621227336');" style="">  16  package com.arialyy.aria.core;                                                                                    </span>
<span  style="">  17                                                                                                                    </span>

<span class="-6548293536248798364" onmouseenter="enter('-6548293536248798364');" onmouseout="out('-6548293536248798364');" style="">  18  import android.annotation.TargetApi;                                                                              </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">  19  import android.app.Activity;                                                                                      </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  20  import android.app.Application;                                                                                   </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">  21  import android.app.Dialog;                                                                                        </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  22  import android.app.Service;                                                                                       </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  23  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">  24  import android.content.DialogInterface;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  25  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  26  import android.os.Bundle;                                                                                         </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="">  27  import android.os.Message;                                                                                        </span>
<span class="1235021250095752497" onmouseenter="enter('1235021250095752497');" onmouseout="out('1235021250095752497');" style="">  28  import android.support.v4.app.Fragment;                                                                           </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  29  import android.text.TextUtils;                                                                                    </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  30  import android.util.Log;                                                                                          </span>
<span class="842268080202249770" onmouseenter="enter('842268080202249770');" onmouseout="out('842268080202249770');" style="">  31  import android.widget.PopupWindow;                                                                                </span>
<span class="4978045074105868199" onmouseenter="enter('4978045074105868199');" onmouseout="out('4978045074105868199');" style="">  32  import com.arialyy.aria.core.command.CmdFactory;                                                                  </span>









<span class="-3858964084420876286" onmouseenter="enter('-3858964084420876286');" onmouseout="out('-3858964084420876286');" style="">  33  import com.arialyy.aria.util.CAConfiguration;                                                                     </span>
<span class="-8921020518339919076" onmouseenter="enter('-8921020518339919076');" onmouseout="out('-8921020518339919076');" style="">  34  import com.arialyy.aria.util.CheckUtil;                                                                           </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  35  import com.arialyy.aria.util.CommonUtil;                                                                          </span>
<span class="-8522549181935213176" onmouseenter="enter('-8522549181935213176');" onmouseout="out('-8522549181935213176');" style="">  36  import com.arialyy.aria.core.command.IDownloadCmd;                                                                </span>
<span class="-288495809736068445" onmouseenter="enter('-288495809736068445');" onmouseout="out('-288495809736068445');" style="">  37  import com.arialyy.aria.util.Configuration;                                                                       </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  38  import java.lang.reflect.Field;                                                                                   </span>

<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  39  import java.util.ArrayList;                                                                                       </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  40  import java.util.HashMap;                                                                                         </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  41  import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  42  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  43  import java.util.Map;                                                                                             </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  44  import java.util.Set;                                                                                             </span>
<span  style="">  45                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  46  /**                                                                                                               </span>
<span class="5502483616954307706" onmouseenter="enter('5502483616954307706');" onmouseout="out('5502483616954307706');" style="">  47   * Created by lyy on 2016/12/1.                                                                                   </span>
<span class="-5925367661426511979" onmouseenter="enter('-5925367661426511979');" onmouseout="out('-5925367661426511979');" style="">  48   * https://github.com/AriaLyy/Aria                                                                                </span>
<span class="7009722916033936917" onmouseenter="enter('7009722916033936917');" onmouseout="out('7009722916033936917');" style="">  49   * Aria管理器，任务操作在这里执行                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  50   */                                                                                                               </span>
<span class="-7048582966604058233" onmouseenter="enter('-7048582966604058233');" onmouseout="out('-7048582966604058233');" style="">  51  @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH) public class AriaManager {                                     </span>
<span class="-8206379968703948233" onmouseenter="enter('-8206379968703948233');" onmouseout="out('-8206379968703948233');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -  private static final String TAG = &quot;AriaManager&quot;;                                                                </span>


<span class="4753550627703968447" onmouseenter="enter('4753550627703968447');" onmouseout="out('4753550627703968447');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -  private static final Object LOCK = new Object();                                                                </span>
<span class="-8813034948263309061" onmouseenter="enter('-8813034948263309061');" onmouseout="out('-8813034948263309061');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -  private static volatile AriaManager INSTANCE = null;                                                            </span>
<span class="-5621162215171638112" onmouseenter="enter('-5621162215171638112');" onmouseout="out('-5621162215171638112');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -  private Map&lt;String, AMReceiver&gt; mTargets = new HashMap&lt;&gt;();                                                     </span>
<span class="1601313445559225635" onmouseenter="enter('1601313445559225635');" onmouseout="out('1601313445559225635');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +  private static final    String                  TAG      = &quot;AriaManager&quot;;                                       </span>
<span class="6273463283529837894" onmouseenter="enter('6273463283529837894');" onmouseout="out('6273463283529837894');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +  private static final    Object                  LOCK     = new Object();                                        </span>
<span class="-6125856785972907352" onmouseenter="enter('-6125856785972907352');" onmouseout="out('-6125856785972907352');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  58 +  private static volatile AriaManager             INSTANCE = null;                                                </span>
<span class="5383616369229427639" onmouseenter="enter('5383616369229427639');" onmouseout="out('5383616369229427639');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +  private                 Map&lt;String, AMReceiver&gt; mTargets = new HashMap&lt;&gt;();                                     </span>
<span class="-1057144543722836098" onmouseenter="enter('-1057144543722836098');" onmouseout="out('-1057144543722836098');" style="">  60    private DownloadManager mManager;                                                                               </span>
<span class="5033912312693722802" onmouseenter="enter('5033912312693722802');" onmouseout="out('5033912312693722802');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  61 -  private LifeCallback mLifeCallback;                                                                             </span>
<span class="-2877489618686061348" onmouseenter="enter('-2877489618686061348');" onmouseout="out('-2877489618686061348');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +  private LifeCallback    mLifeCallback;                                                                          </span>



<span  style="">  63                                                                                                                    </span>
<span class="-4078352715504118345" onmouseenter="enter('-4078352715504118345');" onmouseout="out('-4078352715504118345');" style="">  64    private AriaManager(Context context) {                                                                          </span>


<span class="-3701928120828201341" onmouseenter="enter('-3701928120828201341');" onmouseout="out('-3701928120828201341');" style="">  65      regAppLifeCallback(context);                                                                                  </span>
<span class="7051495929310577331" onmouseenter="enter('7051495929310577331');" onmouseout="out('7051495929310577331');" style="">  66      mManager = DownloadManager.init(context);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67    }                                                                                                               </span>
<span  style="">  68                                                                                                                    </span>
<span class="-4852458587755472292" onmouseenter="enter('-4852458587755472292');" onmouseout="out('-4852458587755472292');" style="">  69    static AriaManager getInstance(Context context) {                                                               </span>



<span class="-8097436755426287019" onmouseenter="enter('-8097436755426287019');" onmouseout="out('-8097436755426287019');" style="">  70      if (INSTANCE == null) {                                                                                       </span>
<span class="-889825015365812481" onmouseenter="enter('-889825015365812481');" onmouseout="out('-889825015365812481');" style="">  71        synchronized (LOCK) {                                                                                       </span>
<span class="7294898164205845440" onmouseenter="enter('7294898164205845440');" onmouseout="out('7294898164205845440');" style="">  72          INSTANCE = new AriaManager(context);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  73        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74      }                                                                                                             </span>
<span class="-2388388574337551660" onmouseenter="enter('-2388388574337551660');" onmouseout="out('-2388388574337551660');" style="">  75      return INSTANCE;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76    }                                                                                                               </span>
<span  style="">  77                                                                                                                    </span>
<span class="-4587647037966621199" onmouseenter="enter('-4587647037966621199');" onmouseout="out('-4587647037966621199');" style="">  78    AMReceiver get(Object obj) {                                                                                    </span>
<span class="-5051701835565781354" onmouseenter="enter('-5051701835565781354');" onmouseout="out('-5051701835565781354');" style="">  79      return getTarget(obj);                                                                                        </span>



























































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  80    }                                                                                                               </span>
<span  style="">  81                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  82    /**                                                                                                             </span>
<span class="3941576587820846937" onmouseenter="enter('3941576587820846937');" onmouseout="out('3941576587820846937');" style="">  83     * 设置CA证书信息                                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  84     *                                                                                                              </span>
<span class="9087393707178998839" onmouseenter="enter('9087393707178998839');" onmouseout="out('9087393707178998839');" style="">  85     * @param caAlias ca证书别名                                                                                        </span>
<span class="2200710274287933844" onmouseenter="enter('2200710274287933844');" onmouseout="out('2200710274287933844');" style="">  86     * @param caPath assets 文件夹下的ca证书完整路径                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  87     */                                                                                                             </span>
<span class="6703586708859414908" onmouseenter="enter('6703586708859414908');" onmouseout="out('6703586708859414908');" style="">  88    public void setCAInfo(String caAlias, String caPath) {                                                          </span>
<span class="-8063303008006988898" onmouseenter="enter('-8063303008006988898');" onmouseout="out('-8063303008006988898');" style="">  89      if (TextUtils.isEmpty(caAlias)) {                                                                             </span>
<span class="7216823448602210992" onmouseenter="enter('7216823448602210992');" onmouseout="out('7216823448602210992');" style="">  90        Log.e(TAG, &quot;ca证书别名不能为null&quot;);                                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  91        return;                                                                                                     </span>
<span class="4576371093208868880" onmouseenter="enter('4576371093208868880');" onmouseout="out('4576371093208868880');" style="">  92      } else if (TextUtils.isEmpty(caPath)) {                                                                       </span>
<span class="4082261192840318453" onmouseenter="enter('4082261192840318453');" onmouseout="out('4082261192840318453');" style="">  93        Log.e(TAG, &quot;ca证书路径不能为null&quot;);                                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  94        return;                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95      }                                                                                                             </span>
<span class="-1906777176528799666" onmouseenter="enter('-1906777176528799666');" onmouseout="out('-1906777176528799666');" style="">  96      CAConfiguration.CA_ALIAS = caAlias;                                                                           </span>
<span class="-6455417151481088782" onmouseenter="enter('-6455417151481088782');" onmouseout="out('-6455417151481088782');" style="">  97      CAConfiguration.CA_PATH = caPath;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98    }                                                                                                               </span>
<span  style="">  99                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 100    /**                                                                                                             </span>
<span class="3048185065552483752" onmouseenter="enter('3048185065552483752');" onmouseout="out('3048185065552483752');" style=""> 101     * 获取下载列表                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 102     */                                                                                                             </span>
<span class="-7281804977397940838" onmouseenter="enter('-7281804977397940838');" onmouseout="out('-7281804977397940838');" style=""> 103    public List&lt;DownloadEntity&gt; getDownloadList() {                                                                 </span>
<span class="-3090597531179212341" onmouseenter="enter('-3090597531179212341');" onmouseout="out('-3090597531179212341');" style=""> 104      return DownloadEntity.findAllData(DownloadEntity.class);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105    }                                                                                                               </span>
<span  style=""> 106                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 107    /**                                                                                                             </span>
<span class="-4855951461764354463" onmouseenter="enter('-4855951461764354463');" onmouseout="out('-4855951461764354463');" style=""> 108     * 通过下载链接获取下载实体                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 109     */                                                                                                             </span>
<span class="6067624311729681660" onmouseenter="enter('6067624311729681660');" onmouseout="out('6067624311729681660');" style=""> 110    public DownloadEntity getDownloadEntity(String downloadUrl) {                                                   </span>
<span class="-7551708026621458125" onmouseenter="enter('-7551708026621458125');" onmouseout="out('-7551708026621458125');" style=""> 111      CheckUtil.checkDownloadUrl(downloadUrl);                                                                      </span>
<span class="-4757197890854513070" onmouseenter="enter('-4757197890854513070');" onmouseout="out('-4757197890854513070');" style=""> 112      return DownloadEntity.findData(DownloadEntity.class, &quot;downloadUrl=?&quot;, downloadUrl);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113    }                                                                                                               </span>
<span  style=""> 114                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 115    /**                                                                                                             </span>
<span class="-7888671401854060616" onmouseenter="enter('-7888671401854060616');" onmouseout="out('-7888671401854060616');" style=""> 116     * 下载任务是否存在                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 117     */                                                                                                             </span>
<span class="-2133603000641114939" onmouseenter="enter('-2133603000641114939');" onmouseout="out('-2133603000641114939');" style=""> 118    public boolean taskExists(String downloadUrl) {                                                                 </span>
<span class="-7371274125067821256" onmouseenter="enter('-7371274125067821256');" onmouseout="out('-7371274125067821256');" style=""> 119      return DownloadEntity.findData(DownloadEntity.class, &quot;downloadUrl=?&quot;, downloadUrl) != null;                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120    }                                                                                                               </span>
<span  style=""> 121                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 122    /**                                                                                                             </span>
<span class="-9047287149431434938" onmouseenter="enter('-9047287149431434938');" onmouseout="out('-9047287149431434938');" style=""> 123     * 停止所有正在执行的任务                                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 124     */                                                                                                             </span>
<span class="-1687190236639704239" onmouseenter="enter('-1687190236639704239');" onmouseout="out('-1687190236639704239');" style=""> 125    public void stopAllTask() {                                                                                     </span>
<span class="-5484724846610093746" onmouseenter="enter('-5484724846610093746');" onmouseout="out('-5484724846610093746');" style=""> 126      List&lt;DownloadEntity&gt; allEntity = mManager.getAllDownloadEntity();                                             </span>
<span class="-8254003988872338405" onmouseenter="enter('-8254003988872338405');" onmouseout="out('-8254003988872338405');" style=""> 127      List&lt;IDownloadCmd&gt; stopCmds = new ArrayList&lt;&gt;();                                                              </span>
<span class="7270933921411644426" onmouseenter="enter('7270933921411644426');" onmouseout="out('7270933921411644426');" style=""> 128      for (DownloadEntity entity : allEntity) {                                                                     </span>
<span class="7417421358282805601" onmouseenter="enter('7417421358282805601');" onmouseout="out('7417421358282805601');" style=""> 129        if (entity.getState() == DownloadEntity.STATE_DOWNLOAD_ING) {                                               </span>
<span class="164314600127017134" onmouseenter="enter('164314600127017134');" onmouseout="out('164314600127017134');" style=""> 130          stopCmds.add(CommonUtil.createCmd(entity, CmdFactory.TASK_STOP));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132      }                                                                                                             </span>
<span class="2028104498563471236" onmouseenter="enter('2028104498563471236');" onmouseout="out('2028104498563471236');" style=""> 133      mManager.setCmds(stopCmds).exe();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134    }                                                                                                               </span>
<span  style=""> 135                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 136    /**                                                                                                             </span>
<span class="-4223564636250513423" onmouseenter="enter('-4223564636250513423');" onmouseout="out('-4223564636250513423');" style=""> 137     * 设置下载超时时间                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 138     */                                                                                                             </span>
<span class="6023314788617288172" onmouseenter="enter('6023314788617288172');" onmouseout="out('6023314788617288172');" style=""> 139    @Deprecated private AriaManager setTimeOut(int timeOut) {                                                       </span>
<span class="887383022917992456" onmouseenter="enter('887383022917992456');" onmouseout="out('887383022917992456');" style=""> 140      Configuration.getInstance().setTimeOut(timeOut);                                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 141      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142    }                                                                                                               </span>
<span  style=""> 143                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 144    /**                                                                                                             </span>
<span class="2139335008778446645" onmouseenter="enter('2139335008778446645');" onmouseout="out('2139335008778446645');" style=""> 145     * 设置下载失败重试次数                                                                                                   </span>

<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 146     */                                                                                                             </span>
<span class="-1729144695255254571" onmouseenter="enter('-1729144695255254571');" onmouseout="out('-1729144695255254571');" style=""> 147    public AriaManager setReTryNum(int reTryNum) {                                                                  </span>
<span class="6996292559415310783" onmouseenter="enter('6996292559415310783');" onmouseout="out('6996292559415310783');" style=""> 148      Configuration.getInstance().setReTryNum(reTryNum);                                                            </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 149      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150    }                                                                                                               </span>
<span  style=""> 151                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 152    /**                                                                                                             </span>
<span class="5180285463317844600" onmouseenter="enter('5180285463317844600');" onmouseout="out('5180285463317844600');" style=""> 153     * 设置下载失败重试间隔                                                                                                   </span>

<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 154     */                                                                                                             </span>
<span class="-700645487763548611" onmouseenter="enter('-700645487763548611');" onmouseout="out('-700645487763548611');" style=""> 155    public AriaManager setReTryInterval(int interval) {                                                             </span>
<span class="681842265895301556" onmouseenter="enter('681842265895301556');" onmouseout="out('681842265895301556');" style=""> 156      Configuration.getInstance().setReTryInterval(interval);                                                       </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 157      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158    }                                                                                                               </span>
<span  style=""> 159                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 160    /**                                                                                                             </span>
<span class="-1321367515046951264" onmouseenter="enter('-1321367515046951264');" onmouseout="out('-1321367515046951264');" style=""> 161     * 是否打开下载广播                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 162     */                                                                                                             </span>
<span class="-5513517391419737018" onmouseenter="enter('-5513517391419737018');" onmouseout="out('-5513517391419737018');" style=""> 163    public AriaManager openBroadcast(boolean open) {                                                                </span>
<span class="5206411104396306634" onmouseenter="enter('5206411104396306634');" onmouseout="out('5206411104396306634');" style=""> 164      Configuration.getInstance().setOpenBroadcast(open);                                                           </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 165      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166    }                                                                                                               </span>
<span  style=""> 167                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 168    /**                                                                                                             </span>
<span class="9001034447856185163" onmouseenter="enter('9001034447856185163');" onmouseout="out('9001034447856185163');" style=""> 169     * 设置最大下载数，最大下载数不能小于1                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 170     *                                                                                                              </span>
<span class="-6100601421598697800" onmouseenter="enter('-6100601421598697800');" onmouseout="out('-6100601421598697800');" style=""> 171     * @param maxDownloadNum 最大下载数                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 172     */                                                                                                             </span>
<span class="7038406465530854799" onmouseenter="enter('7038406465530854799');" onmouseout="out('7038406465530854799');" style=""> 173    public AriaManager setMaxDownloadNum(int maxDownloadNum) {                                                      </span>
<span class="-3845264930068071777" onmouseenter="enter('-3845264930068071777');" onmouseout="out('-3845264930068071777');" style=""> 174      if (maxDownloadNum &lt; 1) {                                                                                     </span>
<span class="5002120668553352863" onmouseenter="enter('5002120668553352863');" onmouseout="out('5002120668553352863');" style=""> 175        Log.w(TAG, &quot;最大任务数不能小于 1&quot;);                                                                                  </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 176        return this;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177      }                                                                                                             </span>
<span class="3290481347879973386" onmouseenter="enter('3290481347879973386');" onmouseout="out('3290481347879973386');" style=""> 178      mManager.getTaskQueue().setDownloadNum(maxDownloadNum);                                                       </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 179      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180    }                                                                                                               </span>
<span  style=""> 181                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 182    /**                                                                                                             </span>
<span class="-7338390600186437821" onmouseenter="enter('-7338390600186437821');" onmouseout="out('-7338390600186437821');" style=""> 183     * 删除所有任务                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 184     */                                                                                                             </span>
<span class="4741711156340710833" onmouseenter="enter('4741711156340710833');" onmouseout="out('4741711156340710833');" style=""> 185    public void cancelAllTask() {                                                                                   </span>
<span class="-5484724846610093746" onmouseenter="enter('-5484724846610093746');" onmouseout="out('-5484724846610093746');" style=""> 186      List&lt;DownloadEntity&gt; allEntity = mManager.getAllDownloadEntity();                                             </span>
<span class="4066238696459728867" onmouseenter="enter('4066238696459728867');" onmouseout="out('4066238696459728867');" style=""> 187      List&lt;IDownloadCmd&gt; cancelCmds = new ArrayList&lt;&gt;();                                                            </span>
<span class="7270933921411644426" onmouseenter="enter('7270933921411644426');" onmouseout="out('7270933921411644426');" style=""> 188      for (DownloadEntity entity : allEntity) {                                                                     </span>
<span class="-5710138457060264761" onmouseenter="enter('-5710138457060264761');" onmouseout="out('-5710138457060264761');" style=""> 189        cancelCmds.add(CommonUtil.createCmd(entity, CmdFactory.TASK_CANCEL));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190      }                                                                                                             </span>
<span class="6554137756094791348" onmouseenter="enter('6554137756094791348');" onmouseout="out('6554137756094791348');" style=""> 191      mManager.setCmds(cancelCmds).exe();                                                                           </span>
<span class="-4570105769472555494" onmouseenter="enter('-4570105769472555494');" onmouseout="out('-4570105769472555494');" style=""> 192      Set&lt;String&gt; keys = mTargets.keySet();                                                                         </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 193      for (String key : keys) {                                                                                     </span>
<span class="-5372414576807152254" onmouseenter="enter('-5372414576807152254');" onmouseout="out('-5372414576807152254');" style=""> 194        AMReceiver target = mTargets.get(key);                                                                      </span>
<span class="5114567503643810910" onmouseenter="enter('5114567503643810910');" onmouseout="out('5114567503643810910');" style=""> 195        target.removeSchedulerListener();                                                                           </span>
<span class="-7590982597551418634" onmouseenter="enter('-7590982597551418634');" onmouseout="out('-7590982597551418634');" style=""> 196        mTargets.remove(key);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198    }                                                                                                               </span>
<span  style=""> 199                                                                                                                    </span>
<span class="-1843796681763782164" onmouseenter="enter('-1843796681763782164');" onmouseout="out('-1843796681763782164');" style=""> 200    private AMReceiver putTarget(Object obj) {                                                                      </span>


































<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 201      String clsName = obj.getClass().getName();                                                                    </span>
<span class="68917528357141185" onmouseenter="enter('68917528357141185');" onmouseout="out('68917528357141185');" style=""> 202      AMReceiver target = null;                                                                                     </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style=""> 203      String key = &quot;&quot;;                                                                                              </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style=""> 204      if (!(obj instanceof Activity)) {                                                                             </span>
<span class="3665663007821379758" onmouseenter="enter('3665663007821379758');" onmouseout="out('3665663007821379758');" style=""> 205        if (obj instanceof android.support.v4.app.Fragment) {                                                       </span>
<span class="-8928518971997553711" onmouseenter="enter('-8928518971997553711');" onmouseout="out('-8928518971997553711');" style=""> 206          key = clsName + &quot;_&quot; + ((Fragment) obj).getActivity().getClass().getName();                                </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style=""> 207        } else if (obj instanceof android.app.Fragment) {                                                           </span>
<span class="-9067997418790635893" onmouseenter="enter('-9067997418790635893');" onmouseout="out('-9067997418790635893');" style=""> 208          key = clsName + &quot;_&quot; + ((android.app.Fragment) obj).getActivity().getClass().getName();                    </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style=""> 209        } else if (obj instanceof Dialog) {                                                                         </span>
<span class="8930529453155718949" onmouseenter="enter('8930529453155718949');" onmouseout="out('8930529453155718949');" style=""> 210          Activity activity = ((Dialog) obj).getOwnerActivity();                                                    </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style=""> 211          if (activity != null) {                                                                                   </span>
<span class="-8091323502199846063" onmouseenter="enter('-8091323502199846063');" onmouseout="out('-8091323502199846063');" style=""> 212            key = clsName + &quot;_&quot; + activity.getClass().getName();                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 213          } else {                                                                                                  </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 214            key = clsName;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215          }                                                                                                         </span>
<span class="-2316672767945393158" onmouseenter="enter('-2316672767945393158');" onmouseout="out('-2316672767945393158');" style=""> 216          handleDialogLift((Dialog) obj);                                                                           </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 217        } else if (obj instanceof PopupWindow) {                                                                    </span>
<span class="-4934172626061895362" onmouseenter="enter('-4934172626061895362');" onmouseout="out('-4934172626061895362');" style=""> 218          Context context = ((PopupWindow) obj).getContentView().getContext();                                      </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style=""> 219          if (context instanceof Activity) {                                                                        </span>
<span class="1384664221299899057" onmouseenter="enter('1384664221299899057');" onmouseout="out('1384664221299899057');" style=""> 220            key = clsName + &quot;_&quot; + context.getClass().getName();                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 221          } else {                                                                                                  </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 222            key = clsName;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223          }                                                                                                         </span>
<span class="2428741809624085810" onmouseenter="enter('2428741809624085810');" onmouseout="out('2428741809624085810');" style=""> 224          handlePopupWindowLift((PopupWindow) obj);                                                                 </span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 225 -      }                                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 226 -    } else {                                                                                                      </span>
<span class="2329111926360250357" onmouseenter="enter('2329111926360250357');" onmouseout="out('2329111926360250357');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +      } else if (obj instanceof Service) {                                                                        </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +        key = clsName;                                                                                            </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +      } else if (obj instanceof Application) {                                                                    </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +        key = clsName;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +    }                                                                                                             </span>
<span class="-5358134719751719871" onmouseenter="enter('-5358134719751719871');" onmouseout="out('-5358134719751719871');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +    if (obj instanceof Activity || obj instanceof Service) {                                                      </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +      key = clsName;                                                                                              </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +    } else if (obj instanceof Application) {                                                                      </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 236        key = clsName;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237      }                                                                                                             </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style=""> 238      if (TextUtils.isEmpty(key)) {                                                                                 </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style=""> 239        throw new IllegalArgumentException(&quot;未知类型&quot;);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span class="929282866286735943" onmouseenter="enter('929282866286735943');" onmouseout="out('929282866286735943');" style=""> 241      target = mTargets.get(key);                                                                                   </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style=""> 242      if (target == null) {                                                                                         </span>
<span class="-3938771504002879803" onmouseenter="enter('-3938771504002879803');" onmouseout="out('-3938771504002879803');" style=""> 243        target = new AMReceiver();                                                                                  </span>
<span class="3034454791371608914" onmouseenter="enter('3034454791371608914');" onmouseout="out('3034454791371608914');" style=""> 244        target.targetName = obj.getClass().getName();                                                               </span>
<span class="-6693088934209372420" onmouseenter="enter('-6693088934209372420');" onmouseout="out('-6693088934209372420');" style=""> 245        mTargets.put(key, target);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246      }                                                                                                             </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style=""> 247      return target;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248    }                                                                                                               </span>
<span  style=""> 249                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 250    /**                                                                                                             </span>
<span class="6830501028848305260" onmouseenter="enter('6830501028848305260');" onmouseout="out('6830501028848305260');" style=""> 251     * 出来悬浮框取消或dismiss                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 252     */                                                                                                             </span>
<span class="-4485450957471086114" onmouseenter="enter('-4485450957471086114');" onmouseout="out('-4485450957471086114');" style=""> 253    private void handlePopupWindowLift(PopupWindow popupWindow) {                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 254      try {                                                                                                         </span>
<span class="2918763974451262827" onmouseenter="enter('2918763974451262827');" onmouseout="out('2918763974451262827');" style=""> 255        Field dismissField = CommonUtil.getField(popupWindow.getClass(), &quot;mOnDismissListener&quot;);                     </span>
<span class="-7480193453372757293" onmouseenter="enter('-7480193453372757293');" onmouseout="out('-7480193453372757293');" style=""> 256        PopupWindow.OnDismissListener listener =                                                                    </span>
<span class="7319022451027576945" onmouseenter="enter('7319022451027576945');" onmouseout="out('7319022451027576945');" style=""> 257            (PopupWindow.OnDismissListener) dismissField.get(popupWindow);                                          </span>
<span class="-3279858558674677278" onmouseenter="enter('-3279858558674677278');" onmouseout="out('-3279858558674677278');" style=""> 258        if (listener != null) {                                                                                     </span>
<span class="3124071213397090429" onmouseenter="enter('3124071213397090429');" onmouseout="out('3124071213397090429');" style=""> 259          Log.e(TAG, &quot;你已经对PopupWindow设置了Dismiss事件。为了防止内存泄露，&quot;                                                        </span>
<span class="-360310687932381599" onmouseenter="enter('-360310687932381599');" onmouseout="out('-360310687932381599');" style=""> 260              + &quot;请在dismiss方法中调用Aria.whit(this).removeSchedulerListener();来注销事件&quot;);                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 261        } else {                                                                                                    </span>
<span class="2664127135012846052" onmouseenter="enter('2664127135012846052');" onmouseout="out('2664127135012846052');" style=""> 262          popupWindow.setOnDismissListener(createPopupWindowListener(popupWindow));                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263        }                                                                                                           </span>
<span class="-4283655124212124805" onmouseenter="enter('-4283655124212124805');" onmouseout="out('-4283655124212124805');" style=""> 264      } catch (IllegalAccessException e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 265        e.printStackTrace();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267    }                                                                                                               </span>
<span  style=""> 268                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 269    /**                                                                                                             </span>
<span class="-6643894649664817659" onmouseenter="enter('-6643894649664817659');" onmouseout="out('-6643894649664817659');" style=""> 270     * 创建popupWindow dismiss事件                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 271     */                                                                                                             </span>
<span class="7565381401493690659" onmouseenter="enter('7565381401493690659');" onmouseout="out('7565381401493690659');" style=""> 272    private PopupWindow.OnDismissListener createPopupWindowListener(final PopupWindow popupWindow) {                </span>
<span class="-6242021414621222328" onmouseenter="enter('-6242021414621222328');" onmouseout="out('-6242021414621222328');" style=""> 273      return new PopupWindow.OnDismissListener() {                                                                  </span>
<span class="2525237259557986049" onmouseenter="enter('2525237259557986049');" onmouseout="out('2525237259557986049');" style=""> 274        @Override public void onDismiss() {                                                                         </span>
<span class="-7205253893620333874" onmouseenter="enter('-7205253893620333874');" onmouseout="out('-7205253893620333874');" style=""> 275          destroySchedulerListener(popupWindow);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276        }                                                                                                           </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 277      };                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278    }                                                                                                               </span>
<span  style=""> 279                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 280    /**                                                                                                             </span>
<span class="470432353206399674" onmouseenter="enter('470432353206399674');" onmouseout="out('470432353206399674');" style=""> 281     * 处理对话框取消或dismiss                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 282     */                                                                                                             </span>
<span class="-5627862527080378482" onmouseenter="enter('-5627862527080378482');" onmouseout="out('-5627862527080378482');" style=""> 283    private void handleDialogLift(Dialog dialog) {                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 284      try {                                                                                                         </span>
<span class="2007629793861791450" onmouseenter="enter('2007629793861791450');" onmouseout="out('2007629793861791450');" style=""> 285        Field dismissField = CommonUtil.getField(dialog.getClass(), &quot;mDismissMessage&quot;);                             </span>
<span class="3550275747341047554" onmouseenter="enter('3550275747341047554');" onmouseout="out('3550275747341047554');" style=""> 286        Message dismissMsg = (Message) dismissField.get(dialog);                                                    </span>
<span class="1572599894287621544" onmouseenter="enter('1572599894287621544');" onmouseout="out('1572599894287621544');" style=""> 287        //如果Dialog已经设置Dismiss事件，则查找cancel事件                                                                         </span>
<span class="-8334645904044578624" onmouseenter="enter('-8334645904044578624');" onmouseout="out('-8334645904044578624');" style=""> 288        if (dismissMsg != null) {                                                                                   </span>
<span class="-3845131785056627626" onmouseenter="enter('-3845131785056627626');" onmouseout="out('-3845131785056627626');" style=""> 289          Field cancelField = CommonUtil.getField(dialog.getClass(), &quot;mCancelMessage&quot;);                             </span>
<span class="-4985243312569281845" onmouseenter="enter('-4985243312569281845');" onmouseout="out('-4985243312569281845');" style=""> 290          Message cancelMsg = (Message) cancelField.get(dialog);                                                    </span>
<span class="-8350157505837723238" onmouseenter="enter('-8350157505837723238');" onmouseout="out('-8350157505837723238');" style=""> 291          if (cancelMsg != null) {                                                                                  </span>
<span class="175923338151105330" onmouseenter="enter('175923338151105330');" onmouseout="out('175923338151105330');" style=""> 292            Log.e(TAG, &quot;你已经对Dialog设置了Dismiss和cancel事件。为了防止内存泄露，&quot;                                                    </span>
<span class="-360310687932381599" onmouseenter="enter('-360310687932381599');" onmouseout="out('-360310687932381599');" style=""> 293                + &quot;请在dismiss方法中调用Aria.whit(this).removeSchedulerListener();来注销事件&quot;);                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 294          } else {                                                                                                  </span>
<span class="-1556628590221180094" onmouseenter="enter('-1556628590221180094');" onmouseout="out('-1556628590221180094');" style=""> 295            dialog.setOnCancelListener(createCancelListener());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296          }                                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 297        } else {                                                                                                    </span>
<span class="9065698169796845944" onmouseenter="enter('9065698169796845944');" onmouseout="out('9065698169796845944');" style=""> 298          dialog.setOnDismissListener(createDismissListener());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299        }                                                                                                           </span>
<span class="-4283655124212124805" onmouseenter="enter('-4283655124212124805');" onmouseout="out('-4283655124212124805');" style=""> 300      } catch (IllegalAccessException e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 301        e.printStackTrace();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303    }                                                                                                               </span>
<span  style=""> 304                                                                                                                    </span>
<span class="3249354059070355071" onmouseenter="enter('3249354059070355071');" onmouseout="out('3249354059070355071');" style=""> 305    private AMReceiver getTarget(Object obj) {                                                                      </span>
<span class="8712535722648181835" onmouseenter="enter('8712535722648181835');" onmouseout="out('8712535722648181835');" style=""> 306      AMReceiver target = mTargets.get(obj.getClass().getName());                                                   </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style=""> 307      if (target == null) {                                                                                         </span>
<span class="-5128246994590487250" onmouseenter="enter('-5128246994590487250');" onmouseout="out('-5128246994590487250');" style=""> 308        target = putTarget(obj);                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309      }                                                                                                             </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style=""> 310      return target;                                                                                                </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311    }                                                                                                               </span>
<span  style=""> 312                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 313    /**                                                                                                             </span>
<span class="-1193062332527220556" onmouseenter="enter('-1193062332527220556');" onmouseout="out('-1193062332527220556');" style=""> 314     * 注册APP生命周期回调                                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 315     */                                                                                                             </span>
<span class="-7276882829591178076" onmouseenter="enter('-7276882829591178076');" onmouseout="out('-7276882829591178076');" style=""> 316    private void regAppLifeCallback(Context context) {                                                              </span>
<span class="-5860383211698895763" onmouseenter="enter('-5860383211698895763');" onmouseout="out('-5860383211698895763');" style=""> 317      Context app = context.getApplicationContext();                                                                </span>
<span class="-143230389421456567" onmouseenter="enter('-143230389421456567');" onmouseout="out('-143230389421456567');" style=""> 318      if (app instanceof Application) {                                                                             </span>
<span class="-5687984216736762634" onmouseenter="enter('-5687984216736762634');" onmouseout="out('-5687984216736762634');" style=""> 319        mLifeCallback = new LifeCallback();                                                                         </span>

<span class="7404621546215926441" onmouseenter="enter('7404621546215926441');" onmouseout="out('7404621546215926441');" style=""> 320        ((Application) app).registerActivityLifecycleCallbacks(mLifeCallback);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322    }                                                                                                               </span>
<span  style=""> 323                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 324    /**                                                                                                             </span>
<span class="3026515558292658178" onmouseenter="enter('3026515558292658178');" onmouseout="out('3026515558292658178');" style=""> 325     * 创建Dialog取消事件                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 326     */                                                                                                             </span>
<span class="4572411640192318222" onmouseenter="enter('4572411640192318222');" onmouseout="out('4572411640192318222');" style=""> 327    private Dialog.OnCancelListener createCancelListener() {                                                        </span>
<span class="-652263048637914213" onmouseenter="enter('-652263048637914213');" onmouseout="out('-652263048637914213');" style=""> 328      return new Dialog.OnCancelListener() {                                                                        </span>
<span  style=""> 329                                                                                                                    </span>
<span class="203236540023038003" onmouseenter="enter('203236540023038003');" onmouseout="out('203236540023038003');" style=""> 330        @Override public void onCancel(DialogInterface dialog) {                                                    </span>
<span class="3271265892505712844" onmouseenter="enter('3271265892505712844');" onmouseout="out('3271265892505712844');" style=""> 331          destroySchedulerListener(dialog);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332        }                                                                                                           </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 333      };                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334    }                                                                                                               </span>
<span  style=""> 335                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 336    /**                                                                                                             </span>
<span class="-8403314739838353497" onmouseenter="enter('-8403314739838353497');" onmouseout="out('-8403314739838353497');" style=""> 337     * 创建Dialog dismiss取消事件                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 338     */                                                                                                             </span>
<span class="1605327948353439257" onmouseenter="enter('1605327948353439257');" onmouseout="out('1605327948353439257');" style=""> 339    private Dialog.OnDismissListener createDismissListener() {                                                      </span>
<span class="8423141908394423540" onmouseenter="enter('8423141908394423540');" onmouseout="out('8423141908394423540');" style=""> 340      return new Dialog.OnDismissListener() {                                                                       </span>
<span  style=""> 341                                                                                                                    </span>
<span class="-4405159905611270048" onmouseenter="enter('-4405159905611270048');" onmouseout="out('-4405159905611270048');" style=""> 342        @Override public void onDismiss(DialogInterface dialog) {                                                   </span>
<span class="3271265892505712844" onmouseenter="enter('3271265892505712844');" onmouseout="out('3271265892505712844');" style=""> 343          destroySchedulerListener(dialog);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344        }                                                                                                           </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 345      };                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346    }                                                                                                               </span>
<span  style=""> 347                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 348    /**                                                                                                             </span>
<span class="-3777451988866187591" onmouseenter="enter('-3777451988866187591');" onmouseout="out('-3777451988866187591');" style=""> 349     * onDestroy                                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 350     */                                                                                                             </span>
<span class="3935913031288113181" onmouseenter="enter('3935913031288113181');" onmouseout="out('3935913031288113181');" style=""> 351    private void destroySchedulerListener(Object obj) {                                                             </span>
<span class="-4570105769472555494" onmouseenter="enter('-4570105769472555494');" onmouseout="out('-4570105769472555494');" style=""> 352      Set&lt;String&gt; keys = mTargets.keySet();                                                                         </span>

<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 353      String clsName = obj.getClass().getName();                                                                    </span>
<span class="-897201910995664935" onmouseenter="enter('-897201910995664935');" onmouseout="out('-897201910995664935');" style=""> 354      for (Iterator&lt;Map.Entry&lt;String, AMReceiver&gt;&gt; iter = mTargets.entrySet().iterator();                           </span>

<span class="-3526821086551102183" onmouseenter="enter('-3526821086551102183');" onmouseout="out('-3526821086551102183');" style=""> 355          iter.hasNext(); ) {                                                                                       </span>
<span class="2253862844074069536" onmouseenter="enter('2253862844074069536');" onmouseout="out('2253862844074069536');" style=""> 356        Map.Entry&lt;String, AMReceiver&gt; entry = iter.next();                                                          </span>

<span class="8548346453260565318" onmouseenter="enter('8548346453260565318');" onmouseout="out('8548346453260565318');" style=""> 357        String key = entry.getKey();                                                                                </span>
<span class="8210297866052462072" onmouseenter="enter('8210297866052462072');" onmouseout="out('8210297866052462072');" style=""> 358        if (key.equals(clsName) || key.contains(clsName)) {                                                         </span>
<span class="7247517720745939720" onmouseenter="enter('7247517720745939720');" onmouseout="out('7247517720745939720');" style=""> 359          AMReceiver receiver = mTargets.get(key);                                                                  </span>
<span class="-4353695675613531076" onmouseenter="enter('-4353695675613531076');" onmouseout="out('-4353695675613531076');" style=""> 360          if (receiver.obj != null) {                                                                               </span>
<span class="-2779427784120555894" onmouseenter="enter('-2779427784120555894');" onmouseout="out('-2779427784120555894');" style=""> 361            if (receiver.obj instanceof Application || receiver.obj instanceof Service) break;                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362          }                                                                                                         </span>


<span class="3799717368039523564" onmouseenter="enter('3799717368039523564');" onmouseout="out('3799717368039523564');" style=""> 363          receiver.removeSchedulerListener();                                                                       </span>
<span class="-4163790072512613169" onmouseenter="enter('-4163790072512613169');" onmouseout="out('-4163790072512613169');" style=""> 364          receiver.destroy();                                                                                       </span>
<span class="6531218048836267679" onmouseenter="enter('6531218048836267679');" onmouseout="out('6531218048836267679');" style=""> 365          iter.remove();                                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 366          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369    }                                                                                                               </span>
<span  style=""> 370                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 371    /**                                                                                                             </span>
<span class="2666843210936296092" onmouseenter="enter('2666843210936296092');" onmouseout="out('2666843210936296092');" style=""> 372     * Activity生命周期                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 373     */                                                                                                             </span>
<span class="-3320401662844590351" onmouseenter="enter('-3320401662844590351');" onmouseout="out('-3320401662844590351');" style=""> 374    private class LifeCallback implements Application.ActivityLifecycleCallbacks {                                  </span>
<span  style=""> 375                                                                                                                    </span>
<span class="-8824223892243959270" onmouseenter="enter('-8824223892243959270');" onmouseout="out('-8824223892243959270');" style=""> 376      @Override public void onActivityCreated(Activity activity, Bundle savedInstanceState) {                       </span>
<span  style=""> 377                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378      }                                                                                                             </span>
<span  style=""> 379                                                                                                                    </span>
<span class="-9131595778314657590" onmouseenter="enter('-9131595778314657590');" onmouseout="out('-9131595778314657590');" style=""> 380      @Override public void onActivityStarted(Activity activity) {                                                  </span>
<span  style=""> 381                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382      }                                                                                                             </span>
<span  style=""> 383                                                                                                                    </span>
<span class="8287290169976924777" onmouseenter="enter('8287290169976924777');" onmouseout="out('8287290169976924777');" style=""> 384      @Override public void onActivityResumed(Activity activity) {                                                  </span>
<span  style=""> 385                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386      }                                                                                                             </span>
<span  style=""> 387                                                                                                                    </span>
<span class="-5909333638620493534" onmouseenter="enter('-5909333638620493534');" onmouseout="out('-5909333638620493534');" style=""> 388      @Override public void onActivityPaused(Activity activity) {                                                   </span>
<span  style=""> 389                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390      }                                                                                                             </span>
<span  style=""> 391                                                                                                                    </span>
<span class="-3416849681783923013" onmouseenter="enter('-3416849681783923013');" onmouseout="out('-3416849681783923013');" style=""> 392      @Override public void onActivityStopped(Activity activity) {                                                  </span>
<span  style=""> 393                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394      }                                                                                                             </span>
<span  style=""> 395                                                                                                                    </span>
<span class="-8461483233278460316" onmouseenter="enter('-8461483233278460316');" onmouseout="out('-8461483233278460316');" style=""> 396      @Override public void onActivitySaveInstanceState(Activity activity, Bundle outState) {                       </span>
<span  style=""> 397                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398      }                                                                                                             </span>
<span  style=""> 399                                                                                                                    </span>
<span class="6621238217641595034" onmouseenter="enter('6621238217641595034');" onmouseout="out('6621238217641595034');" style=""> 400      @Override public void onActivityDestroyed(Activity activity) {                                                </span>
<span class="-7041462001367738884" onmouseenter="enter('-7041462001367738884');" onmouseout="out('-7041462001367738884');" style=""> 401        destroySchedulerListener(activity);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span class="-1067389092621227336" onmouseenter="enter('-1067389092621227336');" onmouseout="out('-1067389092621227336');" style="">  16  package com.arialyy.aria.core;                                                                                    </span>
<span  style="">  17                                                                                                                    </span>
<span class="-3997288425915246049" onmouseenter="enter('-3997288425915246049');" onmouseout="out('-3997288425915246049');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +import android.annotation.SuppressLint;                                                                           </span>
<span class="-6548293536248798364" onmouseenter="enter('-6548293536248798364');" onmouseout="out('-6548293536248798364');" style="">  19  import android.annotation.TargetApi;                                                                              </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">  20  import android.app.Activity;                                                                                      </span>
<span class="-4535828467892621321" onmouseenter="enter('-4535828467892621321');" onmouseout="out('-4535828467892621321');" style="">  21  import android.app.Application;                                                                                   </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">  22  import android.app.Dialog;                                                                                        </span>
<span class="-1261404242645970098" onmouseenter="enter('-1261404242645970098');" onmouseout="out('-1261404242645970098');" style="">  23  import android.app.Service;                                                                                       </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -import android.content.DialogInterface;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  26  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27  import android.os.Bundle;                                                                                         </span>
<span class="2113358441178436248" onmouseenter="enter('2113358441178436248');" onmouseout="out('2113358441178436248');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -import android.os.Message;                                                                                        </span>
<span class="1235021250095752497" onmouseenter="enter('1235021250095752497');" onmouseout="out('1235021250095752497');" style="">  29  import android.support.v4.app.Fragment;                                                                           </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  30  import android.text.TextUtils;                                                                                    </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  31  import android.util.Log;                                                                                          </span>
<span class="842268080202249770" onmouseenter="enter('842268080202249770');" onmouseout="out('842268080202249770');" style="">  32  import android.widget.PopupWindow;                                                                                </span>
<span class="4978045074105868199" onmouseenter="enter('4978045074105868199');" onmouseout="out('4978045074105868199');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  33 -import com.arialyy.aria.core.command.CmdFactory;                                                                  </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +import com.arialyy.aria.core.download.DownloadEntity;                                                             </span>
<span class="-300602512322597155" onmouseenter="enter('-300602512322597155');" onmouseout="out('-300602512322597155');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 +import com.arialyy.aria.core.download.DownloadReceiver;                                                           </span>
<span class="-477762279452602188" onmouseenter="enter('-477762279452602188');" onmouseout="out('-477762279452602188');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import com.arialyy.aria.core.inf.ICmd;                                                                            </span>
<span class="-7853945460211298347" onmouseenter="enter('-7853945460211298347');" onmouseout="out('-7853945460211298347');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 +import com.arialyy.aria.core.inf.IReceiver;                                                                       </span>
<span class="1325372506799583582" onmouseenter="enter('1325372506799583582');" onmouseout="out('1325372506799583582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  38 +import com.arialyy.aria.core.queue.DownloadTaskQueue;                                                             </span>
<span class="-8259302571631178660" onmouseenter="enter('-8259302571631178660');" onmouseout="out('-8259302571631178660');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  39 +import com.arialyy.aria.core.queue.UploadTaskQueue;                                                               </span>
<span class="-8568057864199193858" onmouseenter="enter('-8568057864199193858');" onmouseout="out('-8568057864199193858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +import com.arialyy.aria.core.upload.UploadReceiver;                                                               </span>
<span class="-4499301116755301031" onmouseenter="enter('-4499301116755301031');" onmouseout="out('-4499301116755301031');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  41 +import com.arialyy.aria.orm.DbEntity;                                                                             </span>
<span class="-2245626374458165887" onmouseenter="enter('-2245626374458165887');" onmouseout="out('-2245626374458165887');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  42 +import com.arialyy.aria.orm.DbUtil;                                                                               </span>
<span class="-3858964084420876286" onmouseenter="enter('-3858964084420876286');" onmouseout="out('-3858964084420876286');" style="">  43  import com.arialyy.aria.util.CAConfiguration;                                                                     </span>
<span class="-8921020518339919076" onmouseenter="enter('-8921020518339919076');" onmouseout="out('-8921020518339919076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  44 -import com.arialyy.aria.util.CheckUtil;                                                                           </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  45 -import com.arialyy.aria.util.CommonUtil;                                                                          </span>
<span class="-8522549181935213176" onmouseenter="enter('-8522549181935213176');" onmouseout="out('-8522549181935213176');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -import com.arialyy.aria.core.command.IDownloadCmd;                                                                </span>
<span class="-288495809736068445" onmouseenter="enter('-288495809736068445');" onmouseout="out('-288495809736068445');" style="">  47  import com.arialyy.aria.util.Configuration;                                                                       </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  48 -import java.lang.reflect.Field;                                                                                   </span>
<span class="-5794394638048144652" onmouseenter="enter('-5794394638048144652');" onmouseout="out('-5794394638048144652');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +import com.arialyy.aria.util.Speed;                                                                               </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  50  import java.util.ArrayList;                                                                                       </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  51  import java.util.HashMap;                                                                                         </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  52  import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  54  import java.util.Map;                                                                                             </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -import java.util.Set;                                                                                             </span>
<span  style="">  56                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  57  /**                                                                                                               </span>
<span class="5502483616954307706" onmouseenter="enter('5502483616954307706');" onmouseout="out('5502483616954307706');" style="">  58   * Created by lyy on 2016/12/1.                                                                                   </span>
<span class="-5925367661426511979" onmouseenter="enter('-5925367661426511979');" onmouseout="out('-5925367661426511979');" style="">  59   * https://github.com/AriaLyy/Aria                                                                                </span>
<span class="7009722916033936917" onmouseenter="enter('7009722916033936917');" onmouseout="out('7009722916033936917');" style="">  60   * Aria管理器，任务操作在这里执行                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  61   */                                                                                                               </span>
<span class="-7048582966604058233" onmouseenter="enter('-7048582966604058233');" onmouseout="out('-7048582966604058233');" style="">  62  @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH) public class AriaManager {                                     </span>
<span class="-8206379968703948233" onmouseenter="enter('-8206379968703948233');" onmouseout="out('-8206379968703948233');" style="">  63    private static final String TAG = &quot;AriaManager&quot;;                                                                </span>
<span class="1494039427886270781" onmouseenter="enter('1494039427886270781');" onmouseout="out('1494039427886270781');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  64 +  private static final String DOWNLOAD = &quot;_download&quot;;                                                             </span>
<span class="3437030952471192382" onmouseenter="enter('3437030952471192382');" onmouseout="out('3437030952471192382');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  65 +  private static final String UPLOAD = &quot;_upload&quot;;                                                                 </span>
<span class="4753550627703968447" onmouseenter="enter('4753550627703968447');" onmouseout="out('4753550627703968447');" style="">  66    private static final Object LOCK = new Object();                                                                </span>
<span class="-8813034948263309061" onmouseenter="enter('-8813034948263309061');" onmouseout="out('-8813034948263309061');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -  private static volatile AriaManager INSTANCE = null;                                                            </span>
<span class="-5621162215171638112" onmouseenter="enter('-5621162215171638112');" onmouseout="out('-5621162215171638112');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -  private Map&lt;String, AMReceiver&gt; mTargets = new HashMap&lt;&gt;();                                                     </span>




<span class="-1057144543722836098" onmouseenter="enter('-1057144543722836098');" onmouseout="out('-1057144543722836098');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  69 -  private DownloadManager mManager;                                                                               </span>
<span class="5033912312693722802" onmouseenter="enter('5033912312693722802');" onmouseout="out('5033912312693722802');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -  private LifeCallback mLifeCallback;                                                                             </span>
<span class="7388521750517473423" onmouseenter="enter('7388521750517473423');" onmouseout="out('7388521750517473423');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +  @SuppressLint(&quot;StaticFieldLeak&quot;) private static volatile AriaManager INSTANCE = null;                           </span>
<span class="6698834935164385419" onmouseenter="enter('6698834935164385419');" onmouseout="out('6698834935164385419');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +  private Map&lt;String, IReceiver&gt; mReceivers = new HashMap&lt;&gt;();                                                    </span>
<span class="-585907741994814106" onmouseenter="enter('-585907741994814106');" onmouseout="out('-585907741994814106');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +  public static Context APP;                                                                                      </span>
<span class="-577655190321639879" onmouseenter="enter('-577655190321639879');" onmouseout="out('-577655190321639879');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +  private List&lt;ICmd&gt; mCommands = new ArrayList&lt;&gt;();                                                               </span>
<span  style="">  75                                                                                                                    </span>
<span class="-4078352715504118345" onmouseenter="enter('-4078352715504118345');" onmouseout="out('-4078352715504118345');" style="">  76    private AriaManager(Context context) {                                                                          </span>
<span class="-6302192059918679060" onmouseenter="enter('-6302192059918679060');" onmouseout="out('-6302192059918679060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +    DbUtil.init(context.getApplicationContext());                                                                 </span>
<span class="-6668974627522766582" onmouseenter="enter('-6668974627522766582');" onmouseout="out('-6668974627522766582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +    APP = context.getApplicationContext();                                                                        </span>
<span class="-3701928120828201341" onmouseenter="enter('-3701928120828201341');" onmouseout="out('-3701928120828201341');" style="">  79      regAppLifeCallback(context);                                                                                  </span>
<span class="7051495929310577331" onmouseenter="enter('7051495929310577331');" onmouseout="out('7051495929310577331');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -    mManager = DownloadManager.init(context);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -                                                                                                                  </span>
<span class="-4852458587755472292" onmouseenter="enter('-4852458587755472292');" onmouseout="out('-4852458587755472292');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -  static AriaManager getInstance(Context context) {                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +                                                                                                                  </span>
<span class="3027871758242519607" onmouseenter="enter('3027871758242519607');" onmouseout="out('3027871758242519607');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +  public static AriaManager getInstance(Context context) {                                                        </span>
<span class="-8097436755426287019" onmouseenter="enter('-8097436755426287019');" onmouseout="out('-8097436755426287019');" style="">  87      if (INSTANCE == null) {                                                                                       </span>
<span class="-889825015365812481" onmouseenter="enter('-889825015365812481');" onmouseout="out('-889825015365812481');" style="">  88        synchronized (LOCK) {                                                                                       </span>
<span class="7294898164205845440" onmouseenter="enter('7294898164205845440');" onmouseout="out('7294898164205845440');" style="">  89          INSTANCE = new AriaManager(context);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91      }                                                                                                             </span>
<span class="-2388388574337551660" onmouseenter="enter('-2388388574337551660');" onmouseout="out('-2388388574337551660');" style="">  92      return INSTANCE;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93    }                                                                                                               </span>
<span  style="">  94                                                                                                                    </span>
<span class="-4587647037966621199" onmouseenter="enter('-4587647037966621199');" onmouseout="out('-4587647037966621199');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -  AMReceiver get(Object obj) {                                                                                    </span>
<span class="-5051701835565781354" onmouseenter="enter('-5051701835565781354');" onmouseout="out('-5051701835565781354');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  96 -    return getTarget(obj);                                                                                        </span>
<span class="-102354501628257453" onmouseenter="enter('-102354501628257453');" onmouseout="out('-102354501628257453');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +  public Map&lt;String, IReceiver&gt; getReceiver() {                                                                   </span>
<span class="4532026554728945805" onmouseenter="enter('4532026554728945805');" onmouseout="out('4532026554728945805');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +    return mReceivers;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +  /**                                                                                                             </span>
<span class="-440811555959535495" onmouseenter="enter('-440811555959535495');" onmouseout="out('-440811555959535495');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +   * 设置最大下载速度                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +   */                                                                                                             </span>
<span class="-1648604311019824309" onmouseenter="enter('-1648604311019824309');" onmouseout="out('-1648604311019824309');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +  public void setMaxSpeed(Speed speed) {                                                                          </span>
<span class="-5296425640905898459" onmouseenter="enter('-5296425640905898459');" onmouseout="out('-5296425640905898459');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +    Configuration.getInstance().setMaxSpeed(speed);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +  /**                                                                                                             </span>
<span class="2629693449060804209" onmouseenter="enter('2629693449060804209');" onmouseout="out('2629693449060804209');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +   * 设置命令                                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +   */                                                                                                             </span>
<span class="-3799241079208170641" onmouseenter="enter('-3799241079208170641');" onmouseout="out('-3799241079208170641');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +  public AriaManager setCmd(ICmd command) {                                                                       </span>
<span class="53276261188350163" onmouseenter="enter('53276261188350163');" onmouseout="out('53276261188350163');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +    mCommands.add(command);                                                                                       </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +    return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +  /**                                                                                                             </span>
<span class="4888506602275749882" onmouseenter="enter('4888506602275749882');" onmouseout="out('4888506602275749882');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +   * 设置一组命令                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +   */                                                                                                             </span>
<span class="7564252120728882288" onmouseenter="enter('7564252120728882288');" onmouseout="out('7564252120728882288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +  public &lt;T extends ICmd&gt; AriaManager setCmds(List&lt;T&gt; commands) {                                                 </span>
<span class="4190461692290304844" onmouseenter="enter('4190461692290304844');" onmouseout="out('4190461692290304844');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +    if (commands != null &amp;&amp; commands.size() &gt; 0) {                                                                </span>
<span class="-4321543690292920060" onmouseenter="enter('-4321543690292920060');" onmouseout="out('-4321543690292920060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +      mCommands.addAll(commands);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +    }                                                                                                             </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +    return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +  /**                                                                                                             </span>
<span class="-4746311571132337810" onmouseenter="enter('-4746311571132337810');" onmouseout="out('-4746311571132337810');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +   * 执行所有设置的命令                                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +   */                                                                                                             </span>
<span class="-2664130127237704901" onmouseenter="enter('-2664130127237704901');" onmouseout="out('-2664130127237704901');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +  public synchronized void exe() {                                                                                </span>
<span class="-7838710753990697882" onmouseenter="enter('-7838710753990697882');" onmouseout="out('-7838710753990697882');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +    for (ICmd command : mCommands) {                                                                              </span>
<span class="-6671516745237350082" onmouseenter="enter('-6671516745237350082');" onmouseout="out('-6671516745237350082');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +      command.executeCmd();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +    }                                                                                                             </span>
<span class="-6513034717834234673" onmouseenter="enter('-6513034717834234673');" onmouseout="out('-6513034717834234673');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +    mCommands.clear();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +  /**                                                                                                             </span>
<span class="-7823536379510091891" onmouseenter="enter('-7823536379510091891');" onmouseout="out('-7823536379510091891');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +   * 处理下载操作                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +   */                                                                                                             </span>
<span class="5691559462441740384" onmouseenter="enter('5691559462441740384');" onmouseout="out('5691559462441740384');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +  DownloadReceiver download(Object obj) {                                                                         </span>
<span class="-979116389459745375" onmouseenter="enter('-979116389459745375');" onmouseout="out('-979116389459745375');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +    IReceiver receiver = mReceivers.get(getKey(true, obj));                                                       </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +    if (receiver == null) {                                                                                       </span>
<span class="-1404147057171756128" onmouseenter="enter('-1404147057171756128');" onmouseout="out('-1404147057171756128');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +      receiver = putReceiver(true, obj);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +    }                                                                                                             </span>
<span class="-8980864788293598281" onmouseenter="enter('-8980864788293598281');" onmouseout="out('-8980864788293598281');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 144 +    return (receiver instanceof DownloadReceiver) ? (DownloadReceiver) receiver : null;                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 145 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 146 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 147 +  /**                                                                                                             </span>
<span class="-6458816092485134154" onmouseenter="enter('-6458816092485134154');" onmouseout="out('-6458816092485134154');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 148 +   * 处理上传操作                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 149 +   */                                                                                                             </span>
<span class="2396106706936506960" onmouseenter="enter('2396106706936506960');" onmouseout="out('2396106706936506960');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +  UploadReceiver upload(Object obj) {                                                                             </span>
<span class="9130459084373149884" onmouseenter="enter('9130459084373149884');" onmouseout="out('9130459084373149884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +    IReceiver receiver = mReceivers.get(getKey(false, obj));                                                      </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +    if (receiver == null) {                                                                                       </span>
<span class="8236684641557277642" onmouseenter="enter('8236684641557277642');" onmouseout="out('8236684641557277642');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +      receiver = putReceiver(false, obj);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +    }                                                                                                             </span>
<span class="-7592329647801128097" onmouseenter="enter('-7592329647801128097');" onmouseout="out('-7592329647801128097');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +    return (receiver instanceof UploadReceiver) ? (UploadReceiver) receiver : null;                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156    }                                                                                                               </span>
<span  style=""> 157                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 158    /**                                                                                                             </span>
<span class="3941576587820846937" onmouseenter="enter('3941576587820846937');" onmouseout="out('3941576587820846937');" style=""> 159     * 设置CA证书信息                                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 160     *                                                                                                              </span>
<span class="9087393707178998839" onmouseenter="enter('9087393707178998839');" onmouseout="out('9087393707178998839');" style=""> 161     * @param caAlias ca证书别名                                                                                        </span>
<span class="2200710274287933844" onmouseenter="enter('2200710274287933844');" onmouseout="out('2200710274287933844');" style=""> 162     * @param caPath assets 文件夹下的ca证书完整路径                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 163     */                                                                                                             </span>
<span class="6703586708859414908" onmouseenter="enter('6703586708859414908');" onmouseout="out('6703586708859414908');" style=""> 164    public void setCAInfo(String caAlias, String caPath) {                                                          </span>
<span class="-8063303008006988898" onmouseenter="enter('-8063303008006988898');" onmouseout="out('-8063303008006988898');" style=""> 165      if (TextUtils.isEmpty(caAlias)) {                                                                             </span>
<span class="7216823448602210992" onmouseenter="enter('7216823448602210992');" onmouseout="out('7216823448602210992');" style=""> 166        Log.e(TAG, &quot;ca证书别名不能为null&quot;);                                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 167        return;                                                                                                     </span>
<span class="4576371093208868880" onmouseenter="enter('4576371093208868880');" onmouseout="out('4576371093208868880');" style=""> 168      } else if (TextUtils.isEmpty(caPath)) {                                                                       </span>
<span class="4082261192840318453" onmouseenter="enter('4082261192840318453');" onmouseout="out('4082261192840318453');" style=""> 169        Log.e(TAG, &quot;ca证书路径不能为null&quot;);                                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 170        return;                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span class="-1906777176528799666" onmouseenter="enter('-1906777176528799666');" onmouseout="out('-1906777176528799666');" style=""> 172      CAConfiguration.CA_ALIAS = caAlias;                                                                           </span>
<span class="-6455417151481088782" onmouseenter="enter('-6455417151481088782');" onmouseout="out('-6455417151481088782');" style=""> 173      CAConfiguration.CA_PATH = caPath;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174    }                                                                                                               </span>
<span  style=""> 175                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 176    /**                                                                                                             </span>
<span class="3048185065552483752" onmouseenter="enter('3048185065552483752');" onmouseout="out('3048185065552483752');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -   * 获取下载列表                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 178 -   */                                                                                                             </span>
<span class="-7281804977397940838" onmouseenter="enter('-7281804977397940838');" onmouseout="out('-7281804977397940838');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 179 -  public List&lt;DownloadEntity&gt; getDownloadList() {                                                                 </span>
<span class="-3090597531179212341" onmouseenter="enter('-3090597531179212341');" onmouseout="out('-3090597531179212341');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 180 -    return DownloadEntity.findAllData(DownloadEntity.class);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 181 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 182 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 183 -  /**                                                                                                             </span>
<span class="-4855951461764354463" onmouseenter="enter('-4855951461764354463');" onmouseout="out('-4855951461764354463');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 184 -   * 通过下载链接获取下载实体                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 185 -   */                                                                                                             </span>
<span class="6067624311729681660" onmouseenter="enter('6067624311729681660');" onmouseout="out('6067624311729681660');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 186 -  public DownloadEntity getDownloadEntity(String downloadUrl) {                                                   </span>
<span class="-7551708026621458125" onmouseenter="enter('-7551708026621458125');" onmouseout="out('-7551708026621458125');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 187 -    CheckUtil.checkDownloadUrl(downloadUrl);                                                                      </span>
<span class="-4757197890854513070" onmouseenter="enter('-4757197890854513070');" onmouseout="out('-4757197890854513070');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 188 -    return DownloadEntity.findData(DownloadEntity.class, &quot;downloadUrl=?&quot;, downloadUrl);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 189 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 190 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 191 -  /**                                                                                                             </span>
<span class="-7888671401854060616" onmouseenter="enter('-7888671401854060616');" onmouseout="out('-7888671401854060616');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 192 -   * 下载任务是否存在                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 193 -   */                                                                                                             </span>
<span class="-2133603000641114939" onmouseenter="enter('-2133603000641114939');" onmouseout="out('-2133603000641114939');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 194 -  public boolean taskExists(String downloadUrl) {                                                                 </span>
<span class="-7371274125067821256" onmouseenter="enter('-7371274125067821256');" onmouseout="out('-7371274125067821256');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 195 -    return DownloadEntity.findData(DownloadEntity.class, &quot;downloadUrl=?&quot;, downloadUrl) != null;                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 196 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 197 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 198 -  /**                                                                                                             </span>
<span class="-9047287149431434938" onmouseenter="enter('-9047287149431434938');" onmouseout="out('-9047287149431434938');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 199 -   * 停止所有正在执行的任务                                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 200 -   */                                                                                                             </span>
<span class="-1687190236639704239" onmouseenter="enter('-1687190236639704239');" onmouseout="out('-1687190236639704239');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 201 -  public void stopAllTask() {                                                                                     </span>
<span class="-5484724846610093746" onmouseenter="enter('-5484724846610093746');" onmouseout="out('-5484724846610093746');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -    List&lt;DownloadEntity&gt; allEntity = mManager.getAllDownloadEntity();                                             </span>
<span class="-8254003988872338405" onmouseenter="enter('-8254003988872338405');" onmouseout="out('-8254003988872338405');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 203 -    List&lt;IDownloadCmd&gt; stopCmds = new ArrayList&lt;&gt;();                                                              </span>
<span class="7270933921411644426" onmouseenter="enter('7270933921411644426');" onmouseout="out('7270933921411644426');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -    for (DownloadEntity entity : allEntity) {                                                                     </span>
<span class="7417421358282805601" onmouseenter="enter('7417421358282805601');" onmouseout="out('7417421358282805601');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 205 -      if (entity.getState() == DownloadEntity.STATE_DOWNLOAD_ING) {                                               </span>
<span class="164314600127017134" onmouseenter="enter('164314600127017134');" onmouseout="out('164314600127017134');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 206 -        stopCmds.add(CommonUtil.createCmd(entity, CmdFactory.TASK_STOP));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 207 -      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 208 -    }                                                                                                             </span>
<span class="2028104498563471236" onmouseenter="enter('2028104498563471236');" onmouseout="out('2028104498563471236');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 209 -    mManager.setCmds(stopCmds).exe();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 210 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 211 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 212 -  /**                                                                                                             </span>
<span class="-4223564636250513423" onmouseenter="enter('-4223564636250513423');" onmouseout="out('-4223564636250513423');" style=""> 213     * 设置下载超时时间                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 214     */                                                                                                             </span>
<span class="6023314788617288172" onmouseenter="enter('6023314788617288172');" onmouseout="out('6023314788617288172');" style=""> 215    @Deprecated private AriaManager setTimeOut(int timeOut) {                                                       </span>
<span class="887383022917992456" onmouseenter="enter('887383022917992456');" onmouseout="out('887383022917992456');" style=""> 216      Configuration.getInstance().setTimeOut(timeOut);                                                              </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 217      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218    }                                                                                                               </span>
<span  style=""> 219                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 220    /**                                                                                                             </span>
<span class="2139335008778446645" onmouseenter="enter('2139335008778446645');" onmouseout="out('2139335008778446645');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 221 -   * 设置下载失败重试次数                                                                                                   </span>
<span class="26223117172997624" onmouseenter="enter('26223117172997624');" onmouseout="out('26223117172997624');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +   * 设置失败重试次数                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 223     */                                                                                                             </span>
<span class="-1729144695255254571" onmouseenter="enter('-1729144695255254571');" onmouseout="out('-1729144695255254571');" style=""> 224    public AriaManager setReTryNum(int reTryNum) {                                                                  </span>
<span class="6996292559415310783" onmouseenter="enter('6996292559415310783');" onmouseout="out('6996292559415310783');" style=""> 225      Configuration.getInstance().setReTryNum(reTryNum);                                                            </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 226      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227    }                                                                                                               </span>
<span  style=""> 228                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 229    /**                                                                                                             </span>
<span class="5180285463317844600" onmouseenter="enter('5180285463317844600');" onmouseout="out('5180285463317844600');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 230 -   * 设置下载失败重试间隔                                                                                                   </span>
<span class="8576864729948497616" onmouseenter="enter('8576864729948497616');" onmouseout="out('8576864729948497616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +   * 设置失败重试间隔                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 232     */                                                                                                             </span>
<span class="-700645487763548611" onmouseenter="enter('-700645487763548611');" onmouseout="out('-700645487763548611');" style=""> 233    public AriaManager setReTryInterval(int interval) {                                                             </span>
<span class="681842265895301556" onmouseenter="enter('681842265895301556');" onmouseout="out('681842265895301556');" style=""> 234      Configuration.getInstance().setReTryInterval(interval);                                                       </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 235      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236    }                                                                                                               </span>
<span  style=""> 237                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 238    /**                                                                                                             </span>
<span class="-1321367515046951264" onmouseenter="enter('-1321367515046951264');" onmouseout="out('-1321367515046951264');" style=""> 239     * 是否打开下载广播                                                                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 240     */                                                                                                             </span>
<span class="-5513517391419737018" onmouseenter="enter('-5513517391419737018');" onmouseout="out('-5513517391419737018');" style=""> 241    public AriaManager openBroadcast(boolean open) {                                                                </span>
<span class="5206411104396306634" onmouseenter="enter('5206411104396306634');" onmouseout="out('5206411104396306634');" style=""> 242      Configuration.getInstance().setOpenBroadcast(open);                                                           </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 243      return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244    }                                                                                                               </span>
<span  style=""> 245                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 246    /**                                                                                                             </span>
<span class="9001034447856185163" onmouseenter="enter('9001034447856185163');" onmouseout="out('9001034447856185163');" style=""> 247     * 设置最大下载数，最大下载数不能小于1                                                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 248     *                                                                                                              </span>
<span class="-6100601421598697800" onmouseenter="enter('-6100601421598697800');" onmouseout="out('-6100601421598697800');" style=""> 249     * @param maxDownloadNum 最大下载数                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 250     */                                                                                                             </span>
<span class="7038406465530854799" onmouseenter="enter('7038406465530854799');" onmouseout="out('7038406465530854799');" style=""> 251    public AriaManager setMaxDownloadNum(int maxDownloadNum) {                                                      </span>
<span class="-3845264930068071777" onmouseenter="enter('-3845264930068071777');" onmouseout="out('-3845264930068071777');" style=""> 252      if (maxDownloadNum &lt; 1) {                                                                                     </span>
<span class="5002120668553352863" onmouseenter="enter('5002120668553352863');" onmouseout="out('5002120668553352863');" style=""> 253        Log.w(TAG, &quot;最大任务数不能小于 1&quot;);                                                                                  </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style=""> 254        return this;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255      }                                                                                                             </span>
<span class="3290481347879973386" onmouseenter="enter('3290481347879973386');" onmouseout="out('3290481347879973386');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 256 -    mManager.getTaskQueue().setDownloadNum(maxDownloadNum);                                                       </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 257 -    return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 258 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 259 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 260 -  /**                                                                                                             </span>
<span class="-7338390600186437821" onmouseenter="enter('-7338390600186437821');" onmouseout="out('-7338390600186437821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 261 -   * 删除所有任务                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 262 -   */                                                                                                             </span>
<span class="4741711156340710833" onmouseenter="enter('4741711156340710833');" onmouseout="out('4741711156340710833');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 263 -  public void cancelAllTask() {                                                                                   </span>
<span class="-5484724846610093746" onmouseenter="enter('-5484724846610093746');" onmouseout="out('-5484724846610093746');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 264 -    List&lt;DownloadEntity&gt; allEntity = mManager.getAllDownloadEntity();                                             </span>
<span class="4066238696459728867" onmouseenter="enter('4066238696459728867');" onmouseout="out('4066238696459728867');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 265 -    List&lt;IDownloadCmd&gt; cancelCmds = new ArrayList&lt;&gt;();                                                            </span>
<span class="7270933921411644426" onmouseenter="enter('7270933921411644426');" onmouseout="out('7270933921411644426');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 266 -    for (DownloadEntity entity : allEntity) {                                                                     </span>
<span class="-5710138457060264761" onmouseenter="enter('-5710138457060264761');" onmouseout="out('-5710138457060264761');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 267 -      cancelCmds.add(CommonUtil.createCmd(entity, CmdFactory.TASK_CANCEL));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -    }                                                                                                             </span>
<span class="6554137756094791348" onmouseenter="enter('6554137756094791348');" onmouseout="out('6554137756094791348');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 269 -    mManager.setCmds(cancelCmds).exe();                                                                           </span>
<span class="-4570105769472555494" onmouseenter="enter('-4570105769472555494');" onmouseout="out('-4570105769472555494');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 270 -    Set&lt;String&gt; keys = mTargets.keySet();                                                                         </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 271 -    for (String key : keys) {                                                                                     </span>
<span class="-5372414576807152254" onmouseenter="enter('-5372414576807152254');" onmouseout="out('-5372414576807152254');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 272 -      AMReceiver target = mTargets.get(key);                                                                      </span>
<span class="5114567503643810910" onmouseenter="enter('5114567503643810910');" onmouseout="out('5114567503643810910');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 273 -      target.removeSchedulerListener();                                                                           </span>
<span class="-7590982597551418634" onmouseenter="enter('-7590982597551418634');" onmouseout="out('-7590982597551418634');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 274 -      mTargets.remove(key);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 275 -    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 276 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 277 -                                                                                                                  </span>
<span class="-1843796681763782164" onmouseenter="enter('-1843796681763782164');" onmouseout="out('-1843796681763782164');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 278 -  private AMReceiver putTarget(Object obj) {                                                                      </span>
<span class="5538869825066425127" onmouseenter="enter('5538869825066425127');" onmouseout="out('5538869825066425127');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +    DownloadTaskQueue.getInstance().setDownloadNum(maxDownloadNum);                                               </span>
<span class="2297715846939503398" onmouseenter="enter('2297715846939503398');" onmouseout="out('2297715846939503398');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +    return this;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 282 +                                                                                                                  </span>
<span class="2001576302894045654" onmouseenter="enter('2001576302894045654');" onmouseout="out('2001576302894045654');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +  private IReceiver putReceiver(boolean isDownload, Object obj) {                                                 </span>
<span class="-5543985760673599761" onmouseenter="enter('-5543985760673599761');" onmouseout="out('-5543985760673599761');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +    final String key = getKey(isDownload, obj);                                                                   </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +    IReceiver receiver = mReceivers.get(key);                                                                     </span>
<span class="-5808849449143451772" onmouseenter="enter('-5808849449143451772');" onmouseout="out('-5808849449143451772');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +    final WidgetLiftManager widgetLiftManager = new WidgetLiftManager();                                          </span>
<span class="8820860652965287654" onmouseenter="enter('8820860652965287654');" onmouseout="out('8820860652965287654');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +    if (obj instanceof Dialog) {                                                                                  </span>
<span class="7824310486161715846" onmouseenter="enter('7824310486161715846');" onmouseout="out('7824310486161715846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +      widgetLiftManager.handleDialogLift((Dialog) obj);                                                           </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 289 +    } else if (obj instanceof PopupWindow) {                                                                      </span>
<span class="-5050725901727100191" onmouseenter="enter('-5050725901727100191');" onmouseout="out('-5050725901727100191');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 290 +      widgetLiftManager.handlePopupWindowLift((PopupWindow) obj);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +                                                                                                                  </span>
<span class="7325530567567622777" onmouseenter="enter('7325530567567622777');" onmouseout="out('7325530567567622777');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 293 +    if (receiver == null) {                                                                                       </span>
<span class="-4596264186346273273" onmouseenter="enter('-4596264186346273273');" onmouseout="out('-4596264186346273273');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 294 +      if (isDownload) {                                                                                           </span>
<span class="6995088344462882958" onmouseenter="enter('6995088344462882958');" onmouseout="out('6995088344462882958');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 295 +        DownloadReceiver dReceiver = new DownloadReceiver();                                                      </span>
<span class="-8406939338705809680" onmouseenter="enter('-8406939338705809680');" onmouseout="out('-8406939338705809680');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 296 +        dReceiver.targetName = obj.getClass().getName();                                                          </span>
<span class="-4130356198108348788" onmouseenter="enter('-4130356198108348788');" onmouseout="out('-4130356198108348788');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 297 +        mReceivers.put(key, dReceiver);                                                                           </span>
<span class="-219297241702885049" onmouseenter="enter('-219297241702885049');" onmouseout="out('-219297241702885049');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +        receiver = dReceiver;                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 299 +      } else {                                                                                                    </span>
<span class="5923997707724024918" onmouseenter="enter('5923997707724024918');" onmouseout="out('5923997707724024918');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 300 +        UploadReceiver uReceiver = new UploadReceiver();                                                          </span>
<span class="2411744074241067672" onmouseenter="enter('2411744074241067672');" onmouseout="out('2411744074241067672');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 301 +        uReceiver.targetName = obj.getClass().getName();                                                          </span>
<span class="718222821820673823" onmouseenter="enter('718222821820673823');" onmouseout="out('718222821820673823');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 302 +        mReceivers.put(key, uReceiver);                                                                           </span>
<span class="-476655551526278743" onmouseenter="enter('-476655551526278743');" onmouseout="out('-476655551526278743');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 303 +        receiver = uReceiver;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 304 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +    }                                                                                                             </span>
<span class="3296301902867763772" onmouseenter="enter('3296301902867763772');" onmouseout="out('3296301902867763772');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +    return receiver;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 307 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 308 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 309 +  /**                                                                                                             </span>
<span class="-1233550701439668417" onmouseenter="enter('-1233550701439668417');" onmouseout="out('-1233550701439668417');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 310 +   * 根据功能类型和控件类型获取对应的key                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 311 +   */                                                                                                             </span>
<span class="-7951343516890840938" onmouseenter="enter('-7951343516890840938');" onmouseout="out('-7951343516890840938');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 312 +  private String getKey(boolean isDownload, Object obj) {                                                         </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 313      String clsName = obj.getClass().getName();                                                                    </span>
<span class="68917528357141185" onmouseenter="enter('68917528357141185');" onmouseout="out('68917528357141185');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 314 -    AMReceiver target = null;                                                                                     </span>
<span class="-3603979611710366056" onmouseenter="enter('-3603979611710366056');" onmouseout="out('-3603979611710366056');" style=""> 315      String key = &quot;&quot;;                                                                                              </span>
<span class="7332311366311680706" onmouseenter="enter('7332311366311680706');" onmouseout="out('7332311366311680706');" style=""> 316      if (!(obj instanceof Activity)) {                                                                             </span>
<span class="3665663007821379758" onmouseenter="enter('3665663007821379758');" onmouseout="out('3665663007821379758');" style=""> 317        if (obj instanceof android.support.v4.app.Fragment) {                                                       </span>
<span class="-8928518971997553711" onmouseenter="enter('-8928518971997553711');" onmouseout="out('-8928518971997553711');" style=""> 318          key = clsName + &quot;_&quot; + ((Fragment) obj).getActivity().getClass().getName();                                </span>
<span class="5344411059435965437" onmouseenter="enter('5344411059435965437');" onmouseout="out('5344411059435965437');" style=""> 319        } else if (obj instanceof android.app.Fragment) {                                                           </span>
<span class="-9067997418790635893" onmouseenter="enter('-9067997418790635893');" onmouseout="out('-9067997418790635893');" style=""> 320          key = clsName + &quot;_&quot; + ((android.app.Fragment) obj).getActivity().getClass().getName();                    </span>
<span class="-5191724305249650440" onmouseenter="enter('-5191724305249650440');" onmouseout="out('-5191724305249650440');" style=""> 321        } else if (obj instanceof Dialog) {                                                                         </span>
<span class="8930529453155718949" onmouseenter="enter('8930529453155718949');" onmouseout="out('8930529453155718949');" style=""> 322          Activity activity = ((Dialog) obj).getOwnerActivity();                                                    </span>
<span class="-4685348382683868754" onmouseenter="enter('-4685348382683868754');" onmouseout="out('-4685348382683868754');" style=""> 323          if (activity != null) {                                                                                   </span>
<span class="-8091323502199846063" onmouseenter="enter('-8091323502199846063');" onmouseout="out('-8091323502199846063');" style=""> 324            key = clsName + &quot;_&quot; + activity.getClass().getName();                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 325          } else {                                                                                                  </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 326            key = clsName;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327          }                                                                                                         </span>
<span class="-2316672767945393158" onmouseenter="enter('-2316672767945393158');" onmouseout="out('-2316672767945393158');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 328 -        handleDialogLift((Dialog) obj);                                                                           </span>
<span class="2666620087951645677" onmouseenter="enter('2666620087951645677');" onmouseout="out('2666620087951645677');" style=""> 329        } else if (obj instanceof PopupWindow) {                                                                    </span>
<span class="-4934172626061895362" onmouseenter="enter('-4934172626061895362');" onmouseout="out('-4934172626061895362');" style=""> 330          Context context = ((PopupWindow) obj).getContentView().getContext();                                      </span>
<span class="-3784437251018322469" onmouseenter="enter('-3784437251018322469');" onmouseout="out('-3784437251018322469');" style=""> 331          if (context instanceof Activity) {                                                                        </span>
<span class="1384664221299899057" onmouseenter="enter('1384664221299899057');" onmouseout="out('1384664221299899057');" style=""> 332            key = clsName + &quot;_&quot; + context.getClass().getName();                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 333          } else {                                                                                                  </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 334            key = clsName;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335          }                                                                                                         </span>
<span class="2428741809624085810" onmouseenter="enter('2428741809624085810');" onmouseout="out('2428741809624085810');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 336 -        handlePopupWindowLift((PopupWindow) obj);                                                                 </span>
<span class="2329111926360250357" onmouseenter="enter('2329111926360250357');" onmouseout="out('2329111926360250357');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 337 +      } else if (obj instanceof Service) {                                                                        </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 338 +        key = clsName;                                                                                            </span>
<span class="4538683671778778907" onmouseenter="enter('4538683671778778907');" onmouseout="out('4538683671778778907');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 339 +      } else if (obj instanceof Application) {                                                                    </span>
<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 340 +        key = clsName;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341        }                                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342      } else {                                                                                                      </span>









<span class="-1854778548051738288" onmouseenter="enter('-1854778548051738288');" onmouseout="out('-1854778548051738288');" style=""> 343        key = clsName;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344      }                                                                                                             </span>
<span class="2897280772584856726" onmouseenter="enter('2897280772584856726');" onmouseout="out('2897280772584856726');" style=""> 345      if (TextUtils.isEmpty(key)) {                                                                                 </span>
<span class="2675675717526894162" onmouseenter="enter('2675675717526894162');" onmouseout="out('2675675717526894162');" style=""> 346        throw new IllegalArgumentException(&quot;未知类型&quot;);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347      }                                                                                                             </span>
<span class="929282866286735943" onmouseenter="enter('929282866286735943');" onmouseout="out('929282866286735943');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 348 -    target = mTargets.get(key);                                                                                   </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 349 -    if (target == null) {                                                                                         </span>
<span class="-3938771504002879803" onmouseenter="enter('-3938771504002879803');" onmouseout="out('-3938771504002879803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 350 -      target = new AMReceiver();                                                                                  </span>
<span class="3034454791371608914" onmouseenter="enter('3034454791371608914');" onmouseout="out('3034454791371608914');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 351 -      target.targetName = obj.getClass().getName();                                                               </span>
<span class="-6693088934209372420" onmouseenter="enter('-6693088934209372420');" onmouseout="out('-6693088934209372420');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 352 -      mTargets.put(key, target);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 353 -    }                                                                                                             </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 354 -    return target;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 355 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 356 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 357 -  /**                                                                                                             </span>
<span class="6830501028848305260" onmouseenter="enter('6830501028848305260');" onmouseout="out('6830501028848305260');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 358 -   * 出来悬浮框取消或dismiss                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 359 -   */                                                                                                             </span>
<span class="-4485450957471086114" onmouseenter="enter('-4485450957471086114');" onmouseout="out('-4485450957471086114');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 360 -  private void handlePopupWindowLift(PopupWindow popupWindow) {                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 361 -    try {                                                                                                         </span>
<span class="2918763974451262827" onmouseenter="enter('2918763974451262827');" onmouseout="out('2918763974451262827');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 362 -      Field dismissField = CommonUtil.getField(popupWindow.getClass(), &quot;mOnDismissListener&quot;);                     </span>
<span class="-7480193453372757293" onmouseenter="enter('-7480193453372757293');" onmouseout="out('-7480193453372757293');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 363 -      PopupWindow.OnDismissListener listener =                                                                    </span>
<span class="7319022451027576945" onmouseenter="enter('7319022451027576945');" onmouseout="out('7319022451027576945');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 364 -          (PopupWindow.OnDismissListener) dismissField.get(popupWindow);                                          </span>
<span class="-3279858558674677278" onmouseenter="enter('-3279858558674677278');" onmouseout="out('-3279858558674677278');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 365 -      if (listener != null) {                                                                                     </span>
<span class="3124071213397090429" onmouseenter="enter('3124071213397090429');" onmouseout="out('3124071213397090429');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 366 -        Log.e(TAG, &quot;你已经对PopupWindow设置了Dismiss事件。为了防止内存泄露，&quot;                                                        </span>
<span class="-360310687932381599" onmouseenter="enter('-360310687932381599');" onmouseout="out('-360310687932381599');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 367 -            + &quot;请在dismiss方法中调用Aria.whit(this).removeSchedulerListener();来注销事件&quot;);                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 368 -      } else {                                                                                                    </span>
<span class="2664127135012846052" onmouseenter="enter('2664127135012846052');" onmouseout="out('2664127135012846052');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 369 -        popupWindow.setOnDismissListener(createPopupWindowListener(popupWindow));                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 370 -      }                                                                                                           </span>
<span class="-4283655124212124805" onmouseenter="enter('-4283655124212124805');" onmouseout="out('-4283655124212124805');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 371 -    } catch (IllegalAccessException e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 372 -      e.printStackTrace();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 373 -    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 374 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 375 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 376 -  /**                                                                                                             </span>
<span class="-6643894649664817659" onmouseenter="enter('-6643894649664817659');" onmouseout="out('-6643894649664817659');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 377 -   * 创建popupWindow dismiss事件                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 378 -   */                                                                                                             </span>
<span class="7565381401493690659" onmouseenter="enter('7565381401493690659');" onmouseout="out('7565381401493690659');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 379 -  private PopupWindow.OnDismissListener createPopupWindowListener(final PopupWindow popupWindow) {                </span>
<span class="-6242021414621222328" onmouseenter="enter('-6242021414621222328');" onmouseout="out('-6242021414621222328');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 380 -    return new PopupWindow.OnDismissListener() {                                                                  </span>
<span class="2525237259557986049" onmouseenter="enter('2525237259557986049');" onmouseout="out('2525237259557986049');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 381 -      @Override public void onDismiss() {                                                                         </span>
<span class="-7205253893620333874" onmouseenter="enter('-7205253893620333874');" onmouseout="out('-7205253893620333874');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 382 -        destroySchedulerListener(popupWindow);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 383 -      }                                                                                                           </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 384 -    };                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 385 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 386 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 387 -  /**                                                                                                             </span>
<span class="470432353206399674" onmouseenter="enter('470432353206399674');" onmouseout="out('470432353206399674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 388 -   * 处理对话框取消或dismiss                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 389 -   */                                                                                                             </span>
<span class="-5627862527080378482" onmouseenter="enter('-5627862527080378482');" onmouseout="out('-5627862527080378482');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 390 -  private void handleDialogLift(Dialog dialog) {                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 391 -    try {                                                                                                         </span>
<span class="2007629793861791450" onmouseenter="enter('2007629793861791450');" onmouseout="out('2007629793861791450');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 392 -      Field dismissField = CommonUtil.getField(dialog.getClass(), &quot;mDismissMessage&quot;);                             </span>
<span class="3550275747341047554" onmouseenter="enter('3550275747341047554');" onmouseout="out('3550275747341047554');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 393 -      Message dismissMsg = (Message) dismissField.get(dialog);                                                    </span>
<span class="1572599894287621544" onmouseenter="enter('1572599894287621544');" onmouseout="out('1572599894287621544');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 394 -      //如果Dialog已经设置Dismiss事件，则查找cancel事件                                                                         </span>
<span class="-8334645904044578624" onmouseenter="enter('-8334645904044578624');" onmouseout="out('-8334645904044578624');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 395 -      if (dismissMsg != null) {                                                                                   </span>
<span class="-3845131785056627626" onmouseenter="enter('-3845131785056627626');" onmouseout="out('-3845131785056627626');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 396 -        Field cancelField = CommonUtil.getField(dialog.getClass(), &quot;mCancelMessage&quot;);                             </span>
<span class="-4985243312569281845" onmouseenter="enter('-4985243312569281845');" onmouseout="out('-4985243312569281845');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 397 -        Message cancelMsg = (Message) cancelField.get(dialog);                                                    </span>
<span class="-8350157505837723238" onmouseenter="enter('-8350157505837723238');" onmouseout="out('-8350157505837723238');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 398 -        if (cancelMsg != null) {                                                                                  </span>
<span class="175923338151105330" onmouseenter="enter('175923338151105330');" onmouseout="out('175923338151105330');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 399 -          Log.e(TAG, &quot;你已经对Dialog设置了Dismiss和cancel事件。为了防止内存泄露，&quot;                                                    </span>
<span class="-360310687932381599" onmouseenter="enter('-360310687932381599');" onmouseout="out('-360310687932381599');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 400 -              + &quot;请在dismiss方法中调用Aria.whit(this).removeSchedulerListener();来注销事件&quot;);                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 401 -        } else {                                                                                                  </span>
<span class="-1556628590221180094" onmouseenter="enter('-1556628590221180094');" onmouseout="out('-1556628590221180094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 402 -          dialog.setOnCancelListener(createCancelListener());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 403 -        }                                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 404 -      } else {                                                                                                    </span>
<span class="9065698169796845944" onmouseenter="enter('9065698169796845944');" onmouseout="out('9065698169796845944');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 405 -        dialog.setOnDismissListener(createDismissListener());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 406 -      }                                                                                                           </span>
<span class="-4283655124212124805" onmouseenter="enter('-4283655124212124805');" onmouseout="out('-4283655124212124805');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 407 -    } catch (IllegalAccessException e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 408 -      e.printStackTrace();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 409 -    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 410 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 411 -                                                                                                                  </span>
<span class="3249354059070355071" onmouseenter="enter('3249354059070355071');" onmouseout="out('3249354059070355071');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 412 -  private AMReceiver getTarget(Object obj) {                                                                      </span>
<span class="8712535722648181835" onmouseenter="enter('8712535722648181835');" onmouseout="out('8712535722648181835');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 413 -    AMReceiver target = mTargets.get(obj.getClass().getName());                                                   </span>
<span class="6543396667776012339" onmouseenter="enter('6543396667776012339');" onmouseout="out('6543396667776012339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 414 -    if (target == null) {                                                                                         </span>
<span class="-5128246994590487250" onmouseenter="enter('-5128246994590487250');" onmouseout="out('-5128246994590487250');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 415 -      target = putTarget(obj);                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 416 -    }                                                                                                             </span>
<span class="-2959814168001159603" onmouseenter="enter('-2959814168001159603');" onmouseout="out('-2959814168001159603');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 417 -    return target;                                                                                                </span>
<span class="-6393949152213902898" onmouseenter="enter('-6393949152213902898');" onmouseout="out('-6393949152213902898');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 418 +    key += isDownload ? DOWNLOAD : UPLOAD;                                                                        </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 419 +    return key;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420    }                                                                                                               </span>
<span  style=""> 421                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 422    /**                                                                                                             </span>
<span class="-1193062332527220556" onmouseenter="enter('-1193062332527220556');" onmouseout="out('-1193062332527220556');" style=""> 423     * 注册APP生命周期回调                                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 424     */                                                                                                             </span>
<span class="-7276882829591178076" onmouseenter="enter('-7276882829591178076');" onmouseout="out('-7276882829591178076');" style=""> 425    private void regAppLifeCallback(Context context) {                                                              </span>
<span class="-5860383211698895763" onmouseenter="enter('-5860383211698895763');" onmouseout="out('-5860383211698895763');" style=""> 426      Context app = context.getApplicationContext();                                                                </span>
<span class="-143230389421456567" onmouseenter="enter('-143230389421456567');" onmouseout="out('-143230389421456567');" style=""> 427      if (app instanceof Application) {                                                                             </span>
<span class="-5687984216736762634" onmouseenter="enter('-5687984216736762634');" onmouseout="out('-5687984216736762634');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 428 -      mLifeCallback = new LifeCallback();                                                                         </span>
<span class="3368201653594297342" onmouseenter="enter('3368201653594297342');" onmouseout="out('3368201653594297342');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 429 +      LifeCallback mLifeCallback = new LifeCallback();                                                            </span>
<span class="7404621546215926441" onmouseenter="enter('7404621546215926441');" onmouseout="out('7404621546215926441');" style=""> 430        ((Application) app).registerActivityLifecycleCallbacks(mLifeCallback);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432    }                                                                                                               </span>
<span  style=""> 433                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 434    /**                                                                                                             </span>
<span class="3026515558292658178" onmouseenter="enter('3026515558292658178');" onmouseout="out('3026515558292658178');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 435 -   * 创建Dialog取消事件                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 436 -   */                                                                                                             </span>
<span class="4572411640192318222" onmouseenter="enter('4572411640192318222');" onmouseout="out('4572411640192318222');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 437 -  private Dialog.OnCancelListener createCancelListener() {                                                        </span>
<span class="-652263048637914213" onmouseenter="enter('-652263048637914213');" onmouseout="out('-652263048637914213');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 438 -    return new Dialog.OnCancelListener() {                                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 439 -                                                                                                                  </span>
<span class="203236540023038003" onmouseenter="enter('203236540023038003');" onmouseout="out('203236540023038003');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 440 -      @Override public void onCancel(DialogInterface dialog) {                                                    </span>
<span class="3271265892505712844" onmouseenter="enter('3271265892505712844');" onmouseout="out('3271265892505712844');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 441 -        destroySchedulerListener(dialog);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 442 -      }                                                                                                           </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 443 -    };                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 444 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 445 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 446 -  /**                                                                                                             </span>
<span class="-8403314739838353497" onmouseenter="enter('-8403314739838353497');" onmouseout="out('-8403314739838353497');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 447 -   * 创建Dialog dismiss取消事件                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 448 -   */                                                                                                             </span>
<span class="1605327948353439257" onmouseenter="enter('1605327948353439257');" onmouseout="out('1605327948353439257');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 449 -  private Dialog.OnDismissListener createDismissListener() {                                                      </span>
<span class="8423141908394423540" onmouseenter="enter('8423141908394423540');" onmouseout="out('8423141908394423540');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 450 -    return new Dialog.OnDismissListener() {                                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 451 -                                                                                                                  </span>
<span class="-4405159905611270048" onmouseenter="enter('-4405159905611270048');" onmouseout="out('-4405159905611270048');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 452 -      @Override public void onDismiss(DialogInterface dialog) {                                                   </span>
<span class="3271265892505712844" onmouseenter="enter('3271265892505712844');" onmouseout="out('3271265892505712844');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 453 -        destroySchedulerListener(dialog);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 454 -      }                                                                                                           </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 455 -    };                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 456 -  }                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 457 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 458 -  /**                                                                                                             </span>
<span class="-3777451988866187591" onmouseenter="enter('-3777451988866187591');" onmouseout="out('-3777451988866187591');" style=""> 459     * onDestroy                                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 460     */                                                                                                             </span>
<span class="3935913031288113181" onmouseenter="enter('3935913031288113181');" onmouseout="out('3935913031288113181');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 461 -  private void destroySchedulerListener(Object obj) {                                                             </span>
<span class="-4570105769472555494" onmouseenter="enter('-4570105769472555494');" onmouseout="out('-4570105769472555494');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 462 -    Set&lt;String&gt; keys = mTargets.keySet();                                                                         </span>
<span class="-8649737653767147572" onmouseenter="enter('-8649737653767147572');" onmouseout="out('-8649737653767147572');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 463 +  void destroySchedulerListener(Object obj) {                                                                     </span>
<span class="8625504150268808067" onmouseenter="enter('8625504150268808067');" onmouseout="out('8625504150268808067');" style=""> 464      String clsName = obj.getClass().getName();                                                                    </span>
<span class="-897201910995664935" onmouseenter="enter('-897201910995664935');" onmouseout="out('-897201910995664935');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 465 -    for (Iterator&lt;Map.Entry&lt;String, AMReceiver&gt;&gt; iter = mTargets.entrySet().iterator();                           </span>
<span class="203185961606160293" onmouseenter="enter('203185961606160293');" onmouseout="out('203185961606160293');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 466 +    for (Iterator&lt;Map.Entry&lt;String, IReceiver&gt;&gt; iter = mReceivers.entrySet().iterator();                          </span>
<span class="-3526821086551102183" onmouseenter="enter('-3526821086551102183');" onmouseout="out('-3526821086551102183');" style=""> 467          iter.hasNext(); ) {                                                                                       </span>
<span class="2253862844074069536" onmouseenter="enter('2253862844074069536');" onmouseout="out('2253862844074069536');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 468 -      Map.Entry&lt;String, AMReceiver&gt; entry = iter.next();                                                          </span>
<span class="2302348753204097068" onmouseenter="enter('2302348753204097068');" onmouseout="out('2302348753204097068');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 469 +      Map.Entry&lt;String, IReceiver&gt; entry = iter.next();                                                           </span>
<span class="8548346453260565318" onmouseenter="enter('8548346453260565318');" onmouseout="out('8548346453260565318');" style=""> 470        String key = entry.getKey();                                                                                </span>
<span class="8210297866052462072" onmouseenter="enter('8210297866052462072');" onmouseout="out('8210297866052462072');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 471 -      if (key.equals(clsName) || key.contains(clsName)) {                                                         </span>
<span class="7247517720745939720" onmouseenter="enter('7247517720745939720');" onmouseout="out('7247517720745939720');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 472 -        AMReceiver receiver = mTargets.get(key);                                                                  </span>
<span class="-4353695675613531076" onmouseenter="enter('-4353695675613531076');" onmouseout="out('-4353695675613531076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 473 -        if (receiver.obj != null) {                                                                               </span>
<span class="-2779427784120555894" onmouseenter="enter('-2779427784120555894');" onmouseout="out('-2779427784120555894');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 474 -          if (receiver.obj instanceof Application || receiver.obj instanceof Service) break;                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 475 -        }                                                                                                         </span>
<span class="-675149513584177898" onmouseenter="enter('-675149513584177898');" onmouseout="out('-675149513584177898');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 476 +      if (key.contains(clsName)) {                                                                                </span>
<span class="-1820051128802970420" onmouseenter="enter('-1820051128802970420');" onmouseout="out('-1820051128802970420');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 477 +        IReceiver receiver = mReceivers.get(key);                                                                 </span>
<span class="3799717368039523564" onmouseenter="enter('3799717368039523564');" onmouseout="out('3799717368039523564');" style=""> 478          receiver.removeSchedulerListener();                                                                       </span>
<span class="-4163790072512613169" onmouseenter="enter('-4163790072512613169');" onmouseout="out('-4163790072512613169');" style=""> 479          receiver.destroy();                                                                                       </span>
<span class="6531218048836267679" onmouseenter="enter('6531218048836267679');" onmouseout="out('6531218048836267679');" style=""> 480          iter.remove();                                                                                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 481          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 482        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484    }                                                                                                               </span>
<span  style=""> 485                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 486    /**                                                                                                             </span>
<span class="2666843210936296092" onmouseenter="enter('2666843210936296092');" onmouseout="out('2666843210936296092');" style=""> 487     * Activity生命周期                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 488     */                                                                                                             </span>
<span class="-3320401662844590351" onmouseenter="enter('-3320401662844590351');" onmouseout="out('-3320401662844590351');" style=""> 489    private class LifeCallback implements Application.ActivityLifecycleCallbacks {                                  </span>
<span  style=""> 490                                                                                                                    </span>
<span class="-8824223892243959270" onmouseenter="enter('-8824223892243959270');" onmouseout="out('-8824223892243959270');" style=""> 491      @Override public void onActivityCreated(Activity activity, Bundle savedInstanceState) {                       </span>
<span  style=""> 492                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493      }                                                                                                             </span>
<span  style=""> 494                                                                                                                    </span>
<span class="-9131595778314657590" onmouseenter="enter('-9131595778314657590');" onmouseout="out('-9131595778314657590');" style=""> 495      @Override public void onActivityStarted(Activity activity) {                                                  </span>
<span  style=""> 496                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497      }                                                                                                             </span>
<span  style=""> 498                                                                                                                    </span>
<span class="8287290169976924777" onmouseenter="enter('8287290169976924777');" onmouseout="out('8287290169976924777');" style=""> 499      @Override public void onActivityResumed(Activity activity) {                                                  </span>
<span  style=""> 500                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 501      }                                                                                                             </span>
<span  style=""> 502                                                                                                                    </span>
<span class="-5909333638620493534" onmouseenter="enter('-5909333638620493534');" onmouseout="out('-5909333638620493534');" style=""> 503      @Override public void onActivityPaused(Activity activity) {                                                   </span>
<span  style=""> 504                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505      }                                                                                                             </span>
<span  style=""> 506                                                                                                                    </span>
<span class="-3416849681783923013" onmouseenter="enter('-3416849681783923013');" onmouseout="out('-3416849681783923013');" style=""> 507      @Override public void onActivityStopped(Activity activity) {                                                  </span>
<span  style=""> 508                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509      }                                                                                                             </span>
<span  style=""> 510                                                                                                                    </span>
<span class="-8461483233278460316" onmouseenter="enter('-8461483233278460316');" onmouseout="out('-8461483233278460316');" style=""> 511      @Override public void onActivitySaveInstanceState(Activity activity, Bundle outState) {                       </span>
<span  style=""> 512                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513      }                                                                                                             </span>
<span  style=""> 514                                                                                                                    </span>
<span class="6621238217641595034" onmouseenter="enter('6621238217641595034');" onmouseout="out('6621238217641595034');" style=""> 515      @Override public void onActivityDestroyed(Activity activity) {                                                </span>
<span class="-7041462001367738884" onmouseenter="enter('-7041462001367738884');" onmouseout="out('-7041462001367738884');" style=""> 516        destroySchedulerListener(activity);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 519  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            